/* This file was generated by the Hex-Rays decompiler version 8.3.0.230608.
   Copyright (c) 2007-2021 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

void __thiscall sub_401000(void *this);
_DWORD *__thiscall sub_401010(_DWORD *this, char a2);
void __thiscall sub_401040(float *this, int a2, int a3);
void *__thiscall sub_401060(_DWORD *this);
void *__thiscall sub_4010D0(_DWORD *this);
void __thiscall sub_4010F0(int this);
int __stdcall sub_401240(char *Str, int a2); // idb
int __stdcall sub_4012D0(char *Str); // idb
int __thiscall sub_402010(_DWORD *this);
int __thiscall sub_402020(_DWORD *this, int a2, _BYTE *a3);
int __thiscall sub_402170(_DWORD *this, int a2, int *a3, int a4);
int __stdcall sub_4022E0(char *a1);
int __stdcall sub_402320(int a1);
int sub_402350();
int __stdcall sub_4023E0(_BYTE *a1);
int __stdcall sub_402430(int a1, _WORD *a2);
void *__stdcall sub_402640(int a1);
void __thiscall sub_402750(int this);
BOOL __stdcall sub_402860(int a1, int a2, char *a3, char *a4, int a5);
int sub_402A10();
void *__stdcall sub_402A90(__int16 a1);
int __stdcall sub_402B40(int a1);
void __thiscall sub_402BB0(_DWORD *this);
// int __userpurge sub_402BC0@<eax>(_DWORD *a1@<ecx>, int a2@<ebp>, int a3);
int __thiscall sub_402EE0(_DWORD *this, _DWORD *a2);
_DWORD *__cdecl sub_402F40(_DWORD *a1);
_DWORD *__thiscall sub_402F60(_DWORD *this, int a2);
int __cdecl sub_402FC0(int a1);
_DWORD *__cdecl sub_402FE0(_DWORD *a1);
int __thiscall sub_403000(_DWORD *this, _DWORD *a2);
void __thiscall sub_403060(_DWORD *this);
void *__cdecl sub_4030E0(char *a1);
std::exception *__thiscall sub_403140(std::exception *this, struct std::exception *a2);
void __thiscall sub_403160(int this);
int __stdcall sub_403170(int a1, int a2, int a3, int a4);
void *__cdecl sub_4033F0(void *Destination, rsize_t DestinationSize, void *Source, rsize_t SourceSize);
int __stdcall sub_403420(__int16 *a1);
void __thiscall sub_403460(_DWORD *this, char a2, rsize_t SourceSize);
_DWORD *__thiscall sub_4034B0(_DWORD *this, unsigned int a2, unsigned int a3);
_BYTE *__thiscall sub_403540(_DWORD *this, unsigned int Destination, rsize_t SourceSize);
_DWORD *sub_403680();
void __stdcall sub_4036C0(void **a1);
void *__stdcall sub_403700(int a1, _DWORD *a2);
int __thiscall sub_403910(int this);
int __thiscall sub_403950(int this, _DWORD *a2, unsigned int a3, unsigned int a4);
_DWORD *__fastcall sub_403A30(_DWORD *a1, int a2, char *Source, rsize_t SourceSize);
int __thiscall sub_403B10(int this, int a2);
_DWORD *__thiscall sub_403B80(_DWORD *this, int a2);
void __thiscall sub_403BA0(void **this);
void **__thiscall sub_403BE0(void **this, char a2);
int __thiscall sub_403C30(int this, char *Source);
int __thiscall sub_403C70(int this, struct std::exception *a2);
_DWORD *__fastcall sub_403CF0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
_DWORD *__thiscall sub_404040(_DWORD *this, struct std::exception *a2);
_DWORD *__thiscall sub_404060(_DWORD *this, int a2, int a3);
int *__thiscall sub_4040F0(int *this, int *a2, int a3, int a4, int a5, int a6);
void __thiscall sub_4041D0(int this);
int __thiscall sub_404260(int this);
void __thiscall sub_4043B0(_DWORD *this);
_DWORD *__thiscall sub_404470(_DWORD *this);
void __thiscall sub_4044E0(_DWORD *this);
int __thiscall sub_404540(_DWORD *this);
void __thiscall sub_404840(int *this);
int __thiscall sub_4049D0(_DWORD *this, int a2, char *a3, char *a4, _BYTE *a5, char *a6);
int __thiscall sub_404EE0(int this);
unsigned __int16 *__thiscall sub_405CE0(_DWORD *this, int a2);
int __thiscall sub_406150(int this);
int __thiscall sub_406950(int *this, int a2, int a3, int a4);
int __thiscall sub_406C30(int *this, int a2);
_BYTE *__cdecl sub_406C80(_BYTE *a1);
char __cdecl sub_406CC0(_BYTE *a1, char *a2);
char __cdecl sub_406D20(char *lpFileName, int a2, int a3, char *a4);
char __cdecl sub_406FB0(char *a1, char *a2, unsigned int a3, char *a4);
unsigned int __cdecl sub_407120(LPCCH lpMultiByteStr, void *a2, int cbMultiByte);
BOOL __cdecl sub_407200(LPCSTR lpFileName);
int __cdecl sub_4072A0(LPCSTR lpString2, LPSTR lpCommandLine, int a3); // idb
int __cdecl sub_407430(int a1, LPCSTR lpSubKey, const char *a3);
int __cdecl sub_407630(int a1, char *String1, const char *a3, int a4);
_BYTE *__cdecl sub_4076B0(_BYTE *a1);
char __cdecl sub_4076E0(int a1, char *lpFileName);
void *__thiscall sub_407700(int this);
void *__thiscall sub_407750(int *this);
int __thiscall sub_407760(_DWORD *this);
void *__thiscall sub_407780(int this, int a2, int a3);
int __thiscall sub_407810(_DWORD *this, int a2);
// int __userpurge sub_407820@<eax>(int a1@<edi>, int a2, char a3, char a4, char a5);
int __thiscall sub_407830(_DWORD *this);
void *__thiscall sub_407860(int this, int a2, int a3, int a4);
// int __usercall sub_407900@<eax>(int a1@<ecx>, int a2@<edi>, int a3@<esi>, int a4);
int __thiscall sub_407B20(int this, int a2, int a3, int a4, int a5);
// int __userpurge sub_408090@<eax>(int a1@<ebp>, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
int __stdcall sub_408310(int a1, int a2, int a3, int a4, int a5, char a6);
int __thiscall sub_408420(int this, int a2);
int __thiscall sub_408610(int this);
void __thiscall sub_4088F0(float *this, int a2, int a3);
void *__thiscall sub_408910(_DWORD *this);
int __thiscall sub_408990(_DWORD *this);
void *__thiscall sub_408A20(_DWORD *this);
void sub_408A50();
int __stdcall sub_408CB0(const char *a1);
void __thiscall sub_408EC0(void *this);
void __stdcall sub_409320(int a1);
BOOL __thiscall sub_4094D0(_DWORD *this);
char __stdcall sub_4094F0(char *String2, int a2);
bool __thiscall sub_409580(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_4095B0(_DWORD *this, int a2);
_DWORD *__thiscall sub_409600(_DWORD *this, int a2);
int __cdecl sub_409650(int a1);
_DWORD *__cdecl sub_409670(_DWORD *a1);
int __thiscall sub_409690(_DWORD *this, _DWORD *a2);
int __cdecl sub_4096F0(int a1);
void __thiscall sub_409710(_DWORD *this);
void __thiscall sub_409780(_DWORD *this);
void __cdecl __noreturn StartAddress();
void sub_409980();
_DWORD *sub_4099F0();
_DWORD *sub_409A30();
void __stdcall sub_409A70(void **a1);
void __stdcall sub_409AB0(void **a1);
int __thiscall sub_409AF0(int this);
void __thiscall sub_409B60(int this);
void sub_409C10();
// int __userpurge sub_409E90@<eax>(char *a1@<ecx>, int a2@<ebx>, int a3, int a4);
_DWORD *__fastcall sub_40ABD0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
_DWORD *__fastcall sub_40AEA0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
_DWORD *__thiscall sub_40B170(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_40B200(_DWORD *this, int a2, int a3);
int *__thiscall sub_40B290(int *this, int *a2, int a3, int a4, int a5, int a6);
int *__thiscall sub_40B370(int *this, int *a2, int a3, int a4, int a5, int a6);
void __thiscall sub_40B450(int this);
void __thiscall sub_40B4D0(int this);
_DWORD *__thiscall sub_40B570(_DWORD *this);
void __thiscall sub_40B650(_DWORD *this);
void __thiscall sub_40B6F0(int this, int *a2);
void __thiscall sub_40C190(int this);
int __thiscall sub_40C240(char *Buf);
int __stdcall sub_40C310(int *a1);
int __thiscall sub_40C370(_BYTE *this);
int __thiscall sub_40C3E0(_BYTE *this, int a2);
int __thiscall sub_40C480(int this, int a2, int a3);
int __stdcall sub_40C540(int a1, void *a2); // idb
int __stdcall sub_40C610(int a1);
int __stdcall sub_40C6A0(int a1, void *a2); // idb
int __thiscall sub_40C770(int this, int a2);
int __thiscall sub_40C830(_DWORD *this);
const CHAR *__thiscall sub_40C9D0(_DWORD *this, int a2, int a3);
const CHAR *__thiscall sub_40CA20(_DWORD *this, int a2);
const CHAR *__thiscall sub_40CA50(_DWORD *this, int a2);
const CHAR *__thiscall sub_40CA80(_DWORD *this, int a2);
int __thiscall sub_40CAB0(int *this, char *a2);
int __thiscall sub_40CBC0(int *this, char *a2);
int __thiscall sub_40CCD0(_DWORD *this, int a2, int a3);
void *__thiscall sub_40D290(int this);
void __thiscall sub_40D2C0(int *Buf, unsigned __int8 *String, unsigned int Val, int a4);
int __thiscall sub_40DB50(int *this);
_DWORD *__thiscall sub_40DBA0(const char *this, _DWORD *a2, _DWORD *a3, char *Str);
int __thiscall sub_40DC20(const char *this, unsigned __int8 *String);
int __thiscall sub_40DDC0(char *this, unsigned __int8 *String);
int __thiscall sub_40DF60(const char *this, unsigned __int8 *String, int a3);
int __thiscall sub_40E100(const char *this, char *String2);
BOOL __thiscall sub_40E1B0(_DWORD *this);
int __thiscall sub_40E1E0(_DWORD *this, int a2);
void *__thiscall sub_40E250(_DWORD *this);
void *__thiscall sub_40E290(_DWORD *this);
int __thiscall sub_40E2C0(const char *this, char *String2, int a3);
int __thiscall sub_40E350(int *this, unsigned __int8 *String);
void *__thiscall sub_40E430(_DWORD *this);
int __thiscall sub_40E460(const char *this, char *String, int a3);
int __thiscall sub_40E4F0(int *this, unsigned __int8 *String);
char __thiscall sub_40E5E0(_DWORD *this, int a2, int a3, char *String, int a5);
_DWORD *__thiscall sub_40E720(_DWORD *this, _DWORD *a2, _DWORD *a3, char *Str, int a5);
void *__thiscall sub_40E7B0(int this);
int __stdcall sub_40E7E0(int a1, int a2, int a3);
int __thiscall sub_40E840(void *Buf); // idb
void __thiscall sub_40E850(char *Buf, int a2);
void __thiscall sub_40EA40(char *this, int a2);
int __thiscall sub_40EAF0(int *this, char *a2);
int __thiscall sub_40EB10(int *this, char *a2);
void __thiscall sub_40EB30(int *Buf, unsigned __int8 *a2, int a3, int a4);
void __thiscall sub_40EB60(int *Buf, unsigned __int8 *a2, int a3, int a4);
void __thiscall sub_40EB90(int *Buf, unsigned __int8 *a2, int a3, int a4, int a5);
int __thiscall sub_40EBC0(char *this);
int __thiscall sub_40ECD0(_DWORD *this);
_DWORD *__thiscall sub_40EE30(_DWORD *this);
BOOL __thiscall sub_40EEE0(int *this);
void *__thiscall sub_40EF10(int *this);
void __thiscall sub_40EF40(int this, int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_40EF50(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_40EF90(_DWORD *this, int a2);
void __thiscall sub_40EFA0(_DWORD *this);
int __thiscall sub_40EFC0(_DWORD *this, int a2);
void __thiscall sub_40EFF0(_DWORD *this);
void __cdecl __noreturn sub_40F040(int pExceptionObject); // idb
int __cdecl sub_40F070(HWND hWnd); // idb
BOOL __stdcall fnEnum(HMONITOR a1, HDC a2, LPRECT a3);
int __cdecl sub_40F160(HWND hWnd); // idb
BOOL __cdecl sub_40F300(HWND hWnd);
INT_PTR __stdcall sub_40F3F0(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4); // idb
BOOL __cdecl sub_40F4D0(HWND hWnd);
int __cdecl sub_40F510(LPCSTR lpText); // idb
BOOL sub_40F540();
BOOL sub_40F590();
INT_PTR __stdcall sub_40F6C0(HWND hDlg, UINT a2, INT_PTR nResult, LPARAM a4);
int __cdecl sub_40F7F0(HWND hWnd); // idb
BOOL __cdecl sub_40F930(HWND hWnd);
INT_PTR __stdcall sub_40FAB0(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4); // idb
INT_PTR __stdcall DialogFunc(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4); // idb
int sub_40FEF0();
BOOL __cdecl sub_40FF40(_BYTE *RootPathName);
BOOL __cdecl sub_40FF70(CHAR *a1, char *String1);
CHAR __cdecl sub_40FFE0(char *String1);
BOOL __cdecl sub_410090(HWND hWnd);
void __thiscall sub_410180(_DWORD **this);
OLECHAR **__thiscall sub_4101A0(OLECHAR **this, LPCCH lpMultiByteStr);
void sub_410250();
int __cdecl sub_4102E0(HINSTANCE hInstance); // idb
int sub_410600();
int sub_4106C0();
LPVOID __cdecl sub_410850(const char *a1, LPCCH a2, CHAR *a3);
LPVOID __cdecl sub_410AD0(const char *a1, LPCCH lpMultiByteStr, LONG *a3);
signed int sub_410D40();
FILE *sub_411610();
LRESULT __stdcall sub_411790(HWND hWnd, UINT Msg, UINT uPosition, unsigned int lParam);
BOOL __cdecl sub_412050(HINSTANCE hInstance);
int sub_4120C0();
void sub_412280();
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
int __thiscall sub_4129F0(float *this);
void *__thiscall sub_412AE0(void *this);
int __thiscall sub_412AF0(_DWORD *this, int a2);
int __thiscall sub_412B00(_DWORD *this, int a2);
int __thiscall sub_412B10(_DWORD *this, int a2);
int __thiscall sub_412B20(_DWORD *this, int a2);
int __thiscall sub_412B30(_DWORD *this, int a2);
int __thiscall sub_412B40(_DWORD *this, int a2);
int __thiscall sub_412B50(_DWORD *this, int a2);
int __thiscall sub_412B60(_DWORD *this, int a2);
int __thiscall sub_412B80(_DWORD *this, int a2);
int __thiscall sub_412B90(_DWORD *this);
int __thiscall sub_412BA0(_DWORD *this, _DWORD *a2, _DWORD *a3);
int __thiscall sub_412BC0(_DWORD *this, int a2, int a3);
void __stdcall sub_412BE0(int *a1, _DWORD *a2);
int __thiscall sub_412CE0(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_412D40(_DWORD *this, int a2, int a3);
char *__thiscall sub_412D70(char *this, char *a2, int a3);
void __thiscall sub_412DB0(float *this, int a2, int a3);
int __thiscall sub_412DD0(float *this, _DWORD *a2, int *a3);
int __thiscall sub_412E00(int this, __int64 a2, __int64 a3, int a4, int a5);
int __thiscall sub_412E90(_DWORD *this, int a2);
void __thiscall sub_412EA0(_DWORD *this);
int __thiscall sub_412EE0(_DWORD *this);
int __thiscall sub_412EF0(_DWORD *this);
int __thiscall sub_412F00(_DWORD *this, int a2);
int __thiscall sub_412F10(_DWORD *this, int a2);
int __thiscall sub_412F20(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_412F50(_DWORD *this, int a2);
char *__thiscall sub_412F60(char *this, int a2, char *a3);
_DWORD *__thiscall sub_412FA0(int *this, _DWORD *a2, int *a3);
int __cdecl sub_413030(int a1, int a2, int a3, int a4, _DWORD *a5);
void __thiscall sub_413070(int this, int *a2, int *a3);
BOOL __thiscall sub_413190(int this, int a2, int a3, int a4);
int *__thiscall sub_4132D0(int *this, int *a2, _DWORD *a3);
void __fastcall sub_413360(_DWORD *a1);
int __thiscall sub_413B40(int this);
void __thiscall sub_413FB0(int this, int a2, _BYTE *a3);
void __thiscall sub_414060(int this);
void __thiscall sub_414360(int *this, int a2, int a3, int a4);
void __stdcall sub_414480(int *a1, int a2);
void __thiscall sub_4146B0(int *this, int a2);
void __thiscall sub_4146E0(int *this, int a2);
void __thiscall sub_414710(int *this, int a2);
int __thiscall sub_414740(_DWORD *this);
void __thiscall sub_414780(int this);
void __thiscall sub_4148B0(int this, int a2);
void __thiscall sub_414BD0(int this, char *a2, char *Str, int a4);
_DWORD *__thiscall sub_414D30(_DWORD *this, int a2);
int __thiscall sub_414D50(int this, int a2);
void __thiscall sub_416320(int this);
void __thiscall sub_417970(int this, int a2);
_DWORD *__thiscall sub_417B80(_DWORD *this, struct std::exception *a2);
char *__thiscall sub_417BA0(int *this, int a2, int a3, int a4, int a5, char *a6);
void __thiscall sub_417C60(char *this);
int __thiscall sub_417D20(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __thiscall sub_417F20(_DWORD *this, int a2, int a3, int a4, int a5, char *Str);
int __thiscall sub_4180A0(_DWORD *this, int a2, int a3, int a4, char *Str);
int __thiscall sub_418210(_DWORD *this, int a2, int a3, int a4, wchar_t *a5, char *a6);
int __thiscall sub_418390(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11);
int __thiscall sub_4185F0(int *this, int a2, int a3, int a4, char *Str, int a6, int a7, int a8);
int __thiscall sub_4187A0(int *this, int a2, int a3, int a4, wchar_t *a5, char *a6, int a7, int a8, int a9);
int __thiscall sub_418960(int *this, int a2, int a3, int a4);
int __thiscall sub_418C50(int *this, int a2);
void __thiscall sub_418F20(int *this, int a2, int a3);
int *__thiscall sub_4192F0(int *this, int *a2);
int __thiscall sub_419360(int *this, int a2, int a3, int a4);
void __thiscall sub_419640(int *this, __int16 a2, int a3, int a4, int a5);
int __thiscall sub_419860(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
int __thiscall sub_4198A0(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __thiscall sub_4198F0(int *this, int a2, int a3, int a4, char *a5, int a6, int a7);
int __thiscall sub_419920(int *this, int a2, int a3, int a4, wchar_t *a5, char *a6, int a7, int a8);
void __thiscall sub_419950(int *this);
_DWORD *__thiscall sub_419F30(_DWORD *this);
int __thiscall sub_41A6A0(int *this, int a2, int a3, int a4);
void *__thiscall sub_41ABE0(int this);
HWND __stdcall sub_41AD50(HWND hWndParent, int X, int Y, int a4, int a5, int a6);
int __thiscall sub_41ADD0(_DWORD *this, int a2);
BOOL __thiscall sub_41ADF0(int this);
BOOL sub_41AFF0();
BOOL __thiscall sub_41B520(int this);
int __thiscall sub_41B8F0(int this);
int __thiscall sub_41B9B0(int this);
int __thiscall sub_41BCC0(HWND *this);
int *__thiscall sub_41BCE0(int *this);
BOOL sub_41BD70();
// int __usercall sub_41BE10@<eax>(int a1@<eax>);
void sub_41BFD0();
int sub_41BFE0();
void *sub_41BFF0();
int sub_41C000();
int sub_41C010();
// void *__usercall sub_41C020@<eax>(_DWORD *a1@<ecx>, int a2@<edi>);
void sub_41C310();
int __thiscall sub_41C490(_DWORD *this);
void __thiscall sub_41C550(_DWORD *this);
int __thiscall sub_41C5E0(_DWORD *this, int a2, int a3, int a4, int a5);
void __thiscall sub_41C620(int *this, int a2, int a3, int a4, int a5);
void __thiscall sub_41C8C0(int *this, int a2, int a3);
void __thiscall sub_41CAD0(int *this, int a2);
void __thiscall sub_41CC60(int *this, int a2, int a3);
void __thiscall sub_41CE60(int *this, int a2, int a3);
void __thiscall sub_41D0F0(float **this, int a2);
int __thiscall sub_41D370(_DWORD *this, int a2);
BOOL __thiscall sub_41D380(int *this);
void __thiscall sub_41DC50(int *this, int a2, int a3, int a4, int a5, int a6);
void __thiscall sub_41DE40(void *this, float a2, float a3, int a4, int a5, int a6);
void *sub_41DE80();
void *__thiscall sub_41DEA0(int this, int a2);
void __thiscall sub_41DF90(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __stdcall sub_41E830(int a1);
char __stdcall sub_41E940(char *Str, int a2);
BOOL __stdcall sub_41EF20(char *Str, char *a2);
void *__thiscall sub_41F340(int this, int a2);
void __thiscall sub_41F440(int this);
void __thiscall sub_41F490(int *this, int a2, int a3, int a4, int a5);
int __thiscall sub_41F540(char *this, int a2, int a3, int a4, int a5, int a6, int a7);
void __thiscall sub_41F870(float ***this, float a2, int a3, int a4, int a5, float a6);
int __thiscall sub_41FC80(_DWORD *this, int a2);
int __thiscall sub_41FC90(const char **this, const char *a2);
int __thiscall sub_41FCD0(const char **this, int a2);
int __thiscall sub_41FD10(int this, const char *a2, int a3);
char *__thiscall sub_41FD70(_DWORD *this, char *Str);
int __thiscall sub_4218E0(_DWORD *this, int a2);
void __thiscall sub_421970(int this);
void __thiscall sub_421A00(int this, int a2);
void __thiscall sub_421B30(int this, float a2);
int __thiscall sub_421E20(_DWORD *this);
BOOL __thiscall sub_421E40(_DWORD *this);
int __thiscall sub_421E80(int **this);
void __thiscall sub_421EE0(int **this, int a2);
void *__thiscall sub_422470(_DWORD *this, void *a2);
void *__thiscall sub_4224C0(_DWORD *this, void *Val);
void *__thiscall sub_422510(_DWORD *this);
int __thiscall sub_4226B0(_DWORD *this, int a2);
int __thiscall sub_4226C0(_DWORD *this, int a2);
int __thiscall sub_4226D0(_DWORD *this, int a2);
int __stdcall sub_4226E0(int a1);
int sub_4227D0();
void __thiscall sub_4227E0(int *this);
void __thiscall sub_422810(_DWORD ***this);
// void __userpurge sub_422840(int a1@<eax>, int a2@<ecx>, int a3);
void *__thiscall sub_422D00(int this);
BOOL __thiscall sub_422DE0(_DWORD *this);
void *__thiscall sub_422E80(char **this, const char *a2, int a3, int a4);
char __thiscall sub_422F70(char **this, const char *a2, int a3, int a4);
void __thiscall sub_423090(char **this, char *Str, int a3, int a4, int a5);
void __thiscall sub_423200(int this);
BOOL __thiscall sub_4232B0(int this, int a2);
void __thiscall sub_423AA0(int this, int a2, float a3, int a4, float a5, float a6, int a7, int a8);
void *__thiscall sub_424330(_DWORD *this, int a2, _DWORD *a3, char *Str2);
void __thiscall sub_425240(int this);
char __thiscall sub_4252C0(char **this);
int __thiscall sub_4253A0(int this);
_DWORD *__thiscall sub_4253E0(_DWORD *this, unsigned int a2, _DWORD *a3);
void __thiscall sub_425440(int this);
int __thiscall sub_425530(int this, int a2);
void __thiscall sub_4257D0(int this, int a2, int a3);
void *__thiscall sub_425D20(char **this, int a2);
int __thiscall sub_425DB0(int this);
void __thiscall sub_425F50(int this, int a2);
void *__thiscall sub_425FF0(int this, int a2);
void __thiscall sub_426070(int this, int a2);
int __thiscall sub_4260E0(int this, int a2, int a3);
void __thiscall sub_426260(_DWORD *this, int a2);
_DWORD *__thiscall sub_426390(_DWORD *this, _DWORD *a2, unsigned int a3, rsize_t SourceSize);
void __thiscall sub_426490(void *this);
_DWORD *__thiscall sub_427100(_DWORD *this, _DWORD *a2, _DWORD *a3, int a4, _DWORD *a5, unsigned int a6);
_DWORD *__thiscall sub_4271E0(_DWORD *this, _BYTE *Source, rsize_t SourceSize);
_DWORD *__thiscall sub_4272F0(unsigned int *this);
void sub_427390();
int __thiscall sub_427FB0(int this);
int __thiscall sub_428640(int this, float a2, int a3);
void __thiscall sub_4320B0(int this, int a2);
void __thiscall sub_432A30(int this);
void *__thiscall sub_432C40(int *this);
void __thiscall sub_432D10(void *this);
int __thiscall sub_432D20(int this, int a2, int a3);
void *__thiscall sub_432E30(int this);
void __thiscall sub_432F20(_DWORD *this, int a2);
void __thiscall sub_433070(_DWORD *this, int a2, int a3, int a4);
void __thiscall sub_433120(int this, unsigned int a2);
void __thiscall sub_433440(_DWORD *this, int a2);
int __thiscall sub_433810(int this);
int __thiscall sub_433C30(_DWORD *this);
void __thiscall sub_433FE0(int this);
void *__thiscall sub_435950(_DWORD *this);
void __thiscall sub_4359B0(_DWORD *this);
int __thiscall sub_4359E0(_DWORD *this, int a2);
char *__thiscall sub_4359F0(char *this, char *a2);
int __thiscall sub_435A10(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
void __thiscall sub_435AB0(_DWORD *this, int a2, int a3, int a4, int a5, char *a6, int a7);
int __thiscall sub_435B50(_DWORD *this, int a2, int a3);
void __thiscall sub_435B70(int **this, int a2);
void __thiscall sub_435BA0(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __thiscall sub_435C10(_DWORD *this);
void __thiscall sub_435C20(_DWORD *this, int a2, int a3, int a4, char *a5);
void __thiscall sub_435C50(_DWORD *this);
void __thiscall sub_435CE0(_DWORD *this);
_DWORD *__stdcall sub_435D70(int a1, int a2, int a3, _DWORD *a4, char a5);
_DWORD *__stdcall sub_435DD0(int a1, int a2, int a3, _DWORD *a4, char a5);
void __thiscall sub_435E10(int this);
void *__thiscall sub_436250(int this);
void __thiscall sub_436280(int this);
_DWORD *__fastcall sub_436BE0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, _DWORD *a6);
_DWORD *__fastcall sub_436DE0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, _DWORD *a6);
int __thiscall sub_436FE0(int this);
int __thiscall sub_437570(int *this, int a2, int *a3);
int __thiscall sub_437660(int *this, int a2, int *a3);
int __thiscall sub_437750(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
void __thiscall sub_437810(char *this);
void *__thiscall sub_437940(int *this, int a2);
int __thiscall sub_4379B0(int *this, int a2, int a3, int a4, int a5);
int __thiscall sub_437A00(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __thiscall sub_437AE0(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __thiscall sub_437B80(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
void __thiscall sub_437C30(int *this, int a2);
void *__thiscall sub_438040(_DWORD *this);
void __thiscall sub_438140(_DWORD *this);
int __thiscall sub_4381C0(_DWORD *this);
int __thiscall sub_4381E0(void *this, int a2);
int __thiscall sub_4381F0(_DWORD *this, int a2);
int __thiscall sub_438200(int *this, int a2, int a3);
int __thiscall sub_438300(int this, int a2, int a3, int a4);
int __stdcall sub_438400(unsigned __int8 *a1);
int __thiscall sub_438420(const char *this, const char *a2);
int __thiscall sub_4384F0(const char *this, int a2);
int __thiscall sub_4385A0(const char *this, int a2, int a3, int a4);
int __stdcall sub_438650(int a1);
void *__thiscall sub_4386F0(char *this);
int __thiscall sub_438780(_DWORD *this);
unsigned int __thiscall sub_438790(unsigned __int8 *this, int a2, void *a3);
int __thiscall sub_438A00(int *this, int a2, int a3);
char sub_438A70(int a1, LPCSTR a2, const CHAR *arglist, ...);
int *__thiscall sub_438AE0(_DWORD *this);
int __thiscall sub_438B50(_DWORD *this);
int __thiscall sub_438B60(_DWORD *this);
void *__thiscall sub_438BC0(_DWORD *this);
int __thiscall sub_438BF0(_DWORD *this, _DWORD *a2);
void __thiscall sub_438C60(int this, int a2, int a3);
int __thiscall sub_438CD0(_DWORD *this, _DWORD *a2, _DWORD *a3);
void __thiscall sub_438D20(int this);
int __thiscall sub_439020(int this, DWORD dwNewLong);
int __stdcall sub_439090(int a1, _DWORD *a2);
// int __userpurge sub_4390D0@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>, int a4@<esi>, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13);
int __thiscall sub_439240(int *this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_439350(int this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_439410(int this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_439520(int this, int a2);
int __thiscall sub_439660(LPCSTR *this, _DWORD *a2);
// int __usercall sub_439770@<eax>(_DWORD *a1@<ecx>, int a2@<ebp>);
int __thiscall sub_439960(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_4399E0(int this);
HRESULT __thiscall sub_439AE0(void *this);
HFONT __thiscall sub_439BE0(_DWORD *this, const char *a2);
int __thiscall sub_439DD0(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall sub_439E00(int this);
// int __usercall sub_439EC0@<eax>(_DWORD *@<ecx>, int@<ebp>);
_DWORD __stdcall sub_439ED0(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __thiscall sub_439F00(int this, int *a2, int *a3);
unsigned int __thiscall sub_43A070(int this, int a2);
// int __usercall sub_43A250@<eax>(int a1@<ecx>, int a2@<ebp>);
// bool __usercall sub_43A350@<al>(int a1@<ecx>, int a2@<ebp>);
// int __usercall sub_43A3D0@<eax>(int a1@<ecx>, int a2@<ebp>);
// int __usercall sub_43A470@<eax>(int a1@<ecx>, int a2@<ebp>);
// int __usercall sub_43A4C0@<eax>(int a1@<ecx>, int a2@<ebp>);
// int __usercall sub_43A520@<eax>(int a1@<ecx>, int a2@<ebp>);
int __thiscall sub_43A690(int this, int a2, LONG dwNewLong);
// int __usercall sub_43A910@<eax>(int a1@<ecx>, int a2@<ebp>);
int __thiscall sub_43AA70(int this, int a2, int a3);
int __thiscall sub_43ABB0(_DWORD *this);
DWORD __thiscall sub_43ADC0(DWORD *this, int a2, int a3);
int __thiscall sub_43AE20(_DWORD *this, int a2, int a3, int a4);
int __stdcall sub_43AE50(int a1, int a2);
int __thiscall sub_43AE70(float *this, int a2, int a3, int a4);
int __stdcall sub_43AF20(int a1, int a2);
BOOL __thiscall sub_43AF70(_DWORD *this, int a2);
BOOL __thiscall sub_43AFF0(_DWORD *this, int a2);
int __stdcall sub_43B030(int a1, int a2, int a3);
int __thiscall sub_43B0F0(_DWORD *this, int a2);
int __thiscall sub_43B100(DWORD *this, int a2);
int __stdcall sub_43B140(int a1);
unsigned int __thiscall sub_43B1C0(_DWORD *this, int a2);
void __cdecl sub_43B220(int a1);
int __cdecl sub_43B270(char *FileName, void **a2, int a3, size_t ElementCount);
MMRESULT sub_43B400();
int __thiscall sub_43B4F0(_DWORD *this, int a2);
int __thiscall sub_43B5A0(_DWORD *this, int a2);
_DWORD *__thiscall sub_43B600(_DWORD *this, int a2, int a3);
int __thiscall sub_43B6F0(_DWORD *this, int a2, int a3);
int __stdcall sub_43B7A0(int a1, int a2);
int __thiscall sub_43B800(float *this, int a2, int a3, int a4);
int __stdcall sub_43B860(int a1, int a2);
int __thiscall sub_43B8C0(_DWORD *this, int a2);
int __thiscall sub_43B920(_DWORD *this, int a2);
int __thiscall sub_43B970(_DWORD *this);
BOOL __thiscall sub_43B9A0(_DWORD *this);
int __thiscall sub_43B9B0(_DWORD *this, int a2);
// int __userpurge sub_43BA50@<eax>(_DWORD *a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4, int a5, int a6, int a7);
// int __usercall sub_43BB30@<eax>(size_t a1@<ebx>, void *a2@<ebp>, size_t a3@<esi>, void *a4, void *a5);
int __cdecl sub_43BDB0(_DWORD *a1);
TIMECALLBACK fptc; // idb
_DWORD __cdecl sub_43BF80(_DWORD); // weak
int __thiscall sub_43BFD0(_DWORD *this, int a2);
// void __userpurge sub_43C040(_DWORD *a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4, int a5, void *a6);
// int __usercall sub_43C220@<eax>(DWORD *a1@<ecx>, int a2@<ebx>);
int __thiscall sub_43C2F0(_DWORD *this, int a2);
int __thiscall sub_43C3F0(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_43C4F0(_DWORD *this, _DWORD *a2, int a3);
int __thiscall sub_43C550(_DWORD *this, int a2, int a3);
int __thiscall sub_43C5C0(_DWORD *this, char *String1, signed int fuClose);
void *__thiscall sub_43CE50(_DWORD *this, void *Val);
void *__thiscall sub_43CEC0(DWORD *this, void *a2);
void *__thiscall sub_43CF50(DWORD *this, void *a2);
int __thiscall sub_43CFE0(_DWORD *this, char *String1, int a3, int *a4);
void __thiscall sub_43D070(DWORD *this, unsigned __int8 *String, int Val, DWORD a4);
void __thiscall sub_43D240(int this);
int __thiscall sub_43D430(_DWORD *this);
int __thiscall sub_43D440(_DWORD *this, int a2);
int __thiscall sub_43D450(_DWORD *this, int a2);
int __thiscall sub_43D470(_DWORD *this, int a2);
float *__thiscall sub_43D480(float *this, float *a2, float *a3);
int __thiscall sub_43D4A0(_DWORD *this);
int __thiscall sub_43D4B0(_DWORD *this, int a2);
int __thiscall sub_43D4C0(_DWORD *this, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4);
unsigned int __thiscall sub_43D4E0(_DWORD *this, int a2, int a3, HDC hdc, struct tagTEXTMETRICA tm, HGDIOBJ h, int a7, int a8, const char *a9, int a10, int a11, int a12, const char *a13);
unsigned int __thiscall sub_43DD00(_DWORD *this, int a2, int a3, HDC hdc, struct tagTEXTMETRICA tm, HGDIOBJ h, int a7, int a8, const unsigned __int16 *a9, int a10, int a11, int a12, _WORD *a13);
// int __userpurge sub_43E550@<eax>(int a1@<ebx>, int a2@<edi>, int a3, int a4, int a5, int a6, int a7);
char *__thiscall sub_43E6C0(int this, char **a2, char *Str);
char *__thiscall sub_43F620(int this, char **a2, wchar_t *Str, char *a4);
_DWORD *__cdecl sub_440550(_DWORD *a1);
int __cdecl sub_440570(int a1);
_DWORD *__thiscall sub_440590(_DWORD *this, int a2);
int __thiscall sub_4405F0(_DWORD *this, _DWORD *a2);
void __thiscall sub_440650(_DWORD *this);
void __thiscall sub_4406D0(_DWORD *this);
void __stdcall sub_440770(void **a1);
_DWORD *__stdcall sub_4407B0(int a1, int a2, int a3, const void *a4, char a5);
_DWORD *sub_440800();
_DWORD *__thiscall sub_440840(int *this, _DWORD *a2, _DWORD *a3);
int __fastcall sub_440880(int a1);
void __thiscall sub_440C60(int this);
void __thiscall sub_440CE0(int this);
void __thiscall sub_440D60(int this, float a2);
void __thiscall sub_440DF0(int this, _DWORD *a2, _DWORD *a3);
void __thiscall sub_440F00(int this, float a2, float a3);
int __thiscall sub_441010(int this);
int *__thiscall sub_441200(int *this, int *a2, _DWORD *a3);
void __thiscall sub_441270(_DWORD *this, int a2);
void __thiscall sub_4413D0(int *this);
void __thiscall sub_4415B0(void *this, int a2, int a3);
_DWORD *__fastcall sub_4415D0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6);
_DWORD *__fastcall sub_4417E0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
int __thiscall sub_441B30(int this);
int __thiscall sub_441DE0(int *this, int a2, int *a3);
_DWORD *__thiscall sub_441EE0(_DWORD *this, int a2, int a3);
int *__thiscall sub_441F70(int *this, int *a2, int a3, int a4, int a5, int a6);
char *__thiscall sub_442050(int this, char *Str);
char *__thiscall sub_442240(int this, wchar_t *Str, char *a3);
char *__thiscall sub_442430(_DWORD *this, char *Str);
char *__thiscall sub_442530(_DWORD *this, wchar_t *a2, char *a3);
void __thiscall sub_442790(int this);
void __thiscall sub_442820(_DWORD *this);
int *__thiscall sub_442880(int *this);
DWORD __thiscall sub_4429F0(DWORD *this, int a2, int a3);
BOOL __thiscall sub_442A50(_DWORD *this);
int __thiscall sub_442AB0(_DWORD *this, int a2);
BOOL __thiscall sub_442AC0(_DWORD *this, int a2);
BOOL __thiscall sub_442AE0(_DWORD *this, int a2);
BOOL __thiscall sub_442B00(_DWORD *this, int a2);
BOOL __thiscall sub_442B20(_DWORD *this, int a2);
int __thiscall sub_442B40(_DWORD *this, int a2);
void *__thiscall sub_442B50(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_442BD0(_DWORD *this, _DWORD *a2);
void *__thiscall sub_442BF0(int this, int a2, int a3, int a4);
void __thiscall sub_442D10(_DWORD *this);
// int __usercall sub_442D20@<eax>(int result@<eax>, int a2@<ecx>);
int __thiscall sub_442D70(_DWORD *this, int a2);
int __thiscall sub_442D80(void *this);
void *__thiscall sub_442D90(_DWORD *this, void *a2);
DWORD __thiscall sub_442E10(_DWORD *this, int a2);
DWORD __thiscall sub_442E40(_DWORD *this, int a2);
int __thiscall sub_442E60(_DWORD *this);
DWORD __thiscall sub_442E90(_DWORD *this, int a2);
BOOL __thiscall sub_442EB0(_DWORD *this);
DWORD __thiscall sub_442EE0(_DWORD *this, int a2);
void *__thiscall sub_442F00(_DWORD *this);
BOOL __thiscall sub_442F80(_DWORD *this);
BOOL __thiscall sub_442FB0(_DWORD *this);
BOOL __thiscall sub_442FD0(_DWORD *this, int a2);
BOOL __thiscall sub_443000(_DWORD *this, int a2);
void *__thiscall sub_443030(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_4430B0(void *this, _DWORD *a2);
void *__thiscall sub_4430E0(_DWORD *this, int vKey, int a3);
void *__thiscall sub_443210(int this);
BOOL __thiscall sub_4434D0(_DWORD *this);
// void __userpurge sub_443500(int a1@<ecx>, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
int __thiscall sub_4440C0(int this, int a2);
int __thiscall sub_444200(_DWORD *this);
int __thiscall sub_444210(int this, int a2);
int __thiscall sub_444240(_DWORD *this, int a2);
int __thiscall sub_444250(_DWORD *this, int a2);
void __thiscall sub_444260(float *this, float a2, float a3);
void __thiscall sub_444280(float *this, float a2);
void __thiscall sub_444290(float *this, float a2);
void __thiscall sub_4442A0(float *this, float a2, float a3);
float *__thiscall sub_4442C0(float *this, float *a2, float *a3);
float *__thiscall sub_4442E0(float *this, float *a2, float *a3);
void __thiscall sub_444300(float *this);
float *__thiscall sub_444320(float *this, float *a2, float *a3);
void __thiscall sub_444340(float *this, int a2, int a3, int a4, int a5);
int __thiscall sub_444360(float *this, _DWORD *a2);
int __thiscall sub_4443A0(_DWORD *this, int a2, int a3, int a4, int a5);
void __thiscall sub_4443C0(float *this, float a2, float a3);
void __thiscall sub_4443E0(float *this);
float *__thiscall sub_444400(float *this, float *a2, float *a3);
float *__thiscall sub_444420(float *this, float *a2, float *a3);
void __thiscall sub_444440(float *this, float a2);
void __thiscall sub_444450(float *this, float a2, float a3);
void __thiscall sub_444470(float *this, float a2);
double __thiscall sub_444480(float *this);
int __thiscall sub_444490(_DWORD *this, int a2);
int __thiscall sub_4444A0(float *this, _DWORD *a2, int *a3);
int __thiscall sub_4444D0(float *this, _DWORD *a2, int *a3);
int __thiscall sub_444500(_DWORD *this, int a2);
int __thiscall sub_444510(int this, int a2);
// int __userpurge sub_444930@<eax>(int a1@<esi>, int a2, int a3);
void *__thiscall sub_444970(int this);
void __thiscall sub_444990(int this, void *a2);
int __thiscall sub_4449B0(_DWORD *this, int a2);
int __thiscall sub_4449E0(_DWORD *this);
int __thiscall sub_4449F0(int this);
int __thiscall sub_444A30(_DWORD *this, int a2);
int __thiscall sub_444A40(_DWORD *this, int a2);
int __thiscall sub_444A50(int this, float a2, float a3, float a4, float a5, int a6);
int __thiscall sub_444A80(char *this);
void __thiscall sub_444B70(float *this, float a2);
int __cdecl sub_444B80(int a1);
_DWORD *__cdecl sub_444BA0(_DWORD *a1);
int __cdecl sub_444BC0(int a1);
_DWORD *__cdecl sub_444BE0(_DWORD *a1);
void __thiscall sub_444C00(_DWORD *this);
void __thiscall sub_444C90(_DWORD *this);
void *__thiscall sub_444D20(int this);
int __thiscall sub_444DE0(int this);
int __thiscall sub_444EB0(_DWORD *this);
void __thiscall sub_444ED0(int this, float a2, float a3);
BOOL __thiscall sub_444F50(_DWORD *this);
_DWORD *__thiscall sub_444FF0(_DWORD *this, int a2);
int __thiscall sub_445040(_DWORD *this, _DWORD *a2);
_DWORD *__thiscall sub_4450A0(_DWORD *this, int a2);
int __thiscall sub_4450F0(_DWORD *this, _DWORD *a2);
void __thiscall sub_445150(_DWORD *this);
void __thiscall sub_4451C0(_DWORD *this);
int __thiscall sub_445230(int this);
int __thiscall sub_445250(void *this, int a2);
void __stdcall sub_445270(void **a1);
void __stdcall sub_4452B0(void **a1);
_DWORD *__thiscall sub_4452F0(int *this, _DWORD *a2, int *a3);
_DWORD *__stdcall sub_445380(int a1, int a2, int a3, const void *a4, char a5);
_DWORD *__stdcall sub_4453D0(int a1, int a2, int a3, const void *a4, char a5);
_DWORD *sub_445420();
_DWORD *sub_445460();
int __cdecl sub_4454A0(int a1, int a2, int a3, int a4, _DWORD *a5);
_DWORD *__thiscall sub_4454E0(int *this, _DWORD *a2, int *a3);
int __cdecl sub_445570(int a1, int a2, int a3, int a4, _DWORD *a5);
_DWORD *__thiscall sub_4455B0(int this);
int __thiscall sub_445C30(int this);
_DWORD *__thiscall sub_445C70(_DWORD *this);
int __thiscall sub_445CC0(int this, void *a2, int a3);
int *__thiscall sub_445F30(int *this, int *a2, _DWORD *a3);
int *__thiscall sub_445FC0(int *this, int *a2);
int *__thiscall sub_446010(int *this, int *a2);
_DWORD *__fastcall sub_446060(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
_DWORD *__fastcall sub_446330(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
_DWORD *__thiscall sub_446600(_DWORD *this, int a2, int a3);
int *__thiscall sub_446690(int *this, int *a2, int a3, int a4, int a5, int a6);
_DWORD *__fastcall sub_446770(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6);
_DWORD *__thiscall sub_446970(_DWORD *this, int a2, int a3);
int *__thiscall sub_446A00(int *this, int *a2, int a3, int a4, int a5, int a6);
_DWORD *__fastcall sub_446AE0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6);
void __thiscall sub_446CE0(int this);
int __thiscall sub_446D60(int *this, int a2, int *a3);
int *__thiscall sub_446E50(int *this, int *a2);
void __thiscall sub_446EC0(int this);
int __thiscall sub_446F40(int *this, int a2, int *a3);
int *__thiscall sub_447030(int *this, int *a2);
void __thiscall sub_4470C0(_DWORD *this);
void __thiscall sub_447280(_DWORD *this);
void __thiscall sub_4474C0(int this, int a2, int a3, int a4, float a5, int a6);
void __thiscall sub_447620(int *this, int a2, int a3, int a4, int a5, float a6, int a7);
void __thiscall sub_447700(int *this, int a2, int a3, int a4, int a5, float a6, int a7);
void __thiscall sub_4477E0(int this, float a2, int a3, int a4, int a5);
void __thiscall sub_4478E0(int this, float a2, int a3, int a4, int a5);
void __thiscall sub_4479F0(int this, int a2, int a3, float a4, int a5);
void __thiscall sub_447B00(int this, float a2, float a3, int a4, int a5, int a6);
int __thiscall sub_447BF0(int this, __int16 a2, int a3, int a4, int a5, int a6);
int __thiscall sub_447CE0(int this, int a2, int a3, int a4, int a5, int a6, int a7);
void __thiscall sub_447E30(int *this, int a2, int a3, int a4, float a5, int a6);
// int __userpurge sub_447F40@<eax>(int a1@<ecx>, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
void __thiscall sub_448210(int this, float a2, float a3, float a4, int a5, int a6, int a7);
int __thiscall sub_448560(int this);
_DWORD *__thiscall sub_448B00(_DWORD *this);
BOOL __thiscall sub_448E30(_DWORD *this);
BOOL __thiscall sub_448F00(int this);
void __thiscall sub_44A6E0(_DWORD *this);
void __thiscall sub_44A730(_DWORD *this);
int __stdcall sub_44A780(int a1);
int __stdcall sub_44A7B0(int *a1);
int __cdecl sub_44A7D0(int a1);
_DWORD *__cdecl sub_44A7F0(_DWORD *a1);
int __thiscall sub_44A810(_DWORD *this, _DWORD *a2);
void __thiscall sub_44A870(_DWORD *this);
void __thiscall sub_44A8F0(_DWORD *this);
int __thiscall sub_44A990(_DWORD *this);
_DWORD *__thiscall sub_44AB70(_DWORD *this, int a2);
int __cdecl sub_44ABD0(int a1, int a2, int a3, int a4, _DWORD *a5);
int __thiscall sub_44AC10(int **this);
void __stdcall sub_44AC40(void **a1);
_DWORD *__thiscall sub_44AC80(int *this, _DWORD *a2, int *a3);
_DWORD *__stdcall sub_44AD20(int a1, int a2, int a3, const void *a4, char a5);
_DWORD *sub_44AD70();
_DWORD *__thiscall sub_44ADB0(int *this, _DWORD *a2, _DWORD *a3);
void __thiscall sub_44ADF0(int this);
int *__thiscall sub_44AEC0(int *this, int *a2, _DWORD *a3);
void *__thiscall sub_44AF30(_DWORD *this);
void *__thiscall sub_44AF60(int *this, int a2);
int __thiscall sub_44B000(int *this, int a2);
int __thiscall sub_44B090(int *this, _DWORD *a2, int *a3, int a4);
int __thiscall sub_44B190(int *this, _DWORD *a2, int *a3, int a4);
int __thiscall sub_44B290(int *this, _DWORD *a2, int *a3, int a4);
int __thiscall sub_44B390(int *this, int a2);
// int __userpurge sub_44B460@<eax>(int a1@<ecx>, int a2@<ebp>, int a3@<edi>, char *Src, int a5, int a6, int a7, int a8);
_DWORD *__fastcall sub_44B790(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6);
int __thiscall sub_44B9A0(int *this, int a2, int *a3);
_DWORD *__fastcall sub_44BAA0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5);
_DWORD *__thiscall sub_44BDF0(_DWORD *this, int a2, int a3);
int *__thiscall sub_44BE80(int *this, int *a2, int a3, int a4, int a5, int a6);
void __thiscall sub_44BF60(int *this, int a2);
int __thiscall sub_44C080(int *this, int a2);
int __thiscall sub_44C200(int *this, int a2, int a3, int a4);
int __thiscall sub_44C2B0(int *this, int a2, int a3, char *a4, int a5, int a6);
int __thiscall sub_44C380(int *this, int a2, int a3, int a4);
void __thiscall sub_44C420(int this);
void __thiscall sub_44C4B0(void *this);
// int __userpurge sub_44C510@<eax>(int *a1@<ecx>, int a2@<esi>, int a3, int a4);
// int __userpurge sub_44C730@<eax>(int *a1@<ecx>, int a2@<esi>, int a3, int a4);
// int __userpurge sub_44CA60@<eax>(int *a1@<ecx>, int a2@<edi>, int a3, char a4, char a5, char a6);
int *__thiscall sub_44CB20(int *this);
int __thiscall sub_44CB90(char *this, char *a2, int a3, int a4);
BOOL __stdcall sub_44CD30(HKEY hKey, LPCSTR lpString2, LPCSTR lpValueName, LPBYTE lpData);
BOOL __stdcall sub_44CDF0(LPCSTR lpValueName, LPBYTE lpData);
int __stdcall sub_44CEB0(LPCSTR lpValueName, LPBYTE lpData); // idb
int __stdcall sub_44CF80(LPCSTR lpValueName, BYTE *lpData); // idb
int __stdcall sub_44D080(LPCSTR lpValueName, BYTE *lpData); // idb
int __thiscall sub_44D170(_DWORD *this, int a2, int a3, int a4, int a5);
_DWORD *__thiscall sub_44D190(_DWORD *this, _DWORD *a2);
int __thiscall sub_44D1B0(_DWORD *this, int a2, int a3);
HCURSOR __thiscall sub_44D1C0(HCURSOR *this, const char *a2);
HCURSOR __thiscall sub_44D250(HCURSOR *this);
HCURSOR __thiscall sub_44D260(HCURSOR *this);
__int16 __cdecl sub_44D2A0(unsigned __int8 *a1, int a2);
int __cdecl sub_44D390(char *a1, int a2);
int __cdecl sub_44D3E0(const char *a1);
int __cdecl sub_44D440(const char *a1, int a2);
BOOL __cdecl sub_44D590(int a1, char *a2, const char *a3);
void __cdecl sub_44D830(int a1, int a2, int a3);
int __cdecl sub_44D8B0(int a1);
void __cdecl sub_44D910(int a1);
_BYTE *__cdecl sub_44D960(int a1, int a2, int a3);
int __cdecl sub_44DA20(int a1, int a2, int a3);
_BYTE *__cdecl sub_44DAE0(int a1, int a2, int a3);
_BYTE *__cdecl sub_44DBA0(_BYTE *a1, _BYTE *a2, int a3);
_BYTE *__cdecl sub_44DC00(_BYTE *a1, _BYTE *a2, _BYTE *a3, _BYTE *a4);
_BYTE *__cdecl sub_44DC40(_BYTE *a1, _BYTE *a2, _BYTE *a3, int a4);
_BYTE *__cdecl sub_44DCA0(_BYTE *a1, _BYTE *a2, int a3, int a4);
char *__cdecl sub_44DD00(_BYTE *a1, char *a2, int a3, int a4);
_BYTE *__cdecl sub_44DD70(_BYTE *a1, _BYTE *a2, int a3);
void __cdecl sub_44DDE0(_BYTE *a1, _BYTE *a2, _BYTE *a3, int a4);
_BYTE *__cdecl sub_44DE20(_BYTE *a1, _BYTE *a2, _BYTE *a3, int a4);
_BYTE *__cdecl sub_44DEA0(_BYTE *a1, _BYTE *a2, int a3, int a4);
char *__cdecl sub_44DF20(_BYTE *a1, char *a2, int a3, int a4);
void *__cdecl sub_44DFD0(int a1);
int __cdecl sub_44E120(const char *a1);
char *__cdecl sub_44E1F0(char *a1, _BYTE *a2);
int __cdecl sub_44E240(int a1);
int __cdecl sub_44E2E0(char *a1);
int __cdecl sub_44E340(int a1, int a2);
char __cdecl sub_44E380(int a1);
unsigned __int8 __cdecl sub_44E4B0(int a1);
int __cdecl sub_44E610(char *Src, char *a2, int a3, int a4, int a5, int a6, int a7, int a8);
void *sub_44E8C0();
void sub_44E8F0();
int __cdecl sub_44E910(const char *a1);
void sub_44E970();
char *__cdecl sub_44E9C0(int a1, _DWORD *a2);
int sub_44EA20();
int __cdecl sub_44EAB0(int a1);
char *__cdecl sub_44EB20(const char *a1, int a2);
BOOL __cdecl sub_44EC30(int a1, int a2);
void __cdecl sub_44EC40(int);
int __cdecl sub_44EC50(int a1, int a2, int a3, int a4);
int __cdecl sub_44EE60(_DWORD *a1, int a2, int a3, int a4);
int __cdecl sub_44F420(char *a1, int a2, int a3);
int __cdecl sub_44F760(int a1, int a2, int a3);
int __cdecl sub_44F850(const char *a1, int a2, int a3);
int sub_44F9C0();
int sub_44FBF0();
void __cdecl __noreturn sub_44FD80();
uintptr_t sub_44FDC0();
int __cdecl sub_44FDF0(char *a1, int a2, int a3);
int __cdecl sub_450040(char *a1, int a2, int a3);
int __cdecl sub_450290(int a1, int a2, int a3, int a4);
int __cdecl sub_450330(int a1, int a2, int a3, int a4);
int __cdecl sub_4503B0(int a1, int *a2, int *a3, int *a4, int *a5);
void __cdecl sub_450510(int a1, int a2, int a3);
int __cdecl sub_450660(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_450740(int a1);
void __cdecl sub_450770(int a1, int a2);
void __cdecl sub_450840(int a1, int a2, int a3, int a4);
void __cdecl sub_450980(int a1, int a2, int a3, int a4);
void __cdecl sub_450BB0(int a1, int a2, int a3);
int __cdecl sub_450DD0(int a1, _DWORD *a2, int a3);
int __cdecl sub_451420(char *a1, int a2, _DWORD *a3, _DWORD *a4);
int __cdecl sub_451600(__int16 *a1, char *a2, int a3, char a4, int *a5);
int __cdecl sub_451A60(unsigned __int8 *a1, int a2, _BYTE *a3);
int __cdecl sub_451B60(__int16 *a1, char a2);
char sub_451DF0();
int __cdecl sub_451E40(int a1);
int sub_451E70();
int __cdecl sub_452050(int a1, int a2);
int __cdecl sub_4520D0(int a1);
int __cdecl sub_4520E0(int a1, void **a2, int Size, _DWORD *a4);
void *__cdecl sub_452170(int FileHandle, _off_t Size, void ***a3, int a4);
unsigned int __cdecl sub_452210(void *a1, unsigned int a2, int a3, _DWORD *a4);
int sub_452290(); // weak
int __cdecl sub_452300(_DWORD *a1);
int __cdecl sub_452320(void **a1);
int __cdecl sub_452350(int a1, void *a2);
int __cdecl sub_4523A0(void *a1, int a2, _DWORD *a3);
int __cdecl CompareFunction(const void *, const void *); // idb
void sub_452550();
void __cdecl sub_452590(int a1);
int __cdecl sub_4526A0(char *a1, char *lpFileName);
_off_t __cdecl sub_4527A0(int FileHandle);
void *__cdecl sub_4527C0(signed int Size);
void __cdecl sub_4527E0(_WORD *a1, int a2, char *a3, int a4, int a5);
int __cdecl sub_452860(int a1, int *a2);
int sub_452A10();
int __cdecl sub_452A40(char *a1, int a2, int a3);
LPVOID sub_453250();
int sub_453350();
HWND sub_4533F0();
int sub_453420();
int __thiscall sub_4534D0(void *this);
LPVOID sub_453510();
int sub_453550();
HRESULT __cdecl sub_453560(LPCCH lpMultiByteStr);
int sub_453830();
LPVOID __cdecl sub_453860(LPCSTR lpString2, HWND hWnd);
void __thiscall sub_453990(_DWORD *this);
int __fastcall sub_4539C0(int a1);
void __thiscall sub_453A00(_DWORD *this);
_DWORD *__thiscall sub_453A60(_DWORD *this, char a2);
_DWORD *__thiscall sub_453A80(_DWORD **this, _DWORD *a2);
struct std::ios_base *__thiscall sub_453AC0(struct std::ios_base *this, char a2);
int __thiscall nullsub_1(_DWORD); // weak
const char *sub_453B00();
BOOL __stdcall sub_453B10(BYTE *pbData, BYTE *a2, ALG_ID Algid);
char *__stdcall sub_453BE0(int Value);
unsigned int __stdcall sub_453D60(char *a1, int a2, int Value);
unsigned int __stdcall sub_453F00(const char *a1, BYTE *pbData);
unsigned int __stdcall sub_453FA0(const char *a1, int Value);
char *__stdcall sub_453FF0(char *Source);
char *__stdcall sub_454020(LPCWCH lpWideCharStr);
int __thiscall sub_454090(_DWORD *this);
int *__thiscall sub_4540D0(int *this, char a2);
int __thiscall sub_454140(_DWORD **this);
_DWORD *__thiscall sub_454160(int this);
_DWORD *__thiscall sub_4541E0(_DWORD *this);
char *__thiscall sub_454240(char *this, int a2, int a3);
int __thiscall sub_454280(int this, unsigned __int8 a2);
_BYTE *__thiscall sub_4542A0(char *this, _BYTE *a2, _BYTE *a3);
int __thiscall sub_4542D0(int this, unsigned __int8 a2);
_BYTE *__thiscall sub_4542F0(char *this, _BYTE *a2, _BYTE *a3);
int __thiscall sub_454330(void *this, int a2, int a3, int a4);
int __stdcall sub_454360(void *Source, int a2, void *Destination, rsize_t DestinationSize); // idb
int __thiscall sub_4543B0(void *this, int a2, int a3, int a4, int a5);
int __stdcall sub_4543E0(void *Source, int a2, int a3, void *Destination, rsize_t DestinationSize); // idb
void *__thiscall sub_454420(void *this, char a2);
int __stdcall sub_454470(char *Buffer); // idb
void __thiscall sub_454580(void *this);
int __stdcall sub_4545F0(int a1);
int sub_454600();
int __thiscall sub_454610(void *this, int a2, int a3);
void *__thiscall sub_454630(void *this, int a2, int a3);
int sub_454640();
int __thiscall sub_454660(_DWORD **this);
int __thiscall sub_454680(_DWORD **this);
int __thiscall sub_4546F0(int this, int a2);
int __thiscall sub_454740(int this);
int *__thiscall sub_4547B0(int this, int *a2, int a3, int a4, char a5);
int *__thiscall sub_454910(int this, int *a2, int a3, int a4, int a5, int a6, int a7, int a8, char a9);
char *__thiscall sub_4549E0(struct std::ios_base *this, char a2);
char *__thiscall sub_454A20(struct std::ios_base *this, char a2);
void *__thiscall sub_454A60(void *this, char a2);
char *__thiscall sub_454A80(struct std::ios_base *this, char a2);
_DWORD *__thiscall sub_454AE0(_DWORD *this, char a2);
_DWORD *__thiscall sub_454B10(_DWORD *this);
_DWORD *__thiscall sub_454BC0(_DWORD *this);
int __thiscall sub_454BD0(int this, char *Destination, rsize_t DestinationSize, int a4);
int __thiscall sub_454C60(int this, unsigned __int8 *Source, int a3);
int __thiscall sub_454CF0(_DWORD *this);
int __thiscall sub_454D80(int this, int a2);
void __thiscall sub_454F50(_DWORD *this);
_DWORD *__thiscall sub_454F70(struct std::ios_base *this, char a2);
_DWORD *__thiscall sub_454FB0(_DWORD *this, char a2);
int __thiscall sub_455030(int this, int a2);
void __thiscall sub_4550C0(std::_Lockit *this);
int __thiscall sub_4551A0(int this, _DWORD *a2);
int __thiscall sub_455210(_DWORD *this, int a2);
int __cdecl sub_455240(char **a1, _DWORD *a2);
void __thiscall sub_455340(void **this);
void **__thiscall sub_455380(void **this, char a2);
_DWORD *__thiscall sub_4553D0(unsigned int *this);
_DWORD *__thiscall sub_4553F0(_DWORD *this, char *Source);
int __thiscall sub_455420(int this, int a2);
struct std::locale::facet *__cdecl sub_455570(_DWORD *a1);
int __cdecl sub_4556C0(int a1, char *Source, _DWORD *a3);
int __thiscall sub_455780(_DWORD *this, char a2, char a3);
int __thiscall sub_4558B0(int this, struct std::exception *a2);
_DWORD *__thiscall sub_455930(_DWORD *this, struct std::exception *a2);
void __thiscall sub_455950(_DWORD *this);
_DWORD *__thiscall sub_4559D0(unsigned int *this, BYTE *pbData);
void __thiscall sub_455B40(_DWORD *this, char *Source, char *a3);
void __thiscall sub_455BB0(_DWORD *this, char *Source, char *a3);
int __thiscall sub_455C20(void *this, int a2);
int __thiscall sub_455C40(_DWORD **this, int a2);
void __thiscall sub_455D00(unsigned int *this, BYTE *pbData);
_BYTE *__thiscall sub_455E50(_BYTE *this);
_BYTE *__thiscall sub_455EA0(_BYTE *this, int a2);
_BYTE *__thiscall sub_455F30(_BYTE *this);
_DWORD *__thiscall sub_455F90(_DWORD *this, int a2, int a3);
void __thiscall sub_456070(_BYTE **this);
int __cdecl sub_4560E0(int a1, const char *a2);
_DWORD *__thiscall sub_4562F0(_DWORD *this, char a2, int a3);
char __thiscall sub_456390(void *this, char a2, CHAR *lpszAgent, int a4, int a5, int a6, int a7, unsigned int a8, char a9, CHAR *lpszUrl, int a11, int a12, int a13, DWORD dwUrlLength, unsigned int a15, char a16, int a17, char *Source, int a19, int a20, int a21, int a22, unsigned int a23, _DWORD *a24);
int __fastcall sub_456DF0(unsigned int *dwUrlLength, int a2);
int __fastcall sub_456F60(_DWORD *dwUrlLength, int a2);
int __thiscall sub_457110(_DWORD *this);
int __thiscall sub_457150(_DWORD *this, int a2);
void __thiscall sub_457160(int this, int a2, int a3, int a4);
int __thiscall sub_4571C0(_DWORD *this, int a2);
void *__thiscall sub_4571D0(_DWORD *this);
char __thiscall sub_457200(_DWORD *this, _BYTE *a2);
int __thiscall sub_457240(_DWORD *this, int a2);
void __thiscall sub_457270(void **this, int a2, int a3);
int __thiscall sub_4572C0(_DWORD *this, int a2);
char *__thiscall sub_4572D0(_DWORD *this, char *a2);
unsigned __int16 *__thiscall sub_4573D0(unsigned __int16 *this, const char *a2, char *a3);
void __thiscall sub_457630(int this);
void __thiscall sub_457780(char *this);
int __thiscall sub_4577F0(_DWORD *this);
int __thiscall sub_457830(int this);
void __thiscall sub_457900(int this, int a2);
int __thiscall sub_457BC0(int this, int a2);
int __thiscall sub_457E20(int *this);
void __thiscall sub_457EB0(_DWORD *this);
// int __thiscall unknown_libname_4(_DWORD); weak
int __thiscall sub_457FB0(int this);
void __thiscall sub_457FD0(int **this);
void __thiscall sub_457FF0(int this, int a2);
void __thiscall sub_458100(_DWORD **this);
void *__thiscall sub_458120(char **this);
int __thiscall sub_458140(_DWORD *this, int a2);
int __thiscall sub_458160(_DWORD *this);
int __thiscall sub_458170(_DWORD *this);
void __thiscall sub_458190(_DWORD *this);
int __thiscall sub_4581B0(_DWORD *this, int a2);
char __thiscall sub_4581D0(_DWORD *this, _BYTE *a2);
void *__thiscall sub_4581F0(_DWORD *this);
void __thiscall sub_458210(int this);
int __thiscall sub_4582C0(char *this);
void *__thiscall sub_4582F0(_DWORD *this);
char __thiscall sub_458330(_DWORD *this, _BYTE *a2);
int __thiscall sub_458370(int *this, char *Str, int a3);
void __thiscall sub_458750(float **this, int a2, int a3, int a4);
void __thiscall sub_4587A0(float **this, int a2, int a3, int a4);
void __thiscall sub_4587F0(void **this, int a2, int a3, int a4);
int __thiscall sub_458830(_DWORD *this, int a2);
char *__thiscall sub_458840(_DWORD *this, char *a2);
void *__thiscall sub_458940(int this);
void __thiscall sub_458BE0(_DWORD **this);
void __thiscall sub_458CC0(_DWORD *this);
int __thiscall sub_458F70(int *this);
void *__thiscall sub_459120(int this);
int __thiscall sub_459290(_DWORD *this, int a2, int a3);
void __thiscall sub_4592E0(int *this);
int __thiscall sub_459380(int this);
DWORD __thiscall sub_459850(int this, int a2);
// BOOL __stdcall WINNLSEnableIME(HWND, BOOL);
void __cdecl __noreturn sub_459A36(int a1, int a2);
void __noreturn sub_459A6E(void); // weak
// void *__cdecl operator new[](unsigned int); idb
// int __cdecl _Tolower(int, const _Ctypevec *);
// _Ctypevec *__cdecl _Getctype(_Ctypevec *__return_ptr __struct_ptr retstr);
// _DWORD __thiscall std::_Lockit::_Lockit(std::_Lockit *__hidden this, int); idb
// void __thiscall std::_Lockit::~_Lockit(std::_Lockit *__hidden this); idb
int sub_459D54();
// void __cdecl std::locale::facet::facet_Register(struct std::locale::facet *); idb
// void __cdecl std::_Locinfo::_Locinfo_dtor(struct std::_Locinfo *); idb
// struct std::locale::_Locimp *__cdecl std::locale::_Init(); idb
// _DWORD __cdecl std::_Locinfo::_Locinfo_ctor(_DWORD, _DWORD); weak
// void __cdecl std::ios_base::_Ios_base_dtor(struct std::ios_base *); idb
// _DWORD __thiscall std::_Mutex::_Mutex(std::_Mutex *__hidden this); idb
int __thiscall sub_45A0FB(LPCRITICAL_SECTION *this);
void __thiscall sub_45A104(LPCRITICAL_SECTION *this);
// int __cdecl _Toupper(int, const _Ctypevec *);
bool __cdecl __uncaught_exception(); // idb
// int __cdecl _Mtxdst(LPCRITICAL_SECTION lpCriticalSection); idb
// int __cdecl unknown_libname_6(LPCRITICAL_SECTION lpCriticalSection); idb
void __cdecl sub_45A254(LPCRITICAL_SECTION lpCriticalSection);
// void __thiscall _Init_atexit::~_Init_atexit(_Init_atexit *__hidden this); idb
// HRESULT __stdcall DirectSoundCreate(LPCGUID pcGuidDevice, LPDIRECTSOUND *ppDS, LPUNKNOWN pUnkOuter);
// char *__cdecl strstr(const char *Str, const char *SubStr);
// _LocaleUpdate *__thiscall _LocaleUpdate::_LocaleUpdate(_LocaleUpdate *__hidden this, struct localeinfo_struct *); idb
// unsigned __int8 *__cdecl _mbsrchr(const unsigned __int8 *String, unsigned int C);
_DWORD *__thiscall sub_45A4A0(_DWORD *this);
// _DWORD __thiscall std::exception::exception(std::exception *__hidden this, const char *const *); idb
// _DWORD __thiscall std::exception::exception(std::exception *__hidden this, const struct std::exception *); idb
void __thiscall sub_45A57E(void *this);
std::exception *__thiscall sub_45A5A1(std::exception *this, char *a2);
std::exception *__thiscall sub_45A5BF(std::exception *this, struct std::exception *a2);
void __thiscall sub_45A5DC(void *this);
void *__thiscall sub_45A5E7(void *this, char a2);
_DWORD *__thiscall sub_45A608(_DWORD *this, char a2);
void __thiscall sub_45A62F(struct type_info *this);
struct type_info *__thiscall sub_45A63F(struct type_info *this, char a2);
// void __cdecl operator delete(void *); idb
// static errno_t __cdecl memcpy_s(void *const Destination, const rsize_t DestinationSize, const void *const Source, const rsize_t SourceSize);
// static errno_t __cdecl memmove_s(void *const Destination, const rsize_t DestinationSize, const void *const Source, const rsize_t SourceSize);
// int __cdecl isalpha(int C);
// int __cdecl isdigit(int C);
// int __cdecl isspace(int C);
// int __cdecl strncmp(const char *Str1, const char *Str2, size_t MaxCount);
void __thiscall sub_45AB2A(void *this);
// void *__cdecl memset(void *, int Val, size_t Size);
// void __cdecl free(void *Block);
// void *__cdecl malloc(size_t Size);
// void *__cdecl memcpy(void *, const void *Src, size_t Size);
int __cdecl sub_45B105(int a1);
// void __cdecl __noreturn _invoke_watson(const wchar_t *Expression, const wchar_t *FunctionName, const wchar_t *FileName, unsigned int LineNo, uintptr_t Reserved);
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// void __cdecl _invalid_parameter_noinfo();
// void *__cdecl operator new(size_t Size); idb
// void __stdcall __noreturn _CxxThrowException(void *pExceptionObject, _ThrowInfo *pThrowInfo);
// int sprintf(char *const Buffer, const char *const Format, ...);
// int __cdecl atol(const char *String);
// int __cdecl atoi(const char *String);
// int __cdecl tolower(int C);
// int __cdecl _ismbclegal(unsigned int C);
// int __cdecl toupper(int C);
// void __cdecl srand(unsigned int Seed);
// int __cdecl rand();
// struct tm *__cdecl _localtime64(const __time64_t *Time);
// __time64_t __cdecl _time64(__time64_t *Time);
// void __cdecl _endthread();
// uintptr_t __cdecl _beginthread(_beginthread_proc_type StartAddress, unsigned int StackSize, void *ArgList);
// __time64_t __cdecl _mktime64(struct tm *Tm);
// int __cdecl _close(int FileHandle);
// int __cdecl _write(int FileHandle, const void *Buf, unsigned int MaxCharCount);
// int __cdecl _open(const char *, int, int); idb
// int __cdecl _read(int FileHandle, void *DstBuf, unsigned int MaxCharCount);
// int __cdecl _strnicmp(const char *String1, const char *String2, size_t MaxCount);
// int IsRootUNCName(void); weak
// int __cdecl _fullpath_helper(char *Buffer, char *Path, size_t BufferCount, int); idb
int __cdecl sub_45D5CC(unsigned __int8 *lpFileName, struct _stat64i32 *Stat);
// void __cdecl __noreturn exit(int Code);
// int __cdecl fclose(FILE *Stream);
// int __cdecl fputs(const char *Buffer, FILE *Stream);
// FILE *__cdecl fopen(const char *FileName, const char *Mode);
// char *__cdecl _strupr(char *String);
// int printf(const char *const Format, ...);
// int __cdecl fseek(FILE *Stream, int Offset, int Origin);
// size_t __cdecl fread(void *Buffer, size_t ElementSize, size_t ElementCount, FILE *Stream);
// void __cdecl operator delete[](void *); idb
// wchar_t *__cdecl wcsstr(const wchar_t *Str, const wchar_t *SubStr);
// int __cdecl _wtoi(const wchar_t *String);
// int __cdecl wcsncmp(const wchar_t *String1, const wchar_t *String2, size_t MaxCount);
// char *__cdecl setlocale(int Category, const char *Locale);
// void __cdecl qsort(void *Base, size_t NumOfElements, size_t SizeOfElements, _CoreCrtNonSecureSearchSortCompareFunction CompareFunction);
// int __cdecl _fstat64i32(int FileHandle, struct _stat64i32 *Stat);
// int __cdecl _lseek(int FileHandle, int Offset, int Origin);
// char *__cdecl _strdup(const char *Source);
// int __cdecl _getch();
// size_t __cdecl strlen(const char *Str);
std::exception *__thiscall sub_4617BF(std::exception *this, char *a2);
void __thiscall sub_4617DD(void *this);
_DWORD *__thiscall sub_4617E8(_DWORD *this, char a2);
std::exception *__thiscall sub_462388(std::exception *this, struct std::exception *a2);
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
int sub_462D51();
// int *__cdecl _errno();
// unsigned int *__cdecl __doserrno();
// _DWORD __cdecl _dosmaperr(_DWORD); weak
// errno_t __cdecl strcpy_s(char *Destination, rsize_t SizeInBytes, const char *Source);
// void __cdecl type_info::_Type_info_dtor(struct type_info *); idb
// void *__cdecl memcpy_0(void *, const void *Src, size_t Size);
// void __cdecl __noreturn __report_gsfailure();
// int _get_sse2_info(void); weak
int sub_4646F9();
int __cdecl sub_465780(int a1);
void sub_465921();
int __cdecl sub_46746E(_DWORD *a1);
int __cdecl sub_4674A7(_DWORD *a1);
int __cdecl sub_4674E0(_DWORD *a1);
int *sub_467519();
int *sub_46751F();
int *sub_467525();
void **sub_46752B();
// errno_t __cdecl _sopen_s(int *FileHandle, const char *FileName, int OpenFlag, int ShareFlag, int PermissionMode);
// int __cdecl __dtoxmode(char, unsigned __int8 *String); idb
// __int64 __cdecl __loctotime64_t(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _getdrive();
// unsigned int __cdecl _mbctolower(unsigned int Ch);
// unsigned __int8 *__cdecl _mbspbrk(const unsigned __int8 *String, const unsigned __int8 *Control);
void *sub_469289();
void __cdecl sub_4692AF(); // idb
int sub_46932A();
int __cdecl sub_4694E7(int a1);
int __cdecl sub_469675(int a1);
int __cdecl sub_469684(int a1);
// _DWORD __cdecl flsall(_DWORD); weak
int sub_4698E0();
void **sub_4698E9();
int sub_46B748();
// int __cdecl _stricmp(const char *String1, const char *String2);
// void *__cdecl calloc(size_t Count, size_t Size);
// LONG __stdcall __CxxUnhandledExceptionFilter(struct _EXCEPTION_POINTERS *ExceptionInfo); idb
int sub_46DABD();
// void *__cdecl realloc(void *Block, size_t Size);
int __cdecl sub_46E690(_DWORD *a1, int a2, struct localeinfo_struct *a3);
int __cdecl sub_46E738(_DWORD *a1, int a2, struct localeinfo_struct *a3);
int *__cdecl sub_46E89F(int *a1, int *a2);
int __cdecl sub_46EA84(int a1, int a2, int a3);
int __cdecl sub_46F368(_DWORD *a1);
int __cdecl sub_47031C(unsigned __int16 *a1, _DWORD *a2);
int __cdecl sub_470860(unsigned __int16 *a1, _DWORD *a2);
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_47149C(__int64 a1, __int16 a2, int a3, char a4, int a5);
// IDirect3D9 *__stdcall Direct3DCreate9(UINT SDKVersion);
// int __stdcall D3DXSaveSurfaceToFileA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall D3DXCreateEffectFromResourceA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall D3DXMatrixMultiply(_DWORD, _DWORD, _DWORD); weak
// int __stdcall D3DXMatrixRotationZ(_DWORD, _DWORD); weak
// int __stdcall D3DXMatrixScaling(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall D3DXCreateTexture(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall D3DXCreateTextureFromFileExA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// HWND __stdcall ImmGetDefaultIMEWnd(HWND);
// HIMC __stdcall ImmAssociateContext(HWND, HIMC);
// BOOL __stdcall ImmDisableIME(DWORD);
int __cdecl sub_473920(unsigned __int8 *a1, unsigned __int8 **a2, unsigned __int8 *a3, unsigned __int8 *a4);
int __cdecl sub_4739C0(_DWORD *a1);
int __cdecl sub_473A10(_DWORD *a1);
int __cdecl sub_473A60(_DWORD *a1, int a2, _BYTE *a3, int a4);
int __cdecl sub_473B70(_DWORD *a1, _BYTE *a2, int a3);
int __cdecl sub_473B90(unsigned __int8 **a1, int a2);
int __cdecl sub_473FC0(int a1, unsigned __int8 *a2, unsigned int a3);
int __cdecl sub_474050(_DWORD *a1);
int (__cdecl *__cdecl sub_474150(_DWORD *a1, int a2, _DWORD *a3))(_DWORD, _DWORD, _DWORD);
int __cdecl sub_4741D0(int a1, int a2, int a3);
int __cdecl sub_474270(_DWORD *a1, int a2, int a3);
int __cdecl sub_474F80(_DWORD *a1, int a2);
int __cdecl sub_474FC0(int a1, const void *a2, unsigned int a3);
BOOL __cdecl sub_475000(_DWORD *a1);
int __cdecl sub_475010(unsigned int a1, unsigned __int8 *a2, unsigned int a3);
char *sub_475140();
void *__cdecl sub_475170(int a1, size_t Count, size_t Size);
void __cdecl sub_475190(int a1, void *Block);
int __cdecl sub_4751A0(char a1, char a2, int a3, int a4, int a5);
int __cdecl sub_4751E0(_DWORD *a1, int a2, int a3);
int __cdecl sub_475990(int a1, int a2);
int __cdecl sub_4759B0(int *a1, unsigned int *a2, int *a3, int a4, int a5);
int __cdecl sub_475A60(int *a1, unsigned int a2, unsigned int a3, int a4, int a5, int *a6, unsigned int *a7, int a8, unsigned int *a9, unsigned int *a10);
int __cdecl sub_475F20(unsigned int a1, unsigned int a2, int *a3, unsigned int *a4, unsigned int *a5, int *a6, int *a7, int a8, int a9);
int __cdecl sub_4760B0(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4);
int __cdecl sub_4760E0(_DWORD *a1, _DWORD *a2, int a3);
int __cdecl sub_476220(int a1, int a2, int a3, int a4, _DWORD *a5, unsigned __int8 **a6);
int __cdecl sub_4765F0(void **a1);
int __cdecl sub_4766F0(void *a1, void **Block, const void *a3, int a4, void *a5, int (__cdecl *a6)(_DWORD, _DWORD, _DWORD, _DWORD), void *a7, void *a8);
int __cdecl sub_476740(void *a1, void **a2, const void *a3, unsigned int a4, void *a5, int (__cdecl *a6)(_DWORD, _DWORD, _DWORD, _DWORD), void *a7, void *a8);
int __cdecl sub_4768F0(_DWORD *a1, int *a2, _DWORD *a3, void **a4, int *a5, int *a6);
int __cdecl sub_476BA0(int a1, int *a2, __int64 a3);
int __cdecl sub_476C60(_DWORD *a1);
void *__cdecl sub_476CE0(int a1, void **a2, int *a3);
int __cdecl sub_476D40(int a1, _DWORD *a2, int a3);
int __cdecl sub_476D60(int a1, _DWORD *a2, int a3);
int __cdecl sub_476DA0(void **Block);
int __cdecl sub_476DF0(_DWORD *Block);
int __cdecl sub_476F80(_DWORD *a1, _DWORD *a2, int a3, int *a4, int *a5);
int __cdecl sub_477170(_DWORD *a1, int a2, int a3);
unsigned int __cdecl sub_4771D0(int a1, int a2);
int __cdecl sub_4772F0(_DWORD *Block, int a2, int a3, signed __int64 a4, unsigned __int64 a5, int a6, int a7, int a8, _DWORD *a9, int a10, int a11);
int __cdecl sub_477810(_DWORD *a1, int a2);
int __cdecl sub_477880(int a1, __int64 a2);
int __cdecl sub_477C50(int a1);
int __cdecl sub_477C80(_DWORD *a1);
int __cdecl sub_477D00(int a1, char *a2, int a3, int a4);
int __cdecl sub_478030(_DWORD *a1, int a2);
int __cdecl sub_478070(_DWORD *a1, int a2, int a3, int a4, int a5, int a6, _DWORD *a7, void (__cdecl *a8)(int, int, int, int), int a9);
int sub_478410();
int __cdecl sub_478420(_DWORD *a1, int a2, int a3, int a4, int a5, int a6, _DWORD *a7);
int __cdecl sub_478450(_DWORD *a1);
int __cdecl sub_478470(int a1);
void *__cdecl sub_4784E0(_DWORD *a1);
int __cdecl sub_478510(_DWORD *a1);
BOOL __cdecl sub_478680(int *a1);
int __cdecl sub_478700(_DWORD *a1, _BYTE *a2, int a3);
int __cdecl sub_478730(int *a1, int a2, int *a3);
int __cdecl sub_478830(int *a1, _DWORD *a2);
int __cdecl sub_478910(void **a1, _DWORD *a2);
int __cdecl sub_478A30(_DWORD *a1, _DWORD *a2);
int __cdecl sub_478CE0(_DWORD *a1, _DWORD *a2);
int __cdecl sub_478D60(_DWORD *a1, int a2);
int __cdecl sub_478DD0(int a1);
int __cdecl sub_478E40(int a1);
int __cdecl sub_478EB0(_DWORD *a1, _DWORD *a2, int a3);
void __cdecl sub_4792A0(int a1);
int __cdecl sub_4794F0(_DWORD *a1);
int __cdecl sub_479560(_DWORD *a1, _DWORD *a2);
int __cdecl sub_4795A0(_DWORD *a1, int a2);
int __cdecl sub_479C20(_DWORD *a1, _DWORD *a2);
int __cdecl sub_479C80(int a1, int a2);
int __cdecl sub_479CB0(int *a1, int *a2);
int __cdecl sub_479E50(int a1, int *a2);
int __cdecl sub_479ED0(int a1);
void __cdecl sub_479EE0(void *Block);
void __cdecl sub_479F00(void *Block);
char *__cdecl sub_479F20(int *a1, int a2, int *a3, int a4, int a5);
_DWORD *__cdecl sub_47A4D0(int a1, float a2, int a3, float a4, float a5);
void __cdecl sub_47AC50(float *a1, int a2);
void __cdecl sub_47AC80(float *a1, int a2);
float *__cdecl sub_47ACB0(float *a1, float a2);
int __cdecl sub_47ACD0(void **a1);
void __cdecl sub_47AD90(int a1, float *a2, float *a3);
void __cdecl sub_47AE80(int a1, int *a2, float *a3, float *a4, float a5, int a6);
int __cdecl sub_47B460(int *a1, int a2, int a3, float a4, float a5);
void __cdecl sub_47B500(int *a1, int a2, int a3, int a4, int a5, float a6);
int __cdecl sub_47B5E0(int a1, int a2, float a3, int a4, int a5, int a6, float a7); // idb
int __cdecl sub_47B6B0(int *a1, float *a2, int a3);
int __cdecl sub_47B7F0(float *a1, int a2, int a3);
int __cdecl sub_47B950(int a1, int a2, float *a3, int a4, int a5, int a6, int a7);
_DWORD *__cdecl sub_47BA60(int a1, int a2, int *a3, int a4, int a5, int a6, char *a7, int a8, int a9);
float *__cdecl sub_47C220(int a1, float a2, float a3, int a4, int a5, char *a6, int a7, int a8);
double __cdecl sub_47C290(int a1, int a2, int a3, float *a4, int a5, int a6, int a7, int a8, int a9, int a10);
int __cdecl sub_47C560(float **a1, float **a2);
int __cdecl sub_47C5B0(unsigned int a1);
double __cdecl sub_47C5C0(int a1);
void *__cdecl sub_47C610(int *a1, int a2, int a3);
int __cdecl sub_47C7D0(int *a1);
float *__cdecl sub_47C840(int *a1, int a2, _DWORD *a3);
void __cdecl sub_47CA30(void **Block);
int __cdecl sub_47CA80(void **a1);
int __cdecl sub_47CAE0(_DWORD *a1, int a2);
int __cdecl sub_47CB70(unsigned int *Block, int a2);
unsigned int __cdecl sub_47CF40(unsigned int a1);
int __cdecl sub_47CFA0(_DWORD **a1, _DWORD **a2);
unsigned int *__cdecl sub_47CFC0(_DWORD *a1);
int __cdecl sub_47D2C0(int a1, int a2, int a3);
int __cdecl sub_47D310(_DWORD *a1, int *a2);
int __cdecl sub_47D440(_DWORD *a1, int a2, int *a3, int a4);
int __cdecl sub_47D650(int *a1, float *a2, int *a3, int a4);
int __cdecl sub_47D9F0(_DWORD *a1, char *a2, int *a3, int a4);
int __cdecl sub_47DBA0(int *a1, int a2, int a3, int a4, int *a5, int a6);
int __cdecl sub_47DD70(void *a1);
BOOL __cdecl sub_47DD80(int a1);
int __cdecl sub_47DDA0(void **a1);
int __cdecl sub_47DE00(int a1, float *a2);
int __cdecl sub_47DE30(int a1, float *a2, float *a3, int a4, int a5);
void __cdecl sub_47DFE0(int a1, int a2, float *a3, float *a4, int a5);
int __cdecl sub_47E1A0(int a1, int a2, float *a3, float *a4, int a5, int a6, float *a7);
int __cdecl sub_47E610(int a1, int a2, int a3, int a4, _DWORD *a5, float *a6, char *a7, _DWORD *a8, _DWORD *a9, int a10);
int *__cdecl sub_47F1C0(int *a1, int a2);
int *__cdecl sub_47F200(int a1, int a2, int *a3);
int *__cdecl sub_47F220(int a1, int a2, int *a3);
int __cdecl sub_47F3B0(int a1);
int __cdecl sub_47F3F0(int a1, int a2);
int __cdecl sub_47F5D0(int a1);
float *__cdecl sub_47F610(int *a1, unsigned int a2, int a3);
float *__cdecl sub_47FB20(float *a1);
float *__cdecl sub_480020(float *a1);
float *__cdecl sub_4800B0(float *a1, unsigned int a2, int a3, int a4);
float *__cdecl sub_4801D0(int a1, int a2, int a3);
int __cdecl sub_480650(int a1);
int __cdecl sub_480660(char *a1, int a2, int a3, int a4, int a5, int a6);
void __cdecl sub_480790(void *Block);
int __cdecl sub_4807B0(int a1, int *a2, int a3);
int *__cdecl sub_480900(int a1, _DWORD *a2);
int __cdecl sub_480AF0(int *a1);
int __cdecl sub_481400(_DWORD *a1, int *a2);
void __cdecl sub_481770(void *Block);
void __cdecl sub_481790(void *Block);
int __cdecl sub_481810(int *a1, int a2);
int __cdecl sub_481900(unsigned int a1);
int *__cdecl sub_481920(int a1, _DWORD *a2);
_DWORD *__cdecl sub_481AC0(int a1, _DWORD *a2);
int __cdecl sub_481C90(_DWORD *a1, int a2, int a3, int a4, int a5);
int __cdecl sub_481CF0(_DWORD *a1, int a2, int a3, int a4, int (__cdecl *a5)(int, int, _DWORD *, int));
int __cdecl sub_481F20(int a1, int a2, _DWORD **a3, int a4, int a5, int a6, _DWORD *a7);
int __cdecl sub_481F90(int a1, char *a2, int a3, int *a4);
int __cdecl sub_481FF0(int *a1, char *a2);
int __cdecl sub_4822B0(int a1, int a2, _DWORD **a3, int a4, int a5, _DWORD *a6, int (__cdecl *a7)(int, int, int, int, _DWORD));
int __cdecl sub_482520(_DWORD *a1, _DWORD *a2, int a3, int a4, int a5);
int __cdecl sub_482580(_DWORD *a1, _DWORD *a2, int a3, int a4);
int __cdecl sub_482730(_DWORD *a1, int a2, int a3, int a4, int a5);
_DWORD *__cdecl sub_482790(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, int a5);
_DWORD *__cdecl sub_4827D0(_DWORD *a1, _DWORD *a2, _DWORD *a3, int a4);
int __cdecl sub_482960(int a1, _DWORD *a2, _DWORD **a3, int a4, _DWORD *a5, int a6, _DWORD *a7);
int __cdecl sub_482A50(_DWORD *a1, int *a2, int a3, _DWORD *a4, int a5);
void __cdecl sub_482C10(void *Block);
void __cdecl sub_482C30(void *Block);
int __cdecl sub_482C50(int *a1, int a2);
int __cdecl sub_482E10(int a1);
_DWORD *__cdecl sub_482E30(int a1, _DWORD *a2);
int __cdecl sub_4830F0(_DWORD **a1, _DWORD **a2);
_DWORD *__cdecl sub_483110(int a1, int *a2);
int *__cdecl sub_483330(_DWORD *a1, int *a2, int a3, int a4);
int __cdecl sub_483830(int a1, int a2, __int16 a3, __int16 a4, int a5);
int __cdecl sub_483880(int a1, int a2, int a3, int a4, _DWORD *a5, int a6, int a7);
int __cdecl sub_483A20(float *a1);
int __cdecl sub_483A50(int *a1, int a2, int *a3, int *a4, int a5);
BOOL __cdecl sub_483CD0(int a1, int a2, int a3, int a4, int a5, int a6, float *a7);
int __cdecl sub_483F00(int a1, int a2, int a3);
int __cdecl sub_483F30(_DWORD *a1, int a2, int a3, _DWORD *a4, int a5);
int __cdecl sub_483FE0(int a1, _DWORD *a2, _DWORD *a3, int *a4, char *a5);
int __cdecl sub_4845C0(int a1, int a2, int a3, int a4, int a5, int a6);
int *__cdecl sub_484670(_DWORD *a1, _DWORD *a2);
int __cdecl sub_484970(int a1, _DWORD *a2, _DWORD *a3, char *a4);
int __cdecl sub_484AB0(int a1, int a2, int a3, int a4, int a5, int a6);
void __cdecl sub_484B80(void *Block);
int *__cdecl sub_484C00(int a1, _DWORD *a2);
char *__cdecl sub_484D10(_DWORD *a1, int a2);
int __cdecl sub_484E30(int a1, int *a2, float *a3, void *a4);
int __cdecl sub_484EB0(int a1, int a2, int *a3);
float *__cdecl sub_485010(int a1, int a2, float *a3, int a4, float *a5, unsigned int a6, float a7, float a8);
// char *__cdecl _itoa(int Value, char *Buffer, int Radix);
// int __cdecl _mkdir(const char *Path);
// double __cdecl floor(double X);
// double __cdecl ceil(double X);
// double __cdecl ldexp(double X, int Y);
int __cdecl sub_4881C0(int a1);
int __cdecl sub_4881D0(int a1);
int __cdecl sub_4881E0(int a1);
int __cdecl sub_4881F0(int a1);
int __cdecl sub_488200(int a1);
int __cdecl sub_4882E0(int a1);
int __cdecl sub_488310(int a1);
int __cdecl sub_488340(void **a1, void *a2);
int __cdecl sub_4883C0(_DWORD *a1);
int __cdecl sub_4883E0(void **a1);
// unsigned int __usercall sub_488430@<eax>(unsigned int result@<eax>, _DWORD *a2);
int __cdecl sub_4884E0(int a1, int a2);
int __cdecl sub_488540(int a1, int a2);
int __cdecl sub_4885D0(_DWORD *a1);
int __cdecl sub_4885F0(void **a1);
int __cdecl sub_488620(int a1);
int __cdecl sub_488630(int a1, int a2);
int __cdecl sub_4886D0(int a1, int a2);
int __cdecl sub_488710(_DWORD *a1, int *a2);
int __cdecl sub_488870(int a1, int *a2);
int __cdecl sub_488BA0(_DWORD *a1);
int __cdecl sub_488BD0(_DWORD *a1);
int __cdecl sub_488C30(_DWORD *a1, int a2);
int __cdecl sub_488C60(_DWORD *a1, _DWORD *a2);
int __cdecl sub_488C90(_DWORD *a1, _DWORD *a2, int a3);
_BYTE *__cdecl sub_488DC0(_DWORD *a1);
int __cdecl sub_488E00(int a1, int a2, unsigned int a3);
int __cdecl sub_488F30(int a1);
_DWORD *__cdecl sub_488F60(_DWORD *a1, int a2, int a3);
int __cdecl sub_488F90(_DWORD *a1, unsigned int a2);
int __cdecl sub_489060(int *a1, int a2);
int __cdecl sub_4890C0(_DWORD *a1, unsigned int a2);
int __cdecl sub_4891D0(_DWORD *a1);
// void *__cdecl memchr(const void *Buf, int Val, size_t MaxCount);
void sub_48A8A2();
void __cdecl sub_48A8AC(); // idb

//-------------------------------------------------------------------------
// Data declarations

// extern BOOL (__stdcall *CryptHashData)(HCRYPTHASH hHash, const BYTE *pbData, DWORD dwDataLen, DWORD dwFlags);
// extern LSTATUS (__stdcall *RegOpenKeyExA)(HKEY hKey, LPCSTR lpSubKey, DWORD ulOptions, REGSAM samDesired, PHKEY phkResult);
// extern LSTATUS (__stdcall *RegQueryValueExA)(HKEY hKey, LPCSTR lpValueName, LPDWORD lpReserved, LPDWORD lpType, LPBYTE lpData, LPDWORD lpcbData);
// extern LSTATUS (__stdcall *RegSetValueExA)(HKEY hKey, LPCSTR lpValueName, DWORD Reserved, DWORD dwType, const BYTE *lpData, DWORD cbData);
// extern LSTATUS (__stdcall *RegCreateKeyExA)(HKEY hKey, LPCSTR lpSubKey, DWORD Reserved, LPSTR lpClass, DWORD dwOptions, REGSAM samDesired, const LPSECURITY_ATTRIBUTES lpSecurityAttributes, PHKEY phkResult, LPDWORD lpdwDisposition);
// extern BOOL (__stdcall *CryptAcquireContextA)(HCRYPTPROV *phProv, LPCSTR szContainer, LPCSTR szProvider, DWORD dwProvType, DWORD dwFlags);
// extern BOOL (__stdcall *CryptCreateHash)(HCRYPTPROV hProv, ALG_ID Algid, HCRYPTKEY hKey, DWORD dwFlags, HCRYPTHASH *phHash);
// extern LSTATUS (__stdcall *RegCloseKey)(HKEY hKey);
// extern BOOL (__stdcall *CryptGetHashParam)(HCRYPTHASH hHash, DWORD dwParam, BYTE *pbData, DWORD *pdwDataLen, DWORD dwFlags);
// extern BOOL (__stdcall *CryptDestroyHash)(HCRYPTHASH hHash);
// extern BOOL (__stdcall *CryptReleaseContext)(HCRYPTPROV hProv, DWORD dwFlags);
// extern HBRUSH (__stdcall *CreateSolidBrush)(COLORREF color);
// extern BOOL (__stdcall *GetTextMetricsA)(HDC hdc, LPTEXTMETRICA lptm);
// extern HGDIOBJ (__stdcall *SelectObject)(HDC hdc, HGDIOBJ h);
// extern DWORD (__stdcall *GetGlyphOutlineW)(HDC hdc, UINT uChar, UINT fuFormat, LPGLYPHMETRICS lpgm, DWORD cjBuffer, LPVOID pvBuffer, const MAT2 *lpmat2);
// extern BOOL (__stdcall *DeleteObject)(HGDIOBJ ho);
// extern DWORD (__stdcall *GetGlyphOutlineA)(HDC hdc, UINT uChar, UINT fuFormat, LPGLYPHMETRICS lpgm, DWORD cjBuffer, LPVOID pvBuffer, const MAT2 *lpmat2);
// extern HFONT (__stdcall *CreateFontIndirectA)(const LOGFONTA *lplf);
// extern int (__stdcall *GetObjectA)(HANDLE h, int c, LPVOID pv);
// extern HFONT (__stdcall *CreateFontA)(int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, DWORD bItalic, DWORD bUnderline, DWORD bStrikeOut, DWORD iCharSet, DWORD iOutPrecision, DWORD iClipPrecision, DWORD iQuality, DWORD iPitchAndFamily, LPCSTR pszFaceName);
// extern HGDIOBJ (__stdcall *GetStockObject)(int i);
// extern BOOL (__stdcall *BitBlt)(HDC hdc, int x, int y, int cx, int cy, HDC hdcSrc, int x1, int y1, DWORD rop);
// extern BOOL (__stdcall *GdiFlush)();
// extern int (__stdcall *SetStretchBltMode)(HDC hdc, int mode);
// extern BOOL (__stdcall *StretchBlt)(HDC hdcDest, int xDest, int yDest, int wDest, int hDest, HDC hdcSrc, int xSrc, int ySrc, int wSrc, int hSrc, DWORD rop);
// extern BOOL (__stdcall *DeleteDC)(HDC hdc);
// extern HDC (__stdcall *CreateCompatibleDC)(HDC hdc);
// extern HBITMAP (__stdcall *CreateDIBSection)(HDC hdc, const BITMAPINFO *pbmi, UINT usage, void **ppvBits, HANDLE hSection, DWORD offset);
// extern HBITMAP (__stdcall *CreateCompatibleBitmap)(HDC hdc, int cx, int cy);
// extern BOOL (__stdcall *ReadFile)(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// extern DWORD (__stdcall *WaitForSingleObject)(HANDLE hHandle, DWORD dwMilliseconds);
// extern void (__stdcall *LeaveCriticalSection)(LPCRITICAL_SECTION lpCriticalSection);
// extern void (__stdcall *InitializeCriticalSection)(LPCRITICAL_SECTION lpCriticalSection);
// extern HMODULE (__stdcall *GetModuleHandleA)(LPCSTR lpModuleName);
// extern HGLOBAL (__stdcall *GlobalAlloc)(UINT uFlags, SIZE_T dwBytes);
// extern HGLOBAL (__stdcall *GlobalFree)(HGLOBAL hMem);
// extern HMODULE (__stdcall *LoadLibraryA)(LPCSTR lpLibFileName);
// extern FARPROC (__stdcall *GetProcAddress)(HMODULE hModule, LPCSTR lpProcName);
// extern HANDLE (__stdcall *CreateMutexA)(LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCSTR lpName);
// extern DWORD (__stdcall *GetLastError)();
// extern DWORD (__stdcall *GetModuleFileNameA)(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
// extern BOOL (__stdcall *GetVolumeInformationA)(LPCSTR lpRootPathName, LPSTR lpVolumeNameBuffer, DWORD nVolumeNameSize, LPDWORD lpVolumeSerialNumber, LPDWORD lpMaximumComponentLength, LPDWORD lpFileSystemFlags, LPSTR lpFileSystemNameBuffer, DWORD nFileSystemNameSize);
// extern UINT (__stdcall *GetDriveTypeA)(LPCSTR lpRootPathName);
// extern BOOL (__stdcall *GetVersionExA)(LPOSVERSIONINFOA lpVersionInformation);
// extern DWORD (__stdcall *GetCurrentThreadId)();
// extern HFILE (__stdcall *lcreat)(LPCSTR lpPathName, int iAttribute);
// extern HFILE (__stdcall *lclose)(HFILE hFile);
// extern BOOL (__stdcall *DeleteFileA)(LPCSTR lpFileName);
// extern void (__stdcall *GetLocalTime)(LPSYSTEMTIME lpSystemTime);
// extern HANDLE (__stdcall *CreateEventA)(LPSECURITY_ATTRIBUTES lpEventAttributes, BOOL bManualReset, BOOL bInitialState, LPCSTR lpName);
// extern void (__stdcall *Sleep)(DWORD dwMilliseconds);
// extern BOOL (__stdcall *SetEvent)(HANDLE hEvent);
// extern BOOL (__stdcall *CreateProcessA)(LPCSTR lpApplicationName, LPSTR lpCommandLine, LPSECURITY_ATTRIBUTES lpProcessAttributes, LPSECURITY_ATTRIBUTES lpThreadAttributes, BOOL bInheritHandles, DWORD dwCreationFlags, LPVOID lpEnvironment, LPCSTR lpCurrentDirectory, LPSTARTUPINFOA lpStartupInfo, LPPROCESS_INFORMATION lpProcessInformation);
// extern LPSTR (__stdcall *lstrcpyA)(LPSTR lpString1, LPCSTR lpString2);
// extern LPSTR (__stdcall *lstrcatA)(LPSTR lpString1, LPCSTR lpString2);
// extern HANDLE (__stdcall *FindFirstFileA)(LPCSTR lpFileName, LPWIN32_FIND_DATAA lpFindFileData);
// extern BOOL (__stdcall *FileTimeToLocalFileTime)(const FILETIME *lpFileTime, LPFILETIME lpLocalFileTime);
// extern BOOL (__stdcall *FileTimeToSystemTime)(const FILETIME *lpFileTime, LPSYSTEMTIME lpSystemTime);
// extern BOOL (__stdcall *FindClose)(HANDLE hFindFile);
// extern BOOL (__stdcall *SetCurrentDirectoryA)(LPCSTR lpPathName);
// extern BOOL (__stdcall *GetExitCodeProcess)(HANDLE hProcess, LPDWORD lpExitCode);
// extern LPTOP_LEVEL_EXCEPTION_FILTER (__stdcall *SetUnhandledExceptionFilter)(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter);
// extern int (__stdcall *MultiByteToWideChar)(UINT CodePage, DWORD dwFlags, LPCCH lpMultiByteStr, int cbMultiByte, LPWSTR lpWideCharStr, int cchWideChar);
// extern int (__stdcall *WideCharToMultiByte)(UINT CodePage, DWORD dwFlags, LPCWCH lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCCH lpDefaultChar, LPBOOL lpUsedDefaultChar);
// extern DWORD (__stdcall *GetFileAttributesA)(LPCSTR lpFileName);
// extern BSTR (__stdcall *SysAllocString)(const OLECHAR *psz);
// extern void (__stdcall *VariantInit)(VARIANTARG *pvarg);
// extern HRESULT (__stdcall *VariantClear)(VARIANTARG *pvarg);
// extern BSTR (__stdcall *SysAllocStringLen)(const OLECHAR *strIn, UINT ui);
// extern void (__stdcall *SysFreeString)(BSTR bstrString);
// extern LPITEMIDLIST (__stdcall *SHBrowseForFolderA)(LPBROWSEINFOA lpbi);
// extern BOOL (__stdcall *SHGetPathFromIDListA)(LPCITEMIDLIST pidl, LPSTR pszPath);
// extern HWND (__stdcall *GetWindow)(HWND hWnd, UINT uCmd);
// extern BOOL (__stdcall *GetWindowRect)(HWND hWnd, LPRECT lpRect);
// extern LRESULT (__stdcall *SendMessageA)(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// extern HWND (__stdcall *GetDlgItem)(HWND hDlg, int nIDDlgItem);
// extern BOOL (__stdcall *EndDialog)(HWND hDlg, INT_PTR nResult);
// extern BOOL (__stdcall *SetForegroundWindow)(HWND hWnd);
// extern BOOL (__stdcall *AttachThreadInput)(DWORD idAttach, DWORD idAttachTo, BOOL fAttach);
// extern DWORD (__stdcall *GetWindowThreadProcessId)(HWND hWnd, LPDWORD lpdwProcessId);
// extern HWND (__stdcall *GetForegroundWindow)();
// extern int (__stdcall *ShowCursor)(BOOL bShow);
// extern int (__stdcall *ReleaseDC)(HWND hWnd, HDC hDC);
// extern int (__stdcall *FillRect)(HDC hDC, const RECT *lprc, HBRUSH hbr);
// extern BOOL (__stdcall *GetClientRect)(HWND hWnd, LPRECT lpRect);
// extern HDC (__stdcall *GetDC)(HWND hWnd);
// extern BOOL (__stdcall *EndPaint)(HWND hWnd, const PAINTSTRUCT *lpPaint);
// extern HDC (__stdcall *BeginPaint)(HWND hWnd, LPPAINTSTRUCT lpPaint);
// extern BOOL (__stdcall *GetUpdateRect)(HWND hWnd, LPRECT lpRect, BOOL bErase);
// extern HWND (__stdcall *GetDesktopWindow)();
// extern BOOL (__stdcall *AppendMenuA)(HMENU hMenu, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem);
// extern HMENU (__stdcall *GetSystemMenu)(HWND hWnd, BOOL bRevert);
// extern HWND (__stdcall *CreateWindowExA)(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam);
// extern BOOL (__stdcall *AdjustWindowRect)(LPRECT lpRect, DWORD dwStyle, BOOL bMenu);
// extern int (__stdcall *GetSystemMetrics)(int nIndex);
// extern INT_PTR (__stdcall *DialogBoxParamA)(HINSTANCE hInstance, LPCSTR lpTemplateName, HWND hWndParent, DLGPROC lpDialogFunc, LPARAM dwInitParam);
// extern LRESULT (__stdcall *DefWindowProcA)(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// extern BOOL (__stdcall *ScreenToClient)(HWND hWnd, LPPOINT lpPoint);
// extern BOOL (__stdcall *GetCursorPos)(LPPOINT lpPoint);
// extern BOOL (__stdcall *DeleteMenu)(HMENU hMenu, UINT uPosition, UINT uFlags);
// extern BOOL (__stdcall *IsIconic)(HWND hWnd);
// extern BOOL (__stdcall *UpdateWindow)(HWND hWnd);
// extern BOOL (__stdcall *SetWindowPos)(HWND hWnd, HWND hWndInsertAfter, int X, int Y, int cx, int cy, UINT uFlags);
// extern BOOL (__stdcall *PostMessageA)(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// extern BOOL (__stdcall *PeekMessageA)(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax, UINT wRemoveMsg);
// extern BOOL (__stdcall *TranslateMessage)(const MSG *lpMsg);
// extern LRESULT (__stdcall *DispatchMessageA)(const MSG *lpMsg);
// extern BOOL (__stdcall *InvalidateRect)(HWND hWnd, const RECT *lpRect, BOOL bErase);
// extern void (__stdcall *PostQuitMessage)(int nExitCode);
// extern BOOL (__stdcall *KillTimer)(HWND hWnd, UINT_PTR uIDEvent);
// extern BOOL (__stdcall *EnumDisplayMonitors)(HDC hdc, LPCRECT lprcClip, MONITORENUMPROC lpfnEnum, LPARAM dwData);
// extern UINT_PTR (__stdcall *SetTimer)(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
// extern int (__stdcall *MessageBoxA)(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType);
// extern DWORD (__stdcall *WaitForInputIdle)(HANDLE hProcess, DWORD dwMilliseconds);
// extern BOOL (__stdcall *EnableWindow)(HWND hWnd, BOOL bEnable);
// extern HCURSOR (__stdcall *LoadCursorA)(HINSTANCE hInstance, LPCSTR lpCursorName);
// extern BOOL (__stdcall *DestroyCursor)(HCURSOR hCursor);
// extern HANDLE (__stdcall *LoadImageA)(HINSTANCE hInst, LPCSTR name, UINT type, int cx, int cy, UINT fuLoad);
// extern HCURSOR (__stdcall *SetCursor)(HCURSOR hCursor);
// extern BOOL (__stdcall *SetCursorPos)(int X, int Y);
// extern SHORT (__stdcall *GetAsyncKeyState)(int vKey);
// extern BOOL (__stdcall *RedrawWindow)(HWND hWnd, const RECT *lprcUpdate, HRGN hrgnUpdate, UINT flags);
// extern BOOL (__stdcall *ClientToScreen)(HWND hWnd, LPPOINT lpPoint);
// extern BOOL (__stdcall *DestroyWindow)(HWND hWnd);
// extern LONG (__stdcall *SetWindowLongA)(HWND hWnd, int nIndex, LONG dwNewLong);
// extern int (__stdcall *wvsprintfA)(LPSTR, LPCSTR, va_list arglist);
// extern int (__stdcall *GetWindowTextA)(HWND hWnd, LPSTR lpString, int nMaxCount);
// extern HWND (__stdcall *SetFocus)(HWND hWnd);
// extern HDC (__stdcall *GetWindowDC)(HWND hWnd);
// extern BOOL (__stdcall *SetWindowTextA)(HWND hWnd, LPCSTR lpString);
// extern LONG (__stdcall *GetWindowLongA)(HWND hWnd, int nIndex);
// extern BOOL (__stdcall *ShowWindow)(HWND hWnd, int nCmdShow);
// extern HICON (__stdcall *LoadIconA)(HINSTANCE hInstance, LPCSTR lpIconName);
// extern ATOM (__stdcall *RegisterClassA)(const WNDCLASSA *lpWndClass);
// extern BOOL (__stdcall *HttpSendRequestA)(HINTERNET hRequest, LPCSTR lpszHeaders, DWORD dwHeadersLength, LPVOID lpOptional, DWORD dwOptionalLength);
// extern BOOL (__stdcall *InternetCrackUrlA)(LPCSTR lpszUrl, DWORD dwUrlLength, DWORD dwFlags, LPURL_COMPONENTSA lpUrlComponents);
// extern HINTERNET (__stdcall *InternetOpenA)(LPCSTR lpszAgent, DWORD dwAccessType, LPCSTR lpszProxy, LPCSTR lpszProxyBypass, DWORD dwFlags);
// extern HINTERNET (__stdcall *InternetConnectA)(HINTERNET hInternet, LPCSTR lpszServerName, INTERNET_PORT nServerPort, LPCSTR lpszUserName, LPCSTR lpszPassword, DWORD dwService, DWORD dwFlags, DWORD_PTR dwContext);
// extern HINTERNET (__stdcall *HttpOpenRequestA)(HINTERNET hConnect, LPCSTR lpszVerb, LPCSTR lpszObjectName, LPCSTR lpszVersion, LPCSTR lpszReferrer, LPCSTR *lplpszAcceptTypes, DWORD dwFlags, DWORD_PTR dwContext);
// extern BOOL (__stdcall *HttpQueryInfoA)(HINTERNET hRequest, DWORD dwInfoLevel, LPVOID lpBuffer, LPDWORD lpdwBufferLength, LPDWORD lpdwIndex);
// extern BOOL (__stdcall *InternetReadFile)(HINTERNET hFile, LPVOID lpBuffer, DWORD dwNumberOfBytesToRead, LPDWORD lpdwNumberOfBytesRead);
// extern BOOL (__stdcall *InternetCloseHandle)(HINTERNET hInternet);
// extern MMRESULT (__stdcall *mmioAscend)(HMMIO hmmio, LPMMCKINFO pmmcki, UINT fuAscend);
// extern MMRESULT (__stdcall *mmioDescend)(HMMIO hmmio, LPMMCKINFO pmmcki, const MMCKINFO *pmmckiParent, UINT fuDescend);
// extern LONG (__stdcall *mmioRead)(HMMIO hmmio, HPSTR pch, LONG cch);
// extern MMRESULT (__stdcall *mmioClose)(HMMIO hmmio, UINT fuClose);
// extern HMMIO (__stdcall *mmioOpenA)(LPSTR pszFileName, LPMMIOINFO pmmioinfo, DWORD fdwOpen);
// extern DWORD (__stdcall *timeGetTime)();
// extern MMRESULT (__stdcall *timeKillEvent)(UINT uTimerID);
// extern void (__stdcall *CoUninitialize)();
// extern HRESULT (__stdcall *CoInitialize)(LPVOID pvReserved);
// extern HRESULT (__stdcall *CoInitializeSecurity)(PSECURITY_DESCRIPTOR pSecDesc, LONG cAuthSvc, SOLE_AUTHENTICATION_SERVICE *asAuthSvc, void *pReserved1, DWORD dwAuthnLevel, DWORD dwImpLevel, void *pAuthList, DWORD dwCapabilities, void *pReserved3);
// extern HRESULT (__stdcall *CoCreateInstance)(const IID *const rclsid, LPUNKNOWN pUnkOuter, DWORD dwClsContext, const IID *const riid, LPVOID *ppv);
void *std::bad_alloc::`vftable' = &sub_401010; // weak
const char byte_48B490 = '\x81'; // idb
const char byte_48B494 = '\x81'; // idb
const char byte_48B498 = '\x81'; // idb
const char word_48B5C0[] = { '\\', '\0' }; // idb
void *std::logic_error::`vftable' = &sub_403BE0; // weak
void *std::out_of_range::`vftable' = &sub_403BE0; // weak
int dword_48B620 = 7471168; // weak
__int16 word_48B628[] = { 64 }; // weak
const char byte_48B630 = '\x81'; // idb
const CHAR Caption = '\x8E'; // idb
const CHAR byte_48B6CC = '\x81'; // idb
CHAR String2[4] = { '\x81', 'u', '\0', '\0' }; // weak
const CHAR Source[4] = { '\0', '\0', '\0', '\0' }; // idb
const char dword_48B79C[] = { 'i', 'o', '_', '\0' }; // idb
__int16 word_48B7E0 = 110; // weak
__int16 word_48B7E4 = 97; // weak
__int16 word_48B7E8 = 98; // weak
const char word_48B7EC[] = { '_', '\0' }; // idb
const char byte_48B80C = '\x81'; // idb
const char word_48B810[] = { '\n', '\0' }; // idb
const char dword_48B824[] = { 't', 'r', 'u', 'e' }; // idb
const CHAR byte_48B82C = '\x90'; // idb
const CHAR Text = '\x83'; // idb
const CHAR WindowName[6] = "D.C.4 "; // idb
const char dword_48B908[] = { '\x8B', '\xF3', '\x97', '\xC7' }; // idb
const char dword_48B910[] = { '\x9F', 'N', '\x88', '\xE4' }; // idb
void *off_48B9AC = &unk_505247; // weak
const CHAR aNamesDat[9] = "names.dat"; // idb
const char byte_48BA70 = '\x83'; // idb
const CHAR byte_48BAD0 = '\x90'; // idb
const char aS_3[4] = "\"%s\""; // idb
const char byte_48BB40 = '\x83'; // idb
const char aSVerS[12] = "%s Ver. %s\r\n"; // idb
const CHAR byte_48BBE4 = '\x83'; // idb
const CHAR byte_48BC18 = '\x8D'; // idb
const CHAR byte_48BC70 = '\x93'; // idb
const CHAR byte_48BCCC = '\x89'; // idb
const CHAR aHttpMycircusid_1[36] = "http://mycircusid.fc-soft.com/kkey/\n"; // idb
const CHAR aHttpMycircusid_0[36] = "http://mycircusid.fc-soft.com/kkey/\n"; // idb
const CHAR byte_48BDA4 = '\x89'; // idb
const CHAR byte_48BDD8 = '\x89'; // idb
const CHAR byte_48BE60 = '\x90'; // idb
const CHAR aDc4_0[3] = "DC4"; // idb
const IID riid = { 3692209799u, 29567u, 4559u, { 136u, 77u, 0u, 170u, 0u, 75u, 46u, 36u } }; // idb
const CHAR byte_48BEF4 = '\x83'; // idb
const CHAR byte_48BF04 = '\x83'; // idb
const CHAR byte_48BF50 = '\x83'; // idb
const CHAR byte_48BFC4 = '\x83'; // idb
const OLECHAR off_48BFE4 = 87u; // idb
const char byte_48C188 = '\x89'; // idb
const char byte_48C1C0 = '\x83'; // idb
const char byte_48C1E4 = '\x83'; // idb
const char byte_48C210 = '\x83'; // idb
const char aRom[3] = "ROM"; // idb
char byte_48C270[20] =
{
  '\x83',
  '\x81',
  '\x83',
  'C',
  '\x83',
  '\x93',
  'H',
  'D',
  'D',
  ':',
  '%',
  'd',
  '/',
  '%',
  'd',
  'M',
  'B',
  '\n',
  '\0',
  '\0'
}; // weak
char byte_48C284[20] =
{
  '\x83',
  '\x81',
  '\x83',
  'C',
  '\x83',
  '\x93',
  'H',
  'D',
  'D',
  ':',
  '%',
  'd',
  '/',
  '%',
  'd',
  'G',
  'B',
  '\n',
  '\0',
  '\0'
}; // weak
const CHAR byte_48C3A0 = '\x83'; // idb
_UNKNOWN unk_48C3C4; // weak
const CHAR byte_48C3E0 = '\x83'; // idb
const CHAR byte_48C3FC = '\x83'; // idb
const CHAR byte_48C420 = '\x83'; // idb
const CHAR byte_48C434 = '\x8F'; // idb
const char aS_4[3] = "%s\n"; // idb
const char byte_48C460 = '\x92'; // idb
CHAR byte_48C484[28] =
{
  '\x83',
  '\x8D',
  '\x83',
  'O',
  '\x83',
  'C',
  '\x83',
  '\x93',
  '\x82',
  '\xC9',
  '\x8E',
  '\xB8',
  '\x94',
  's',
  '\x82',
  '\xB5',
  '\x82',
  '\xDC',
  '\x82',
  '\xB5',
  '\x82',
  '\xBD',
  '\x81',
  'B',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
const char byte_48C4B0 = '\x83'; // idb
const CHAR aDc4[3] = "DC4"; // idb
const char aDirectx[7] = "DirectX"; // idb
_UNKNOWN unk_48C538; // weak
const CHAR byte_48C55C = '\x82'; // idb
const char aS_5[2] = "%s"; // idb
void *std::length_error::`vftable' = &sub_403BE0; // weak
CHAR pszFaceName[16] =
{
  '\x82',
  'l',
  '\x82',
  'r',
  ' ',
  '\x83',
  'S',
  '\x83',
  'V',
  '\x83',
  'b',
  '\x83',
  'N',
  '\0',
  '\0',
  '\0'
}; // weak
const CHAR byte_48C684 = '\x93'; // idb
const CHAR asc_48C6B8[1] = "@"; // idb
const char word_48C6E4[] = { '@', '\0' }; // idb
const char word_48C774[] = { '@', ',' }; // idb
const char word_48C778[] = { '*', ',' }; // idb
const char word_48C794[] = { ',', '\0' }; // idb
const CHAR byte_48C9B0 = '\x83'; // idb
const CHAR byte_48C9EC = '\x83'; // idb
const CHAR byte_48CB0C = '\x83'; // idb
const CHAR byte_49152C = '\x83'; // idb
const CHAR aMes_0[3] = "MES"; // idb
const CHAR aMes_1[3] = "MES"; // idb
_UNKNOWN unk_4915A0; // weak
const CHAR byte_4915AC = '\x83'; // idb
CHAR byte_491D04[40] =
{
  '\x83',
  's',
  '\x83',
  'N',
  '\x83',
  'Z',
  '\x83',
  '\x8B',
  '\x83',
  'V',
  '\x83',
  'F',
  '\x81',
  '[',
  '\x83',
  '_',
  '\x81',
  'E',
  '\x83',
  'o',
  '\x81',
  '[',
  '\x83',
  'W',
  '\x83',
  '\x87',
  '\x83',
  '\x93',
  ' ',
  'F',
  'a',
  'i',
  'l',
  'e',
  'd',
  '\n',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
CHAR byte_491D2C[36] =
{
  '\x83',
  's',
  '\x83',
  'N',
  '\x83',
  'Z',
  '\x83',
  '\x8B',
  '\x83',
  'V',
  '\x83',
  'F',
  '\x81',
  '[',
  '\x83',
  '_',
  '\x81',
  'E',
  '\x83',
  'o',
  '\x81',
  '[',
  '\x83',
  'W',
  '\x83',
  '\x87',
  '\x83',
  '\x93',
  ' ',
  '%',
  'd',
  '\n',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
CHAR byte_491D50[32] =
{
  '\x92',
  '\xB8',
  '\x93',
  '_',
  '\x83',
  'V',
  '\x83',
  'F',
  '\x81',
  '[',
  '\x83',
  '_',
  '\x81',
  'E',
  '\x83',
  'o',
  '\x81',
  '[',
  '\x83',
  'W',
  '\x83',
  '\x87',
  '\x83',
  '\x93',
  ' ',
  '%',
  'd',
  '\n',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
CHAR byte_491D70[24] =
{
  '\x83',
  'C',
  '\x83',
  '\x93',
  '\x83',
  'f',
  '\x83',
  'b',
  '\x83',
  'N',
  '\x83',
  'X',
  '\x90',
  '\x94',
  ' ',
  'f',
  'l',
  'a',
  'i',
  'e',
  'd',
  '\0',
  '\0',
  '\0'
}; // weak
CHAR byte_491D88[20] =
{
  '\x83',
  'C',
  '\x83',
  '\x93',
  '\x83',
  'f',
  '\x83',
  'b',
  '\x83',
  'N',
  '\x83',
  'X',
  '\x90',
  '\x94',
  ' ',
  '%',
  'd',
  '\n',
  '\0',
  '\0'
}; // weak
CHAR byte_491D9C[20] =
{
  '\x83',
  'v',
  '\x83',
  '\x8A',
  '\x83',
  '~',
  '\x83',
  'e',
  '\x83',
  'B',
  '\x83',
  'u',
  '\x90',
  '\x94',
  ' ',
  '%',
  'd',
  '\n',
  '\0',
  '\0'
}; // weak
CHAR byte_491DDC[20] =
{
  '\x92',
  '\xB8',
  '\x93',
  '_',
  '\x83',
  'X',
  '\x83',
  'g',
  '\x83',
  '\x8A',
  '\x81',
  '[',
  '\x83',
  '\x80',
  ' ',
  '%',
  'd',
  '\n',
  '\0',
  '\0'
}; // weak
const CHAR aDirect3d[8] = "Direct3D"; // idb
const CHAR byte_491FC8 = '\x83'; // idb
const char byte_491FF0 = '\x83'; // idb
const char byte_49201C = '\x8C'; // idb
char byte_492040[36] =
{
  '\x83',
  'G',
  '\x83',
  '\x89',
  '\x81',
  '[',
  ':',
  ' ',
  'P',
  'C',
  'M',
  '\x8C',
  '`',
  '\x8E',
  '\xAE',
  '\x82',
  '\xC5',
  '\x82',
  '\xCD',
  '\x82',
  '\xA0',
  '\x82',
  '\xE8',
  '\x82',
  '\xDC',
  '\x82',
  '\xB9',
  '\x82',
  '\xF1',
  '\x81',
  'B',
  '\n',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
char byte_492064[60] =
{
  '\x83',
  'G',
  '\x83',
  '\x89',
  '\x81',
  '[',
  ':',
  ' ',
  '\x83',
  't',
  '\x83',
  '@',
  '\x83',
  'C',
  '\x83',
  '\x8B',
  '\x82',
  '\xAA',
  '\x89',
  '\xF3',
  '\x82',
  '\xEA',
  '\x82',
  '\xC4',
  '\x82',
  '\xA2',
  '\x82',
  '\xE9',
  '\x82',
  '\xA9',
  '\x81',
  'A',
  '\x93',
  '\xC7',
  '\x82',
  '\xDD',
  '\x8D',
  '\x9E',
  '\x82',
  '\xDD',
  '\x82',
  '\xC9',
  '\x8E',
  '\xB8',
  '\x94',
  's',
  '\x82',
  '\xB5',
  '\x82',
  '\xDC',
  '\x82',
  '\xB5',
  '\x82',
  '\xBD',
  '\x81',
  'B',
  '\n',
  '\0',
  '\0',
  '\0'
}; // weak
char byte_4920A0[40] =
{
  '\x83',
  'G',
  '\x83',
  '\x89',
  '\x81',
  '[',
  ':',
  ' ',
  '\x83',
  't',
  '\x83',
  '@',
  '\x83',
  'C',
  '\x83',
  '\x8B',
  ' ',
  '\"',
  '%',
  's',
  '\"',
  ' ',
  '\x82',
  '\xAA',
  '\x8A',
  'J',
  '\x82',
  '\xAF',
  '\x82',
  '\xDC',
  '\x82',
  '\xB9',
  '\x82',
  '\xF1',
  '\x81',
  'B',
  '\n',
  '\0',
  '\0',
  '\0'
}; // weak
const CHAR aData[4] = "data"; // idb
const CHAR aWaveformatexe[13] = "WAVEFORMATEXE"; // idb
const CHAR aFmt[3] = "fmt"; // idb
const CHAR aWave[4] = "Wave"; // idb
const char aFont[5] = "FONT:"; // idb
const char word_4921C8[] = { '@', 'l' }; // idb
__int16 word_4921CC[] = { 64 }; // weak
const wchar_t word_4921D4 = 65373u; // idb
const wchar_t word_4921D8 = 65295u; // idb
const wchar_t word_4921DC = 65371u; // idb
const wchar_t asc_4921F8[] = L"\n"; // idb
_UNKNOWN unk_492304; // weak
void *std::locale::facet::`vftable' = &sub_453A60; // weak
void *std::ios_base::`vftable' = &sub_453AC0; // weak
void *std::ostream::`vftable' = &sub_4549E0; // weak
void *std::istream::`vftable' = &sub_454A20; // weak
void *std::iostream::`vftable' = &sub_454A80; // weak
void *std::ios::`vftable' = &sub_453AC0; // weak
void *std::ctype<char>::`vftable' = &sub_454420; // weak
void *std::streambuf::`vftable' = &sub_454A60; // weak
void *std::stringbuf::`vftable' = &sub_454AE0; // weak
void *std::basic_stringstream<char,std::char_traits<char>,std::allocator<char>>::`vftable' = &sub_454F70; // weak
void *std::runtime_error::`vftable' = &sub_455380; // weak
void *std::ios_base::failure::`vftable' = &sub_455380; // weak
_UNKNOWN unk_492688; // weak
_UNKNOWN unk_492690; // weak
_UNKNOWN unk_492698; // weak
_UNKNOWN unk_4926A0; // weak
const CHAR aHttp_1[4] = "HTTP"; // idb
const CHAR aHttp_0[4] = "HTTP"; // idb
CHAR byte_4926E8[36] =
{
  '\x83',
  'X',
  '\x83',
  'e',
  '\x81',
  '[',
  '\x83',
  '^',
  '\x83',
  'X',
  '\x83',
  'R',
  '\x81',
  '[',
  '\x83',
  'h',
  '\x82',
  '\xAA',
  '\x90',
  '\xAC',
  '\x8C',
  '\xF7',
  '\x82',
  '\xC5',
  '\x82',
  '\xC8',
  '\x82',
  '\xA2',
  '\x82',
  '\xC5',
  '\x82',
  '\xB7',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
CHAR byte_49270C[40] =
{
  '\x83',
  'X',
  '\x83',
  'e',
  '\x81',
  '[',
  '\x83',
  '^',
  '\x83',
  'X',
  '\x83',
  'R',
  '\x81',
  '[',
  '\x83',
  'h',
  '\x82',
  '\xCC',
  '\x8E',
  '\xE6',
  '\x93',
  '\xBE',
  '\x82',
  '\xC9',
  '\x8E',
  '\xB8',
  '\x94',
  's',
  '\x82',
  '\xB5',
  '\x82',
  '\xDC',
  '\x82',
  '\xB5',
  '\x82',
  '\xBD',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
const CHAR aHttp_4[] = "HTTP"; // idb
const CHAR aHttp_3[] = "HTTP"; // idb
const CHAR aHttp_2[] = "HTTP"; // idb
const CHAR aWininet[] = "WinInet"; // idb
const CHAR aUrl_0[3] = "URL"; // idb
const CHAR aUrl[3] = "URL"; // idb
const CHAR byte_492838 = '\x83'; // idb
const char byte_492850 = '\x8A'; // idb
const char byte_492858 = '\x90'; // idb
const char byte_492860 = '\x88'; // idb
const char byte_492868 = '\x97'; // idb
const char byte_492870 = '\x82'; // idb
const char byte_492878 = '\x96'; // idb
const char byte_492880 = '\x8E'; // idb
const char byte_492888 = '\x82'; // idb
const char byte_492890 = '\xE6'; // idb
const char byte_492898 = '\x93'; // idb
const char byte_4928A0 = '\x97'; // idb
const char byte_4928A8 = '\x81'; // idb
void *std::exception::`vftable' = &sub_45A5E7; // weak
void *std::bad_cast::`vftable' = &sub_45A608; // weak
void *type_info::`vftable' = &sub_45A63F; // weak
const unsigned __int8 byte_492984 = 46u; // idb
const unsigned __int8 Control = 63u; // idb
void *std::bad_exception::`vftable' = &sub_4617E8; // weak
const IID rclsid = { 3414513100u, 37160u, 4561u, { 173u, 155u, 0u, 192u, 79u, 216u, 253u, 255u } }; // idb
char byte_4962DC[] = { '\0' }; // weak
int dword_4962E0[31] =
{
  16,
  17,
  18,
  0,
  8,
  7,
  9,
  6,
  10,
  5,
  11,
  4,
  12,
  3,
  13,
  2,
  14,
  1,
  15,
  1718511904,
  1702125932,
  825110816,
  1126183982,
  1920561263,
  1952999273,
  960049440,
  808594741,
  1293955632,
  543912545,
  1701602369,
  8306
}; // weak
_UNKNOWN unk_49635C; // weak
_UNKNOWN unk_4963D8; // weak
_UNKNOWN unk_496454; // weak
_UNKNOWN unk_4964CC; // weak
_UNKNOWN unk_496568; // weak
_UNKNOWN unk_49656C; // weak
_UNKNOWN unk_496678; // weak
_UNKNOWN unk_4966C8; // weak
double dbl_49C008[18] =
{
  0.0,
  0.5,
  1.0,
  1.5,
  2.5,
  4.5,
  8.5,
  16.5,
  9.0e10,
  0.0,
  0.5,
  1.0,
  1.5,
  2.0,
  2.5,
  4.5,
  8.5,
  9.0e10
}; // weak
void *off_49C148 = &unk_4A45D0; // weak
void *off_49C150 = &unk_4A4148; // weak
int (__cdecl **off_49C15C)(int, int, int) = &off_4A4128; // weak
void *off_4A4108 = &unk_49C188; // weak
int (__cdecl *off_4A4128)(int, int, int) = &sub_4807B0; // weak
float flt_4A41A8[256] =
{
  1.0649863e-7,
  1.1341951e-7,
  1.2079015e-7,
  1.2863978e-7,
  1.369995e-7,
  1.459025e-7,
  1.5538409e-7,
  1.6548181e-7,
  1.7623574e-7,
  1.8768856e-7,
  1.998856e-7,
  2.1287531e-7,
  2.2670913e-7,
  2.4144197e-7,
  2.5713223e-7,
  2.7384212e-7,
  2.9163792e-7,
  3.1059022e-7,
  3.307741e-7,
  3.5226967e-7,
  3.7516213e-7,
  3.995423e-7,
  4.2550681e-7,
  4.5315863e-7,
  4.8260745e-7,
  5.1397001e-7,
  5.4737063e-7,
  5.8294188e-7,
  6.2082472e-7,
  6.6116939e-7,
  7.0413591e-7,
  7.4989464e-7,
  7.9862701e-7,
  8.5052631e-7,
  9.0579829e-7,
  9.6466215e-7,
  0.0000010273513,
  0.0000010941144,
  0.0000011652161,
  0.0000012409384,
  0.0000013215816,
  0.0000014074654,
  0.0000014989305,
  0.0000015963394,
  0.0000017000785,
  0.0000018105592,
  0.0000019282195,
  0.000002053526,
  0.0000021869757,
  0.0000023290977,
  0.0000024804558,
  0.0000026416496,
  0.000002813319,
  0.0000029961443,
  0.0000031908505,
  0.0000033982101,
  0.0000036190449,
  0.0000038542307,
  0.0000041047006,
  0.0000043714472,
  0.0000046555283,
  0.0000049580708,
  0.0000052802739,
  0.0000056234162,
  0.0000059888571,
  0.0000063780467,
  0.0000067925284,
  0.0000072339453,
  0.0000077040477,
  0.0000082047,
  0.0000087378876,
  0.0000093057251,
  0.0000099104636,
  0.000010554501,
  0.000011240392,
  0.000011970856,
  0.000012748789,
  0.000013577278,
  0.000014459606,
  0.000015399271,
  0.000016400005,
  0.000017465769,
  0.000018600793,
  0.000019809577,
  0.000021096914,
  0.000022467912,
  0.000023928002,
  0.000025482977,
  0.000027139005,
  0.00002890265,
  0.00003078091,
  0.000032781227,
  0.000034911533,
  0.000037180282,
  0.000039596467,
  0.000042169668,
  0.000044910092,
  0.000047828602,
  0.000050936775,
  0.000054246932,
  0.000057772202,
  0.000061526567,
  0.00006552491,
  0.000069783084,
  0.000074317984,
  0.000079147583,
  0.000084291038,
  0.00008976875,
  0.000095602423,
  0.00010181521,
  0.00010843174,
  0.00011547824,
  0.00012298267,
  0.00013097477,
  0.00013948625,
  0.00014855085,
  0.00015820454,
  0.00016848555,
  0.00017943469,
  0.00019109536,
  0.00020351382,
  0.0002167393,
  0.00023082423,
  0.00024582449,
  0.00026179955,
  0.00027881275,
  0.00029693157,
  0.00031622787,
  0.00033677815,
  0.00035866388,
  0.00038197188,
  0.00040679457,
  0.00043323037,
  0.0004613841,
  0.00049136748,
  0.00052329927,
  0.00055730622,
  0.00059352309,
  0.00063209358,
  0.00067317061,
  0.00071691698,
  0.00076350628,
  0.00081312325,
  0.00086596457,
  0.00092223985,
  0.00098217221,
  0.0010459992,
  0.0011139743,
  0.0011863665,
  0.0012634633,
  0.0013455702,
  0.0014330129,
  0.0015261382,
  0.0016253153,
  0.0017309374,
  0.0018434235,
  0.0019632196,
  0.0020908006,
  0.0022266726,
  0.0023713743,
  0.0025254795,
  0.0026895993,
  0.0028643848,
  0.0030505287,
  0.0032487691,
  0.0034598925,
  0.0036847359,
  0.0039241905,
  0.0041792067,
  0.0044507948,
  0.0047400328,
  0.0050480668,
  0.0053761187,
  0.005725489,
  0.0060975635,
  0.0064938175,
  0.0069158226,
  0.0073652514,
  0.0078438874,
  0.0083536273,
  0.0088964924,
  0.009474637,
  0.010090352,
  0.01074608,
  0.011444421,
  0.012188144,
  0.012980198,
  0.013823725,
  0.014722068,
  0.015678791,
  0.016697686,
  0.017782796,
  0.018938422,
  0.020169148,
  0.021479854,
  0.022875736,
  0.024362329,
  0.025945531,
  0.027631618,
  0.029427277,
  0.031339627,
  0.03337625,
  0.035545226,
  0.037855156,
  0.0403152,
  0.042935107,
  0.045725275,
  0.048696756,
  0.051861349,
  0.05523159,
  0.058820851,
  0.062643364,
  0.066714279,
  0.07104975,
  0.075666964,
  0.080584228,
  0.085821047,
  0.09139818,
  0.097337745,
  0.1036633,
  0.11039993,
  0.11757434,
  0.12521498,
  0.13335215,
  0.14201812,
  0.15124726,
  0.16107617,
  0.17154381,
  0.18269168,
  0.19456401,
  0.20720787,
  0.22067343,
  0.23501402,
  0.25028655,
  0.26655158,
  0.28387362,
  0.30232131,
  0.32196787,
  0.34289113,
  0.36517414,
  0.3889052,
  0.41417846,
  0.44109413,
  0.4697589,
  0.50028646,
  0.53279793,
  0.56742209,
  0.60429639,
  0.64356697,
  0.68538958,
  0.72993004,
  0.77736503,
  0.82788259,
  0.88168305,
  0.9389798,
  1.0
}; // weak
const IID stru_4A45FC = { 3828804531u, 21071u, 4558u, { 159u, 83u, 0u, 32u, 175u, 11u, 167u, 112u } }; // idb
_UNKNOWN unk_4A460C; // weak
_UNKNOWN unk_4A461C; // weak
_UNKNOWN unk_4A462C; // weak
_UNKNOWN unk_4A463C; // weak
_UNKNOWN unk_4A464C; // weak
_UNKNOWN unk_4A465C; // weak
const IID stru_4A466C = { 1453877417u, 2772u, 4558u, { 176u, 58u, 0u, 32u, 175u, 11u, 167u, 112u } }; // idb
int dword_4A98F0[256] =
{
  0,
  79764919,
  159529838,
  222504665,
  319059676,
  398814059,
  445009330,
  507990021,
  638119352,
  583659535,
  797628118,
  726387553,
  890018660,
  835552979,
  1015980042,
  944750013,
  1276238704,
  1221641927,
  1167319070,
  1095957929,
  1595256236,
  1540665371,
  1452775106,
  1381403509,
  1780037320,
  1859660671,
  1671105958,
  1733955601,
  2031960084,
  2111593891,
  1889500026,
  1952343757,
  -1742489888,
  -1662866601,
  -1851683442,
  -1788833735,
  -1960329156,
  -1880695413,
  -2103051438,
  -2040207643,
  -1104454824,
  -1159051537,
  -1213636554,
  -1284997759,
  -1389417084,
  -1444007885,
  -1532160278,
  -1603531939,
  -734892656,
  -789352409,
  -575645954,
  -646886583,
  -952755380,
  -1007220997,
  -827056094,
  -898286187,
  -231047128,
  -151282273,
  -71779514,
  -8804623,
  -515967244,
  -436212925,
  -390279782,
  -327299027,
  881225847,
  809987520,
  1023691545,
  969234094,
  662832811,
  591600412,
  771767749,
  717299826,
  311336399,
  374308984,
  453813921,
  533576470,
  25881363,
  88864420,
  134795389,
  214552010,
  2023205639,
  2086057648,
  1897238633,
  1976864222,
  1804852699,
  1867694188,
  1645340341,
  1724971778,
  1587496639,
  1516133128,
  1461550545,
  1406951526,
  1302016099,
  1230646740,
  1142491917,
  1087903418,
  -1398421865,
  -1469785312,
  -1524105735,
  -1578704818,
  -1079922613,
  -1151291908,
  -1239184603,
  -1293773166,
  -1968362705,
  -1905510760,
  -2094067647,
  -2014441994,
  -1716953613,
  -1654112188,
  -1876203875,
  -1796572374,
  -525066777,
  -462094256,
  -382327159,
  -302564546,
  -206542021,
  -143559028,
  -97365931,
  -17609246,
  -960696225,
  -1031934488,
  -817968335,
  -872425850,
  -709327229,
  -780559564,
  -600130067,
  -654598054,
  1762451694,
  1842216281,
  1619975040,
  1682949687,
  2047383090,
  2127137669,
  1938468188,
  2001449195,
  1325665622,
  1271206113,
  1183200824,
  1111960463,
  1543535498,
  1489069629,
  1434599652,
  1363369299,
  622672798,
  568075817,
  748617968,
  677256519,
  907627842,
  853037301,
  1067152940,
  995781531,
  51762726,
  131386257,
  177728840,
  240578815,
  269590778,
  349224269,
  429104020,
  491947555,
  -248556018,
  -168932423,
  -122852000,
  -60002089,
  -500490030,
  -420856475,
  -341238852,
  -278395381,
  -685261898,
  -739858943,
  -559578920,
  -630940305,
  -1004286614,
  -1058877219,
  -845023740,
  -916395085,
  -1119974018,
  -1174433591,
  -1262701040,
  -1333941337,
  -1371866206,
  -1426332139,
  -1481064244,
  -1552294533,
  -1690935098,
  -1611170447,
  -1833673816,
  -1770699233,
  -2009983462,
  -1930228819,
  -2119160460,
  -2056179517,
  1569362073,
  1498123566,
  1409854455,
  1355396672,
  1317987909,
  1246755826,
  1192025387,
  1137557660,
  2072149281,
  2135122070,
  1912620623,
  1992383480,
  1753615357,
  1816598090,
  1627664531,
  1707420964,
  295390185,
  358241886,
  404320391,
  483945776,
  43990325,
  106832002,
  186451547,
  266083308,
  932423249,
  861060070,
  1041341759,
  986742920,
  613929101,
  542559546,
  756411363,
  701822548,
  -978770311,
  -1050133554,
  -869589737,
  -924188512,
  -693284699,
  -764654318,
  -550540341,
  -605129092,
  -475935807,
  -413084042,
  -366743377,
  -287118056,
  -257573603,
  -194731862,
  -114850189,
  -35218492,
  -1984365303,
  -1921392450,
  -2143631769,
  -2063868976,
  -1698919467,
  -1635936670,
  -1824608069,
  -1744851700,
  -1347415887,
  -1418654458,
  -1506661409,
  -1561119128,
  -1129027987,
  -1200260134,
  -1254728445,
  -1309196108
}; // weak
int dword_4A9CF0[42] =
{
  0,
  1,
  3,
  7,
  15,
  31,
  63,
  127,
  255,
  511,
  1023,
  2047,
  4095,
  8191,
  16383,
  32767,
  65535,
  131071,
  262143,
  524287,
  1048575,
  2097151,
  4194303,
  8388607,
  16777215,
  33554431,
  67108863,
  134217727,
  268435455,
  536870911,
  1073741823,
  2147483647,
  -1,
  0,
  128,
  192,
  224,
  240,
  248,
  252,
  254,
  255
}; // weak
_UNKNOWN unk_4AA520; // weak
const _ThrowInfo _TI2_AVbad_alloc_std__ = { 0u, &sub_401000, NULL, &_CTA2_AVbad_alloc_std__ }; // idb
const _ThrowInfo _TI3_AVout_of_range_std__ = { 0u, &sub_403BA0, NULL, &_CTA3_AVout_of_range_std__ }; // idb
const _ThrowInfo _TI1_AVCAtlException_ATL__ = { 0u, NULL, NULL, &_CTA1_AVCAtlException_ATL__ }; // idb
const _ThrowInfo _TI3_AVlength_error_std__ = { 0u, &sub_403BA0, NULL, &_CTA3_AVlength_error_std__ }; // idb
const _ThrowInfo _TI2_AVbad_cast_std__ = { 0u, &sub_45A5DC, NULL, &_CTA2_AVbad_cast_std__ }; // idb
const _ThrowInfo _TI3_AVfailure_ios_base_std__ = { 0u, &sub_455340, NULL, &_CTA3_AVfailure_ios_base_std__ }; // idb
char SubStr[960] =
{
  '\x88',
  '\xEA',
  '\x93',
  'o',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x97',
  'L',
  '\x97',
  '\xA2',
  '\x90',
  '\xB2',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x97',
  'L',
  '\x97',
  '\xA2',
  '\x8D',
  '\xE7',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x93',
  '\xF1',
  '\x94',
  'T',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xE6',
  '}',
  '\x8E',
  'q',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x82',
  '\xD0',
  '\x82',
  '\xE6',
  '\x82',
  '\xE8',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8E',
  '\x8D',
  '\x96',
  '\xBC',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x96',
  '\xA2',
  '\x89',
  'H',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x82',
  '\xBF',
  '\x82',
  '\xE6',
  '\x8E',
  'q',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x82',
  'b',
  '\x82',
  'g',
  '\x82',
  'n',
  '\x82',
  'b',
  '\x82',
  'n',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x90',
  '\x99',
  '\x95',
  '\xC0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8A',
  '\x90',
  '\x95',
  '\xFB',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8C',
  '\xB3',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x90',
  '\xF2',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x82',
  'j',
  '\x82',
  '\x8F',
  '\x82',
  '\x94',
  '\x82',
  '\x8F',
  '\x82',
  'q',
  '\x82',
  'h',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8B',
  '\xD5',
  '\x97',
  '\xA2',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x83',
  'A',
  '\x83',
  '\x8A',
  '\x83',
  'X',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x82',
  '\xBF',
  '\x82',
  '\xA5',
  '\x82',
  '\xB5',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x88',
  '\xB2',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x83',
  '\x89',
  '\x83',
  '\x89',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x83',
  '\x8A',
  '\x83',
  '\x8A',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x83',
  '\x8B',
  '\x83',
  '\x8B',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8E',
  '\xD1',
  '\x8A',
  '\xF3',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8F',
  '\xAE',
  '\x8F',
  '\x83',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x97',
  '\xEB',
  '\x8E',
  '\x9F',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8F',
  '\\',
  '\x98',
  'a',
  '\x8E',
  'q',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x8E',
  'O',
  '\x94',
  '\xFC',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x90',
  '\xB3',
  '\x89',
  '\xC0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x89',
  '\xC2',
  '\x8F',
  '\x83',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
int dword_4AE44C = 2; // weak
int dword_4AE450 = 21; // weak
int dword_4AE454 = 449; // weak
int dword_4AE458 = 126; // weak
int dword_4AE45C = 2; // weak
int dword_4AE460 = 21; // weak
int dword_4AE464 = 449; // weak
int dword_4AE468 = 126; // weak
int dword_4AE46C = 2; // weak
int dword_4AE470 = 21; // weak
int dword_4AE474 = 449; // weak
int dword_4AE478 = 126; // weak
int dword_4AE4AC = -1; // weak
_UNKNOWN unk_4AE4B8; // weak
int dword_4AE4BC = 3; // weak
int dword_4AE4C4 = 3; // weak
int dword_4AE4CC = 1; // weak
int dword_4AE4D0 = 50; // weak
int dword_4AE4D8 = 1; // weak
int dword_4AE4DC = 1; // weak
int dword_4AE4E4 = 6; // weak
int dword_4AE4EC = 1; // weak
int dword_4AE4F4 = 60; // weak
int dword_4AE4F8 = 1; // weak
int dword_4AE4FC = 70; // weak
int dword_4AE500 = 1; // weak
int dword_4AE504 = 100; // weak
int dword_4AE508 = 1; // weak
int dword_4AE510 = 80; // weak
int dword_4AE514 = 0; // weak
int dword_4AE518 = 1; // weak
int dword_4AE51C = 1; // weak
int dword_4AE520 = 1; // weak
int dword_4AE524 = 0; // weak
int dword_4AE528 = 0; // weak
int dword_4AE52C = 80; // weak
int dword_4AE530 = 0; // weak
int dword_4AE534 = 1; // weak
int dword_4AE538 = 100; // weak
int dword_4AE53C = 1; // weak
int dword_4AE544 = 0; // weak
int dword_4AE548 = 1; // weak
int dword_4AE54C = 1; // weak
int dword_4AE550 = 5; // weak
int dword_4AE554 = 0; // weak
int dword_4AE568 = 1; // weak
int dword_4AE56C = 1; // weak
DWORD dwNewLong = 47054848u; // idb
__int16 word_4B3048 = 46; // weak
char byte_4B304A = '\0'; // weak
int dword_4B314C = 4; // weak
int dword_4B319C = 201; // weak
int dword_4B31A0 = 200; // weak
char byte_4B31B0[] = { '\0' }; // weak
char byte_4B31B1[] = { '\0' }; // weak
char byte_4B31B2[254] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\xFF',
  '\0',
  '\xFF',
  '\xFF',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\0',
  'N',
  '\x85',
  '(',
  '\0',
  '\xCC',
  '\xCC',
  '\xFF',
  '\0',
  'D',
  'w',
  '\0',
  '\0',
  '\x7F',
  '\xFF',
  '\x7F',
  '\0',
  '\xCC',
  '\xCC',
  '\xCC',
  '\0',
  '\xAA',
  '\xAA',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
char aSe201[] = "se\\201"; // idb
unsigned __int8 String[] = { 115u, 101u, 92u, 50u, 48u, 48u, 0u }; // idb
unsigned __int8 aSe473[] = { 115u, 101u, 92u, 52u, 55u, 51u, 0u }; // idb
int dword_4B3304[9] = { 7, 7, 6, 8, 5, 8, 0, 4764768, 100 }; // weak
__int64 qword_4B3328 = -1i64; // weak
__int64 qword_4B3330 = -1i64; // weak
int dword_4B3338 = -1; // weak
__int64 qword_4B333C = -1i64; // weak
int dword_4B3344 = -1; // weak
int dword_4B3348 = -1; // weak
int dword_4B334C = -1; // weak
int dword_4B3350[] = { -1 }; // weak
int dword_4B3354[] = { -1 }; // weak
int dword_4B3358[] = { -1 }; // weak
int dword_4B335C[] = { -1 }; // weak
int dword_4B3360[] = { -1 }; // weak
int dword_4B3404[] = { 0 }; // weak
int dword_4B3408[] = { 0 }; // weak
int dword_4B340C[] = { 0 }; // weak
int dword_4B3410[] = { 0 }; // weak
int dword_4B3414[] = { 0 }; // weak
int dword_4B3418[] = { -1 }; // weak
int dword_4B341C[] = { -1 }; // weak
int dword_4B3420[] = { -1 }; // weak
int dword_4B3424[] = { -1 }; // weak
int dword_4B3428[] = { -1 }; // weak
int dword_4B34E0 = 5; // weak
char *off_4B34E8 = "dc4_mid20190301a1"; // weak
void *off_4B34EC = &unk_491508; // weak
_UNKNOWN unk_4B4341; // weak
int dword_4B4398[] = { 1 }; // weak
int dword_4B43A0[] = { 2 }; // weak
int dword_4B44F0[] = { 6 }; // weak
int dword_4B44F4[] = { 3 }; // weak
int dword_4B44F8[] = { 15 }; // weak
int dword_4B44FC[] = { 18 }; // weak
int dword_4B4500[] = { 10 }; // weak
int dword_4B4504[] = { 2 }; // weak
int dword_4B4508[] = { 2 }; // weak
int dword_4B450C[] = { 1 }; // weak
int dword_4B4510[] = { 1 }; // weak
char byte_4B4514[] = { 'a' }; // weak
char *off_4B4768[123] =
{
  "bg\\ev_so11o",
  "bg\\m_ev_so11",
  "bg\\ev_so11p",
  "bg\\m_ev_so11",
  "bg\\ev_so11q",
  "bg\\m_ev_so11",
  "bg\\ev_so11r",
  "bg\\m_ev_so11",
  "bg\\ev_so11s",
  "bg\\m_ev_so11",
  "bg\\ev_so12",
  "bg\\m_ev_so12",
  "bg\\ev_so13c",
  "bg\\m_ev_so13b",
  "bg\\ev_so13d",
  "bg\\m_ev_so13b",
  "bg\\ev_so13e",
  "bg\\m_ev_so13b",
  "bg\\ev_so13f",
  "bg\\m_ev_so13b",
  "bg\\ev_so13g",
  "bg\\m_ev_so13c",
  "bg\\ev_so13h",
  "bg\\m_ev_so13c",
  "bg\\ev_so13i",
  "bg\\m_ev_so13c",
  "bg\\ev_so13",
  "bg\\m_ev_so13a",
  "bg\\ev_so14d",
  "bg\\m_ev_so14",
  "bg\\ev_so14e",
  "bg\\m_ev_so14",
  "bg\\ev_so14f",
  "bg\\m_ev_so14",
  "bg\\ev_so14g",
  "bg\\m_ev_so14",
  "bg\\ev_so14h",
  "bg\\m_ev_so14",
  "bg\\ev_so15a",
  "bg\\m_ev_so15a",
  "bg\\ev_so15f",
  "bg\\m_ev_so15a",
  "bg\\ev_so15g",
  "bg\\m_ev_so15a",
  "bg\\ev_so15",
  "bg\\m_ev_so15b",
  "bg\\ev_so16",
  "bg\\m_ev_so16",
  "bg\\ev_so17f",
  "bg\\m_ev_so17",
  "bg\\ev_so17g",
  "bg\\m_ev_so17",
  "bg\\ev_so17h",
  "bg\\m_ev_so17",
  "bg\\ev_so18",
  "bg\\m_ev_so18",
  "bg\\ev_sn12",
  "bg\\m_ev_sn12",
  "bg\\ev_sn14g",
  "bg\\m_ev_sn14b",
  "bg\\ev_sn14h",
  "bg\\m_ev_sn14b",
  "bg\\ev_sn14i",
  "bg\\m_ev_sn14b",
  "bg\\ev_sn14",
  "bg\\m_ev_sn14a",
  "bg\\ev_sn15",
  "bg\\m_ev_sn15",
  "bg\\ev_sn16",
  "bg\\m_ev_sn16",
  "bg\\ev_sn17g",
  "bg\\m_ev_sn17",
  "bg\\ev_sn17h",
  "bg\\m_ev_sn17",
  "bg\\ev_sn17i",
  "bg\\m_ev_sn17",
  "bg\\ev_sn18",
  "bg\\m_ev_sn18",
  "bg\\ev_rn12f",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12g",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12h",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12i",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12j",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12",
  "bg\\m_ev_rn12a",
  "bg\\ev_rn13a",
  "bg\\m_ev_rn13a",
  "bg\\ev_rn13b",
  "bg\\m_ev_rn13a",
  "bg\\ev_rn13c",
  "bg\\m_ev_rn13b",
  "bg\\ev_rn13d",
  "bg\\m_ev_rn13b",
  "bg\\ev_rn13e",
  "bg\\m_ev_rn13b",
  "bg\\ev_rn13",
  "bg\\m_ev_rn13c",
  "bg\\ev_rn14l",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14m",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14n",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14o",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14p",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14q",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14r",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14s",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14t",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14u",
  "bg\\m_ev_rn14",
  "bg\\ev_rn15a"
}; // weak
char *off_4B476C[122] =
{
  "bg\\m_ev_so11",
  "bg\\ev_so11p",
  "bg\\m_ev_so11",
  "bg\\ev_so11q",
  "bg\\m_ev_so11",
  "bg\\ev_so11r",
  "bg\\m_ev_so11",
  "bg\\ev_so11s",
  "bg\\m_ev_so11",
  "bg\\ev_so12",
  "bg\\m_ev_so12",
  "bg\\ev_so13c",
  "bg\\m_ev_so13b",
  "bg\\ev_so13d",
  "bg\\m_ev_so13b",
  "bg\\ev_so13e",
  "bg\\m_ev_so13b",
  "bg\\ev_so13f",
  "bg\\m_ev_so13b",
  "bg\\ev_so13g",
  "bg\\m_ev_so13c",
  "bg\\ev_so13h",
  "bg\\m_ev_so13c",
  "bg\\ev_so13i",
  "bg\\m_ev_so13c",
  "bg\\ev_so13",
  "bg\\m_ev_so13a",
  "bg\\ev_so14d",
  "bg\\m_ev_so14",
  "bg\\ev_so14e",
  "bg\\m_ev_so14",
  "bg\\ev_so14f",
  "bg\\m_ev_so14",
  "bg\\ev_so14g",
  "bg\\m_ev_so14",
  "bg\\ev_so14h",
  "bg\\m_ev_so14",
  "bg\\ev_so15a",
  "bg\\m_ev_so15a",
  "bg\\ev_so15f",
  "bg\\m_ev_so15a",
  "bg\\ev_so15g",
  "bg\\m_ev_so15a",
  "bg\\ev_so15",
  "bg\\m_ev_so15b",
  "bg\\ev_so16",
  "bg\\m_ev_so16",
  "bg\\ev_so17f",
  "bg\\m_ev_so17",
  "bg\\ev_so17g",
  "bg\\m_ev_so17",
  "bg\\ev_so17h",
  "bg\\m_ev_so17",
  "bg\\ev_so18",
  "bg\\m_ev_so18",
  "bg\\ev_sn12",
  "bg\\m_ev_sn12",
  "bg\\ev_sn14g",
  "bg\\m_ev_sn14b",
  "bg\\ev_sn14h",
  "bg\\m_ev_sn14b",
  "bg\\ev_sn14i",
  "bg\\m_ev_sn14b",
  "bg\\ev_sn14",
  "bg\\m_ev_sn14a",
  "bg\\ev_sn15",
  "bg\\m_ev_sn15",
  "bg\\ev_sn16",
  "bg\\m_ev_sn16",
  "bg\\ev_sn17g",
  "bg\\m_ev_sn17",
  "bg\\ev_sn17h",
  "bg\\m_ev_sn17",
  "bg\\ev_sn17i",
  "bg\\m_ev_sn17",
  "bg\\ev_sn18",
  "bg\\m_ev_sn18",
  "bg\\ev_rn12f",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12g",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12h",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12i",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12j",
  "bg\\m_ev_rn12b",
  "bg\\ev_rn12",
  "bg\\m_ev_rn12a",
  "bg\\ev_rn13a",
  "bg\\m_ev_rn13a",
  "bg\\ev_rn13b",
  "bg\\m_ev_rn13a",
  "bg\\ev_rn13c",
  "bg\\m_ev_rn13b",
  "bg\\ev_rn13d",
  "bg\\m_ev_rn13b",
  "bg\\ev_rn13e",
  "bg\\m_ev_rn13b",
  "bg\\ev_rn13",
  "bg\\m_ev_rn13c",
  "bg\\ev_rn14l",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14m",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14n",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14o",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14p",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14q",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14r",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14s",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14t",
  "bg\\m_ev_rn14",
  "bg\\ev_rn14u",
  "bg\\m_ev_rn14",
  "bg\\ev_rn15a"
}; // weak
int dword_4B4A9C[3] = { 22, 24, 23 }; // weak
int dword_4B4AA8[3] = { 22, 24, 23 }; // weak
int dword_4B4AB4 = 75; // weak
int dword_4B4AB8 = 2147483648; // weak
int dword_4B4ABC = 1280; // weak
int dword_4B4AC0 = 720; // weak
int dword_4B4ACC = -1; // weak
UINT uTimerID = 4294967295u; // idb
UINT dword_4B4AD4 = 4294967295u; // idb
char byte_4B4AD8 = '0'; // idb
int dword_4B4AE8 = 11261; // weak
int dword_4B4AEC = 5368829; // weak
int vKey = 1; // idb
int dword_4B4EF4[] = { 1 }; // weak
int dword_4B4FF0 = 255; // weak
int dword_4B4FF4 = 1; // weak
int dword_4B4FFC[16] = { 0, 1, 5, 3, 10, 8, 7, 2, 6, 9, 4, -1, 4764768, 130, -15, 1 }; // weak
int dword_4B503C = -1; // weak
int dword_4B5040 = -1; // weak
int dword_4B5044 = -1; // weak
int dword_4B5048[1024] =
{
  0,
  6,
  12,
  18,
  25,
  31,
  37,
  43,
  50,
  56,
  62,
  69,
  75,
  81,
  87,
  94,
  100,
  106,
  113,
  119,
  125,
  131,
  138,
  144,
  150,
  157,
  163,
  169,
  175,
  182,
  188,
  194,
  200,
  207,
  213,
  219,
  226,
  232,
  238,
  244,
  251,
  257,
  263,
  269,
  276,
  282,
  288,
  295,
  301,
  307,
  313,
  320,
  326,
  332,
  338,
  345,
  351,
  357,
  363,
  370,
  376,
  382,
  388,
  395,
  401,
  407,
  413,
  420,
  426,
  432,
  438,
  445,
  451,
  457,
  463,
  470,
  476,
  482,
  488,
  495,
  501,
  507,
  513,
  520,
  526,
  532,
  538,
  545,
  551,
  557,
  563,
  569,
  576,
  582,
  588,
  594,
  601,
  607,
  613,
  619,
  625,
  632,
  638,
  644,
  650,
  656,
  663,
  669,
  675,
  681,
  687,
  694,
  700,
  706,
  712,
  718,
  725,
  731,
  737,
  743,
  749,
  755,
  762,
  768,
  774,
  780,
  786,
  792,
  799,
  805,
  811,
  817,
  823,
  829,
  836,
  842,
  848,
  854,
  860,
  866,
  872,
  879,
  885,
  891,
  897,
  903,
  909,
  915,
  921,
  928,
  934,
  940,
  946,
  952,
  958,
  964,
  970,
  976,
  983,
  989,
  995,
  1001,
  1007,
  1013,
  1019,
  1025,
  1031,
  1037,
  1043,
  1050,
  1056,
  1062,
  1068,
  1074,
  1080,
  1086,
  1092,
  1098,
  1104,
  1110,
  1116,
  1122,
  1128,
  1134,
  1140,
  1146,
  1152,
  1158,
  1164,
  1170,
  1176,
  1182,
  1189,
  1195,
  1201,
  1207,
  1213,
  1219,
  1225,
  1231,
  1237,
  1243,
  1248,
  1254,
  1260,
  1266,
  1272,
  1278,
  1284,
  1290,
  1296,
  1302,
  1308,
  1314,
  1320,
  1326,
  1332,
  1338,
  1344,
  1350,
  1356,
  1362,
  1368,
  1373,
  1379,
  1385,
  1391,
  1397,
  1403,
  1409,
  1415,
  1421,
  1427,
  1433,
  1438,
  1444,
  1450,
  1456,
  1462,
  1468,
  1474,
  1479,
  1485,
  1491,
  1497,
  1503,
  1509,
  1515,
  1520,
  1526,
  1532,
  1538,
  1544,
  1550,
  1555,
  1561,
  1567,
  1573,
  1579,
  1584,
  1590,
  1596,
  1602,
  1608,
  1613,
  1619,
  1625,
  1631,
  1636,
  1642,
  1648,
  1654,
  1659,
  1665,
  1671,
  1677,
  1682,
  1688,
  1694,
  1699,
  1705,
  1711,
  1717,
  1722,
  1728,
  1734,
  1739,
  1745,
  1751,
  1756,
  1762,
  1768,
  1773,
  1779,
  1785,
  1790,
  1796,
  1802,
  1807,
  1813,
  1819,
  1824,
  1830,
  1835,
  1841,
  1847,
  1852,
  1858,
  1864,
  1869,
  1875,
  1880,
  1886,
  1891,
  1897,
  1903,
  1908,
  1914,
  1919,
  1925,
  1930,
  1936,
  1941,
  1947,
  1952,
  1958,
  1964,
  1969,
  1975,
  1980,
  1986,
  1991,
  1997,
  2002,
  2007,
  2013,
  2018,
  2024,
  2029,
  2035,
  2040,
  2046,
  2051,
  2057,
  2062,
  2067,
  2073,
  2078,
  2084,
  2089,
  2094,
  2100,
  2105,
  2111,
  2116,
  2121,
  2127,
  2132,
  2138,
  2143,
  2148,
  2154,
  2159,
  2164,
  2170,
  2175,
  2180,
  2186,
  2191,
  2196,
  2201,
  2207,
  2212,
  2217,
  2223,
  2228,
  2233,
  2238,
  2244,
  2249,
  2254,
  2259,
  2265,
  2270,
  2275,
  2280,
  2286,
  2291,
  2296,
  2301,
  2306,
  2312,
  2317,
  2322,
  2327,
  2332,
  2337,
  2343,
  2348,
  2353,
  2358,
  2363,
  2368,
  2373,
  2379,
  2384,
  2389,
  2394,
  2399,
  2404,
  2409,
  2414,
  2419,
  2424,
  2429,
  2434,
  2439,
  2445,
  2450,
  2455,
  2460,
  2465,
  2470,
  2475,
  2480,
  2485,
  2490,
  2495,
  2500,
  2505,
  2510,
  2515,
  2519,
  2524,
  2529,
  2534,
  2539,
  2544,
  2549,
  2554,
  2559,
  2564,
  2569,
  2574,
  2578,
  2583,
  2588,
  2593,
  2598,
  2603,
  2608,
  2613,
  2617,
  2622,
  2627,
  2632,
  2637,
  2641,
  2646,
  2651,
  2656,
  2661,
  2665,
  2670,
  2675,
  2680,
  2684,
  2689,
  2694,
  2699,
  2703,
  2708,
  2713,
  2717,
  2722,
  2727,
  2732,
  2736,
  2741,
  2746,
  2750,
  2755,
  2760,
  2764,
  2769,
  2773,
  2778,
  2783,
  2787,
  2792,
  2796,
  2801,
  2806,
  2810,
  2815,
  2819,
  2824,
  2828,
  2833,
  2837,
  2842,
  2847,
  2851,
  2856,
  2860,
  2865,
  2869,
  2874,
  2878,
  2882,
  2887,
  2891,
  2896,
  2900,
  2905,
  2909,
  2914,
  2918,
  2922,
  2927,
  2931,
  2936,
  2940,
  2944,
  2949,
  2953,
  2957,
  2962,
  2966,
  2970,
  2975,
  2979,
  2983,
  2988,
  2992,
  2996,
  3000,
  3005,
  3009,
  3013,
  3018,
  3022,
  3026,
  3030,
  3034,
  3039,
  3043,
  3047,
  3051,
  3055,
  3060,
  3064,
  3068,
  3072,
  3076,
  3080,
  3085,
  3089,
  3093,
  3097,
  3101,
  3105,
  3109,
  3113,
  3117,
  3121,
  3126,
  3130,
  3134,
  3138,
  3142,
  3146,
  3150,
  3154,
  3158,
  3162,
  3166,
  3170,
  3174,
  3178,
  3182,
  3186,
  3190,
  3193,
  3197,
  3201,
  3205,
  3209,
  3213,
  3217,
  3221,
  3225,
  3229,
  3232,
  3236,
  3240,
  3244,
  3248,
  3252,
  3255,
  3259,
  3263,
  3267,
  3271,
  3274,
  3278,
  3282,
  3286,
  3289,
  3293,
  3297,
  3301,
  3304,
  3308,
  3312,
  3315,
  3319,
  3323,
  3326,
  3330,
  3334,
  3337,
  3341,
  3345,
  3348,
  3352,
  3356,
  3359,
  3363,
  3366,
  3370,
  3373,
  3377,
  3381,
  3384,
  3388,
  3391,
  3395,
  3398,
  3402,
  3405,
  3409,
  3412,
  3416,
  3419,
  3423,
  3426,
  3429,
  3433,
  3436,
  3440,
  3443,
  3447,
  3450,
  3453,
  3457,
  3460,
  3463,
  3467,
  3470,
  3473,
  3477,
  3480,
  3483,
  3487,
  3490,
  3493,
  3497,
  3500,
  3503,
  3506,
  3510,
  3513,
  3516,
  3519,
  3522,
  3526,
  3529,
  3532,
  3535,
  3538,
  3541,
  3545,
  3548,
  3551,
  3554,
  3557,
  3560,
  3563,
  3566,
  3570,
  3573,
  3576,
  3579,
  3582,
  3585,
  3588,
  3591,
  3594,
  3597,
  3600,
  3603,
  3606,
  3609,
  3612,
  3615,
  3618,
  3621,
  3624,
  3627,
  3629,
  3632,
  3635,
  3638,
  3641,
  3644,
  3647,
  3650,
  3652,
  3655,
  3658,
  3661,
  3664,
  3667,
  3669,
  3672,
  3675,
  3678,
  3680,
  3683,
  3686,
  3689,
  3691,
  3694,
  3697,
  3700,
  3702,
  3705,
  3708,
  3710,
  3713,
  3716,
  3718,
  3721,
  3723,
  3726,
  3729,
  3731,
  3734,
  3736,
  3739,
  3742,
  3744,
  3747,
  3749,
  3752,
  3754,
  3757,
  3759,
  3762,
  3764,
  3767,
  3769,
  3772,
  3774,
  3776,
  3779,
  3781,
  3784,
  3786,
  3789,
  3791,
  3793,
  3796,
  3798,
  3800,
  3803,
  3805,
  3807,
  3810,
  3812,
  3814,
  3816,
  3819,
  3821,
  3823,
  3826,
  3828,
  3830,
  3832,
  3834,
  3837,
  3839,
  3841,
  3843,
  3845,
  3848,
  3850,
  3852,
  3854,
  3856,
  3858,
  3860,
  3862,
  3864,
  3867,
  3869,
  3871,
  3873,
  3875,
  3877,
  3879,
  3881,
  3883,
  3885,
  3887,
  3889,
  3891,
  3893,
  3895,
  3897,
  3899,
  3900,
  3902,
  3904,
  3906,
  3908,
  3910,
  3912,
  3914,
  3915,
  3917,
  3919,
  3921,
  3923,
  3925,
  3926,
  3928,
  3930,
  3932,
  3933,
  3935,
  3937,
  3939,
  3940,
  3942,
  3944,
  3945,
  3947,
  3949,
  3950,
  3952,
  3954,
  3955,
  3957,
  3959,
  3960,
  3962,
  3963,
  3965,
  3967,
  3968,
  3970,
  3971,
  3973,
  3974,
  3976,
  3977,
  3979,
  3980,
  3982,
  3983,
  3985,
  3986,
  3988,
  3989,
  3990,
  3992,
  3993,
  3995,
  3996,
  3997,
  3999,
  4000,
  4001,
  4003,
  4004,
  4005,
  4007,
  4008,
  4009,
  4011,
  4012,
  4013,
  4014,
  4016,
  4017,
  4018,
  4019,
  4020,
  4022,
  4023,
  4024,
  4025,
  4026,
  4027,
  4029,
  4030,
  4031,
  4032,
  4033,
  4034,
  4035,
  4036,
  4037,
  4038,
  4039,
  4040,
  4041,
  4042,
  4043,
  4044,
  4045,
  4046,
  4047,
  4048,
  4049,
  4050,
  4051,
  4052,
  4053,
  4054,
  4055,
  4056,
  4057,
  4057,
  4058,
  4059,
  4060,
  4061,
  4062,
  4062,
  4063,
  4064,
  4065,
  4065,
  4066,
  4067,
  4068,
  4068,
  4069,
  4070,
  4071,
  4071,
  4072,
  4073,
  4073,
  4074,
  4075,
  4075,
  4076,
  4076,
  4077,
  4078,
  4078,
  4079,
  4079,
  4080,
  4080,
  4081,
  4081,
  4082,
  4082,
  4083,
  4083,
  4084,
  4084,
  4085,
  4085,
  4086,
  4086,
  4087,
  4087,
  4087,
  4088,
  4088,
  4089,
  4089,
  4089,
  4090,
  4090,
  4090,
  4091,
  4091,
  4091,
  4091,
  4092,
  4092,
  4092,
  4092,
  4093,
  4093,
  4093,
  4093,
  4094,
  4094,
  4094,
  4094,
  4094,
  4094,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095
}; // weak
int dword_4B6048[4178] =
{
  4096,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4094,
  4094,
  4094,
  4094,
  4094,
  4094,
  4093,
  4093,
  4093,
  4093,
  4092,
  4092,
  4092,
  4092,
  4091,
  4091,
  4091,
  4091,
  4090,
  4090,
  4090,
  4089,
  4089,
  4089,
  4088,
  4088,
  4087,
  4087,
  4087,
  4086,
  4086,
  4085,
  4085,
  4084,
  4084,
  4083,
  4083,
  4082,
  4082,
  4081,
  4081,
  4080,
  4080,
  4079,
  4079,
  4078,
  4078,
  4077,
  4076,
  4076,
  4075,
  4075,
  4074,
  4073,
  4073,
  4072,
  4071,
  4071,
  4070,
  4069,
  4068,
  4068,
  4067,
  4066,
  4065,
  4065,
  4064,
  4063,
  4062,
  4062,
  4061,
  4060,
  4059,
  4058,
  4057,
  4057,
  4056,
  4055,
  4054,
  4053,
  4052,
  4051,
  4050,
  4049,
  4048,
  4047,
  4046,
  4045,
  4044,
  4043,
  4042,
  4041,
  4040,
  4039,
  4038,
  4037,
  4036,
  4035,
  4034,
  4033,
  4032,
  4031,
  4030,
  4029,
  4027,
  4026,
  4025,
  4024,
  4023,
  4022,
  4020,
  4019,
  4018,
  4017,
  4016,
  4014,
  4013,
  4012,
  4011,
  4009,
  4008,
  4007,
  4005,
  4004,
  4003,
  4001,
  4000,
  3999,
  3997,
  3996,
  3995,
  3993,
  3992,
  3990,
  3989,
  3988,
  3986,
  3985,
  3983,
  3982,
  3980,
  3979,
  3977,
  3976,
  3974,
  3973,
  3971,
  3970,
  3968,
  3967,
  3965,
  3963,
  3962,
  3960,
  3959,
  3957,
  3955,
  3954,
  3952,
  3950,
  3949,
  3947,
  3945,
  3944,
  3942,
  3940,
  3939,
  3937,
  3935,
  3933,
  3932,
  3930,
  3928,
  3926,
  3925,
  3923,
  3921,
  3919,
  3917,
  3915,
  3914,
  3912,
  3910,
  3908,
  3906,
  3904,
  3902,
  3900,
  3899,
  3897,
  3895,
  3893,
  3891,
  3889,
  3887,
  3885,
  3883,
  3881,
  3879,
  3877,
  3875,
  3873,
  3871,
  3869,
  3867,
  3864,
  3862,
  3860,
  3858,
  3856,
  3854,
  3852,
  3850,
  3848,
  3845,
  3843,
  3841,
  3839,
  3837,
  3834,
  3832,
  3830,
  3828,
  3826,
  3823,
  3821,
  3819,
  3816,
  3814,
  3812,
  3810,
  3807,
  3805,
  3803,
  3800,
  3798,
  3796,
  3793,
  3791,
  3789,
  3786,
  3784,
  3781,
  3779,
  3776,
  3774,
  3772,
  3769,
  3767,
  3764,
  3762,
  3759,
  3757,
  3754,
  3752,
  3749,
  3747,
  3744,
  3742,
  3739,
  3736,
  3734,
  3731,
  3729,
  3726,
  3723,
  3721,
  3718,
  3716,
  3713,
  3710,
  3708,
  3705,
  3702,
  3700,
  3697,
  3694,
  3691,
  3689,
  3686,
  3683,
  3680,
  3678,
  3675,
  3672,
  3669,
  3667,
  3664,
  3661,
  3658,
  3655,
  3652,
  3650,
  3647,
  3644,
  3641,
  3638,
  3635,
  3632,
  3629,
  3627,
  3624,
  3621,
  3618,
  3615,
  3612,
  3609,
  3606,
  3603,
  3600,
  3597,
  3594,
  3591,
  3588,
  3585,
  3582,
  3579,
  3576,
  3573,
  3570,
  3566,
  3563,
  3560,
  3557,
  3554,
  3551,
  3548,
  3545,
  3541,
  3538,
  3535,
  3532,
  3529,
  3526,
  3522,
  3519,
  3516,
  3513,
  3510,
  3506,
  3503,
  3500,
  3497,
  3493,
  3490,
  3487,
  3483,
  3480,
  3477,
  3473,
  3470,
  3467,
  3463,
  3460,
  3457,
  3453,
  3450,
  3447,
  3443,
  3440,
  3436,
  3433,
  3429,
  3426,
  3423,
  3419,
  3416,
  3412,
  3409,
  3405,
  3402,
  3398,
  3395,
  3391,
  3388,
  3384,
  3381,
  3377,
  3373,
  3370,
  3366,
  3363,
  3359,
  3356,
  3352,
  3348,
  3345,
  3341,
  3337,
  3334,
  3330,
  3326,
  3323,
  3319,
  3315,
  3312,
  3308,
  3304,
  3301,
  3297,
  3293,
  3289,
  3286,
  3282,
  3278,
  3274,
  3271,
  3267,
  3263,
  3259,
  3255,
  3252,
  3248,
  3244,
  3240,
  3236,
  3232,
  3229,
  3225,
  3221,
  3217,
  3213,
  3209,
  3205,
  3201,
  3197,
  3193,
  3190,
  3186,
  3182,
  3178,
  3174,
  3170,
  3166,
  3162,
  3158,
  3154,
  3150,
  3146,
  3142,
  3138,
  3134,
  3130,
  3126,
  3121,
  3117,
  3113,
  3109,
  3105,
  3101,
  3097,
  3093,
  3089,
  3085,
  3080,
  3076,
  3072,
  3068,
  3064,
  3060,
  3055,
  3051,
  3047,
  3043,
  3039,
  3034,
  3030,
  3026,
  3022,
  3018,
  3013,
  3009,
  3005,
  3000,
  2996,
  2992,
  2988,
  2983,
  2979,
  2975,
  2970,
  2966,
  2962,
  2957,
  2953,
  2949,
  2944,
  2940,
  2936,
  2931,
  2927,
  2922,
  2918,
  2914,
  2909,
  2905,
  2900,
  2896,
  2891,
  2887,
  2882,
  2878,
  2874,
  2869,
  2865,
  2860,
  2856,
  2851,
  2847,
  2842,
  2837,
  2833,
  2828,
  2824,
  2819,
  2815,
  2810,
  2806,
  2801,
  2796,
  2792,
  2787,
  2783,
  2778,
  2773,
  2769,
  2764,
  2760,
  2755,
  2750,
  2746,
  2741,
  2736,
  2732,
  2727,
  2722,
  2717,
  2713,
  2708,
  2703,
  2699,
  2694,
  2689,
  2684,
  2680,
  2675,
  2670,
  2665,
  2661,
  2656,
  2651,
  2646,
  2641,
  2637,
  2632,
  2627,
  2622,
  2617,
  2613,
  2608,
  2603,
  2598,
  2593,
  2588,
  2583,
  2578,
  2574,
  2569,
  2564,
  2559,
  2554,
  2549,
  2544,
  2539,
  2534,
  2529,
  2524,
  2519,
  2515,
  2510,
  2505,
  2500,
  2495,
  2490,
  2485,
  2480,
  2475,
  2470,
  2465,
  2460,
  2455,
  2450,
  2445,
  2439,
  2434,
  2429,
  2424,
  2419,
  2414,
  2409,
  2404,
  2399,
  2394,
  2389,
  2384,
  2379,
  2373,
  2368,
  2363,
  2358,
  2353,
  2348,
  2343,
  2337,
  2332,
  2327,
  2322,
  2317,
  2312,
  2306,
  2301,
  2296,
  2291,
  2286,
  2280,
  2275,
  2270,
  2265,
  2259,
  2254,
  2249,
  2244,
  2238,
  2233,
  2228,
  2223,
  2217,
  2212,
  2207,
  2201,
  2196,
  2191,
  2186,
  2180,
  2175,
  2170,
  2164,
  2159,
  2154,
  2148,
  2143,
  2138,
  2132,
  2127,
  2121,
  2116,
  2111,
  2105,
  2100,
  2094,
  2089,
  2084,
  2078,
  2073,
  2067,
  2062,
  2057,
  2051,
  2046,
  2040,
  2035,
  2029,
  2024,
  2018,
  2013,
  2007,
  2002,
  1997,
  1991,
  1986,
  1980,
  1975,
  1969,
  1964,
  1958,
  1952,
  1947,
  1941,
  1936,
  1930,
  1925,
  1919,
  1914,
  1908,
  1903,
  1897,
  1891,
  1886,
  1880,
  1875,
  1869,
  1864,
  1858,
  1852,
  1847,
  1841,
  1835,
  1830,
  1824,
  1819,
  1813,
  1807,
  1802,
  1796,
  1790,
  1785,
  1779,
  1773,
  1768,
  1762,
  1756,
  1751,
  1745,
  1739,
  1734,
  1728,
  1722,
  1717,
  1711,
  1705,
  1699,
  1694,
  1688,
  1682,
  1677,
  1671,
  1665,
  1659,
  1654,
  1648,
  1642,
  1636,
  1631,
  1625,
  1619,
  1613,
  1608,
  1602,
  1596,
  1590,
  1584,
  1579,
  1573,
  1567,
  1561,
  1555,
  1550,
  1544,
  1538,
  1532,
  1526,
  1520,
  1515,
  1509,
  1503,
  1497,
  1491,
  1485,
  1479,
  1474,
  1468,
  1462,
  1456,
  1450,
  1444,
  1438,
  1433,
  1427,
  1421,
  1415,
  1409,
  1403,
  1397,
  1391,
  1385,
  1379,
  1373,
  1368,
  1362,
  1356,
  1350,
  1344,
  1338,
  1332,
  1326,
  1320,
  1314,
  1308,
  1302,
  1296,
  1290,
  1284,
  1278,
  1272,
  1266,
  1260,
  1254,
  1248,
  1243,
  1237,
  1231,
  1225,
  1219,
  1213,
  1207,
  1201,
  1195,
  1189,
  1182,
  1176,
  1170,
  1164,
  1158,
  1152,
  1146,
  1140,
  1134,
  1128,
  1122,
  1116,
  1110,
  1104,
  1098,
  1092,
  1086,
  1080,
  1074,
  1068,
  1062,
  1056,
  1050,
  1043,
  1037,
  1031,
  1025,
  1019,
  1013,
  1007,
  1001,
  995,
  989,
  983,
  976,
  970,
  964,
  958,
  952,
  946,
  940,
  934,
  928,
  921,
  915,
  909,
  903,
  897,
  891,
  885,
  879,
  872,
  866,
  860,
  854,
  848,
  842,
  836,
  829,
  823,
  817,
  811,
  805,
  799,
  792,
  786,
  780,
  774,
  768,
  762,
  755,
  749,
  743,
  737,
  731,
  725,
  718,
  712,
  706,
  700,
  694,
  687,
  681,
  675,
  669,
  663,
  656,
  650,
  644,
  638,
  632,
  625,
  619,
  613,
  607,
  601,
  594,
  588,
  582,
  576,
  569,
  563,
  557,
  551,
  545,
  538,
  532,
  526,
  520,
  513,
  507,
  501,
  495,
  488,
  482,
  476,
  470,
  463,
  457,
  451,
  445,
  438,
  432,
  426,
  420,
  413,
  407,
  401,
  395,
  388,
  382,
  376,
  370,
  363,
  357,
  351,
  345,
  338,
  332,
  326,
  320,
  313,
  307,
  301,
  295,
  288,
  282,
  276,
  269,
  263,
  257,
  251,
  244,
  238,
  232,
  226,
  219,
  213,
  207,
  200,
  194,
  188,
  182,
  175,
  169,
  163,
  157,
  150,
  144,
  138,
  131,
  125,
  119,
  113,
  106,
  100,
  94,
  87,
  81,
  75,
  69,
  62,
  56,
  50,
  43,
  37,
  31,
  25,
  18,
  12,
  6,
  0,
  -6,
  -12,
  -18,
  -25,
  -31,
  -37,
  -43,
  -50,
  -56,
  -62,
  -69,
  -75,
  -81,
  -87,
  -94,
  -100,
  -106,
  -113,
  -119,
  -125,
  -131,
  -138,
  -144,
  -150,
  -157,
  -163,
  -169,
  -175,
  -182,
  -188,
  -194,
  -200,
  -207,
  -213,
  -219,
  -226,
  -232,
  -238,
  -244,
  -251,
  -257,
  -263,
  -269,
  -276,
  -282,
  -288,
  -295,
  -301,
  -307,
  -313,
  -320,
  -326,
  -332,
  -338,
  -345,
  -351,
  -357,
  -363,
  -370,
  -376,
  -382,
  -388,
  -395,
  -401,
  -407,
  -413,
  -420,
  -426,
  -432,
  -438,
  -445,
  -451,
  -457,
  -463,
  -470,
  -476,
  -482,
  -488,
  -495,
  -501,
  -507,
  -513,
  -520,
  -526,
  -532,
  -538,
  -545,
  -551,
  -557,
  -563,
  -569,
  -576,
  -582,
  -588,
  -594,
  -601,
  -607,
  -613,
  -619,
  -625,
  -632,
  -638,
  -644,
  -650,
  -656,
  -663,
  -669,
  -675,
  -681,
  -687,
  -694,
  -700,
  -706,
  -712,
  -718,
  -725,
  -731,
  -737,
  -743,
  -749,
  -755,
  -762,
  -768,
  -774,
  -780,
  -786,
  -792,
  -799,
  -805,
  -811,
  -817,
  -823,
  -829,
  -836,
  -842,
  -848,
  -854,
  -860,
  -866,
  -872,
  -879,
  -885,
  -891,
  -897,
  -903,
  -909,
  -915,
  -921,
  -928,
  -934,
  -940,
  -946,
  -952,
  -958,
  -964,
  -970,
  -976,
  -983,
  -989,
  -995,
  -1001,
  -1007,
  -1013,
  -1019,
  -1025,
  -1031,
  -1037,
  -1043,
  -1050,
  -1056,
  -1062,
  -1068,
  -1074,
  -1080,
  -1086,
  -1092,
  -1098,
  -1104,
  -1110,
  -1116,
  -1122,
  -1128,
  -1134,
  -1140,
  -1146,
  -1152,
  -1158,
  -1164,
  -1170,
  -1176,
  -1182,
  -1189,
  -1195,
  -1201,
  -1207,
  -1213,
  -1219,
  -1225,
  -1231,
  -1237,
  -1243,
  -1248,
  -1254,
  -1260,
  -1266,
  -1272,
  -1278,
  -1284,
  -1290,
  -1296,
  -1302,
  -1308,
  -1314,
  -1320,
  -1326,
  -1332,
  -1338,
  -1344,
  -1350,
  -1356,
  -1362,
  -1368,
  -1373,
  -1379,
  -1385,
  -1391,
  -1397,
  -1403,
  -1409,
  -1415,
  -1421,
  -1427,
  -1433,
  -1438,
  -1444,
  -1450,
  -1456,
  -1462,
  -1468,
  -1474,
  -1479,
  -1485,
  -1491,
  -1497,
  -1503,
  -1509,
  -1515,
  -1520,
  -1526,
  -1532,
  -1538,
  -1544,
  -1550,
  -1555,
  -1561,
  -1567,
  -1573,
  -1579,
  -1584,
  -1590,
  -1596,
  -1602,
  -1608,
  -1613,
  -1619,
  -1625,
  -1631,
  -1636,
  -1642,
  -1648,
  -1654,
  -1659,
  -1665,
  -1671,
  -1677,
  -1682,
  -1688,
  -1694,
  -1699,
  -1705,
  -1711,
  -1717,
  -1722,
  -1728,
  -1734,
  -1739,
  -1745,
  -1751,
  -1756,
  -1762,
  -1768,
  -1773,
  -1779,
  -1785,
  -1790,
  -1796,
  -1802,
  -1807,
  -1813,
  -1819,
  -1824,
  -1830,
  -1835,
  -1841,
  -1847,
  -1852,
  -1858,
  -1864,
  -1869,
  -1875,
  -1880,
  -1886,
  -1891,
  -1897,
  -1903,
  -1908,
  -1914,
  -1919,
  -1925,
  -1930,
  -1936,
  -1941,
  -1947,
  -1952,
  -1958,
  -1964,
  -1969,
  -1975,
  -1980,
  -1986,
  -1991,
  -1997,
  -2002,
  -2007,
  -2013,
  -2018,
  -2024,
  -2029,
  -2035,
  -2040,
  -2046,
  -2051,
  -2057,
  -2062,
  -2067,
  -2073,
  -2078,
  -2084,
  -2089,
  -2094,
  -2100,
  -2105,
  -2111,
  -2116,
  -2121,
  -2127,
  -2132,
  -2138,
  -2143,
  -2148,
  -2154,
  -2159,
  -2164,
  -2170,
  -2175,
  -2180,
  -2186,
  -2191,
  -2196,
  -2201,
  -2207,
  -2212,
  -2217,
  -2223,
  -2228,
  -2233,
  -2238,
  -2244,
  -2249,
  -2254,
  -2259,
  -2265,
  -2270,
  -2275,
  -2280,
  -2286,
  -2291,
  -2296,
  -2301,
  -2306,
  -2312,
  -2317,
  -2322,
  -2327,
  -2332,
  -2337,
  -2343,
  -2348,
  -2353,
  -2358,
  -2363,
  -2368,
  -2373,
  -2379,
  -2384,
  -2389,
  -2394,
  -2399,
  -2404,
  -2409,
  -2414,
  -2419,
  -2424,
  -2429,
  -2434,
  -2439,
  -2445,
  -2450,
  -2455,
  -2460,
  -2465,
  -2470,
  -2475,
  -2480,
  -2485,
  -2490,
  -2495,
  -2500,
  -2505,
  -2510,
  -2515,
  -2519,
  -2524,
  -2529,
  -2534,
  -2539,
  -2544,
  -2549,
  -2554,
  -2559,
  -2564,
  -2569,
  -2574,
  -2578,
  -2583,
  -2588,
  -2593,
  -2598,
  -2603,
  -2608,
  -2613,
  -2617,
  -2622,
  -2627,
  -2632,
  -2637,
  -2641,
  -2646,
  -2651,
  -2656,
  -2661,
  -2665,
  -2670,
  -2675,
  -2680,
  -2684,
  -2689,
  -2694,
  -2699,
  -2703,
  -2708,
  -2713,
  -2717,
  -2722,
  -2727,
  -2732,
  -2736,
  -2741,
  -2746,
  -2750,
  -2755,
  -2760,
  -2764,
  -2769,
  -2773,
  -2778,
  -2783,
  -2787,
  -2792,
  -2796,
  -2801,
  -2806,
  -2810,
  -2815,
  -2819,
  -2824,
  -2828,
  -2833,
  -2837,
  -2842,
  -2847,
  -2851,
  -2856,
  -2860,
  -2865,
  -2869,
  -2874,
  -2878,
  -2882,
  -2887,
  -2891,
  -2896,
  -2900,
  -2905,
  -2909,
  -2914,
  -2918,
  -2922,
  -2927,
  -2931,
  -2936,
  -2940,
  -2944,
  -2949,
  -2953,
  -2957,
  -2962,
  -2966,
  -2970,
  -2975,
  -2979,
  -2983,
  -2988,
  -2992,
  -2996,
  -3000,
  -3005,
  -3009,
  -3013,
  -3018,
  -3022,
  -3026,
  -3030,
  -3034,
  -3039,
  -3043,
  -3047,
  -3051,
  -3055,
  -3060,
  -3064,
  -3068,
  -3072,
  -3076,
  -3080,
  -3085,
  -3089,
  -3093,
  -3097,
  -3101,
  -3105,
  -3109,
  -3113,
  -3117,
  -3121,
  -3126,
  -3130,
  -3134,
  -3138,
  -3142,
  -3146,
  -3150,
  -3154,
  -3158,
  -3162,
  -3166,
  -3170,
  -3174,
  -3178,
  -3182,
  -3186,
  -3190,
  -3193,
  -3197,
  -3201,
  -3205,
  -3209,
  -3213,
  -3217,
  -3221,
  -3225,
  -3229,
  -3232,
  -3236,
  -3240,
  -3244,
  -3248,
  -3252,
  -3255,
  -3259,
  -3263,
  -3267,
  -3271,
  -3274,
  -3278,
  -3282,
  -3286,
  -3289,
  -3293,
  -3297,
  -3301,
  -3304,
  -3308,
  -3312,
  -3315,
  -3319,
  -3323,
  -3326,
  -3330,
  -3334,
  -3337,
  -3341,
  -3345,
  -3348,
  -3352,
  -3356,
  -3359,
  -3363,
  -3366,
  -3370,
  -3373,
  -3377,
  -3381,
  -3384,
  -3388,
  -3391,
  -3395,
  -3398,
  -3402,
  -3405,
  -3409,
  -3412,
  -3416,
  -3419,
  -3423,
  -3426,
  -3429,
  -3433,
  -3436,
  -3440,
  -3443,
  -3447,
  -3450,
  -3453,
  -3457,
  -3460,
  -3463,
  -3467,
  -3470,
  -3473,
  -3477,
  -3480,
  -3483,
  -3487,
  -3490,
  -3493,
  -3497,
  -3500,
  -3503,
  -3506,
  -3510,
  -3513,
  -3516,
  -3519,
  -3522,
  -3526,
  -3529,
  -3532,
  -3535,
  -3538,
  -3541,
  -3545,
  -3548,
  -3551,
  -3554,
  -3557,
  -3560,
  -3563,
  -3566,
  -3570,
  -3573,
  -3576,
  -3579,
  -3582,
  -3585,
  -3588,
  -3591,
  -3594,
  -3597,
  -3600,
  -3603,
  -3606,
  -3609,
  -3612,
  -3615,
  -3618,
  -3621,
  -3624,
  -3627,
  -3629,
  -3632,
  -3635,
  -3638,
  -3641,
  -3644,
  -3647,
  -3650,
  -3652,
  -3655,
  -3658,
  -3661,
  -3664,
  -3667,
  -3669,
  -3672,
  -3675,
  -3678,
  -3680,
  -3683,
  -3686,
  -3689,
  -3691,
  -3694,
  -3697,
  -3700,
  -3702,
  -3705,
  -3708,
  -3710,
  -3713,
  -3716,
  -3718,
  -3721,
  -3723,
  -3726,
  -3729,
  -3731,
  -3734,
  -3736,
  -3739,
  -3742,
  -3744,
  -3747,
  -3749,
  -3752,
  -3754,
  -3757,
  -3759,
  -3762,
  -3764,
  -3767,
  -3769,
  -3772,
  -3774,
  -3776,
  -3779,
  -3781,
  -3784,
  -3786,
  -3789,
  -3791,
  -3793,
  -3796,
  -3798,
  -3800,
  -3803,
  -3805,
  -3807,
  -3810,
  -3812,
  -3814,
  -3816,
  -3819,
  -3821,
  -3823,
  -3826,
  -3828,
  -3830,
  -3832,
  -3834,
  -3837,
  -3839,
  -3841,
  -3843,
  -3845,
  -3848,
  -3850,
  -3852,
  -3854,
  -3856,
  -3858,
  -3860,
  -3862,
  -3864,
  -3867,
  -3869,
  -3871,
  -3873,
  -3875,
  -3877,
  -3879,
  -3881,
  -3883,
  -3885,
  -3887,
  -3889,
  -3891,
  -3893,
  -3895,
  -3897,
  -3899,
  -3900,
  -3902,
  -3904,
  -3906,
  -3908,
  -3910,
  -3912,
  -3914,
  -3915,
  -3917,
  -3919,
  -3921,
  -3923,
  -3925,
  -3926,
  -3928,
  -3930,
  -3932,
  -3933,
  -3935,
  -3937,
  -3939,
  -3940,
  -3942,
  -3944,
  -3945,
  -3947,
  -3949,
  -3950,
  -3952,
  -3954,
  -3955,
  -3957,
  -3959,
  -3960,
  -3962,
  -3963,
  -3965,
  -3967,
  -3968,
  -3970,
  -3971,
  -3973,
  -3974,
  -3976,
  -3977,
  -3979,
  -3980,
  -3982,
  -3983,
  -3985,
  -3986,
  -3988,
  -3989,
  -3990,
  -3992,
  -3993,
  -3995,
  -3996,
  -3997,
  -3999,
  -4000,
  -4001,
  -4003,
  -4004,
  -4005,
  -4007,
  -4008,
  -4009,
  -4011,
  -4012,
  -4013,
  -4014,
  -4016,
  -4017,
  -4018,
  -4019,
  -4020,
  -4022,
  -4023,
  -4024,
  -4025,
  -4026,
  -4027,
  -4029,
  -4030,
  -4031,
  -4032,
  -4033,
  -4034,
  -4035,
  -4036,
  -4037,
  -4038,
  -4039,
  -4040,
  -4041,
  -4042,
  -4043,
  -4044,
  -4045,
  -4046,
  -4047,
  -4048,
  -4049,
  -4050,
  -4051,
  -4052,
  -4053,
  -4054,
  -4055,
  -4056,
  -4057,
  -4057,
  -4058,
  -4059,
  -4060,
  -4061,
  -4062,
  -4062,
  -4063,
  -4064,
  -4065,
  -4065,
  -4066,
  -4067,
  -4068,
  -4068,
  -4069,
  -4070,
  -4071,
  -4071,
  -4072,
  -4073,
  -4073,
  -4074,
  -4075,
  -4075,
  -4076,
  -4076,
  -4077,
  -4078,
  -4078,
  -4079,
  -4079,
  -4080,
  -4080,
  -4081,
  -4081,
  -4082,
  -4082,
  -4083,
  -4083,
  -4084,
  -4084,
  -4085,
  -4085,
  -4086,
  -4086,
  -4087,
  -4087,
  -4087,
  -4088,
  -4088,
  -4089,
  -4089,
  -4089,
  -4090,
  -4090,
  -4090,
  -4091,
  -4091,
  -4091,
  -4091,
  -4092,
  -4092,
  -4092,
  -4092,
  -4093,
  -4093,
  -4093,
  -4093,
  -4094,
  -4094,
  -4094,
  -4094,
  -4094,
  -4094,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4096,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4095,
  -4094,
  -4094,
  -4094,
  -4094,
  -4094,
  -4094,
  -4093,
  -4093,
  -4093,
  -4093,
  -4092,
  -4092,
  -4092,
  -4092,
  -4091,
  -4091,
  -4091,
  -4091,
  -4090,
  -4090,
  -4090,
  -4089,
  -4089,
  -4089,
  -4088,
  -4088,
  -4087,
  -4087,
  -4087,
  -4086,
  -4086,
  -4085,
  -4085,
  -4084,
  -4084,
  -4083,
  -4083,
  -4082,
  -4082,
  -4081,
  -4081,
  -4080,
  -4080,
  -4079,
  -4079,
  -4078,
  -4078,
  -4077,
  -4076,
  -4076,
  -4075,
  -4075,
  -4074,
  -4073,
  -4073,
  -4072,
  -4071,
  -4071,
  -4070,
  -4069,
  -4068,
  -4068,
  -4067,
  -4066,
  -4065,
  -4065,
  -4064,
  -4063,
  -4062,
  -4062,
  -4061,
  -4060,
  -4059,
  -4058,
  -4057,
  -4057,
  -4056,
  -4055,
  -4054,
  -4053,
  -4052,
  -4051,
  -4050,
  -4049,
  -4048,
  -4047,
  -4046,
  -4045,
  -4044,
  -4043,
  -4042,
  -4041,
  -4040,
  -4039,
  -4038,
  -4037,
  -4036,
  -4035,
  -4034,
  -4033,
  -4032,
  -4031,
  -4030,
  -4029,
  -4027,
  -4026,
  -4025,
  -4024,
  -4023,
  -4022,
  -4020,
  -4019,
  -4018,
  -4017,
  -4016,
  -4014,
  -4013,
  -4012,
  -4011,
  -4009,
  -4008,
  -4007,
  -4005,
  -4004,
  -4003,
  -4001,
  -4000,
  -3999,
  -3997,
  -3996,
  -3995,
  -3993,
  -3992,
  -3990,
  -3989,
  -3988,
  -3986,
  -3985,
  -3983,
  -3982,
  -3980,
  -3979,
  -3977,
  -3976,
  -3974,
  -3973,
  -3971,
  -3970,
  -3968,
  -3967,
  -3965,
  -3963,
  -3962,
  -3960,
  -3959,
  -3957,
  -3955,
  -3954,
  -3952,
  -3950,
  -3949,
  -3947,
  -3945,
  -3944,
  -3942,
  -3940,
  -3939,
  -3937,
  -3935,
  -3933,
  -3932,
  -3930,
  -3928,
  -3926,
  -3925,
  -3923,
  -3921,
  -3919,
  -3917,
  -3915,
  -3914,
  -3912,
  -3910,
  -3908,
  -3906,
  -3904,
  -3902,
  -3900,
  -3899,
  -3897,
  -3895,
  -3893,
  -3891,
  -3889,
  -3887,
  -3885,
  -3883,
  -3881,
  -3879,
  -3877,
  -3875,
  -3873,
  -3871,
  -3869,
  -3867,
  -3864,
  -3862,
  -3860,
  -3858,
  -3856,
  -3854,
  -3852,
  -3850,
  -3848,
  -3845,
  -3843,
  -3841,
  -3839,
  -3837,
  -3834,
  -3832,
  -3830,
  -3828,
  -3826,
  -3823,
  -3821,
  -3819,
  -3816,
  -3814,
  -3812,
  -3810,
  -3807,
  -3805,
  -3803,
  -3800,
  -3798,
  -3796,
  -3793,
  -3791,
  -3789,
  -3786,
  -3784,
  -3781,
  -3779,
  -3776,
  -3774,
  -3772,
  -3769,
  -3767,
  -3764,
  -3762,
  -3759,
  -3757,
  -3754,
  -3752,
  -3749,
  -3747,
  -3744,
  -3742,
  -3739,
  -3736,
  -3734,
  -3731,
  -3729,
  -3726,
  -3723,
  -3721,
  -3718,
  -3716,
  -3713,
  -3710,
  -3708,
  -3705,
  -3702,
  -3700,
  -3697,
  -3694,
  -3691,
  -3689,
  -3686,
  -3683,
  -3680,
  -3678,
  -3675,
  -3672,
  -3669,
  -3667,
  -3664,
  -3661,
  -3658,
  -3655,
  -3652,
  -3650,
  -3647,
  -3644,
  -3641,
  -3638,
  -3635,
  -3632,
  -3629,
  -3627,
  -3624,
  -3621,
  -3618,
  -3615,
  -3612,
  -3609,
  -3606,
  -3603,
  -3600,
  -3597,
  -3594,
  -3591,
  -3588,
  -3585,
  -3582,
  -3579,
  -3576,
  -3573,
  -3570,
  -3566,
  -3563,
  -3560,
  -3557,
  -3554,
  -3551,
  -3548,
  -3545,
  -3541,
  -3538,
  -3535,
  -3532,
  -3529,
  -3526,
  -3522,
  -3519,
  -3516,
  -3513,
  -3510,
  -3506,
  -3503,
  -3500,
  -3497,
  -3493,
  -3490,
  -3487,
  -3483,
  -3480,
  -3477,
  -3473,
  -3470,
  -3467,
  -3463,
  -3460,
  -3457,
  -3453,
  -3450,
  -3447,
  -3443,
  -3440,
  -3436,
  -3433,
  -3429,
  -3426,
  -3423,
  -3419,
  -3416,
  -3412,
  -3409,
  -3405,
  -3402,
  -3398,
  -3395,
  -3391,
  -3388,
  -3384,
  -3381,
  -3377,
  -3373,
  -3370,
  -3366,
  -3363,
  -3359,
  -3356,
  -3352,
  -3348,
  -3345,
  -3341,
  -3337,
  -3334,
  -3330,
  -3326,
  -3323,
  -3319,
  -3315,
  -3312,
  -3308,
  -3304,
  -3301,
  -3297,
  -3293,
  -3289,
  -3286,
  -3282,
  -3278,
  -3274,
  -3271,
  -3267,
  -3263,
  -3259,
  -3255,
  -3252,
  -3248,
  -3244,
  -3240,
  -3236,
  -3232,
  -3229,
  -3225,
  -3221,
  -3217,
  -3213,
  -3209,
  -3205,
  -3201,
  -3197,
  -3193,
  -3190,
  -3186,
  -3182,
  -3178,
  -3174,
  -3170,
  -3166,
  -3162,
  -3158,
  -3154,
  -3150,
  -3146,
  -3142,
  -3138,
  -3134,
  -3130,
  -3126,
  -3121,
  -3117,
  -3113,
  -3109,
  -3105,
  -3101,
  -3097,
  -3093,
  -3089,
  -3085,
  -3080,
  -3076,
  -3072,
  -3068,
  -3064,
  -3060,
  -3055,
  -3051,
  -3047,
  -3043,
  -3039,
  -3034,
  -3030,
  -3026,
  -3022,
  -3018,
  -3013,
  -3009,
  -3005,
  -3000,
  -2996,
  -2992,
  -2988,
  -2983,
  -2979,
  -2975,
  -2970,
  -2966,
  -2962,
  -2957,
  -2953,
  -2949,
  -2944,
  -2940,
  -2936,
  -2931,
  -2927,
  -2922,
  -2918,
  -2914,
  -2909,
  -2905,
  -2900,
  -2896,
  -2891,
  -2887,
  -2882,
  -2878,
  -2874,
  -2869,
  -2865,
  -2860,
  -2856,
  -2851,
  -2847,
  -2842,
  -2837,
  -2833,
  -2828,
  -2824,
  -2819,
  -2815,
  -2810,
  -2806,
  -2801,
  -2796,
  -2792,
  -2787,
  -2783,
  -2778,
  -2773,
  -2769,
  -2764,
  -2760,
  -2755,
  -2750,
  -2746,
  -2741,
  -2736,
  -2732,
  -2727,
  -2722,
  -2717,
  -2713,
  -2708,
  -2703,
  -2699,
  -2694,
  -2689,
  -2684,
  -2680,
  -2675,
  -2670,
  -2665,
  -2661,
  -2656,
  -2651,
  -2646,
  -2641,
  -2637,
  -2632,
  -2627,
  -2622,
  -2617,
  -2613,
  -2608,
  -2603,
  -2598,
  -2593,
  -2588,
  -2583,
  -2578,
  -2574,
  -2569,
  -2564,
  -2559,
  -2554,
  -2549,
  -2544,
  -2539,
  -2534,
  -2529,
  -2524,
  -2519,
  -2515,
  -2510,
  -2505,
  -2500,
  -2495,
  -2490,
  -2485,
  -2480,
  -2475,
  -2470,
  -2465,
  -2460,
  -2455,
  -2450,
  -2445,
  -2439,
  -2434,
  -2429,
  -2424,
  -2419,
  -2414,
  -2409,
  -2404,
  -2399,
  -2394,
  -2389,
  -2384,
  -2379,
  -2373,
  -2368,
  -2363,
  -2358,
  -2353,
  -2348,
  -2343,
  -2337,
  -2332,
  -2327,
  -2322,
  -2317,
  -2312,
  -2306,
  -2301,
  -2296,
  -2291,
  -2286,
  -2280,
  -2275,
  -2270,
  -2265,
  -2259,
  -2254,
  -2249,
  -2244,
  -2238,
  -2233,
  -2228,
  -2223,
  -2217,
  -2212,
  -2207,
  -2201,
  -2196,
  -2191,
  -2186,
  -2180,
  -2175,
  -2170,
  -2164,
  -2159,
  -2154,
  -2148,
  -2143,
  -2138,
  -2132,
  -2127,
  -2121,
  -2116,
  -2111,
  -2105,
  -2100,
  -2094,
  -2089,
  -2084,
  -2078,
  -2073,
  -2067,
  -2062,
  -2057,
  -2051,
  -2046,
  -2040,
  -2035,
  -2029,
  -2024,
  -2018,
  -2013,
  -2007,
  -2002,
  -1997,
  -1991,
  -1986,
  -1980,
  -1975,
  -1969,
  -1964,
  -1958,
  -1952,
  -1947,
  -1941,
  -1936,
  -1930,
  -1925,
  -1919,
  -1914,
  -1908,
  -1903,
  -1897,
  -1891,
  -1886,
  -1880,
  -1875,
  -1869,
  -1864,
  -1858,
  -1852,
  -1847,
  -1841,
  -1835,
  -1830,
  -1824,
  -1819,
  -1813,
  -1807,
  -1802,
  -1796,
  -1790,
  -1785,
  -1779,
  -1773,
  -1768,
  -1762,
  -1756,
  -1751,
  -1745,
  -1739,
  -1734,
  -1728,
  -1722,
  -1717,
  -1711,
  -1705,
  -1699,
  -1694,
  -1688,
  -1682,
  -1677,
  -1671,
  -1665,
  -1659,
  -1654,
  -1648,
  -1642,
  -1636,
  -1631,
  -1625,
  -1619,
  -1613,
  -1608,
  -1602,
  -1596,
  -1590,
  -1584,
  -1579,
  -1573,
  -1567,
  -1561,
  -1555,
  -1550,
  -1544,
  -1538,
  -1532,
  -1526,
  -1520,
  -1515,
  -1509,
  -1503,
  -1497,
  -1491,
  -1485,
  -1479,
  -1474,
  -1468,
  -1462,
  -1456,
  -1450,
  -1444,
  -1438,
  -1433,
  -1427,
  -1421,
  -1415,
  -1409,
  -1403,
  -1397,
  -1391,
  -1385,
  -1379,
  -1373,
  -1368,
  -1362,
  -1356,
  -1350,
  -1344,
  -1338,
  -1332,
  -1326,
  -1320,
  -1314,
  -1308,
  -1302,
  -1296,
  -1290,
  -1284,
  -1278,
  -1272,
  -1266,
  -1260,
  -1254,
  -1248,
  -1243,
  -1237,
  -1231,
  -1225,
  -1219,
  -1213,
  -1207,
  -1201,
  -1195,
  -1189,
  -1182,
  -1176,
  -1170,
  -1164,
  -1158,
  -1152,
  -1146,
  -1140,
  -1134,
  -1128,
  -1122,
  -1116,
  -1110,
  -1104,
  -1098,
  -1092,
  -1086,
  -1080,
  -1074,
  -1068,
  -1062,
  -1056,
  -1050,
  -1043,
  -1037,
  -1031,
  -1025,
  -1019,
  -1013,
  -1007,
  -1001,
  -995,
  -989,
  -983,
  -976,
  -970,
  -964,
  -958,
  -952,
  -946,
  -940,
  -934,
  -928,
  -921,
  -915,
  -909,
  -903,
  -897,
  -891,
  -885,
  -879,
  -872,
  -866,
  -860,
  -854,
  -848,
  -842,
  -836,
  -829,
  -823,
  -817,
  -811,
  -805,
  -799,
  -792,
  -786,
  -780,
  -774,
  -768,
  -762,
  -755,
  -749,
  -743,
  -737,
  -731,
  -725,
  -718,
  -712,
  -706,
  -700,
  -694,
  -687,
  -681,
  -675,
  -669,
  -663,
  -656,
  -650,
  -644,
  -638,
  -632,
  -625,
  -619,
  -613,
  -607,
  -601,
  -594,
  -588,
  -582,
  -576,
  -569,
  -563,
  -557,
  -551,
  -545,
  -538,
  -532,
  -526,
  -520,
  -513,
  -507,
  -501,
  -495,
  -488,
  -482,
  -476,
  -470,
  -463,
  -457,
  -451,
  -445,
  -438,
  -432,
  -426,
  -420,
  -413,
  -407,
  -401,
  -395,
  -388,
  -382,
  -376,
  -370,
  -363,
  -357,
  -351,
  -345,
  -338,
  -332,
  -326,
  -320,
  -313,
  -307,
  -301,
  -295,
  -288,
  -282,
  -276,
  -269,
  -263,
  -257,
  -251,
  -244,
  -238,
  -232,
  -226,
  -219,
  -213,
  -207,
  -200,
  -194,
  -188,
  -182,
  -175,
  -169,
  -163,
  -157,
  -150,
  -144,
  -138,
  -131,
  -125,
  -119,
  -113,
  -106,
  -100,
  -94,
  -87,
  -81,
  -75,
  -69,
  -62,
  -56,
  -50,
  -43,
  -37,
  -31,
  -25,
  -18,
  -12,
  -6,
  0,
  6,
  12,
  18,
  25,
  31,
  37,
  43,
  50,
  56,
  62,
  69,
  75,
  81,
  87,
  94,
  100,
  106,
  113,
  119,
  125,
  131,
  138,
  144,
  150,
  157,
  163,
  169,
  175,
  182,
  188,
  194,
  200,
  207,
  213,
  219,
  226,
  232,
  238,
  244,
  251,
  257,
  263,
  269,
  276,
  282,
  288,
  295,
  301,
  307,
  313,
  320,
  326,
  332,
  338,
  345,
  351,
  357,
  363,
  370,
  376,
  382,
  388,
  395,
  401,
  407,
  413,
  420,
  426,
  432,
  438,
  445,
  451,
  457,
  463,
  470,
  476,
  482,
  488,
  495,
  501,
  507,
  513,
  520,
  526,
  532,
  538,
  545,
  551,
  557,
  563,
  569,
  576,
  582,
  588,
  594,
  601,
  607,
  613,
  619,
  625,
  632,
  638,
  644,
  650,
  656,
  663,
  669,
  675,
  681,
  687,
  694,
  700,
  706,
  712,
  718,
  725,
  731,
  737,
  743,
  749,
  755,
  762,
  768,
  774,
  780,
  786,
  792,
  799,
  805,
  811,
  817,
  823,
  829,
  836,
  842,
  848,
  854,
  860,
  866,
  872,
  879,
  885,
  891,
  897,
  903,
  909,
  915,
  921,
  928,
  934,
  940,
  946,
  952,
  958,
  964,
  970,
  976,
  983,
  989,
  995,
  1001,
  1007,
  1013,
  1019,
  1025,
  1031,
  1037,
  1043,
  1050,
  1056,
  1062,
  1068,
  1074,
  1080,
  1086,
  1092,
  1098,
  1104,
  1110,
  1116,
  1122,
  1128,
  1134,
  1140,
  1146,
  1152,
  1158,
  1164,
  1170,
  1176,
  1182,
  1189,
  1195,
  1201,
  1207,
  1213,
  1219,
  1225,
  1231,
  1237,
  1243,
  1248,
  1254,
  1260,
  1266,
  1272,
  1278,
  1284,
  1290,
  1296,
  1302,
  1308,
  1314,
  1320,
  1326,
  1332,
  1338,
  1344,
  1350,
  1356,
  1362,
  1368,
  1373,
  1379,
  1385,
  1391,
  1397,
  1403,
  1409,
  1415,
  1421,
  1427,
  1433,
  1438,
  1444,
  1450,
  1456,
  1462,
  1468,
  1474,
  1479,
  1485,
  1491,
  1497,
  1503,
  1509,
  1515,
  1520,
  1526,
  1532,
  1538,
  1544,
  1550,
  1555,
  1561,
  1567,
  1573,
  1579,
  1584,
  1590,
  1596,
  1602,
  1608,
  1613,
  1619,
  1625,
  1631,
  1636,
  1642,
  1648,
  1654,
  1659,
  1665,
  1671,
  1677,
  1682,
  1688,
  1694,
  1699,
  1705,
  1711,
  1717,
  1722,
  1728,
  1734,
  1739,
  1745,
  1751,
  1756,
  1762,
  1768,
  1773,
  1779,
  1785,
  1790,
  1796,
  1802,
  1807,
  1813,
  1819,
  1824,
  1830,
  1835,
  1841,
  1847,
  1852,
  1858,
  1864,
  1869,
  1875,
  1880,
  1886,
  1891,
  1897,
  1903,
  1908,
  1914,
  1919,
  1925,
  1930,
  1936,
  1941,
  1947,
  1952,
  1958,
  1964,
  1969,
  1975,
  1980,
  1986,
  1991,
  1997,
  2002,
  2007,
  2013,
  2018,
  2024,
  2029,
  2035,
  2040,
  2046,
  2051,
  2057,
  2062,
  2067,
  2073,
  2078,
  2084,
  2089,
  2094,
  2100,
  2105,
  2111,
  2116,
  2121,
  2127,
  2132,
  2138,
  2143,
  2148,
  2154,
  2159,
  2164,
  2170,
  2175,
  2180,
  2186,
  2191,
  2196,
  2201,
  2207,
  2212,
  2217,
  2223,
  2228,
  2233,
  2238,
  2244,
  2249,
  2254,
  2259,
  2265,
  2270,
  2275,
  2280,
  2286,
  2291,
  2296,
  2301,
  2306,
  2312,
  2317,
  2322,
  2327,
  2332,
  2337,
  2343,
  2348,
  2353,
  2358,
  2363,
  2368,
  2373,
  2379,
  2384,
  2389,
  2394,
  2399,
  2404,
  2409,
  2414,
  2419,
  2424,
  2429,
  2434,
  2439,
  2445,
  2450,
  2455,
  2460,
  2465,
  2470,
  2475,
  2480,
  2485,
  2490,
  2495,
  2500,
  2505,
  2510,
  2515,
  2519,
  2524,
  2529,
  2534,
  2539,
  2544,
  2549,
  2554,
  2559,
  2564,
  2569,
  2574,
  2578,
  2583,
  2588,
  2593,
  2598,
  2603,
  2608,
  2613,
  2617,
  2622,
  2627,
  2632,
  2637,
  2641,
  2646,
  2651,
  2656,
  2661,
  2665,
  2670,
  2675,
  2680,
  2684,
  2689,
  2694,
  2699,
  2703,
  2708,
  2713,
  2717,
  2722,
  2727,
  2732,
  2736,
  2741,
  2746,
  2750,
  2755,
  2760,
  2764,
  2769,
  2773,
  2778,
  2783,
  2787,
  2792,
  2796,
  2801,
  2806,
  2810,
  2815,
  2819,
  2824,
  2828,
  2833,
  2837,
  2842,
  2847,
  2851,
  2856,
  2860,
  2865,
  2869,
  2874,
  2878,
  2882,
  2887,
  2891,
  2896,
  2900,
  2905,
  2909,
  2914,
  2918,
  2922,
  2927,
  2931,
  2936,
  2940,
  2944,
  2949,
  2953,
  2957,
  2962,
  2966,
  2970,
  2975,
  2979,
  2983,
  2988,
  2992,
  2996,
  3000,
  3005,
  3009,
  3013,
  3018,
  3022,
  3026,
  3030,
  3034,
  3039,
  3043,
  3047,
  3051,
  3055,
  3060,
  3064,
  3068,
  3072,
  3076,
  3080,
  3085,
  3089,
  3093,
  3097,
  3101,
  3105,
  3109,
  3113,
  3117,
  3121,
  3126,
  3130,
  3134,
  3138,
  3142,
  3146,
  3150,
  3154,
  3158,
  3162,
  3166,
  3170,
  3174,
  3178,
  3182,
  3186,
  3190,
  3193,
  3197,
  3201,
  3205,
  3209,
  3213,
  3217,
  3221,
  3225,
  3229,
  3232,
  3236,
  3240,
  3244,
  3248,
  3252,
  3255,
  3259,
  3263,
  3267,
  3271,
  3274,
  3278,
  3282,
  3286,
  3289,
  3293,
  3297,
  3301,
  3304,
  3308,
  3312,
  3315,
  3319,
  3323,
  3326,
  3330,
  3334,
  3337,
  3341,
  3345,
  3348,
  3352,
  3356,
  3359,
  3363,
  3366,
  3370,
  3373,
  3377,
  3381,
  3384,
  3388,
  3391,
  3395,
  3398,
  3402,
  3405,
  3409,
  3412,
  3416,
  3419,
  3423,
  3426,
  3429,
  3433,
  3436,
  3440,
  3443,
  3447,
  3450,
  3453,
  3457,
  3460,
  3463,
  3467,
  3470,
  3473,
  3477,
  3480,
  3483,
  3487,
  3490,
  3493,
  3497,
  3500,
  3503,
  3506,
  3510,
  3513,
  3516,
  3519,
  3522,
  3526,
  3529,
  3532,
  3535,
  3538,
  3541,
  3545,
  3548,
  3551,
  3554,
  3557,
  3560,
  3563,
  3566,
  3570,
  3573,
  3576,
  3579,
  3582,
  3585,
  3588,
  3591,
  3594,
  3597,
  3600,
  3603,
  3606,
  3609,
  3612,
  3615,
  3618,
  3621,
  3624,
  3627,
  3629,
  3632,
  3635,
  3638,
  3641,
  3644,
  3647,
  3650,
  3652,
  3655,
  3658,
  3661,
  3664,
  3667,
  3669,
  3672,
  3675,
  3678,
  3680,
  3683,
  3686,
  3689,
  3691,
  3694,
  3697,
  3700,
  3702,
  3705,
  3708,
  3710,
  3713,
  3716,
  3718,
  3721,
  3723,
  3726,
  3729,
  3731,
  3734,
  3736,
  3739,
  3742,
  3744,
  3747,
  3749,
  3752,
  3754,
  3757,
  3759,
  3762,
  3764,
  3767,
  3769,
  3772,
  3774,
  3776,
  3779,
  3781,
  3784,
  3786,
  3789,
  3791,
  3793,
  3796,
  3798,
  3800,
  3803,
  3805,
  3807,
  3810,
  3812,
  3814,
  3816,
  3819,
  3821,
  3823,
  3826,
  3828,
  3830,
  3832,
  3834,
  3837,
  3839,
  3841,
  3843,
  3845,
  3848,
  3850,
  3852,
  3854,
  3856,
  3858,
  3860,
  3862,
  3864,
  3867,
  3869,
  3871,
  3873,
  3875,
  3877,
  3879,
  3881,
  3883,
  3885,
  3887,
  3889,
  3891,
  3893,
  3895,
  3897,
  3899,
  3900,
  3902,
  3904,
  3906,
  3908,
  3910,
  3912,
  3914,
  3915,
  3917,
  3919,
  3921,
  3923,
  3925,
  3926,
  3928,
  3930,
  3932,
  3933,
  3935,
  3937,
  3939,
  3940,
  3942,
  3944,
  3945,
  3947,
  3949,
  3950,
  3952,
  3954,
  3955,
  3957,
  3959,
  3960,
  3962,
  3963,
  3965,
  3967,
  3968,
  3970,
  3971,
  3973,
  3974,
  3976,
  3977,
  3979,
  3980,
  3982,
  3983,
  3985,
  3986,
  3988,
  3989,
  3990,
  3992,
  3993,
  3995,
  3996,
  3997,
  3999,
  4000,
  4001,
  4003,
  4004,
  4005,
  4007,
  4008,
  4009,
  4011,
  4012,
  4013,
  4014,
  4016,
  4017,
  4018,
  4019,
  4020,
  4022,
  4023,
  4024,
  4025,
  4026,
  4027,
  4029,
  4030,
  4031,
  4032,
  4033,
  4034,
  4035,
  4036,
  4037,
  4038,
  4039,
  4040,
  4041,
  4042,
  4043,
  4044,
  4045,
  4046,
  4047,
  4048,
  4049,
  4050,
  4051,
  4052,
  4053,
  4054,
  4055,
  4056,
  4057,
  4057,
  4058,
  4059,
  4060,
  4061,
  4062,
  4062,
  4063,
  4064,
  4065,
  4065,
  4066,
  4067,
  4068,
  4068,
  4069,
  4070,
  4071,
  4071,
  4072,
  4073,
  4073,
  4074,
  4075,
  4075,
  4076,
  4076,
  4077,
  4078,
  4078,
  4079,
  4079,
  4080,
  4080,
  4081,
  4081,
  4082,
  4082,
  4083,
  4083,
  4084,
  4084,
  4085,
  4085,
  4086,
  4086,
  4087,
  4087,
  4087,
  4088,
  4088,
  4089,
  4089,
  4089,
  4090,
  4090,
  4090,
  4091,
  4091,
  4091,
  4091,
  4092,
  4092,
  4092,
  4092,
  4093,
  4093,
  4093,
  4093,
  4094,
  4094,
  4094,
  4094,
  4094,
  4094,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4095,
  4096,
  4939848,
  1233207425,
  -1803458431,
  -1820225407,
  1719768449,
  1786866049,
  2072090241,
  2088846209,
  1585529985,
  1350717314,
  1384272258,
  1417827202,
  1451382146,
  1484937090,
  1199654529,
  -2122218623,
  1216447617,
  1619171201,
  1652711810,
  1686266754,
  1719821698,
  1753376642,
  1786931586,
  1820486530,
  1854041474,
  1887596418,
  1921151362,
  1954706306,
  1988261250,
  2021816194,
  1837201794,
  1853984641,
  1367428993,
  -2122160511,
  -2088598910,
  -2055043966,
  -2021489022,
  -1987934078,
  -1954379134,
  -1920824190,
  -1887269246,
  -1853714302,
  -1820159358,
  -1786604414,
  -1753049470,
  -1719494526,
  1870764674,
  1887527553,
  24705,
  1115766913,
  1988195713,
  1166098817,
  1082364547,
  1149452931,
  1216562819,
  -2054978685,
  1652787075,
  1099127681,
  1166230403,
  1233340291,
  1283672707,
  1350782595,
  1417892483,
  1485002371,
  1552112259,
  1619222147,
  1703109507,
  1770219395,
  1803774595,
  1837329539,
  1904438915,
  2005103747,
  2105768579,
  -2138866045,
  -2105310845,
  -2038201213,
  -1987868541,
  -1954313597,
  -1920758653,
  -1820094589,
  0
}; // weak
int dword_4BA190 = 1024; // weak
int dword_4BA194 = 0; // weak
int dword_4BA198 = 576; // weak
int dword_4BA19C = 0; // weak
char byte_4BA1A0[] = { '\0' }; // weak
char byte_4BA1A1[] = { '\0' }; // weak
char byte_4BA1A2[950] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\xFF',
  '\0',
  '\xFF',
  '\xFF',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\0',
  'N',
  '\x85',
  '(',
  '\0',
  '\xCC',
  '\xCC',
  '\xFF',
  '\0',
  'D',
  'w',
  '\0',
  '\0',
  '\x7F',
  '\xFF',
  '\x7F',
  '\0',
  '\xCC',
  '\xCC',
  '\xCC',
  '\0',
  '\xAA',
  '\xAA',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x04',
  '\a',
  '\n',
  '\r',
  '\f',
  '\x0E',
  '\x0F',
  '\x10',
  '\x06',
  '\b',
  '\n',
  '\v',
  '\f',
  '\x0E',
  '\x10',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\n',
  '\v',
  '\f',
  '\r',
  '\x0E',
  '\x0F',
  '\x10',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x04',
  '\x04',
  '\b',
  '\b',
  '\n',
  '\n',
  '\x10',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x10',
  '\x10',
  '\x10',
  '\x10',
  '\x10',
  '\x10',
  '\x10',
  '\x81',
  'B',
  '\x81',
  'A',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '(',
  '$',
  'I',
  '\0',
  '\x10',
  '$',
  'I',
  '\0',
  '\xF8',
  '#',
  'I',
  '\0',
  '\xE0',
  '#',
  'I',
  '\0',
  '\xC8',
  '#',
  'I',
  '\0',
  '\xB0',
  '#',
  'I',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x10',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\x01',
  '\0',
  '\xB0',
  '\xBB',
  '\xBB',
  '\xBB',
  '\xBB',
  '\xBB',
  '\xBB',
  '\xBB',
  '\xBB',
  '\t',
  '\0',
  '\x10',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xC0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x10',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\x01',
  '\x10',
  '\xB1',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xBC',
  '\t',
  '\x10',
  '\xB1',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xCC',
  '\xBC',
  '\t',
  '\0',
  '\x10',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\"',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xC0',
  '\0'
}; // weak
HANDLE FileHandle = (HANDLE)0xFFFFFFFF; // idb
void *off_4BA55C = &unk_5018A0; // weak
_UNKNOWN unk_4BA560; // weak
int dword_4BA720 = 1; // weak
char (*off_4BA724)[4] = &Source; // weak
int dword_4BAAD8 = -1153374642; // weak
int dword_4BB278 = -1; // weak
int dword_4BB630 = 28800; // weak
int dword_4BB634 = 1; // weak
int dword_4BB638 = -3600; // weak
void *off_4BB6C0 = &unk_4BB640; // weak
void *off_4BB790 = &unk_515900; // weak
int dword_4BBB60 = 1024; // weak
int dword_4BBB64 = -1023; // weak
int dword_4BBB68 = 53; // weak
int dword_4BBB6C = 11; // weak
int dword_4BBB70 = 64; // weak
int dword_4BBB74 = 1023; // weak
int dword_4BBB78 = 128; // weak
int dword_4BBB7C = -127; // weak
int dword_4BBB80 = 24; // weak
int dword_4BBB84 = 8; // weak
int dword_4BBB88 = 32; // weak
int dword_4BBB8C = 127; // weak
_UNKNOWN unk_4BBC98; // weak
_UNKNOWN unk_4BBDF8; // weak
char a114[6] = "1.1.4"; // weak
char byte_4BBF88 = '1'; // weak
char aUnknownCompres[27] = "unknown compression method"; // weak
char aInvalidWindowS[20] = "invalid window size"; // weak
char aIncorrectHeade[23] = "incorrect header check"; // weak
char aNeedDictionary[16] = "need dictionary"; // weak
char aIncorrectDataC[21] = "incorrect data check"; // weak
char aInvalidBlockTy[19] = "invalid block type"; // weak
char aInvalidStoredB[29] = "invalid stored block lengths"; // weak
char aTooManyLengthO[36] = "too many length or distance symbols"; // weak
char aInvalidBitLeng[26] = "invalid bit length repeat"; // weak
char a114_0[6] = "1.1.4"; // weak
char aInvalidLiteral[28] = "invalid literal/length code"; // weak
char aInvalidDistanc[22] = "invalid distance code"; // weak
int dword_4BC158 = 9; // weak
int dword_4BC15C = 5; // weak
_UNKNOWN unk_4BC160; // weak
_UNKNOWN unk_4BD160; // weak
char aOversubscribed[40] = "oversubscribed dynamic bit lengths tree"; // weak
char aIncompleteDyna[36] = "incomplete dynamic bit lengths tree"; // weak
char aOversubscribed_1[35] = "oversubscribed literal/length tree"; // weak
char aIncompleteLite[31] = "incomplete literal/length tree"; // weak
char aOversubscribed_0[29] = "oversubscribed distance tree"; // weak
char aIncompleteDist[25] = "incomplete distance tree"; // weak
char aEmptyDistanceT[33] = "empty distance tree with lengths"; // weak
int dword_4BD350[17] =
{
  0,
  1,
  3,
  7,
  15,
  31,
  63,
  127,
  255,
  511,
  1023,
  2047,
  4095,
  8191,
  16383,
  32767,
  65535
}; // weak
char aInvalidDistanc_0[22] = "invalid distance code"; // weak
char aInvalidLiteral_0[28] = "invalid literal/length code"; // weak
char aVorbis[7] = "vorbis"; // weak
int dword_4BD3D0[256] =
{
  870626366,
  871600393,
  872526475,
  873078844,
  873667107,
  874293600,
  874960807,
  875671371,
  876428112,
  877234032,
  878092323,
  879006392,
  879979861,
  880910216,
  881462268,
  882050195,
  882676329,
  883343154,
  884053311,
  884809619,
  885615076,
  886472877,
  887386422,
  888359334,
  889293960,
  889845696,
  890433286,
  891059062,
  891725504,
  892435255,
  893191130,
  893996126,
  894853435,
  895766457,
  896738812,
  897677706,
  898229126,
  898816380,
  899441797,
  900107858,
  900817203,
  901572645,
  902377180,
  903233998,
  904146497,
  905118295,
  906061455,
  906612559,
  907199477,
  907824536,
  908490216,
  909199154,
  909954164,
  910758238,
  911614565,
  912526542,
  913497784,
  914445207,
  914995996,
  915582578,
  916207279,
  916872577,
  917581109,
  918335687,
  919139300,
  919995137,
  920906592,
  921877278,
  922828962,
  923379435,
  923965681,
  924590025,
  925254942,
  925963069,
  926717214,
  927520367,
  928375714,
  929286647,
  930256777,
  931212719,
  931762878,
  932348788,
  932972774,
  933637310,
  934345031,
  935098745,
  935901438,
  936756295,
  937666706,
  938636280,
  939596480,
  940146323,
  940731897,
  941355526,
  942019682,
  942726998,
  943480280,
  944282514,
  945136882,
  946046771,
  947015790,
  947980243,
  948529771,
  949115010,
  949738282,
  950402057,
  951108968,
  951861819,
  952663593,
  953517472,
  954426841,
  955395304,
  956364009,
  956913222,
  957498126,
  958121041,
  958784437,
  959490943,
  960243362,
  961044677,
  961898067,
  962806915,
  963774824,
  964747777,
  965296676,
  965881245,
  966503803,
  967166819,
  967872921,
  968624909,
  969425766,
  970278667,
  971186994,
  972154349,
  973131549,
  973680133,
  974264368,
  974886569,
  975549205,
  976254903,
  977006460,
  977806858,
  978659271,
  979567078,
  980533880,
  981515323,
  982063593,
  982647494,
  983269339,
  983931595,
  984636888,
  985388015,
  986187955,
  987039880,
  987947167,
  988913415,
  989899100,
  990447056,
  991030622,
  991652111,
  992313988,
  993018877,
  993769575,
  994569057,
  995420493,
  996327261,
  997292956,
  998282879,
  998830522,
  999413753,
  1000034887,
  1000696385,
  1001400871,
  1002151138,
  1002950162,
  1003801111,
  1004707360,
  1005672501,
  1006666662,
  1007213991,
  1007796888,
  1008417666,
  1009078785,
  1009782868,
  1010532705,
  1011331272,
  1012181733,
  1013087464,
  1014052052,
  1015050447,
  1015597462,
  1016180026,
  1016800448,
  1017461189,
  1018164869,
  1018914277,
  1019712386,
  1020562361,
  1021467572,
  1022431609,
  1023434235,
  1023980937,
  1024563167,
  1025183234,
  1025843597,
  1026546873,
  1027295853,
  1028093504,
  1028942993,
  1029847685,
  1030811170,
  1031818026,
  1032364415,
  1032946312,
  1033566024,
  1034226008,
  1034928882,
  1035677432,
  1036474627,
  1037323629,
  1038227804,
  1039190737,
  1040201819,
  1040747895,
  1041329459,
  1041948816,
  1042608423,
  1043310894,
  1044059015,
  1044855754,
  1045704269,
  1046607927,
  1047570308,
  1048585615,
  1049131379,
  1049712610,
  1050331612,
  1050990841,
  1051692909,
  1052440603,
  1053236885,
  1054084915,
  1054988055,
  1055949885,
  1056969414,
  1057514866,
  1058095763,
  1058714411,
  1059373262,
  1060074929,
  1060822194,
  1061618021,
  1062465565,
  1063368187,
  1064329467,
  1065353216
}; // weak
_UNKNOWN unk_4BD7D0; // weak
float flt_4BD7E0 = 6.2831855; // weak
float flt_4BD7E4 = 0.70710677; // weak
float flt_4BD7E8 = 6.2831855; // weak
char aOggs[5] = "OggS"; // weak
_UNKNOWN unk_4BDA00; // weak
_UNKNOWN unk_4BDE00; // weak
_UNKNOWN unk_4BDE20; // weak
_UNKNOWN unk_4BDE40; // weak
CHAR SubKey[264]; // weak
char byte_4BF018[256]; // weak
char Str[256]; // weak
char CommandLine[264]; // idb
int dword_4BF320[]; // weak
int dword_4BF324[399]; // weak
int dword_4BF960; // weak
int dword_4BF964[]; // weak
int dword_4BF968; // weak
int dword_4BF96C; // weak
int dword_4BF970; // weak
int dword_4BF974; // weak
int dword_4BF978; // weak
int dword_4BF97C; // weak
int dword_4BF980; // weak
int dword_4BF984; // weak
int dword_4BF988; // weak
void *dword_4BF98C; // idb
int dword_4BF990; // weak
int dword_4BF998; // idb
int dword_4BF99C; // weak
int dword_4BF9A0; // weak
CHAR PathName[260]; // weak
BITMAPINFO pbmi; // idb
BYTE byte_4BFAD8[260]; // weak
HDC hdc; // idb
BYTE byte_4BFBE0[264]; // weak
char byte_4BFCE8[861]; // weak
char byte_4C00D0[1000]; // weak
CHAR Path[260]; // weak
int dword_4C05BC; // weak
int dword_4C05C0; // weak
int dword_4C05C4; // weak
int dword_4C05C8; // weak
BYTE byte_4C05D0[264]; // weak
BYTE Data[64]; // weak
CHAR byte_4C0718[264]; // idb
BYTE byte_4C0820[64]; // weak
int dword_4C0860; // weak
int dword_4C0864; // weak
HINSTANCE hInstance; // idb
HWND hWnd; // idb
int dword_4C0870; // weak
void *dword_4C0874; // idb
void *dword_4C0878; // idb
void *dword_4C087C; // idb
void *dword_4C0880; // idb
BYTE dword_4C0884; // idb
BYTE dword_4C0888; // idb
int dword_4C088C; // weak
int dword_4C0890; // weak
int dword_4C0894; // weak
int dword_4C0898; // weak
int dword_4C089C; // weak
int dword_4C08A4; // weak
int dword_4C08A8; // weak
int dword_4C08AC; // weak
int dword_4C08B0; // weak
HIMC dword_4C08B4; // idb
HDC hdcSrc; // idb
int dword_4C08BC; // weak
HGDIOBJ h; // idb
int dword_4C08C4; // weak
int dword_4C08CC; // weak
void *dword_4C08D4; // idb
void *dword_4C08D8; // idb
void *dword_4C08DC; // idb
void *dword_4C08E0; // idb
void *dword_4C08E4; // idb
void *dword_4C08E8; // idb
void *Buf; // idb
void *dword_4C08F0; // idb
void *dword_4C08F4; // idb
int dword_4C08F8; // weak
int dword_4C08FC; // weak
int dword_4C0900; // weak
int dword_4C0904; // weak
_UNKNOWN unk_4C0908; // weak
int dword_4C0918; // weak
HMODULE hModule; // idb
HMMIO hmmio; // idb
int dword_4C0928; // weak
int dword_4C092C; // weak
int dword_4C0930; // idb
int dword_4C0934[]; // weak
int dword_4C0938; // weak
size_t ElementCount; // idb
int dword_4C0968[12]; // weak
int dword_4C0998[12]; // weak
int dword_4C09C8[]; // weak
int dword_4C09F8; // weak
int dword_4C09FC; // weak
char byte_4C0A00; // idb
int dword_4C0A40; // weak
int dword_4C0A44; // weak
int dword_4C0A48; // weak
int dword_4C0A4C; // weak
__int16 word_4C0A50; // weak
int dword_4C0A54; // weak
int dword_4C0A58; // weak
int dword_4C0A5C; // weak
float flt_4C0A60; // weak
char byte_4C0B68[260]; // weak
int dword_4C0C6C; // weak
struct _RTL_CRITICAL_SECTION CriticalSection; // idb
int dword_4C1188; // weak
void *Block; // idb
_UNKNOWN unk_4C11C8; // weak
int dword_4C11E8[]; // weak
char byte_4C1378[260]; // weak
int dword_4C147C; // weak
HANDLE hEvent; // idb
size_t MaxCharCount; // idb
char byte_4C1588[32]; // weak
int dword_4C15A8[]; // weak
int dword_4C15AC[]; // weak
int dword_4C15B0[]; // weak
int dword_4C15B4[]; // weak
_UNKNOWN unk_4C15B8; // weak
int dword_4C24B8; // weak
int dword_4C24BC; // weak
int dword_4C24C0; // weak
int dword_4C24C4; // weak
void *dword_4C24D0; // idb
int dword_4C24D4; // weak
int dword_4C24E0[]; // weak
int dword_4C24E4[]; // weak
int dword_4C24E8[]; // weak
int dword_4C24EC[]; // weak
int dword_4C24F0[]; // weak
int dword_4C24F4[]; // weak
int dword_4C2500[]; // weak
int dword_4C2504[]; // weak
int dword_4C2510[]; // weak
int dword_4C2514[]; // weak
int dword_4C2520[]; // weak
int dword_4C2524[]; // weak
int dword_4C2574[]; // weak
int dword_4C2578[]; // weak
int dword_4C257C[]; // weak
int dword_4C2580[]; // weak
int dword_4C2584[]; // weak
int dword_4C2588[]; // weak
_UNKNOWN unk_4C2BBC; // weak
_UNKNOWN unk_4C6978; // weak
int dword_4D14F4; // weak
__int16 word_4D1500[30121]; // weak
_DWORD dword_4F1500[4096]; // weak
_DWORD dword_4F5500[4097]; // weak
_UNKNOWN unk_4F9504; // weak
_UNKNOWN unk_4F9510; // weak
void *Base; // idb
void *dword_4F9524; // idb
size_t NumOfElements; // idb
unsigned int Val; // idb
int dword_4F9654; // weak
_UNKNOWN unk_4F9658; // weak
char byte_4FB658[8192]; // weak
int dword_4FD658; // weak
int dword_4FD65C; // weak
int dword_4FD664; // weak
int dword_4FD668; // weak
int dword_4FD670; // weak
_UNKNOWN unk_4FD678; // weak
int dword_4FD954; // weak
HWND dword_4FD958; // idb
int dword_4FD95C; // weak
CHAR String1; // idb
int dword_4FDA64; // weak
int dword_4FDA6C; // weak
HWND dword_4FDA70; // idb
LPVOID ppv; // idb
int dword_4FDA78; // weak
int dword_4FDA7C; // weak
int dword_4FDA80; // weak
int dword_4FDA84; // weak
int dword_4FDA88; // weak
int dword_4FDA8C; // weak
int dword_4FDA90; // weak
int dword_4FDA94; // weak
int dword_4FDA98; // weak
int dword_4FDA9C; // weak
bool dword_500D08; // idb
int dword_500D10; // weak
int dword_500D14; // weak
_UNKNOWN unk_500DB9; // weak
int dword_500DC4; // weak
_DWORD dword_500DC8[3]; // weak
int dword_501614; // weak
int dword_5016E0; // weak
int dword_5016EC; // weak
int dword_5016F8; // weak
int dword_5016FC; // weak
int dword_501864; // weak
int dword_501868; // weak
int dword_50186C; // weak
int dword_501870; // weak
int dword_501874; // weak
int dword_501880; // weak
int dword_501894; // weak
_UNKNOWN unk_5018A0; // weak
DWORD NumberOfBytesRead; // idb
char byte_5058C0[42903]; // weak
int dword_5158C0; // weak
int dword_5158C4; // weak
int dword_5158C8; // weak
int dword_5158CC; // weak
int dword_5158D0; // weak
int dword_5158D4; // weak
int dword_5158D8; // weak
int dword_5158DC; // weak
int dword_5158E0; // weak
int dword_5158E4; // weak
int dword_5158E8; // weak
int dword_5158EC; // weak
int dword_516A20; // weak
int dword_516A40; // weak


//----- (00401000) --------------------------------------------------------
void __thiscall sub_401000(void *this)
{
  *(_DWORD *)this = &std::bad_alloc::`vftable';
  sub_45A57E(this);
}
// 48B474:  void *std::bad_alloc::`vftable'

//----- (00401010) --------------------------------------------------------
_DWORD *__thiscall sub_401010(_DWORD *this, char a2)
{
  *this = &std::bad_alloc::`vftable';
  sub_45A57E(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 48B474:  void *std::bad_alloc::`vftable'

//----- (00401040) --------------------------------------------------------
void __thiscall sub_401040(float *this, int a2, int a3)
{
  float v3; // [esp+0h] [ebp-8h]
  float v4; // [esp+4h] [ebp-4h]

  v4 = (float)a3;
  v3 = (float)a2;
  sub_444260(this, v3, v4);
}

//----- (00401060) --------------------------------------------------------
void *__thiscall sub_401060(_DWORD *this)
{
  void *result; // eax

  if ( this[1] && *this != -1 )
  {
    sub_444D20(this[89553]);
    sub_444D20(this[89552]);
    sub_416320(this[89562]);
    sub_444D20(this[89554]);
    result = sub_444D20(this[89555]);
    if ( this[44] )
    {
      sub_444D20(this[89556]);
      return sub_444D20(this[89557]);
    }
  }
  return result;
}

//----- (004010D0) --------------------------------------------------------
void *__thiscall sub_4010D0(_DWORD *this)
{
  void *result; // eax

  if ( this[1] && *this != -1 )
  {
    if ( this[44] )
      return sub_444D20(this[89557]);
  }
  return result;
}

//----- (004010F0) --------------------------------------------------------
void __thiscall sub_4010F0(int this)
{
  sub_413360(*(_DWORD **)(this + 358252));
  if ( *(int *)(this + 1780) > 4 )
  {
    sub_445230(*(_DWORD *)(this + 358216));
    sub_444240(*(_DWORD **)(this + 358216), 1);
    sub_4440C0(*(_DWORD *)(this + 358216), *(_DWORD *)(this + 358240));
    sub_444260(*(float **)(this + 358216), 943.0, 76.0);
    sub_444340(*(float **)(this + 358216), 0, 0, 0, 0);
  }
  sub_417BA0(*(int **)(this + 358252), 1100, 672, 1216, 712, "back");
  sub_412D40(*(_DWORD **)(this + 358252), dword_4B319C, dword_4B31A0);
  sub_419860(*(_DWORD **)(this + 358252), 1100, 672, *(_DWORD *)(this + 358240), 640, 8, 744, 47, 99, 0);
  sub_419860(*(_DWORD **)(this + 358252), 1100, 672, *(_DWORD *)(this + 358240), 640, 47, 744, 89, 1, 0);
  sub_419860(*(_DWORD **)(this + 358252), 1100, 672, *(_DWORD *)(this + 358240), 640, 47, 744, 89, 2, 0);
  sub_417C60(*(char **)(this + 358252));
}
// 4B319C:  int dword_4B319C
// 4B31A0:  int dword_4B31A0

//----- (00401240) --------------------------------------------------------
int __stdcall sub_401240(char *Str, int a2)
{
  int v2; // edi
  int result; // eax
  const char *v4; // esi

  v2 = 0;
  if ( !*Str )
    return -1;
  if ( SubStr[0] )
  {
    v4 = SubStr;
    do
    {
      if ( strstr(Str, v4) && strlen(Str) == strlen(v4) )
        break;
      ++v2;
      v4 = &SubStr[32 * v2];
    }
    while ( *v4 );
  }
  result = v2;
  if ( !SubStr[32 * v2] )
    return -v2;
  return result;
}

//----- (004012D0) --------------------------------------------------------
int __stdcall sub_4012D0(char *Str)
{
  char *v1; // ebp
  int v2; // ebx
  char *v3; // esi
  char *v4; // eax
  char v5; // cl
  unsigned int v6; // eax
  char *v7; // edi
  char *v8; // eax
  char v9; // cl
  BOOL v10; // ebx
  char v11; // al
  char *v12; // esi
  char *v13; // edi
  char v14; // al
  char *v15; // ecx
  const char *v16; // edi
  char *v17; // eax
  const char *v18; // eax
  const char *v19; // ecx
  char v20; // dl
  unsigned int v21; // edx
  char *v22; // edi
  const char *v24; // ecx
  unsigned int v25; // eax
  const char *v26; // esi
  char *v27; // edi
  int v29; // edx
  const char *v30; // esi
  int v31; // eax
  int v32; // ecx
  const char *v33; // esi
  int v34; // edx
  int v35; // eax
  const char *v36; // esi
  int v37; // ecx
  int v38; // edx
  const char *v39; // esi
  int v40; // eax
  int v41; // ecx
  const char *v42; // esi
  int v43; // edx
  char *v44; // eax
  char v45; // cl
  char *v46; // eax
  char v47; // cl
  char *v48; // eax
  char v49; // cl
  char *v50; // eax
  char v51; // cl
  char *v52; // eax
  char v53; // cl
  char *v54; // eax
  char v55; // cl
  char *v56; // eax
  char v57; // cl
  char *v58; // eax
  char v59; // cl
  const char *v60; // esi
  int v61; // edx
  const char *v62; // edi
  char *v63; // esi
  unsigned int v64; // edi
  int v65; // eax
  char v66; // cl
  signed int v67; // esi
  char *v68; // eax
  char *v70; // esi
  char *v71; // eax
  char *v72; // edx
  char v73; // cl
  unsigned int v74; // eax
  char *v75; // edi
  char *v76; // edi
  char *v77; // esi
  char v78; // cl
  int result; // eax
  int v80; // [esp+14h] [ebp-1008h] BYREF
  char v81[1024]; // [esp+18h] [ebp-1004h] BYREF
  char SubStr[2048]; // [esp+418h] [ebp-C04h] BYREF
  char v83[1024]; // [esp+C18h] [ebp-404h] BYREF

  v1 = Str;
  v2 = 0;
  v80 = 0;
  v3 = Str;
  memset(SubStr, 0, sizeof(SubStr));
  if ( *Str )
  {
    do
    {
      if ( !strncmp("&f", v3, 2u) )
      {
        *v3 = 0;
        v4 = v3 + 2;
        do
        {
          v5 = *v4;
          v4[v81 - (v3 + 2)] = *v4;
          ++v4;
        }
        while ( v5 );
        qmemcpy(
          &v1[strlen(v1)],
          (char *)Buf + 265288,
          (_BYTE *)Buf + strlen((const char *)Buf + 265288) + 1 - (_BYTE *)Buf);
        v6 = &v81[strlen(v81) + 1] - v81;
        v7 = &v1[strlen(v1)];
        goto LABEL_131;
      }
      if ( !strncmp("&n", v3, 2u) )
      {
        *v3 = 0;
        v8 = v3 + 2;
        do
        {
          v9 = *v8;
          v8[v81 - (v3 + 2)] = *v8;
          ++v8;
        }
        while ( v9 );
        qmemcpy(
          &v1[strlen(v1)],
          (char *)Buf + 265268,
          (_BYTE *)Buf + strlen((const char *)Buf + 265268) + 1 - (_BYTE *)Buf);
        v6 = &v81[strlen(v81) + 1] - v81;
        v7 = &v1[strlen(v1)];
        goto LABEL_131;
      }
      if ( strncmp("@cmd", v3, 4u) && strncmp("@d", v3, 2u) )
      {
        if ( strncmp("@re1", v3, 4u) )
          goto LABEL_48;
        v10 = strstr(v3, "@n") != 0;
        *v3 = 0;
        v11 = v3[4];
        v12 = v3 + 4;
        v13 = SubStr;
        if ( v11 )
        {
          while ( v11 != 64 || v12[1] != 114 || v12[2] != 101 || v12[3] != 50 )
          {
            ++v12;
            *v13 = v11;
            v11 = *v12;
            ++v13;
            if ( !*v12 )
              goto LABEL_22;
          }
          if ( v81[strlen(SubStr) + 1023] == 10 )
          {
            v1 = Str;
            v81[strlen(SubStr) + 1023] = 0;
          }
        }
LABEL_22:
        *v13 = 0;
        if ( strncmp("@re2", v12, 4u) )
          goto LABEL_33;
        v14 = v12[4];
        v12 += 4;
        v15 = &SubStr[1024];
        if ( !v14 )
          goto LABEL_32;
        while ( 1 )
        {
          if ( v14 == 10 )
          {
            if ( !v10 )
            {
              ++v12;
              goto LABEL_32;
            }
          }
          else if ( v14 == 64 && v12[1] == 110 )
          {
            v12 += 2;
LABEL_32:
            *v15 = 0;
LABEL_33:
            strcat(v1, v12);
            if ( *((_DWORD *)Buf + 66516) )
            {
              v80 = 1;
              if ( SubStr[0] )
              {
                if ( strstr(v1, SubStr) && strstr(v1, SubStr) )
                {
                  v16 = Str;
                  do
                  {
                    v17 = strstr(v16, SubStr);
                    *v17 = 0;
                    v18 = &v17[strlen(SubStr)];
                    v19 = v16;
                    do
                    {
                      v20 = *v19;
                      v19[v81 - Str] = *v19;
                      ++v19;
                    }
                    while ( v20 );
                    v21 = strlen(&SubStr[1024]) + 1;
                    v22 = (char *)&v80 + 3;
                    while ( *++v22 )
                      ;
                    qmemcpy(v22, &SubStr[1024], v21);
                    v24 = v18;
                    v25 = strlen(v18) + 1;
                    v26 = v24;
                    v27 = (char *)&v80 + 3;
                    while ( *++v27 )
                      ;
                    qmemcpy(v27, v26, v25);
                    strcpy(Str, v81);
                    v16 = Str;
                  }
                  while ( strstr(Str, SubStr) );
                  v1 = Str;
                }
              }
              else
              {
                strcpy(v1, &SubStr[1024]);
              }
            }
            v3 = v1;
LABEL_48:
            if ( !strncmp("@w1", v3, 3u)
              || !strncmp("@w2", v3, 3u)
              || !strncmp("@w3", v3, 3u)
              || !strncmp("@w4", v3, 3u)
              || !strncmp("@w5", v3, 3u) )
            {
              v58 = v3 + 3;
              *v3 = 0;
              do
              {
                v59 = *v58;
                v58[v81 - (v3 + 3)] = *v58;
                ++v58;
              }
              while ( v59 );
            }
            else if ( !strncmp("@ht", v3, 3u) || !strncmp("@hy", v3, 3u) )
            {
              v56 = v3 + 3;
              *v3 = 0;
              do
              {
                v57 = *v56;
                v56[v81 - (v3 + 3)] = *v56;
                ++v56;
              }
              while ( v57 );
            }
            else if ( !strncmp("@wb1", v3, 4u)
                   || !strncmp("@wb2", v3, 4u)
                   || !strncmp("@wb3", v3, 4u)
                   || !strncmp("@wb4", v3, 4u)
                   || !strncmp("@wb5", v3, 4u) )
            {
              v54 = v3 + 4;
              *v3 = 0;
              do
              {
                v55 = *v54;
                v54[v81 - (v3 + 4)] = *v54;
                ++v54;
              }
              while ( v55 );
            }
            else if ( !strncmp("@bo1", v3, 4u)
                   || !strncmp("@bo2", v3, 4u)
                   || !strncmp("@bo3", v3, 4u)
                   || !strncmp("@bo4", v3, 4u) )
            {
              v52 = v3 + 4;
              *v3 = 0;
              do
              {
                v53 = *v52;
                v52[v81 - (v3 + 4)] = *v52;
                ++v52;
              }
              while ( v53 );
            }
            else if ( !strncmp("@bi1", v3, 4u)
                   || !strncmp("@bi2", v3, 4u)
                   || !strncmp("@bi3", v3, 4u)
                   || !strncmp("@bi4", v3, 4u) )
            {
              v50 = v3 + 4;
              *v3 = 0;
              do
              {
                v51 = *v50;
                v50[v81 - (v3 + 4)] = *v50;
                ++v50;
              }
              while ( v51 );
            }
            else if ( !strncmp("@bt1", v3, 4u)
                   || !strncmp("@bt2", v3, 4u)
                   || !strncmp("@bt3", v3, 4u)
                   || !strncmp("@bt4", v3, 4u) )
            {
              v48 = v3 + 4;
              *v3 = 0;
              do
              {
                v49 = *v48;
                v48[v81 - (v3 + 4)] = *v48;
                ++v48;
              }
              while ( v49 );
            }
            else if ( !strncmp("@by1", v3, 4u)
                   || !strncmp("@by2", v3, 4u)
                   || !strncmp("@by3", v3, 4u)
                   || !strncmp("@by4", v3, 4u) )
            {
              v46 = v3 + 4;
              *v3 = 0;
              do
              {
                v47 = *v46;
                v46[v81 - (v3 + 4)] = *v46;
                ++v46;
              }
              while ( v47 );
            }
            else
            {
              if ( !strncmp("@t", v3, 2u) )
              {
                *v3 = 0;
                v29 = (unsigned __int8)v3[2];
                v30 = v3 + 2;
                if ( isdigit(v29) )
                {
                  do
                    v31 = *(unsigned __int8 *)++v30;
                  while ( isdigit(v31) );
                }
                strcpy(v81, v30);
                v6 = strlen(v81) + 1;
                v7 = &v1[strlen(v1)];
                goto LABEL_131;
              }
              if ( !strncmp("@muf", v3, 4u) )
              {
                *v3 = 0;
                v32 = (unsigned __int8)v3[4];
                v33 = v3 + 4;
                if ( isdigit(v32) )
                {
                  do
                    v34 = *(unsigned __int8 *)++v33;
                  while ( isdigit(v34) );
                }
                strcpy(v81, v33);
                v6 = strlen(v81) + 1;
                v7 = &v1[strlen(v1)];
                goto LABEL_131;
              }
              if ( !strncmp("@mu", v3, 3u) )
              {
                *v3 = 0;
                v35 = (unsigned __int8)v3[3];
                v36 = v3 + 3;
                if ( isdigit(v35) )
                {
                  do
                    v37 = *(unsigned __int8 *)++v36;
                  while ( isdigit(v37) );
                }
                strcpy(v81, v36);
                v6 = strlen(v81) + 1;
                v7 = &v1[strlen(v1)];
                goto LABEL_131;
              }
              if ( !strncmp("@se", v3, 3u) )
              {
                *v3 = 0;
                v38 = (unsigned __int8)v3[3];
                v39 = v3 + 3;
                if ( isdigit(v38) )
                {
                  do
                    v40 = *(unsigned __int8 *)++v39;
                  while ( isdigit(v40) );
                }
                strcpy(v81, v39);
                v6 = strlen(v81) + 1;
                v7 = &v1[strlen(v1)];
                goto LABEL_131;
              }
              if ( !strncmp("@lse", v3, 4u) )
              {
                *v3 = 0;
                v41 = (unsigned __int8)v3[4];
                v42 = v3 + 4;
                if ( isdigit(v41) )
                {
                  do
                    v43 = *(unsigned __int8 *)++v42;
                  while ( isdigit(v43) );
                }
                strcpy(v81, v42);
                v6 = strlen(v81) + 1;
                v7 = &v1[strlen(v1)];
                goto LABEL_131;
              }
              if ( strncmp("@b1", v3, 3u) && strncmp("@b2", v3, 3u) && strncmp("@b3", v3, 3u) && strncmp("@b4", v3, 3u) )
              {
                ++v3;
                goto LABEL_132;
              }
              v44 = v3 + 3;
              *v3 = 0;
              do
              {
                v45 = *v44;
                v44[v81 - (v3 + 3)] = *v44;
                ++v44;
              }
              while ( v45 );
            }
            v6 = strlen(v81) + 1;
            v7 = &v1[strlen(v1)];
            goto LABEL_131;
          }
          ++v12;
          *v15 = v14;
          v14 = *v12;
          ++v15;
          if ( !*v12 )
            goto LABEL_32;
        }
      }
      *v3 = 0;
      if ( !strncmp("cmd", v3 + 1, 3u) )
        v60 = v3 + 4;
      else
        v60 = v3 + 2;
      if ( isdigit(*(unsigned __int8 *)v60) )
      {
        do
          v61 = *(unsigned __int8 *)++v60;
        while ( isdigit(v61) );
      }
      strcpy(v81, v60);
      v6 = strlen(v81) + 1;
      v7 = &v1[strlen(v1)];
LABEL_131:
      qmemcpy(v7, v81, v6);
      v3 = v1;
LABEL_132:
      ;
    }
    while ( *v3 );
    v2 = v80;
  }
  if ( !strstr(v1, &byte_48B498) )
    return v2;
  strcpy(v81, v1);
  v62 = strstr(v81, &byte_48B498) + 2;
  v63 = strstr(v81, &byte_48B494);
  *v63 = 0;
  v63 += 2;
  v64 = strlen(v62);
  *strstr(v63, &byte_48B490) = 0;
  v65 = strlen(v63);
  v67 = v65;
  if ( v64 == v65 )
    return v2;
  v81[0] = v66;
  if ( v65 > 0 )
  {
    do
    {
      v68 = (char *)&v80 + 3;
      while ( *++v68 )
        ;
      *(_WORD *)v68 = 17793;
      v68[2] = 0;
    }
    while ( (int)strlen(v81) < v67 );
  }
  v70 = strstr(Str, &byte_48B498) + 2;
  v71 = strstr(Str, &byte_48B494);
  v72 = v83;
  do
  {
    v73 = *v71;
    *v72++ = *v71++;
  }
  while ( v73 );
  *v70 = 0;
  strcat(Str, v81);
  v74 = &v83[strlen(v83) + 1] - v83;
  v75 = &Str[strlen(Str)];
  qmemcpy(v75, v83, 4 * (v74 >> 2));
  v77 = &v83[4 * (v74 >> 2)];
  v76 = &v75[4 * (v74 >> 2)];
  v78 = v74;
  result = v80;
  qmemcpy(v76, v77, v78 & 3);
  return result;
}
// 401F14: variable 'v66' is possibly undefined
// 4012D0:  char var_1004[1024]
// 4012D0:  char var_404[1024]

//----- (00402010) --------------------------------------------------------
int __thiscall sub_402010(_DWORD *this)
{
  return this[447];
}

//----- (00402020) --------------------------------------------------------
int __thiscall sub_402020(_DWORD *this, int a2, _BYTE *a3)
{
  int result; // eax
  int *i; // ecx
  int v6; // eax
  int v7; // eax
  char v8; // cl
  int v9; // eax
  char v10; // cl
  _BYTE *v11; // edx
  char v12; // cl
  char Str[260]; // [esp+8h] [ebp-20Ch] BYREF
  char v14[260]; // [esp+10Ch] [ebp-108h] BYREF

  result = this[22198];
  *a3 = 0;
  if ( a2 >= 0 )
  {
    for ( i = &this[result + 45]; a2 < *i; --result )
    {
      if ( result <= 0 )
        break;
      --i;
    }
    v6 = *((__int16 *)this + 7 * result + 44398);
    if ( v6 == -1 )
    {
      if ( byte_4C00D0[0] )
      {
        v7 = 0;
        do
        {
          v8 = byte_4C00D0[v7];
          Str[v7++] = v8;
        }
        while ( v8 );
        if ( strstr(Str, word_48B5C0) )
          _mbsrchr((const unsigned __int8 *)Str, 0x5Cu);
        v9 = 0;
        do
        {
          v10 = Str[v9];
          v14[v9++] = v10;
        }
        while ( v10 );
        if ( strstr(v14, ".") )
          *strstr(v14, ".") = 0;
        result = (int)v14;
      }
      else
      {
        result = (int)Buf + 19336;
      }
    }
    else
    {
      result = (int)sub_40CA80(Buf, v6);
    }
    v11 = &a3[-result];
    do
    {
      v12 = *(_BYTE *)result;
      v11[result] = *(_BYTE *)result;
      ++result;
    }
    while ( v12 );
  }
  return result;
}
// 402020:  char Str[260]
// 402020:  char var_108[260]

//----- (00402170) --------------------------------------------------------
int __thiscall sub_402170(_DWORD *this, int a2, int *a3, int a4)
{
  int result; // eax
  int *i; // esi
  int v6; // edi
  int v7; // eax
  int v8; // edi
  int v9; // eax
  char v10; // cl
  int v11; // eax
  char v12; // cl
  int v13; // edx
  char v14; // cl
  char Str[260]; // [esp+8h] [ebp-20Ch] BYREF
  char v16[260]; // [esp+10Ch] [ebp-108h] BYREF

  result = this[22198];
  if ( a4 >= 0 )
  {
    for ( i = &this[result + 45]; a4 < *i; --result )
    {
      if ( result <= 0 )
        break;
      --i;
    }
    v6 = *((unsigned __int16 *)this + 7 * result + 44400) - this[result + 45];
    v7 = *((__int16 *)this + 7 * result + 44398);
    v8 = a4 + v6;
    if ( v7 == -1 )
    {
      if ( byte_4C00D0[0] )
      {
        v9 = 0;
        do
        {
          v10 = byte_4C00D0[v9];
          Str[v9++] = v10;
        }
        while ( v10 );
        if ( strstr(Str, word_48B5C0) )
          _mbsrchr((const unsigned __int8 *)Str, 0x5Cu);
        v11 = 0;
        do
        {
          v12 = Str[v11];
          v16[v11++] = v12;
        }
        while ( v12 );
        if ( strstr(v16, ".") )
          *strstr(v16, ".") = 0;
        result = (int)v16;
      }
      else
      {
        result = (int)Buf + 19336;
      }
    }
    else
    {
      result = (int)sub_40CA80(Buf, v7);
    }
    v13 = a2 - result;
    do
    {
      v14 = *(_BYTE *)result;
      *(_BYTE *)(v13 + result) = *(_BYTE *)result;
      ++result;
    }
    while ( v14 );
    *a3 = v8;
  }
  return result;
}
// 402170:  char Str[260]
// 402170:  char var_108[260]

//----- (004022E0) --------------------------------------------------------
int __stdcall sub_4022E0(char *a1)
{
  int result; // eax
  char *v3; // edx
  char v4; // al

  result = *((_DWORD *)Buf + 27964);
  if ( result < 200 )
  {
    v3 = (char *)Buf + 16 * result + 111880;
    do
    {
      v4 = *a1;
      *v3++ = *a1++;
    }
    while ( v4 );
    result = (int)Buf;
    ++*((_DWORD *)Buf + 27964);
  }
  return result;
}

//----- (00402320) --------------------------------------------------------
int __stdcall sub_402320(int a1)
{
  int result; // eax

  result = *((_DWORD *)Buf + 27966);
  if ( result < 200 )
  {
    *((_DWORD *)Buf + result + 28770) = a1;
    result = (int)Buf;
    ++*((_DWORD *)Buf + 27966);
  }
  return result;
}

//----- (00402350) --------------------------------------------------------
int sub_402350()
{
  int v0; // esi
  int result; // eax
  char *v2; // ebx
  _WORD *i; // ecx

  v0 = *((_DWORD *)Buf + 26559);
  result = v0 - 1;
  if ( v0 - 1 < 0 )
    return -1;
  v2 = (char *)Buf + 14 * v0;
  for ( i = (char *)Buf + 14 * result + 106246;
        *(i - 3) != *((_WORD *)v2 + 53120)
     || *i != *((_WORD *)Buf + 7 * v0 + 53123)
     || *(i - 1) > *((_WORD *)v2 + 53122);
        i -= 7 )
  {
    if ( --result < 0 )
      return -1;
  }
  return result;
}

//----- (004023E0) --------------------------------------------------------
int __stdcall sub_4023E0(_BYTE *a1)
{
  _BYTE *v1; // edx
  char v2; // al
  char *i; // ecx
  char v5; // [esp+0h] [ebp-108h] BYREF

  v1 = a1;
  v2 = *a1;
  for ( i = &v5; v2; ++i )
  {
    if ( v2 == 46 )
      break;
    v2 = *++v1;
  }
  *i = 0;
  return 0;
}

//----- (00402430) --------------------------------------------------------
int __stdcall sub_402430(int a1, _WORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _WORD *v5; // edi
  _WORD *v6; // eax
  int v7; // esi
  _DWORD *v8; // eax
  int v9; // esi
  int v10; // ecx
  int v11; // ecx
  int v12; // ecx
  int v13; // ecx

  result = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 )
  {
    v3 = *(_DWORD *)(a1 + 15636);
    if ( v3 < 500 )
    {
      v4 = *(_DWORD *)a2;
      if ( result < 500 )
      {
        v5 = (_WORD *)(a1 + 4 * result + 15640);
        do
        {
          if ( !*v5 )
            break;
          ++v4;
          v5 += 2;
        }
        while ( v4 < 500 );
      }
      if ( v4 + 1 >= v3 || *(_WORD *)(a1 + 4 * v4 + 15644) )
      {
        if ( v3 > v4 )
        {
          v6 = (_WORD *)(a1 + 4 * v3 + 15640);
          v7 = v3 - v4;
          do
          {
            *v6 = *(v6 - 2);
            v6[1] = *(v6 - 1);
            v6 -= 2;
            --v7;
          }
          while ( v7 );
        }
        ++*(_DWORD *)(a1 + 15636);
        v8 = (_DWORD *)(a1 + 2656);
        v9 = 130;
        do
        {
          v10 = *(v8 - 5);
          if ( v10 > *(_DWORD *)a2 )
            *(v8 - 5) = v10 + 1;
          if ( *v8 > *(_DWORD *)a2 )
            ++*v8;
          v11 = v8[5];
          if ( v11 > *(_DWORD *)a2 )
            v8[5] = v11 + 1;
          v12 = v8[10];
          if ( v12 > *(_DWORD *)a2 )
            v8[10] = v12 + 1;
          v13 = v8[15];
          if ( v13 > *(_DWORD *)a2 )
            v8[15] = v13 + 1;
          v8 += 25;
          --v9;
        }
        while ( v9 );
        return *(_DWORD *)a2;
      }
    }
    else
    {
      return 0;
    }
  }
  else
  {
    if ( !*(_DWORD *)(a1 + 15636) )
      *(_DWORD *)(a1 + 15636) = 1;
    result = *(_DWORD *)(a1 + 15636);
    if ( result + 6 < 500 )
    {
      *(_WORD *)(a1 + 4 * result + 15640) = a2[2];
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 15636))++ + 15642) = a2[3];
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 15636) + 15640) = a2[4];
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 15636))++ + 15642) = a2[5];
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 15636) + 15640) = a2[6];
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 15636))++ + 15642) = a2[7];
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 15636) + 15640) = a2[8];
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 15636))++ + 15642) = a2[9];
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 15636) + 15640) = 0;
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 15636))++ + 15642) = 0;
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 15636) + 15640) = 0;
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 15636))++ + 15642) = 0;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

//----- (00402640) --------------------------------------------------------
void *__stdcall sub_402640(int a1)
{
  _DWORD *v1; // eax
  int i; // ecx
  char *v3; // ecx
  __int16 *v4; // ecx
  void *result; // eax

  v1 = Buf;
  for ( i = *((_DWORD *)Buf + 26559); i; i = *((_DWORD *)Buf + 26559) )
  {
    v3 = (char *)v1 + 14 * i;
    if ( *((__int16 *)v3 + 53120) != a1 )
      break;
    v1[27965] = *((unsigned __int16 *)v3 + 53125);
    *((_DWORD *)Buf + 27967) = *((unsigned __int16 *)Buf + 7 * (*((_DWORD *)Buf + 26559))-- + 53126);
    v1 = Buf;
  }
  v4 = (__int16 *)v1 + 7 * v1[26559] + 53120;
  if ( *v4 == a1 )
  {
    *v4 = -1;
    *((_DWORD *)Buf + 27965) = 0;
    *((_DWORD *)Buf + 27967) = 0;
    v1 = Buf;
  }
  v1[27964] = v1[27965];
  *((_DWORD *)Buf + 27966) = *((_DWORD *)Buf + 27967);
  *((_DWORD *)Buf + 27962) = 0;
  *((_DWORD *)Buf + 27963) = 0;
  result = Buf;
  *((_DWORD *)Buf + 27968) = *((_DWORD *)Buf + 27969);
  return result;
}

//----- (00402750) --------------------------------------------------------
void __thiscall sub_402750(int this)
{
  int v2; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  free(*(void **)(this + 1848));
  free(*(void **)(this + 1872));
  v2 = *(_DWORD *)(this + 358232);
  *(_DWORD *)(this + 1848) = 0;
  *(_DWORD *)(this + 1852) = 0;
  *(_DWORD *)(this + 1856) = 0;
  *(_DWORD *)(this + 1872) = 0;
  *(_DWORD *)(this + 1876) = 0;
  *(_DWORD *)(this + 1880) = 0;
  *(_DWORD *)(this + 4) = 0;
  if ( v2 )
    sub_44BF60(*((int **)dword_4C0874 + 63), v2);
  v3 = *(_DWORD *)(this + 358208);
  *(_DWORD *)(this + 358232) = 0;
  sub_445230(v3);
  sub_444240(*(_DWORD **)(this + 358208), 0);
  sub_445230(*(_DWORD *)(this + 358212));
  sub_444240(*(_DWORD **)(this + 358212), 0);
  sub_445230(*(_DWORD *)(this + 358228));
  sub_444240(*(_DWORD **)(this + 358228), 0);
  sub_445230(*(_DWORD *)(this + 358224));
  sub_444240(*(_DWORD **)(this + 358224), 0);
  sub_445230(*(_DWORD *)(this + 358220));
  sub_444240(*(_DWORD **)(this + 358220), 0);
  if ( *(_DWORD *)(this + 358240) )
    sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 358240));
  v4 = *(_DWORD **)(this + 358248);
  *(_DWORD *)(this + 358240) = 0;
  sub_413360(v4);
}

//----- (00402860) --------------------------------------------------------
BOOL __stdcall sub_402860(int a1, int a2, char *a3, char *a4, int a5)
{
  unsigned __int8 *v6; // esi
  int v7; // edx
  char *v8; // eax
  char v9; // cl
  char *v10; // eax
  char v11; // cl
  char *v12; // eax
  char v13; // cl
  char *v14; // esi
  char *v15; // [esp+8h] [ebp-408h]
  char v16[1024]; // [esp+Ch] [ebp-404h] BYREF

  v15 = a3;
  if ( a2 >= 0 )
  {
    v16[0] = 0;
    v6 = (unsigned __int8 *)(a1 + a2);
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          v7 = *v6;
          if ( v7 != 106 )
            break;
          v8 = (char *)(v6 + 1);
          do
          {
            v9 = *v8;
            v8[v16 - (char *)(v6 + 1)] = *v8;
            ++v8;
          }
          while ( v9 );
          sub_4076B0(v16);
          strcpy(a4, v16);
          v6 += strlen((const char *)v6 + 1) + 2;
        }
        if ( v7 != 77 )
          break;
        v10 = (char *)(v6 + 1);
        do
        {
          v11 = *v10;
          v10[a5 - (_DWORD)(v6 + 1)] = *v10;
          ++v10;
        }
        while ( v11 );
        v6 += strlen((const char *)v6 + 2) + 3;
      }
      if ( v7 == 107 )
        break;
      if ( v7 != 22 )
      {
        if ( *v6 >= 0x3Bu )
        {
          if ( *v6 >= 0x48u )
            v6 += *v6 >= 0x6Eu ? 9 : 1 + strlen((const char *)v6 + 1) + 1;
          else
            v6 += strlen((const char *)v6 + 2) + 3;
        }
        else
        {
          v6 += 3;
        }
        if ( v7 )
          continue;
      }
      goto LABEL_25;
    }
    v12 = (char *)(v6 + 1);
    do
    {
      v13 = *v12;
      v12[v16 - (char *)(v6 + 1)] = *v12;
      ++v12;
    }
    while ( v13 );
LABEL_25:
    sub_4076B0(v16);
    v14 = strcpy(v15, v16);
    return *v14 != 64 || v14[1] != 75;
  }
  else
  {
    *a3 = 0;
    return 1;
  }
}

//----- (00402A10) --------------------------------------------------------
int sub_402A10()
{
  _DWORD *v0; // ecx
  int result; // eax
  int v2; // edx

  v0 = Buf;
  for ( result = 0; result < 1100; ++result )
  {
    if ( *((_BYTE *)v0 + result + 119992) != *((_BYTE *)v0 + result + 118892) )
    {
      v2 = v0[28971];
      if ( v2 < 1000 )
      {
        *((_WORD *)v0 + v2 + 57944) = result;
        *((_BYTE *)Buf + *((_DWORD *)Buf + 28971) + 117888) = *((_BYTE *)Buf + result + 118892);
        ++*((_DWORD *)Buf + 28971);
        v0 = Buf;
      }
      *((_BYTE *)v0 + result + 119992) = *((_BYTE *)v0 + result + 118892);
      v0 = Buf;
    }
  }
  return result;
}

//----- (00402A90) --------------------------------------------------------
void *__stdcall sub_402A90(__int16 a1)
{
  int v1; // ebp
  void *result; // eax
  int v3; // ecx
  int v4; // edi
  int v5; // eax

  v1 = a1 & 0x7FFF;
  memset((char *)Buf + 118892, 0, 0x44Cu);
  result = memset((char *)Buf + 119992, 0, 0x44Cu);
  v3 = 0;
  if ( (a1 & 0x7FFF) != 0 )
  {
    v4 = 115888;
    do
    {
      v5 = *(unsigned __int16 *)((char *)Buf + v4);
      *((_BYTE *)Buf + v5 + 118892) = *((_BYTE *)Buf + v3++ + 117888);
      v4 += 2;
      *((_BYTE *)Buf + v5 + 119992) = *((_BYTE *)Buf + v5 + 118892);
    }
    while ( v3 < v1 );
    result = Buf;
    *((_DWORD *)Buf + 28971) = v1;
  }
  else
  {
    *((_DWORD *)Buf + 28971) = v1;
  }
  return result;
}

//----- (00402B40) --------------------------------------------------------
int __stdcall sub_402B40(int a1)
{
  int v1; // esi
  int v3; // edx
  int v4; // eax
  __int16 *v5; // ecx

  v1 = 0;
  if ( a1 == -1 )
    return 2;
  v3 = *((_DWORD *)Buf + 26559);
  v4 = 0;
  if ( v3 < 0 )
    return *((unsigned __int16 *)Buf + 7 * v1 + 53122);
  v5 = (__int16 *)((char *)Buf + 106240);
  do
  {
    if ( *v5 == a1 )
      v1 = v4;
    ++v4;
    v5 += 7;
  }
  while ( v4 <= v3 );
  if ( v1 == -1 )
    return 2;
  else
    return *((unsigned __int16 *)Buf + 7 * v1 + 53122);
}

//----- (00402BB0) --------------------------------------------------------
void __thiscall sub_402BB0(_DWORD *this)
{
  this[44] = 0;
}

//----- (00402BC0) --------------------------------------------------------
int __userpurge sub_402BC0@<eax>(_DWORD *a1@<ecx>, int a2@<ebp>, int a3)
{
  char *v3; // edi
  char *v4; // esi
  void *v5; // ebx
  unsigned int v6; // ecx
  _DWORD *v7; // eax
  void *v8; // eax
  void *v9; // ebp
  unsigned int v10; // ecx
  _DWORD *v11; // eax
  int v12; // edx
  int v13; // esi
  void *v14; // eax
  int v15; // eax
  int v16; // esi
  int v20; // [esp+Ch] [ebp-5BC70h] BYREF
  char v21[356324]; // [esp+10h] [ebp-5BC6Ch] BYREF
  char Src[19328]; // [esp+56FF4h] [ebp-4C88h] BYREF
  char v23[260]; // [esp+5BB74h] [ebp-108h] BYREF

  memset(v23, 0, sizeof(v23));
  sub_402170(a1, (int)v23, &v20, a3);
  if ( !v23[0] )
    return 0;
  sub_44B390(*((int **)dword_4C0874 + 63), 1);
  v3 = (char *)Buf;
  v4 = (char *)Buf + 731976;
  v5 = 0;
  v6 = 356324;
  v7 = (char *)Buf + 731976;
  while ( *(_DWORD *)((char *)v7 + (_BYTE *)Buf + 19328 - ((_BYTE *)Buf + 731976)) == *v7 )
  {
    v6 -= 4;
    ++v7;
    if ( v6 < 4 )
      goto LABEL_7;
  }
  v8 = malloc(0x56FE4u);
  v3 = (char *)Buf;
  v4 = (char *)Buf + 731976;
  v5 = v8;
  memcpy(v8, (char *)Buf + 731976, 0x56FE4u);
LABEL_7:
  v9 = 0;
  v10 = 356324;
  v11 = v4;
  v12 = v3 + 19328 - v4;
  while ( 1 )
  {
    v13 = *(_DWORD *)((char *)v11 + v12);
    if ( v13 != *v11 )
      break;
    v10 -= 4;
    ++v11;
    if ( v10 < 4 )
      goto LABEL_12;
  }
  v14 = malloc(0x56FE4u);
  v3 = (char *)Buf;
  v9 = v14;
  memcpy(v14, (char *)Buf + 375652, 0x56FE4u);
LABEL_12:
  memcpy(Src, v3, sizeof(Src));
  memcpy(v21, v3 + 19328, sizeof(v21));
  sub_4226D0(dword_4C08D8, 1);
  sub_41FD10((int)dword_4C08D8, v23, a3);
  sub_433FE0(dword_4C08D8);
  if ( a1[89561] )
    sub_44BF60(*((int **)dword_4C0874 + 63), a1[89561]);
  v15 = sub_44A990(*((_DWORD **)dword_4C0874 + 63));
  sub_422840(v15, (int)dword_4C08D8, 0);
  v16 = sub_44C730(*((int **)dword_4C0874 + 63), v13, 0, a2);
  sub_4226C0(dword_4C08D8, 0);
  sub_423200((int)dword_4C08D8);
  sub_4226C0(dword_4C08D8, 1);
  memcpy(Buf, Src, 0x4B80u);
  memcpy((char *)Buf + 19328, v21, 0x56FE4u);
  if ( v5 )
  {
    memcpy((char *)Buf + 731976, v5, 0x56FE4u);
    free(v5);
  }
  else
  {
    memcpy((char *)Buf + 731976, v21, 0x56FE4u);
  }
  if ( v9 )
  {
    memcpy((char *)Buf + 375652, v9, 0x56FE4u);
    free(v9);
  }
  else
  {
    memcpy((char *)Buf + 375652, v21, 0x56FE4u);
  }
  sub_4226D0(dword_4C08D8, 0);
  sub_44B390(*((int **)dword_4C0874 + 63), 0);
  return v16;
}
// 402BC0: could not find valid save-restore pair for ebp
// 433FE0:  int __thiscall sub_433FE0(_DWORD)

//----- (00402EE0) --------------------------------------------------------
int __thiscall sub_402EE0(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 21) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (00402F40) --------------------------------------------------------
_DWORD *__cdecl sub_402F40(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 21) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 21) );
  }
  return result;
}

//----- (00402F60) --------------------------------------------------------
_DWORD *__thiscall sub_402F60(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 8245) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (00402FC0) --------------------------------------------------------
int __cdecl sub_402FC0(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 8245); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (00402FE0) --------------------------------------------------------
_DWORD *__cdecl sub_402FE0(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 8245) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 8245) );
  }
  return result;
}

//----- (00403000) --------------------------------------------------------
int __thiscall sub_403000(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 8245) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (00403060) --------------------------------------------------------
void __thiscall sub_403060(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 8245) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 8245) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 8245); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 8245); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (004030E0) --------------------------------------------------------
void *__cdecl sub_4030E0(char *a1)
{
  char *v1; // ecx
  int pExceptionObject[3]; // [esp+0h] [ebp-Ch] BYREF

  v1 = a1;
  if ( a1 )
  {
    if ( !(0xFFFFFFFF / (unsigned int)a1) )
    {
      a1 = 0;
      std::exception::exception((std::exception *)pExceptionObject, (const char *const *)&a1);
      pExceptionObject[0] = (int)&std::bad_alloc::`vftable';
      _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI2_AVbad_alloc_std__);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new((size_t)v1);
}
// 48B474:  void *std::bad_alloc::`vftable'

//----- (00403140) --------------------------------------------------------
std::exception *__thiscall sub_403140(std::exception *this, struct std::exception *a2)
{
  std::exception::exception(this, a2);
  *(_DWORD *)this = &std::bad_alloc::`vftable';
  return this;
}
// 48B474:  void *std::bad_alloc::`vftable'

//----- (00403160) --------------------------------------------------------
void __thiscall sub_403160(int this)
{
  if ( *(_DWORD *)(this + 4) )
    sub_402750(this);
}

//----- (00403170) --------------------------------------------------------
int __stdcall sub_403170(int a1, int a2, int a3, int a4)
{
  int result; // eax
  int v5; // edx
  _WORD *v6; // ebx
  int v7; // esi
  int v8; // eax
  int i; // edx
  int j; // edi
  unsigned __int16 v11; // ax
  int v12; // edx
  int v13; // eax
  int v14; // ecx
  int m; // eax
  int v16; // ecx
  _WORD *n; // edx
  int v18; // eax
  int v19; // ecx
  int k; // eax
  int v21; // ecx
  _WORD *v22; // eax
  int v23; // ecx
  int v24; // edx
  int v25; // edx
  _WORD *v26; // eax
  int v27; // ecx
  int v28; // [esp+Ch] [ebp+8h]

  result = a2;
  if ( a2 >= 0 && a3 )
  {
    v5 = *(_DWORD *)(a1 + 20 * a2 + 2636);
    v6 = (_WORD *)(a1 + 20 * a2 + 2636);
    if ( v5 )
    {
      v8 = 500 - v5;
      v7 = a1 + 4 * v5 + 15640;
      for ( i = 0; i < v8; ++i )
      {
        if ( !*(_WORD *)(v7 + 4 * i) )
          break;
      }
      v28 = i;
    }
    else
    {
      v7 = a1 + 20 * a2 + 2640;
      v28 = 4;
    }
    for ( j = 0; j < v28; ++j )
    {
      v11 = *(_WORD *)(v7 + 4 * j);
      if ( !v11 )
        break;
      v12 = *(unsigned __int16 *)(v7 + 4 * j + 2);
      if ( v12 + 1 == a3 )
      {
        *(_WORD *)(v7 + 4 * j + 2) = a4;
        goto LABEL_26;
      }
      if ( a4 < v11 )
      {
        if ( a4 + 1 == *(unsigned __int16 *)(v7 + 4 * j) )
        {
          *(_WORD *)(v7 + 4 * j) = a3;
        }
        else
        {
          if ( *(_WORD *)(v7 + 4 * v28 - 4) )
          {
            v18 = sub_402430(a1, v6);
            if ( v18 )
            {
              v19 = 500 - v18;
              *(_DWORD *)v6 = v18;
              v7 = a1 + 4 * v18 + 15640;
              for ( k = 0; k < v19; ++k )
              {
                if ( !*(_WORD *)(v7 + 4 * k) )
                  break;
              }
              v28 = k + 1;
            }
          }
          v21 = v28 - 1;
          if ( v28 - 1 > j )
          {
            v22 = (_WORD *)(v7 + 4 * v21 - 2);
            v23 = v21 - j;
            do
            {
              v22[1] = *(v22 - 1);
              v22[2] = *v22;
              v22 -= 2;
              --v23;
            }
            while ( v23 );
          }
          *(_WORD *)(v7 + 4 * j) = a3;
          *(_WORD *)(v7 + 4 * j + 2) = a4;
        }
        goto LABEL_26;
      }
      if ( a3 <= v11 )
      {
        v24 = *(unsigned __int16 *)(v7 + 4 * j + 2);
        *(_WORD *)(v7 + 4 * j) = a3;
        if ( a4 > v24 )
          *(_WORD *)(v7 + 4 * j + 2) = a4;
        goto LABEL_26;
      }
      if ( a3 <= v12 )
      {
        result = a4;
        if ( a4 <= *(unsigned __int16 *)(v7 + 4 * j + 2) )
          return result;
        goto LABEL_25;
      }
    }
    if ( a3 != -1 )
    {
      if ( j < v28 )
        goto LABEL_24;
      v13 = sub_402430(a1, v6);
      if ( v13 )
      {
        v14 = 500 - v13;
        *(_DWORD *)v6 = v13;
        v7 = a1 + 4 * v13 + 15640;
        for ( m = 0; m < v14; ++m )
        {
          if ( !*(_WORD *)(v7 + 4 * m) )
            break;
        }
        v28 = m + 1;
      }
      if ( j < v28 )
      {
LABEL_24:
        LOWORD(result) = a4;
        *(_WORD *)(v7 + 4 * j) = a3;
LABEL_25:
        *(_WORD *)(v7 + 4 * j + 2) = result;
      }
    }
LABEL_26:
    v16 = v28 - 1;
    result = 0;
    if ( v28 - 1 > 0 )
    {
      for ( n = (_WORD *)(v7 + 4); *n; n += 2 )
      {
        if ( (unsigned __int16)*(n - 1) + 1 >= (unsigned __int16)*n )
        {
          *(_WORD *)(v7 + 4 * result + 2) = *(_WORD *)(v7 + 4 * result + 6);
          v25 = result + 1;
          if ( result + 1 < v16 )
          {
            v26 = (_WORD *)(v7 + 4 * v25 + 6);
            v27 = v16 - v25;
            do
            {
              *(v26 - 3) = *(v26 - 1);
              *(v26 - 2) = *v26;
              v26 += 2;
              --v27;
            }
            while ( v27 );
          }
          result = v28;
          *(_WORD *)(v7 + 4 * v28 - 4) = 0;
          *(_WORD *)(v7 + 4 * v28 - 2) = 0;
          return result;
        }
        if ( ++result >= v16 )
          return result;
      }
    }
  }
  return result;
}

//----- (004033F0) --------------------------------------------------------
void *__cdecl sub_4033F0(void *Destination, rsize_t DestinationSize, void *Source, rsize_t SourceSize)
{
  memcpy_s(Destination, DestinationSize, Source, SourceSize);
  return Destination;
}

//----- (00403420) --------------------------------------------------------
int __stdcall sub_403420(__int16 *a1)
{
  int result; // eax
  unsigned __int16 v2; // si

  result = (int)a1;
  if ( *a1 != -1 )
  {
    v2 = a1[2];
    if ( v2 )
      return sub_403170((int)Buf, *a1, v2, (unsigned __int16)a1[3]);
  }
  return result;
}

//----- (00403460) --------------------------------------------------------
void __thiscall sub_403460(_DWORD *this, char a2, rsize_t SourceSize)
{
  void *v4; // ebx

  if ( a2 && this[6] >= 0x10u )
  {
    v4 = (void *)this[1];
    if ( SourceSize )
      memcpy_s(this + 1, 0x10u, v4, SourceSize);
    operator delete(v4);
  }
  this[5] = SourceSize;
  this[6] = 15;
  *((_BYTE *)this + SourceSize + 4) = 0;
}

//----- (004034B0) --------------------------------------------------------
_DWORD *__thiscall sub_4034B0(_DWORD *this, unsigned int a2, unsigned int a3)
{
  unsigned int v5; // edi
  unsigned int v6; // eax
  unsigned int v7; // ecx
  _DWORD *v8; // ebp
  _DWORD *v9; // edx
  unsigned int v10; // eax
  bool v11; // cf
  _DWORD *v13; // [esp+10h] [ebp+4h]

  if ( this[5] < a2 )
    sub_459A6E();
  v5 = a3;
  v6 = this[5] - a2;
  if ( v6 < a3 )
    v5 = this[5] - a2;
  if ( v5 )
  {
    v7 = this[6];
    v8 = this + 1;
    if ( v7 < 0x10 )
      v13 = this + 1;
    else
      v13 = (_DWORD *)*v8;
    if ( v7 < 0x10 )
      v9 = this + 1;
    else
      v9 = (_DWORD *)*v8;
    memmove_s((char *)v9 + a2, v7 - a2, (char *)v13 + a2 + v5, v6 - v5);
    v10 = this[5] - v5;
    v11 = this[6] < 0x10u;
    this[5] = v10;
    if ( !v11 )
      v8 = (_DWORD *)*v8;
    *((_BYTE *)v8 + v10) = 0;
  }
  return this;
}
// 459A6E:  void __noreturn sub_459A6E(void)

//----- (00403540) --------------------------------------------------------
_BYTE *__thiscall sub_403540(_DWORD *this, unsigned int Destination, rsize_t SourceSize)
{
  unsigned int v4; // esi
  unsigned int v5; // ebx
  unsigned int v6; // ecx
  const void *v7; // eax
  _BYTE *result; // eax
  _DWORD v9[10]; // [esp+0h] [ebp-28h] BYREF
  void *Destinationa; // [esp+30h] [ebp+8h]

  v9[6] = v9;
  v9[5] = this;
  v4 = Destination | 0xF;
  if ( (Destination | 0xF) == -1 )
  {
    v4 = Destination;
  }
  else
  {
    v5 = this[6];
    v6 = v5 >> 1;
    if ( v4 / 3 < v5 >> 1 && v5 <= -2 - v6 )
      v4 = v6 + v5;
  }
  v9[9] = 0;
  Destinationa = sub_4030E0((char *)(v4 + 1));
  if ( SourceSize )
  {
    if ( this[6] < 0x10u )
      v7 = this + 1;
    else
      v7 = (const void *)this[1];
    memcpy_s(Destinationa, v4 + 1, v7, SourceSize);
  }
  if ( this[6] >= 0x10u )
    operator delete((void *)this[1]);
  result = this + 1;
  *((_BYTE *)this + 4) = 0;
  this[1] = Destinationa;
  this[6] = v4;
  this[5] = SourceSize;
  if ( v4 >= 0x10 )
    result = Destinationa;
  result[SourceSize] = 0;
  return result;
}

//----- (00403680) --------------------------------------------------------
_DWORD *sub_403680()
{
  _DWORD *result; // eax

  result = operator new(0x2038u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 8244) = 1;
  *((_BYTE *)result + 8245) = 0;
  return result;
}

//----- (004036C0) --------------------------------------------------------
void __stdcall sub_4036C0(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 8245); v1 = i )
  {
    sub_4036C0(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (00403700) --------------------------------------------------------
void *__stdcall sub_403700(int a1, _DWORD *a2)
{
  int v2; // eax
  int v4; // edi
  _WORD *v5; // eax
  unsigned int v6; // ecx
  __int16 *v7; // edx
  _WORD *v8; // eax
  int v9; // edx
  __int16 v10; // cx
  bool v11; // zf
  _WORD *v12; // eax
  void *result; // eax
  _WORD *v14; // [esp+18h] [ebp+4h]

  v2 = sub_40CBC0((int *)Buf, (char *)Buf + 19336);
  *((_DWORD *)Buf + 27962) = a1;
  v4 = v2;
  v5 = Buf;
  v6 = *((_DWORD *)Buf + 26559);
  v7 = (__int16 *)((char *)Buf + 14 * v6 + 106240);
  if ( *v7 == v4 && (v14 = (char *)Buf + 14 * v6 + 106246, (unsigned __int16)*v14 == a1 - 1) )
  {
    *v14 = a1;
    v8 = Buf;
    v9 = 7 * *((_DWORD *)Buf + 26559);
    v10 = *((_WORD *)Buf + 57942);
  }
  else
  {
    if ( v6 < 0x18F && *v7 != -1 )
    {
      sub_403420(v7);
      v11 = sub_402350() == -1;
      v5 = Buf;
      if ( v11 )
      {
        ++*((_DWORD *)Buf + 26559);
        v5 = Buf;
      }
    }
    v5[7 * *((_DWORD *)v5 + 26559) + 53120] = v4;
    *((_WORD *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53125) = *((_WORD *)Buf + 55930);
    *((_WORD *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53126) = *((_WORD *)Buf + 55934);
    *((_WORD *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53122) = a1;
    *((_WORD *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53123) = a1;
    *((_WORD *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53124) = *((_WORD *)Buf + 55936);
    v8 = Buf;
    v9 = 7 * *((_DWORD *)Buf + 26559);
    v10 = *((_WORD *)Buf + 57942);
  }
  v8[v9 + 53121] = v10;
  if ( *((_DWORD *)Buf + 28970) )
  {
    v12 = (char *)Buf + 14 * *((_DWORD *)Buf + 26559) + 106242;
    *v12 |= 0x8000u;
  }
  result = (void *)sub_4381F0(a2, a1);
  if ( (int)result < 0 )
  {
    result = Buf;
    ++*((_DWORD *)Buf + 27968);
  }
  return result;
}

//----- (00403910) --------------------------------------------------------
int __thiscall sub_403910(int this)
{
  int result; // eax

  if ( *(_DWORD *)(this + 24) >= 0x10u )
    operator delete(*(void **)(this + 4));
  result = 0;
  *(_DWORD *)(this + 24) = 15;
  *(_DWORD *)(this + 20) = 0;
  *(_BYTE *)(this + 4) = 0;
  return result;
}

//----- (00403950) --------------------------------------------------------
int __thiscall sub_403950(int this, _DWORD *a2, unsigned int a3, unsigned int a4)
{
  unsigned int v5; // edi
  unsigned int v7; // eax
  bool v8; // zf
  _DWORD *v9; // edx
  rsize_t v10; // ecx
  void **v11; // ebx
  void *v12; // eax
  bool v13; // cf
  int v14; // [esp+0h] [ebp-10h]
  int v15; // [esp+4h] [ebp-Ch]

  if ( a2[5] < a3 )
    sub_459A6E();
  v5 = a2[5] - a3;
  if ( a4 < v5 )
    v5 = a4;
  if ( (_DWORD *)this == a2 )
  {
    sub_4034B0((_DWORD *)this, a3 + v5, 0xFFFFFFFF);
    sub_4034B0((_DWORD *)this, 0, a3);
    return this;
  }
  if ( v5 == -1 )
    sub_459A36(v14, v15);
  v7 = *(_DWORD *)(this + 24);
  if ( v7 >= v5 )
  {
    v8 = v5 == 0;
    if ( !v5 )
    {
      *(_DWORD *)(this + 20) = 0;
      if ( v7 < 0x10 )
        *(_BYTE *)(this + 4) = 0;
      else
        **(_BYTE **)(this + 4) = 0;
      return this;
    }
  }
  else
  {
    sub_403540((_DWORD *)this, v5, *(_DWORD *)(this + 20));
    v8 = v5 == 0;
  }
  if ( !v8 )
  {
    if ( a2[6] < 0x10u )
      v9 = a2 + 1;
    else
      v9 = (_DWORD *)a2[1];
    v10 = *(_DWORD *)(this + 24);
    v11 = (void **)(this + 4);
    if ( v10 < 0x10 )
      v12 = (void *)(this + 4);
    else
      v12 = *v11;
    memcpy_s(v12, v10, (char *)v9 + a3, v5);
    v13 = *(_DWORD *)(this + 24) < 0x10u;
    *(_DWORD *)(this + 20) = v5;
    if ( !v13 )
      v11 = (void **)*v11;
    *((_BYTE *)v11 + v5) = 0;
  }
  return this;
}
// 40399F: variable 'v14' is possibly undefined
// 40399F: variable 'v15' is possibly undefined
// 459A6E:  void __noreturn sub_459A6E(void)

//----- (00403A30) --------------------------------------------------------
_DWORD *__fastcall sub_403A30(_DWORD *a1, int a2, char *Source, rsize_t SourceSize)
{
  unsigned int v5; // edx
  char *v6; // eax
  unsigned int v7; // ecx
  int v8; // ecx
  rsize_t v10; // eax
  bool v11; // zf
  rsize_t v12; // ecx
  void **v13; // ebx
  void *v14; // eax
  bool v15; // cf
  int v16; // [esp+0h] [ebp-Ch]
  int v17; // [esp+4h] [ebp-8h]

  if ( Source )
  {
    v5 = a1[6];
    v6 = (char *)(a1 + 1);
    v7 = v5 < 0x10 ? (unsigned int)(a1 + 1) : *(_DWORD *)v6;
    if ( (unsigned int)Source >= v7 )
    {
      v8 = v5 < 0x10 ? (int)(a1 + 1) : *(_DWORD *)v6;
      if ( v8 + a1[5] > (unsigned int)Source )
      {
        if ( v5 >= 0x10 )
          v6 = *(char **)v6;
        return (_DWORD *)sub_403950(a1, Source - v6, SourceSize);
      }
    }
  }
  if ( SourceSize == -1 )
    sub_459A36(v16, v17);
  v10 = a1[6];
  if ( v10 >= SourceSize )
  {
    v11 = SourceSize == 0;
    if ( !SourceSize )
    {
      a1[5] = 0;
      if ( v10 < 0x10 )
        *((_BYTE *)a1 + 4) = 0;
      else
        *(_BYTE *)a1[1] = 0;
      return a1;
    }
  }
  else
  {
    sub_403540(a1, SourceSize, a1[5]);
    v11 = SourceSize == 0;
  }
  if ( !v11 )
  {
    v12 = a1[6];
    v13 = (void **)(a1 + 1);
    if ( v12 < 0x10 )
      v14 = a1 + 1;
    else
      v14 = *v13;
    memcpy_s(v14, v12, Source, SourceSize);
    v15 = a1[6] < 0x10u;
    a1[5] = SourceSize;
    if ( !v15 )
      v13 = (void **)*v13;
    *((_BYTE *)v13 + SourceSize) = 0;
  }
  return a1;
}
// 403A8C: variable 'v16' is possibly undefined
// 403A8C: variable 'v17' is possibly undefined
// 403950:  _DWORD __stdcall sub_403950(_DWORD, _DWORD, _DWORD)

//----- (00403B10) --------------------------------------------------------
int __thiscall sub_403B10(int this, int a2)
{
  sub_45A4A0((_DWORD *)this);
  *(_DWORD *)this = &std::logic_error::`vftable';
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 15;
  *(_BYTE *)(this + 16) = 0;
  sub_403950(a2, 0, -1);
  return this;
}
// 403950:  _DWORD __stdcall sub_403950(_DWORD, _DWORD, _DWORD)
// 48B5C8:  void *std::logic_error::`vftable'

//----- (00403B80) --------------------------------------------------------
_DWORD *__thiscall sub_403B80(_DWORD *this, int a2)
{
  sub_403B10((int)this, a2);
  *this = &std::out_of_range::`vftable';
  return this;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (00403BA0) --------------------------------------------------------
void __thiscall sub_403BA0(void **this)
{
  *this = &std::logic_error::`vftable';
  if ( (unsigned int)this[9] >= 0x10 )
    operator delete(this[4]);
  this[9] = (void *)15;
  this[8] = 0;
  *((_BYTE *)this + 16) = 0;
  sub_45A57E(this);
}
// 48B5C8:  void *std::logic_error::`vftable'

//----- (00403BE0) --------------------------------------------------------
void **__thiscall sub_403BE0(void **this, char a2)
{
  *this = &std::logic_error::`vftable';
  if ( (unsigned int)this[9] >= 0x10 )
    operator delete(this[4]);
  this[9] = (void *)15;
  this[8] = 0;
  *((_BYTE *)this + 16) = 0;
  sub_45A57E(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 48B5C8:  void *std::logic_error::`vftable'

//----- (00403C30) --------------------------------------------------------
int __thiscall sub_403C30(int this, char *Source)
{
  *(_DWORD *)(this + 24) = 15;
  *(_DWORD *)(this + 20) = 0;
  *(_BYTE *)(this + 4) = 0;
  sub_403A30((_DWORD *)this, (int)Source, Source, strlen(Source));
  return this;
}

//----- (00403C70) --------------------------------------------------------
int __thiscall sub_403C70(int this, struct std::exception *a2)
{
  std::exception::exception((std::exception *)this, a2);
  *(_DWORD *)this = &std::logic_error::`vftable';
  *(_DWORD *)(this + 36) = 15;
  *(_DWORD *)(this + 32) = 0;
  *(_BYTE *)(this + 16) = 0;
  sub_403950(this + 12, (_DWORD *)a2 + 3, 0, 0xFFFFFFFF);
  return this;
}
// 48B5C8:  void *std::logic_error::`vftable'

//----- (00403CF0) --------------------------------------------------------
_DWORD *__fastcall sub_403CF0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 8245) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_403060(&a4);
  if ( *(_BYTE *)(*v6 + 8245) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 8245) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 8245) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_402FE0((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 8245) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_402FC0(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 8245) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 8245) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 2061);
  v18 = (char *)(v8 + 2061);
  if ( v18 != (char *)(v6 + 2061) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[8244] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 8244) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[8244] )
        {
          v20[8244] = 1;
          *(_BYTE *)(v10 + 8244) = 0;
          sub_402F60(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[8245] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 8244) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 8244) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 8244) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 8244) = 1;
            v20[8244] = 0;
            sub_403000(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[8244] = *(_BYTE *)(v10 + 8244);
          *(_BYTE *)(v10 + 8244) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 8244) = 1;
          sub_402F60(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[8244] )
        {
          v20[8244] = 1;
          *(_BYTE *)(v10 + 8244) = 0;
          sub_403000(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[8245] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 8244) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 8244) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 8244) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 8244) = 1;
            v20[8244] = 0;
            sub_402F60(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[8244] = *(_BYTE *)(v10 + 8244);
          *(_BYTE *)(v10 + 8244) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 8244) = 1;
          sub_403000(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[8244] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 8244) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (00404040) --------------------------------------------------------
_DWORD *__thiscall sub_404040(_DWORD *this, struct std::exception *a2)
{
  sub_403C70((int)this, a2);
  *this = &std::out_of_range::`vftable';
  return this;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (00404060) --------------------------------------------------------
_DWORD *__thiscall sub_404060(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_403680();
  this[6] = v5;
  *((_BYTE *)v5 + 8245) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (004040F0) --------------------------------------------------------
int *__thiscall sub_4040F0(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_4036C0(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_403060(&a3);
      sub_403CF0(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 4041AF: variable 'v14' is possibly undefined

//----- (004041D0) --------------------------------------------------------
void __thiscall sub_4041D0(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_4040F0((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (00404260) --------------------------------------------------------
int __thiscall sub_404260(int this)
{
  _DWORD *v2; // eax
  char v4; // [esp+Fh] [ebp-15h] BYREF
  int v5; // [esp+10h] [ebp-14h]
  _DWORD *v6; // [esp+14h] [ebp-10h]
  int v7; // [esp+20h] [ebp-4h]

  v5 = this;
  sub_40B200((_DWORD *)(this + 48), (int)&v4, (int)&v4);
  v7 = 0;
  sub_40B200((_DWORD *)(this + 80), (int)&v4, (int)&v4);
  LOBYTE(v7) = 1;
  sub_40B200((_DWORD *)(this + 112), (int)&v4, (int)&v4);
  LOBYTE(v7) = 2;
  sub_40B200((_DWORD *)(this + 144), (int)&v4, (int)&v4);
  LOBYTE(v7) = 3;
  sub_40B200((_DWORD *)(this + 176), (int)&v4, (int)&v4);
  *(_DWORD *)(this + 212) = 0;
  LOBYTE(v7) = 4;
  if ( dword_4C0874 )
    *(_DWORD *)(this + 212) = sub_438B50(dword_4C0874);
  sub_4129F0((float *)this);
  *(float *)(this + 940) = 0.0;
  *(float *)(this + 936) = 0.0;
  *(_DWORD *)(this + 44) = 0;
  *(float *)(this + 948) = 0.0;
  *(_DWORD *)(this + 924) = 0;
  *(float *)(this + 944) = 0.0;
  *(_DWORD *)(this + 976) = 0;
  v2 = operator new(0x784u);
  v6 = v2;
  LOBYTE(v7) = 5;
  if ( v2 )
    *(_DWORD *)(this + 984) = sub_448B00(v2);
  else
    *(_DWORD *)(this + 984) = 0;
  return this;
}

//----- (004043B0) --------------------------------------------------------
void __thiscall sub_4043B0(_DWORD *this)
{
  void *v2; // edi

  sub_413360(this);
  v2 = (void *)this[246];
  if ( v2 )
  {
    sub_4470C0((_DWORD *)this[246]);
    operator delete(v2);
    this[246] = 0;
  }
  this[246] = 0;
  sub_40B4D0((int)(this + 44));
  sub_40B4D0((int)(this + 36));
  sub_40B4D0((int)(this + 28));
  sub_40B4D0((int)(this + 20));
  sub_40B4D0((int)(this + 12));
}

//----- (00404470) --------------------------------------------------------
_DWORD *__thiscall sub_404470(_DWORD *this)
{
  char v3; // [esp+Bh] [ebp-11h] BYREF
  _DWORD *v4; // [esp+Ch] [ebp-10h]
  int v5; // [esp+18h] [ebp-4h]

  v4 = this;
  sub_404060(this + 600, (int)&v3, (int)&v3);
  v5 = 0;
  sub_4386F0((char *)this);
  return this;
}

//----- (004044E0) --------------------------------------------------------
void __thiscall sub_4044E0(_DWORD *this)
{
  sub_438780(this);
  sub_4041D0((int)(this + 600));
}

//----- (00404540) --------------------------------------------------------
int __thiscall sub_404540(_DWORD *this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // eax
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  _DWORD *v13; // eax
  void *v14; // eax
  int v15; // eax
  void *v16; // eax
  int result; // eax

  this[448] = -1;
  this[449] = 0;
  this[450] = 0;
  this[451] = 0;
  this[452] = 0;
  this[453] = 0;
  this[454] = -1;
  this[455] = 0;
  this[456] = 0;
  this[457] = 0;
  this[1] = 0;
  *this = -1;
  this[44] = 0;
  this[2] = 0;
  this[445] = 0;
  this[446] = 0;
  this[447] = 0;
  memset(this + 45, 0, 0x640u);
  this[459] = 0;
  this[460] = 0;
  this[461] = 0;
  this[462] = 0;
  this[463] = 0;
  this[464] = 0;
  this[465] = 0;
  this[466] = 0;
  this[467] = 0;
  this[468] = 0;
  this[469] = 0;
  this[470] = 0;
  memset(this + 471, 0, 0x56FE4u);
  this[89558] = 0;
  this[89560] = 0;
  this[89561] = 0;
  v2 = operator new(0x784u);
  if ( v2 )
    v3 = sub_448B00(v2);
  else
    v3 = 0;
  this[89552] = v3;
  sub_444240(v3, 0);
  v4 = operator new(0x784u);
  if ( v4 )
    v5 = sub_448B00(v4);
  else
    v5 = 0;
  this[89553] = v5;
  sub_444240(v5, 0);
  v6 = operator new(0x784u);
  if ( v6 )
    v7 = sub_448B00(v6);
  else
    v7 = 0;
  this[89556] = v7;
  sub_444240(v7, 0);
  v8 = operator new(0x784u);
  if ( v8 )
    v9 = sub_448B00(v8);
  else
    v9 = 0;
  this[89557] = v9;
  sub_444240(v9, 0);
  v10 = operator new(0x784u);
  if ( v10 )
    v11 = sub_448B00(v10);
  else
    v11 = 0;
  this[89554] = v11;
  sub_444240(v11, 0);
  v12 = operator new(0x784u);
  if ( v12 )
    v13 = sub_448B00(v12);
  else
    v13 = 0;
  this[89555] = v13;
  sub_444240(v13, 0);
  v14 = operator new(0x444u);
  if ( v14 )
    v15 = sub_404260((int)v14);
  else
    v15 = 0;
  this[89562] = v15;
  v16 = operator new(0x444u);
  if ( v16 )
    result = sub_404260((int)v16);
  else
    result = 0;
  this[89563] = result;
  this[89569] = 0;
  this[89570] = 0;
  this[89571] = 0;
  this[89572] = 0;
  this[89564] = -1;
  this[89573] = -1;
  this[43] = 0;
  return result;
}

//----- (00404840) --------------------------------------------------------
void __thiscall sub_404840(int *this)
{
  int *v2; // edi
  int v3; // ebx
  void *v4; // edi
  void *v5; // edi
  void *v6; // edi
  void *v7; // edi
  void *v8; // edi
  void *v9; // edi
  void *v10; // edi
  void *v11; // edi

  sub_403160((int)this);
  if ( this[89558] )
    sub_44BF60(*((int **)dword_4C0874 + 63), this[89558]);
  if ( this[89560] )
    sub_44BF60(*((int **)dword_4C0874 + 63), this[89560]);
  v2 = this + 89569;
  v3 = 4;
  do
  {
    if ( *v2 )
      sub_44BF60(*((int **)dword_4C0874 + 63), *v2);
    ++v2;
    --v3;
  }
  while ( v3 );
  if ( this[89561] )
    sub_44BF60(*((int **)dword_4C0874 + 63), this[89561]);
  v4 = (void *)this[89563];
  if ( v4 )
  {
    sub_4043B0((_DWORD *)this[89563]);
    operator delete(v4);
    this[89563] = 0;
  }
  v5 = (void *)this[89562];
  if ( v5 )
  {
    sub_4043B0((_DWORD *)this[89562]);
    operator delete(v5);
    this[89562] = 0;
  }
  v6 = (void *)this[89555];
  if ( v6 )
  {
    sub_4470C0((_DWORD *)this[89555]);
    operator delete(v6);
    this[89555] = 0;
  }
  v7 = (void *)this[89554];
  if ( v7 )
  {
    sub_4470C0((_DWORD *)this[89554]);
    operator delete(v7);
    this[89554] = 0;
  }
  v8 = (void *)this[89556];
  if ( v8 )
  {
    sub_4470C0((_DWORD *)this[89556]);
    operator delete(v8);
    this[89556] = 0;
  }
  v9 = (void *)this[89557];
  if ( v9 )
  {
    sub_4470C0((_DWORD *)this[89557]);
    operator delete(v9);
    this[89557] = 0;
  }
  v10 = (void *)this[89553];
  if ( v10 )
  {
    sub_4470C0((_DWORD *)this[89553]);
    operator delete(v10);
    this[89553] = 0;
  }
  v11 = (void *)this[89552];
  if ( v11 )
  {
    sub_4470C0((_DWORD *)this[89552]);
    operator delete(v11);
    this[89552] = 0;
  }
}

//----- (004049D0) --------------------------------------------------------
int __thiscall sub_4049D0(_DWORD *this, int a2, char *a3, char *a4, _BYTE *a5, char *a6)
{
  int v7; // eax
  bool v8; // cc
  _DWORD *v9; // ecx
  _DWORD *v10; // ecx
  int v11; // ebp
  int v12; // ebx
  int v13; // eax
  int v14; // ebp
  int v15; // edi
  const CHAR *v16; // eax
  char *v17; // edx
  CHAR v18; // cl
  const CHAR *v19; // eax
  char *v20; // edx
  CHAR v21; // cl
  int v22; // eax
  char v23; // cl
  const char *v24; // edi
  _DWORD *v25; // eax
  _DWORD *v26; // ebx
  int v27; // eax
  int *v29; // edx
  int v30; // ebx
  int v31; // ecx
  int v32; // eax
  char v33; // cl
  const char *v34; // ebx
  _DWORD *v35; // eax
  _DWORD *v36; // edi
  int v37; // eax
  int *v38; // edx
  int v39; // ecx
  int v40; // eax
  int v41; // ecx
  int v42; // [esp-8h] [ebp-148h]
  int v43; // [esp-8h] [ebp-148h]
  _DWORD *v44; // [esp+14h] [ebp-12Ch]
  int v45; // [esp+24h] [ebp-11Ch]
  char Str[260]; // [esp+2Ch] [ebp-114h] BYREF
  int v47; // [esp+13Ch] [ebp-4h]

  *a3 = 0;
  *a4 = 0;
  *a5 = 0;
  v7 = this[447];
  v8 = this[v7 + 45] <= a2;
  v9 = &this[v7 + 45];
  if ( !v8 )
  {
    do
    {
      --v7;
      --v9;
      if ( v7 < 0 )
        return -1;
    }
    while ( *v9 > a2 );
  }
  if ( v7 < this[22198] )
  {
    v10 = &this[v7 + 46];
    do
    {
      if ( *v10 > a2 )
        break;
      ++v7;
      ++v10;
    }
    while ( v7 < this[22198] );
  }
  v11 = *((unsigned __int16 *)this + 7 * v7 + 44400) - this[v7 + 45];
  v12 = *((__int16 *)this + 7 * v7 + 44398);
  v13 = this[459];
  v14 = a2 + v11;
  v45 = v12;
  if ( v13 != v12 )
  {
    if ( this[465] == v12 )
    {
      if ( v14 < this[467] )
      {
        v15 = *(_DWORD *)(this[470] + 4 * v14);
        sub_402860(this[469], v15 & 0x7FFFFFFF, a3, a4, (int)a5);
        if ( a6 && v12 >= 0 )
        {
          v19 = sub_40CA80(Buf, this[465]);
          v20 = a6;
          do
          {
            v21 = *v19;
            *v20++ = *v19++;
          }
          while ( v21 );
        }
        return v15;
      }
      return -1;
    }
    if ( this[448] == v13 )
    {
      if ( v12 == -1 )
      {
        v22 = 0;
        do
        {
          v23 = byte_4C00D0[v22];
          Str[v22++] = v23;
        }
        while ( v23 );
        if ( strstr(Str, word_48B5C0) )
          v24 = (const char *)(_mbsrchr((const unsigned __int8 *)Str, 0x5Cu) + 1);
        else
          v24 = Str;
      }
      else
      {
        v24 = sub_40CA80(Buf, v12);
      }
      v25 = operator new(0x36E04u);
      v47 = 0;
      if ( v25 )
      {
        v26 = sub_404470(v25);
        v44 = v26;
      }
      else
      {
        v44 = 0;
        v26 = 0;
      }
      v42 = this[468];
      v47 = -1;
      v27 = sub_438300((int)v26, (int)v24, v42, 0);
      if ( v27 <= 0 )
      {
        if ( v26 )
        {
          sub_4044E0(v26);
          operator delete(v26);
        }
        return -1;
      }
      if ( a6 )
        strcpy(a6, v24);
      v29 = (int *)this[468];
      v30 = *v29;
      this[467] = *v29;
      this[466] = v27 - 6 * v30 - 4;
      v31 = (int)v29 + 6 * v30 + 4;
      this[470] = v29 + 1;
      this[469] = v31;
      v15 = v29[v14 + 1];
      if ( 6 * (18874 - v30) >= v15 )
        sub_402860(v31, v15 & 0x7FFFFFFF, a3, a4, (int)a5);
      this[465] = v45;
    }
    else
    {
      if ( v12 == -1 )
      {
        v32 = 0;
        do
        {
          v33 = byte_4C00D0[v32];
          Str[v32++] = v33;
        }
        while ( v33 );
        if ( strstr(Str, word_48B5C0) )
        {
          _mbsrchr((const unsigned __int8 *)Str, 0x5Cu);
          if ( strstr(Str, ".") )
            *strstr(Str, ".") = 0;
        }
        v34 = Str;
      }
      else
      {
        v34 = sub_40CA80(Buf, v12);
      }
      v35 = operator new(0x36E04u);
      v47 = 1;
      if ( v35 )
      {
        v36 = sub_404470(v35);
        v44 = v36;
      }
      else
      {
        v44 = 0;
        v36 = 0;
      }
      v43 = this[462];
      v47 = -1;
      v37 = sub_438300((int)v36, (int)v34, v43, 0);
      if ( v37 <= 0 )
      {
        if ( v36 )
        {
          sub_4044E0(v36);
          operator delete(v36);
          return -1;
        }
        return -1;
      }
      if ( a6 )
        strcpy(a6, v34);
      v38 = (int *)this[462];
      v39 = *v38;
      this[461] = *v38;
      v39 *= 6;
      this[460] = v37 - v39 - 4;
      v40 = 18874 - this[467];
      v41 = (int)v38 + v39 + 4;
      this[464] = v38 + 1;
      this[463] = v41;
      v15 = v38[v14 + 1];
      if ( 6 * v40 >= v15 )
        sub_402860(v41, v15 & 0x7FFFFFFF, a3, a4, (int)a5);
      this[459] = v45;
    }
    if ( v44 )
    {
      sub_4044E0(v44);
      operator delete(v44);
    }
    this[448] = v45;
    return v15;
  }
  if ( v14 >= this[461] )
    return -1;
  v15 = *(_DWORD *)(this[464] + 4 * v14);
  sub_402860(this[463], v15 & 0x7FFFFFFF, a3, a4, (int)a5);
  if ( a6 && v12 >= 0 )
  {
    v16 = sub_40CA80(Buf, this[459]);
    v17 = a6;
    do
    {
      v18 = *v16;
      *v17++ = *v16++;
    }
    while ( v18 );
  }
  return v15;
}
// 4049D0:  char Str[260]

//----- (00404EE0) --------------------------------------------------------
int __thiscall sub_404EE0(int this)
{
  int v1; // esi
  int v3; // eax
  int v4; // edi
  int v5; // ebx
  int v6; // eax
  int i; // esi
  int v8; // ecx
  char *v9; // edx
  char *v10; // eax
  char v11; // cl
  char *v12; // edx
  char *v13; // eax
  char v14; // cl
  char *v15; // edx
  char *v16; // eax
  char v17; // cl
  char *v18; // edx
  char *v19; // eax
  char v20; // cl
  int v21; // eax
  char *v22; // edx
  char *v23; // eax
  char v24; // cl
  char *v25; // edx
  char *v26; // eax
  char v27; // cl
  char *v28; // edx
  char *v29; // eax
  char v30; // cl
  char *v31; // edx
  char *v32; // eax
  char v33; // cl
  int v34; // ebx
  int v35; // eax
  int v36; // eax
  int *v37; // ecx
  char *v38; // eax
  char v39; // cl
  char *v40; // eax
  char v41; // cl
  char *v42; // eax
  char v43; // cl
  int v44; // eax
  int v45; // eax
  __int16 v46; // cx
  unsigned __int16 *v47; // eax
  unsigned int v49; // eax
  _WORD *v50; // edi
  __int16 v51; // cx
  int v52; // esi
  int v53; // eax
  wchar_t v54; // cx
  unsigned __int16 *v55; // eax
  unsigned int v57; // eax
  _WORD *v58; // edi
  __int16 v59; // cx
  unsigned int v60; // eax
  char *v61; // edi
  int v63; // esi
  unsigned int v64; // eax
  char *v65; // edi
  int v67; // eax
  char v68; // cl
  int *v69; // ecx
  int v70; // edi
  int v71; // edi
  char *v72; // ebx
  int v73; // esi
  int v74; // eax
  int result; // eax
  int v76; // [esp-4h] [ebp-2730h]
  int v77; // [esp+Ch] [ebp-2720h]
  int v78; // [esp+10h] [ebp-271Ch]
  int v79; // [esp+14h] [ebp-2718h]
  int v80; // [esp+18h] [ebp-2714h]
  char *v81; // [esp+1Ch] [ebp-2710h]
  int v82; // [esp+20h] [ebp-270Ch]
  _DWORD *v83; // [esp+24h] [ebp-2708h]
  char *v84; // [esp+28h] [ebp-2704h]
  char v85[64]; // [esp+30h] [ebp-26FCh] BYREF
  char Buffer[2]; // [esp+70h] [ebp-26BCh] BYREF
  char v87[260]; // [esp+B0h] [ebp-267Ch] BYREF
  char v88[260]; // [esp+1B4h] [ebp-2578h] BYREF
  char v89[1056]; // [esp+2B8h] [ebp-2474h] BYREF
  char Str[1022]; // [esp+6D8h] [ebp-2054h] BYREF
  _BYTE v91[2]; // [esp+AD6h] [ebp-1C56h] BYREF
  wchar_t v92[1056]; // [esp+AD8h] [ebp-1C54h] BYREF
  char v93[1040]; // [esp+1318h] [ebp-1414h] BYREF
  unsigned __int16 v94[2048]; // [esp+1728h] [ebp-1004h] BYREF

  v1 = 0;
  memset(v87, 0, sizeof(v87));
  v79 = 0;
  sub_413360(*(_DWORD **)(this + 358248));
  sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, -1);
  sub_412EA0(*(_DWORD **)(this + 358248));
  *(_DWORD *)(this + 358260) = -1;
  *(_DWORD *)(this + 358264) = -1;
  *(_DWORD *)(this + 358268) = -1;
  *(_DWORD *)(this + 358272) = -1;
  memset(v88, 0, sizeof(v88));
  memset(v93, 0, sizeof(v93));
  memset(&unk_4BDA00, 0, 0x1510u);
  memset(v94, 0, sizeof(v94));
  v3 = *(_DWORD *)(this + 1780);
  v4 = 4;
  if ( v3 < 4 )
    v4 = *(_DWORD *)(this + 1780);
  *(_DWORD *)(this + 1832) = 0;
  v77 = 0;
  if ( v3 <= 4 )
  {
    if ( v4 > 0 )
    {
      do
      {
        v21 = *(_DWORD *)(this + 1784) - v1 + 1;
        if ( v21 < 0 )
          break;
        Str[0] = 0;
        sub_4049D0((_DWORD *)this, v21, Str, v85, v88, v87);
        if ( !Str[0] || strstr(Str, &byte_48B630) )
        {
          ++v4;
        }
        else
        {
          v22 = Str;
          v23 = (char *)&unk_4BDA00 + 1348 * *(_DWORD *)(this + 1832);
          do
          {
            v24 = *v22;
            *v23++ = *v22++;
          }
          while ( v24 );
          v25 = v85;
          v26 = (char *)&unk_4BDE00 + 1348 * *(_DWORD *)(this + 1832);
          do
          {
            v27 = *v25;
            *v26++ = *v25++;
          }
          while ( v27 );
          v28 = v87;
          v29 = (char *)&unk_4BDE40 + 1348 * *(_DWORD *)(this + 1832);
          do
          {
            v30 = *v28;
            *v29++ = *v28++;
          }
          while ( v30 );
          v31 = v88;
          v32 = (char *)&unk_4BDE20 + 1348 * *(_DWORD *)(this + 1832);
          do
          {
            v33 = *v31;
            *v32++ = *v31++;
          }
          while ( v33 );
          ++*(_DWORD *)(this + 1832);
        }
        ++v1;
      }
      while ( v1 < v4 );
    }
  }
  else
  {
    if ( v4 > 0 )
    {
      v5 = v4;
      do
      {
        v6 = *(_DWORD *)(this + 1784) - v1 + 1;
        if ( v6 < 0 )
          break;
        Str[0] = 0;
        sub_4049D0((_DWORD *)this, v6, Str, v85, v88, v87);
        if ( !Str[0] || strstr(Str, &byte_48B630) )
        {
          ++v77;
          ++v5;
        }
        ++v1;
      }
      while ( v1 < v5 );
    }
    for ( i = 0; i < v4; ++i )
    {
      v8 = *(_DWORD *)(this + 1784) - i;
      if ( v8 + v77 + 1 < 0 )
        break;
      Str[0] = 0;
      sub_4049D0((_DWORD *)this, v8 + v77 + 1, Str, v85, v88, v87);
      if ( Str[0] && !strstr(Str, &byte_48B630) )
      {
        v9 = Str;
        v10 = (char *)&unk_4BDA00 + 1348 * *(_DWORD *)(this + 1832);
        do
        {
          v11 = *v9;
          *v10++ = *v9++;
        }
        while ( v11 );
        v12 = v85;
        v13 = (char *)&unk_4BDE00 + 1348 * *(_DWORD *)(this + 1832);
        do
        {
          v14 = *v12;
          *v13++ = *v12++;
        }
        while ( v14 );
        v15 = v87;
        v16 = (char *)&unk_4BDE40 + 1348 * *(_DWORD *)(this + 1832);
        do
        {
          v17 = *v15;
          *v16++ = *v15++;
        }
        while ( v17 );
        v18 = v88;
        v19 = (char *)&unk_4BDE20 + 1348 * *(_DWORD *)(this + 1832);
        do
        {
          v20 = *v18;
          *v19++ = *v18++;
        }
        while ( v20 );
        ++*(_DWORD *)(this + 1832);
      }
    }
  }
  v34 = 0;
  v35 = *(_DWORD *)(this + 1832) - 1;
  v77 = v35;
  if ( v35 >= 0 )
  {
    v36 = 1348 * v35;
    v81 = v93;
    v84 = (char *)&unk_4BDE00 + v36;
    v83 = (_DWORD *)(this + 358260);
    v78 = 82;
    v82 = -1024 - v36 - (_DWORD)&unk_4BDA00;
    v79 = *(_DWORD *)(this + 1832);
    do
    {
      *v83 = 0;
      v37 = *(int **)(this + 358248);
      strcpy(Buffer, "-");
      sub_417BA0(v37, 0, 0, 0, 0, Buffer);
      sub_412D40(*(_DWORD **)(this + 358248), dword_4B319C, dword_4B31A0);
      sub_4012D0(v84);
      sub_4012D0(v84 - 1024);
      v38 = v84 - 1024;
      do
      {
        v39 = *v38;
        v38[(_DWORD)v92 + v82] = *v38;
        ++v38;
      }
      while ( v39 );
      v40 = v84;
      do
      {
        v41 = *v40;
        v85[v82 + (_DWORD)v40] = *v40;
        ++v40;
      }
      while ( v41 );
      strlen(v84 + 64);
      v42 = v84 + 32;
      do
      {
        v43 = *v42;
        v42[v81 - (v84 + 32)] = *v42;
        ++v42;
      }
      while ( v43 );
      v44 = sub_401240(v85, (int)v87);
      v80 = v44;
      if ( v44 < 0 )
      {
        if ( v44 < -1 )
          v80 = -v44;
        if ( v94[0] )
        {
          v45 = 0;
          do
          {
            v46 = word_48B628[v45];
            v92[v45++] = v46;
          }
          while ( v46 );
          v47 = v94;
          while ( *v47++ )
            ;
          v49 = (char *)v47 - (char *)v94;
          v50 = v91;
          do
          {
            v51 = v50[1];
            ++v50;
          }
          while ( v51 );
          qmemcpy(v50, v94, v49);
          v52 = 48 - (int)(16 * wcslen(v94)) / 2;
          if ( wcslen(v94) >= 0xA )
          {
            v53 = 0;
            do
            {
              v54 = *(_WORD *)((char *)&dword_48B620 + v53 * 2);
              v92[v53++] = v54;
            }
            while ( v54 );
            v55 = v94;
            while ( *v55++ )
              ;
            v57 = (char *)v55 - (char *)v94;
            v58 = v91;
            do
            {
              v59 = v58[1];
              ++v58;
            }
            while ( v59 );
            qmemcpy(v58, v94, v57);
            v52 = 75 - (int)(12 * wcslen(v92)) / 2;
          }
          sub_4187A0(*(int **)(this + 358248), v52, v78, 135, v92, v89, 99, v34, 1);
          sub_4187A0(*(int **)(this + 358248), v52, v78, 140, v92, v89, 1, v34, 1);
          sub_4187A0(*(int **)(this + 358248), v52, v78, 140, v92, v89, 2, v34, 1);
        }
        else
        {
          strcpy(v89, "@y");
          v60 = strlen(v85) + 1;
          v61 = &v88[259];
          while ( *++v61 )
            ;
          qmemcpy(v61, v85, v60);
          v63 = 48 - (int)(8 * strlen(v85)) / 2;
          if ( strlen(v85) >= 0x14 )
          {
            strcpy(v89, "@r");
            v64 = strlen(v85) + 1;
            v65 = &v88[259];
            while ( *++v65 )
              ;
            qmemcpy(v65, v85, v64);
            v63 = 75 - (int)(6 * strlen(v85)) / 2;
          }
          sub_4185F0(*(int **)(this + 358248), v63, v78, 135, v89, 99, v34, 1);
          sub_4185F0(*(int **)(this + 358248), v63, v78, 140, v89, 1, v34, 1);
          sub_4185F0(*(int **)(this + 358248), v63, v78, 140, v89, 2, v34, 1);
        }
      }
      v67 = 0;
      do
      {
        v68 = Str[v67];
        v89[v67++] = v68;
      }
      while ( v68 );
      v69 = *(int **)(this + 358248);
      v70 = v78 + 22;
      if ( v94[1024] )
      {
        sub_4187A0(v69, 480, v78 + 22, 135, &v94[1024], v89, 99, v34, 1);
        sub_4187A0(*(int **)(this + 358248), 480, v70, 140, &v94[1024], v89, 1, v34, 1);
        sub_4187A0(*(int **)(this + 358248), 480, v70, 140, &v94[1024], v89, 2, v34, 1);
      }
      else
      {
        sub_4185F0(v69, 480, v78 + 22, 135, v89, 99, v34, 1);
        sub_4185F0(*(int **)(this + 358248), 480, v70, 140, v89, 1, v34, 1);
        sub_4185F0(*(int **)(this + 358248), 480, v70, 140, v89, 2, v34, 1);
      }
      sub_417D20(*(int **)(this + 358248), 20, v78 + 14, *(_DWORD *)(this + 358240), 0, 220, 1203, 343, 0);
      sub_417D20(*(int **)(this + 358248), 20, v78 + 14, *(_DWORD *)(this + 358240), 0, 220, 1203, 343, 0);
      if ( v80 != -1 )
        sub_417D20(
          *(int **)(this + 358248),
          20,
          v78 + 18,
          *(_DWORD *)(this + 358240),
          151 * (v80 % 8),
          121 * (v80 / 8) + 370,
          151 * (v80 % 8) + 150,
          121 * (v80 / 8) + 490,
          0);
      ++v83;
      v81 += 260;
      v82 += 1348;
      v84 -= 1348;
      ++v34;
      v78 += 150;
      --v77;
    }
    while ( v77 >= 0 );
  }
  sub_417BA0(*(int **)(this + 358248), 327, 44, 356, 74, "samune");
  sub_412D40(*(_DWORD **)(this + 358248), dword_4B319C, dword_4B31A0);
  sub_412B10(*(_DWORD **)(this + 358248), 1);
  sub_419860(*(_DWORD **)(this + 358248), 327, 44, *(_DWORD *)(this + 358240), 0, 6, 29, 37, 99, 0);
  sub_419860(*(_DWORD **)(this + 358248), 327, 44, *(_DWORD *)(this + 358240), 31, 6, 61, 37, 1, 0);
  sub_419860(*(_DWORD **)(this + 358248), 327, 44, *(_DWORD *)(this + 358240), 31, 6, 61, 37, 2, 0);
  sub_419860(*(_DWORD **)(this + 358248), 356, 38, *(_DWORD *)(this + 358240), 76, 0, 310, 38, 99, 0);
  sub_419860(*(_DWORD **)(this + 358248), 356, 38, *(_DWORD *)(this + 358240), 76, 0, 310, 38, 1, 0);
  sub_419860(*(_DWORD **)(this + 358248), 356, 38, *(_DWORD *)(this + 358240), 76, 0, 310, 38, 2, 0);
  if ( *((_DWORD *)Buf + 40) )
  {
    sub_419860(*(_DWORD **)(this + 358248), 327, 44, *(_DWORD *)(this + 358240), 310, 0, 341, 32, 99, 0);
    sub_419860(*(_DWORD **)(this + 358248), 327, 44, *(_DWORD *)(this + 358240), 310, 0, 341, 32, 1, 0);
    sub_419860(*(_DWORD **)(this + 358248), 327, 44, *(_DWORD *)(this + 358240), 310, 0, 341, 32, 2, 0);
  }
  v71 = 0;
  v77 = 0;
  if ( *(int *)(this + 1832) > 0 )
  {
    v72 = v93;
    v73 = 110;
    do
    {
      sprintf(Buffer, "label%02d", v71);
      sub_417BA0(*(int **)(this + 358248), 328, v73, 488, v73 + 34, Buffer);
      sub_412D40(*(_DWORD **)(this + 358248), dword_4B319C, dword_4B31A0);
      sub_419860(*(_DWORD **)(this + 358248), 328, v73, *(_DWORD *)(this + 358240), 362, 52, 488, 87, 99, 0);
      sub_419860(*(_DWORD **)(this + 358248), 328, v73, *(_DWORD *)(this + 358240), 492, 52, 618, 87, 1, 0);
      sub_419860(*(_DWORD **)(this + 358248), 328, v73, *(_DWORD *)(this + 358240), 492, 52, 618, 87, 2, 0);
      if ( *v72 )
      {
        sub_417BA0(*(int **)(this + 358248), 328, v73 + 40, 488, v73 + 73, "voice");
        ++v79;
        sub_412D40(*(_DWORD **)(this + 358248), 255, dword_4B31A0);
        sub_412D70(*(char **)(this + 358248), v72, 0);
        sub_419860(*(_DWORD **)(this + 358248), 328, v73 + 40, *(_DWORD *)(this + 358240), 362, 12, 488, 46, 99, 0);
        sub_419860(*(_DWORD **)(this + 358248), 328, v73 + 40, *(_DWORD *)(this + 358240), 492, 12, 618, 46, 1, 0);
        sub_419860(*(_DWORD **)(this + 358248), 328, v73 + 40, *(_DWORD *)(this + 358240), 492, 12, 618, 46, 2, 0);
        v71 = v77;
      }
      ++v71;
      v72 += 260;
      v73 += 150;
      v77 = v71;
    }
    while ( v71 < *(_DWORD *)(this + 1832) );
  }
  sub_417C60(*(char **)(this + 358248));
  sub_418F20(*(int **)(this + 358248), *(_DWORD *)(this + 358252), 0);
  v74 = *(_DWORD *)(this + 358256);
  if ( v74 != -1 )
  {
    if ( v74 == 1 )
      v76 = v79 + 2;
    else
      v76 = v79 + 1;
    sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v76);
    sub_412EA0(*(_DWORD **)(this + 358248));
  }
  result = sub_414D50(*(_DWORD *)(this + 358248), 0);
  *(_DWORD *)this = 0;
  return result;
}
// 48B620:  int dword_48B620
// 48B628:  __int16 word_48B628[]
// 4B319C:  int dword_4B319C
// 4B31A0:  int dword_4B31A0
// 404EE0:  char var_26FC[64]
// 404EE0:  char Str[1022]

//----- (00405CE0) --------------------------------------------------------
unsigned __int16 *__thiscall sub_405CE0(_DWORD *this, int a2)
{
  unsigned __int16 *result; // eax
  int v4; // ecx
  bool v5; // sf
  _DWORD *v6; // edx
  int v7; // edx
  char *v8; // eax
  int v9; // ecx
  int v10; // eax
  int v11; // eax
  int v12; // ecx
  int v13; // eax
  bool v14; // cc
  _DWORD *v15; // ecx
  int v16; // ecx
  double v17; // st7
  float v18; // [esp+4h] [ebp-18h]
  float v19; // [esp+14h] [ebp-8h]

  memcpy(this + 471, (char *)Buf + 19328, 0x56FE4u);
  this[43] = 0;
  this[44] = 0;
  this[445] = 0;
  this[449] = 0;
  this[451] = 0;
  this[452] = 0;
  this[453] = 0;
  this[457] = 0;
  this[454] = -1;
  result = (unsigned __int16 *)(*((_DWORD *)Buf + 27968) - 1);
  v4 = 0;
  v5 = (int)this[22198] < 0;
  this[450] = result;
  if ( !v5 )
  {
    result = (unsigned __int16 *)(this + 22200);
    v6 = this + 45;
    do
    {
      *v6 = this[445];
      this[445] += result[1] - *result + 1;
      ++v4;
      ++v6;
      result += 7;
    }
    while ( v4 <= this[22198] );
  }
  v7 = this[22198];
  this[446] = this[445] - 2;
  this[447] = v7;
  if ( a2 != 99 )
  {
    this[462] = malloc(0x1BA60u);
    v8 = (char *)malloc(0x1BA60u);
    v9 = this[462];
    this[468] = v8;
    this[463] = v9;
    this[469] = v8;
    this[464] = v9 + 104000;
    this[470] = v8 + 104000;
    v10 = this[446];
    this[459] = -2;
    this[465] = -2;
    this[448] = -3;
    *this = v10;
    result = (unsigned __int16 *)sub_4227D0();
    if ( !a2 )
    {
      if ( this[89558] )
        sub_44BF60(*((int **)dword_4C0874 + 63), this[89558]);
      this[89558] = 0;
      v11 = sub_44CB90(*((char **)dword_4C0874 + 63), "system\\bklogback", 0, 0);
      v12 = this[89552];
      this[89558] = v11;
      sub_445230(v12);
      sub_444240((_DWORD *)this[89552], 1);
      sub_4440C0(this[89552], this[89558]);
      sub_444260((float *)this[89552], 1.0, 1.0);
      sub_444340((float *)this[89552], 0, 0, 1282, 722);
      sub_445230(this[89553]);
      sub_444240((_DWORD *)this[89553], 0);
      sub_4440C0(this[89553], this[89558]);
      sub_444260((float *)this[89553], -1.0, -1.0);
      sub_444340((float *)this[89553], 0, 0, 1282, 722);
      sub_445230(this[89557]);
      sub_444240((_DWORD *)this[89552], 0);
      if ( this[89560] )
        sub_44BF60(*((int **)dword_4C0874 + 63), this[89560]);
      this[89560] = 0;
      v13 = sub_44CB90(*((char **)dword_4C0874 + 63), "system\\bklogchip", 0, 0);
      v14 = this[445] <= 4;
      v15 = (_DWORD *)this[89554];
      this[89560] = v13;
      if ( v14 )
      {
        sub_444240(v15, 0);
      }
      else
      {
        sub_445230((int)v15);
        sub_444240((_DWORD *)this[89554], 1);
        sub_4440C0(this[89554], this[89560]);
      }
      sub_445230(this[89556]);
      sub_4440C0(this[89556], this[89560]);
      sub_444340((float *)this[89556], 0, 203, 263, 355);
      v16 = this[89555];
      if ( (int)this[445] <= 4 )
      {
        sub_445230(v16);
        sub_444240((_DWORD *)this[89555], 1);
        sub_4440C0(this[89555], this[89560]);
        sub_444260((float *)this[89555], 1232.0, 82.0);
        v17 = 82.0;
      }
      else
      {
        sub_445230(v16);
        sub_444240((_DWORD *)this[89555], 1);
        sub_4440C0(this[89555], this[89560]);
        sub_444260((float *)this[89555], 1232.0, 82.0);
        if ( (int)this[445] <= 4 )
        {
LABEL_18:
          sub_444340((float *)this[89555], 1200, 38, 1224, 68);
          sub_4010F0((int)this);
          result = (unsigned __int16 *)sub_404EE0((int)this);
          this[1] = 1;
          return result;
        }
        v19 = 582.0 / (double)(int)this[445];
        v17 = (double)(int)(v19 * (double)(int)this[446] + 82.0);
      }
      v18 = v17;
      sub_444260((float *)this[89555], 1232.0, v18);
      goto LABEL_18;
    }
  }
  return result;
}

//----- (00406150) --------------------------------------------------------
int __thiscall sub_406150(int this)
{
  int v3; // eax
  int v4; // eax
  int v5; // edi
  int v6; // eax
  int v7; // ebp
  int v8; // ecx
  int v9; // edx
  int v10; // ecx
  int v11; // ebp
  int v12; // ecx
  int v13; // eax
  int v14; // ecx
  _DWORD *v15; // ecx
  int v16; // edi
  char *v17; // eax
  char *v18; // edx
  char v19; // cl
  int v20; // eax
  int v21; // ecx
  int v22; // eax
  bool v23; // cc
  int v24; // eax
  int v25; // ecx
  int v26; // eax
  int v27; // eax
  int v28; // ecx
  int v29; // eax
  int v30; // eax
  int v31; // ecx
  int v32; // eax
  int v33; // eax
  int v34; // ecx
  int v35; // eax
  int v36; // edx
  int v37; // edx
  int v38; // eax
  int v39; // ecx
  int v40; // ecx
  int v41; // edx
  int v42; // eax
  _DWORD *v43; // ecx
  int v44; // eax
  int v45; // eax
  int v46; // eax
  _DWORD *v47; // ecx
  int v48; // [esp+4h] [ebp-48h]
  float v49; // [esp+4h] [ebp-48h]
  float v50; // [esp+14h] [ebp-38h]
  int v51; // [esp+18h] [ebp-34h]
  int v52; // [esp+1Ch] [ebp-30h]
  int v53; // [esp+20h] [ebp-2Ch] BYREF
  int v54; // [esp+24h] [ebp-28h]
  char Str1[5]; // [esp+28h] [ebp-24h] BYREF
  char String[27]; // [esp+2Dh] [ebp-1Fh] BYREF

  v52 = *(_DWORD *)(this + 1784);
  if ( !*(_DWORD *)(this + 4) )
    return 0;
  if ( *((_DWORD *)Buf + 40) )
  {
    v3 = sub_412EF0(*(_DWORD **)(this + 358248));
    if ( v3 == -1
      || (sub_413FB0(*(_DWORD *)(this + 358248), v3, Str1), strncmp(Str1, "label", 5u))
      || (v4 = atoi(String), v5 = v4, v4 >= 4)
      || v4 == -1 )
    {
      v15 = *(_DWORD **)(this + 358224);
      *(_DWORD *)(this + 176) = 0;
      *(_DWORD *)(this + 358292) = -1;
      sub_444240(v15, 0);
      sub_444470(*(float **)(this + 358224), 0.0);
      sub_444240(*(_DWORD **)(this + 358228), 0);
    }
    else if ( !*(_DWORD *)(this + 176) || *(_DWORD *)(this + 358292) != v4 )
    {
      v6 = *(_DWORD *)(this + 1780);
      v7 = 4;
      if ( v6 < 4 )
        v7 = *(_DWORD *)(this + 1780);
      v8 = *(_DWORD *)(this + 4 * v5 + 358260);
      if ( v8 != -1 )
      {
        v9 = v5 + v8;
        if ( v6 < 4 )
          v7 = *(_DWORD *)(this + 1780);
        v10 = v9 - v7;
        v11 = *(_DWORD *)(this + 1784);
        v12 = v10 + v11 + 2;
        if ( v6 < 4 )
          v12 = v9;
        *(_DWORD *)(this + 8) = v12;
        v13 = sub_402BC0((_DWORD *)this, v11, v12);
        *(_DWORD *)(this + 358244) = v13;
        if ( v13 )
        {
          v14 = *(_DWORD *)(this + 358228);
          *(_DWORD *)(this + 176) = 1;
          sub_4440C0(v14, v13);
          sub_444240(*(_DWORD **)(this + 358228), 1);
          sub_4443C0(*(float **)(this + 358228), 10.0, 10.0);
          sub_401040(*(float **)(this + 358228), 184, 150 * v5 + 122);
          sub_444250(*(_DWORD **)(this + 358228), 1);
          *(_DWORD *)(this + 358292) = v5;
        }
      }
    }
  }
  v16 = sub_414D50(*(_DWORD *)(this + 358248), 0);
  *(_DWORD *)(this + 358256) = -1;
  if ( v16 == -1 )
    goto LABEL_32;
  v17 = (char *)sub_412AE0(*(void **)(this + 358248));
  v18 = Str1;
  do
  {
    v19 = *v17;
    *v18++ = *v17++;
  }
  while ( v19 );
  if ( !strncmp(Str1, "voice", 5u) )
  {
LABEL_32:
    if ( sub_442B00(dword_4C087C, 15) || sub_442AE0(dword_4C087C, 15) )
    {
      v24 = *(_DWORD *)(this + 1784);
      if ( v24 - *(_DWORD *)(this + 1796) > 0 )
      {
        if ( v24 + 1 < 4 )
          return 1;
        v25 = *(_DWORD *)(this + 1788);
        v26 = v24 - 1;
        *(_DWORD *)(this + 1784) = v26;
        if ( *(_DWORD *)(this + 4 * v25 + 180) > v26 + 1 )
          *(_DWORD *)(this + 1788) = v25 - 1;
      }
      sub_404EE0(this);
    }
    if ( sub_442B00(dword_4C087C, 16) || sub_442AE0(dword_4C087C, 16) )
    {
      v27 = *(_DWORD *)(this + 1784);
      if ( v27 >= *(_DWORD *)(this + 1780) - 2 )
      {
        sub_442E90(dword_4C087C, 500);
        *(_DWORD *)this = -1;
      }
      else
      {
        v28 = v27 + 1;
        v29 = *(_DWORD *)(this + 1788);
        v23 = v29 < *(_DWORD *)(this + 88792);
        *(_DWORD *)(this + 1784) = v28;
        if ( v23 && *(_DWORD *)(this + 4 * v29 + 184) <= v28 + 1 )
          *(_DWORD *)(this + 1788) = v29 + 1;
        sub_404EE0(this);
      }
    }
    if ( sub_442B00(dword_4C087C, 14) && v16 != -1 )
    {
      v40 = *(_DWORD *)(this + 1780);
      v41 = 4;
      if ( v40 < 4 )
        v41 = *(_DWORD *)(this + 1780);
      v42 = *(_DWORD *)(this + 1784) - v41 + 2;
      if ( v40 < 4 )
        v42 = v16;
      *(_DWORD *)(this + 8) = v42;
      return 2;
    }
    if ( sub_442FB0(dword_4C087C) )
    {
      *(_DWORD *)(this + 4) = 0;
      *(_DWORD *)this = -1;
      sub_402750(this);
      return -1;
    }
    if ( *(_DWORD *)this == -1 )
    {
      sub_402750(this);
      return -1;
    }
    sub_442BD0(dword_4C087C, &v53);
    v43 = *(_DWORD **)(this + 358220);
    if ( *(int *)(this + 1780) <= 4 )
    {
      sub_444240(v43, 0);
    }
    else
    {
      sub_444240(v43, 1);
      v50 = 550.0 / (double)(*(_DWORD *)(this + 1780) - 4);
      if ( (unsigned int)(v53 - 1232) <= 0x20
        && (unsigned int)(v54 - 82) <= 0x246
        && (sub_442FD0(dword_4C087C, 1) || sub_442B00(dword_4C087C, 1)) )
      {
        v44 = (int)((double)(v54 - 82) / v50) + 2;
        *(_DWORD *)(this + 1784) = v44;
        if ( v44 < 2 )
          *(_DWORD *)(this + 1784) = 2;
        v45 = *(_DWORD *)(this + 1780) - 2;
        if ( *(_DWORD *)(this + 1784) > v45 )
          *(_DWORD *)(this + 1784) = v45;
        sub_442D20(v45, (int)dword_4C087C);
        v46 = sub_404EE0(this);
        sub_442D20(v46, (int)dword_4C087C);
      }
      sub_444340(*(float **)(this + 358220), 1200, 38, 1224, 68);
      v51 = *(_DWORD *)(this + 1784) - 2;
      if ( v51 < 0 )
        v51 = 0;
      v49 = (float)(int)((double)v51 * v50 + 82.0);
      sub_444260(*(float **)(this + 358220), 1232.0, v49);
    }
    if ( v52 != *(_DWORD *)(this + 1784) )
    {
      v47 = *(_DWORD **)(this + 358224);
      *(_DWORD *)(this + 176) = 0;
      *(_DWORD *)(this + 358292) = -1;
      sub_444240(v47, 0);
      sub_444470(*(float **)(this + 358224), 0.0);
      sub_444240(*(_DWORD **)(this + 358228), 0);
    }
    return 1;
  }
  if ( !strncmp(Str1, "back", 4u) )
  {
    *(_DWORD *)(this + 4) = 0;
    *(_DWORD *)this = -1;
    goto LABEL_32;
  }
  if ( !strncmp(Str1, "s+", 2u) )
  {
    v20 = *(_DWORD *)(this + 1784);
    if ( v20 >= *(_DWORD *)(this + 1780) - 2 )
    {
      sub_442E90(dword_4C087C, 500);
      *(_DWORD *)this = -1;
      goto LABEL_32;
    }
    v21 = v20 + 1;
    v22 = *(_DWORD *)(this + 1788);
    v23 = v22 < *(_DWORD *)(this + 88792);
    *(_DWORD *)(this + 1784) = v21;
    if ( v23 && *(_DWORD *)(this + 4 * v22 + 184) <= v21 + 1 )
      *(_DWORD *)(this + 1788) = v22 + 1;
    goto LABEL_31;
  }
  if ( !strncmp(Str1, "s-", 2u) )
  {
    v30 = *(_DWORD *)(this + 1784);
    if ( v30 - *(_DWORD *)(this + 1796) > 0 )
    {
      if ( v30 + 1 < 4 )
        return 1;
      v31 = *(_DWORD *)(this + 1788);
      v32 = v30 - 1;
      *(_DWORD *)(this + 1784) = v32;
      if ( *(_DWORD *)(this + 4 * v31 + 180) > v32 )
        *(_DWORD *)(this + 1788) = v31 - 1;
    }
    goto LABEL_31;
  }
  if ( !strncmp(Str1, "samune", 6u) )
  {
    *((_DWORD *)Buf + 40) = *((_DWORD *)Buf + 40) == 0;
    sub_444240(*(_DWORD **)(this + 358228), 0);
    sub_444240(*(_DWORD **)(this + 358224), 0);
LABEL_31:
    sub_404EE0(this);
    goto LABEL_32;
  }
  if ( !strncmp(Str1, "init", 4u) )
  {
    *(_DWORD *)(this + 1784) = 2;
    goto LABEL_31;
  }
  if ( !strncmp(Str1, "last", 4u) )
  {
    *(_DWORD *)(this + 1784) = *(_DWORD *)(this + 1780) - 2;
    goto LABEL_31;
  }
  v33 = atoi(String);
  v34 = *(_DWORD *)(this + 1780);
  v35 = *(_DWORD *)(this + 4 * v33 + 358260) + v33;
  v36 = 4;
  if ( v34 < 4 )
    v36 = *(_DWORD *)(this + 1780);
  v37 = v35 - v36 + *(_DWORD *)(this + 1784) + 2;
  if ( v34 < 4 )
    v37 = v35;
  *(_DWORD *)(this + 8) = v37;
  sub_402020((_DWORD *)this, v37, (_BYTE *)(this + 12));
  if ( *((_DWORD *)Buf + 40) )
  {
    v48 = *(_DWORD *)(this + 8);
    *(_DWORD *)(this + 176) = 1;
    v38 = sub_402BC0((_DWORD *)this, 2, v48);
    v39 = *(_DWORD *)(this + 358228);
    *(_DWORD *)(this + 358244) = v38;
    sub_4440C0(v39, v38);
    sub_444240(*(_DWORD **)(this + 358228), 1);
    sub_4443C0(*(float **)(this + 358228), 20.0, 20.0);
    sub_444260(*(float **)(this + 358228), 516.0, 88.0);
    sub_444250(*(_DWORD **)(this + 358228), 1);
  }
  return 2;
}

//----- (00406950) --------------------------------------------------------
int __thiscall sub_406950(int *this, int a2, int a3, int a4)
{
  int v5; // ecx
  int v6; // ebp
  int v7; // ebx
  int *i; // eax
  int v9; // edi
  int v10; // eax
  char v11; // cl
  int v12; // eax
  char v13; // cl
  char *v14; // eax
  char *v15; // ecx
  char *v16; // edx
  char v17; // al
  int result; // eax
  char Str[260]; // [esp+10h] [ebp-20Ch] BYREF
  char v20[260]; // [esp+114h] [ebp-108h] BYREF

  v5 = this[43];
  v6 = this[22198];
  v7 = 0;
  this[43] = 0;
  if ( a2 >= 0 )
  {
    if ( a3 )
    {
      if ( a3 == 2 )
      {
        memcpy(this + 471, (char *)Buf + 19328, 0x56FE4u);
        v7 = a2;
      }
      else
      {
        for ( i = &this[v6 + 45]; a2 < *i; --v6 )
        {
          if ( v6 <= 0 )
            break;
          --i;
        }
        if ( !v5 )
          v7 = a2 + *((unsigned __int16 *)this + 7 * v6 + 44400) - this[v6 + 45];
      }
    }
    else
    {
      memcpy(this + 471, (char *)Buf + 19328, 0x56FE4u);
      sub_405CE0(this, 0);
      v7 = a2;
    }
    v9 = 14 * v6;
    if ( a4 || *((__int16 *)this + 7 * v6 + 44398) == -1 )
    {
      if ( byte_4C00D0[0] )
      {
        v10 = 0;
        do
        {
          v11 = byte_4C00D0[v10];
          Str[v10++] = v11;
        }
        while ( v11 );
        if ( strstr(Str, word_48B5C0) )
          _mbsrchr((const unsigned __int8 *)Str, 0x5Cu);
        v12 = 0;
        do
        {
          v13 = Str[v12];
          v20[v12++] = v13;
        }
        while ( v13 );
        if ( strstr(v20, ".") )
          *strstr(v20, ".") = 0;
        v14 = v20;
      }
      else
      {
        v14 = (char *)Buf + 19336;
      }
    }
    else
    {
      v14 = (char *)sub_40CA80(Buf, *((__int16 *)this + 7 * v6 + 44398));
    }
    v15 = v14;
    v16 = (char *)Buf + 19336;
    do
    {
      v17 = *v15;
      *v16++ = *v15++;
    }
    while ( v17 );
    if ( !sub_40CCD0(Buf, 9, 7) )
      sub_402A90(*((_WORD *)this + 7 * this[447] + 44399));
    if ( a4 < 2 )
    {
      *((_DWORD *)Buf + 27964) = *(unsigned __int16 *)((char *)this + v9 + 88806);
      *((_DWORD *)Buf + 27965) = *((_DWORD *)Buf + 27964);
      *((_DWORD *)Buf + 27966) = *(unsigned __int16 *)((char *)this + v9 + 88808);
      *((_DWORD *)Buf + 27967) = *((_DWORD *)Buf + 27966);
      if ( this[447] && v6 )
      {
        *((_DWORD *)Buf + 26559) = v6 - 1;
        *((_DWORD *)Buf + 27968) = *(unsigned __int16 *)((char *)Buf + v9 + 106248);
      }
      else
      {
        *((_DWORD *)Buf + 26559) = 0;
        *((_WORD *)Buf + 53120) = -1;
        *((_DWORD *)Buf + 27968) = 0;
      }
    }
  }
  *this = v7;
  if ( a4 )
    sub_402750((int)this);
  result = 0;
  this[1] = 0;
  return result;
}
// 406950:  char Str[260]
// 406950:  char var_108[260]

//----- (00406C30) --------------------------------------------------------
int __thiscall sub_406C30(int *this, int a2)
{
  int v4; // [esp-Ch] [ebp-10h]

  v4 = this[2];
  this[44] = 0;
  if ( sub_406950(this, v4, 1, 0) == -1 )
    return 0;
  *((_DWORD *)Buf + 66515) = 0;
  sub_402750((int)this);
  return 1;
}

//----- (00406C80) --------------------------------------------------------
_BYTE *__cdecl sub_406C80(_BYTE *a1)
{
  _BYTE *result; // eax
  char v2; // cl
  _BYTE *i; // edx

  result = a1;
  v2 = *a1;
  for ( i = a1; v2; ++result )
  {
    if ( v2 == 92 || v2 == 46 || v2 == 58 || v2 == 47 )
      i = result;
    v2 = result[1];
  }
  if ( *i == 46 )
    return i;
  return result;
}

//----- (00406CC0) --------------------------------------------------------
char __cdecl sub_406CC0(_BYTE *a1, char *a2)
{
  _BYTE *v2; // eax
  char *v3; // esi
  _BYTE *v4; // edi
  int v5; // eax
  char v6; // dl

  v2 = sub_406C80(a1);
  if ( *v2 != 46 )
    *v2 = 46;
  v3 = a2;
  v4 = v2 + 1;
  if ( *a2 == 46 )
    v3 = a2 + 1;
  for ( LOBYTE(v5) = *v3; *v3; ++v4 )
  {
    v5 = isspace((char)v5);
    if ( v5 )
      break;
    v6 = *v3++;
    *v4 = v6;
    v5 = (unsigned __int8)*v3;
  }
  *v4 = 0;
  return v5;
}

//----- (00406D20) --------------------------------------------------------
char __cdecl sub_406D20(char *lpFileName, int a2, int a3, char *a4)
{
  const char *v4; // edi
  unsigned int FileAttributesA; // eax
  char *v6; // ebx
  char *v7; // edi
  char *v8; // edi
  const void *v9; // esi
  char v10; // cl

  if ( *(_BYTE *)a3 && *(_BYTE *)(a3 + 1) == 58 )
  {
    v4 = strcpy(lpFileName, (const char *)a3);
    FileAttributesA = (unsigned int)strstr(v4, ".");
    if ( !FileAttributesA )
    {
      FileAttributesA = strlen(a4) + 1;
      qmemcpy((void *)&v4[strlen(v4)], a4, FileAttributesA);
    }
    return FileAttributesA;
  }
  if ( *(_BYTE *)a2 && *(_BYTE *)(a2 + 1) == 58 )
  {
    v6 = strcpy(lpFileName, (const char *)a2);
    *(_WORD *)&v6[strlen(v6)] = 92;
    FileAttributesA = strlen((const char *)a3) + 1;
    v7 = &v6[strlen(v6)];
    qmemcpy(v7, (const void *)a3, 4 * (FileAttributesA >> 2));
    v9 = (const void *)(a3 + 4 * (FileAttributesA >> 2));
    v8 = &v7[4 * (FileAttributesA >> 2)];
    v10 = FileAttributesA;
    LOBYTE(FileAttributesA) = (_BYTE)a4;
    qmemcpy(v8, v9, v10 & 3);
    if ( !*a4 )
      return FileAttributesA;
LABEL_17:
    LOBYTE(FileAttributesA) = sub_406CC0(v6, a4);
    return FileAttributesA;
  }
  v6 = strcpy(lpFileName, PathName);
  strcat(v6, "\\AdvData\\");
  if ( *(_BYTE *)a2 )
  {
    strcat(v6, (const char *)a2);
    *(_WORD *)&v6[strlen(v6)] = 92;
  }
  strcat(v6, (const char *)a3);
  if ( *a4 )
    sub_406CC0(v6, a4);
  FileAttributesA = GetFileAttributesA(v6);
  if ( FileAttributesA == -1 )
  {
    strcpy(v6, (const char *)&word_4B3048);
    strcat(v6, "\\AdvData\\");
    if ( *(_BYTE *)a2 )
    {
      strcat(v6, (const char *)a2);
      *(_WORD *)&v6[strlen(v6)] = 92;
    }
    FileAttributesA = strlen((const char *)a3) + 1;
    qmemcpy(&v6[strlen(v6)], (const void *)a3, FileAttributesA);
    if ( *a4 )
      goto LABEL_17;
  }
  return FileAttributesA;
}
// 4B3048:  __int16 word_4B3048

//----- (00406FB0) --------------------------------------------------------
char __cdecl sub_406FB0(char *a1, char *a2, unsigned int a3, char *a4)
{
  unsigned int v4; // eax
  char v5; // cl
  char *v6; // ecx
  char v7; // dl
  char *v8; // edi
  char *v9; // edi
  const void *v10; // esi
  char v11; // cl
  char *v12; // ebp
  char *v13; // edi
  char *v14; // edi
  const void *v15; // esi
  char v16; // cl

  v4 = a3;
  if ( *(_BYTE *)a3 && *(_BYTE *)(a3 + 1) == 58 )
  {
    do
    {
      v5 = *(_BYTE *)v4;
      a1[v4 - a3] = *(_BYTE *)v4;
      ++v4;
    }
    while ( v5 );
  }
  else
  {
    v6 = a2;
    if ( *a2 && a2[1] == 58 )
    {
      do
      {
        v7 = *v6;
        v6[a1 - a2] = *v6;
        ++v6;
      }
      while ( v7 );
      *(_WORD *)&a1[strlen(a1)] = 92;
      v4 = strlen((const char *)a3) + 1;
      v8 = &a1[strlen(a1)];
      qmemcpy(v8, (const void *)a3, 4 * (v4 >> 2));
      v10 = (const void *)(a3 + 4 * (v4 >> 2));
      v9 = &v8[4 * (v4 >> 2)];
      v11 = v4;
      LOBYTE(v4) = (_BYTE)a4;
      qmemcpy(v9, v10, v11 & 3);
      if ( *a4 )
        LOBYTE(v4) = sub_406CC0(a1, a4);
    }
    else
    {
      v12 = strcpy(a1, PathName);
      strcat(v12, "\\AdvData\\");
      if ( *a2 )
      {
        strcat(v12, a2);
        *(_WORD *)&v12[strlen(v12)] = 92;
      }
      v4 = strlen((const char *)a3) + 1;
      v13 = &v12[strlen(v12)];
      qmemcpy(v13, (const void *)a3, 4 * (v4 >> 2));
      v15 = (const void *)(a3 + 4 * (v4 >> 2));
      v14 = &v13[4 * (v4 >> 2)];
      v16 = v4;
      LOBYTE(v4) = (_BYTE)a4;
      qmemcpy(v14, v15, v16 & 3);
      if ( *a4 )
        LOBYTE(v4) = sub_406CC0(v12, a4);
    }
  }
  return v4;
}

//----- (00407120) --------------------------------------------------------
unsigned int __cdecl sub_407120(LPCCH lpMultiByteStr, void *a2, int cbMultiByte)
{
  unsigned int result; // eax
  int v4; // esi
  WCHAR WideCharStr[260]; // [esp+14h] [ebp-20Ch] BYREF

  memset(a2, 0, cbMultiByte);
  result = MultiByteToWideChar(0, 0, lpMultiByteStr, strlen(lpMultiByteStr) + 1, 0, 0);
  v4 = result;
  if ( result <= 0x104 )
  {
    MultiByteToWideChar(0, 0, lpMultiByteStr, strlen(lpMultiByteStr) + 1, WideCharStr, 260);
    result = WideCharToMultiByte(0xFDE9u, 0, WideCharStr, v4, 0, 0, 0, 0);
    if ( (int)result < cbMultiByte )
      return WideCharToMultiByte(0xFDE9u, 0, WideCharStr, v4, (LPSTR)a2, cbMultiByte, 0, 0);
  }
  return result;
}

//----- (00407200) --------------------------------------------------------
BOOL __cdecl sub_407200(LPCSTR lpFileName)
{
  int v1; // eax
  CHAR v2; // cl
  _WORD *v3; // edi
  char v4; // al
  unsigned int v5; // eax
  _BYTE *v6; // edi
  _BYTE v9[261]; // [esp+Bh] [ebp-109h] BYREF

  v1 = 0;
  do
  {
    v2 = PathName[v1];
    v9[++v1] = v2;
  }
  while ( v2 );
  v3 = v9;
  do
  {
    v4 = *((_BYTE *)v3 + 1);
    v3 = (_WORD *)((char *)v3 + 1);
  }
  while ( v4 );
  *v3 = 92;
  v5 = strlen(lpFileName) + 1;
  v6 = v9;
  while ( *++v6 )
    ;
  qmemcpy(v6, lpFileName, v5);
  return GetFileAttributesA(lpFileName) != -1;
}

//----- (004072A0) --------------------------------------------------------
int __cdecl sub_4072A0(LPCSTR lpString2, LPSTR lpCommandLine, int a3)
{
  DWORD ExitCode; // [esp+8h] [ebp-160h] BYREF
  struct _PROCESS_INFORMATION ProcessInformation; // [esp+Ch] [ebp-15Ch] BYREF
  struct _STARTUPINFOA StartupInfo; // [esp+1Ch] [ebp-14Ch] BYREF
  CHAR String1[260]; // [esp+60h] [ebp-108h] BYREF

  memset(&ProcessInformation, 0, sizeof(ProcessInformation));
  StartupInfo.cb = 68;
  memset(&StartupInfo.lpReserved, 0, 64);
  if ( !CreateProcessA(0, lpCommandLine, 0, 0, 0, 0x480u, 0, 0, &StartupInfo, &ProcessInformation) )
  {
    lstrcpyA(String1, &String2);
    if ( lpString2 )
    {
      lstrcatA(String1, lpString2);
      lstrcatA(String1, &byte_48B6CC);
      MessageBoxA(0, String1, &Caption, 0x10u);
    }
    SetCurrentDirectoryA(PathName);
    return 0;
  }
  SetCurrentDirectoryA(PathName);
  if ( a3 != -1 && a3 )
  {
    WaitForInputIdle(ProcessInformation.hProcess, 0xFFFFFFFF);
    ExitCode = 0;
    while ( GetExitCodeProcess(ProcessInformation.hProcess, &ExitCode) )
    {
      if ( ExitCode != 259 )
        return 1;
    }
    return 0;
  }
  return 1;
}

//----- (00407430) --------------------------------------------------------
int __cdecl sub_407430(int a1, LPCSTR lpSubKey, const char *a3)
{
  LPCSTR v3; // eax
  bool v4; // zf
  int v5; // esi
  LSTATUS v6; // eax
  CHAR v7; // cl
  CHAR v9; // cl
  int v10; // esi
  LSTATUS v11; // eax
  char v12; // cl
  char *v13; // eax
  HKEY phkResult; // [esp+Ch] [ebp-110h] BYREF
  DWORD cbData; // [esp+10h] [ebp-10Ch] BYREF
  DWORD Type; // [esp+14h] [ebp-108h] BYREF
  BYTE Data[256]; // [esp+18h] [ebp-104h] BYREF

  v3 = lpSubKey;
  v4 = *lpSubKey == 46;
  Type = 1;
  cbData = 255;
  if ( v4 )
  {
    v5 = -1;
    if ( RegOpenKeyExA(HKEY_CLASSES_ROOT, lpSubKey, 0, 0x20019u, &phkResult) )
      return -1;
    v6 = RegQueryValueExA(phkResult, Source, 0, &Type, Data, &cbData);
    if ( !v6 )
    {
      do
      {
        v7 = Data[v6];
        SubKey[v6++] = v7;
      }
      while ( v7 );
      v5 = 0;
    }
    RegCloseKey(phkResult);
    if ( v5 )
      return -1;
  }
  else
  {
    do
    {
      v9 = *v3;
      v3[SubKey - lpSubKey] = *v3;
      ++v3;
    }
    while ( v9 );
  }
  v10 = -1;
  strcat(SubKey, "\\shell\\open\\command");
  if ( !RegOpenKeyExA(HKEY_CLASSES_ROOT, SubKey, 0, 0x20019u, &phkResult) )
  {
    Type = 1;
    cbData = 255;
    v11 = RegQueryValueExA(phkResult, Source, 0, &Type, Data, &cbData);
    if ( !v11 )
    {
      do
      {
        v12 = Data[v11];
        Str[v11++] = v12;
      }
      while ( v12 );
      strcpy(byte_4BF018, a3);
      v13 = strstr(Str, "%1");
      if ( v13 )
      {
        *(_WORD *)v13 = 29477;
        sprintf(CommandLine, Str, byte_4BF018);
      }
      else
      {
        sprintf(CommandLine, "%s %s", Str, byte_4BF018);
      }
      v10 = 0;
    }
    RegCloseKey(phkResult);
  }
  return v10;
}
// 407430:  BYTE Data[256]

//----- (00407630) --------------------------------------------------------
int __cdecl sub_407630(int a1, char *String1, const char *a3, int a4)
{
  if ( sub_407430(a1, String1, a3)
    && (_stricmp(String1, ".html") || sub_407430(a1, "HTTP", a3) && sub_407430(a1, "htmlfile", a3)) )
  {
    return -1;
  }
  else
  {
    return sub_4072A0(0, CommandLine, a4) == 0;
  }
}

//----- (004076B0) --------------------------------------------------------
_BYTE *__cdecl sub_4076B0(_BYTE *a1)
{
  _BYTE *result; // eax

  for ( result = a1; *result; ++result )
  {
    *result += 32;
    if ( *result == 36 )
      *result = 32;
  }
  *result = 0;
  return result;
}

//----- (004076E0) --------------------------------------------------------
char __cdecl sub_4076E0(int a1, char *lpFileName)
{
  return sub_406D20(lpFileName, (int)Source, a1, (char *)Source);
}

//----- (00407700) --------------------------------------------------------
void *__thiscall sub_407700(int this)
{
  sub_444240(*(_DWORD **)(this + 4), 0);
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 40) = 0;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 48) = 0;
  *(_DWORD *)(this + 52) = 0;
  *(_DWORD *)(this + 56) = 0;
  *(_DWORD *)(this + 60) = 0;
  *(_DWORD *)(this + 64) = 0;
  *(_DWORD *)(this + 68) = 0;
  return memset((void *)(this + 72), 0, 0xB8B0u);
}

//----- (00407750) --------------------------------------------------------
void *__thiscall sub_407750(int *this)
{
  void *result; // eax

  if ( this[3] )
    return sub_444D20(this[1]);
  return result;
}

//----- (00407760) --------------------------------------------------------
int __thiscall sub_407760(_DWORD *this)
{
  int v2; // ecx

  v2 = this[1];
  this[2] = 0;
  sub_445230(v2);
  return sub_444240((_DWORD *)this[1], 0);
}

//----- (00407780) --------------------------------------------------------
void *__thiscall sub_407780(int this, int a2, int a3)
{
  void *result; // eax
  float v6; // [esp+Ch] [ebp+4h]
  float v7; // [esp+Ch] [ebp+4h]

  result = Buf;
  if ( *((_DWORD *)Buf + 9) && *(_DWORD *)(this + 8) )
  {
    *(_DWORD *)(this + 12) = 1;
    *(_DWORD *)(this + 32) = a2;
    v6 = 1.0 / (double)a3;
    *(float *)(this + 28) = v6;
    if ( a2 == 1 )
    {
      *(float *)(this + 16) = 1.0;
      v7 = v6 * 0.5;
      *(float *)(this + 28) = v7 * -1.0;
    }
    else
    {
      *(float *)(this + 16) = 0.0;
    }
    sub_444470(*(float **)(this + 4), *(float *)(this + 16));
    sub_444240(*(_DWORD **)(this + 4), 1);
    return (void *)sub_4440C0(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
  }
  return result;
}

//----- (00407810) --------------------------------------------------------
int __thiscall sub_407810(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  if ( a2 )
    this[2] = a2;
  return result;
}

//----- (00407820) --------------------------------------------------------
int __userpurge sub_407820@<eax>(int a1@<edi>, int a2, char a3, char a4, char a5)
{
  return sub_44CA60(*((int **)dword_4C0874 + 63), a1, a2, a3, a4, a5);
}

//----- (00407830) --------------------------------------------------------
int __thiscall sub_407830(_DWORD *this)
{
  int result; // eax

  if ( this[3] )
  {
    sub_407760(this);
    result = 0;
    this[3] = 0;
    this[4] = 0;
    this[5] = 0;
    this[6] = 0;
    this[7] = 0;
    this[8] = 0;
    this[9] = 0;
    this[10] = 0;
  }
  return result;
}

//----- (00407860) --------------------------------------------------------
void *__thiscall sub_407860(int this, int a2, int a3, int a4)
{
  void *result; // eax
  float *v6; // ecx
  float v7; // [esp+Ch] [ebp+4h]

  result = Buf;
  if ( (*((_DWORD *)Buf + 9) || *((_DWORD *)Buf + 272079)) && a2 )
  {
    *(_DWORD *)(this + 32) = a3;
    *(_DWORD *)(this + 36) = a2;
    v7 = 510.0 / (double)a4;
    *(float *)(this + 28) = v7;
    *(float *)(this + 16) = -255.0;
    *(float *)(this + 20) = 0.0;
    if ( a3 == 3 )
    {
      *(float *)(this + 16) = 255.0;
      *(float *)(this + 28) = v7 * -1.0;
    }
    v6 = *(float **)(this + 4);
    *(_DWORD *)(this + 12) = 1;
    sub_444470(v6, 1.0);
    sub_444240(*(_DWORD **)(this + 4), 1);
    return (void *)sub_4440C0(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
  }
  return result;
}

//----- (00407900) --------------------------------------------------------
int __usercall sub_407900@<eax>(int a1@<ecx>, int a2@<edi>, int a3@<esi>, int a4)
{
  int v4; // ebp
  int v6; // esi
  int *v7; // ecx
  int v8; // edi
  int v9; // ecx
  int v10; // ebx
  int v11; // esi
  unsigned __int8 *v12; // edi
  int v13; // ebp
  _BYTE *v14; // esi
  int v15; // eax
  int v16; // ecx
  float *v17; // edx
  int v18; // [esp+18h] [ebp-48h]
  int v21; // [esp+2Ch] [ebp-34h] BYREF
  int v22; // [esp+30h] [ebp-30h] BYREF
  int v23; // [esp+34h] [ebp-2Ch] BYREF
  int v24; // [esp+38h] [ebp-28h] BYREF
  int v25; // [esp+3Ch] [ebp-24h]
  int v26; // [esp+40h] [ebp-20h]
  int v27; // [esp+44h] [ebp-1Ch]
  int v28; // [esp+48h] [ebp-18h]
  int v29; // [esp+4Ch] [ebp-14h]
  _DWORD v30[4]; // [esp+50h] [ebp-10h] BYREF
  void *retaddr; // [esp+60h] [ebp+0h] BYREF

  v4 = a1;
  *(float *)(a1 + 16) = *(float *)(a1 + 28) + *(float *)(a1 + 16);
  if ( sub_40E1B0(Buf) )
    *(float *)(v4 + 16) = *(float *)(v4 + 28) + *(float *)(v4 + 16);
  if ( (int)*(float *)(v4 + 20) == (int)*(float *)(v4 + 16) )
    return 0;
  v6 = sub_44B000(*((int **)dword_4C0874 + 63), *(_DWORD *)(v4 + 8));
  v7 = (int *)*((_DWORD *)dword_4C0874 + 63);
  v18 = *(_DWORD *)(v4 + 36);
  v28 = v6;
  v8 = sub_44B000(v7, v18);
  v29 = v8;
  if ( v8 && v6 )
  {
    sub_44B090(*((int **)dword_4C0874 + 63), &v21, &v23, *(_DWORD *)(v4 + 8));
    sub_44B090(*((int **)dword_4C0874 + 63), &v22, &v24, *(_DWORD *)(v4 + 36));
    if ( (*(int (__stdcall **)(int, _DWORD, _DWORD *, _DWORD, _DWORD, int, int))(*(_DWORD *)v6 + 76))(
           v6,
           0,
           v30,
           0,
           0,
           a2,
           a3) >= 0
      && (*(int (__stdcall **)(int, _DWORD, void **, _DWORD, _DWORD))(*(_DWORD *)v8 + 76))(v8, 0, &retaddr, 0, 0) >= 0
      && (v9 = v23, v23 == v24)
      && v25 == v26 )
    {
      v10 = 0;
      v28 = v23;
      v29 = v25;
      if ( v25 > 0 )
      {
        do
        {
          v11 = v30[3] + v10 * v30[2];
          v12 = (unsigned __int8 *)(a4 + v10 * (_DWORD)retaddr);
          if ( v9 > 0 )
          {
            v13 = v9;
            do
            {
              v27 = *v12;
              v14 = (_BYTE *)(v11 + 3);
              v15 = (int)((double)v27 + *(float *)(v22 + 16));
              if ( v15 <= 255 )
              {
                if ( v15 < 0 )
                  LOBYTE(v15) = 0;
              }
              else
              {
                LOBYTE(v15) = -1;
              }
              *v14 = v15;
              v11 = (int)(v14 + 1);
              v12 += 4;
              --v13;
            }
            while ( v13 );
            v4 = v22;
            v9 = v28;
          }
          ++v10;
        }
        while ( v10 < v29 );
        v6 = v30[0];
        v8 = v30[1];
      }
      (*(void (__cdecl **)(int, _DWORD))(*(_DWORD *)v6 + 80))(v6, 0);
      (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v8 + 80))(v8, 0);
      v16 = *(_DWORD *)(v4 + 32);
      *(float *)(v4 + 20) = *(float *)(v4 + 16);
      v17 = (float *)(v4 + 16);
      if ( (v16 != 2 || *v17 < 255.0) && (v16 != 3 || *v17 > -255.0) )
        return 0;
    }
    else
    {
      (*(void (__cdecl **)(int, _DWORD))(*(_DWORD *)v6 + 80))(v6, 0);
      (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v8 + 80))(v8, 0);
    }
  }
  return 1;
}
// 407900: could not find valid save-restore pair for ebx
// 407900: could not find valid save-restore pair for edi
// 407900: could not find valid save-restore pair for esi

//----- (00407B20) --------------------------------------------------------
int __thiscall sub_407B20(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax
  float *v7; // ecx
  int v8; // edi
  int v9; // ebp
  bool v10; // zf
  signed int v11; // eax
  int v12; // edx
  int v13; // eax
  double v14; // st6
  int v15; // ecx
  double v16; // st5
  int v17; // esi
  int v18; // edi
  int v19; // eax
  int v20; // et2
  float *v21; // esi
  int v22; // ebp
  int v23; // edi
  int v24; // ebp
  float *v25; // esi
  int i; // edi
  int v27; // edi
  float *v28; // esi
  int v29; // ebx
  int v30; // ebp
  float *v31; // esi
  int j; // edi
  float *v33; // esi
  int v34; // ebp
  int v35; // edi
  int v36; // ebp
  float *v37; // esi
  int v38; // edi
  int v39; // ebx
  int v40; // ebp
  float *v41; // esi
  unsigned int v42; // ebx
  int k; // edi
  float *v44; // esi
  int v45; // ebp
  int v46; // edi
  int v47; // [esp+1Ch] [ebp+4h]
  int v48; // [esp+1Ch] [ebp+4h]
  int v49; // [esp+1Ch] [ebp+4h]
  float v50; // [esp+1Ch] [ebp+4h]
  int v51; // [esp+1Ch] [ebp+4h]
  int v52; // [esp+1Ch] [ebp+4h]
  int v53; // [esp+1Ch] [ebp+4h]
  int v54; // [esp+1Ch] [ebp+4h]
  int v55; // [esp+1Ch] [ebp+4h]
  int v56; // [esp+1Ch] [ebp+4h]
  int v57; // [esp+1Ch] [ebp+4h]
  int v58; // [esp+20h] [ebp+8h]
  float v59; // [esp+20h] [ebp+8h]

  result = (int)Buf;
  if ( *((_DWORD *)Buf + 9) )
  {
    result = a2;
    if ( *(_DWORD *)(this + 8) != a2 )
    {
      *(_DWORD *)(this + 36) = a2;
      *(_DWORD *)(this + 32) = a3;
      *(_DWORD *)(this + 12) = 1;
      *(_DWORD *)(this + 64) = 0;
      *(_DWORD *)(this + 68) = 0;
      memset((void *)(this + 72), 0, 0xB8B0u);
      v7 = *(float **)(this + 4);
      *(float *)(this + 60) = 1.0;
      *(_DWORD *)(this + 44) = 0;
      *(_DWORD *)(this + 48) = 0;
      *(_DWORD *)(this + 56) = 1;
      *(_DWORD *)(this + 52) = 1;
      sub_444470(v7, 1.0);
      sub_444240(*(_DWORD **)(this + 4), 1);
      sub_4440C0(*(_DWORD *)(this + 4), *(_DWORD *)(this + 8));
      v8 = this + 76;
      v9 = 984;
      do
      {
        v47 = 32 - (rand() & 0x1F);
        v58 = (rand() & 0x1F) + 32;
        v11 = rand() & 0x80000001;
        v10 = v11 == 0;
        if ( v11 < 0 )
          v10 = (((_BYTE)v11 - 1) | 0xFFFFFFFE) == -1;
        if ( v10 )
          v47 = (rand() & 0x1F) - 32;
        *(_DWORD *)(v8 - 4) = rand() % 32 + 16;
        *(_DWORD *)v8 = 0;
        *(float *)(v8 + 16) = (float)v47;
        *(_DWORD *)(v8 + 4) = 16;
        v8 += 48;
        --v9;
        *(float *)(v8 - 28) = (float)v58;
        *(float *)(v8 - 24) = 0.0;
        *(float *)(v8 - 20) = 0.0;
        *(float *)(v8 - 8) = 0.0;
      }
      while ( v9 );
      v12 = 0;
      v48 = 0;
      v13 = this + 112;
      do
      {
        v14 = (double)v48;
        v15 = 0;
        v49 = 0;
        v59 = v14;
        do
        {
          v15 += 32;
          v13 += 48;
          v50 = (float)v49;
          v16 = v50;
          v49 = v15;
          *(float *)(v13 - 52) = v16;
          *(float *)(v13 - 76) = v16;
          *(float *)(v13 - 48) = v59;
          *(float *)(v13 - 72) = v59;
        }
        while ( v15 < 1312 );
        v12 += 32;
        v48 = v12;
      }
      while ( v12 < 768 );
      result = a4;
      switch ( a4 )
      {
        case 0:
          *(float *)(this + 60) = 0.0;
          v21 = (float *)(this + 92);
          v22 = 24;
          do
          {
            v23 = 41;
            do
            {
              *(v21 - 4) = 0.0;
              v51 = 48 - (rand() & 0x1F);
              result = rand() & 0x1F;
              *v21 = (float)v51;
              v21 += 12;
              --v23;
              *(v21 - 11) = (float)(48 - result);
            }
            while ( v23 );
            --v22;
          }
          while ( v22 );
          break;
        case 1:
          v24 = 0;
          v25 = (float *)(this + 92);
          do
          {
            for ( i = 0; i < 41; ++i )
            {
              *((_DWORD *)v25 - 4) = rand() % 2 - v24 / 5 + i - 41;
              v52 = 32 - (rand() & 0x1F);
              result = rand() & 0x30;
              *v25 = (float)v52;
              v25 += 12;
              *(v25 - 11) = (float)(32 - result);
            }
            ++v24;
          }
          while ( v24 < 24 );
          break;
        case 2:
          *(float *)(this + 60) = 0.0;
          v27 = 0;
          v28 = (float *)(this + 92);
          do
          {
            v29 = 41;
            do
            {
              *((_DWORD *)v28 - 4) = rand() % 2 + v27 - 24;
              v53 = 4 - (rand() & 8);
              result = (rand() & 0x1F) + 32;
              *v28 = (float)v53;
              v28 += 12;
              --v29;
              *(v28 - 11) = (float)result;
            }
            while ( v29 );
            ++v27;
          }
          while ( v27 < 24 );
          break;
        case 3:
          v30 = 0;
          v31 = (float *)(this + 92);
          *(v31 - 8) = -1.0;
          do
          {
            for ( j = 0; j < 41; ++j )
            {
              *((_DWORD *)v31 - 4) = rand() % 2 - v30 / 5 - j;
              v54 = (rand() & 0x1F) - 32;
              result = rand() & 0x30;
              *v31 = (float)v54;
              v31 += 12;
              *(v31 - 11) = (float)(32 - result);
            }
            ++v30;
          }
          while ( v30 < 24 );
          break;
        case 4:
          *(float *)(this + 60) = 0.0;
          v33 = (float *)(this + 92);
          v34 = 24;
          do
          {
            v35 = 41;
            do
            {
              *(v33 - 4) = 0.0;
              *v33 = (float)(32 - (rand() & 0x3F));
              result = rand() & 0x30;
              v33 += 12;
              --v35;
              *(v33 - 11) = (float)(32 - result);
            }
            while ( v35 );
            --v34;
          }
          while ( v34 );
          break;
        case 5:
          *(float *)(this + 60) = 0.0;
          v36 = 0;
          v37 = (float *)(this + 92);
          do
          {
            v38 = v36;
            v39 = 41;
            do
            {
              *((_DWORD *)v37 - 4) = v38;
              v55 = 2 - (rand() & 8);
              result = (rand() & 8) - 2;
              *v37 = (float)v55;
              v37 += 12;
              --v38;
              --v39;
              *(v37 - 11) = (float)result;
            }
            while ( v39 );
            v36 -= 2;
          }
          while ( v36 > -48 );
          break;
        case 6:
          *(float *)(this + 60) = 0.0;
          v40 = 12;
          v41 = (float *)(this + 92);
          do
          {
            v42 = abs32(v40);
            for ( k = 20; k > -21; --k )
            {
              *((_DWORD *)v41 - 4) = -(v42 + abs32(k));
              v56 = 4 - (rand() & 8);
              result = rand() & 8;
              *v41 = (float)v56;
              v41 += 12;
              *(v41 - 11) = (float)(4 - result);
            }
            --v40;
          }
          while ( v40 > -12 );
          break;
        case 9:
          *(float *)(this + 60) = 0.0;
          *(_DWORD *)(this + 56) = 4;
          v44 = (float *)(this + 92);
          v45 = 24;
          do
          {
            v46 = 41;
            do
            {
              *(v44 - 4) = 0.0;
              v57 = rand() % 16 - 8;
              result = rand() % 32;
              *v44 = (float)v57;
              v44 += 12;
              --v46;
              *(v44 - 11) = (float)(-32 - result);
            }
            while ( v46 );
            --v45;
          }
          while ( v45 );
          break;
        case 10:
          v17 = this + 76;
          v18 = 984;
          do
          {
            v19 = rand();
            v20 = -v19 % 20;
            result = -v19 / 20;
            v17 += 48;
            --v18;
            *(_DWORD *)(v17 - 48) = v20;
          }
          while ( v18 );
          break;
        default:
          return result;
      }
    }
  }
  return result;
}

//----- (00408090) --------------------------------------------------------
int __userpurge sub_408090@<eax>(int a1@<ebp>, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int v12; // ebx
  int result; // eax
  int v14; // ebx
  int v15; // esi
  int v16; // ebp
  int v17; // edi
  int v18; // ecx
  unsigned int v19; // eax
  int v20; // edx
  unsigned int v21; // eax
  char v22; // al
  int v23; // ebp
  int v24; // edi
  int v25; // edx
  char *v26; // eax
  char *v27; // ecx
  int v28; // edi
  int i; // esi
  _BYTE *v30; // ecx
  int v31; // edx
  int v33; // [esp+2Ch] [ebp-28h] BYREF
  int v34; // [esp+30h] [ebp-24h] BYREF
  int v35; // [esp+34h] [ebp-20h] BYREF
  int v36; // [esp+38h] [ebp-1Ch] BYREF
  int v37; // [esp+3Ch] [ebp-18h] BYREF
  int v38; // [esp+40h] [ebp-14h] BYREF
  int v39; // [esp+44h] [ebp-10h] BYREF
  int v40; // [esp+48h] [ebp-Ch]
  int v41; // [esp+4Ch] [ebp-8h]
  int v42; // [esp+50h] [ebp-4h] BYREF
  char *retaddr; // [esp+54h] [ebp+0h]
  int v44; // [esp+5Ch] [ebp+8h]
  int v45; // [esp+64h] [ebp+10h]
  int v46; // [esp+70h] [ebp+1Ch]
  int v47; // [esp+74h] [ebp+20h]

  v12 = sub_44B000(*((int **)dword_4C0874 + 63), a8);
  v46 = v12;
  result = sub_44B000(*((int **)dword_4C0874 + 63), a9);
  v47 = result;
  if ( result && v12 )
  {
    sub_44B090(*((int **)dword_4C0874 + 63), &v35, &v36, a8);
    sub_44B090(*((int **)dword_4C0874 + 63), &v38, &v37, a9);
    sub_44B290(*((int **)dword_4C0874 + 63), &v33, &v34, a9);
    v14 = a4;
    v15 = a5;
    v16 = a6;
    v17 = a7;
    if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD, int))(*(_DWORD *)v46 + 76))(v46, 0, &v39, 0, 0, a1) >= 0
      && (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)a10 + 76))(a10, 0, &v42, 0, 0) >= 0 )
    {
      v18 = a3;
      if ( a3 < 0 )
      {
        v19 = abs32(a3);
        a3 = 0;
        v18 = 0;
        v14 = v19 + a4;
      }
      v20 = a4;
      if ( a4 < 0 )
      {
        v21 = abs32(a4);
        a4 = 0;
        v20 = 0;
        v15 = v21 + a5;
      }
      if ( a6 + v18 - v14 > v36 )
        v16 = v14 + v36 - a3;
      v45 = v20 - v15;
      if ( a7 + v20 - v15 > v37 )
        v17 = v15 + v37 - v20;
      v22 = v33;
      v23 = v16 - v14;
      v24 = v17 - v15 + 1;
      if ( v33 >= 0 )
      {
        for ( i = 0; i < v24; ++i )
        {
          if ( v23 > 0 )
          {
            v30 = (_BYTE *)(v41 + 4 * a3 + v40 * (i + v20) + 3);
            v31 = v23;
            do
            {
              *v30 = v22;
              v30 += 4;
              --v31;
            }
            while ( v31 );
            v20 = a4;
          }
        }
      }
      else if ( v24 > 0 )
      {
        v25 = 4 * a3;
        v44 = v24;
        do
        {
          if ( v23 > 0 )
          {
            v26 = (char *)(v41 + v25 + v40 * (v15 + v45) + 3);
            v27 = &retaddr[4 * v14 + 3 + v42 * v15];
            v28 = v23;
            do
            {
              if ( *v26 == -1 )
                *v26 = -1;
              else
                *v26 = *v27;
              v26 += 4;
              v27 += 4;
              --v28;
            }
            while ( v28 );
          }
          ++v15;
          --v44;
        }
        while ( v44 );
      }
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)v47 + 80))(v47);
    return (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)v47 + 80))(v47, 0);
  }
  return result;
}
// 408090: could not find valid save-restore pair for ebp

//----- (00408310) --------------------------------------------------------
int __stdcall sub_408310(int a1, int a2, int a3, int a4, int a5, char a6)
{
  int v6; // esi
  int result; // eax
  int v8; // ebp
  int v9; // edx
  int v10; // edi
  int v11; // ebx
  int v12; // ecx
  int v13; // ecx
  int v14; // esi
  int v15; // ebp
  char v16; // dl
  int v17; // edi
  char *v18; // eax
  int v19; // ecx
  int v20; // [esp+14h] [ebp-10h] BYREF
  int v21; // [esp+18h] [ebp-Ch]
  int v22[2]; // [esp+1Ch] [ebp-8h] BYREF
  int v23; // [esp+30h] [ebp+Ch]

  v6 = a5;
  result = sub_44B000(*((int **)dword_4C0874 + 63), a5);
  v8 = result;
  v21 = result;
  if ( result )
  {
    sub_44B090(*((int **)dword_4C0874 + 63), &a5, &v20, v6);
    if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v8 + 76))(v8, 0, v22, 0, 0) >= 0 )
    {
      v9 = a1;
      v10 = a3;
      if ( a1 < 0 )
      {
        v10 = a1 + a3;
        v9 = 0;
      }
      v11 = a2;
      v12 = a4;
      if ( a2 < 0 )
      {
        v12 = a2 + a4;
        v11 = 0;
      }
      if ( v9 + v10 > a5 )
        v10 = a5 - v9;
      if ( v11 + v12 > v20 )
        v12 = v20 - v11;
      v13 = v12 + 1;
      v14 = 0;
      v23 = v13;
      if ( v13 > 0 )
      {
        v15 = 4 * v9;
        v16 = a6;
        v17 = v10 + 1;
        do
        {
          if ( v17 > 0 )
          {
            v18 = (char *)(v22[1] + v15 + v22[0] * (v14 + v11) + 3);
            v19 = v17;
            do
            {
              *v18 = v16;
              v18 += 4;
              --v19;
            }
            while ( v19 );
            v13 = v23;
          }
          ++v14;
        }
        while ( v14 < v13 );
        v8 = v21;
      }
      return (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)v8 + 80))(v8, 0);
    }
    else
    {
      return (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)v8 + 80))(v8, 0);
    }
  }
  return result;
}
// 408310:  int arg_0

//----- (00408420) --------------------------------------------------------
int __thiscall sub_408420(int this, int a2)
{
  int v3; // esi
  float *v4; // ecx
  int v5; // ebp
  int v6; // esi
  int v7; // edx
  double v8; // st4
  double v9; // rt1
  int v10; // eax
  int result; // eax
  int v12; // esi
  int v13; // ebp
  int v14; // ebx
  int v15; // [esp+0h] [ebp-18h]
  int v16; // [esp+10h] [ebp-8h]
  float v17; // [esp+14h] [ebp-4h]
  float v18; // [esp+14h] [ebp-4h]
  float v19; // [esp+14h] [ebp-4h]
  int v20; // [esp+14h] [ebp-4h]

  v3 = 1;
  if ( sub_40E1B0(Buf) )
    v3 = 2;
  v16 = v3;
  do
  {
    v4 = (float *)(this + 100);
    v5 = 24;
    do
    {
      v6 = 41;
      do
      {
        if ( *((int *)v4 - 7) <= 0 )
          goto LABEL_17;
        v7 = *((_DWORD *)v4 - 6);
        if ( v7 < 0 )
        {
          *((_DWORD *)v4 - 6) = v7 + 1;
        }
        else
        {
          v8 = v4[4];
          v17 = *(v4 - 2) * v8 + *v4;
          v18 = v17 * 4.0 + v4[2];
          *v4 = *(float *)(this + 60) + *v4;
          *(v4 - 4) = v18;
          v9 = v18;
          v19 = v4[3] - (v8 * *(v4 - 1) + v8 * 3.920000076293945 * v8);
          *(v4 - 3) = v19;
          if ( v9 >= 1280.0 )
            *(v4 - 7) = 0.0;
          if ( v19 >= 720.0 )
            *(v4 - 7) = 0.0;
          *((_DWORD *)v4 - 7) -= *(_DWORD *)(this + 52);
          v20 = 8 * *(_DWORD *)(this + 56);
          *((_DWORD *)v4 - 6) = v7 + 1;
          v4[4] = (double)v20 / 100.0 + v4[4];
          if ( v7 + 1 >= 24 )
            *(v4 - 7) = 0.0;
          v10 = *((_DWORD *)v4 - 7);
          if ( v10 <= 16 )
          {
            *((_DWORD *)v4 - 5) = v10;
            if ( v10 <= 0 )
            {
              *(v4 - 5) = 0.0;
LABEL_17:
              *(v4 - 7) = 0.0;
            }
          }
        }
        v4 += 12;
        --v6;
      }
      while ( v6 );
      --v5;
    }
    while ( v5 );
    --v16;
  }
  while ( v16 );
  sub_408310(0, 0, 1280, 720, *(_DWORD *)(this + 8), 0);
  result = 1;
  if ( !a2 )
  {
    v12 = this + 76;
    v13 = 24;
    do
    {
      v14 = 41;
      do
      {
        if ( *(int *)(v12 - 4) > 0 )
        {
          sub_408090(
            v13,
            (int)*(float *)(v12 + 8),
            (int)*(float *)(v12 + 12),
            32 * *(_DWORD *)v12,
            0,
            32 * *(_DWORD *)v12 + 32,
            32,
            *(_DWORD *)(this + 8),
            *(_DWORD *)(this + 36),
            v15);
          result = 0;
        }
        v12 += 48;
        --v14;
      }
      while ( v14 );
      --v13;
    }
    while ( v13 );
    if ( result )
    {
      return 1;
    }
    else
    {
      ++*(_DWORD *)(this + 44);
      return 0;
    }
  }
  return result;
}
// 408446: conditional instruction was optimized away because esi.4 is in (1..2)
// 4085C5: variable 'v15' is possibly undefined

//----- (00408610) --------------------------------------------------------
int __thiscall sub_408610(int this)
{
  int v2; // ebp
  int v3; // ebx
  int v4; // edi
  int v5; // eax
  int v7; // [esp+4h] [ebp-14h]
  float v8; // [esp+14h] [ebp-4h]
  float v9; // [esp+14h] [ebp-4h]
  float v10; // [esp+14h] [ebp-4h]
  float v11; // [esp+14h] [ebp-4h]

  v2 = 0;
  v3 = 0;
  v4 = 0;
  if ( sub_40E1B0(Buf) )
    v4 = sub_40CCD0(Buf, 9, 99) == 0;
  if ( sub_442FB0(dword_4C087C) && !sub_40CCD0(Buf, 99, 192) )
    v3 = 1;
  if ( !*(_DWORD *)(this + 12) )
    return v2;
  v5 = *(_DWORD *)(this + 32);
  v2 = 1;
  switch ( v5 )
  {
    case 0:
      v8 = *(float *)(this + 28) + *(float *)(this + 16);
      *(float *)(this + 16) = v8;
      if ( v4 )
        *(float *)(this + 16) = v8 + *(float *)(this + 28);
      if ( *(float *)(this + 16) >= 1.0 || v3 )
      {
        *(float *)(this + 16) = 1.0;
        sub_407760((_DWORD *)this);
        *(_DWORD *)(this + 12) = 0;
        *(_DWORD *)(this + 16) = 0;
        *(_DWORD *)(this + 20) = 0;
        *(_DWORD *)(this + 24) = 0;
        *(_DWORD *)(this + 28) = 0;
        *(_DWORD *)(this + 32) = 0;
        *(_DWORD *)(this + 36) = 0;
        *(_DWORD *)(this + 40) = 0;
        sub_444470(*(float **)(this + 4), *(float *)(this + 16));
        return 2;
      }
      goto LABEL_29;
    case 1:
      v9 = *(float *)(this + 28) + *(float *)(this + 16);
      *(float *)(this + 16) = v9;
      if ( v4 )
        *(float *)(this + 16) = v9 + *(float *)(this + 28);
      if ( *(float *)(this + 16) <= 0.0 || v3 )
      {
        *(float *)(this + 16) = 0.0;
        sub_407760((_DWORD *)this);
        *(_DWORD *)(this + 12) = 0;
        *(_DWORD *)(this + 16) = 0;
        *(_DWORD *)(this + 20) = 0;
        *(_DWORD *)(this + 24) = 0;
        *(_DWORD *)(this + 28) = 0;
        *(_DWORD *)(this + 32) = 0;
        *(_DWORD *)(this + 36) = 0;
        *(_DWORD *)(this + 40) = 0;
        sub_444470(*(float **)(this + 4), *(float *)(this + 16));
        return 1;
      }
      goto LABEL_29;
    case 2:
    case 3:
      if ( sub_407900(this, v4, this, v7) || v3 )
      {
        sub_407760((_DWORD *)this);
        *(_DWORD *)(this + 12) = 0;
        *(_DWORD *)(this + 16) = 0;
        *(_DWORD *)(this + 20) = 0;
        *(_DWORD *)(this + 24) = 0;
        *(_DWORD *)(this + 28) = 0;
        *(_DWORD *)(this + 32) = 0;
        *(_DWORD *)(this + 36) = 0;
        *(_DWORD *)(this + 40) = 0;
      }
      return v2;
    case 5:
    case 4:
      if ( sub_408420(this, v3) || v3 )
      {
        sub_407760((_DWORD *)this);
        *(_DWORD *)(this + 12) = 0;
        *(_DWORD *)(this + 16) = 0;
        *(_DWORD *)(this + 20) = 0;
        *(_DWORD *)(this + 24) = 0;
        *(_DWORD *)(this + 28) = 0;
        *(_DWORD *)(this + 32) = 0;
        *(_DWORD *)(this + 36) = 0;
        *(_DWORD *)(this + 40) = 0;
        sub_444470(*(float **)(this + 4), 0.0);
        return 1;
      }
      return v2;
    case 6:
      v10 = *(float *)(this + 28) + *(float *)(this + 16);
      *(float *)(this + 16) = v10;
      if ( v4 )
        *(float *)(this + 16) = v10 + *(float *)(this + 28);
      if ( *(float *)(this + 16) >= 1.0 || v3 )
        *(_DWORD *)(this + 32) = 7;
LABEL_29:
      sub_444470(*(float **)(this + 4), *(float *)(this + 16));
      return 1;
  }
  if ( v5 != 7 )
    return v2;
  v11 = *(float *)(this + 16) - *(float *)(this + 28);
  *(float *)(this + 16) = v11;
  if ( v4 )
    *(float *)(this + 16) = v11 - *(float *)(this + 28);
  if ( *(float *)(this + 16) > 0.0 && !v3 )
    goto LABEL_29;
  *(float *)(this + 16) = 0.0;
  sub_407760((_DWORD *)this);
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 40) = 0;
  sub_444470(*(float **)(this + 4), *(float *)(this + 16));
  return 3;
}
// 4088B1: variable 'v7' is possibly undefined

//----- (004088F0) --------------------------------------------------------
void __thiscall sub_4088F0(float *this, int a2, int a3)
{
  float v3; // [esp+0h] [ebp-8h]
  float v4; // [esp+4h] [ebp-4h]

  v4 = (float)a3;
  v3 = (float)a2;
  sub_4443C0(this, v3, v4);
}

//----- (00408910) --------------------------------------------------------
void *__thiscall sub_408910(_DWORD *this)
{
  this[2] = 0;
  dword_4BF98C = 0;
  this[3] = 0;
  this[1] = 0;
  this[9668] = 0;
  dword_4BF964 = 0;
  dword_4BF968 = 0;
  dword_4BF96C = 0;
  dword_4BF970 = 0;
  dword_4BF974 = 0;
  dword_4BF978 = 0;
  dword_4BF97C = 0;
  dword_4BF980 = 0;
  dword_4BF984 = 0;
  dword_4BF988 = 0;
  memset(this + 4, 0, 0x4B80u);
  return memset(this + 4836, 0, 0x4B80u);
}
// 4BF964:  int dword_4BF964
// 4BF968:  int dword_4BF968
// 4BF96C:  int dword_4BF96C
// 4BF970:  int dword_4BF970
// 4BF974:  int dword_4BF974
// 4BF978:  int dword_4BF978
// 4BF97C:  int dword_4BF97C
// 4BF980:  int dword_4BF980
// 4BF984:  int dword_4BF984
// 4BF988:  int dword_4BF988

//----- (00408990) --------------------------------------------------------
int __thiscall sub_408990(_DWORD *this)
{
  int v2; // eax
  int v4; // ecx
  void *v5; // edi

  v2 = this[1];
  if ( v2 == 6 )
  {
    if ( !dword_4BF990 )
    {
      if ( *this )
        *this = 0;
    }
    return 0;
  }
  if ( v2 != 1 )
  {
    if ( sub_442B00(dword_4C087C, 10) )
      return -1;
    return 0;
  }
  sub_43D240((int)dword_4C08F4);
  v4 = this[3];
  if ( !v4 || !sub_459380(v4) )
    return 0;
  v5 = (void *)this[3];
  if ( v5 )
  {
    sub_4592E0((int *)this[3]);
    operator delete(v5);
    this[3] = 0;
  }
  *this = 0;
  return 0;
}
// 4BF990:  int dword_4BF990

//----- (00408A20) --------------------------------------------------------
void *__thiscall sub_408A20(_DWORD *this)
{
  void *result; // eax
  int v2; // ecx
  int v3; // edi
  int i; // esi

  result = (void *)this[1];
  if ( result == (void *)6 )
  {
    if ( dword_4BF98C )
      return sub_41ABE0((int)dword_4BF98C);
  }
  else if ( result == (void *)1 )
  {
    v2 = this[3];
    if ( v2 )
    {
      v3 = v2;
      for ( i = 0; i < 15; ++i )
        sub_40EF10(*(int **)(v3 + 4 * i));
      return sub_40EF10(*(int **)(v3 + 60));
    }
  }
  return result;
}

//----- (00408A50) --------------------------------------------------------
void sub_408A50()
{
  int v0; // edi
  int v1; // esi
  _DWORD *v2; // eax
  int v3; // edx
  int v4; // edx
  int *v5; // eax
  int v6; // eax
  int v7; // edx
  int v8; // ecx
  int v9; // ebx
  int v10; // ebp
  int v11; // eax
  int v12; // edx
  int v13; // esi
  int *v14; // eax
  int v15; // ecx
  int i; // esi
  int v17; // ecx
  int v18; // edx
  int *v19; // eax
  int v20; // [esp+0h] [ebp-4h]

  v0 = 0;
  dword_4BF99C = 0;
  dword_4BF998 = 0;
  dword_4BF9A0 = 0;
  v1 = dword_4BF320[sub_40CCD0(Buf, 7, 98)];
  v20 = v1;
  memset(dword_4BF320, 0, 0x640u);
  v2 = (char *)Buf + 17724;
  v3 = 80;
  do
  {
    if ( *(v2 - 1) )
      ++dword_4BF9A0;
    if ( *v2 )
      ++dword_4BF9A0;
    if ( v2[1] )
      ++dword_4BF9A0;
    if ( v2[2] )
      ++dword_4BF9A0;
    if ( v2[3] )
      ++dword_4BF9A0;
    v2 += 5;
    --v3;
  }
  while ( v3 );
  if ( dword_4B4398[0] != -1 )
  {
    v4 = dword_4BF99C;
    v5 = dword_4B4398;
    do
    {
      v5 += 2;
      ++v4;
    }
    while ( *v5 != -1 );
    dword_4BF99C = v4;
  }
  if ( sub_40CCD0(Buf, 100, 26) > 1 )
  {
    v9 = 0;
    dword_4BF320[sub_40CCD0(Buf, 7, 98)] = v1;
    do
    {
      if ( v9 == sub_40CCD0(Buf, 7, 98) && v1 )
      {
        v10 = dword_4BF99C;
        ++v9;
      }
      else
      {
        v11 = rand();
        v10 = dword_4BF99C;
        v12 = v11 % dword_4BF99C;
        v13 = 0;
        v14 = &dword_4BF324;
        v15 = dword_4B4398[2 * v12];
        do
        {
          if ( *(v14 - 1) == v15 )
            v13 = 1;
          if ( *v14 == v15 )
            v13 = 1;
          if ( v14[1] == v15 )
            v13 = 1;
          if ( v14[2] == v15 )
            v13 = 1;
          if ( v14[3] == v15 )
            v13 = 1;
          v14 += 5;
        }
        while ( (int)v14 < (int)&dword_4BF964 );
        if ( !v13 )
        {
          dword_4BF320[v9++] = v15;
          if ( v9 >= v10 )
            goto LABEL_61;
        }
        v1 = v20;
      }
      ++v0;
    }
    while ( v0 < 10000 );
    if ( v9 < v10 )
    {
      for ( i = 0; i < v10; ++i )
      {
        v17 = dword_4B4398[2 * i];
        v18 = 0;
        v19 = &dword_4BF324;
        do
        {
          if ( *(v19 - 1) == v17 )
            v18 = 1;
          if ( *v19 == v17 )
            v18 = 1;
          if ( v19[1] == v17 )
            v18 = 1;
          if ( v19[2] == v17 )
            v18 = 1;
          if ( v19[3] == v17 )
            v18 = 1;
          v19 += 5;
        }
        while ( (int)v19 < (int)&dword_4BF964 );
        if ( !v18 )
        {
          dword_4BF320[v9++] = v17;
          if ( v9 >= v10 )
            break;
        }
      }
    }
LABEL_61:
    dword_4BF998 = sub_40CCD0(Buf, 7, 98);
  }
  else
  {
    v6 = dword_4B4398[0];
    v7 = dword_4BF998;
    v8 = 0;
    if ( dword_4B4398[0] != -1 )
    {
      do
      {
        dword_4BF320[v8] = v6;
        if ( v6 == v1 )
          v7 = v8;
        v6 = dword_4B43A0[2 * v8++];
      }
      while ( v6 != -1 );
      dword_4BF998 = v7;
    }
    sub_40D2C0((int *)Buf, (unsigned __int8 *)7, 0x62u, v7);
  }
}
// 4B4398:  int dword_4B4398[]
// 4B43A0:  int dword_4B43A0[]
// 4BF320:  int dword_4BF320[]
// 4BF324:  int dword_4BF324
// 4BF964:  int dword_4BF964
// 4BF99C:  int dword_4BF99C
// 4BF9A0:  int dword_4BF9A0

//----- (00408CB0) --------------------------------------------------------
int __stdcall sub_408CB0(const char *a1)
{
  int v1; // ebp
  int v2; // esi
  int result; // eax
  const char *v4; // ebx
  char *v5; // edi
  int v6; // edx
  int v14; // [esp+8h] [ebp-4h]

  v1 = sub_40CCD0(Buf, 3, 5);
  v2 = sub_40CCD0(Buf, 3, 84);
  v14 = sub_40CCD0(Buf, 3, 80);
  result = sub_40CCD0(Buf, 3, 86);
  switch ( v1 )
  {
    case 0:
      v4 = a1;
      *(_DWORD *)&a1[strlen(a1)] = 6253928;
      goto LABEL_28;
    case 1:
      v4 = a1;
      *(_DWORD *)&a1[strlen(a1)] = 6251624;
      goto LABEL_28;
    case 2:
      v4 = a1;
      v5 = (char *)&a1[strlen(a1)];
      v6 = 6254441;
      goto LABEL_27;
    case 3:
      v4 = a1;
      *(_DWORD *)&a1[strlen(a1)] = 6251886;
      goto LABEL_28;
    case 4:
      v4 = a1;
      *(_DWORD *)&a1[strlen(a1)] = 6253921;
      goto LABEL_28;
    case 5:
      v4 = a1;
      v5 = (char *)(a1 - 1);
      v1 = v2 + 5;
      switch ( v2 )
      {
        case 0:
          while ( *++v5 )
            ;
          v6 = 6253945;
LABEL_27:
          *(_DWORD *)v5 = v6;
          break;
        case 1:
          while ( *++v5 )
            ;
          *(_DWORD *)v5 = 6251885;
          break;
        case 2:
          while ( *++v5 )
            ;
          *(_DWORD *)v5 = 6254187;
          break;
        case 3:
          while ( *++v5 )
            ;
          v6 = 6252897;
          goto LABEL_27;
        case 4:
          while ( *++v5 )
            ;
          *(_DWORD *)v5 = 6252643;
          break;
        case 5:
          while ( *++v5 )
            ;
          *(_DWORD *)v5 = 6254181;
          break;
        default:
          while ( *++v5 )
            ;
          v6 = 6250868;
          goto LABEL_27;
      }
LABEL_28:
      LOWORD(a1) = (unsigned __int8)byte_4B4514[48 * v1 + v14];
      result = strlen((const char *)&a1) + 1;
      qmemcpy((void *)&v4[strlen(v4)], &a1, result);
      return result;
    default:
      return result;
  }
}

//----- (00408EC0) --------------------------------------------------------
void __thiscall sub_408EC0(void *this)
{
  int v1; // ebx
  int v2; // edi
  int v3; // esi
  int v4; // ebp
  char *v5; // eax
  int v6; // ecx
  int v7; // esi
  __int16 *v8; // edi
  char v9; // al
  __int16 v10; // dx
  char *v11; // edi
  char v13; // al
  char *v14; // edi
  char *v16; // edi
  char *v18; // edi
  char *v20; // edi
  int v22; // esi
  char *v23; // edi
  unsigned int v25; // eax
  char *v26; // edi
  char *v28; // eax
  int *v30; // eax
  float **v31; // eax
  float **v32; // eax
  float **v33; // eax
  float **v34; // eax
  float **v35; // eax
  float v36; // [esp+18h] [ebp-15Ch] BYREF
  int v37[2]; // [esp+1Ch] [ebp-158h] BYREF
  int Value[15]; // [esp+24h] [ebp-150h] BYREF
  char Buffer[11]; // [esp+60h] [ebp-114h] BYREF
  char v40; // [esp+6Bh] [ebp-109h] BYREF
  char Str[260]; // [esp+6Ch] [ebp-108h] BYREF

  v37[1] = (int)this;
  v1 = sub_40CCD0(Buf, 3, 5);
  v2 = sub_40CCD0(Buf, 3, 84);
  v3 = sub_40CCD0(Buf, 3, 81);
  v4 = sub_40CCD0(Buf, 3, 82);
  v36 = COERCE_FLOAT(sub_40CCD0(Buf, 3, 83));
  v37[0] = sub_40CCD0(Buf, 3, 85);
  if ( v1 >= 5 )
    v1 += v2;
  strcpy(Str, "bst\\");
  sub_408CB0(Str);
  v5 = strstr(Str, "hm_y");
  v6 = 1;
  if ( !v5 )
    v6 = v37[0];
  if ( v3 )
  {
    if ( v3 != 1 )
      goto LABEL_11;
  }
  else
  {
    if ( dword_4B4504[12 * v1] )
      goto LABEL_11;
    v3 = 1;
  }
  if ( !dword_4B4508[12 * v1] )
    v3 = 2;
LABEL_11:
  if ( !v3 )
  {
    v8 = (__int16 *)&v40;
    do
    {
      v13 = *((_BYTE *)v8 + 1);
      v8 = (__int16 *)((char *)v8 + 1);
    }
    while ( v13 );
    v10 = 49;
LABEL_23:
    *v8 = v10;
    goto LABEL_24;
  }
  v7 = v3 - 1;
  if ( v7 )
  {
    if ( v7 != 1 )
      return;
    v8 = (__int16 *)&v40;
    do
    {
      v9 = *((_BYTE *)v8 + 1);
      v8 = (__int16 *)((char *)v8 + 1);
    }
    while ( v9 );
    v10 = 51;
    goto LABEL_23;
  }
  v11 = &v40;
  while ( *++v11 )
    ;
  *(_WORD *)v11 = 50;
LABEL_24:
  v14 = &v40;
  while ( *++v14 )
    ;
  *(_WORD *)v14 = 95;
  if ( v4 )
  {
    if ( v4 != 1 )
      return;
    v16 = &v40;
    while ( *++v16 )
      ;
    *(_WORD *)v16 = 98;
  }
  else
  {
    v18 = &v40;
    while ( *++v18 )
      ;
    *(_WORD *)v18 = 97;
  }
  if ( v6 )
  {
    v20 = &v40;
    while ( *++v20 )
      ;
    *(_WORD *)v20 = 110;
  }
  if ( v1 == 9 )
  {
    Value[0] = 1;
    Value[1] = 2;
    Value[2] = 3;
    Value[3] = 5;
    Value[4] = 6;
    Value[5] = 7;
    Value[6] = 9;
    Value[7] = 11;
    Value[8] = 12;
    Value[9] = 13;
    Value[10] = 14;
    Value[11] = 15;
    memset(&Value[12], 0, 12);
    v22 = Value[LODWORD(v36)];
  }
  else
  {
    v22 = LODWORD(v36) + 1;
  }
  _itoa(v22, Buffer, 10);
  if ( v22 < 10 )
  {
    v23 = &v40;
    while ( *++v23 )
      ;
    *(_WORD *)v23 = 48;
  }
  v25 = strlen(Buffer) + 1;
  v26 = &v40;
  while ( *++v26 )
    ;
  qmemcpy(v26, Buffer, v25);
  v28 = &v40;
  while ( *++v28 )
    ;
  strcpy(v28, ",bst\\");
  sub_408CB0(Str);
  v30 = (int *)sub_4226B0(dword_4C08E0, 149);
  sub_445230(*v30);
  sub_423090((char **)dword_4C08E0, Str, 4, 149, 0);
  v31 = (float **)sub_4226B0(dword_4C08E0, 149);
  sub_444260(*v31, 400.0, -171.0);
  if ( strstr(Str, dword_48B79C) )
  {
    if ( strstr(Str, "1_a") || strstr(Str, "1_b") )
    {
      v32 = (float **)sub_4226B0(dword_4C08E0, 149);
      sub_444260(*v32, 428.0, -171.0);
    }
    if ( strstr(Str, "io_e") )
    {
      v33 = (float **)sub_4226B0(dword_4C08E0, 149);
      sub_4442C0(*v33, &v36, (float *)v37);
      v36 = v36 - 238.0;
      v34 = (float **)sub_4226B0(dword_4C08E0, 149);
      sub_444260(*v34, v36, *(float *)v37);
    }
  }
  v35 = (float **)sub_4226B0(dword_4C08E0, 149);
  sub_4443C0(*v35, 51.0, 51.0);
}
// 48B7E0:  __int16 word_48B7E0
// 48B7E4:  __int16 word_48B7E4
// 48B7E8:  __int16 word_48B7E8
// 4B4504:  int dword_4B4504[]
// 4B4508:  int dword_4B4508[]

//----- (00409320) --------------------------------------------------------
void __stdcall sub_409320(int a1)
{
  int v1; // esi
  int v2; // ebx
  int v3; // edi
  int v4; // eax
  int v5; // esi
  int v6; // eax

  v1 = sub_40CCD0(Buf, 3, 5);
  v2 = sub_40CCD0(Buf, 3, 84);
  v3 = sub_40CCD0(Buf, 3, 81);
  sub_40CCD0(Buf, 3, 80);
  sub_40CCD0(Buf, 3, 82);
  sub_40CCD0(Buf, 3, 85);
  sub_40CCD0(Buf, 3, 86);
  if ( v1 == 5 )
    v1 = v2 + 5;
  switch ( a1 )
  {
    case 0:
      if ( dword_4B44F0[12 * v1] <= sub_40CCD0(Buf, 3, 0) )
        goto LABEL_29;
      return;
    case 1:
      if ( dword_4B44F4[12 * v1] <= sub_40CCD0(Buf, 3, 0) )
        goto LABEL_29;
      return;
    case 2:
      v4 = 12 * v1;
      v5 = dword_4B4504[12 * v1];
      if ( v3 == 1 )
      {
        v5 = dword_4B4508[v4];
      }
      else if ( v3 == 2 )
      {
        v5 = dword_4B450C[v4];
      }
      if ( !v5 )
      {
        if ( v3 )
        {
          if ( v3 == 1 )
            v5 = dword_4B450C[v4];
        }
        else
        {
          v5 = dword_4B4508[v4];
        }
      }
      goto LABEL_17;
    case 3:
      v6 = 12 * v1;
      v5 = dword_4B44F8[12 * v1];
      if ( v3 == 1 )
      {
        v5 = dword_4B44FC[v6];
      }
      else if ( v3 == 2 )
      {
        v5 = dword_4B4500[v6];
      }
      if ( !v5 )
      {
        if ( v3 )
        {
          if ( v3 == 1 )
            v5 = dword_4B4500[v6];
        }
        else
        {
          v5 = dword_4B44FC[v6];
        }
      }
LABEL_17:
      if ( v5 <= sub_40CCD0(Buf, 3, 0) )
        goto LABEL_29;
      return;
    case 4:
      if ( !dword_4B4510[12 * v1] )
        goto LABEL_29;
      return;
    case 5:
LABEL_29:
      sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, 99);
      break;
    default:
      return;
  }
}
// 4B44F0:  int dword_4B44F0[]
// 4B44F4:  int dword_4B44F4[]
// 4B44F8:  int dword_4B44F8[]
// 4B44FC:  int dword_4B44FC[]
// 4B4500:  int dword_4B4500[]
// 4B4504:  int dword_4B4504[]
// 4B4508:  int dword_4B4508[]
// 4B450C:  int dword_4B450C[]
// 4B4510:  int dword_4B4510[]

//----- (004094D0) --------------------------------------------------------
BOOL __thiscall sub_4094D0(_DWORD *this)
{
  BOOL result; // eax

  if ( this[1] == 6 )
  {
    if ( dword_4BF98C )
      return sub_41ADF0((int)dword_4BF98C);
  }
  return result;
}

//----- (004094F0) --------------------------------------------------------
char __stdcall sub_4094F0(char *String2, int a2)
{
  const char **v2; // eax
  int v3; // esi
  _BYTE *v4; // ecx
  _BYTE *v5; // edx

  *(_DWORD *)a2 = 1132682883;
  *(_DWORD *)(a2 + 4) = -1954322557;
  *(_DWORD *)(a2 + 8) = -930956138;
  LOBYTE(v2) = -126;
  *(_WORD *)(a2 + 12) = -19070;
  v3 = 0;
  *(_BYTE *)(a2 + 14) = 0;
  if ( off_4B34E8 )
  {
    v2 = (const char **)&off_4B34E8;
    while ( _stricmp(*v2, String2) )
    {
      ++v3;
      v2 = (const char **)(8 * v3 + 4928744);
      if ( !(&off_4B34E8)[2 * v3] )
        return (char)v2;
    }
    v4 = *(&off_4B34EC + 2 * v3);
    v5 = (_BYTE *)a2;
    do
    {
      LOBYTE(v2) = *v4;
      *v5++ = *v4++;
    }
    while ( (_BYTE)v2 );
  }
  return (char)v2;
}
// 4B34E8:  char *off_4B34E8
// 4B34EC:  void *off_4B34EC

//----- (00409580) --------------------------------------------------------
bool __thiscall sub_409580(_DWORD *this, _DWORD *a2)
{
  if ( !*this || *this != *a2 )
    _invalid_parameter_noinfo();
  return this[1] != a2[1];
}

//----- (004095B0) --------------------------------------------------------
_DWORD *__thiscall sub_4095B0(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 21) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (00409600) --------------------------------------------------------
_DWORD *__thiscall sub_409600(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 33) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (00409650) --------------------------------------------------------
int __cdecl sub_409650(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 33); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (00409670) --------------------------------------------------------
_DWORD *__cdecl sub_409670(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 33) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 33) );
  }
  return result;
}

//----- (00409690) --------------------------------------------------------
int __thiscall sub_409690(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 33) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (004096F0) --------------------------------------------------------
int __cdecl sub_4096F0(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 21); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (00409710) --------------------------------------------------------
void __thiscall sub_409710(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 33) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 33) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 33); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 33); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (00409780) --------------------------------------------------------
void __thiscall sub_409780(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 21) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 21) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 21); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 21); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (004097F0) --------------------------------------------------------
void __cdecl __noreturn StartAddress()
{
  HWND *v0; // ecx
  void *v1; // esi
  _DWORD *v2; // eax
  _DWORD *v3; // esi
  HWND *v4; // esi
  struct tagMSG Msg; // [esp+18h] [ebp-28h] BYREF
  int v6; // [esp+3Ch] [ebp-4h]

  while ( 1 )
  {
    Sleep(0xAu);
    v0 = (HWND *)dword_4BF98C;
    if ( !dword_4BF990 )
      break;
    if ( dword_4AE4AC )
    {
      if ( dword_4AE4AC != 1 )
        goto LABEL_17;
      if ( sub_41B9B0((int)dword_4BF98C) )
        dword_4AE4AC = 2;
      while ( PeekMessageA(&Msg, 0, 0, 0, 1u) )
      {
        TranslateMessage(&Msg);
        DispatchMessageA(&Msg);
      }
      if ( dword_4AE4AC == -1 )
        goto LABEL_20;
    }
    else
    {
      if ( dword_4BF98C )
      {
        v1 = dword_4BF98C;
        sub_41BCC0((HWND *)dword_4BF98C);
        operator delete(v1);
        dword_4BF98C = 0;
      }
      v2 = operator new(0x230u);
      v3 = v2;
      v6 = 0;
      if ( v2 )
      {
        sub_41B520((int)v2);
        v3[139] = 0;
      }
      else
      {
        v3 = 0;
      }
      v6 = -1;
      dword_4BF98C = v3;
      dword_4AE4AC = 1;
    }
  }
  sub_41BCC0((HWND *)dword_4BF98C);
  v0 = (HWND *)dword_4BF98C;
LABEL_17:
  if ( v0 )
  {
    v4 = v0;
    sub_41BCC0(v0);
    operator delete(v4);
    dword_4BF98C = 0;
  }
  dword_4AE4AC = -1;
LABEL_20:
  *((_DWORD *)dword_4C0874 + 74) = 0;
  dword_4BF990 = 0;
  *((_DWORD *)dword_4C0874 + 75) = -1;
  sub_40F4D0(hWnd);
  _endthread();
}
// 4AE4AC:  int dword_4AE4AC
// 4BF990:  int dword_4BF990

//----- (00409980) --------------------------------------------------------
void sub_409980()
{
  if ( !dword_4BF990 )
  {
    *((_DWORD *)dword_4C0874 + 75) = 1;
    dword_4AE4AC = 0;
    dword_4BF960 = (int)CreateEventA(0, 0, 0, 0);
    _beginthread((_beginthread_proc_type)StartAddress, 0, 0);
    *((_DWORD *)dword_4C0874 + 74) = 1;
    dword_4BF990 = 1;
  }
}
// 4AE4AC:  int dword_4AE4AC
// 4BF960:  int dword_4BF960
// 4BF990:  int dword_4BF990

//----- (004099F0) --------------------------------------------------------
_DWORD *sub_4099F0()
{
  _DWORD *result; // eax

  result = operator new(0x18u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 20) = 1;
  *((_BYTE *)result + 21) = 0;
  return result;
}

//----- (00409A30) --------------------------------------------------------
_DWORD *sub_409A30()
{
  _DWORD *result; // eax

  result = operator new(0x24u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 32) = 1;
  *((_BYTE *)result + 33) = 0;
  return result;
}

//----- (00409A70) --------------------------------------------------------
void __stdcall sub_409A70(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 33); v1 = i )
  {
    sub_409A70(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (00409AB0) --------------------------------------------------------
void __stdcall sub_409AB0(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 21); v1 = i )
  {
    sub_409AB0(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (00409AF0) --------------------------------------------------------
int __thiscall sub_409AF0(int this)
{
  *(_DWORD *)(this + 24) = 15;
  *(_DWORD *)(this + 20) = 0;
  *(_BYTE *)(this + 4) = 0;
  *(_DWORD *)(this + 52) = 15;
  *(_DWORD *)(this + 48) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 80) = 15;
  *(_DWORD *)(this + 76) = 0;
  *(_BYTE *)(this + 60) = 0;
  sub_4553D0((unsigned int *)this);
  return this;
}

//----- (00409B60) --------------------------------------------------------
void __thiscall sub_409B60(int this)
{
  nullsub_1(this);
  if ( *(_DWORD *)(this + 80) >= 0x10u )
    operator delete(*(void **)(this + 60));
  *(_DWORD *)(this + 80) = 15;
  *(_DWORD *)(this + 76) = 0;
  *(_BYTE *)(this + 60) = 0;
  if ( *(_DWORD *)(this + 52) >= 0x10u )
    operator delete(*(void **)(this + 32));
  *(_DWORD *)(this + 52) = 15;
  *(_DWORD *)(this + 48) = 0;
  *(_BYTE *)(this + 32) = 0;
  if ( *(_DWORD *)(this + 24) >= 0x10u )
    operator delete(*(void **)(this + 4));
  *(_DWORD *)(this + 24) = 15;
  *(_DWORD *)(this + 20) = 0;
  *(_BYTE *)(this + 4) = 0;
}
// 453AF0:  int __thiscall nullsub_1(_DWORD)

//----- (00409C10) --------------------------------------------------------
void sub_409C10()
{
  void *v0; // eax
  _DWORD *v1; // esi
  char *v2; // eax
  int v3; // edx
  struct _SYSTEMTIME SystemTime; // [esp+Ch] [ebp-834h] BYREF
  void *v5; // [esp+1Ch] [ebp-824h]
  BYTE Data[260]; // [esp+20h] [ebp-820h] BYREF
  BYTE v7[260]; // [esp+124h] [ebp-71Ch] BYREF
  BYTE v8[260]; // [esp+228h] [ebp-618h] BYREF
  char Buffer[260]; // [esp+32Ch] [ebp-514h] BYREF
  BYTE pbData[512]; // [esp+430h] [ebp-410h] BYREF
  char v11[512]; // [esp+630h] [ebp-210h] BYREF
  int v12; // [esp+83Ch] [ebp-4h]

  sub_44CDF0("CLEARNAME", Data);
  sub_44CDF0("CLEARNAME", v8);
  sub_44CDF0("CLEARMAIL", v7);
  if ( v8[0] && v7[0] && Data[0] && MessageBoxA(0, &Text, WindowName, 0x24u) == 6 )
  {
    v0 = operator new(0x54u);
    v5 = v0;
    v12 = 0;
    if ( v0 )
      v1 = (_DWORD *)sub_409AF0((int)v0);
    else
      v1 = 0;
    v12 = -1;
    v2 = (char *)sub_453B00();
    sub_455BB0(v1, v2, 0);
    sub_455B40(v1, "name", (char *)v8);
    sub_455B40(v1, "email", (char *)v7);
    GetLocalTime(&SystemTime);
    sprintf(
      Buffer,
      "%04d-%02d-%02dT%02d:%02d:%02d",
      SystemTime.wYear,
      SystemTime.wMonth,
      SystemTime.wDay,
      SystemTime.wHour,
      SystemTime.wMinute,
      SystemTime.wSecond);
    sub_455B40(v1, "datetime", Buffer);
    sprintf(
      (char *const)pbData,
      "#%s#%s#%s#XHxLKKURaMxUP7yvbHpWX8gqy1xhBq#",
      (const char *)v8,
      (const char *)v7,
      Buffer);
    sub_453F00(v11, pbData);
    sub_455B40(v1, "hash", v11);
    if ( sub_456F60(v1, v3) )
    {
      strcpy((char *)Data, "true");
      sub_44CF80("CLEARNAME", Data);
    }
    else
    {
      MessageBoxA(0, &byte_48B82C, WindowName, 0x42000u);
    }
    if ( v1 )
    {
      sub_409B60((int)v1);
      operator delete(v1);
    }
  }
}
// 409DF4: variable 'v3' is possibly undefined
// 409C10:  char var_210[512]

//----- (00409E90) --------------------------------------------------------
int __userpurge sub_409E90@<eax>(char *a1@<ecx>, int a2@<ebx>, int a3, int a4)
{
  char *v4; // ebp
  struct tm *v5; // eax
  int v6; // ebx
  int v7; // edi
  int i; // esi
  bool v9; // zf
  void *v10; // eax
  void *v11; // esi
  int v12; // edi
  int *v13; // ecx
  unsigned int v14; // edx
  _DWORD *v15; // eax
  _DWORD *v16; // eax
  int v17; // eax
  int j; // esi
  int *v19; // esi
  int v20; // edi
  int *v21; // ecx
  int v22; // edx
  _DWORD *v23; // eax
  int v24; // esi
  int v25; // eax
  int v26; // eax
  int v27; // eax
  int v28; // eax
  unsigned __int8 *v29; // eax
  int v30; // eax
  int v31; // esi
  int v32; // eax
  int v33; // ecx
  unsigned __int8 *v34; // eax
  int v35; // eax
  int k; // eax
  int m; // eax
  int v38; // eax
  int v39; // eax
  int n; // esi
  int v41; // edx
  int v42; // eax
  int ii; // esi
  int jj; // esi
  int v46; // [esp+0h] [ebp-57118h]
  int v47; // [esp+4h] [ebp-57114h]
  __time64_t Time; // [esp+18h] [ebp-57100h] BYREF
  char v50[356324]; // [esp+20h] [ebp-570F8h] BYREF
  char Buffer[260]; // [esp+57004h] [ebp-114h] BYREF
  int v52; // [esp+57114h] [ebp-4h]

  v4 = a1;
  switch ( a3 )
  {
    case 1:
      Time = _time64(0);
      v5 = _localtime64(&Time);
      sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, v5->tm_hour);
      return *(_DWORD *)v4;
    case 2:
      v6 = 0;
      v7 = sub_40CCD0(Buf, 5, 0);
      for ( i = 1; i <= 3; ++i )
      {
        if ( sub_40CCD0(Buf, 5, i) > v7 )
        {
          v6 = i;
          v7 = sub_40CCD0(Buf, 5, i);
        }
      }
      sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, v6);
      return *(_DWORD *)v4;
    case 6:
      *((_DWORD *)a1 + 1) = (a4 != 0) + 3;
      *((_DWORD *)Buf + 272075) = 1;
      return *(_DWORD *)v4;
    case 7:
      if ( a4 )
        *(_DWORD *)a1 = 1;
      return *(_DWORD *)v4;
    case 9:
      v9 = *((_DWORD *)a1 + 3) == 0;
      *(_DWORD *)a1 = 1;
      *((_DWORD *)a1 + 1) = 1;
      if ( v9 )
      {
        v10 = operator new(0x2B4u);
        v11 = v10;
        v52 = 0;
        if ( v10 )
          sub_459120((int)v10);
        else
          v11 = 0;
        v52 = -1;
        *((_DWORD *)v4 + 3) = v11;
      }
      sub_459850(*((_DWORD *)v4 + 3), a4);
      return *(_DWORD *)v4;
    case 18:
      if ( a4 )
      {
        if ( a4 == 1 )
        {
          sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, 1);
          v12 = sub_40CCD0(Buf, 100, 54);
          sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x36u, (unsigned __int8)v4[19614]);
          v13 = (int *)Buf;
          v14 = 19328;
          v15 = Buf;
          while ( *(_DWORD *)((char *)v15 + v4 - (_BYTE *)Buf + 19344) == *v15 )
          {
            v14 -= 4;
            ++v15;
            if ( v14 < 4 )
            {
              sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, 0);
              v13 = (int *)Buf;
              break;
            }
          }
          sub_40D2C0(v13, (unsigned __int8 *)0x64, 0x36u, v12);
          v4 = a1;
          *((_DWORD *)Buf + 272085) = 0;
        }
        else
        {
          v16 = Buf;
          if ( *((_DWORD *)Buf + 272085) )
          {
            memcpy(Buf, a1 + 19344, 0x4B80u);
            v16 = Buf;
          }
          v16[272085] = 0;
        }
      }
      else
      {
        memcpy(a1 + 19344, Buf, 0x4B80u);
        *((_DWORD *)Buf + 272085) = 1;
      }
      return *(_DWORD *)v4;
    case 19:
      memset(v50, 0, sizeof(v50));
      v17 = sub_40CCD0(Buf, 99, 254);
      if ( sub_40C6A0(v17, v50) == -1 )
        sub_40D2C0((int *)Buf, (unsigned __int8 *)9, 0x57u, 1);
      else
        sub_40D2C0((int *)Buf, (unsigned __int8 *)9, 0x57u, 0);
      return *(_DWORD *)v4;
    case 20:
      if ( a4 )
      {
        v19 = dword_4BF964;
        do
        {
          if ( *v19 )
            sub_44BF60(*((int **)dword_4C0874 + 63), *v19);
          ++v19;
        }
        while ( (int)v19 < (int)&dword_4BF98C );
        dword_4BF964[0] = 0;
        dword_4BF968 = 0;
        dword_4BF96C = 0;
        dword_4BF970 = 0;
        dword_4BF974 = 0;
        dword_4BF978 = 0;
        dword_4BF97C = 0;
        dword_4BF980 = 0;
        dword_4BF984 = 0;
        dword_4BF988 = 0;
      }
      else
      {
        dword_4BF964[0] = 0;
        dword_4BF968 = 0;
        dword_4BF96C = 0;
        dword_4BF970 = 0;
        dword_4BF974 = 0;
        dword_4BF978 = 0;
        dword_4BF97C = 0;
        dword_4BF980 = 0;
        dword_4BF984 = 0;
        dword_4BF988 = 0;
        for ( j = 0; j < 10; ++j )
        {
          if ( dword_4BF964[j] )
            sub_44BF60(*((int **)dword_4C0874 + 63), dword_4BF964[j]);
          sprintf(Buffer, "%s\\%s%02d.png", Path, "DC4", j + 10 * *((_DWORD *)Buf + 272076) + 3);
          dword_4BF964[j] = sub_44CB90(*((char **)dword_4C0874 + 63), Buffer, 0, 0);
        }
      }
      return *(_DWORD *)v4;
    case 51:
      if ( a4 == 1 )
      {
        *((_DWORD *)Buf + 66516) = 1;
        v20 = 0;
        if ( !strncmp((const char *)Buf + 265288, dword_48B910, 4u) )
          v20 = (_BYTE *)Buf + strlen((const char *)Buf + 265288) + 265289 - ((_BYTE *)Buf + 265289) == 4;
        if ( !strncmp((const char *)Buf + 265268, dword_48B908, 4u)
          && (_BYTE *)Buf + strlen((const char *)Buf + 265268) + 265269 - ((_BYTE *)Buf + 265269) == 4 )
        {
          ++v20;
        }
        if ( v20 == 2 )
          *((_DWORD *)Buf + 66516) = 0;
      }
      else
      {
        *(_DWORD *)a1 = 1;
        *((_DWORD *)a1 + 1) = 6;
        sub_409980();
      }
      return *(_DWORD *)v4;
    case 98:
      memcpy(a1 + 16, Buf, 0x4B80u);
      sub_40EA40((char *)Buf, 0);
      *((_DWORD *)Buf + 15) = *((_DWORD *)v4 + 19);
      sub_442D90(dword_4C087C, (void *)1);
      *((_DWORD *)Buf + 25) = 0;
      *((_DWORD *)v4 + 9668) = 1;
      return *(_DWORD *)v4;
    case 99:
      memcpy(Buf, a1 + 16, 0x4B80u);
      *((_DWORD *)v4 + 9668) = 0;
      return *(_DWORD *)v4;
    case 105:
      sub_409C10();
      return *(_DWORD *)v4;
    case 200:
      v21 = (int *)Buf;
      v22 = 0;
      v23 = (char *)Buf + 17724;
      v24 = 80;
      do
      {
        if ( *(v23 - 1) )
          ++v22;
        if ( *v23 )
          ++v22;
        if ( v23[1] )
          ++v22;
        if ( v23[2] )
          ++v22;
        if ( v23[3] )
          ++v22;
        v23 += 5;
        --v24;
      }
      while ( v24 );
      if ( a4 == 6 )
      {
        sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, v22);
        return *(_DWORD *)v4;
      }
      if ( !v22 )
      {
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x15u, 0);
        v21 = (int *)Buf;
      }
      switch ( a4 )
      {
        case 0:
          sub_408A50();
          if ( sub_40CCD0(Buf, 100, 21) )
          {
            v25 = dword_4BF998;
            if ( dword_4BF998 >= dword_4BF99C )
            {
              sub_408A50();
              v25 = 0;
              dword_4BF998 = 0;
            }
            if ( dword_4BF9A0 )
            {
              v9 = sub_40CCD0(Buf, 100, 21) == 0;
              v25 = dword_4BF998;
              if ( !v9 && !*((_DWORD *)Buf + dword_4BF320[dword_4BF998] + 4430) )
              {
                do
                {
                  dword_4BF998 = ++v25;
                  if ( v25 >= dword_4BF99C )
                  {
                    sub_408A50();
                    v25 = 0;
                    dword_4BF998 = 0;
                  }
                }
                while ( !*((_DWORD *)Buf + dword_4BF320[v25] + 4430) );
              }
            }
            sub_40D2C0((int *)Buf, (unsigned __int8 *)7, 0x62u, v25);
            sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xFEu, dword_4BF998);
          }
          return *(_DWORD *)v4;
        case 1:
        case 99:
          dword_4BF998 = sub_40CCD0(v21, 7, 98);
          if ( dword_4BF998 >= dword_4BF99C )
          {
            dword_4BF998 = 0;
            sub_40D2C0((int *)Buf, (unsigned __int8 *)7, 0x62u, 0);
          }
          sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0xBu, 0);
          v32 = dword_4B4398[0];
          v33 = 0;
          if ( dword_4B4398[0] != -1 )
          {
            while ( v32 != dword_4BF320[dword_4BF998] )
            {
              v32 = dword_4B43A0[2 * v33++];
              if ( v32 == -1 )
                goto LABEL_121;
            }
            sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xFEu, v33);
          }
LABEL_121:
          if ( a4 == 99 )
          {
            v35 = sub_40CCD0(Buf, 99, 187);
            sub_43BA50(dword_4C08F4, a2, 0, v35, 0, v46, v47);
          }
          else
          {
            sub_43CE50(dword_4C08F4, 0);
            v34 = (unsigned __int8 *)sub_40C9D0(Buf, dword_4BF320[dword_4BF998], 0);
            sub_43D070((DWORD *)dword_4C08F4, v34, 0, 0);
          }
          break;
        case 2:
          v26 = ++dword_4BF998;
          if ( dword_4BF998 >= dword_4BF99C )
          {
            sub_408A50();
            v21 = (int *)Buf;
            v26 = 0;
            dword_4BF998 = 0;
          }
          if ( dword_4BF9A0 )
          {
            v27 = sub_40CCD0(v21, 100, 21);
            v21 = (int *)Buf;
            v9 = v27 == 0;
            v26 = dword_4BF998;
            if ( !v9 && !*((_DWORD *)Buf + dword_4BF320[dword_4BF998] + 4430) )
            {
              do
              {
                dword_4BF998 = ++v26;
                if ( v26 >= dword_4BF99C )
                {
                  sub_408A50();
                  v21 = (int *)Buf;
                  v26 = 0;
                  dword_4BF998 = 0;
                }
              }
              while ( !v21[dword_4BF320[v26] + 4430] );
            }
          }
LABEL_92:
          sub_40D2C0(v21, (unsigned __int8 *)7, 0x62u, v26);
          return *(_DWORD *)v4;
        case 3:
          v26 = --dword_4BF998;
          if ( dword_4BF998 < 0 )
          {
            sub_408A50();
            v21 = (int *)Buf;
            v26 = dword_4BF99C - 1;
            dword_4BF998 = dword_4BF99C - 1;
          }
          if ( dword_4BF9A0 )
          {
            v28 = sub_40CCD0(v21, 100, 21);
            v21 = (int *)Buf;
            v9 = v28 == 0;
            v26 = dword_4BF998;
            if ( !v9 && !*((_DWORD *)Buf + dword_4BF320[dword_4BF998] + 4430) )
            {
              do
              {
                dword_4BF998 = --v26;
                if ( v26 < 0 )
                {
                  sub_408A50();
                  v21 = (int *)Buf;
                  v26 = dword_4BF99C - 1;
                  dword_4BF998 = dword_4BF99C - 1;
                }
              }
              while ( !v21[dword_4BF320[v26] + 4430] );
            }
          }
          goto LABEL_92;
        case 5:
          dword_4BF998 = sub_40CCD0(v21, 7, 98);
          if ( dword_4BF998 >= dword_4BF99C )
          {
            dword_4BF998 = 0;
            sub_40D2C0((int *)Buf, (unsigned __int8 *)7, 0x62u, 0);
          }
          sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0xBu, 0);
          if ( sub_40CCD0(Buf, 100, 21) )
            *((_DWORD *)Buf + dword_4B4398[2 * dword_4BF998] + 4430) = 1;
          sub_43CE50(dword_4C08F4, 0);
          sub_43B0F0(dword_4C08F4, 1);
          v29 = (unsigned __int8 *)sub_40C9D0(Buf, dword_4B4398[2 * dword_4BF998], 0);
          sub_43D070((DWORD *)dword_4C08F4, v29, 0, 0);
          if ( sub_40CCD0(Buf, 100, 26) == 2 )
          {
            v30 = dword_4BF320[0];
            v31 = 0;
            if ( dword_4BF320[0] )
            {
              while ( dword_4B4398[2 * dword_4BF998] != v30 )
              {
                v30 = dword_4BF324[v31++];
                if ( !v30 )
                  return *(_DWORD *)v4;
              }
              sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xFEu, dword_4BF998);
              sub_40D2C0((int *)Buf, (unsigned __int8 *)7, 0x62u, v31);
              dword_4BF998 = v31;
            }
          }
          break;
      }
      return *(_DWORD *)v4;
    case 201:
      if ( a4 == 255 )
      {
        for ( k = 17720; k < 19320; k += 4 )
          *(_DWORD *)((char *)Buf + k) = 1;
      }
      else if ( a4 == 254 )
      {
        for ( m = 17720; m < 19320; m += 4 )
          *(_DWORD *)((char *)Buf + m) = 0;
      }
      else
      {
        v38 = sub_40CCD0(Buf, 99, 246);
        *((_DWORD *)Buf + dword_4B4398[2 * a4 + 2 * v38] + 4430) = *((_DWORD *)Buf
                                                                   + dword_4B4398[2 * a4 + 2 * v38]
                                                                   + 4430) == 0;
      }
      return *(_DWORD *)v4;
    case 202:
      v39 = sub_40CCD0(Buf, 99, 246);
      sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0, *((_DWORD *)Buf + dword_4B4398[2 * a4 + 2 * v39] + 4430));
      return *(_DWORD *)v4;
    case 203:
      sub_408EC0(a1);
      return *(_DWORD *)v4;
    case 204:
      sub_409320(a4);
      return *(_DWORD *)v4;
    case 206:
      if ( *((unsigned __int8 *)Buf + 318)
         + *((unsigned __int8 *)Buf + 319)
         + *((unsigned __int8 *)Buf + 320)
         + *((unsigned __int8 *)Buf + 321)
         + *((unsigned __int8 *)Buf + 322) )
      {
        for ( n = 0; n < 10000; ++n )
        {
          v41 = rand() % 5;
          if ( *((_BYTE *)Buf + v41 + 318) )
          {
            sub_40D2C0((int *)Buf, (unsigned __int8 *)5, 0, v41);
            return *(_DWORD *)v4;
          }
        }
        v42 = 0;
        while ( !*((_BYTE *)Buf + v42 + 318) )
        {
          if ( ++v42 >= 5 )
            return *(_DWORD *)v4;
        }
        sub_40D2C0((int *)Buf, (unsigned __int8 *)5, 0, v42);
      }
      else
      {
        sub_40D2C0((int *)Buf, (unsigned __int8 *)5, 0, 5);
      }
      return *(_DWORD *)v4;
    case 211:
      for ( ii = 0; ii < 8; ++ii )
        sub_40D2C0((int *)Buf, (unsigned __int8 *)5, ii + 50, 0);
      for ( jj = 0; jj < 10; ++jj )
        sub_40D2C0((int *)Buf, (unsigned __int8 *)5, jj + 60, 0);
      return *(_DWORD *)v4;
    default:
      return *(_DWORD *)v4;
  }
}
// 40A89C: variable 'v46' is possibly undefined
// 40A89C: variable 'v47' is possibly undefined
// 4B4398:  int dword_4B4398[]
// 4B43A0:  int dword_4B43A0[]
// 4BF320:  int dword_4BF320[]
// 4BF324:  int dword_4BF324[399]
// 4BF964:  int dword_4BF964[]
// 4BF968:  int dword_4BF968
// 4BF96C:  int dword_4BF96C
// 4BF970:  int dword_4BF970
// 4BF974:  int dword_4BF974
// 4BF978:  int dword_4BF978
// 4BF97C:  int dword_4BF97C
// 4BF980:  int dword_4BF980
// 4BF984:  int dword_4BF984
// 4BF988:  int dword_4BF988
// 4BF99C:  int dword_4BF99C
// 4BF9A0:  int dword_4BF9A0

//----- (0040ABD0) --------------------------------------------------------
_DWORD *__fastcall sub_40ABD0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 33) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_409710(&a4);
  if ( *(_BYTE *)(*v6 + 33) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 33) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 33) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_409670((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 33) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_409650(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 33) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 33) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 8);
  v18 = (char *)(v8 + 8);
  if ( v18 != (char *)(v6 + 8) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[32] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 32) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[32] )
        {
          v20[32] = 1;
          *(_BYTE *)(v10 + 32) = 0;
          sub_409600(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[33] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 32) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 32) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 32) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 32) = 1;
            v20[32] = 0;
            sub_409690(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[32] = *(_BYTE *)(v10 + 32);
          *(_BYTE *)(v10 + 32) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 32) = 1;
          sub_409600(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[32] )
        {
          v20[32] = 1;
          *(_BYTE *)(v10 + 32) = 0;
          sub_409690(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[33] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 32) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 32) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 32) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 32) = 1;
            v20[32] = 0;
            sub_409600(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[32] = *(_BYTE *)(v10 + 32);
          *(_BYTE *)(v10 + 32) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 32) = 1;
          sub_409690(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[32] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 32) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (0040AEA0) --------------------------------------------------------
_DWORD *__fastcall sub_40AEA0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 21) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_409780(&a4);
  if ( *(_BYTE *)(*v6 + 21) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 21) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 21) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_402F40((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 21) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_4096F0(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 21) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 21) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 5);
  v18 = (char *)(v8 + 5);
  if ( v18 != (char *)(v6 + 5) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[20] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 20) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[20] )
        {
          v20[20] = 1;
          *(_BYTE *)(v10 + 20) = 0;
          sub_4095B0(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[21] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 20) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 20) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 20) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 20) = 1;
            v20[20] = 0;
            sub_402EE0(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[20] = *(_BYTE *)(v10 + 20);
          *(_BYTE *)(v10 + 20) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 20) = 1;
          sub_4095B0(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[20] )
        {
          v20[20] = 1;
          *(_BYTE *)(v10 + 20) = 0;
          sub_402EE0(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[21] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 20) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 20) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 20) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 20) = 1;
            v20[20] = 0;
            sub_4095B0(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[20] = *(_BYTE *)(v10 + 20);
          *(_BYTE *)(v10 + 20) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 20) = 1;
          sub_402EE0(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[20] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 20) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (0040B170) --------------------------------------------------------
_DWORD *__thiscall sub_40B170(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_409A30();
  this[6] = v5;
  *((_BYTE *)v5 + 33) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (0040B200) --------------------------------------------------------
_DWORD *__thiscall sub_40B200(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_4099F0();
  this[6] = v5;
  *((_BYTE *)v5 + 21) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (0040B290) --------------------------------------------------------
int *__thiscall sub_40B290(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_409A70(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_409710(&a3);
      sub_40ABD0(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 40B34F: variable 'v14' is possibly undefined

//----- (0040B370) --------------------------------------------------------
int *__thiscall sub_40B370(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_409AB0(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_409780(&a3);
      sub_40AEA0(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 40B42F: variable 'v14' is possibly undefined

//----- (0040B450) --------------------------------------------------------
void __thiscall sub_40B450(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_40B290((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (0040B4D0) --------------------------------------------------------
void __thiscall sub_40B4D0(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_40B370((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (0040B570) --------------------------------------------------------
_DWORD *__thiscall sub_40B570(_DWORD *this)
{
  char v3; // [esp+Bh] [ebp-11h] BYREF
  _DWORD *v4; // [esp+Ch] [ebp-10h]
  int v5; // [esp+18h] [ebp-4h]

  v4 = this;
  sub_40B200(this + 8, (int)&v3, (int)&v3);
  v5 = 0;
  sub_40B170(this + 16, (int)&v3, (int)&v3);
  LOBYTE(v5) = 1;
  sub_40B200(this + 24, (int)&v3, (int)&v3);
  LOBYTE(v5) = 2;
  sub_40B200(this + 32, (int)&v3, (int)&v3);
  LOBYTE(v5) = 3;
  sub_40B200(this + 40, (int)&v3, (int)&v3);
  LOBYTE(v5) = 4;
  sub_40B200(this + 48, (int)&v3, (int)&v3);
  LOBYTE(v5) = 5;
  sub_438040(this);
  return this;
}

//----- (0040B650) --------------------------------------------------------
void __thiscall sub_40B650(_DWORD *this)
{
  sub_438140(this);
  sub_40B4D0((int)(this + 48));
  sub_40B4D0((int)(this + 40));
  sub_40B4D0((int)(this + 32));
  sub_40B4D0((int)(this + 24));
  sub_40B450((int)(this + 16));
  sub_40B4D0((int)(this + 8));
}

//----- (0040B6F0) --------------------------------------------------------
void __thiscall sub_40B6F0(int this, int *a2)
{
  int v3; // eax
  _DWORD *v4; // eax
  int v5; // ebx
  int *v6; // eax
  int v7; // edi
  int v8; // eax
  int v9; // edx
  int v10; // esi
  int v11; // eax
  int *v12; // ecx
  int v13; // esi
  char *v14; // eax
  bool v16; // zf
  const char **v17; // eax
  const char *v18; // edx
  unsigned int v19; // eax
  char *v20; // edi
  char *v22; // edx
  unsigned int v23; // eax
  char *v24; // edi
  const char *v27; // eax
  int v29; // eax
  int v30; // eax
  int v31; // eax
  int v32; // eax
  int v33; // eax
  int v34; // eax
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int v38; // eax
  int v39; // eax
  int v40; // eax
  int v41; // eax
  int v42; // eax
  int v43; // eax
  int v44; // eax
  int v45; // esi
  char *v46; // eax
  const char **v48; // eax
  const char *v49; // edx
  unsigned int v50; // eax
  char *v51; // edi
  char *v53; // edx
  unsigned int v54; // eax
  char *v55; // edi
  const char *v58; // eax
  void *v60; // esi
  int v61; // [esp-18h] [ebp-57234h]
  int v62; // [esp-18h] [ebp-57234h]
  int v63; // [esp-18h] [ebp-57234h]
  int v64; // [esp-18h] [ebp-57234h]
  int v65; // [esp-18h] [ebp-57234h]
  int v66; // [esp-18h] [ebp-57234h]
  int v67; // [esp-18h] [ebp-57234h]
  int v68; // [esp-14h] [ebp-57230h]
  int v69; // [esp-14h] [ebp-57230h]
  int v70; // [esp-14h] [ebp-57230h]
  int v71; // [esp-14h] [ebp-57230h]
  int v72; // [esp-14h] [ebp-57230h]
  int v73; // [esp-14h] [ebp-57230h]
  int v74; // [esp-14h] [ebp-57230h]
  int v75; // [esp-10h] [ebp-5722Ch]
  int v76; // [esp-10h] [ebp-5722Ch]
  int v77; // [esp-10h] [ebp-5722Ch]
  int v78; // [esp-10h] [ebp-5722Ch]
  int v79; // [esp-10h] [ebp-5722Ch]
  int v80; // [esp-10h] [ebp-5722Ch]
  int v81; // [esp-10h] [ebp-5722Ch]
  int v82; // [esp-Ch] [ebp-57228h]
  int v83; // [esp-Ch] [ebp-57228h]
  int v84; // [esp-Ch] [ebp-57228h]
  int v85; // [esp-Ch] [ebp-57228h]
  int v86; // [esp-Ch] [ebp-57228h]
  int v87; // [esp-Ch] [ebp-57228h]
  int v88; // [esp-Ch] [ebp-57228h]
  int v89; // [esp+18h] [ebp-57204h]
  char v90[8]; // [esp+20h] [ebp-571FCh] BYREF
  char String2[100146]; // [esp+28h] [ebp-571F4h] BYREF
  unsigned __int8 v92; // [esp+1875Ah] [ebp-3EAC2h]
  unsigned __int8 v93; // [esp+1875Bh] [ebp-3EAC1h]
  unsigned __int8 v94; // [esp+1875Ch] [ebp-3EAC0h]
  unsigned __int8 v95; // [esp+1875Dh] [ebp-3EABFh]
  unsigned __int8 v96; // [esp+1875Eh] [ebp-3EABEh]
  unsigned __int8 v97; // [esp+1875Fh] [ebp-3EABDh]
  char v98; // [esp+57003h] [ebp-219h] BYREF
  char v99[260]; // [esp+57004h] [ebp-218h] BYREF
  char Buffer[260]; // [esp+57108h] [ebp-114h] BYREF
  int v101; // [esp+57218h] [ebp-4h]

  v3 = *(_DWORD *)(this + 4);
  if ( v3 != 3 && v3 != 4 )
  {
    *(_DWORD *)(this + 4) = 0;
    return;
  }
  v4 = operator new(0x1E14u);
  v5 = 0;
  v101 = 0;
  if ( v4 )
    v6 = sub_40B570(v4);
  else
    v6 = 0;
  v101 = -1;
  *(_DWORD *)(this + 8) = v6;
  sub_437C30(v6, (int)a2);
  v7 = sub_435C10(*(_DWORD **)(this + 8));
  v89 = v7;
  if ( v7 > 0 )
  {
    while ( 1 )
    {
      v82 = dword_4AE458;
      v75 = dword_4AE454;
      v68 = dword_4AE450;
      v61 = dword_4AE44C;
      v8 = sub_41FC80(dword_4C08E0, 19);
      sub_437B80(*(int **)(this + 8), 0, 0, v8, v61, v68, v75, v82, 99, v5);
      v9 = v7 * *((_DWORD *)Buf + 272076);
      v10 = v9 + v5 + 3;
      if ( *(_DWORD *)(this + 4) == 4 )
      {
        v11 = sub_40C6A0(v9 + v5 + 3, v90);
        v12 = *(int **)(this + 8);
        if ( v11 == -1 )
        {
          sub_437A00(v12, v10, 0, 0, 0, 0, 0, 1);
          sub_435C20(*(_DWORD **)(this + 8), 80, 6, 135, "@s---- --/-- --:--:--");
          sub_435C20(*(_DWORD **)(this + 8), 80, 25, 135, "@sNo Data");
          v85 = dword_4AE458;
          v78 = dword_4AE454;
          v71 = dword_4AE450;
          v64 = dword_4AE44C;
          v35 = sub_41FC80(dword_4C08E0, 19);
          sub_437B80(*(int **)(this + 8), 0, 0, v35, v64, v71, v78, v85, 1, v5);
          v86 = dword_4AE458;
          v79 = dword_4AE454;
          v72 = dword_4AE450;
          v65 = dword_4AE44C;
          v36 = sub_41FC80(dword_4C08E0, 19);
          sub_437B80(*(int **)(this + 8), 0, 0, v36, v65, v72, v79, v86, 2, v5);
          v37 = sub_41FC80(dword_4C08E0, 19);
          sub_437B80(*(int **)(this + 8), 14, 14, v37, 16, 127, 145, 202, 99, v5);
          v38 = sub_41FC80(dword_4C08E0, 19);
          sub_437B80(*(int **)(this + 8), 14, 14, v38, 16, 127, 145, 202, 1, v5);
          v39 = sub_41FC80(dword_4C08E0, 19);
          sub_437B80(*(int **)(this + 8), 14, 14, v39, 16, 127, 145, 202, 2, v5);
          goto LABEL_63;
        }
        sub_437A00(v12, v10, 0, 0, 0, 0, 0, 1);
        sub_4359F0(*(char **)(this + 8), "selsave");
        sprintf(Buffer, "@i%d %02d/%02d %02d:%02d:%02d", v96 + 2000, v92, v93, v94, v95, v97);
        sub_435C20(*(_DWORD **)(this + 8), 80, 6, 135, Buffer);
        v13 = 0;
        v99[0] = 0;
        v14 = &v98;
        while ( *++v14 )
          ;
        v16 = off_4B34E8 == 0;
        strcpy(v14, "@i");
        if ( !v16 )
        {
          v17 = (const char **)&off_4B34E8;
          while ( _stricmp(*v17, String2) )
          {
            ++v13;
            v17 = (const char **)(8 * v13 + 4928744);
            if ( !(&off_4B34E8)[2 * v13] )
              goto LABEL_20;
          }
          v18 = (const char *)*(&off_4B34EC + 2 * v13);
          v19 = strlen(v18) + 1;
          v20 = &v98;
          while ( *++v20 )
            ;
          qmemcpy(v20, v18, v19);
        }
LABEL_20:
        if ( strlen(v99) <= 3 )
        {
          v22 = String2;
          v23 = strlen(String2) + 1;
          v24 = &v98;
          while ( *++v24 )
            ;
          goto LABEL_31;
        }
        if ( strlen(v99) > 0x22 )
        {
          strcpy(v99, "@r");
          v22 = (char *)*(&off_4B34EC + 2 * v13);
          v23 = strlen(v22) + 1;
          v24 = &v98;
          while ( *++v24 )
            ;
          goto LABEL_31;
        }
        if ( strlen(v99) > 0x1E )
        {
          v27 = (const char *)*(&off_4B34EC + 2 * v13);
          strcpy(v99, "@y");
          v22 = (char *)v27;
          v23 = strlen(v27) + 1;
          v24 = &v98;
          while ( *++v24 )
            ;
LABEL_31:
          qmemcpy(v24, v22, v23);
        }
        sub_435C20(*(_DWORD **)(this + 8), 80, 25, 135, v99);
        v83 = dword_4AE468;
        v76 = dword_4AE464;
        v69 = dword_4AE460;
        v62 = dword_4AE45C;
        v29 = sub_41FC80(dword_4C08E0, 19);
        sub_437B80(*(int **)(this + 8), 0, 0, v29, v62, v69, v76, v83, 1, v5);
        v84 = dword_4AE478;
        v77 = dword_4AE474;
        v70 = dword_4AE470;
        v63 = dword_4AE46C;
        v30 = sub_41FC80(dword_4C08E0, 19);
        sub_437B80(*(int **)(this + 8), 0, 0, v30, v63, v70, v77, v84, 2, v5);
        v31 = sub_41FC80(dword_4C08E0, 19);
        sub_437B80(*(int **)(this + 8), 14, 14, v31, 16, 127, 145, 202, 99, v5);
        v32 = sub_41FC80(dword_4C08E0, 19);
        sub_437B80(*(int **)(this + 8), 14, 14, v32, 148, 127, 277, 202, 1, v5);
        v33 = sub_41FC80(dword_4C08E0, 19);
        sub_437B80(*(int **)(this + 8), 14, 14, v33, 148, 127, 277, 202, 2, v5);
        v34 = dword_4BF964[v5];
        v7 = v89;
        if ( !v34 || v5 + v89 * *((_DWORD *)Buf + 272076) >= 110 )
          goto LABEL_63;
        goto LABEL_34;
      }
      sub_437A00(*(int **)(this + 8), v9 + v5 + 3, 0, 0, 0, 0, 0, 1);
      sub_4359F0(*(char **)(this + 8), "selsave");
      v87 = dword_4AE468;
      v80 = dword_4AE464;
      v73 = dword_4AE460;
      v66 = dword_4AE45C;
      v40 = sub_41FC80(dword_4C08E0, 19);
      sub_437B80(*(int **)(this + 8), 0, 0, v40, v66, v73, v80, v87, 1, v5);
      v88 = dword_4AE478;
      v81 = dword_4AE474;
      v74 = dword_4AE470;
      v67 = dword_4AE46C;
      v41 = sub_41FC80(dword_4C08E0, 19);
      sub_437B80(*(int **)(this + 8), 0, 0, v41, v67, v74, v81, v88, 2, v5);
      v42 = sub_41FC80(dword_4C08E0, 19);
      sub_437B80(*(int **)(this + 8), 14, 14, v42, 16, 127, 145, 202, 99, v5);
      v43 = sub_41FC80(dword_4C08E0, 19);
      sub_437B80(*(int **)(this + 8), 14, 14, v43, 148, 127, 277, 202, 1, v5);
      v44 = sub_41FC80(dword_4C08E0, 19);
      sub_437B80(*(int **)(this + 8), 14, 14, v44, 148, 127, 277, 202, 2, v5);
      if ( sub_40C6A0(v10, v90) == -1 )
      {
        sub_435C20(*(_DWORD **)(this + 8), 80, 6, 135, "@s---- --/-- --:--:--");
        sub_435C20(*(_DWORD **)(this + 8), 80, 25, 135, "@sNo Data");
        goto LABEL_63;
      }
      sprintf(Buffer, "@i%d %02d/%02d %02d:%02d:%02d", v96 + 2000, v92, v93, v94, v95, v97);
      sub_435C20(*(_DWORD **)(this + 8), 80, 6, 135, Buffer);
      v45 = 0;
      v99[0] = 0;
      v46 = &v98;
      while ( *++v46 )
        ;
      v16 = off_4B34E8 == 0;
      strcpy(v46, "@i");
      if ( !v16 )
      {
        v48 = (const char **)&off_4B34E8;
        while ( _stricmp(*v48, String2) )
        {
          ++v45;
          v48 = (const char **)(8 * v45 + 4928744);
          if ( !(&off_4B34E8)[2 * v45] )
            goto LABEL_47;
        }
        v49 = (const char *)*(&off_4B34EC + 2 * v45);
        v50 = strlen(v49) + 1;
        v51 = &v98;
        while ( *++v51 )
          ;
        qmemcpy(v51, v49, v50);
      }
LABEL_47:
      if ( strlen(v99) <= 3 )
        break;
      if ( strlen(v99) > 0x22 )
      {
        strcpy(v99, "@r");
        v53 = (char *)*(&off_4B34EC + 2 * v45);
        v54 = strlen(v53) + 1;
        v55 = &v98;
        while ( *++v55 )
          ;
        goto LABEL_58;
      }
      if ( strlen(v99) > 0x1E )
      {
        v58 = (const char *)*(&off_4B34EC + 2 * v45);
        strcpy(v99, "@y");
        v53 = (char *)v58;
        v54 = strlen(v58) + 1;
        v55 = &v98;
        while ( *++v55 )
          ;
        goto LABEL_58;
      }
LABEL_59:
      sub_435C20(*(_DWORD **)(this + 8), 80, 25, 135, v99);
      v34 = dword_4BF964[v5];
      v7 = v89;
      if ( !v34 || v5 + v89 * *((_DWORD *)Buf + 272076) >= 110 )
        goto LABEL_63;
LABEL_34:
      sub_437B80(*(int **)(this + 8), 16, 16, v34, 0, 0, 125, 71, 99, v5);
      sub_437B80(*(int **)(this + 8), 16, 16, dword_4BF964[v5], 0, 0, 125, 71, 1, v5);
      sub_437B80(*(int **)(this + 8), 16, 16, dword_4BF964[v5], 0, 0, 125, 71, 2, v5);
LABEL_63:
      sub_437940(*(int **)(this + 8), v5++);
      if ( v5 >= v7 )
        goto LABEL_64;
    }
    v53 = String2;
    v54 = strlen(String2) + 1;
    v55 = &v98;
    while ( *++v55 )
      ;
LABEL_58:
    qmemcpy(v55, v53, v54);
    goto LABEL_59;
  }
LABEL_64:
  sub_437C30(a2, *(_DWORD *)(this + 8));
  sub_436280((int)a2);
  v60 = *(void **)(this + 8);
  if ( v60 )
  {
    sub_40B650(*(_DWORD **)(this + 8));
    operator delete(v60);
    *(_DWORD *)(this + 8) = 0;
  }
  *(_DWORD *)(this + 4) = 0;
}
// 4AE44C:  int dword_4AE44C
// 4AE450:  int dword_4AE450
// 4AE454:  int dword_4AE454
// 4AE458:  int dword_4AE458
// 4AE45C:  int dword_4AE45C
// 4AE460:  int dword_4AE460
// 4AE464:  int dword_4AE464
// 4AE468:  int dword_4AE468
// 4AE46C:  int dword_4AE46C
// 4AE470:  int dword_4AE470
// 4AE474:  int dword_4AE474
// 4AE478:  int dword_4AE478
// 4B34E8:  char *off_4B34E8
// 4B34EC:  void *off_4B34EC
// 4BF964:  int dword_4BF964[]

//----- (0040C190) --------------------------------------------------------
void __thiscall sub_40C190(int this)
{
  int *v2; // esi
  void *v3; // esi
  void *v4; // esi

  if ( dword_4BF990 )
  {
    dword_4BF990 = 0;
    Sleep(0xC8u);
  }
  if ( *(_DWORD *)(this + 38672) )
    memcpy(Buf, (const void *)(this + 16), 0x4B80u);
  v2 = &dword_4BF964;
  do
  {
    if ( *v2 )
      sub_44BF60(*((int **)dword_4C0874 + 63), *v2);
    ++v2;
  }
  while ( (int)v2 < (int)&dword_4BF98C );
  v3 = *(void **)(this + 8);
  if ( v3 )
  {
    sub_40B650(*(_DWORD **)(this + 8));
    operator delete(v3);
    *(_DWORD *)(this + 8) = 0;
  }
  v4 = *(void **)(this + 12);
  if ( v4 )
  {
    sub_4592E0(*(int **)(this + 12));
    operator delete(v4);
    *(_DWORD *)(this + 12) = 0;
  }
}
// 4BF964:  int dword_4BF964
// 4BF990:  int dword_4BF990

//----- (0040C240) --------------------------------------------------------
int __thiscall sub_40C240(char *Buf)
{
  int v2; // eax
  char v3; // cl
  char *v4; // eax
  int result; // eax
  int v7; // esi
  char v8; // [esp+7h] [ebp-109h] BYREF
  char v9[260]; // [esp+8h] [ebp-108h] BYREF

  v2 = 0;
  do
  {
    v3 = Path[v2];
    v9[v2++] = v3;
  }
  while ( v3 );
  v4 = &v8;
  while ( *++v4 )
    ;
  strcpy(v4, "\\system.dat");
  result = _open(v9, 33537, 384);
  v7 = result;
  if ( result != -1 )
  {
    _write(result, Buf, 0x4B80u);
    _write(v7, Buf + 1188636, 0x7F8u);
    _close(v7);
    return 0;
  }
  return result;
}
// 40C240:  char var_108[260]

//----- (0040C310) --------------------------------------------------------
int __stdcall sub_40C310(int *a1)
{
  int v1; // edx
  struct _SYSTEMTIME SystemTime; // [esp+0h] [ebp-10h] BYREF

  GetLocalTime(&SystemTime);
  v1 = SystemTime.wYear % 100;
  a1[2] = SystemTime.wDay;
  a1[4] = SystemTime.wMinute;
  a1[6] = SystemTime.wMilliseconds;
  *a1 = v1;
  a1[1] = SystemTime.wMonth;
  a1[3] = SystemTime.wHour;
  a1[5] = SystemTime.wSecond;
  return 0;
}

//----- (0040C370) --------------------------------------------------------
int __thiscall sub_40C370(_BYTE *this)
{
  char v2; // al
  char v3; // dl
  char v4; // cl
  char v5; // cl
  int result; // eax
  int v7; // [esp+4h] [ebp-1Ch] BYREF
  char v8; // [esp+8h] [ebp-18h]
  char v9; // [esp+Ch] [ebp-14h]
  char v10; // [esp+10h] [ebp-10h]
  char v11; // [esp+14h] [ebp-Ch]
  unsigned __int8 v12; // [esp+18h] [ebp-8h]

  sub_40C310(&v7);
  v2 = v10;
  v3 = v9;
  this[475806] = v8;
  v4 = v11;
  this[475808] = v2;
  this[475809] = v4;
  v5 = v7;
  this[475807] = v3;
  result = v12;
  this[475810] = v5 % 100;
  this[475811] = result;
  return result;
}

//----- (0040C3E0) --------------------------------------------------------
int __thiscall sub_40C3E0(_BYTE *this, int a2)
{
  int result; // eax
  int v4; // esi
  char Buffer[260]; // [esp+Ch] [ebp-108h] BYREF

  sprintf(Buffer, "%s\\%s%02d.dat", Path, "DC4", a2);
  result = _open(Buffer, 33537, 384);
  v4 = result;
  if ( result != -1 )
  {
    if ( a2 < 110 )
      sub_40C370(this);
    _write(v4, this + 375652, 0x56FE4u);
    _close(v4);
    return 0;
  }
  return result;
}

//----- (0040C480) --------------------------------------------------------
int __thiscall sub_40C480(int this, int a2, int a3)
{
  int result; // eax
  int v5; // edi
  char Buffer[260]; // [esp+8h] [ebp-108h] BYREF

  sprintf(Buffer, "%s\\PRE%s%02d.dat", Path, "DC4", a2);
  result = _open(Buffer, 33537, 384);
  v5 = result;
  if ( result != -1 )
  {
    if ( !a3 )
    {
      sub_40C370((_BYTE *)this);
      --*(_DWORD *)(this + 378464);
    }
    _write(v5, (const void *)(this + 375652), 0x56FE4u);
    if ( !a3 )
      ++*(_DWORD *)(this + 378464);
    _close(v5);
    return 0;
  }
  return result;
}

//----- (0040C540) --------------------------------------------------------
int __stdcall sub_40C540(int a1, void *a2)
{
  int v2; // esi
  int v4; // ebx
  char Src[356324]; // [esp+8h] [ebp-570ECh] BYREF
  char Buffer[260]; // [esp+56FECh] [ebp-108h] BYREF

  memset(a2, 0, 0x56FE4u);
  sprintf(Buffer, "%s\\PRE%s%02d.dat", Path, "DC4", a1);
  v2 = _open(Buffer, 0x8000, 0);
  if ( v2 == -1 )
    return -1;
  v4 = _read(v2, Src, 0x56FE4u);
  _close(v2);
  if ( v4 != 356324 )
    return -1;
  memcpy(a2, Src, 0x56FE4u);
  return 0;
}

//----- (0040C610) --------------------------------------------------------
int __stdcall sub_40C610(int a1)
{
  int v1; // eax
  char Buffer[260]; // [esp+0h] [ebp-108h] BYREF

  sprintf(Buffer, "%s\\%s%02d.dat", Path, "DC4", a1);
  v1 = _open(Buffer, 0x8000, 0);
  if ( v1 == -1 )
    return 0;
  _close(v1);
  return 1;
}

//----- (0040C6A0) --------------------------------------------------------
int __stdcall sub_40C6A0(int a1, void *a2)
{
  int v2; // esi
  int v4; // ebx
  char Src[356324]; // [esp+8h] [ebp-570ECh] BYREF
  char Buffer[260]; // [esp+56FECh] [ebp-108h] BYREF

  memset(a2, 0, 0x56FE4u);
  sprintf(Buffer, "%s\\%s%02d.dat", Path, "DC4", a1);
  v2 = _open(Buffer, 0x8000, 0);
  if ( v2 == -1 )
    return -1;
  v4 = _read(v2, Src, 0x56FE4u);
  _close(v2);
  if ( v4 != 356324 )
    return -1;
  memcpy(a2, Src, 0x56FE4u);
  return 0;
}

//----- (0040C770) --------------------------------------------------------
int __thiscall sub_40C770(int this, int a2)
{
  int v3; // esi
  int v5; // edi
  char Src[356324]; // [esp+8h] [ebp-570ECh] BYREF
  char Buffer[260]; // [esp+56FECh] [ebp-108h] BYREF

  sprintf(Buffer, "%s\\%s%02d.dat", Path, "DC4", a2);
  v3 = _open(Buffer, 0x8000, 0);
  if ( v3 == -1 )
    return -1;
  v5 = _read(v3, Src, 0x56FE4u);
  _close(v3);
  if ( v5 != 356324 )
    return -1;
  memcpy((void *)(this + 19328), Src, 0x56FE4u);
  return 0;
}

//----- (0040C830) --------------------------------------------------------
int __thiscall sub_40C830(_DWORD *this)
{
  int v2; // eax
  int v3; // esi
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int DstBuf; // [esp+8h] [ebp-10Ch] BYREF
  CHAR FileName[260]; // [esp+Ch] [ebp-108h] BYREF

  sub_406D20(FileName, (int)&off_48B9AC, (int)"NAMES", ".DAT");
  v2 = _open(FileName, 0x8000, 0);
  v3 = v2;
  if ( v2 == -1 )
    return -1;
  _read(v2, &DstBuf, 4u);
  if ( DstBuf != 7 )
  {
    _close(v3);
    return -1;
  }
  _read(v3, this + 282292, 0xE0u);
  _read(v3, this + 297148, 4u);
  v5 = this[297148];
  if ( v5 > 400 )
    goto LABEL_9;
  _read(v3, this + 272092, 48 * v5);
  _read(v3, this + 297149, 4u);
  v6 = this[297149];
  if ( v6 > 600 )
    goto LABEL_9;
  _read(v3, this + 276892, 36 * v6);
  _read(v3, this + 297150, 4u);
  v7 = this[297150];
  if ( v7 <= 1200 && (_read(v3, this + 282348, 32 * v7), _read(v3, this + 297151, 4u), v8 = this[297151], v8 <= 650) )
  {
    _read(v3, this + 291948, 32 * v8);
    _close(v3);
    return 0;
  }
  else
  {
LABEL_9:
    _close(v3);
    return -1;
  }
}
// 48B9AC:  void *off_48B9AC

//----- (0040C9D0) --------------------------------------------------------
const CHAR *__thiscall sub_40C9D0(_DWORD *this, int a2, int a3)
{
  if ( this[297148] <= a2 )
    return Source;
  *((_BYTE *)this + a2 + 384) = 1;
  if ( a3 )
    return (const CHAR *)&this[12 * a2 + 272100];
  else
    return (const CHAR *)&this[12 * a2 + 272092];
}

//----- (0040CA20) --------------------------------------------------------
const CHAR *__thiscall sub_40CA20(_DWORD *this, int a2)
{
  if ( this[297149] > a2 )
    return (const CHAR *)&this[9 * a2 + 276892];
  else
    return Source;
}

//----- (0040CA50) --------------------------------------------------------
const CHAR *__thiscall sub_40CA50(_DWORD *this, int a2)
{
  if ( this[297150] > a2 )
    return (const CHAR *)&this[8 * a2 + 282348];
  else
    return Source;
}

//----- (0040CA80) --------------------------------------------------------
const CHAR *__thiscall sub_40CA80(_DWORD *this, int a2)
{
  if ( this[297151] > a2 )
    return (const CHAR *)&this[8 * a2 + 291948];
  else
    return Source;
}

//----- (0040CAB0) --------------------------------------------------------
int __thiscall sub_40CAB0(int *this, char *a2)
{
  char *v2; // eax
  char v5; // cl
  int v6; // ebx
  const char *i; // edi
  char Str[260]; // [esp+4h] [ebp-108h] BYREF

  v2 = a2;
  if ( !*a2 )
    return -1;
  do
  {
    v5 = *v2;
    v2[Str - a2] = *v2;
    ++v2;
  }
  while ( v5 );
  if ( strstr(Str, ".") )
    *strstr(Str, ".") = 0;
  v6 = 0;
  if ( this[297150] <= 0 )
    return -1;
  for ( i = (const char *)(this + 282348); _strnicmp(Str, i, strlen(i)) || strlen(Str) != strlen(i); i += 32 )
  {
    if ( ++v6 >= this[297150] )
      return -1;
  }
  return v6;
}

//----- (0040CBC0) --------------------------------------------------------
int __thiscall sub_40CBC0(int *this, char *a2)
{
  char *v2; // eax
  char v5; // cl
  int v6; // ebx
  const char *i; // edi
  char Str[260]; // [esp+4h] [ebp-108h] BYREF

  v2 = a2;
  if ( !*a2 )
    return -1;
  do
  {
    v5 = *v2;
    v2[Str - a2] = *v2;
    ++v2;
  }
  while ( v5 );
  if ( strstr(Str, ".") )
    *strstr(Str, ".") = 0;
  v6 = 0;
  if ( this[297151] <= 0 )
    return -1;
  for ( i = (const char *)(this + 291948); _strnicmp(Str, i, strlen(i)) || strlen(Str) != strlen(i); i += 32 )
  {
    if ( ++v6 >= this[297151] )
      return -1;
  }
  return v6;
}

//----- (0040CCD0) --------------------------------------------------------
int __thiscall sub_40CCD0(_DWORD *this, int a2, int a3)
{
  switch ( a2 )
  {
    case 'd':
      return *((unsigned __int8 *)this + a3 + 216);
    case 'b':
      return *((unsigned __int8 *)this + a3 + 1984);
    case 'a':
      return *((unsigned __int8 *)this + a3 + 784);
    case '`':
      return *((unsigned __int8 *)this + a3 + 384);
  }
  if ( a2 != 95 )
  {
    switch ( a2 )
    {
      case '^':
        if ( this[298128] <= a3 && a3 != 50 )
          return -1;
        return this[10 * a3 + 297160];
      case ']':
        if ( (unsigned int)a3 <= 0x13 )
          return this[a3 + 4410];
        break;
      case 'c':
        if ( !a3 )
          return this[272076];
        if ( a3 != 1 )
        {
          switch ( a3 )
          {
            case 2:
              return this[272080];
            case 3:
              return *((_DWORD *)dword_4C0874 + 6);
            case 4:
              this = dword_4C0874;
              break;
            case 5:
              return this[18];
            case 7:
              return this[15];
            case 8:
              return this[17];
            case 9:
              return this[19];
            case 10:
              return this[9];
            case 11:
              return 99 - this[6];
            case 12:
              return this[11];
            case 13:
              return this[4];
            case 14:
              return this[13];
            case 15:
              return this[16];
            case 16:
              return this[7];
            case 17:
              return this[12];
            case 18:
              return this[10];
            case 19:
              return this[272088];
            case 21:
              return sub_40C610(2) != 0;
            case 23:
            case 24:
            case 25:
              return 0;
            case 26:
              return this[1];
            case 27:
              break;
            case 28:
              return this[5];
            case 29:
              return this[3];
            case 30:
              return this[8];
            case 100:
              return this[272087];
            default:
              if ( a3 != 255 )
              {
                switch ( a3 )
                {
                  case 254:
                    return this[297153];
                  case 253:
                    return this[297155];
                  case 246:
                    return this[297154];
                  case 245:
                    return this[297156];
                }
                if ( a3 != 244 )
                {
                  if ( a3 == 243 )
                    return this[297152];
                  if ( a3 != 242 )
                  {
                    if ( a3 == 241 )
                      return this[29722];
                    if ( a3 == 237 )
                      return this[20];
                    if ( a3 != 236 && a3 != 235 )
                    {
                      switch ( a3 )
                      {
                        case 234:
                          return this[66329];
                        case 233:
                          return this[28970];
                        case 227:
                          return this[34];
                        case 226:
                          return this[272082];
                        case 225:
                          return this[32];
                        case 224:
                          return this[272081];
                      }
                      if ( a3 != 223 )
                      {
                        switch ( a3 )
                        {
                          case 221:
                            return this[4830];
                          case 218:
                            return this[4831];
                          case 217:
                            return this[this[4831] + 4410];
                          case 214:
                            return this[21];
                          case 213:
                            return this[24];
                          case 212:
                            return this[25];
                          case 211:
                            return this[26];
                          case 210:
                            return this[27];
                          case 209:
                            return this[28];
                          case 208:
                            return this[23];
                          case 207:
                            return this[22];
                          case 206:
                            return this[29];
                          case 205:
                            return this[33];
                          case 204:
                            return this[272084];
                          case 203:
                            return this[31];
                          case 202:
                            return this[35];
                          case 201:
                            return this[36];
                          case 200:
                            return this[37];
                          case 199:
                            return this[92];
                          case 198:
                            return this[93];
                          case 197:
                            return this[94];
                          case 196:
                            return this[95];
                          case 195:
                            return this[272077];
                          case 194:
                            return this[38];
                          case 193:
                            return this[272078];
                          case 192:
                            return this[272079];
                          case 191:
                            return this[39];
                          case 190:
                            return this[30];
                          case 189:
                            return this[297157];
                          case 188:
                            return this[40];
                          case 187:
                            return this[297158];
                          case 186:
                            return this[272086];
                          case 185:
                            return this[41];
                          case 184:
                            return this[42];
                          case 183:
                            return this[66584];
                          case 182:
                            return this[43];
                          case 181:
                            return this[44];
                          case 180:
                            return this[45];
                          case 179:
                            return this[272089];
                        }
                      }
                    }
                  }
                }
              }
              return 0;
          }
          return this[2];
        }
        break;
      default:
        if ( a2 <= 10 && a3 < 100 && a2 >= 0 && a3 >= 0 )
          return *((unsigned __int8 *)&this[25 * a2 + 29723] + a3);
        return 0;
    }
    return 0;
  }
  if ( this[298128] <= a3 && a3 != 50 )
    return -1;
  return this[10 * a3 + 297159];
}

//----- (0040D290) --------------------------------------------------------
void *__thiscall sub_40D290(int this)
{
  memset((void *)(this + 118892), 0, 0x44Cu);
  return memset((void *)(this + 119992), 0, 0x44Cu);
}

//----- (0040D2C0) --------------------------------------------------------
void __thiscall sub_40D2C0(int *Buf, unsigned __int8 *String, unsigned int Val, int a4)
{
  int v4; // ebx
  int v6; // eax
  int v7; // edi
  void *v8; // ecx
  int v9; // eax
  int v10; // [esp-4h] [ebp-10h]

  v4 = a4;
  if ( String == (unsigned __int8 *)100 )
  {
    if ( Val == 49 )
    {
      sub_40D2C0(Buf, 99, 11, a4);
      *((_BYTE *)Buf + 265) = a4;
      sub_40C240((char *)Buf);
    }
    else if ( Val <= 0x95 )
    {
      *((_BYTE *)Buf + Val + 216) = a4;
      sub_40C240((char *)Buf);
    }
  }
  else
  {
    v6 = Val;
    while ( String != (unsigned __int8 *)98 )
    {
      if ( String == (unsigned __int8 *)97 )
      {
        if ( (unsigned int)v6 <= 0x4AF )
          *((_BYTE *)Buf + v6 + 784) = v4;
        return;
      }
      if ( String == (unsigned __int8 *)96 )
      {
        if ( (unsigned int)v6 <= 0x18F )
          *((_BYTE *)Buf + v6 + 384) = v4;
        return;
      }
      if ( String == (unsigned __int8 *)95 )
      {
        if ( Buf[298128] > v6 || v6 == 50 )
          Buf[10 * v6 + 297159] = v4;
        return;
      }
      if ( String == (unsigned __int8 *)94 )
      {
        if ( Buf[298128] > v6 || v6 == 50 )
        {
          if ( v4 <= 100 )
          {
            if ( v6 >= 0 )
              Buf[10 * v6 + 297160] = v4;
            else
              Buf[10 * v6 + 297160] = 0;
          }
          else
          {
            Buf[10 * v6 + 297160] = 100;
          }
        }
        return;
      }
      if ( String == (unsigned __int8 *)93 )
      {
        if ( (unsigned int)v6 <= 0x13 )
          Buf[v6 + 4410] = v4;
        return;
      }
      if ( String != (unsigned __int8 *)99 )
      {
        if ( (int)String <= 10 && v6 < 100 )
          *((_BYTE *)&Buf[25 * (_DWORD)String + 29723] + v6) = v4;
        return;
      }
      switch ( v6 )
      {
        case 0:
          Buf[272076] = v4;
          return;
        case 1:
          return;
        case 2:
          Buf[272080] = v4;
          return;
        case 5:
          Buf[18] = v4;
          sub_43C550(dword_4C08F4, 2, v4);
          return;
        case 7:
          Buf[15] = v4;
          sub_43B6F0(dword_4C08F4, 0, v4);
          return;
        case 8:
          Buf[17] = v4;
          sub_43B6F0(dword_4C08F4, 1, v4);
          return;
        case 9:
          Buf[19] = v4;
          return;
      }
      if ( v6 != 10 )
      {
        switch ( v6 )
        {
          case 11:
            Buf[6] = 99 - v4;
            break;
          case 12:
            Buf[11] = v4;
            break;
          case 13:
            Buf[4] = v4;
            break;
          case 14:
            v7 = Buf[13];
            Buf[13] = v4;
            sub_43C550(dword_4C08F4, 0, v4);
            if ( !v7 )
            {
              if ( v4 )
                sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)::Buf + 21944, 0, 1u);
            }
            break;
          case 15:
            Buf[16] = v4;
            sub_43C550(dword_4C08F4, 1, v4);
            break;
          case 16:
            Buf[7] = v4;
            break;
          case 17:
            Buf[12] = v4;
            break;
          case 18:
            Buf[10] = v4;
            break;
          case 19:
            Buf[272088] = v4;
            break;
          default:
            if ( v6 != 23 && v6 != 24 && v6 != 25 )
            {
              switch ( v6 )
              {
                case 26:
                  Buf[1] = v4;
                  break;
                case 27:
                  Buf[2] = v4;
                  break;
                case 28:
                  Buf[5] = v4;
                  break;
                case 29:
                  Buf[3] = v4;
                  break;
                case 30:
                  Buf[8] = v4;
                  break;
                case 100:
                  Buf[272087] = v4;
                  break;
                default:
                  if ( v6 != 255 )
                  {
                    switch ( v6 )
                    {
                      case 254:
                        if ( v4 == 255 )
                          v4 = -1;
                        Buf[297153] = v4;
                        break;
                      case 253:
                        if ( v4 == 255 )
                          v4 = -1;
                        Buf[297155] = v4;
                        break;
                      case 246:
                        if ( v4 == 255 )
                          v4 = -1;
                        Buf[297154] = v4;
                        break;
                      case 245:
                        if ( v4 == 255 )
                          v4 = -1;
                        Buf[297156] = v4;
                        break;
                      default:
                        if ( v6 != 244 )
                        {
                          if ( v6 == 243 )
                          {
                            if ( v4 == 255 )
                              v4 = -1;
                            Buf[297152] = v4;
                          }
                          else if ( v6 != 242 )
                          {
                            if ( v6 == 241 )
                            {
                              Buf[29722] = v4;
                            }
                            else if ( v6 == 237 )
                            {
                              *((_DWORD *)dword_4C0874 + 4) = v4;
                              Buf[20] = v4;
                              v8 = dword_4C0874;
                              v9 = *((_DWORD *)dword_4C0874 + 2);
                              if ( v9 )
                              {
                                sub_43A690((int)dword_4C0874, v9, 1);
                                v8 = dword_4C0874;
                              }
                              sub_438D20((int)v8);
                            }
                            else if ( v6 != 236 && v6 != 235 && v6 != 234 )
                            {
                              switch ( v6 )
                              {
                                case 233:
                                  Buf[28970] = v4;
                                  break;
                                case 226:
                                  Buf[272082] = v4;
                                  break;
                                case 225:
                                  if ( v4 > 100 )
                                    v4 = 100;
                                  v10 = Buf[15];
                                  Buf[32] = v4;
                                  sub_43B6F0(dword_4C08F4, 0, v10);
                                  sub_43B6F0(dword_4C08F4, 1, Buf[17]);
                                  sub_43B6F0(dword_4C08F4, 2, Buf[19]);
                                  break;
                                case 224:
                                  Buf[272081] = v4 > 0;
                                  break;
                                default:
                                  if ( v6 != 223 )
                                  {
                                    switch ( v6 )
                                    {
                                      case 221:
                                        Buf[4830] = v4;
                                        break;
                                      case 218:
                                        Buf[4831] = v4;
                                        break;
                                      case 217:
                                        Buf[Buf[4831] + 4410] = v4;
                                        break;
                                      case 214:
                                        Buf[21] = v4;
                                        break;
                                      case 213:
                                        Buf[24] = v4;
                                        break;
                                      case 212:
                                        Buf[25] = v4;
                                        break;
                                      case 211:
                                        Buf[26] = v4;
                                        break;
                                      case 210:
                                        Buf[27] = v4;
                                        break;
                                      case 209:
                                        Buf[28] = v4;
                                        break;
                                      case 208:
                                        Buf[23] = v4;
                                        break;
                                      case 207:
                                        Buf[22] = v4;
                                        break;
                                      case 206:
                                        Buf[29] = v4;
                                        break;
                                      case 205:
                                        Buf[33] = v4;
                                        break;
                                      case 204:
                                        Buf[272084] = v4;
                                        break;
                                      case 203:
                                        *((_DWORD *)::Buf + 31) = v4;
                                        sub_43B6F0(dword_4C08F4, 0, Buf[15]);
                                        sub_43B6F0(dword_4C08F4, 1, Buf[17]);
                                        sub_43B6F0(dword_4C08F4, 2, Buf[19]);
                                        break;
                                      case 202:
                                        Buf[35] = v4;
                                        break;
                                      case 201:
                                        Buf[36] = v4;
                                        break;
                                      case 200:
                                        Buf[37] = v4;
                                        break;
                                      case 199:
                                        Buf[92] = v4;
                                        break;
                                      case 198:
                                        Buf[93] = v4;
                                        break;
                                      case 197:
                                        Buf[94] = v4;
                                        break;
                                      case 196:
                                        Buf[95] = v4;
                                        break;
                                      case 195:
                                        Buf[272077] = v4;
                                        break;
                                      case 194:
                                        Buf[38] = v4;
                                        break;
                                      case 193:
                                        Buf[272078] = v4;
                                        break;
                                      case 192:
                                        Buf[272079] = v4;
                                        break;
                                      case 191:
                                        Buf[39] = v4;
                                        break;
                                      case 190:
                                        Buf[30] = v4;
                                        break;
                                      case 189:
                                        Buf[297157] = v4;
                                        break;
                                      case 188:
                                        Buf[40] = v4;
                                        break;
                                      case 187:
                                        Buf[297158] = v4;
                                        break;
                                      case 186:
                                        Buf[272086] = v4;
                                        break;
                                      case 185:
                                        Buf[41] = v4;
                                        break;
                                      case 184:
                                        Buf[42] = v4;
                                        break;
                                      case 183:
                                        Buf[66584] = v4;
                                        break;
                                      case 182:
                                        Buf[43] = v4;
                                        break;
                                      case 181:
                                        Buf[44] = v4;
                                        break;
                                      case 180:
                                        Buf[45] = v4;
                                        break;
                                      case 179:
                                        Buf[272089] = v4;
                                        break;
                                    }
                                  }
                                  break;
                              }
                            }
                          }
                        }
                        break;
                    }
                  }
                  break;
              }
            }
            break;
        }
        return;
      }
      Buf[9] = v4;
      v6 = 214;
      v4 = v4 == 2;
    }
    if ( (unsigned int)v6 <= 0x289 )
      *((_BYTE *)Buf + v6 + 1984) = v4;
  }
}
// 40DB35: conditional instruction was optimized away because ecx.4<B

//----- (0040DB50) --------------------------------------------------------
int __thiscall sub_40DB50(int *this)
{
  int result; // eax

  sub_43C550(dword_4C08F4, 2, this[18]);
  sub_43C550(dword_4C08F4, 0, this[13]);
  sub_43C550(dword_4C08F4, 1, this[16]);
  result = this[20];
  *((_DWORD *)dword_4C0874 + 4) = result;
  return result;
}

//----- (0040DBA0) --------------------------------------------------------
_DWORD *__thiscall sub_40DBA0(const char *this, _DWORD *a2, _DWORD *a3, char *Str)
{
  int v5; // esi
  const char *v6; // ebx
  _DWORD *result; // eax

  v5 = 0;
  if ( *((int *)this + 26538) <= 0 )
  {
LABEL_5:
    result = a2;
    *a3 = 0;
    *a2 = 0;
  }
  else
  {
    v6 = this + 22152;
    while ( !strstr(Str, v6) )
    {
      ++v5;
      v6 += 40;
      if ( v5 >= *((_DWORD *)this + 26538) )
        goto LABEL_5;
    }
    *a2 = *(_DWORD *)&this[40 * v5 + 22184];
    result = *(_DWORD **)&this[40 * v5 + 22188];
    *a3 = result;
  }
  return result;
}

//----- (0040DC20) --------------------------------------------------------
int __thiscall sub_40DC20(const char *this, unsigned __int8 *String)
{
  unsigned __int8 *v3; // eax
  char *v4; // eax
  char *v5; // edx
  char v6; // cl
  int v8; // edi
  const char *i; // esi
  char String1[32]; // [esp+8h] [ebp-24h] BYREF

  v3 = _mbsrchr(String, 0x5Fu);
  if ( v3 )
  {
    v4 = (char *)(v3 + 1);
    v5 = (char *)(String1 - v4);
    do
    {
      v6 = *v4;
      v4[(_DWORD)v5] = *v4;
      ++v4;
    }
    while ( v6 );
  }
  else
  {
    strcpy(String1, (const char *)String);
  }
  if ( !_strnicmp((const char *)String, "voice\\system", 0xCu) )
    return 1;
  v8 = 0;
  if ( *((int *)this + 298128) <= 0 )
    return *((_DWORD *)this + 297659);
  for ( i = this + 1188644; ; i += 40 )
  {
    if ( !_strnicmp(String1, i, strlen(i)) )
      return *(_DWORD *)&this[40 * v8 + 1188636];
    if ( !_strnicmp(i, "asu", 3u) && !_strnicmp(String1, "asa", 3u) )
      return *(_DWORD *)&this[40 * v8 + 1188636];
    if ( !_strnicmp(i, "ktr", 3u) && !_strnicmp(String1, "vkt", 3u) )
      break;
    if ( ++v8 >= *((_DWORD *)this + 298128) )
      return *((_DWORD *)this + 297659);
  }
  return *(_DWORD *)&this[40 * v8 + 1188636];
}

//----- (0040DDC0) --------------------------------------------------------
int __thiscall sub_40DDC0(char *this, unsigned __int8 *String)
{
  unsigned __int8 *v3; // eax
  char *v4; // eax
  char *v5; // edx
  char v6; // cl
  int v8; // edi
  const char *v9; // esi
  int v10; // ecx
  char String1[32]; // [esp+8h] [ebp-24h] BYREF

  v3 = _mbsrchr(String, 0x5Fu);
  if ( v3 )
  {
    v4 = (char *)(v3 + 1);
    v5 = (char *)(String1 - v4);
    do
    {
      v6 = *v4;
      v4[(_DWORD)v5] = *v4;
      ++v4;
    }
    while ( v6 );
  }
  else
  {
    strcpy(String1, (const char *)String);
  }
  if ( !_strnicmp((const char *)String, "voice\\system", 0xCu) && !sub_40CCD0(this, 9, 98) )
    return *((_DWORD *)Buf + 19);
  v8 = 0;
  if ( *((int *)this + 298128) <= 0 )
  {
LABEL_16:
    v10 = *((_DWORD *)Buf + 19) * *((_DWORD *)this + 297660);
  }
  else
  {
    v9 = this + 1188644;
    while ( 1 )
    {
      if ( !_strnicmp(String1, v9, strlen(v9)) )
      {
        v10 = *((_DWORD *)Buf + 19) * *(_DWORD *)&this[40 * v8 + 1188640];
        return v10 / 100;
      }
      if ( !_strnicmp(v9, "asu", 3u) && !_strnicmp(String1, "asa", 3u)
        || !_strnicmp(v9, "ktr", 3u) && !_strnicmp(String1, "vkt", 3u) )
      {
        break;
      }
      ++v8;
      v9 += 40;
      if ( v8 >= *((_DWORD *)this + 298128) )
        goto LABEL_16;
    }
    v10 = *((_DWORD *)Buf + 19) * *(_DWORD *)&this[40 * v8 + 1188640];
  }
  return v10 / 100;
}

//----- (0040DF60) --------------------------------------------------------
int __thiscall sub_40DF60(const char *this, unsigned __int8 *String, int a3)
{
  int result; // eax
  unsigned __int8 *v5; // eax
  char v6; // cl
  char *v7; // edx
  char v8; // cl
  int v9; // edi
  const char *v10; // esi
  char String1[32]; // [esp+8h] [ebp-24h] BYREF

  if ( *String )
  {
    v5 = _mbsrchr(String, 0x5Cu);
    if ( v5 )
    {
      result = (int)(v5 + 1);
      v7 = &String1[-result];
      do
      {
        v8 = *(_BYTE *)result;
        v7[result] = *(_BYTE *)result;
        ++result;
      }
      while ( v8 );
    }
    else
    {
      result = (int)String;
      do
      {
        v6 = *(_BYTE *)result;
        *(_BYTE *)(String1 - (char *)String + result) = *(_BYTE *)result;
        ++result;
      }
      while ( v6 );
    }
    v9 = 0;
    if ( *((int *)this + 298128) <= 0 )
    {
LABEL_17:
      *((_DWORD *)this + 297660) = a3;
    }
    else
    {
      v10 = this + 1188644;
      while ( 1 )
      {
        result = _strnicmp(String1, v10, strlen(v10));
        if ( !result )
        {
          *(_DWORD *)&this[40 * v9 + 1188640] = a3;
          return result;
        }
        if ( !_strnicmp(v10, "asu", 3u) && !_strnicmp(String1, "asa", 3u) )
        {
          result = 5 * v9 + 148580;
          *(_DWORD *)&this[8 * result] = a3;
          return result;
        }
        result = _strnicmp(v10, "ktr", 3u);
        if ( !result )
        {
          result = _strnicmp(String1, "vkt", 3u);
          if ( !result )
            break;
        }
        ++v9;
        v10 += 40;
        if ( v9 >= *((_DWORD *)this + 298128) )
          goto LABEL_17;
      }
      result = a3;
      *(_DWORD *)&this[40 * v9 + 1188640] = a3;
    }
  }
  else
  {
    result = a3;
    *((_DWORD *)this + 297660) = a3;
  }
  return result;
}

//----- (0040E100) --------------------------------------------------------
int __thiscall sub_40E100(const char *this, char *String2)
{
  int v3; // ebx
  const char *v4; // edi
  int result; // eax
  char *v6; // ecx
  char *v7; // edx
  char v8; // al

  v3 = 0;
  if ( *((int *)this + 298128) <= 0 )
  {
LABEL_5:
    v6 = String2;
    v7 = (char *)&this[40 * *((_DWORD *)this + 298128) + 1188644];
    do
    {
      v8 = *v6;
      *v7++ = *v6++;
    }
    while ( v8 );
    *(_DWORD *)&this[40 * *((_DWORD *)this + 298128) + 1188636] = 1;
    result = 5 * (*((_DWORD *)this + 298128) + 29716);
    *(_DWORD *)&this[40 * (*((_DWORD *)this + 298128))++ + 1188640] = 100;
  }
  else
  {
    v4 = this + 1188644;
    while ( 1 )
    {
      result = _strnicmp(v4, String2, strlen(String2));
      if ( !result )
        break;
      ++v3;
      v4 += 40;
      if ( v3 >= *((_DWORD *)this + 298128) )
        goto LABEL_5;
    }
  }
  return result;
}

//----- (0040E1B0) --------------------------------------------------------
BOOL __thiscall sub_40E1B0(_DWORD *this)
{
  BOOL result; // eax

  result = sub_442FD0(dword_4C087C, 11);
  if ( result || this[21] || this[272077] )
    return 1;
  return result;
}

//----- (0040E1E0) --------------------------------------------------------
int __thiscall sub_40E1E0(_DWORD *this, int a2)
{
  int v2; // ecx
  int result; // eax

  v2 = this[11];
  result = a2;
  if ( v2 < 5 )
    return a2 + (int)((double)(a2 / 2) / 5.0 * (double)(5 - v2));
  if ( v2 > 5 )
    return a2 - (int)((double)(a2 / 2) / 6.0 * (double)(v2 - 5));
  return result;
}

//----- (0040E250) --------------------------------------------------------
void *__thiscall sub_40E250(_DWORD *this)
{
  void *result; // eax

  this[298128] = 0;
  result = memset(this + 297159, 0, 0x7F8u);
  this[297659] = 1;
  this[297660] = 100;
  return result;
}

//----- (0040E290) --------------------------------------------------------
void *__thiscall sub_40E290(_DWORD *this)
{
  this[298129] = 0;
  return memset(this + 297669, 0, 0x72Cu);
}

//----- (0040E2C0) --------------------------------------------------------
int __thiscall sub_40E2C0(const char *this, char *String2, int a3)
{
  int v4; // ebx
  const char *v5; // edi
  int result; // eax
  char *v7; // ecx
  char *v8; // edx
  char v9; // al

  v4 = 0;
  if ( *((int *)this + 298129) <= 0 )
  {
LABEL_5:
    v7 = String2;
    v8 = (char *)&this[36 * *((_DWORD *)this + 298129) + 1190680];
    do
    {
      v9 = *v7;
      *v8++ = *v7++;
    }
    while ( v9 );
    result = *((_DWORD *)this + 298129);
    *(_DWORD *)&this[36 * result + 1190676] = a3;
    ++*((_DWORD *)this + 298129);
  }
  else
  {
    v5 = this + 1190680;
    while ( 1 )
    {
      result = _strnicmp(v5, String2, strlen(String2));
      if ( !result )
        break;
      ++v4;
      v5 += 36;
      if ( v4 >= *((_DWORD *)this + 298129) )
        goto LABEL_5;
    }
  }
  return result;
}

//----- (0040E350) --------------------------------------------------------
int __thiscall sub_40E350(int *this, unsigned __int8 *String)
{
  unsigned __int8 *v4; // eax
  char *v5; // eax
  char *v6; // edx
  char v7; // cl
  int v8; // edi
  const char *i; // esi
  char String1[32]; // [esp+8h] [ebp-24h] BYREF

  if ( !String )
    return -1;
  v4 = _mbsrchr(String, 0x5Fu);
  if ( v4 )
  {
    v5 = (char *)(v4 + 1);
    v6 = (char *)(String1 - v5);
    do
    {
      v7 = *v5;
      v5[(_DWORD)v6] = *v5;
      ++v5;
    }
    while ( v7 );
  }
  else
  {
    strcpy(String1, (const char *)String);
  }
  v8 = 0;
  if ( this[298129] <= 0 )
    return -1;
  for ( i = (const char *)(this + 297670); _strnicmp(String1, i, strlen(i)); i += 36 )
  {
    if ( ++v8 >= this[298129] )
      return -1;
  }
  return this[9 * v8 + 297669];
}

//----- (0040E430) --------------------------------------------------------
void *__thiscall sub_40E430(_DWORD *this)
{
  this[67461] = 0;
  return memset(this + 67002, 0, 0x72Cu);
}

//----- (0040E460) --------------------------------------------------------
int __thiscall sub_40E460(const char *this, char *String, int a3)
{
  int v4; // ebp
  const char *v5; // ebx
  int result; // eax
  char *v7; // ecx
  char *v8; // edx
  char v9; // al

  v4 = 0;
  if ( *((int *)this + 67461) <= 0 )
  {
LABEL_5:
    _strupr(String);
    v7 = String;
    v8 = (char *)&this[36 * *((_DWORD *)this + 67461) + 268012];
    do
    {
      v9 = *v7;
      *v8++ = *v7++;
    }
    while ( v9 );
    result = *((_DWORD *)this + 67461);
    *(_DWORD *)&this[36 * result + 268008] = a3;
    ++*((_DWORD *)this + 67461);
  }
  else
  {
    v5 = this + 268012;
    while ( 1 )
    {
      result = _strnicmp(v5, String, strlen(String));
      if ( !result )
        break;
      ++v4;
      v5 += 36;
      if ( v4 >= *((_DWORD *)this + 67461) )
        goto LABEL_5;
    }
  }
  return result;
}

//----- (0040E4F0) --------------------------------------------------------
int __thiscall sub_40E4F0(int *this, unsigned __int8 *String)
{
  unsigned __int8 *v4; // eax
  char *v5; // eax
  char *v6; // edx
  char v7; // cl
  int v8; // edi
  const char *i; // esi
  char String1[32]; // [esp+8h] [ebp-24h] BYREF

  if ( !String )
    return -1;
  v4 = _mbsrchr(String, 0x5Fu);
  if ( v4 )
  {
    v5 = (char *)(v4 + 1);
    v6 = (char *)(String1 - v5);
    do
    {
      v7 = *v5;
      v5[(_DWORD)v6] = *v5;
      ++v5;
    }
    while ( v7 );
  }
  else
  {
    strcpy(String1, (const char *)String);
  }
  _strupr(String1);
  v8 = 0;
  if ( this[67461] <= 0 )
    return -1;
  for ( i = (const char *)(this + 67003); _strnicmp(String1, i, strlen(i)); i += 36 )
  {
    if ( ++v8 >= this[67461] )
      return -1;
  }
  return this[9 * v8 + 67002];
}

//----- (0040E5E0) --------------------------------------------------------
char __thiscall sub_40E5E0(_DWORD *this, int a2, int a3, char *String, int a5)
{
  const char *v8; // ebp
  bool v9; // cc
  char *v10; // edx
  _BYTE *v11; // ecx
  char *v12; // eax
  char *v13; // ecx
  int v14; // edx
  char v15; // cl
  char *Stringa; // [esp+1Ch] [ebp+Ch]
  int v18; // [esp+20h] [ebp+10h]

  _strupr(String);
  Stringa = 0;
  if ( (int)this[a5 + 26539] <= 0 )
  {
LABEL_7:
    this[1000 * a5 + 6546 + 10 * this[a5 + 26539]] = a2;
    this[1000 * a5 + 6547 + 10 * this[a5 + 26539]] = a3;
    v10 = String;
    v11 = &this[1000 * a5 + 6538 + 10 * this[a5 + 26539]];
    do
    {
      LOBYTE(v12) = *v10;
      *v11++ = *v10++;
    }
    while ( (_BYTE)v12 );
    ++this[a5 + 26539];
    return (char)v12;
  }
  v8 = (const char *)&this[1000 * a5 + 6538];
  v18 = (int)v8;
  while ( _strnicmp(v8, String, strlen(String)) )
  {
LABEL_6:
    v8 += 40;
    v9 = (int)++Stringa < this[a5 + 26539];
    v18 = (int)v8;
    if ( !v9 )
      goto LABEL_7;
  }
  if ( strlen(v8) != strlen(String) )
  {
    v8 = (const char *)v18;
    goto LABEL_6;
  }
  v13 = (char *)&this[10 * (_DWORD)&Stringa[100 * a5]];
  *((_DWORD *)v13 + 6546) = a2;
  *((_DWORD *)v13 + 6547) = a3;
  v12 = String;
  v14 = v13 + 26152 - String;
  do
  {
    v15 = *v12;
    v12[v14] = *v12;
    ++v12;
  }
  while ( v15 );
  return (char)v12;
}

//----- (0040E720) --------------------------------------------------------
_DWORD *__thiscall sub_40E720(_DWORD *this, _DWORD *a2, _DWORD *a3, char *Str, int a5)
{
  int v6; // edi
  const char *v7; // ebp
  _DWORD *result; // eax
  int v9; // esi

  v6 = 0;
  if ( (int)this[a5 + 26539] <= 0 )
  {
LABEL_5:
    result = a2;
    *a3 = 0;
    *a2 = 0;
  }
  else
  {
    v7 = (const char *)&this[1000 * a5 + 6538];
    while ( !strstr(Str, v7) )
    {
      ++v6;
      v7 += 40;
      if ( v6 >= this[a5 + 26539] )
        goto LABEL_5;
    }
    v9 = v6 + 100 * a5;
    *a2 = this[10 * v9 + 6546];
    result = (_DWORD *)this[10 * v9 + 6547];
    *a3 = result;
  }
  return result;
}

//----- (0040E7B0) --------------------------------------------------------
void *__thiscall sub_40E7B0(int this)
{
  memset((void *)(this + 26152), 0, 0x13880u);
  return memset((void *)(this + 106156), 0, 0x50u);
}

//----- (0040E7E0) --------------------------------------------------------
int __stdcall sub_40E7E0(int a1, int a2, int a3)
{
  __time64_t v3; // rax
  int result; // eax
  struct tm Tm; // [esp+0h] [ebp-24h] BYREF

  Tm.tm_year = a1 - 1900;
  memset(&Tm, 0, 12);
  Tm.tm_mon = a2 - 1;
  Tm.tm_mday = a3;
  Tm.tm_isdst = -1;
  v3 = _mktime64(&Tm);
  result = HIDWORD(v3) & v3;
  if ( result != -1 )
    return Tm.tm_wday;
  return result;
}

//----- (0040E850) --------------------------------------------------------
void __thiscall sub_40E850(char *Buf, int a2)
{
  int v3; // edi
  int v4; // [esp-4h] [ebp-Ch]

  v3 = *((_DWORD *)Buf + 13);
  switch ( a2 )
  {
    case 0:
      *((_DWORD *)Buf + 20) = dword_4AE508;
      *((_DWORD *)Buf + 9) = dword_4AE4DC;
      *((_DWORD *)Buf + 11) = dword_4AE4E4;
      *((_DWORD *)Buf + 24) = dword_4AE518;
      *((_DWORD *)Buf + 44) = dword_4AE568;
      *((_DWORD *)Buf + 35) = dword_4AE544;
      *((_DWORD *)Buf + 33) = dword_4AE53C;
      *((_DWORD *)Buf + 25) = dword_4AE51C;
      *((_DWORD *)Buf + 26) = dword_4AE520;
      *((_DWORD *)Buf + 45) = dword_4AE56C;
      break;
    case 1:
      *((_DWORD *)Buf + 1) = dword_4AE4BC;
      v4 = 99 - dword_4AE4D0;
      *((_DWORD *)Buf + 6) = dword_4AE4D0;
      sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x31u, v4);
      *((_DWORD *)Buf + 3) = dword_4AE4C4;
      *((_DWORD *)Buf + 5) = dword_4AE4CC;
      *((_DWORD *)Buf + 28) = dword_4AE528;
      *((_DWORD *)Buf + 8) = dword_4AE4D8;
      *((_DWORD *)Buf + 39) = dword_4AE554;
      *((_DWORD *)Buf + 27) = dword_4AE524;
      break;
    case 2:
      *((_DWORD *)Buf + 32) = dword_4AE538;
      *((_DWORD *)Buf + 31) = dword_4AE534;
      *((_DWORD *)Buf + 15) = dword_4AE4F4;
      *((_DWORD *)Buf + 13) = dword_4AE4EC;
      *((_DWORD *)Buf + 17) = dword_4AE4FC;
      *((_DWORD *)Buf + 16) = dword_4AE4F8;
      *((_DWORD *)Buf + 19) = dword_4AE504;
      *((_DWORD *)Buf + 18) = dword_4AE500;
      *((_DWORD *)Buf + 22) = dword_4AE510;
      *((_DWORD *)Buf + 37) = dword_4AE54C;
      *((_DWORD *)Buf + 29) = dword_4AE52C;
      *((_DWORD *)Buf + 30) = dword_4AE530;
      *((_DWORD *)Buf + 23) = dword_4AE514;
      break;
    case 4:
      memset(Buf + 17640, 0, 0x50u);
      break;
    case 5:
      *((_DWORD *)Buf + 36) = dword_4AE548;
      *((_DWORD *)Buf + 38) = dword_4AE550;
      *((_DWORD *)Buf + 92) = 0;
      *((_DWORD *)Buf + 93) = 5;
      *((_DWORD *)Buf + 94) = 2;
      *((_DWORD *)Buf + 95) = 4;
      break;
    default:
      break;
  }
  sub_40DB50((int *)Buf);
  if ( !v3 )
    sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)Buf + 21944, 0, 1u);
}
// 4AE4BC:  int dword_4AE4BC
// 4AE4C4:  int dword_4AE4C4
// 4AE4CC:  int dword_4AE4CC
// 4AE4D0:  int dword_4AE4D0
// 4AE4D8:  int dword_4AE4D8
// 4AE4DC:  int dword_4AE4DC
// 4AE4E4:  int dword_4AE4E4
// 4AE4EC:  int dword_4AE4EC
// 4AE4F4:  int dword_4AE4F4
// 4AE4F8:  int dword_4AE4F8
// 4AE4FC:  int dword_4AE4FC
// 4AE500:  int dword_4AE500
// 4AE504:  int dword_4AE504
// 4AE508:  int dword_4AE508
// 4AE510:  int dword_4AE510
// 4AE514:  int dword_4AE514
// 4AE518:  int dword_4AE518
// 4AE51C:  int dword_4AE51C
// 4AE520:  int dword_4AE520
// 4AE524:  int dword_4AE524
// 4AE528:  int dword_4AE528
// 4AE52C:  int dword_4AE52C
// 4AE530:  int dword_4AE530
// 4AE534:  int dword_4AE534
// 4AE538:  int dword_4AE538
// 4AE53C:  int dword_4AE53C
// 4AE544:  int dword_4AE544
// 4AE548:  int dword_4AE548
// 4AE54C:  int dword_4AE54C
// 4AE550:  int dword_4AE550
// 4AE554:  int dword_4AE554
// 4AE568:  int dword_4AE568
// 4AE56C:  int dword_4AE56C

//----- (0040EA40) --------------------------------------------------------
void __thiscall sub_40EA40(char *this, int a2)
{
  int v3; // edi

  v3 = *((_DWORD *)this + 13);
  if ( a2 )
    memcpy(this, &unk_4AE4B8, 0x4B80u);
  else
    memcpy(this, &unk_4AE4B8, 0xB8u);
  *((_DWORD *)this + 92) = 0;
  *((_DWORD *)this + 93) = 5;
  *((_DWORD *)this + 94) = 2;
  *((_DWORD *)this + 95) = 4;
  memset(this + 17640, 0, 0x50u);
  memset(this + 17720, 0, 0x640u);
  *((_DWORD *)this + 4830) = 0;
  sub_40DB50((int *)this);
  if ( !v3 )
    sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)this + 21944, 0, 1u);
}

//----- (0040EAF0) --------------------------------------------------------
int __thiscall sub_40EAF0(int *this, char *a2)
{
  int result; // eax

  result = sub_40CAB0(this, a2);
  if ( result >= 0 )
    *((_BYTE *)this + result + 784) = 1;
  return result;
}

//----- (0040EB10) --------------------------------------------------------
int __thiscall sub_40EB10(int *this, char *a2)
{
  int result; // eax

  result = sub_40CBC0(this, a2);
  if ( result >= 0 )
    *((_BYTE *)this + result + 1984) = 1;
  return result;
}

//----- (0040EB30) --------------------------------------------------------
void __thiscall sub_40EB30(int *Buf, unsigned __int8 *a2, int a3, int a4)
{
  int v5; // eax

  v5 = sub_40CCD0(Buf, (int)a2, a3);
  sub_40D2C0(Buf, a2, a3, a4 + v5);
}

//----- (0040EB60) --------------------------------------------------------
void __thiscall sub_40EB60(int *Buf, unsigned __int8 *a2, int a3, int a4)
{
  int v5; // eax

  v5 = sub_40CCD0(Buf, (int)a2, a3);
  sub_40D2C0(Buf, a2, a3, v5 - a4);
}

//----- (0040EB90) --------------------------------------------------------
void __thiscall sub_40EB90(int *Buf, unsigned __int8 *a2, int a3, int a4, int a5)
{
  int v6; // eax

  v6 = sub_40CCD0(Buf, a4, a5);
  sub_40D2C0(Buf, a2, a3, v6);
}

//----- (0040EBC0) --------------------------------------------------------
int __thiscall sub_40EBC0(char *this)
{
  int v2; // eax
  char v3; // cl
  char *v4; // eax
  int v6; // esi
  char DstBuf[2040]; // [esp+8h] [ebp-5480h] BYREF
  char Src[19328]; // [esp+800h] [ebp-4C88h] BYREF
  char v10[260]; // [esp+5380h] [ebp-108h] BYREF

  v2 = 0;
  do
  {
    v3 = Path[v2];
    v10[v2++] = v3;
  }
  while ( v3 );
  v4 = &Src[19327];
  while ( *++v4 )
    ;
  strcpy(v4, "\\system.dat");
  v6 = _open(v10, 0x8000, 0);
  if ( v6 == -1 )
  {
    sub_40EA40(this, 1);
    return -1;
  }
  else
  {
    _read(v6, Src, 0x4B80u);
    _read(v6, DstBuf, 0x7F8u);
    _close(v6);
    memcpy(this, Src, 0x4B80u);
    qmemcpy(this + 1188636, DstBuf, 0x7F8u);
    return 0;
  }
}
// 40EBC0:  char var_108[260]

//----- (0040ECD0) --------------------------------------------------------
int __thiscall sub_40ECD0(_DWORD *this)
{
  int result; // eax

  memset(this, 0, 0x4B80u);
  memset(this + 4832, 0, 0x56FE4u);
  memset(this + 272092, 0, 0x4B00u);
  memset(this + 276892, 0, 0x5460u);
  memset(this + 93913, 0, 0x56FE4u);
  memset(this + 182994, 0, 0x56FE4u);
  this[272084] = 0;
  this[297152] = 0;
  this[297153] = 0;
  this[297155] = 0;
  this[297154] = 0;
  this[297156] = 0;
  this[297157] = 0;
  this[297158] = 0;
  this[272089] = 0;
  this[297149] = 0;
  this[297148] = 0;
  this[297151] = 0;
  this[297150] = 0;
  this[272076] = 0;
  this[272075] = 0;
  this[272077] = 0;
  this[272078] = 0;
  this[272079] = 0;
  this[272080] = 0;
  this[272081] = 0;
  this[272085] = 0;
  this[272086] = 0;
  this[272090] = 0;
  this[272091] = 0;
  sub_40E250(this);
  sub_40E290(this);
  sub_40E7B0((int)this);
  sub_40EBC0((char *)this);
  result = sub_40C830(this);
  if ( result == -1 )
  {
    MessageBoxA(0, aNamesDat, WindowName, 0x42000u);
    return PostMessageA(hWnd, 2u, 0, 0);
  }
  return result;
}

//----- (0040EE30) --------------------------------------------------------
_DWORD *__thiscall sub_40EE30(_DWORD *this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _DWORD *result; // eax
  _DWORD *v5; // esi

  v2 = operator new(0x784u);
  if ( v2 )
    v3 = sub_448B00(v2);
  else
    v3 = 0;
  *this = v3;
  result = operator new(0x750u);
  v5 = result;
  if ( result )
    result = (_DWORD *)sub_41C490(result);
  else
    v5 = 0;
  this[1] = v5;
  this[2] = 0;
  this[3] = 0;
  return result;
}

//----- (0040EEE0) --------------------------------------------------------
BOOL __thiscall sub_40EEE0(int *this)
{
  BOOL result; // eax
  int v2; // edx
  int v3; // ecx
  int *v4; // ecx

  result = 0;
  if ( !this[3] )
  {
    v2 = this[2];
    if ( v2 )
    {
      if ( v2 == 1 )
      {
        v4 = (int *)this[1];
        if ( v4 )
          return sub_41D380(v4);
      }
    }
    else
    {
      v3 = *this;
      if ( v3 )
        return sub_448F00(v3);
    }
  }
  return result;
}

//----- (0040EF10) --------------------------------------------------------
void *__thiscall sub_40EF10(int *this)
{
  void *result; // eax
  int v2; // ecx
  _DWORD *v3; // ecx
  _DWORD *v4; // ebx
  _DWORD *v5; // edi
  int i; // esi
  int v7; // ecx

  result = (void *)this[2];
  if ( result )
  {
    if ( result == (void *)1 )
    {
      v3 = (_DWORD *)this[1];
      if ( v3 )
      {
        v4 = v3;
        if ( !v3[467] )
        {
          if ( (v5 = v3 + 35, v3[35]) && ((result = (void *)v3[33], result == (void *)3) || result == (void *)5)
            || (result = Buf, *((_DWORD *)Buf + 9)) )
          {
            for ( i = 0; i < 20; ++i )
            {
              if ( *v5 )
              {
                v7 = v4[i];
                if ( v7 )
                  result = sub_444D20(v7);
              }
              v5 += 22;
            }
          }
        }
      }
    }
  }
  else
  {
    v2 = *this;
    if ( v2 )
      return sub_444D20(v2);
  }
  return result;
}

//----- (0040EF40) --------------------------------------------------------
void __thiscall sub_40EF40(int this, int a2, int a3, int a4, int a5, int a6)
{
  *(_DWORD *)(this + 8) = 1;
  sub_41DC50(*(int **)(this + 4), a2, a3, a4, a5, a6);
}

//----- (0040EF50) --------------------------------------------------------
int __thiscall sub_40EF50(int this, int a2, int a3, int a4, int a5)
{
  *(_DWORD *)(this + 8) = 1;
  return sub_41C5E0(*(_DWORD **)(this + 4), a2, a3, a4, a5);
}

//----- (0040EF90) --------------------------------------------------------
int __thiscall sub_40EF90(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  *(_DWORD *)(this[1] + 1864) = a2;
  return result;
}

//----- (0040EFA0) --------------------------------------------------------
void __thiscall sub_40EFA0(_DWORD *this)
{
  _DWORD *v1; // ecx

  if ( !this[2] )
  {
    v1 = (_DWORD *)*this;
    if ( v1 )
      sub_44A6E0(v1);
  }
}

//----- (0040EFC0) --------------------------------------------------------
int __thiscall sub_40EFC0(_DWORD *this, int a2)
{
  _DWORD *v3; // ecx
  int result; // eax

  v3 = (_DWORD *)this[1];
  if ( v3 )
    result = sub_41D370(v3, a2);
  if ( *this )
    return sub_444A40((_DWORD *)*this, a2);
  return result;
}

//----- (0040EFF0) --------------------------------------------------------
void __thiscall sub_40EFF0(_DWORD *this)
{
  _DWORD *v2; // edi
  void *v3; // edi

  v2 = (_DWORD *)*this;
  if ( *this )
  {
    sub_4470C0((_DWORD *)*this);
    operator delete(v2);
    *this = 0;
  }
  v3 = (void *)this[1];
  if ( v3 )
  {
    sub_41C550((_DWORD *)this[1]);
    operator delete(v3);
    this[1] = 0;
  }
}

//----- (0040F040) --------------------------------------------------------
void __cdecl __noreturn sub_40F040(int pExceptionObject)
{
  _CxxThrowException(&pExceptionObject, (_ThrowInfo *)&_TI1_AVCAtlException_ATL__);
}

//----- (0040F070) --------------------------------------------------------
int __cdecl sub_40F070(HWND hWnd)
{
  HWND v1; // esi
  struct tagMSG Msg; // [esp+8h] [ebp-1Ch] BYREF

  v1 = hWnd;
  if ( !hWnd )
    v1 = ::hWnd;
  while ( PeekMessageA(&Msg, v1, 0, 0, 1u) )
  {
    if ( Msg.message == 18 )
      dword_4C08A8 = 1;
    TranslateMessage(&Msg);
    DispatchMessageA(&Msg);
  }
  if ( dword_4C08AC )
  {
    sub_438D20((int)dword_4C0874);
    if ( *((_DWORD *)dword_4C0874 + 74) )
      sub_4094D0(dword_4C08D4);
    if ( dword_4C0898 )
      sub_453420();
    dword_4C08AC = 0;
  }
  return dword_4C089C;
}
// 4C0898:  int dword_4C0898
// 4C089C:  int dword_4C089C
// 4C08A8:  int dword_4C08A8
// 4C08AC:  int dword_4C08AC

//----- (0040F140) --------------------------------------------------------
BOOL __stdcall fnEnum(HMONITOR a1, HDC a2, LPRECT a3)
{
  return sub_438BF0(dword_4C0874, a3);
}

//----- (0040F160) --------------------------------------------------------
int __cdecl sub_40F160(HWND hWnd)
{
  int v2; // eax
  CHAR v3; // cl
  char *v4; // eax
  HFILE v6; // eax
  struct _stat64i32 Stat; // [esp+8h] [ebp-138h] BYREF
  CHAR Text[260]; // [esp+38h] [ebp-108h] BYREF

  if ( sub_45D5CC((unsigned __int8 *)Path, &Stat) )
  {
    sprintf(Text, &byte_48BB40, Path);
    if ( MessageBoxA(hWnd, Text, WindowName, 0x24u) != 6 )
    {
      MessageBoxA(hWnd, &byte_48BAD0, WindowName, 0x10u);
      return 0;
    }
    if ( _mkdir(Path) )
    {
      sprintf(Text, aS_3, Path);
      MessageBoxA(hWnd, Text, WindowName, 0x10u);
      return 0;
    }
  }
  v2 = 0;
  do
  {
    v3 = Path[v2];
    Text[v2++] = v3;
  }
  while ( v3 );
  v4 = (char *)&Stat.st_ctime + 7;
  while ( *++v4 )
    ;
  strcpy(v4, "\\savetest");
  v6 = lcreat(Text, 0);
  if ( v6 == -1 )
  {
    sprintf(Text, &byte_48BA70, Path);
    MessageBoxA(hWnd, Text, WindowName, 0x10u);
    return 0;
  }
  else
  {
    lclose(v6);
    DeleteFileA(Text);
    return 1;
  }
}
// 40F160:  CHAR Text[260]

//----- (0040F300) --------------------------------------------------------
BOOL __cdecl sub_40F300(HWND hWnd)
{
  HWND Window; // eax
  int v2; // esi
  int v3; // edi
  int v5; // [esp+Ch] [ebp-28h] BYREF
  int v6; // [esp+10h] [ebp-24h] BYREF
  struct tagRECT Rect; // [esp+14h] [ebp-20h] BYREF
  struct tagRECT v8; // [esp+24h] [ebp-10h] BYREF

  GetWindowRect(hWnd, &Rect);
  Window = GetWindow(hWnd, 4u);
  if ( !Window )
    Window = GetDesktopWindow();
  GetWindowRect(Window, &v8);
  v2 = v8.left + (v8.right + Rect.left - Rect.right - v8.left) / 2;
  v3 = v8.top + (v8.bottom + Rect.top - Rect.bottom - v8.top) / 2;
  if ( dword_4C0874 )
  {
    sub_438CD0(dword_4C0874, &v5, &v6);
    if ( v2 < 0 || v2 > v5 )
      v2 = v5 / 2 - (Rect.right - Rect.left) / 2;
    if ( v3 < 0 || v3 > v6 )
      v3 = v6 / 2 - (Rect.bottom - Rect.top) / 2;
  }
  return SetWindowPos(hWnd, 0, v2, v3, 0, 0, 0x15u);
}

//----- (0040F3F0) --------------------------------------------------------
INT_PTR __stdcall sub_40F3F0(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4)
{
  HWND DlgItem; // eax
  char lParam[260]; // [esp+4h] [ebp-108h] BYREF

  if ( a2 == 272 )
  {
    sprintf(lParam, aSVerS, WindowName, "1.01", (char *)Buf + 265848);
    DlgItem = GetDlgItem(hDlg, 1005);
    SendMessageA(DlgItem, 0xCu, 0x104u, (LPARAM)lParam);
    sub_40F300(hDlg);
  }
  else
  {
    if ( a2 != 273 || a3 != 1 && a3 != 2 )
      return 0;
    EndDialog(hDlg, 1);
  }
  return 1;
}
// 40F3F0:  char lParam[260]

//----- (0040F4D0) --------------------------------------------------------
BOOL __cdecl sub_40F4D0(HWND hWnd)
{
  HWND ForegroundWindow; // eax
  DWORD WindowThreadProcessId; // esi
  DWORD CurrentThreadId; // edi

  ForegroundWindow = GetForegroundWindow();
  WindowThreadProcessId = GetWindowThreadProcessId(ForegroundWindow, 0);
  CurrentThreadId = GetCurrentThreadId();
  AttachThreadInput(CurrentThreadId, WindowThreadProcessId, 1);
  SetForegroundWindow(hWnd);
  return AttachThreadInput(CurrentThreadId, WindowThreadProcessId, 0);
}

//----- (0040F510) --------------------------------------------------------
int __cdecl sub_40F510(LPCSTR lpText)
{
  while ( ShowCursor(1) < 0 )
    ;
  return MessageBoxA(hWnd, lpText, WindowName, 0);
}

//----- (0040F540) --------------------------------------------------------
BOOL sub_40F540()
{
  BOOL result; // eax
  struct _OSVERSIONINFOA VersionInformation; // [esp+0h] [ebp-98h] BYREF

  VersionInformation.dwOSVersionInfoSize = 148;
  result = GetVersionExA(&VersionInformation);
  dword_4B314C = VersionInformation.dwMajorVersion;
  return result;
}
// 4B314C:  int dword_4B314C

//----- (0040F590) --------------------------------------------------------
BOOL sub_40F590()
{
  int v0; // eax
  CHAR v1; // cl
  int v2; // eax
  CHAR v3; // cl
  BYTE Data[260]; // [esp+0h] [ebp-108h] BYREF

  sub_44CDF0("DataDir", Data);
  if ( Data[0] )
  {
    v0 = 0;
    do
    {
      v1 = Data[v0];
      PathName[v0++] = v1;
    }
    while ( v1 );
  }
  sub_44CDF0("SaveDir", Data);
  if ( Data[0] )
  {
    v2 = 0;
    do
    {
      v3 = Data[v2];
      Path[v2++] = v3;
    }
    while ( v3 );
  }
  sub_44CDF0("MCID", &::Data);
  sub_44CDF0("MCMail", &byte_4C0820);
  sub_44CEB0("Winmode", &dword_4C0884);
  sub_44CEB0("WinLock", &dword_4C0888);
  sub_44CDF0("InstKey", &byte_4BFBE0);
  sub_44CDF0("Mail", &byte_4C05D0);
  sub_44CDF0("ActKey", &byte_4BFAD8);
  return sub_44CDF0("MCMail", &byte_4C0820);
}
// 40F590:  BYTE Data[260]

//----- (0040F6C0) --------------------------------------------------------
INT_PTR __stdcall sub_40F6C0(HWND hDlg, UINT a2, INT_PTR nResult, LPARAM a4)
{
  HWND v4; // eax
  HWND v5; // eax
  HWND DlgItem; // eax
  HWND v8; // eax
  HWND v9; // eax

  if ( dword_4C0880 )
    sub_41BFD0();
  if ( a2 == 272 )
  {
    DlgItem = GetDlgItem(hDlg, 1013);
    SendMessageA(DlgItem, 0xCu, 0x104u, (LPARAM)byte_4C0820);
    v8 = GetDlgItem(hDlg, 1001);
    SendMessageA(v8, 0xCu, 0x104u, (LPARAM)Data);
    sub_40F300(hDlg);
    v9 = GetDlgItem(hDlg, 1001);
    sub_40F4D0(v9);
    return 1;
  }
  if ( a2 != 273 )
    return 0;
  if ( nResult != 1 )
  {
    if ( nResult == 2 )
      EndDialog(hDlg, 2);
    return 0;
  }
  v4 = GetDlgItem(hDlg, 1001);
  SendMessageA(v4, 0xDu, 0x104u, (LPARAM)Data);
  v5 = GetDlgItem(hDlg, 1013);
  SendMessageA(v5, 0xDu, 0x104u, (LPARAM)byte_4C0820);
  if ( Data[0] && byte_4C0820[0] )
  {
    EndDialog(hDlg, 1);
    return 0;
  }
  else
  {
    MessageBoxA(hDlg, &byte_48BBE4, WindowName, 0);
    return 0;
  }
}
// 4C06D8:  BYTE Data[64]
// 4C0820:  BYTE byte_4C0820[64]

//----- (0040F7F0) --------------------------------------------------------
int __cdecl sub_40F7F0(HWND hWnd)
{
  HDC DC; // esi
  HDC CompatibleDC; // eax
  HBRUSH SolidBrush; // edi
  void *ppvBits; // [esp+10h] [ebp-18h] BYREF
  HGDIOBJ h; // [esp+14h] [ebp-14h]
  struct tagRECT Rect; // [esp+18h] [ebp-10h] BYREF

  DC = GetDC(hWnd);
  hdc = CreateCompatibleDC(DC);
  CompatibleDC = CreateCompatibleDC(DC);
  pbmi.bmiHeader.biPlanes = 1;
  hdcSrc = CompatibleDC;
  pbmi.bmiHeader.biSize = 40;
  pbmi.bmiHeader.biWidth = 1280;
  pbmi.bmiHeader.biHeight = 720;
  pbmi.bmiHeader.biBitCount = 24;
  pbmi.bmiHeader.biCompression = 0;
  pbmi.bmiHeader.biSizeImage = 2764800;
  pbmi.bmiHeader.biXPelsPerMeter = 0;
  pbmi.bmiHeader.biYPelsPerMeter = 0;
  pbmi.bmiHeader.biClrUsed = 0;
  pbmi.bmiHeader.biClrImportant = 0;
  ::h = CreateDIBSection(CompatibleDC, &pbmi, 0, &ppvBits, 0, 0);
  dword_4C08BC = (int)CreateCompatibleBitmap(DC, 1280, 720);
  dword_4C08C4 = (int)SelectObject(hdcSrc, (HGDIOBJ)dword_4C08BC);
  sub_44D830(1280, 720, (int)ppvBits);
  GetClientRect(hWnd, &Rect);
  SolidBrush = CreateSolidBrush(0);
  h = SelectObject(DC, SolidBrush);
  FillRect(hdcSrc, &Rect, SolidBrush);
  SelectObject(DC, h);
  DeleteObject(SolidBrush);
  ReleaseDC(hWnd, DC);
  return 1;
}
// 4C08BC:  int dword_4C08BC
// 4C08C4:  int dword_4C08C4

//----- (0040F930) --------------------------------------------------------
BOOL __cdecl sub_40F930(HWND hWnd)
{
  HDC v1; // esi
  HGDIOBJ v2; // ebp
  struct tagRECT Rect; // [esp+10h] [ebp-54h] BYREF
  struct tagPAINTSTRUCT Paint; // [esp+20h] [ebp-44h] BYREF

  GetUpdateRect(hWnd, &Rect, 0);
  v1 = BeginPaint(hWnd, &Paint);
  v2 = SelectObject(hdc, h);
  BitBlt(hdcSrc, 0, 0, 1280, 720, hdc, 0, 0, 0xCC0020u);
  SelectObject(hdc, v2);
  GdiFlush();
  if ( *((_DWORD *)dword_4C0874 + 3) )
  {
    BitBlt(v1, 0, 0, 1280, 720, hdcSrc, 0, 0, 0xCC0020u);
  }
  else if ( *((_DWORD *)dword_4C0874 + 4) )
  {
    SetStretchBltMode(v1, 4);
    StretchBlt(
      v1,
      (int)*((float *)dword_4C0874 + 61),
      (int)*((float *)dword_4C0874 + 62),
      (int)(*((float *)dword_4C0874 + 59) * 1280.0),
      (int)(*((float *)dword_4C0874 + 59) * 720.0),
      hdcSrc,
      0,
      0,
      1280,
      720,
      0xCC0020u);
  }
  else
  {
    StretchBlt(
      v1,
      0,
      0,
      *((_DWORD *)dword_4C0874 + 57),
      *((_DWORD *)dword_4C0874 + 58),
      hdcSrc,
      0,
      0,
      1280,
      720,
      0xCC0020u);
  }
  return EndPaint(hWnd, &Paint);
}

//----- (0040FAB0) --------------------------------------------------------
INT_PTR __stdcall sub_40FAB0(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4)
{
  HWND v5; // eax
  HWND DlgItem; // eax

  if ( a2 == 6 )
  {
    if ( (a3 & 0xFFFF0000) != 0 || !(_WORD)a3 )
    {
      sub_442D70(dword_4C087C, 0);
      return 0;
    }
    if ( (_WORD)a3 == 2 )
    {
      sub_40F4D0(hDlg);
      return 0;
    }
    if ( (_WORD)a3 == 1 )
      sub_40F4D0(hDlg);
    return 0;
  }
  if ( a2 == 272 )
  {
    DlgItem = GetDlgItem(hDlg, 1032);
    SendMessageA(DlgItem, 0xCu, 0x104u, (LPARAM)Source);
    sub_40F300(hDlg);
    sub_40F4D0(hDlg);
    return 1;
  }
  if ( a2 != 273 )
    return 0;
  if ( a3 != 1 )
  {
    if ( a3 == 2 )
    {
      dword_4C088C = 0;
      EndDialog(hDlg, 2);
      return 1;
    }
    if ( (_WORD)a3 == 1032 )
    {
      v5 = GetDlgItem(hDlg, 1032);
      SendMessageA(v5, 0xDu, 0x104u, (LPARAM)byte_4BFBE0);
      return 0;
    }
    if ( (_WORD)a3 == 1008 )
    {
      if ( dword_4C0890 )
      {
        dword_4C088C = 1;
        EndDialog(hDlg, a3);
        return 1;
      }
      else
      {
        MessageBoxA(hWnd, &byte_48BC18, WindowName, 0);
        return 0;
      }
    }
    return 0;
  }
  if ( sub_44D440((const char *)byte_4BFBE0, 170) < 0 )
  {
    MessageBoxA(0, &byte_48BC70, WindowName, 0x42000u);
  }
  else
  {
    dword_4C088C = 0;
    EndDialog(hDlg, 1);
  }
  return 1;
}
// 4BFBE0:  BYTE byte_4BFBE0[264]
// 4C088C:  int dword_4C088C
// 4C0890:  int dword_4C0890

//----- (0040FC70) --------------------------------------------------------
INT_PTR __stdcall DialogFunc(HWND hDlg, UINT a2, WPARAM a3, LPARAM a4)
{
  HWND DlgItem; // eax
  HWND v5; // eax
  HWND v7; // eax
  HWND v8; // eax
  HWND v9; // eax
  HWND v10; // eax
  HWND v11; // eax
  HWND v12; // eax
  BYTE *v13; // [esp-4h] [ebp-10h]

  if ( a2 != 272 )
  {
    if ( a2 == 273 )
    {
      switch ( a3 )
      {
        case 1u:
          DlgItem = GetDlgItem(hDlg, 1002);
          SendMessageA(DlgItem, 0xDu, 0x104u, (LPARAM)byte_4BFAD8);
          v5 = GetDlgItem(hDlg, 1013);
          SendMessageA(v5, 0xDu, 0x104u, (LPARAM)byte_4C05D0);
          if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0
            && sub_44D590(170, (char *)byte_4C05D0, (const char *)byte_4BFAD8) )
          {
            MessageBoxA(hDlg, &byte_48BE60, WindowName, 0);
            EndDialog(hDlg, 1);
            return 1;
          }
          else
          {
            MessageBoxA(hDlg, &byte_48BDD8, WindowName, 0);
            return 0;
          }
        case 2u:
          if ( MessageBoxA(hDlg, &byte_48BDA4, WindowName, 1u) == 1 )
          {
            EndDialog(hDlg, 2);
            return 1;
          }
          break;
        case 0x3F6u:
          if ( MessageBoxA(hDlg, aHttpMycircusid_0, WindowName, 1u) == 1
            && sub_407630((int)hDlg, ".html", "http://mycircusid.fc-soft.com/kkey/", 0) )
          {
            MessageBoxA(hDlg, aHttpMycircusid_1, WindowName, 0);
            MessageBoxA(hDlg, &byte_48BCCC, WindowName, 1u);
            return 0;
          }
          break;
        default:
          if ( (_WORD)a3 == 1032 )
          {
            v7 = GetDlgItem(hDlg, 1032);
            SendMessageA(v7, 0xDu, 0x104u, (LPARAM)byte_4BFBE0);
            if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0 )
            {
              v8 = GetDlgItem(hDlg, 1);
              EnableWindow(v8, 1);
              return 0;
            }
            v9 = GetDlgItem(hDlg, 1);
            EnableWindow(v9, 0);
          }
          break;
      }
    }
    return 0;
  }
  if ( sub_44D440((const char *)byte_4BFBE0, 170) < 0 )
    v13 = (BYTE *)Source;
  else
    v13 = byte_4BFBE0;
  v10 = GetDlgItem(hDlg, 1032);
  SendMessageA(v10, 0xCu, 0x104u, (LPARAM)v13);
  v11 = GetDlgItem(hDlg, 1013);
  SendMessageA(v11, 0xCu, 0x104u, (LPARAM)Source);
  v12 = GetDlgItem(hDlg, 1002);
  SendMessageA(v12, 0xCu, 0x104u, (LPARAM)Source);
  sub_40F300(hDlg);
  sub_40F4D0(hDlg);
  return 1;
}
// 4BFAD8:  BYTE byte_4BFAD8[260]
// 4BFBE0:  BYTE byte_4BFBE0[264]
// 4C05D0:  BYTE byte_4C05D0[264]

//----- (0040FEF0) --------------------------------------------------------
int sub_40FEF0()
{
  int result; // eax

  if ( sub_407200("AdvData\\GRP\\bg\\black.crx")
    && sub_407200("AdvData\\music\\001.pcm")
    && sub_407200("AdvData\\VOICE.DAT") )
  {
    result = 1;
    dword_4C0890 = 1;
  }
  else
  {
    result = 0;
    dword_4C0890 = 0;
  }
  return result;
}
// 4C0890:  int dword_4C0890

//----- (0040FF40) --------------------------------------------------------
BOOL __cdecl sub_40FF40(_BYTE *RootPathName)
{
  LOBYTE(RootPathName) = *RootPathName;
  strcpy((char *)&RootPathName + 1, ":\\");
  return GetDriveTypeA((LPCSTR)&RootPathName) == 5;
}

//----- (0040FF70) --------------------------------------------------------
BOOL __cdecl sub_40FF70(CHAR *a1, char *String1)
{
  CHAR RootPathName; // [esp+4h] [ebp-6Ch] BYREF
  char v4[103]; // [esp+5h] [ebp-6Bh] BYREF

  RootPathName = *a1;
  strcpy(v4, ":\\");
  GetVolumeInformationA(&RootPathName, &v4[3], 0x64u, 0, 0, 0, 0, 0);
  return _stricmp(String1, &v4[3]) == 0;
}

//----- (0040FFE0) --------------------------------------------------------
CHAR __cdecl sub_40FFE0(char *String1)
{
  char v1; // al
  CHAR v2; // bl
  CHAR RootPathName; // [esp+Bh] [ebp-1h] BYREF

  v1 = toupper(PathName[0]);
  v2 = v1;
  if ( v1 < 65 || v1 > 90 )
    v2 = 65;
  RootPathName = v2;
  if ( v2 > 90 )
  {
LABEL_8:
    RootPathName = 65;
    if ( v2 <= 65 )
      return 0;
    while ( !sub_40FF40(&RootPathName) || !sub_40FF70(&RootPathName, String1) )
    {
      if ( ++RootPathName >= v2 )
        return 0;
    }
  }
  else
  {
    while ( !sub_40FF40(&RootPathName) || !sub_40FF70(&RootPathName, String1) )
    {
      if ( ++RootPathName > 90 )
        goto LABEL_8;
    }
  }
  return RootPathName;
}

//----- (00410090) --------------------------------------------------------
BOOL __cdecl sub_410090(HWND hWnd)
{
  BOOL result; // eax
  CHAR v2; // al

  sub_40FEF0();
  if ( dword_4C0890 && (result = sub_44D590(170, (char *)byte_4C05D0, (const char *)byte_4BFAD8)) )
  {
    LOBYTE(word_4B3048) = 46;
  }
  else if ( sub_40FFE0("DC4") )
  {
    if ( MessageBoxA(hWnd, aDc4_0, WindowName, 0x31u) == 1 )
    {
      while ( 1 )
      {
        v2 = sub_40FFE0("DC4");
        if ( v2 )
          break;
        if ( MessageBoxA(hWnd, aDc4_0, WindowName, 0x31u) != 1 )
          return 0;
      }
      strcpy((char *)&word_4B3048, "Q:");
      LOBYTE(word_4B3048) = v2;
      return 1;
    }
    else
    {
      return 0;
    }
  }
  else
  {
    word_4B3048 = 14848;
    byte_4B304A = 0;
    return 1;
  }
  return result;
}
// 4B3048:  __int16 word_4B3048
// 4B304A:  char byte_4B304A
// 4BFAD8:  BYTE byte_4BFAD8[260]
// 4C05D0:  BYTE byte_4C05D0[264]
// 4C0890:  int dword_4C0890

//----- (00410180) --------------------------------------------------------
void __thiscall sub_410180(_DWORD **this)
{
  _DWORD *v2; // [esp-4h] [ebp-8h]

  while ( *this )
  {
    v2 = *this;
    *this = (_DWORD *)**this;
    free(v2);
  }
}

//----- (004101A0) --------------------------------------------------------
OLECHAR **__thiscall sub_4101A0(OLECHAR **this, LPCCH lpMultiByteStr)
{
  const CHAR *v2; // ebx
  OLECHAR **result; // eax
  int v4; // esi
  WCHAR *v5; // eax
  OLECHAR *v6; // edi
  const CHAR *v7; // [esp-1Ch] [ebp-24h]

  v2 = lpMultiByteStr;
  result = this;
  if ( lpMultiByteStr )
  {
    v7 = lpMultiByteStr;
    lpMultiByteStr = 0;
    v4 = MultiByteToWideChar(3u, 0, v7, -1, 0, 0);
    v5 = SysAllocStringLen(0, v4 - 1);
    v6 = v5;
    if ( !v5 || MultiByteToWideChar(3u, 0, v2, -1, v5, v4) == v4 )
    {
      sub_410180((_DWORD **)&lpMultiByteStr);
    }
    else
    {
      SysFreeString(v6);
      sub_410180((_DWORD **)&lpMultiByteStr);
      v6 = 0;
    }
    *this = v6;
    if ( !v6 )
      sub_40F040(-2147024882);
    return this;
  }
  else
  {
    *this = 0;
  }
  return result;
}

//----- (00410250) --------------------------------------------------------
void sub_410250()
{
  void *v0; // esi
  void *v1; // esi
  void *v2; // esi

  if ( dword_4C0878 )
  {
    operator delete(dword_4C0878);
    dword_4C0878 = 0;
  }
  if ( dword_4C0880 )
  {
    v0 = dword_4C0880;
    sub_41C310();
    operator delete(v0);
    dword_4C0880 = 0;
  }
  if ( dword_4C087C )
  {
    v1 = dword_4C087C;
    sub_442D90(dword_4C087C, (void *)1);
    operator delete(v1);
    dword_4C087C = 0;
  }
  if ( dword_4C0874 )
  {
    v2 = dword_4C0874;
    sub_439E00((int)dword_4C0874);
    operator delete(v2);
    dword_4C0874 = 0;
  }
}

//----- (004102E0) --------------------------------------------------------
int __cdecl sub_4102E0(HINSTANCE hInstance)
{
  DWORD v1; // edi
  int v2; // edi
  int v3; // ebx
  int v4; // ebp
  int v5; // edi
  unsigned int v6; // ebx
  int v7; // eax
  int v8; // ebx
  int v9; // edi
  int v10; // ebp
  int v11; // eax
  HWND Window; // ebx
  HMENU SystemMenu; // esi
  unsigned int Time; // eax
  BYTE v16[4]; // [esp+10h] [ebp-28h] BYREF
  BYTE v17[4]; // [esp+14h] [ebp-24h] BYREF
  BYTE Data[4]; // [esp+18h] [ebp-20h] BYREF
  int Y; // [esp+1Ch] [ebp-1Ch]
  DWORD dwStyle; // [esp+20h] [ebp-18h]
  unsigned int v21; // [esp+24h] [ebp-14h]
  struct tagRECT Rect; // [esp+28h] [ebp-10h] BYREF

  v1 = dwNewLong;
  dwStyle = dwNewLong;
  Rect.left = 0;
  Rect.top = 0;
  Rect.right = GetSystemMetrics(5) + 1279;
  Rect.bottom = GetSystemMetrics(6) + 719;
  AdjustWindowRect(&Rect, v1, 0);
  v2 = Rect.right - Rect.left;
  v3 = Rect.bottom - Rect.top;
  dword_4C0860 = Rect.right - Rect.left - 1280;
  dword_4C0864 = Rect.bottom - Rect.top - 720;
  v4 = GetSystemMetrics(0) / 2 - v2 / 2;
  v5 = GetSystemMetrics(1) / 2 - v3 / 2;
  v6 = (v4 + GetSystemMetrics(5)) & 0xFFFFFFF8;
  v7 = v6 + GetSystemMetrics(5);
  if ( v7 < 0 )
    v7 = 0;
  if ( v5 < 0 )
    v5 = 0;
  dword_4C05C0 = v5 + Rect.top;
  dword_4C05BC = v7 + Rect.left;
  dword_4C05C4 = v7 + Rect.right;
  dword_4C05C8 = v5 + Rect.bottom;
  sub_44CEB0("WinInit", Data);
  if ( *(_DWORD *)Data )
  {
    sub_44CEB0("WinSizex", v16);
    sub_44CEB0("WinSizey", v17);
    if ( !*(_DWORD *)v16 )
      *(_DWORD *)v16 = 1280;
    if ( !*(_DWORD *)v17 )
      *(_DWORD *)v17 = 720;
  }
  else
  {
    *(_DWORD *)v16 = 1280;
    *(_DWORD *)v17 = 720;
    *(_DWORD *)Data = 1;
    sub_44D080("WinInit", Data);
  }
  Rect.left = 0;
  Rect.top = 0;
  Rect.right = GetSystemMetrics(5) + *(_DWORD *)v16 - 1;
  Rect.bottom = GetSystemMetrics(6) + *(_DWORD *)v17 - 1;
  AdjustWindowRect(&Rect, dwStyle, 0);
  v8 = Rect.bottom - Rect.top;
  v9 = Rect.right - Rect.left;
  dword_4C0864 = Rect.bottom - Rect.top - *(_DWORD *)v17;
  dword_4C0860 = Rect.right - Rect.left - *(_DWORD *)v16;
  sub_44D1B0(dword_4C0878, Rect.right - Rect.left - *(_DWORD *)v16, Rect.bottom - Rect.top - *(_DWORD *)v17);
  sub_44D170(dword_4C0878, Rect.left, Rect.top, Rect.right, Rect.bottom);
  v10 = GetSystemMetrics(0) / 2 - v9 / 2;
  Y = GetSystemMetrics(1) / 2 - v8 / 2;
  v21 = (v10 + GetSystemMetrics(5)) & 0xFFFFFFF8;
  v11 = v21 + GetSystemMetrics(5);
  if ( v11 < 0 )
    v11 = 0;
  if ( Y < 0 )
    Y = 0;
  Window = CreateWindowExA(0, "DC4_WIN_Class", WindowName, dwStyle, v11, Y, v9, v8, 0, 0, hInstance, 0);
  SystemMenu = GetSystemMenu(Window, 0);
  AppendMenuA(SystemMenu, 0x800u, 0, Source);
  AppendMenuA(SystemMenu, 0, 0x38Bu, &byte_48BF04);
  AppendMenuA(SystemMenu, 0x800u, 0, Source);
  AppendMenuA(SystemMenu, 0, 0x384u, &byte_48BEF4);
  if ( !Window )
    return 0;
  hWnd = Window;
  if ( dword_4B314C <= 5 )
    WINNLSEnableIME(0, 0);
  Time = timeGetTime();
  srand(Time);
  sub_40F7F0(Window);
  return 1;
}
// 4B314C:  int dword_4B314C
// 4C05BC:  int dword_4C05BC
// 4C05C0:  int dword_4C05C0
// 4C05C4:  int dword_4C05C4
// 4C05C8:  int dword_4C05C8
// 4C0860:  int dword_4C0860
// 4C0864:  int dword_4C0864

//----- (00410600) --------------------------------------------------------
int sub_410600()
{
  if ( dword_4C0874 )
  {
    if ( *((_DWORD *)dword_4C0874 + 2) )
      sub_43A690((int)dword_4C0874, 0, 0);
  }
  if ( !dword_4C0890 )
  {
    MessageBoxA(hWnd, &byte_48BC18, WindowName, 0);
    return -1;
  }
  if ( DialogBoxParamA(hInstance, (LPCSTR)0x73, hWnd, DialogFunc, 0) != 1 )
    return -1;
  sub_410090(hWnd);
  sub_44CF80("InstKey", byte_4BFBE0);
  sub_44CF80("Mail", byte_4C05D0);
  sub_44CF80("ActKey", byte_4BFAD8);
  return 0;
}
// 4BFAD8:  BYTE byte_4BFAD8[260]
// 4BFBE0:  BYTE byte_4BFBE0[264]
// 4C05D0:  BYTE byte_4C05D0[264]
// 4C0890:  int dword_4C0890

//----- (004106C0) --------------------------------------------------------
int sub_4106C0()
{
  BOOL v0; // edi
  INT_PTR v1; // esi

  if ( *((_DWORD *)dword_4C0874 + 2) )
    sub_43A690((int)dword_4C0874, 0, 0);
  v0 = 0;
  do
  {
    dword_4C088C = 0;
    v1 = DialogBoxParamA(hInstance, (LPCSTR)0x72, hWnd, sub_40FAB0, 0);
    if ( v1 == 1 )
    {
      if ( dword_4C088C == 1 )
        v0 = sub_44D590(170, (char *)byte_4C05D0, (const char *)byte_4BFAD8) || sub_410600() != -1;
      if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0 )
        dword_4C088C = 0;
      if ( sub_44D590(170, (char *)byte_4C05D0, (const char *)byte_4BFAD8) )
        v0 = 1;
    }
  }
  while ( dword_4C088C );
  if ( v1 != 1 )
    return -1;
  if ( dword_4C0890 && !v0 && (MessageBoxA(hWnd, &byte_48BFC4, WindowName, 0x24u) != 6 || sub_410600() == -1) )
    MessageBoxA(hWnd, &byte_48BF50, WindowName, 0);
  sub_44CF80("InstKey", byte_4BFBE0);
  sub_44CF80("Mail", byte_4C05D0);
  sub_44CF80("ActKey", byte_4BFAD8);
  return 0;
}
// 4BFAD8:  BYTE byte_4BFAD8[260]
// 4BFBE0:  BYTE byte_4BFBE0[264]
// 4C05D0:  BYTE byte_4C05D0[264]
// 4C088C:  int dword_4C088C
// 4C0890:  int dword_4C0890

//----- (00410850) --------------------------------------------------------
LPVOID __cdecl sub_410850(const char *a1, LPCCH a2, CHAR *a3)
{
  OLECHAR *v3; // eax
  void (__stdcall *v4)(LPVOID, OLECHAR *, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int *); // eax
  BSTR v5; // eax
  OLECHAR *v6; // esi
  OLECHAR *v7; // ebp
  void (__stdcall *v8)(int, BSTR, BSTR, int, _DWORD, int *); // eax
  void (__stdcall *v9)(int); // edx
  OLECHAR *v10; // edi
  int (__stdcall *v11)(int, BSTR, _DWORD, VARIANTARG *, _DWORD, _DWORD); // edx
  LPVOID result; // eax
  OLECHAR *v13; // [esp+3Ch] [ebp-180h]
  BSTR v14; // [esp+48h] [ebp-174h]
  int v15; // [esp+70h] [ebp-14Ch] BYREF
  int v16; // [esp+74h] [ebp-148h] BYREF
  int v17; // [esp+78h] [ebp-144h] BYREF
  LPVOID ppv; // [esp+7Ch] [ebp-140h] BYREF
  BSTR bstrString; // [esp+80h] [ebp-13Ch] BYREF
  LPSTR lpMultiByteStr; // [esp+84h] [ebp-138h]
  BSTR v21; // [esp+88h] [ebp-134h] BYREF
  BSTR v22; // [esp+8Ch] [ebp-130h]
  BSTR v23; // [esp+90h] [ebp-12Ch]
  VARIANTARG pvarg; // [esp+94h] [ebp-128h] BYREF
  char v25[4]; // [esp+A4h] [ebp-118h] BYREF
  char Buffer[260]; // [esp+A8h] [ebp-114h] BYREF
  int v27; // [esp+1B8h] [ebp-4h]

  lpMultiByteStr = a3;
  *a3 = 0;
  ppv = 0;
  v27 = 1;
  v17 = 0;
  if ( CoCreateInstance(&rclsid, 0, 5u, &riid, &ppv) >= 0 )
  {
    v3 = SysAllocString(L"root\\cimv2");
    v22 = v3;
    if ( !v3 )
      sub_40F040(-2147024882);
    v13 = v3;
    v4 = *(void (__stdcall **)(LPVOID, OLECHAR *, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int *))(*(_DWORD *)ppv + 12);
    LOBYTE(v27) = 2;
    v4(ppv, v13, 0, 0, 0, 0, 0, 0, &v17);
    sprintf(Buffer, "Select * from %s", a1);
    sub_4101A0(&v21, Buffer);
    LOBYTE(v27) = 3;
    v5 = SysAllocString(&off_48BFE4);
    v6 = v5;
    v23 = v5;
    if ( !v5 )
      sub_40F040(-2147024882);
    v15 = 0;
    v7 = v21;
    v14 = v5;
    v8 = *(void (__stdcall **)(int, BSTR, BSTR, int, _DWORD, int *))(*(_DWORD *)v17 + 80);
    LOBYTE(v27) = 5;
    v8(v17, v14, v21, 16, 0, &v15);
    v16 = 0;
    v9 = *(void (__stdcall **)(int))(*(_DWORD *)v15 + 12);
    LOBYTE(v27) = 6;
    v9(v15);
    (*(void (__stdcall **)(int, int, int, int *, char *))(*(_DWORD *)v15 + 16))(v15, -1, 1, &v16, v25);
    VariantInit(&pvarg);
    LOBYTE(v27) = 7;
    sub_4101A0(&bstrString, a2);
    v10 = bstrString;
    v11 = *(int (__stdcall **)(int, BSTR, _DWORD, VARIANTARG *, _DWORD, _DWORD))(*(_DWORD *)v16 + 16);
    LOBYTE(v27) = 8;
    if ( !v11(v16, bstrString, 0, &pvarg, 0, 0) )
      WideCharToMultiByte(0, 0, pvarg.bstrVal, -1, lpMultiByteStr, 259, 0, 0);
    SysFreeString(v10);
    VariantClear(&pvarg);
    LOBYTE(v27) = 5;
    if ( v16 )
      (*(void (__stdcall **)(int))(*(_DWORD *)v16 + 8))(v16);
    LOBYTE(v27) = 4;
    if ( v15 )
      (*(void (__stdcall **)(int))(*(_DWORD *)v15 + 8))(v15);
    SysFreeString(v6);
    SysFreeString(v7);
    SysFreeString(v22);
  }
  LOBYTE(v27) = 0;
  if ( v17 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v17 + 8))(v17);
  result = ppv;
  v27 = -1;
  if ( ppv )
    return (LPVOID)(*(int (__stdcall **)(LPVOID))(*(_DWORD *)ppv + 8))(ppv);
  return result;
}
// 410850:  char var_118[4]

//----- (00410AD0) --------------------------------------------------------
LPVOID __cdecl sub_410AD0(const char *a1, LPCCH lpMultiByteStr, LONG *a3)
{
  OLECHAR *v3; // eax
  void (__stdcall *v4)(LPVOID, OLECHAR *, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int *); // eax
  BSTR v5; // eax
  OLECHAR *v6; // esi
  OLECHAR *v7; // ebp
  void (__stdcall *v8)(int, BSTR, BSTR, int, _DWORD, int *); // eax
  void (__stdcall *v9)(int); // edx
  OLECHAR *v10; // edi
  int (__stdcall *v11)(int, BSTR, _DWORD, VARIANTARG *, _DWORD, _DWORD); // edx
  LPVOID result; // eax
  OLECHAR *v13; // [esp+3Ch] [ebp-180h]
  BSTR v14; // [esp+48h] [ebp-174h]
  int v15; // [esp+70h] [ebp-14Ch] BYREF
  int v16; // [esp+74h] [ebp-148h] BYREF
  int v17; // [esp+78h] [ebp-144h] BYREF
  LPVOID ppv; // [esp+7Ch] [ebp-140h] BYREF
  BSTR bstrString; // [esp+80h] [ebp-13Ch] BYREF
  LONG *v20; // [esp+84h] [ebp-138h]
  BSTR v21; // [esp+88h] [ebp-134h] BYREF
  BSTR v22; // [esp+8Ch] [ebp-130h]
  BSTR v23; // [esp+90h] [ebp-12Ch]
  VARIANTARG pvarg; // [esp+94h] [ebp-128h] BYREF
  char v25[4]; // [esp+A4h] [ebp-118h] BYREF
  char Buffer[260]; // [esp+A8h] [ebp-114h] BYREF
  int v27; // [esp+1B8h] [ebp-4h]

  v20 = a3;
  *a3 = 0;
  ppv = 0;
  v27 = 1;
  v17 = 0;
  if ( CoCreateInstance(&rclsid, 0, 5u, &riid, &ppv) >= 0 )
  {
    v3 = SysAllocString(L"root\\cimv2");
    v22 = v3;
    if ( !v3 )
      sub_40F040(-2147024882);
    v13 = v3;
    v4 = *(void (__stdcall **)(LPVOID, OLECHAR *, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int *))(*(_DWORD *)ppv + 12);
    LOBYTE(v27) = 2;
    v4(ppv, v13, 0, 0, 0, 0, 0, 0, &v17);
    sprintf(Buffer, "Select * from %s", a1);
    sub_4101A0(&v21, Buffer);
    LOBYTE(v27) = 3;
    v5 = SysAllocString(&off_48BFE4);
    v6 = v5;
    v23 = v5;
    if ( !v5 )
      sub_40F040(-2147024882);
    v15 = 0;
    v7 = v21;
    v14 = v5;
    v8 = *(void (__stdcall **)(int, BSTR, BSTR, int, _DWORD, int *))(*(_DWORD *)v17 + 80);
    LOBYTE(v27) = 5;
    v8(v17, v14, v21, 16, 0, &v15);
    v16 = 0;
    v9 = *(void (__stdcall **)(int))(*(_DWORD *)v15 + 12);
    LOBYTE(v27) = 6;
    v9(v15);
    (*(void (__stdcall **)(int, int, int, int *, char *))(*(_DWORD *)v15 + 16))(v15, -1, 1, &v16, v25);
    VariantInit(&pvarg);
    LOBYTE(v27) = 7;
    sub_4101A0(&bstrString, lpMultiByteStr);
    v10 = bstrString;
    v11 = *(int (__stdcall **)(int, BSTR, _DWORD, VARIANTARG *, _DWORD, _DWORD))(*(_DWORD *)v16 + 16);
    LOBYTE(v27) = 8;
    if ( !v11(v16, bstrString, 0, &pvarg, 0, 0) )
      *v20 = pvarg.lVal;
    SysFreeString(v10);
    VariantClear(&pvarg);
    LOBYTE(v27) = 5;
    if ( v16 )
      (*(void (__stdcall **)(int))(*(_DWORD *)v16 + 8))(v16);
    LOBYTE(v27) = 4;
    if ( v15 )
      (*(void (__stdcall **)(int))(*(_DWORD *)v15 + 8))(v15);
    SysFreeString(v6);
    SysFreeString(v7);
    SysFreeString(v22);
  }
  LOBYTE(v27) = 0;
  if ( v17 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v17 + 8))(v17);
  result = ppv;
  v27 = -1;
  if ( ppv )
    return (LPVOID)(*(int (__stdcall **)(LPVOID))(*(_DWORD *)ppv + 8))(ppv);
  return result;
}
// 410AD0:  char var_118[4]

//----- (00410D40) --------------------------------------------------------
signed int sub_410D40()
{
  signed int result; // eax
  unsigned int v1; // eax
  char *v2; // edi
  char *v4; // edi
  int v6; // eax
  int v7; // esi
  char *v8; // ecx
  unsigned int v9; // eax
  char *v10; // esi
  char *v11; // edi
  char *v13; // edi
  char *v15; // ecx
  unsigned int v16; // eax
  char *v17; // esi
  char *v18; // edi
  char *v20; // eax
  int v22; // [esp-14h] [ebp-228h]
  int v23; // [esp-14h] [ebp-228h]
  int v24; // [esp-14h] [ebp-228h]
  int v25; // [esp-10h] [ebp-224h]
  int v26; // [esp-10h] [ebp-224h]
  int v27; // [esp-10h] [ebp-224h]
  char v28[2]; // [esp+2h] [ebp-212h]
  int Value; // [esp+4h] [ebp-210h] BYREF
  char Str; // [esp+8h] [ebp-20Ch] BYREF
  _BYTE v31[258]; // [esp+9h] [ebp-20Bh] BYREF
  char v32; // [esp+10Bh] [ebp-109h] BYREF
  char Buffer[260]; // [esp+10Ch] [ebp-108h] BYREF

  byte_4BFCE8[0] = 0;
  if ( !dword_4C08CC )
  {
    result = CoInitializeSecurity(0, -1, 0, 0, 4u, 3u, 0, 0, 0);
    if ( result < 0 )
      return result;
    dword_4C08CC = 1;
  }
  sub_410850("Win32_OperatingSystem", "Caption", &Str);
  sprintf(Buffer, "OS:%s ", &Str);
  sub_410850("Win32_OperatingSystem", "OSArchitecture", &Str);
  v1 = strlen(&Str) + 1;
  v2 = &v32;
  while ( *++v2 )
    ;
  qmemcpy(v2, &Str, v1);
  v4 = &v32;
  while ( *++v4 )
    ;
  *(_WORD *)v4 = 10;
  strcat(byte_4BFCE8, Buffer);
  sub_410850("Win32_Processor", "Name", &Str);
  sprintf(Buffer, "CPU:%s\n", &Str);
  strcat(byte_4BFCE8, Buffer);
  sub_410850("Win32_ComputerSystem", "TotalPhysicalMemory", &Str);
  if ( strlen(&Str) < 7 )
  {
    v27 = atol(&Str);
    sprintf(Buffer, "MEMORY:%dMB\n", v27);
  }
  else
  {
    v28[strlen(&Str)] = 0;
    if ( strlen(&Str) < 4 )
    {
      v26 = atol(&Str);
      sprintf(Buffer, "MEMORY:%dMB\n", v26);
    }
    else
    {
      *((_BYTE *)&Value + strlen(&Str) + 1) = 0;
      v25 = atol(&Str);
      sprintf(Buffer, "MEMORY:%dGB\n", v25);
    }
  }
  strcat(byte_4BFCE8, Buffer);
  sub_410850("Win32_LogicalDisk Where DriveType=3", "Size", &Str);
  if ( strlen(&Str) < 7 || (v28[&v31[strlen(&Str)] - v31] = 0, strlen(&Str) < 4) )
  {
    v6 = atol(&Str);
  }
  else
  {
    *((_BYTE *)&Value + strlen(&Str) + 1) = 0;
    v6 = atol(&Str);
  }
  v7 = v6;
  sub_410850("Win32_LogicalDisk Where DriveType=3", "FreeSpace", &Str);
  if ( strlen(&Str) < 7 )
  {
    v24 = atol(&Str);
    sprintf(Buffer, "HDD:%d/%dMB\n", v24, v7);
  }
  else
  {
    v28[&v31[strlen(&Str)] - v31] = 0;
    if ( strlen(&Str) < 4 )
    {
      v23 = atol(&Str);
      sprintf(Buffer, byte_48C270, v23, v7);
    }
    else
    {
      *((_BYTE *)&Value + strlen(&Str) + 1) = 0;
      v22 = atol(&Str);
      sprintf(Buffer, byte_48C284, v22, v7);
    }
  }
  strcat(byte_4BFCE8, Buffer);
  sub_410850("Win32_CDROMDrive", "Caption", &Str);
  sprintf(Buffer, aRom, &Str);
  strcat(byte_4BFCE8, Buffer);
  sub_410850("Win32_SoundDevice", "Name", &Str);
  sprintf(Buffer, &byte_48C210, &Str);
  strcat(byte_4BFCE8, Buffer);
  sub_410850("Win32_VideoController", "Name", &Str);
  sprintf(Buffer, &byte_48C1E4, &Str);
  strcat(byte_4BFCE8, Buffer);
  sub_410AD0("Win32_VideoController", "AdapterRAM", &Value);
  sprintf(Buffer, &byte_48C1C0, Value / 1024 / 1024);
  strcat(byte_4BFCE8, Buffer);
  sub_410AD0("Win32_VideoController", "CurrentHorizontalResolution", &Value);
  sprintf(Buffer, &byte_48C188, Value);
  sub_410AD0("Win32_VideoController", "CurrentVerticalResolution", &Value);
  v8 = _itoa(Value, &Str, 10);
  v9 = strlen(v8) + 1;
  v10 = v8;
  v11 = &v32;
  while ( *++v11 )
    ;
  qmemcpy(v11, v10, v9);
  v13 = &v32;
  while ( *++v13 )
    ;
  *(_WORD *)v13 = 32;
  sub_410AD0("Win32_VideoController", "CurrentBitsPerPixel", &Value);
  v15 = _itoa(Value, &Str, 10);
  v16 = strlen(v15) + 1;
  v17 = v15;
  v18 = &v32;
  while ( *++v18 )
    ;
  qmemcpy(v18, v17, v16);
  v20 = &v32;
  while ( *++v20 )
    ;
  strcpy(v20, "bit\n");
  strcat(byte_4BFCE8, Buffer);
  sub_44CD30(HKEY_LOCAL_MACHINE, "SOFTWARE\\Microsoft\\DirectX", "Version", (LPBYTE)&Str);
  sub_40F540();
  if ( dword_4B314C <= 5 )
  {
    if ( strstr(&Str, "4.09.00.0904") || strstr(&Str, "4.09.00.0903") )
    {
      sprintf(Buffer, "DirectX 9c ");
    }
    else if ( strstr(&Str, "4.09.00.0902") )
    {
      sprintf(Buffer, "DirectX 9b ");
    }
    else if ( strstr(&Str, "4.09.00.0901") )
    {
      sprintf(Buffer, "DirectX 9a ");
    }
    else if ( strstr(&Str, "4.09.00.0900") )
    {
      sprintf(Buffer, "DirectX 9 ");
    }
    else if ( strstr(&Str, "4.08.02.0134") )
    {
      sprintf(Buffer, "DirectX 8.2");
    }
    else if ( strstr(&Str, "4.08.01.0901") )
    {
      sprintf(Buffer, "DirectX 8.1b");
    }
    else if ( strstr(&Str, "4.08.01.0901") )
    {
      sprintf(Buffer, "DirectX 8.1a");
    }
    else if ( strstr(&Str, "4.08.01.0881") )
    {
      sprintf(Buffer, "DirectX 8.1");
    }
    else if ( strstr(&Str, "4.08.01.0810") )
    {
      sprintf(Buffer, "DirectX 8");
    }
  }
  else
  {
    ImmDisableIME(0);
    sprintf(Buffer, "DirectX 11 ");
  }
  result = strlen(Buffer) + 1;
  qmemcpy(&byte_4BFCE8[strlen(byte_4BFCE8)], Buffer, result);
  return result;
}
// 4B314C:  int dword_4B314C
// 4C08CC:  int dword_4C08CC
// 410D40:  char var_212[2]

//----- (00411610) --------------------------------------------------------
FILE *sub_411610()
{
  FILE *result; // eax
  char *v1; // eax
  FILE *v3; // esi
  char *v4; // eax
  struct _browseinfoA bi; // [esp+4h] [ebp-128h] BYREF
  CHAR pszPath[260]; // [esp+24h] [ebp-108h] BYREF

  bi.hwndOwner = 0;
  bi.pidlRoot = 0;
  bi.pszDisplayName = pszPath;
  bi.lpszTitle = (LPCSTR)&unk_48C3C4;
  bi.ulFlags = 1;
  memset(&bi.lpfn, 0, 12);
  result = (FILE *)SHBrowseForFolderA(&bi);
  if ( result )
  {
    if ( SHGetPathFromIDListA((LPCITEMIDLIST)result, pszPath) )
    {
      v1 = (char *)&bi.iImage + 3;
      while ( *++v1 )
        ;
      strcpy(v1, "\\circus_spec.txt");
      CoUninitialize();
      sub_410D40();
      result = fopen(pszPath, "w");
      v3 = result;
      if ( result )
      {
        fputs(byte_4BFCE8, result);
        fclose(v3);
        v4 = (char *)&bi.iImage + 3;
        while ( *++v4 )
          ;
        *(_DWORD *)v4 = -1913617910;
        *((_DWORD *)v4 + 1) = -2102619924;
        *((_DWORD *)v4 + 2) = -2099477835;
        *((_DWORD *)v4 + 3) = -2118286667;
        *((_WORD *)v4 + 8) = 66;
        MessageBoxA(0, pszPath, WindowName, 0x42000u);
        result = (FILE *)CoInitialize(0);
        if ( (int)result < 0 )
          exit(1);
      }
    }
    else
    {
      return (FILE *)MessageBoxA(0, pszPath, &byte_48C3A0, 0);
    }
  }
  return result;
}

//----- (00411790) --------------------------------------------------------
LRESULT __stdcall sub_411790(HWND hWnd, UINT Msg, UINT uPosition, unsigned int lParam)
{
  char *v5; // ecx
  _DWORD *v6; // eax
  int v7; // ecx
  HMENU SystemMenu; // esi
  struct tagPOINT Point; // [esp+10h] [ebp-50h] BYREF
  HWND v10; // [esp+18h] [ebp-48h]
  struct tagPAINTSTRUCT Paint; // [esp+1Ch] [ebp-44h] BYREF

  v10 = hWnd;
  if ( Msg <= 0x104 )
  {
    if ( Msg != 260 )
    {
      switch ( Msg )
      {
        case 1u:
          SetTimer(hWnd, 0x64u, 0x10u, 0);
          return 0;
        case 2u:
          if ( Buf )
            sub_40C240((char *)Buf);
          sub_44D080("Winmode", (BYTE *)dword_4C0874 + 8);
          sub_44D080("WinLock", &dword_4C0888);
          KillTimer(hWnd, 0x64u);
          PostQuitMessage(0);
          return 0;
        case 3u:
          sub_438C60((int)dword_4C0874, (__int16)lParam + 640, SHIWORD(lParam) + 360);
          return DefWindowProcA(v10, Msg, uPosition, lParam);
        case 5u:
          if ( dword_4C0874 )
          {
            if ( *((_DWORD *)dword_4C0874 + 8) )
            {
              if ( uPosition != 1 )
              {
                *((_DWORD *)dword_4C0874 + 37) = (unsigned __int16)lParam;
                *((_DWORD *)dword_4C0874 + 38) = HIWORD(lParam);
                v5 = (char *)dword_4C0874;
                if ( !*((_BYTE *)dword_4C0874 + 4) )
                {
                  if ( uPosition == 2 || !uPosition )
                  {
                    sub_43A3D0((int)dword_4C0874, Msg);
                    v5 = (char *)dword_4C0874;
                  }
                  GetWindowRect(::hWnd, (LPRECT)(v5 + 308));
                  dword_4C08AC = 1;
                }
              }
            }
          }
          return DefWindowProcA(v10, Msg, uPosition, lParam);
        case 6u:
          if ( *((_DWORD *)dword_4C0874 + 74) )
          {
            InvalidateRect(::hWnd, 0, 0);
            UpdateWindow(::hWnd);
            sub_4533F0();
          }
          else
          {
            sub_43A4C0((int)dword_4C0874, Msg);
          }
          if ( (uPosition & 0xFFFF0000) != 0 || !(_WORD)uPosition )
            goto LABEL_49;
          if ( (_WORD)uPosition == 2 || (_WORD)uPosition == 1 )
            goto LABEL_52;
          return DefWindowProcA(v10, Msg, uPosition, lParam);
        case 0xFu:
          if ( dword_4C0898 )
            return DefWindowProcA(hWnd, Msg, uPosition, lParam);
          if ( *((_DWORD *)dword_4C0874 + 74) )
          {
            sub_40F930(::hWnd);
          }
          else
          {
            BeginPaint(hWnd, &Paint);
            EndPaint(hWnd, &Paint);
          }
          return 0;
        case 0x10u:
          if ( dword_4C087C )
          {
            sub_442D70(dword_4C087C, 1);
            sub_442D90(dword_4C087C, (void *)1);
          }
          if ( !Buf || *((_DWORD *)Buf + 4410) )
            goto LABEL_29;
          if ( MessageBoxA(::hWnd, &byte_48C434, WindowName, 0x24u) != 6 )
            return 0;
          if ( dword_4C0880 )
          {
            sub_41BFF0();
LABEL_29:
            if ( dword_4C0880 )
              sub_41C010();
          }
          dword_4C089C = 1;
          break;
        case 0x14u:
          return 1;
        case 0x20u:
          if ( (_WORD)lParam != 1 )
            return DefWindowProcA(v10, Msg, uPosition, lParam);
          sub_44D250((HCURSOR *)dword_4C0878);
          return 1;
        case 0x24u:
          *(_DWORD *)(lParam + 24) = dword_4C0860 + 192;
          *(_DWORD *)(lParam + 28) = dword_4C0864 + 108;
          return 0;
        case 0x7Eu:
          if ( dword_4C0874 )
            sub_438BC0(dword_4C0874);
          EnumDisplayMonitors(0, 0, (MONITORENUMPROC)fnEnum, 0);
          return DefWindowProcA(v10, Msg, uPosition, lParam);
        case 0x86u:
          if ( uPosition == 1 )
          {
LABEL_52:
            sub_442D70(dword_4C087C, 1);
            *((_DWORD *)dword_4C0874 + 76) = 1;
          }
          else
          {
LABEL_49:
            sub_442D70(dword_4C087C, 0);
            *((_DWORD *)dword_4C0874 + 76) = 0;
          }
          return DefWindowProcA(v10, Msg, uPosition, lParam);
        default:
          return DefWindowProcA(v10, Msg, uPosition, lParam);
      }
      return DefWindowProcA(v10, Msg, uPosition, lParam);
    }
    if ( uPosition == 115 )
      dword_4C08B0 = 1;
LABEL_55:
    sub_442D70(dword_4C087C, 1);
    return DefWindowProcA(v10, Msg, uPosition, lParam);
  }
  if ( Msg > 0x200 )
  {
    if ( Msg == 522 )
    {
      if ( HIWORD(uPosition) )
      {
        GetCursorPos(&Point);
        ScreenToClient(v10, &Point);
        if ( (uPosition & 0x80000000) != 0 )
        {
          if ( dword_4C087C )
            sub_442B50(dword_4C087C, Point.x, Point.y, 34);
        }
        else if ( dword_4C087C )
        {
          sub_442B50(dword_4C087C, Point.x, Point.y, 33);
        }
      }
    }
    else if ( Msg == 1037 )
    {
      sub_453350();
    }
    return DefWindowProcA(v10, Msg, uPosition, lParam);
  }
  if ( Msg == 512 )
  {
    GetCursorPos(&Point);
    ScreenToClient(hWnd, &Point);
    if ( dword_4C087C )
      sub_443030(dword_4C087C, Point.x, Point.y, 0);
    return DefWindowProcA(v10, Msg, uPosition, lParam);
  }
  if ( Msg == 261 )
  {
    sub_442D70(dword_4C087C, 0);
    switch ( uPosition )
    {
      case 0xDu:
        if ( !*((_DWORD *)dword_4C0874 + 74) )
        {
          sub_43A690((int)dword_4C0874, *((_DWORD *)dword_4C0874 + 2) == 0, 0);
          sub_442D10(dword_4C087C);
        }
        break;
      case 0x12u:
        SendMessageA(::hWnd, 0x101u, 0x28u, 0);
        sub_442D70(dword_4C087C, 1);
        return DefWindowProcA(v10, Msg, uPosition, lParam);
      case 0x73u:
        dword_4C08B0 = 0;
        sub_442D70(dword_4C087C, 1);
        return DefWindowProcA(v10, Msg, uPosition, lParam);
    }
    goto LABEL_55;
  }
  if ( Msg != 274 )
    return DefWindowProcA(v10, Msg, uPosition, lParam);
  switch ( uPosition )
  {
    case 0xF060u:
      if ( sub_4434D0(dword_4C087C) || dword_4C08B0 )
      {
        if ( dword_4C0880 )
          sub_41C000();
        PostMessageA(::hWnd, 2u, 0, 0);
      }
      return DefWindowProcA(v10, Msg, uPosition, lParam);
    case 0x384u:
      if ( !IsIconic(hWnd) )
        DialogBoxParamA(hInstance, (LPCSTR)0x66, ::hWnd, sub_40F3F0, 0);
      return DefWindowProcA(v10, Msg, uPosition, lParam);
    case 0x386u:
      v6 = dword_4C0878;
      v7 = *((_DWORD *)dword_4C0878 + 1) + 576;
LABEL_75:
      sub_43AA70((int)dword_4C0874, *v6 + 1024, v7);
      return DefWindowProcA(v10, Msg, uPosition, lParam);
    case 0x387u:
      sub_43AA70((int)dword_4C0874, *(_DWORD *)dword_4C0878 + 1280, *((_DWORD *)dword_4C0878 + 1) + 720);
      return DefWindowProcA(v10, Msg, uPosition, lParam);
    case 0x388u:
      v6 = dword_4C0878;
      v7 = *((_DWORD *)dword_4C0878 + 1) + 768;
      goto LABEL_75;
    case 0x389u:
      Data = 0;
      byte_4C0820 = 0;
      dword_4C0894 = 0;
      sub_44CF80("MCID", &Data);
      sub_44CF80("MCMail", &byte_4C0820);
      MessageBoxA(0, &byte_48C420, WindowName, 0x42000u);
      break;
    case 0x38Au:
      sub_411610();
      break;
    case 0x38Bu:
      if ( dword_4C0874 && !*((_DWORD *)dword_4C0874 + 2) )
        sub_43A910((int)dword_4C0874, 274);
      break;
    case 0x38Cu:
      if ( dword_4C0874 )
      {
        *(_DWORD *)&dword_4C0888 = *(_DWORD *)&dword_4C0888 == 0;
        SystemMenu = GetSystemMenu(::hWnd, 0);
        DeleteMenu(SystemMenu, 0x38Cu, 0);
        if ( *(_DWORD *)&dword_4C0888 )
        {
          AppendMenuA(SystemMenu, 0, 0x38Cu, &byte_48C3FC);
          sub_439020((int)dword_4C0874, 0x2CA0000u);
        }
        else
        {
          AppendMenuA(SystemMenu, 0, 0x38Cu, &byte_48C3E0);
          sub_439020((int)dword_4C0874, 0x2CE0000u);
        }
      }
      break;
    default:
      return DefWindowProcA(hWnd, 0x112u, uPosition, lParam);
  }
  return DefWindowProcA(v10, Msg, uPosition, lParam);
}
// 4C0860:  int dword_4C0860
// 4C0864:  int dword_4C0864
// 4C0894:  int dword_4C0894
// 4C0898:  int dword_4C0898
// 4C089C:  int dword_4C089C
// 4C08AC:  int dword_4C08AC
// 4C08B0:  int dword_4C08B0

//----- (00412050) --------------------------------------------------------
BOOL __cdecl sub_412050(HINSTANCE hInstance)
{
  WNDCLASSA WndClass; // [esp+4h] [ebp-28h] BYREF

  WndClass.style = 0;
  WndClass.lpfnWndProc = (WNDPROC)sub_411790;
  WndClass.cbClsExtra = 0;
  WndClass.cbWndExtra = 0;
  WndClass.hInstance = hInstance;
  WndClass.hIcon = LoadIconA(hInstance, (LPCSTR)0x67);
  WndClass.hCursor = 0;
  WndClass.hbrBackground = (HBRUSH)GetStockObject(4);
  WndClass.lpszMenuName = 0;
  WndClass.lpszClassName = "DC4_WIN_Class";
  return RegisterClassA(&WndClass) != 0;
}

//----- (004120C0) --------------------------------------------------------
int sub_4120C0()
{
  void *v0; // eax
  unsigned int *v1; // esi
  int v2; // edx
  const char *v3; // edi
  CHAR Text[260]; // [esp+10h] [ebp-114h] BYREF
  int v6; // [esp+120h] [ebp-4h]

  if ( !Data[0] || !byte_4C0820[0] )
    return 0;
  v0 = operator new(0x54u);
  v6 = 0;
  if ( v0 )
    v1 = (unsigned int *)sub_409AF0((int)v0);
  else
    v1 = 0;
  v6 = -1;
  sub_4559D0(v1, (BYTE *)"DC4");
  sub_455BB0(v1, "yp", "ii");
  sub_455BB0(v1, "in", (char *)Data);
  sub_455BB0(v1, "ma", (char *)byte_4C0820);
  if ( !sub_456DF0(v1, v2) )
  {
    MessageBoxA(0, byte_48C484, WindowName, 0x42000u);
LABEL_16:
    if ( v1 )
    {
      sub_409B60((int)v1);
      operator delete(v1);
    }
    return 0;
  }
  v3 = (const char *)sub_454BC0(v1);
  dword_4C0894 = 0;
  if ( strncmp(v3, dword_48B824, 4u) )
  {
    if ( !strncmp(v3, "false", 5u) )
      sprintf(Text, &byte_48C460);
    else
      sprintf(Text, aS_4, v3);
    MessageBoxA(0, Text, WindowName, 0x42000u);
    goto LABEL_16;
  }
  dword_4C0894 = 1;
  if ( v1 )
  {
    sub_409B60((int)v1);
    operator delete(v1);
  }
  return 1;
}
// 412189: variable 'v2' is possibly undefined
// 4C06D8:  BYTE Data[64]
// 4C0820:  BYTE byte_4C0820[64]
// 4C0894:  int dword_4C0894

//----- (00412280) --------------------------------------------------------
void sub_412280()
{
  if ( !dword_4C0894 )
  {
    if ( DialogBoxParamA(hInstance, (LPCSTR)0x71, hWnd, (DLGPROC)sub_40F6C0, 0) == 1 )
    {
      while ( 1 )
      {
        sub_4120C0();
        if ( dword_4C0894 )
          break;
        *((_DWORD *)Buf + 272084) = 0;
        if ( DialogBoxParamA(hInstance, (LPCSTR)0x71, hWnd, (DLGPROC)sub_40F6C0, 0) != 1 )
          goto LABEL_5;
      }
      sub_44CF80("MCID", Data);
      sub_44CF80("MCMail", byte_4C0820);
      *((_DWORD *)Buf + 272084) = 1;
    }
    else
    {
LABEL_5:
      *((_DWORD *)Buf + 272084) = 0;
    }
  }
}
// 4C06D8:  BYTE Data[64]
// 4C0820:  BYTE byte_4C0820[64]
// 4C0894:  int dword_4C0894

//----- (00412340) --------------------------------------------------------
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd)
{
  signed int v5; // eax
  int v6; // eax
  CHAR v7; // cl
  HCURSOR *v8; // esi
  const char *v9; // edi
  const CHAR *v10; // eax
  void *v11; // eax
  _DWORD *v12; // eax
  _DWORD *v13; // eax
  void *v14; // esi
  _DWORD *v15; // eax
  void *v16; // esi
  int i; // ebx
  int v18; // edi
  int v19; // edx
  int v20; // eax
  BYTE Data[4]; // [esp+10h] [ebp-34h] BYREF
  struct tagRECT Rect; // [esp+14h] [ebp-30h] BYREF
  struct tagMSG Msg; // [esp+24h] [ebp-20h] BYREF

  dword_4C0870 = (int)CreateMutexA(0, 0, (LPCSTR)"DC4");
  if ( !dword_4C0870 )
    return 0;
  if ( GetLastError() == 183 )
  {
    if ( !strncmp(lpCmdLine, "-C", 2u) )
    {
      sprintf(byte_4C0718, aS_5, WindowName);
      MessageBoxA(0, byte_4C0718, WindowName, 0);
    }
    return 0;
  }
  sub_40F540();
  if ( !hPrevInstance && !sub_412050(hInstance) )
    return 0;
  if ( CoInitialize(0) < 0 )
    exit(1);
  GetModuleFileNameA(0, PathName, 0x104u);
  v5 = strlen(PathName) - 1;
  if ( v5 >= 0 )
  {
    while ( PathName[v5] != 92 )
    {
      if ( --v5 < 0 )
        goto LABEL_15;
    }
    PathName[v5] = 0;
  }
LABEL_15:
  SetCurrentDirectoryA(PathName);
  v6 = 0;
  do
  {
    v7 = PathName[v6];
    Path[v6++] = v7;
  }
  while ( v7 );
  strcat(Path, "\\Advdata\\savedata");
  v8 = (HCURSOR *)operator new(0x1Cu);
  if ( v8 )
  {
    v8[2] = 0;
    v8[3] = 0;
    v8[4] = 0;
    v8[5] = 0;
    v8[1] = 0;
    *v8 = 0;
    sub_44D260(v8);
    v8[6] = 0;
  }
  else
  {
    v8 = 0;
  }
  dword_4C0878 = v8;
  sub_40F590();
  v9 = lpCmdLine;
  if ( !strncmp(lpCmdLine, "-C", 2u) )
  {
    sub_40FEF0();
    if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0
      && sub_44D590(170, (char *)byte_4C05D0, (const char *)byte_4BFAD8) )
    {
      v10 = &byte_48C55C;
      if ( dword_4C08A4 )
        v10 = (const CHAR *)&unk_48C538;
      MessageBoxA(0, v10, WindowName, 0);
      sub_410250();
      return 1;
    }
    if ( sub_410600() != -1 )
    {
      sub_410250();
      return 1;
    }
LABEL_31:
    sub_410250();
    return 0;
  }
  if ( dword_4C08A4 == 1 )
  {
    if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0 )
    {
      if ( !sub_44D590(170, (char *)byte_4C05D0, (const char *)byte_4BFAD8) )
        sub_410600();
    }
    else if ( sub_4106C0() )
    {
      goto LABEL_31;
    }
  }
  if ( strncmp(lpCmdLine, "-S", 2u) && (!sub_40F160(0) || !sub_410090(0)) )
    goto LABEL_31;
  ::hInstance = hInstance;
  if ( !sub_4102E0(hInstance) )
    goto LABEL_31;
  if ( dword_4B314C > 5 )
  {
    ImmAssociateContext(hWnd, 0);
    lpCmdLine = (LPSTR)ImmGetDefaultIMEWnd(hWnd);
    SendMessageA((HWND)lpCmdLine, 0x283u, 0x21u, 0);
    dword_4C08B4 = ImmAssociateContext(hWnd, 0);
  }
  v11 = operator new(0x828u);
  if ( v11 )
    v12 = (_DWORD *)sub_43A520((int)v11, nShowCmd);
  else
    v12 = 0;
  dword_4C0874 = v12;
  sub_439DD0(v12, dword_4C05BC, dword_4C05C0, dword_4C05C4, dword_4C05C8);
  sub_438AE0(dword_4C0874);
  v13 = operator new(0x15Cu);
  v14 = v13;
  if ( v13 )
    sub_442F00(v13);
  else
    v14 = 0;
  dword_4C087C = v14;
  v15 = operator new(4u);
  v16 = v15;
  if ( v15 )
    sub_41C020(v15, (int)v9);
  else
    v16 = 0;
  dword_4C0880 = v16;
  if ( !strncmp(v9, "-S", 2u) )
  {
    sprintf(PathName, aDirectx);
    MessageBoxA(0, PathName, aDc4, 0);
LABEL_51:
    CoUninitialize();
    sub_410250();
    return 0;
  }
  if ( !strncmp(v9, "-W", 2u) )
  {
    sub_411610();
    CoUninitialize();
    sub_410250();
    return 0;
  }
  if ( sub_41BFE0() == -1 )
  {
    sprintf(PathName, &byte_48C4B0, Path);
    MessageBoxA(0, PathName, WindowName, 0x10u);
    goto LABEL_51;
  }
  sub_40FEF0();
  ShowWindow(hWnd, nShowCmd);
  UpdateWindow(hWnd);
  EnumDisplayMonitors(0, 0, (MONITORENUMPROC)fnEnum, 0);
  GetWindowRect(hWnd, (LPRECT)&Rect.top);
  sub_438C60((int)dword_4C0874, Rect.top + 640, Rect.right + 360);
  if ( *(_DWORD *)&dword_4C0884 )
  {
    sub_43A690((int)dword_4C0874, *((_DWORD *)dword_4C0874 + 2) == 0, 0);
    sub_442D10(dword_4C087C);
  }
  for ( i = 0; i <= 100; ++i )
  {
    while ( 1 )
    {
      if ( PeekMessageA((LPMSG)&Msg.message, 0, 0, 0, 1u) )
      {
        if ( Msg.wParam == 18 )
          goto LABEL_64;
        TranslateMessage((const MSG *)&Msg.message);
        DispatchMessageA((const MSG *)&Msg.message);
      }
      if ( dword_4C08A8 )
        break;
      if ( dword_4C08AC )
      {
        sub_438D20((int)dword_4C0874);
        if ( *((_DWORD *)dword_4C0874 + 74) )
          sub_4094D0(dword_4C08D4);
        if ( dword_4C0898 )
          sub_453420();
        dword_4C08AC = 0;
        if ( !*((_DWORD *)dword_4C0874 + 2) )
        {
          GetWindowRect(hWnd, (LPRECT)((char *)dword_4C0874 + 308));
          v18 = *((_DWORD *)dword_4C0874 + 78);
          v19 = *((_DWORD *)dword_4C0874 + 80);
          *(_DWORD *)Data = *((_DWORD *)dword_4C0874 + 79) - *(_DWORD *)dword_4C0878 - *((_DWORD *)dword_4C0874 + 77);
          Rect.left = v19 - *((_DWORD *)dword_4C0878 + 1) - v18;
          sub_44D080("WinSizex", Data);
          sub_44D080("WinSizey", (BYTE *)&Rect);
        }
      }
      if ( *((_DWORD *)dword_4C0874 + 73) )
      {
        sub_43A4C0((int)dword_4C0874, (int)GetWindowRect);
      }
      else if ( sub_41BD70() )
      {
        sub_443210((int)dword_4C087C);
        if ( !*((_DWORD *)dword_4C0874 + 74) )
        {
          v20 = sub_43A470((int)dword_4C0874, (int)GetWindowRect);
          if ( v20 )
          {
            sub_41BE10(v20);
            sub_4399E0((int)dword_4C0874);
          }
        }
      }
    }
  }
LABEL_64:
  if ( dword_4B314C > 5 )
  {
    SendMessageA((HWND)lpCmdLine, 0x283u, 0x22u, 0);
    ImmAssociateContext(hWnd, dword_4C08B4);
  }
  CoUninitialize();
  sub_410250();
  return Msg.lParam;
}
// 4B314C:  int dword_4B314C
// 4BFAD8:  BYTE byte_4BFAD8[260]
// 4BFBE0:  BYTE byte_4BFBE0[264]
// 4C05BC:  int dword_4C05BC
// 4C05C0:  int dword_4C05C0
// 4C05C4:  int dword_4C05C4
// 4C05C8:  int dword_4C05C8
// 4C05D0:  BYTE byte_4C05D0[264]
// 4C0870:  int dword_4C0870
// 4C0898:  int dword_4C0898
// 4C08A4:  int dword_4C08A4
// 4C08A8:  int dword_4C08A8
// 4C08AC:  int dword_4C08AC

//----- (004129F0) --------------------------------------------------------
int __thiscall sub_4129F0(float *this)
{
  int result; // eax

  this[222] = 0.0;
  *(_BYTE *)this = 0;
  memset(this + 54, 0, 0x2A0u);
  this[225] = 0.0;
  this[226] = 0.0;
  this[227] = 0.0;
  this[228] = 0.0;
  this[233] = 0.0;
  result = -1;
  this[232] = 0.0;
  this[238] = 0.0;
  this[223] = 0.0;
  this[224] = 0.0;
  this[242] = 0.0;
  this[243] = 0.0;
  this[245] = 0.0;
  this[251] = 0.0;
  this[252] = 0.0;
  this[250] = 0.0;
  this[249] = 0.0;
  this[248] = 0.0;
  this[247] = 0.0;
  this[272] = 0.0;
  this[254] = 0.0;
  this[253] = 0.0;
  this[52] = 0.0;
  this[271] = 0.0;
  *((_BYTE *)this + 1020) = 0;
  *((_BYTE *)this + 1052) = 0;
  this[241] = NAN;
  this[239] = NAN;
  this[240] = NAN;
  this[10] = NAN;
  this[8] = NAN;
  this[9] = NAN;
  this[229] = NAN;
  return result;
}

//----- (00412AE0) --------------------------------------------------------
void *__thiscall sub_412AE0(void *this)
{
  return this;
}

//----- (00412AF0) --------------------------------------------------------
int __thiscall sub_412AF0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[210] = a2;
  return result;
}

//----- (00412B00) --------------------------------------------------------
int __thiscall sub_412B00(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[211] = a2;
  return result;
}

//----- (00412B10) --------------------------------------------------------
int __thiscall sub_412B10(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[213] = a2;
  return result;
}

//----- (00412B20) --------------------------------------------------------
int __thiscall sub_412B20(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[214] = a2;
  return result;
}

//----- (00412B30) --------------------------------------------------------
int __thiscall sub_412B30(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[217] = a2;
  return result;
}

//----- (00412B40) --------------------------------------------------------
int __thiscall sub_412B40(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[218] = a2;
  return result;
}

//----- (00412B50) --------------------------------------------------------
int __thiscall sub_412B50(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[219] = a2;
  return result;
}

//----- (00412B60) --------------------------------------------------------
int __thiscall sub_412B60(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[220] = a2;
  this[244] = 1;
  return result;
}

//----- (00412B80) --------------------------------------------------------
int __thiscall sub_412B80(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[221] = a2;
  return result;
}

//----- (00412B90) --------------------------------------------------------
int __thiscall sub_412B90(_DWORD *this)
{
  return this[223];
}

//----- (00412BA0) --------------------------------------------------------
int __thiscall sub_412BA0(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  int result; // eax

  *a2 = this[225];
  result = this[226];
  *a3 = result;
  return result;
}

//----- (00412BC0) --------------------------------------------------------
int __thiscall sub_412BC0(_DWORD *this, int a2, int a3)
{
  int result; // eax

  result = a2;
  this[225] = a2;
  this[226] = a3;
  return result;
}

//----- (00412BE0) --------------------------------------------------------
void __stdcall sub_412BE0(int *a1, _DWORD *a2)
{
  _DWORD *v2; // eax
  float *v3; // eax
  double v4; // st7
  double v5; // st7
  float v6; // [esp+0h] [ebp-20h]
  float v7; // [esp+4h] [ebp-1Ch]

  memset(a1, 0, 0x4Cu);
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  a1[4] = a2[4];
  a1[5] = a2[5];
  a1[6] = a2[6];
  a1[7] = a2[7];
  if ( a2[12] )
  {
    v2 = operator new(0x784u);
    if ( v2 )
      v3 = (float *)sub_448B00(v2);
    else
      v3 = 0;
    v4 = (double)a1[2];
    *a1 = (int)v3;
    a1[12] = a2[12];
    v7 = v4;
    a1[8] = a2[8];
    v5 = (double)a1[1];
    a1[9] = a2[9];
    v6 = v5;
    sub_444260(v3, v6, v7);
    sub_4440C0(*a1, a1[12]);
    sub_444340((float *)*a1, a1[3], a1[4], a1[5], a1[6]);
  }
}

//----- (00412CE0) --------------------------------------------------------
int __thiscall sub_412CE0(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax

  *(_DWORD *)(this + 808) = a3;
  *(_DWORD *)(this + 812) = a3;
  result = a5;
  *(_DWORD *)(this + 816) = a4;
  *(_DWORD *)(this + 804) = a2;
  *(_DWORD *)(this + 800) = a5;
  *(float *)(this + 796) = (double)(a3 - a2) / (double)(a4 - 1);
  return result;
}

//----- (00412D40) --------------------------------------------------------
int __thiscall sub_412D40(_DWORD *this, int a2, int a3)
{
  int result; // eax

  if ( a2 != 255 )
    this[66] = a2;
  result = a3;
  if ( a3 != 255 )
    this[67] = a3;
  return result;
}

//----- (00412D70) --------------------------------------------------------
char *__thiscall sub_412D70(char *this, char *a2, int a3)
{
  char *result; // eax
  int v4; // edx
  char v5; // cl
  int v6; // edx
  char v7; // cl

  result = a2;
  if ( a3 )
  {
    v4 = this + 272 - a2;
    do
    {
      v5 = *result;
      result[v4] = *result;
      ++result;
    }
    while ( v5 );
  }
  else
  {
    v6 = this + 532 - a2;
    do
    {
      v7 = *result;
      result[v6] = *result;
      ++result;
    }
    while ( v7 );
  }
  return result;
}

//----- (00412DB0) --------------------------------------------------------
void __thiscall sub_412DB0(float *this, int a2, int a3)
{
  this[232] = (float)a2;
  this[233] = (float)a3;
}

//----- (00412DD0) --------------------------------------------------------
int __thiscall sub_412DD0(float *this, _DWORD *a2, int *a3)
{
  int result; // eax

  *a2 = (int)this[232];
  result = (int)this[233];
  *a3 = result;
  return result;
}

//----- (00412E00) --------------------------------------------------------
int __thiscall sub_412E00(int this, __int64 a2, __int64 a3, int a4, int a5)
{
  int v5; // ecx
  int result; // eax
  int v7; // edx

  if ( !*(_DWORD *)(this + 892) )
  {
    sub_412DB0((float *)this, a2, SHIDWORD(a2));
    result = a3;
    if ( a2 != a3 )
    {
      v7 = HIDWORD(a3) - HIDWORD(a2);
      *(float *)(v5 + 936) = (float)(int)a3;
      result = a5;
      *(_DWORD *)(v5 + 892) = 1;
      *(_DWORD *)(v5 + 896) = a5;
      *(float *)(v5 + 940) = (float)SHIDWORD(a3);
      *((float *)&a3 + 1) = (float)a4;
      *(float *)(v5 + 944) = (double)((int)a3 - (int)a2) / *((float *)&a3 + 1);
      *(float *)(v5 + 948) = (double)v7 / *((float *)&a3 + 1);
    }
  }
  return result;
}
// 412E36: variable 'v5' is possibly undefined

//----- (00412E90) --------------------------------------------------------
int __thiscall sub_412E90(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[242] = a2;
  return result;
}

//----- (00412EA0) --------------------------------------------------------
void __thiscall sub_412EA0(_DWORD *this)
{
  int v2; // eax

  if ( Buf )
  {
    v2 = sub_40CCD0(Buf, 99, 245);
    this[229] = v2;
    if ( v2 == 255 )
      this[229] = -1;
  }
}

//----- (00412EE0) --------------------------------------------------------
int __thiscall sub_412EE0(_DWORD *this)
{
  return this[229];
}

//----- (00412EF0) --------------------------------------------------------
int __thiscall sub_412EF0(_DWORD *this)
{
  return this[230];
}

//----- (00412F00) --------------------------------------------------------
int __thiscall sub_412F00(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[243] = a2;
  return result;
}

//----- (00412F10) --------------------------------------------------------
int __thiscall sub_412F10(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[245] = a2;
  return result;
}

//----- (00412F20) --------------------------------------------------------
int __thiscall sub_412F20(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax

  this[248] = a2;
  result = a4;
  this[249] = a3;
  this[250] = a4;
  this[251] = 1;
  return result;
}

//----- (00412F50) --------------------------------------------------------
int __thiscall sub_412F50(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[271] = a2;
  return result;
}

//----- (00412F60) --------------------------------------------------------
char *__thiscall sub_412F60(char *this, int a2, char *a3)
{
  char *result; // eax
  int v4; // edx
  char v5; // cl
  int v6; // edx
  char v7; // cl

  result = a3;
  if ( a2 )
  {
    v6 = this + 1052 - a3;
    do
    {
      v7 = *result;
      result[v6] = *result;
      ++result;
    }
    while ( v7 );
  }
  else
  {
    v4 = this + 1020 - a3;
    do
    {
      v5 = *result;
      result[v4] = *result;
      ++result;
    }
    while ( v5 );
  }
  return result;
}

//----- (00412FA0) --------------------------------------------------------
_DWORD *__thiscall sub_412FA0(int *this, _DWORD *a2, int *a3)
{
  int *v3; // edx
  int *v4; // eax
  int *v5; // ebx
  int v6; // edi
  int v7; // esi
  int *v8; // eax
  _DWORD *result; // eax
  int v10; // ecx

  v3 = (int *)this[6];
  v4 = (int *)v3[1];
  v5 = v3;
  if ( !*((_BYTE *)v4 + 21) )
  {
    v6 = *a3;
    do
    {
      v7 = v4[3];
      if ( v7 >= v6 )
      {
        if ( *((_BYTE *)v3 + 21) && v6 < v7 )
          v3 = v4;
        v5 = v4;
        v4 = (int *)*v4;
      }
      else
      {
        v4 = (int *)v4[2];
      }
    }
    while ( !*((_BYTE *)v4 + 21) );
  }
  if ( *((_BYTE *)v3 + 21) )
    v8 = *(int **)(this[6] + 4);
  else
    v8 = (int *)*v3;
  while ( !*((_BYTE *)v8 + 21) )
  {
    if ( *a3 >= v8[3] )
    {
      v8 = (int *)v8[2];
    }
    else
    {
      v3 = v8;
      v8 = (int *)*v8;
    }
  }
  result = a2;
  v10 = *this;
  a2[1] = v5;
  *a2 = v10;
  a2[2] = v10;
  a2[3] = v3;
  return result;
}

//----- (00413030) --------------------------------------------------------
int __cdecl sub_413030(int a1, int a2, int a3, int a4, _DWORD *a5)
{
  _DWORD *v5; // esi
  int result; // eax

  v5 = a5;
  while ( 1 )
  {
    if ( !a1 || a1 != a3 )
      _invalid_parameter_noinfo();
    result = a2;
    if ( a2 == a4 )
      break;
    ++*v5;
    sub_409780(&a1);
  }
  return result;
}

//----- (00413070) --------------------------------------------------------
void __thiscall sub_413070(int this, int *a2, int *a3)
{
  _DWORD *v4; // esi
  int v5; // edi
  int v6; // ebx
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // ebx
  int v10; // eax
  int v11; // eax
  _DWORD *i; // [esp+4h] [ebp-8h] BYREF
  int v13; // [esp+8h] [ebp-4h]

  *a3 = 0;
  *a2 = 0;
  if ( *(_DWORD *)(this + 172) )
  {
    v4 = *(_DWORD **)(this + 144);
    v5 = **(_DWORD **)(this + 168);
    v13 = v5;
    for ( i = v4; ; v4 = i )
    {
      v6 = *(_DWORD *)(this + 168);
      if ( !v4 || v4 != *(_DWORD **)(this + 144) )
        _invalid_parameter_noinfo();
      if ( v5 == v6 )
        break;
      if ( v4 )
      {
        v7 = (_DWORD *)*v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v7 = 0;
      }
      if ( v5 == v7[6] )
        _invalid_parameter_noinfo();
      if ( v4 )
      {
        v8 = *v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v8 = 0;
      }
      if ( v5 == *(_DWORD *)(v8 + 24) )
        _invalid_parameter_noinfo();
      v9 = *(_DWORD *)(*(_DWORD *)(v5 + 16) + 20) - *(_DWORD *)(*(_DWORD *)(v5 + 16) + 12);
      if ( v4 )
      {
        v10 = *v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v10 = 0;
      }
      if ( v5 == *(_DWORD *)(v10 + 24) )
        _invalid_parameter_noinfo();
      if ( v4 )
        v4 = (_DWORD *)*v4;
      else
        _invalid_parameter_noinfo();
      if ( v5 == v4[6] )
        _invalid_parameter_noinfo();
      v11 = *(_DWORD *)(*(_DWORD *)(v5 + 16) + 24) - *(_DWORD *)(*(_DWORD *)(v5 + 16) + 16);
      if ( *a2 < v9 )
        *a2 = v9;
      if ( *a3 < v11 )
        *a3 = v11;
      sub_409780(&i);
      v5 = v13;
    }
  }
}

//----- (00413190) --------------------------------------------------------
BOOL __thiscall sub_413190(int this, int a2, int a3, int a4)
{
  int v5; // ebp
  _DWORD *v6; // esi
  int v7; // edi
  int v8; // esi
  int v9; // edi
  int v11; // esi
  int i; // [esp+14h] [ebp-18h] BYREF
  int v13; // [esp+18h] [ebp-14h]
  int v14[4]; // [esp+1Ch] [ebp-10h] BYREF

  if ( *(_DWORD *)(this + 108) && a3 > 0 && a4 > 0 && a3 <= 1280 && a4 <= 720 )
  {
    v5 = **(_DWORD **)(this + 104);
    v6 = *(_DWORD **)(this + 80);
    v13 = v5;
    for ( i = (int)v6; ; v6 = (_DWORD *)i )
    {
      v7 = *(_DWORD *)(this + 104);
      if ( !v6 || v6 != *(_DWORD **)(this + 80) )
        _invalid_parameter_noinfo();
      if ( v5 == v7 )
        break;
      if ( v6 )
        v6 = (_DWORD *)*v6;
      else
        _invalid_parameter_noinfo();
      if ( v5 == v6[6] )
        _invalid_parameter_noinfo();
      v8 = *(_DWORD *)(v5 + 16);
      if ( *(_DWORD *)(v8 + 40) == a2 && *(_DWORD *)(v8 + 44) == 99 && *(_DWORD *)(v8 + 48) )
      {
        v9 = sub_44B000(*((int **)dword_4C0874 + 63), *(_DWORD *)(v8 + 48));
        if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v9 + 76))(v9, 0, &i, 0, 0) < 0 )
        {
          (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v9 + 80))(v9, 0);
          return 0;
        }
        sub_444360(*(float **)v8, v14);
        v11 = v13 + i * (a4 + v14[1]) + 4 * (a3 + v14[0]);
        (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v9 + 80))(v9, 0);
        return *(_BYTE *)(v11 + 3) != 0;
      }
      sub_409780(&i);
      v5 = v13;
    }
  }
  return 0;
}

//----- (004132D0) --------------------------------------------------------
int *__thiscall sub_4132D0(int *this, int *a2, _DWORD *a3)
{
  int v4; // ecx
  int v5; // eax
  int v6; // edi
  int v7; // eax
  int v8; // ebx
  int *v9; // ecx
  int v10; // edx
  int v11; // edx
  int *result; // eax
  int v13; // ecx
  int v14[2]; // [esp+Ch] [ebp-10h] BYREF
  int v15[2]; // [esp+14h] [ebp-8h] BYREF

  v4 = this[6];
  v5 = *(_DWORD *)(v4 + 4);
  v6 = v4;
  while ( !*(_BYTE *)(v5 + 21) )
  {
    if ( *(_DWORD *)(v5 + 12) >= *a3 )
    {
      v6 = v5;
      v5 = *(_DWORD *)v5;
    }
    else
    {
      v5 = *(_DWORD *)(v5 + 8);
    }
  }
  v7 = *this;
  v8 = this[6];
  v14[1] = v6;
  v14[0] = v7;
  if ( !v7 )
    _invalid_parameter_noinfo();
  if ( v6 == v8 || *a3 < *(_DWORD *)(v6 + 12) )
  {
    v10 = *this;
    v15[1] = this[6];
    v15[0] = v10;
    v9 = v15;
  }
  else
  {
    v9 = v14;
  }
  v11 = *v9;
  result = a2;
  v13 = v9[1];
  *a2 = v11;
  a2[1] = v13;
  return result;
}

//----- (00413360) --------------------------------------------------------
void __fastcall sub_413360(_DWORD *a1)
{
  int v1; // ebx
  _DWORD *v2; // esi
  _DWORD *v3; // edi
  int v4; // ebp
  _DWORD *v5; // eax
  int v6; // eax
  _DWORD *v7; // ebp
  _DWORD *j; // esi
  _DWORD *v9; // eax
  _DWORD *v10; // esi
  _DWORD *v11; // ebx
  int v12; // edi
  int v13; // ebp
  _DWORD *v14; // eax
  int v15; // eax
  int v16; // eax
  void *v17; // ebp
  int v18; // eax
  int v19; // eax
  int v20; // eax
  _DWORD *v21; // edi
  _DWORD *k; // esi
  _DWORD *v23; // eax
  int v24; // edi
  _DWORD *v25; // esi
  _DWORD *v26; // ebx
  int v27; // ebp
  _DWORD *v28; // eax
  int v29; // eax
  _DWORD **v30; // ecx
  void *v31; // ebp
  int v32; // eax
  int v33; // eax
  int v34; // eax
  _DWORD *v35; // edi
  _DWORD *m; // esi
  _DWORD *v37; // eax
  int v38; // edi
  _DWORD *v39; // esi
  _DWORD *v40; // ebx
  int v41; // ebp
  _DWORD *v42; // eax
  int v43; // eax
  int v44; // edx
  void *v45; // ebp
  int v46; // eax
  int v47; // eax
  int v48; // eax
  _DWORD *v49; // edi
  _DWORD *n; // esi
  _DWORD *v51; // eax
  _DWORD *v52; // esi
  _DWORD *v53; // ebx
  int v54; // edi
  int v55; // ebp
  _DWORD *v56; // eax
  int v57; // eax
  _DWORD **v58; // eax
  void *v59; // ebp
  int v60; // eax
  int v61; // eax
  int v62; // eax
  _DWORD *v63; // edi
  _DWORD *ii; // esi
  _DWORD *v65; // eax
  int v66; // edi
  int v67; // ebx
  int v68; // ebp
  _DWORD *v69; // [esp+14h] [ebp-Ch]
  _DWORD *i; // [esp+18h] [ebp-8h] BYREF
  int v71; // [esp+1Ch] [ebp-4h]

  v69 = a1;
  if ( a1[19] )
  {
    v1 = *(_DWORD *)a1[18];
    v2 = (_DWORD *)a1[12];
    v3 = a1 + 12;
    v71 = v1;
    for ( i = v2; ; v2 = i )
    {
      v4 = v3[6];
      if ( !v2 || v2 != (_DWORD *)*v3 )
        _invalid_parameter_noinfo();
      if ( v1 == v4 )
        break;
      if ( v2 )
      {
        v5 = (_DWORD *)*v2;
      }
      else
      {
        _invalid_parameter_noinfo();
        v5 = 0;
      }
      if ( v1 == v5[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v1 + 16) )
      {
        if ( v2 )
        {
          v6 = *v2;
        }
        else
        {
          _invalid_parameter_noinfo();
          v6 = 0;
        }
        if ( v1 == *(_DWORD *)(v6 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v1 + 16));
        if ( v2 )
          v2 = (_DWORD *)*v2;
        else
          _invalid_parameter_noinfo();
        if ( v1 == v2[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v1 + 16) = 0;
      }
      sub_409780(&i);
      v1 = v71;
    }
    v7 = *(_DWORD **)(v3[6] + 4);
    for ( j = v7; !*((_BYTE *)j + 21); v7 = j )
    {
      sub_409AB0((void **)j[2]);
      j = (_DWORD *)*j;
      operator delete(v7);
    }
    a1 = v69;
    *(_DWORD *)(v3[6] + 4) = v3[6];
    v9 = (_DWORD *)v3[6];
    v3[7] = 0;
    *v9 = v9;
    *(_DWORD *)(v3[6] + 8) = v3[6];
  }
  if ( a1[35] )
  {
    v10 = (_DWORD *)a1[28];
    v11 = a1 + 28;
    v12 = *(_DWORD *)a1[34];
    v71 = v12;
    for ( i = v10; ; v10 = i )
    {
      v13 = v11[6];
      if ( !v10 || v10 != (_DWORD *)*v11 )
        _invalid_parameter_noinfo();
      if ( v12 == v13 )
        break;
      if ( v10 )
      {
        v14 = (_DWORD *)*v10;
      }
      else
      {
        _invalid_parameter_noinfo();
        v14 = 0;
      }
      if ( v12 == v14[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(*(_DWORD *)(v12 + 16) + 284) )
      {
        if ( v10 )
        {
          v15 = *v10;
        }
        else
        {
          _invalid_parameter_noinfo();
          v15 = 0;
        }
        if ( v12 == *(_DWORD *)(v15 + 24) )
          _invalid_parameter_noinfo();
        v16 = *(_DWORD *)(v12 + 16);
        v17 = *(void **)(v16 + 284);
        if ( v17 )
        {
          sub_442820(*(_DWORD **)(v16 + 284));
          operator delete(v17);
        }
        if ( v10 )
        {
          v18 = *v10;
        }
        else
        {
          _invalid_parameter_noinfo();
          v18 = 0;
        }
        if ( v12 == *(_DWORD *)(v18 + 24) )
          _invalid_parameter_noinfo();
        *(_DWORD *)(*(_DWORD *)(v12 + 16) + 284) = 0;
      }
      if ( v10 )
      {
        v19 = *v10;
      }
      else
      {
        _invalid_parameter_noinfo();
        v19 = 0;
      }
      if ( v12 == *(_DWORD *)(v19 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v12 + 16) )
      {
        if ( v10 )
        {
          v20 = *v10;
        }
        else
        {
          _invalid_parameter_noinfo();
          v20 = 0;
        }
        if ( v12 == *(_DWORD *)(v20 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v12 + 16));
        if ( v10 )
          v10 = (_DWORD *)*v10;
        else
          _invalid_parameter_noinfo();
        if ( v12 == v10[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v12 + 16) = 0;
      }
      sub_409780(&i);
      v12 = v71;
    }
    v21 = *(_DWORD **)(v11[6] + 4);
    for ( k = v21; !*((_BYTE *)k + 21); v21 = k )
    {
      sub_409AB0((void **)k[2]);
      k = (_DWORD *)*k;
      operator delete(v21);
    }
    a1 = v69;
    *(_DWORD *)(v11[6] + 4) = v11[6];
    v23 = (_DWORD *)v11[6];
    v11[7] = 0;
    *v23 = v23;
    *(_DWORD *)(v11[6] + 8) = v11[6];
  }
  if ( a1[27] )
  {
    v24 = *(_DWORD *)a1[26];
    v25 = (_DWORD *)a1[20];
    v26 = a1 + 20;
    v71 = v24;
    for ( i = v25; ; v25 = i )
    {
      v27 = v26[6];
      if ( !v25 || v25 != (_DWORD *)*v26 )
        _invalid_parameter_noinfo();
      if ( v24 == v27 )
        break;
      if ( v25 )
      {
        v28 = (_DWORD *)*v25;
      }
      else
      {
        _invalid_parameter_noinfo();
        v28 = 0;
      }
      if ( v24 == v28[6] )
        _invalid_parameter_noinfo();
      if ( **(_DWORD **)(v24 + 16) )
      {
        if ( v25 )
        {
          v29 = *v25;
        }
        else
        {
          _invalid_parameter_noinfo();
          v29 = 0;
        }
        if ( v24 == *(_DWORD *)(v29 + 24) )
          _invalid_parameter_noinfo();
        v30 = *(_DWORD ***)(v24 + 16);
        v31 = *v30;
        if ( *v30 )
        {
          sub_4470C0(*v30);
          operator delete(v31);
        }
        if ( v25 )
        {
          v32 = *v25;
        }
        else
        {
          _invalid_parameter_noinfo();
          v32 = 0;
        }
        if ( v24 == *(_DWORD *)(v32 + 24) )
          _invalid_parameter_noinfo();
        **(_DWORD **)(v24 + 16) = 0;
      }
      if ( v25 )
      {
        v33 = *v25;
      }
      else
      {
        _invalid_parameter_noinfo();
        v33 = 0;
      }
      if ( v24 == *(_DWORD *)(v33 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v24 + 16) )
      {
        if ( v25 )
        {
          v34 = *v25;
        }
        else
        {
          _invalid_parameter_noinfo();
          v34 = 0;
        }
        if ( v24 == *(_DWORD *)(v34 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v24 + 16));
        if ( v25 )
          v25 = (_DWORD *)*v25;
        else
          _invalid_parameter_noinfo();
        if ( v24 == v25[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v24 + 16) = 0;
      }
      sub_409780(&i);
      v24 = v71;
    }
    v35 = *(_DWORD **)(v26[6] + 4);
    for ( m = v35; !*((_BYTE *)m + 21); v35 = m )
    {
      sub_409AB0((void **)m[2]);
      m = (_DWORD *)*m;
      operator delete(v35);
    }
    a1 = v69;
    *(_DWORD *)(v26[6] + 4) = v26[6];
    v37 = (_DWORD *)v26[6];
    v26[7] = 0;
    *v37 = v37;
    *(_DWORD *)(v26[6] + 8) = v26[6];
  }
  if ( a1[51] )
  {
    v38 = *(_DWORD *)a1[50];
    v39 = (_DWORD *)a1[44];
    v40 = a1 + 44;
    v71 = v38;
    for ( i = v39; ; v39 = i )
    {
      v41 = v40[6];
      if ( !v39 || v39 != (_DWORD *)*v40 )
        _invalid_parameter_noinfo();
      if ( v38 == v41 )
        break;
      if ( v39 )
      {
        v42 = (_DWORD *)*v39;
      }
      else
      {
        _invalid_parameter_noinfo();
        v42 = 0;
      }
      if ( v38 == v42[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(*(_DWORD *)(v38 + 16) + 284) )
      {
        if ( v39 )
        {
          v43 = *v39;
        }
        else
        {
          _invalid_parameter_noinfo();
          v43 = 0;
        }
        if ( v38 == *(_DWORD *)(v43 + 24) )
          _invalid_parameter_noinfo();
        v44 = *(_DWORD *)(v38 + 16);
        v45 = *(void **)(v44 + 284);
        if ( v45 )
        {
          sub_442820(*(_DWORD **)(v44 + 284));
          operator delete(v45);
        }
        if ( v39 )
        {
          v46 = *v39;
        }
        else
        {
          _invalid_parameter_noinfo();
          v46 = 0;
        }
        if ( v38 == *(_DWORD *)(v46 + 24) )
          _invalid_parameter_noinfo();
        *(_DWORD *)(*(_DWORD *)(v38 + 16) + 284) = 0;
      }
      if ( v39 )
      {
        v47 = *v39;
      }
      else
      {
        _invalid_parameter_noinfo();
        v47 = 0;
      }
      if ( v38 == *(_DWORD *)(v47 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v38 + 16) )
      {
        if ( v39 )
        {
          v48 = *v39;
        }
        else
        {
          _invalid_parameter_noinfo();
          v48 = 0;
        }
        if ( v38 == *(_DWORD *)(v48 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v38 + 16));
        if ( v39 )
          v39 = (_DWORD *)*v39;
        else
          _invalid_parameter_noinfo();
        if ( v38 == v39[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v38 + 16) = 0;
      }
      sub_409780(&i);
      v38 = v71;
    }
    v49 = *(_DWORD **)(v40[6] + 4);
    for ( n = v49; !*((_BYTE *)n + 21); v49 = n )
    {
      sub_409AB0((void **)n[2]);
      n = (_DWORD *)*n;
      operator delete(v49);
    }
    a1 = v69;
    *(_DWORD *)(v40[6] + 4) = v40[6];
    v51 = (_DWORD *)v40[6];
    v40[7] = 0;
    *v51 = v51;
    *(_DWORD *)(v40[6] + 8) = v40[6];
  }
  if ( a1[43] )
  {
    v52 = (_DWORD *)a1[36];
    v53 = a1 + 36;
    v54 = *(_DWORD *)a1[42];
    v71 = v54;
    for ( i = v52; ; v52 = i )
    {
      v55 = v53[6];
      if ( !v52 || v52 != (_DWORD *)*v53 )
        _invalid_parameter_noinfo();
      if ( v54 == v55 )
        break;
      if ( v52 )
      {
        v56 = (_DWORD *)*v52;
      }
      else
      {
        _invalid_parameter_noinfo();
        v56 = 0;
      }
      if ( v54 == v56[6] )
        _invalid_parameter_noinfo();
      if ( **(_DWORD **)(v54 + 16) )
      {
        if ( v52 )
        {
          v57 = *v52;
        }
        else
        {
          _invalid_parameter_noinfo();
          v57 = 0;
        }
        if ( v54 == *(_DWORD *)(v57 + 24) )
          _invalid_parameter_noinfo();
        v58 = *(_DWORD ***)(v54 + 16);
        v59 = *v58;
        if ( *v58 )
        {
          sub_4470C0(*v58);
          operator delete(v59);
        }
        if ( v52 )
        {
          v60 = *v52;
        }
        else
        {
          _invalid_parameter_noinfo();
          v60 = 0;
        }
        if ( v54 == *(_DWORD *)(v60 + 24) )
          _invalid_parameter_noinfo();
        **(_DWORD **)(v54 + 16) = 0;
      }
      if ( v52 )
      {
        v61 = *v52;
      }
      else
      {
        _invalid_parameter_noinfo();
        v61 = 0;
      }
      if ( v54 == *(_DWORD *)(v61 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v54 + 16) )
      {
        if ( v52 )
        {
          v62 = *v52;
        }
        else
        {
          _invalid_parameter_noinfo();
          v62 = 0;
        }
        if ( v54 == *(_DWORD *)(v62 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v54 + 16));
        if ( v52 )
          v52 = (_DWORD *)*v52;
        else
          _invalid_parameter_noinfo();
        if ( v54 == v52[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v54 + 16) = 0;
      }
      sub_409780(&i);
      v54 = v71;
    }
    v63 = *(_DWORD **)(v53[6] + 4);
    for ( ii = v63; !*((_BYTE *)ii + 21); v63 = ii )
    {
      sub_409AB0((void **)ii[2]);
      ii = (_DWORD *)*ii;
      operator delete(v63);
    }
    a1 = v69;
    *(_DWORD *)(v53[6] + 4) = v53[6];
    v65 = (_DWORD *)v53[6];
    v53[7] = 0;
    *v65 = v65;
    *(_DWORD *)(v53[6] + 8) = v53[6];
  }
  v66 = a1[229];
  v67 = a1[227];
  v68 = a1[228];
  sub_4129F0((float *)a1);
  v69[227] = v67;
  v69[228] = v68;
  v69[229] = v66;
  sub_412EA0(v69);
  if ( (int)v69[229] < 0 || v69[231] )
    v69[229] = -1;
  if ( v69[247] )
  {
    sub_44BF60(*((int **)dword_4C0874 + 63), v69[247]);
    v69[247] = 0;
  }
}

//----- (00413B40) --------------------------------------------------------
int __thiscall sub_413B40(int this)
{
  _DWORD *v2; // eax
  int v3; // ebp
  _DWORD *v4; // esi
  int v5; // ebx
  _DWORD *v6; // eax
  int *v7; // ebx
  double v8; // st7
  int v9; // ecx
  int v10; // ebp
  int v11; // ebx
  int v12; // eax
  double v13; // st7
  int v14; // ebp
  int v15; // ebx
  int v16; // ebx
  _DWORD *v17; // esi
  int v18; // ebp
  _DWORD *v19; // eax
  int v20; // ebp
  char v21; // al
  int v22; // ebx
  _DWORD *v23; // esi
  int v24; // ebp
  _DWORD *v25; // eax
  int v26; // edx
  int v27; // ecx
  int v28; // ebp
  _DWORD *v29; // esi
  int v30; // ebx
  _DWORD *v31; // eax
  int v32; // ebx
  int v33; // ebx
  _DWORD *v34; // esi
  int v35; // ebp
  int v36; // eax
  int v37; // eax
  unsigned __int8 *v38; // eax
  char *v39; // eax
  char v40; // cl
  int v42; // [esp+10h] [ebp-50h]
  int v43; // [esp+14h] [ebp-4Ch]
  int v44; // [esp+18h] [ebp-48h]
  int *v45; // [esp+1Ch] [ebp-44h]
  int v46; // [esp+20h] [ebp-40h]
  int v47; // [esp+24h] [ebp-3Ch]
  int v48; // [esp+24h] [ebp-3Ch]
  _DWORD *j; // [esp+28h] [ebp-38h] BYREF
  int v50; // [esp+2Ch] [ebp-34h]
  _DWORD *i; // [esp+30h] [ebp-30h] BYREF
  int v52; // [esp+34h] [ebp-2Ch]
  _DWORD *m; // [esp+38h] [ebp-28h] BYREF
  int v54; // [esp+3Ch] [ebp-24h]
  _DWORD *k; // [esp+40h] [ebp-20h] BYREF
  int v56; // [esp+44h] [ebp-1Ch]
  _DWORD *v57; // [esp+48h] [ebp-18h] BYREF
  int v58; // [esp+4Ch] [ebp-14h]
  int v59; // [esp+50h] [ebp-10h]
  int v60; // [esp+54h] [ebp-Ch]

  v44 = 1;
  v43 = *sub_442BD0(dword_4C087C, &v57);
  v2 = sub_442BD0(dword_4C087C, &v57);
  v3 = **(_DWORD **)(this + 72);
  v4 = *(_DWORD **)(this + 48);
  v46 = v2[1];
  v58 = v3;
  v57 = v4;
  v42 = 0;
  while ( 1 )
  {
    v5 = *(_DWORD *)(this + 72);
    if ( !v4 || v4 != *(_DWORD **)(this + 48) )
      _invalid_parameter_noinfo();
    if ( v3 == v5 )
      break;
    if ( v4 )
    {
      v6 = (_DWORD *)*v4;
    }
    else
    {
      _invalid_parameter_noinfo();
      v6 = 0;
    }
    if ( v3 == v6[6] )
      _invalid_parameter_noinfo();
    v7 = *(int **)(v3 + 16);
    v45 = v7;
    if ( !sub_442AB0(dword_4C087C, 1) && v7[156] )
      v7[158] = 0;
    if ( v4 )
      v4 = (_DWORD *)*v4;
    else
      _invalid_parameter_noinfo();
    if ( v3 == v4[6] )
      _invalid_parameter_noinfo();
    if ( v7[157] )
    {
      v8 = *(float *)(this + 928);
      v9 = v7[1];
      v10 = v7[2];
      v11 = v7[3];
      v59 = *v45;
      v60 = v9;
      v12 = (int)v8;
      v13 = *(float *)(this + 932);
      v59 += v12;
      v60 = (int)v13 + v9;
      v14 = v12 + v10;
      v15 = (int)v13 + v11;
      if ( v59 < v43 && v43 < v14 && v60 < v46 && v46 < v15 )
      {
        v16 = **(_DWORD **)(this + 72);
        v17 = *(_DWORD **)(this + 48);
        v52 = v16;
        for ( i = v17; ; v17 = i )
        {
          v18 = *(_DWORD *)(this + 72);
          if ( !v17 || v17 != *(_DWORD **)(this + 48) )
            _invalid_parameter_noinfo();
          if ( v16 == v18 )
            break;
          if ( v17 )
          {
            v19 = (_DWORD *)*v17;
          }
          else
          {
            _invalid_parameter_noinfo();
            v19 = 0;
          }
          if ( v16 == v19[6] )
            _invalid_parameter_noinfo();
          v20 = *(_DWORD *)(v16 + 16);
          if ( v17 )
            v17 = (_DWORD *)*v17;
          else
            _invalid_parameter_noinfo();
          if ( v16 == v17[6] )
            _invalid_parameter_noinfo();
          v47 = *(_DWORD *)(v16 + 12);
          if ( *(_DWORD *)(v20 + 632) )
          {
            if ( sub_442B00(dword_4C087C, 1) )
            {
              v21 = *(_BYTE *)(v20 + 16);
              if ( v21 )
              {
                if ( v21 != 45 )
                {
                  v37 = *(_DWORD *)(v20 + 48);
                  if ( v37 )
                  {
                    v38 = (unsigned __int8 *)sub_40CA20(Buf, v37);
                    sub_43D070((DWORD *)dword_4C08F4, v38, 1, 0);
                  }
                  if ( *(_BYTE *)(v20 + 316) )
                  {
                    sub_43CE50(dword_4C08F4, (void *)2);
                    sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v20 + 316), 2, 0);
                  }
                  v39 = (char *)(v20 + 16);
                  do
                  {
                    v40 = *v39;
                    v39[this - (v20 + 16)] = *v39;
                    ++v39;
                  }
                  while ( v40 );
                  sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v42);
                  *(_DWORD *)(this + 916) = v42;
                  return v42;
                }
              }
            }
            if ( *(_DWORD *)(this + 108) )
            {
              v22 = **(_DWORD **)(this + 104);
              v23 = *(_DWORD **)(this + 80);
              v50 = v22;
              for ( j = v23; ; v23 = j )
              {
                v24 = *(_DWORD *)(this + 104);
                if ( !v23 || v23 != *(_DWORD **)(this + 80) )
                  _invalid_parameter_noinfo();
                if ( v22 == v24 )
                  break;
                if ( v23 )
                  v23 = (_DWORD *)*v23;
                else
                  _invalid_parameter_noinfo();
                if ( v22 == v23[6] )
                  _invalid_parameter_noinfo();
                v25 = *(_DWORD **)(v22 + 16);
                if ( v25[10] == v47 )
                {
                  v26 = v59;
                  v27 = v60;
                  v25[16] = 1;
                  v25[17] = v26;
                  v25[18] = v27;
                  v44 = 0;
                }
                sub_409780(&j);
                v22 = v50;
              }
            }
          }
          sub_409780(&i);
          v16 = v52;
        }
      }
      ++v42;
    }
    if ( v44 )
    {
      v28 = **(_DWORD **)(this + 72);
      v29 = *(_DWORD **)(this + 48);
      v56 = v28;
      for ( k = v29; ; v29 = k )
      {
        v30 = *(_DWORD *)(this + 72);
        if ( !v29 || v29 != *(_DWORD **)(this + 48) )
          _invalid_parameter_noinfo();
        if ( v28 == v30 )
          break;
        if ( v29 )
        {
          v31 = (_DWORD *)*v29;
        }
        else
        {
          _invalid_parameter_noinfo();
          v31 = 0;
        }
        if ( v28 == v31[6] )
          _invalid_parameter_noinfo();
        v32 = *(_DWORD *)(v28 + 16);
        if ( v29 )
          v29 = (_DWORD *)*v29;
        else
          _invalid_parameter_noinfo();
        if ( v28 == v29[6] )
          _invalid_parameter_noinfo();
        v48 = *(_DWORD *)(v28 + 12);
        if ( *(_DWORD *)(v32 + 632) && *(_DWORD *)(this + 108) )
        {
          v33 = **(_DWORD **)(this + 104);
          v34 = *(_DWORD **)(this + 80);
          v54 = v33;
          for ( m = v34; ; v34 = m )
          {
            v35 = *(_DWORD *)(this + 104);
            if ( !v34 || v34 != *(_DWORD **)(this + 80) )
              _invalid_parameter_noinfo();
            if ( v33 == v35 )
              break;
            if ( v34 )
              v34 = (_DWORD *)*v34;
            else
              _invalid_parameter_noinfo();
            if ( v33 == v34[6] )
              _invalid_parameter_noinfo();
            v36 = *(_DWORD *)(v33 + 16);
            if ( *(_DWORD *)(v36 + 40) == v48 )
              *(_DWORD *)(v36 + 64) = 0;
            sub_409780(&m);
            v33 = v54;
          }
        }
        sub_409780(&k);
        v28 = v56;
      }
    }
    if ( v45[158] )
      return -1;
    sub_409780(&v57);
    v3 = v58;
    v4 = v57;
  }
  return 255;
}

//----- (00413FB0) --------------------------------------------------------
void __thiscall sub_413FB0(int this, int a2, _BYTE *a3)
{
  _DWORD *v4; // esi
  int v5; // edi
  int v6; // ebx
  _DWORD *v7; // eax
  int v8; // ebx
  int v9; // edi
  char *v10; // eax
  char v11; // cl
  _DWORD *i; // [esp+10h] [ebp-8h] BYREF
  int v13; // [esp+14h] [ebp-4h]

  *a3 = 0;
  v4 = *(_DWORD **)(this + 48);
  v5 = **(_DWORD **)(this + 72);
  v13 = v5;
  for ( i = v4; ; v4 = i )
  {
    v6 = *(_DWORD *)(this + 72);
    if ( !v4 || v4 != *(_DWORD **)(this + 48) )
      _invalid_parameter_noinfo();
    if ( v5 == v6 )
      break;
    if ( v4 )
    {
      v7 = (_DWORD *)*v4;
    }
    else
    {
      _invalid_parameter_noinfo();
      v7 = 0;
    }
    if ( v5 == v7[6] )
      _invalid_parameter_noinfo();
    v8 = *(_DWORD *)(v5 + 12);
    if ( v4 )
      v4 = (_DWORD *)*v4;
    else
      _invalid_parameter_noinfo();
    if ( v5 == v4[6] )
      _invalid_parameter_noinfo();
    v9 = *(_DWORD *)(v5 + 16);
    if ( a2 == v8 )
    {
      v10 = (char *)(v9 + 16);
      do
      {
        v11 = *v10;
        a3[(_DWORD)v10 - 16 - v9] = *v10;
        ++v10;
      }
      while ( v11 );
      return;
    }
    sub_409780(&i);
    v5 = v13;
  }
}

//----- (00414060) --------------------------------------------------------
void __thiscall sub_414060(int this)
{
  int v1; // ebx
  int v2; // ebp
  _DWORD *v3; // esi
  int v4; // edi
  _DWORD *v5; // eax
  int v6; // esi
  _DWORD *v7; // edi
  int v8; // ebp
  int v9; // ebx
  int v10; // edi
  int v11; // eax
  int v12; // ebx
  bool v13; // cc
  int v14; // ebx
  double v15; // st7
  int v16; // eax
  float *v17; // ecx
  int v18; // ebx
  double v19; // st7
  int v20; // ecx
  int v21; // edx
  int v22; // ebx
  float *v23; // ecx
  int v24; // [esp-4h] [ebp-5Ch]
  float v25; // [esp+0h] [ebp-58h]
  int v26; // [esp+4h] [ebp-54h]
  int v27; // [esp+20h] [ebp-38h]
  int v28; // [esp+24h] [ebp-34h]
  int v30; // [esp+2Ch] [ebp-2Ch]
  float v31; // [esp+30h] [ebp-28h] BYREF
  float v32; // [esp+34h] [ebp-24h] BYREF
  _DWORD *v33; // [esp+38h] [ebp-20h] BYREF
  int v34; // [esp+3Ch] [ebp-1Ch]
  _DWORD *v35; // [esp+40h] [ebp-18h] BYREF
  int v36; // [esp+44h] [ebp-14h]
  int v37[2]; // [esp+48h] [ebp-10h] BYREF
  int v38; // [esp+50h] [ebp-8h]
  int v39; // [esp+54h] [ebp-4h]

  v1 = this;
  if ( *(_DWORD *)(this + 76) )
  {
    v2 = **(_DWORD **)(this + 72);
    v3 = *(_DWORD **)(this + 48);
    v36 = v2;
    v35 = v3;
    v27 = 0;
    while ( 1 )
    {
      v4 = *(_DWORD *)(v1 + 72);
      if ( !v3 || v3 != *(_DWORD **)(v1 + 48) )
        _invalid_parameter_noinfo();
      if ( v2 == v4 )
        break;
      if ( v3 )
      {
        v5 = (_DWORD *)*v3;
      }
      else
      {
        _invalid_parameter_noinfo();
        v5 = 0;
      }
      if ( v2 == v5[6] )
        _invalid_parameter_noinfo();
      v30 = *(_DWORD *)(v2 + 12);
      if ( v3 )
        v3 = (_DWORD *)*v3;
      else
        _invalid_parameter_noinfo();
      if ( v2 == v3[6] )
        _invalid_parameter_noinfo();
      v6 = *(_DWORD *)(v2 + 16);
      if ( 0.0 != *(float *)(v6 + 580) && *(_DWORD *)(v1 + 108) )
      {
        v7 = *(_DWORD **)(v1 + 80);
        v8 = **(_DWORD **)(v1 + 104);
        v33 = v7;
        v34 = v8;
        while ( 1 )
        {
          v9 = *(_DWORD *)(v1 + 104);
          if ( !v7 || v7 != *(_DWORD **)(this + 80) )
            _invalid_parameter_noinfo();
          if ( v8 == v9 )
            break;
          if ( v7 )
            v7 = (_DWORD *)*v7;
          else
            _invalid_parameter_noinfo();
          if ( v8 == v7[6] )
            _invalid_parameter_noinfo();
          v10 = *(_DWORD *)(v8 + 16);
          if ( *(_DWORD *)(v10 + 40) == v30 )
          {
            v11 = *(_DWORD *)(v10 + 44);
            switch ( v11 )
            {
              case 2:
                if ( v27 )
                {
                  v12 = *(_DWORD *)(v6 + 600) - 1;
                  v28 = v12;
                  v13 = sub_40CCD0(Buf, *(_DWORD *)(v6 + 584) / 1000, *(_DWORD *)(v6 + 584) % 1000) < v12;
                  v14 = *(_DWORD *)(v10 + 12);
                  if ( v13 )
                    v15 = (double)sub_40CCD0(Buf, *(_DWORD *)(v6 + 584) / 1000, *(_DWORD *)(v6 + 584) % 1000);
                  else
                    v15 = (double)v28;
                  v16 = (int)(v15 * *(float *)(v6 + 580) + (double)v14);
                  v26 = *(_DWORD *)(v10 + 24);
                  v24 = *(_DWORD *)(v10 + 16);
                  v17 = *(float **)v10;
                  *(_DWORD *)(v10 + 20) = v16;
                  sub_444340(v17, v14, v24, v16, v26);
                  *(_DWORD *)(v10 + 44) = 105;
                }
                ++v27;
                break;
              case 99:
                *(_DWORD *)(v10 + 44) = 103;
                break;
              case 1:
                *(_DWORD *)(v10 + 44) = 104;
                break;
              case 100:
              case 101:
                v18 = *(_DWORD *)(v6 + 600) - 1;
                if ( sub_40CCD0(Buf, *(_DWORD *)(v6 + 584) / 1000, *(_DWORD *)(v6 + 584) % 1000) < v18 )
                  v19 = (double)sub_40CCD0(Buf, *(_DWORD *)(v6 + 584) / 1000, *(_DWORD *)(v6 + 584) % 1000);
                else
                  v19 = (double)v18;
                v20 = *(_DWORD *)(v6 + 8);
                v21 = *(_DWORD *)v6;
                v22 = (int)(v19 * *(float *)(v6 + 580) + (double)*(int *)(v6 + 588));
                v37[1] = *(_DWORD *)(v6 + 4);
                v38 = v20;
                v37[0] = v21;
                v23 = *(float **)v10;
                v39 = *(_DWORD *)(v6 + 12);
                sub_4442C0(v23, &v32, &v31);
                sub_444360(*(float **)v10, v37);
                v25 = (float)(v22 - (v38 - v37[0]) / 2);
                sub_444260(*(float **)v10, v25, v31);
                break;
            }
          }
          sub_409780(&v33);
          v8 = v34;
          v7 = v33;
          v1 = this;
        }
        v1 = this;
      }
      sub_409780(&v35);
      v2 = v36;
      v3 = v35;
    }
  }
}
// 414060:  float var_24

//----- (00414360) --------------------------------------------------------
void __thiscall sub_414360(int *this, int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // ebp
  int v6; // ebx
  int *v7; // esi
  int *v8; // edi
  int v9; // eax
  int v10; // ebp
  int v11; // ebx
  int *v12; // edi
  int *v13; // eax
  int v14; // eax
  float v15; // [esp+0h] [ebp-20h]
  float v16; // [esp+4h] [ebp-1Ch]
  int v17[2]; // [esp+18h] [ebp-8h] BYREF

  if ( a4 )
  {
    v9 = this[27];
    if ( v9 )
    {
      v10 = this[26];
      v11 = this[20];
      v7 = this + 20;
      a4 = v9 - 1;
      v12 = sub_4132D0(this + 20, v17, &a4);
      if ( !*v12 || *v12 != v11 )
        _invalid_parameter_noinfo();
      if ( v12[1] != v10 )
        goto LABEL_13;
    }
  }
  else
  {
    v4 = this[43];
    if ( v4 )
    {
      v5 = this[42];
      v6 = this[36];
      v7 = this + 36;
      a4 = v4 - 1;
      v8 = sub_4132D0(this + 36, v17, &a4);
      if ( !*v8 || *v8 != v6 )
        _invalid_parameter_noinfo();
      if ( v8[1] != v5 )
      {
LABEL_13:
        v16 = (float)a3;
        v15 = (float)a2;
        v13 = sub_4132D0(v7, v17, &a4);
        v14 = sub_44AC10((int **)v13);
        sub_444450(**(float ***)(v14 + 4), v15, v16);
      }
    }
  }
}

//----- (00414480) --------------------------------------------------------
void __stdcall sub_414480(int *a1, int a2)
{
  int *v2; // esi
  int v3; // eax
  int v4; // ebx
  int v5; // ebp
  int *v6; // edi
  int *v7; // edi
  int *v8; // eax
  int v9; // eax
  int *v10; // eax
  int v11; // eax
  int *v12; // eax
  int v13; // eax
  int *v14; // eax
  int v15; // eax
  int *v16; // eax
  int v17; // eax
  char *v18; // edx
  int *v19; // eax
  int v20; // eax
  int *v21; // eax
  int v22; // eax
  int *v23; // eax
  int v24; // eax
  int *v25; // eax
  int v26; // eax
  int v27[2]; // [esp+20h] [ebp-48h] BYREF
  int v28; // [esp+28h] [ebp-40h] BYREF
  int v29; // [esp+30h] [ebp-38h] BYREF
  int v30; // [esp+38h] [ebp-30h] BYREF
  char v31; // [esp+40h] [ebp-28h] BYREF
  int v32; // [esp+48h] [ebp-20h] BYREF
  int v33; // [esp+50h] [ebp-18h] BYREF
  int v34; // [esp+58h] [ebp-10h] BYREF
  char v35; // [esp+60h] [ebp-8h] BYREF

  v2 = a1;
  v3 = a1[7];
  if ( v3 )
  {
    v4 = *a1;
    v5 = a1[6];
    a1 = (int *)(v3 - 1);
    v6 = sub_4132D0(v2, v27, &a1);
    if ( !*v6 || *v6 != v4 )
      _invalid_parameter_noinfo();
    if ( v6[1] != v5 )
    {
      v7 = sub_4132D0(v2, v27, &a1);
      v8 = (int *)*v7;
      if ( *v7 || (_invalid_parameter_noinfo(), (v8 = (int *)*v7) != 0) )
        v9 = *v8;
      else
        v9 = 0;
      if ( v7[1] == *(_DWORD *)(v9 + 24) )
        _invalid_parameter_noinfo();
      sub_4455B0(**(_DWORD **)(v7[1] + 16));
      if ( a2 == 4 )
      {
        v19 = sub_4132D0(v2, &v32, &a1);
        v20 = sub_44AC10((int **)v19);
        sub_445CC0(**(_DWORD **)(v20 + 4), (void *)1, 255);
        v21 = sub_4132D0(v2, &v33, &a1);
        v22 = sub_44AC10((int **)v21);
        sub_4477E0(**(_DWORD **)(v22 + 4), 0.2, 15, 0, -1);
        v23 = sub_4132D0(v2, &v34, &a1);
        v24 = sub_44AC10((int **)v23);
        sub_4477E0(**(_DWORD **)(v24 + 4), 1.0, 15, 0, -1);
        v18 = &v35;
      }
      else
      {
        if ( a2 != 5 )
        {
          if ( a2 == 7 )
          {
            v10 = sub_4132D0(v2, v27, &a1);
            v11 = sub_44AC10((int **)v10);
            sub_4479F0(**(_DWORD **)(v11 + 4), 360, 45, COERCE_FLOAT(1), -1);
          }
          return;
        }
        v12 = sub_4132D0(v2, &v28, &a1);
        v13 = sub_44AC10((int **)v12);
        sub_445CC0(**(_DWORD **)(v13 + 4), (void *)1, 255);
        v14 = sub_4132D0(v2, &v29, &a1);
        v15 = sub_44AC10((int **)v14);
        sub_4478E0(**(_DWORD **)(v15 + 4), 120.0, 15, 0, -1);
        v16 = sub_4132D0(v2, &v30, &a1);
        v17 = sub_44AC10((int **)v16);
        sub_4478E0(**(_DWORD **)(v17 + 4), 100.0, 15, 0, -1);
        v18 = &v31;
      }
      v25 = sub_4132D0(v2, (int *)v18, &a1);
      v26 = sub_44AC10((int **)v25);
      sub_445CC0(**(_DWORD **)(v26 + 4), 0, 0);
    }
  }
}

//----- (004146B0) --------------------------------------------------------
void __thiscall sub_4146B0(int *this, int a2)
{
  if ( a2 )
    sub_414480(this + 20, 4);
  else
    sub_414480(this + 36, 4);
}

//----- (004146E0) --------------------------------------------------------
void __thiscall sub_4146E0(int *this, int a2)
{
  if ( a2 )
    sub_414480(this + 20, 5);
  else
    sub_414480(this + 36, 5);
}

//----- (00414710) --------------------------------------------------------
void __thiscall sub_414710(int *this, int a2)
{
  if ( a2 )
    sub_414480(this + 20, 7);
  else
    sub_414480(this + 36, 7);
}

//----- (00414740) --------------------------------------------------------
int __thiscall sub_414740(_DWORD *this)
{
  int *v1; // eax
  int *v2; // ecx
  int v3; // esi
  int v4; // ecx

  if ( !this[51] )
    return 0;
  v1 = (int *)this[50];
  v2 = (int *)this[44];
  v3 = *v1;
  if ( v2 )
  {
    v4 = *v2;
  }
  else
  {
    _invalid_parameter_noinfo();
    v4 = 0;
  }
  if ( v3 == *(_DWORD *)(v4 + 24) )
    _invalid_parameter_noinfo();
  return *(_DWORD *)(*(_DWORD *)(v3 + 16) + 284);
}

//----- (00414780) --------------------------------------------------------
void __thiscall sub_414780(int this)
{
  int v2; // ebx
  _DWORD *v3; // esi
  int v4; // edi
  _DWORD *v5; // eax
  int v6; // eax
  int v7; // ebx
  _DWORD *v8; // esi
  int v9; // edi
  _DWORD *i; // [esp+10h] [ebp-8h] BYREF
  int v11; // [esp+14h] [ebp-4h]

  if ( *(_DWORD *)(this + 76) )
  {
    v2 = **(_DWORD **)(this + 72);
    v3 = *(_DWORD **)(this + 48);
    v11 = v2;
    for ( i = v3; ; v3 = i )
    {
      v4 = *(_DWORD *)(this + 72);
      if ( !v3 || v3 != *(_DWORD **)(this + 48) )
        _invalid_parameter_noinfo();
      if ( v2 == v4 )
        break;
      if ( v3 )
      {
        v5 = (_DWORD *)*v3;
      }
      else
      {
        _invalid_parameter_noinfo();
        v5 = 0;
      }
      if ( v2 == v5[6] )
        _invalid_parameter_noinfo();
      if ( v3 )
      {
        v6 = *v3;
      }
      else
      {
        _invalid_parameter_noinfo();
        v6 = 0;
      }
      if ( v2 == *(_DWORD *)(v6 + 24) )
        _invalid_parameter_noinfo();
      *(_BYTE *)(*(_DWORD *)(v2 + 16) + 16) = 0;
      if ( v3 )
        v3 = (_DWORD *)*v3;
      else
        _invalid_parameter_noinfo();
      if ( v2 == v3[6] )
        _invalid_parameter_noinfo();
      *(_DWORD *)(*(_DWORD *)(v2 + 16) + 620) = 0;
      sub_409780(&i);
      v2 = v11;
    }
  }
  if ( *(_DWORD *)(this + 140) )
  {
    v7 = **(_DWORD **)(this + 136);
    v8 = *(_DWORD **)(this + 112);
    v11 = v7;
    for ( i = v8; ; v8 = i )
    {
      v9 = *(_DWORD *)(this + 136);
      if ( !v8 || v8 != *(_DWORD **)(this + 112) )
        _invalid_parameter_noinfo();
      if ( v7 == v9 )
        break;
      if ( v8 )
        v8 = (_DWORD *)*v8;
      else
        _invalid_parameter_noinfo();
      if ( v7 == v8[6] )
        _invalid_parameter_noinfo();
      sub_440880(*(_DWORD *)(*(_DWORD *)(v7 + 16) + 284));
      sub_409780(&i);
      v7 = v11;
    }
  }
}

//----- (004148B0) --------------------------------------------------------
void __thiscall sub_4148B0(int this, int a2)
{
  int v2; // ebx
  int v3; // ebp
  _DWORD *v4; // esi
  int v5; // edi
  _DWORD *v6; // eax
  int v7; // edi
  int v8; // eax
  int v9; // edi
  int v10; // ebp
  int v11; // ebx
  _DWORD *v12; // edi
  int v13; // esi
  _DWORD *v14; // eax
  int *v15; // esi
  int v16; // edx
  int v17; // ecx
  int v18; // eax
  int v19; // edx
  int v20; // eax
  int v21; // edi
  _DWORD *v22; // esi
  int v23; // ebp
  int v24; // ebx
  int v25; // ecx
  int v26; // ebx
  _DWORD *v27; // esi
  int v28; // edi
  int v29; // ecx
  int v31; // [esp+4h] [ebp-24h]
  int v32; // [esp+8h] [ebp-20h]
  int v33; // [esp+Ch] [ebp-1Ch]
  _DWORD *i; // [esp+10h] [ebp-18h] BYREF
  int v35; // [esp+14h] [ebp-14h]
  int v36; // [esp+18h] [ebp-10h]
  int v37; // [esp+20h] [ebp-8h]
  int v38; // [esp+2Ch] [ebp+4h]

  if ( *(_DWORD *)(this + 76) )
  {
    v2 = **(_DWORD **)(this + 72);
    v3 = a2;
    v4 = *(_DWORD **)(this + 48);
    v35 = v2;
    i = v4;
    while ( 1 )
    {
      v5 = *(_DWORD *)(this + 72);
      if ( !v4 || v4 != *(_DWORD **)(this + 48) )
        _invalid_parameter_noinfo();
      if ( v2 == v5 )
        break;
      if ( v4 )
      {
        v6 = (_DWORD *)*v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v6 = 0;
      }
      if ( v2 == v6[6] )
        _invalid_parameter_noinfo();
      v7 = *(_DWORD *)(v2 + 16);
      if ( v4 )
      {
        v8 = *v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v8 = 0;
      }
      if ( v2 == *(_DWORD *)(v8 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v2 + 12) )
      {
        if ( v4 )
          v4 = (_DWORD *)*v4;
        else
          _invalid_parameter_noinfo();
        if ( v2 == v4[6] )
          _invalid_parameter_noinfo();
        if ( *(_DWORD *)(v2 + 12) == 1 )
        {
          v9 = *(_DWORD *)(v7 + 4) - v32;
          v31 = v9;
          goto LABEL_28;
        }
        sub_409780(&i);
        v2 = v35;
        v4 = i;
      }
      else
      {
        v3 = *(_DWORD *)(v7 + 12) - *(_DWORD *)(v7 + 4);
        v31 = v3;
        v32 = *(_DWORD *)(v7 + 4);
        sub_409780(&i);
        v2 = v35;
        v4 = i;
      }
    }
    v9 = v31;
LABEL_28:
    if ( a2 % 2 )
    {
      v33 = v3 / -2 - v9 * (a2 / 2);
      v10 = v33;
    }
    else
    {
      v10 = v9 * (a2 / -2);
      v33 = v10;
    }
    v11 = **(_DWORD **)(this + 72);
    v12 = *(_DWORD **)(this + 48);
    i = v12;
    v35 = v11;
    while ( 1 )
    {
      v13 = *(_DWORD *)(this + 72);
      if ( !v12 || v12 != *(_DWORD **)(this + 48) )
        _invalid_parameter_noinfo();
      if ( v11 == v13 )
        break;
      if ( v12 )
      {
        v14 = (_DWORD *)*v12;
      }
      else
      {
        _invalid_parameter_noinfo();
        v14 = 0;
      }
      if ( v11 == v14[6] )
        _invalid_parameter_noinfo();
      v15 = *(int **)(v11 + 16);
      if ( v12 )
        v12 = (_DWORD *)*v12;
      else
        _invalid_parameter_noinfo();
      if ( v11 == v12[6] )
        _invalid_parameter_noinfo();
      v16 = v15[2];
      v17 = v15[1];
      v36 = *v15;
      v18 = *((_DWORD *)Buf + 272083) + v31 * *(_DWORD *)(v11 + 12);
      v37 = v16;
      v19 = v15[3];
      v20 = v10 + v18;
      v15[1] = v20;
      v15[3] = v19 + v20 - v17;
      sub_409780(&i);
      v11 = v35;
      v12 = i;
    }
    v21 = **(_DWORD **)(this + 104);
    v22 = *(_DWORD **)(this + 80);
    v23 = 0;
    v38 = 0;
    v35 = v21;
    for ( i = v22; ; v22 = i )
    {
      v24 = *(_DWORD *)(this + 104);
      if ( !v22 || v22 != *(_DWORD **)(this + 80) )
        _invalid_parameter_noinfo();
      if ( v21 == v24 )
        break;
      if ( v22 )
        v22 = (_DWORD *)*v22;
      else
        _invalid_parameter_noinfo();
      if ( v21 == v22[6] )
        _invalid_parameter_noinfo();
      v25 = *(_DWORD *)(v21 + 16);
      if ( !*(_DWORD *)(v25 + 40) )
        v38 = *(_DWORD *)(v25 + 8);
      *(_DWORD *)(v25 + 8) = v33 + v31 * *(_DWORD *)(v25 + 40) + *((_DWORD *)Buf + 272083);
      sub_409780(&i);
      v21 = v35;
    }
    v26 = **(_DWORD **)(this + 136);
    v27 = *(_DWORD **)(this + 112);
    v35 = v26;
    for ( i = v27; ; v27 = i )
    {
      v28 = *(_DWORD *)(this + 136);
      if ( !v27 || v27 != *(_DWORD **)(this + 112) )
        _invalid_parameter_noinfo();
      if ( v26 == v28 )
        break;
      if ( v27 )
        v27 = (_DWORD *)*v27;
      else
        _invalid_parameter_noinfo();
      if ( v26 == v27[6] )
        _invalid_parameter_noinfo();
      v29 = *(_DWORD *)(v26 + 16);
      if ( !*(_DWORD *)(v29 + 12) && v38 && !v23 )
        v23 = *(_DWORD *)(v29 + 4) - v38;
      *(_DWORD *)(v29 + 4) = v33 + v31 * *(_DWORD *)(v29 + 12) + v23 + *((_DWORD *)Buf + 272083);
      sub_409780(&i);
      v26 = v35;
    }
  }
}
// 414993: variable 'v32' is possibly undefined
// 41499D: variable 'v31' is possibly undefined

//----- (00414BD0) --------------------------------------------------------
void __thiscall sub_414BD0(int this, char *a2, char *Str, int a4)
{
  int v4; // ebx
  _DWORD *v5; // esi
  int v6; // edi
  _DWORD *v7; // eax
  int v8; // edi
  char *v9; // eax
  char v10; // cl
  int v11; // ebx
  _DWORD *v12; // esi
  int v13; // edi
  int v14; // esi
  char *v15; // eax
  char v16; // cl
  int v17; // [esp+10h] [ebp-Ch]
  _DWORD *v18; // [esp+14h] [ebp-8h] BYREF
  int v19; // [esp+18h] [ebp-4h]

  v17 = this;
  if ( *(_DWORD *)(this + 76) )
  {
    v4 = **(_DWORD **)(this + 72);
    v5 = *(_DWORD **)(this + 48);
    v19 = v4;
    v18 = v5;
    while ( 1 )
    {
      v6 = *(_DWORD *)(this + 72);
      if ( !v5 || v5 != *(_DWORD **)(this + 48) )
      {
        _invalid_parameter_noinfo();
        this = v17;
      }
      if ( v4 == v6 )
        break;
      if ( v5 )
      {
        v7 = (_DWORD *)*v5;
      }
      else
      {
        _invalid_parameter_noinfo();
        v7 = 0;
      }
      if ( v4 == v7[6] )
        _invalid_parameter_noinfo();
      v8 = *(_DWORD *)(v4 + 16);
      if ( v5 )
        v5 = (_DWORD *)*v5;
      else
        _invalid_parameter_noinfo();
      if ( v4 == v5[6] )
        _invalid_parameter_noinfo();
      if ( a4 == *(_DWORD *)(v4 + 12) )
      {
        v9 = a2;
        do
        {
          v10 = *v9;
          v9[v8 - (_DWORD)a2 + 16] = *v9;
          ++v9;
        }
        while ( v10 );
        *(_DWORD *)(v8 + 620) = 1;
      }
      sub_409780(&v18);
      v4 = v19;
      v5 = v18;
      this = v17;
    }
  }
  if ( *(_DWORD *)(this + 140) )
  {
    v11 = **(_DWORD **)(this + 136);
    v12 = *(_DWORD **)(this + 112);
    v19 = v11;
    v18 = v12;
    while ( 1 )
    {
      v13 = *(_DWORD *)(this + 136);
      if ( !v12 || v12 != *(_DWORD **)(this + 112) )
        _invalid_parameter_noinfo();
      if ( v11 == v13 )
        break;
      if ( v12 )
        v12 = (_DWORD *)*v12;
      else
        _invalid_parameter_noinfo();
      if ( v11 == v12[6] )
        _invalid_parameter_noinfo();
      v14 = *(_DWORD *)(v11 + 16);
      if ( *(_DWORD *)(v14 + 12) == a4 )
      {
        sub_442430(*(_DWORD **)(v14 + 284), Str);
        v15 = Str;
        do
        {
          v16 = *v15;
          v15[v14 - (_DWORD)Str + 24] = *v15;
          ++v15;
        }
        while ( v16 );
      }
      sub_409780(&v18);
      v11 = v19;
      v12 = v18;
      this = v17;
    }
  }
}

//----- (00414D30) --------------------------------------------------------
_DWORD *__thiscall sub_414D30(_DWORD *this, int a2)
{
  sub_403B10((int)this, a2);
  *this = &std::length_error::`vftable';
  return this;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (00414D50) --------------------------------------------------------
int __thiscall sub_414D50(int this, int a2)
{
  int v2; // ebx
  int v3; // esi
  int v4; // edi
  int v5; // ecx
  BOOL v6; // eax
  int v7; // ecx
  int v8; // ecx
  char *v9; // eax
  int result; // eax
  int v11; // eax
  char *v12; // eax
  char v13; // cl
  char *v14; // eax
  char v15; // cl
  int v16; // edi
  _DWORD *v17; // esi
  int v18; // ebp
  _DWORD *v19; // eax
  int v20; // esi
  bool v21; // zf
  int v22; // eax
  int v23; // ecx
  double v24; // st7
  int v25; // eax
  double v26; // st7
  int v27; // ebx
  int v28; // ebp
  int v29; // ecx
  int v30; // edx
  _DWORD *v31; // edi
  int v32; // eax
  int v33; // edx
  unsigned __int8 *v34; // eax
  int v35; // eax
  unsigned __int8 *v36; // eax
  char v37; // al
  char v38; // al
  int v39; // eax
  int v40; // ebp
  _DWORD *v41; // edi
  int v42; // ebx
  _DWORD *v43; // eax
  int v44; // edi
  float **v45; // edi
  float *v46; // eax
  int v47; // eax
  double v48; // st7
  int v49; // eax
  int v50; // ebp
  int v51; // eax
  _DWORD *v52; // ebp
  int v53; // eax
  unsigned __int8 *v54; // eax
  char v55; // al
  int v56; // ebx
  int v57; // eax
  int v58; // eax
  unsigned __int8 *v59; // eax
  char v60; // al
  int v61; // eax
  int v62; // edx
  int v63; // eax
  int v64; // ebx
  double v65; // st7
  int v66; // eax
  float *v67; // ecx
  int v68; // ecx
  int v69; // edx
  int v70; // edx
  int v71; // ebp
  int v72; // eax
  int v73; // eax
  int v74; // edx
  int v75; // eax
  int v76; // ebx
  double v77; // st7
  int v78; // eax
  float *v79; // ecx
  float *v80; // eax
  int v81; // eax
  int v82; // eax
  int v83; // edx
  int v84; // ebx
  float *v85; // ecx
  int v86; // eax
  int v87; // ebp
  _DWORD *v88; // edi
  int v89; // ebx
  _DWORD *v90; // eax
  _DWORD *v91; // eax
  char *v92; // eax
  char v93; // cl
  char *v94; // eax
  char v95; // cl
  int v96; // eax
  char *v97; // eax
  char v98; // cl
  int v99; // eax
  char *v100; // eax
  char v101; // cl
  int v102; // ebp
  _DWORD *v103; // esi
  int v104; // edi
  int v106; // edi
  _DWORD *v107; // esi
  int v108; // ebp
  _DWORD *v109; // eax
  int v110; // ebp
  int v111; // edi
  char v112; // al
  int v113; // eax
  int v114; // edi
  _DWORD *v115; // esi
  int v116; // ebp
  _DWORD *v117; // eax
  int v118; // ebp
  int v119; // edi
  char v120; // al
  int v121; // eax
  float v122; // [esp+0h] [ebp-B0h]
  int v123; // [esp+4h] [ebp-ACh]
  int v124; // [esp+4h] [ebp-ACh]
  float v125; // [esp+8h] [ebp-A8h]
  int v126; // [esp+Ch] [ebp-A4h]
  int v127; // [esp+Ch] [ebp-A4h]
  int v128; // [esp+20h] [ebp-90h]
  int v129; // [esp+20h] [ebp-90h]
  int v130; // [esp+20h] [ebp-90h]
  int v131; // [esp+20h] [ebp-90h]
  int v132; // [esp+20h] [ebp-90h]
  _DWORD *v134; // [esp+28h] [ebp-88h] BYREF
  int v135; // [esp+2Ch] [ebp-84h]
  int v136; // [esp+30h] [ebp-80h]
  int v137; // [esp+34h] [ebp-7Ch]
  int v138; // [esp+38h] [ebp-78h]
  int v139; // [esp+3Ch] [ebp-74h]
  int v140; // [esp+40h] [ebp-70h]
  int v141; // [esp+44h] [ebp-6Ch]
  int v142; // [esp+48h] [ebp-68h]
  int v143; // [esp+4Ch] [ebp-64h]
  _DWORD *i; // [esp+50h] [ebp-60h] BYREF
  int v145; // [esp+54h] [ebp-5Ch]
  int v146; // [esp+58h] [ebp-58h]
  int v147; // [esp+5Ch] [ebp-54h]
  int v148; // [esp+60h] [ebp-50h]
  int v149; // [esp+64h] [ebp-4Ch]
  int v150; // [esp+68h] [ebp-48h] BYREF
  int v151; // [esp+6Ch] [ebp-44h]
  int v152; // [esp+70h] [ebp-40h]
  int v153; // [esp+74h] [ebp-3Ch]
  int v154; // [esp+78h] [ebp-38h]
  int v155; // [esp+7Ch] [ebp-34h]
  int v156; // [esp+80h] [ebp-30h]
  _DWORD *v157; // [esp+84h] [ebp-2Ch] BYREF
  int v158; // [esp+88h] [ebp-28h]
  _DWORD *v159; // [esp+8Ch] [ebp-24h] BYREF
  int v160; // [esp+90h] [ebp-20h]
  int v161; // [esp+94h] [ebp-1Ch] BYREF
  int v162; // [esp+98h] [ebp-18h]
  float v163; // [esp+9Ch] [ebp-14h] BYREF
  int v164; // [esp+A0h] [ebp-10h]
  struct tagPOINT Point; // [esp+A4h] [ebp-Ch] BYREF
  float v166; // [esp+ACh] [ebp-4h] BYREF

  v2 = this;
  v155 = 0;
  v139 = 0;
  v154 = 0;
  GetCursorPos(&Point);
  ScreenToClient(hWnd, &Point);
  sub_442B50(dword_4C087C, Point.x, Point.y, -1);
  sub_4430B0(dword_4C087C, &v161);
  v3 = v161;
  v4 = v162;
  v5 = *(_DWORD *)(v2 + 984);
  v142 = v161;
  v143 = v162;
  v156 = 0;
  v146 = -1;
  v147 = -1;
  v148 = -1;
  v149 = -1;
  v6 = sub_448F00(v5);
  *(_DWORD *)(v2 + 1008) = v6;
  if ( v6 )
    return -1;
  if ( !*(_DWORD *)(v2 + 1084) )
    goto LABEL_15;
  if ( sub_442AC0(dword_4C087C, 1) )
  {
    v7 = v162;
    *(_DWORD *)(v2 + 1012) = v161;
    *(_DWORD *)(v2 + 1016) = v7;
    *(_DWORD *)(v2 + 916) = -1;
  }
  else if ( sub_442B00(dword_4C087C, 1) )
  {
    if ( !*(_DWORD *)(v2 + 1012) )
      goto LABEL_15;
    *(_DWORD *)(v2 + 1016) = 0;
    *(_DWORD *)(v2 + 1012) = 0;
  }
  if ( *(_DWORD *)(v2 + 1012) )
  {
    sub_4430B0(dword_4C087C, &i);
    if ( sub_442AE0(dword_4C087C, 1) || sub_442B20(dword_4C087C, 1) )
    {
      v8 = *(_DWORD *)(v2 + 1012);
      v9 = (char *)i - v8;
      if ( (int)i - v8 > 100 )
      {
        *(_DWORD *)(v2 + 1012) = 0;
        *(_DWORD *)(v2 + 208) = v9;
        return 100;
      }
      if ( v8 - (int)i > 100 )
      {
        *(_DWORD *)(v2 + 1012) = 0;
        *(_DWORD *)(v2 + 208) = v9;
        return -100;
      }
    }
  }
LABEL_15:
  if ( !*(_DWORD *)(v2 + 952)
    && (v3 != *(_DWORD *)(v2 + 908) || v4 != *(_DWORD *)(v2 + 912) || sub_442B00(dword_4C087C, 1)) )
  {
    *(_DWORD *)(v2 + 908) = v3;
    *(_DWORD *)(v2 + 912) = v4;
    *(_DWORD *)(v2 + 916) = -1;
  }
  if ( *(_DWORD *)(v2 + 892) )
  {
    v128 = *(int *)(v2 + 944);
    if ( sub_40E1B0(Buf) )
      *(float *)&v128 = *(float *)&v128 + *(float *)&v128;
    *(float *)(v2 + 928) = *(float *)(v2 + 928) + *(float *)&v128;
    *(float *)&v140 = fabs(*(float *)&v128);
    if ( *(float *)(v2 + 928) >= *(float *)(v2 + 936) - *(float *)&v140
      && *(float *)(v2 + 928) <= *(float *)&v140 + *(float *)(v2 + 936) )
    {
      *(float *)(v2 + 928) = *(float *)(v2 + 936);
    }
    v129 = *(int *)(v2 + 948);
    if ( sub_40E1B0(Buf) )
      *(float *)&v129 = *(float *)&v129 + *(float *)&v129;
    *(float *)(v2 + 932) = *(float *)(v2 + 932) + *(float *)&v129;
    *(float *)&v140 = fabs(*(float *)&v129);
    if ( *(float *)(v2 + 932) >= *(float *)(v2 + 940) - *(float *)&v140
      && *(float *)(v2 + 932) <= *(float *)&v140 + *(float *)(v2 + 940) )
    {
      *(float *)(v2 + 932) = *(float *)(v2 + 940);
    }
    if ( *(float *)(v2 + 936) == *(float *)(v2 + 928) && *(float *)(v2 + 940) == *(float *)(v2 + 932) )
      *(_DWORD *)(v2 + 892) = 0;
    if ( !*(_DWORD *)(v2 + 892) )
    {
      v11 = *(_DWORD *)(v2 + 896);
      if ( v11 == 1 )
      {
        v12 = (char *)(v2 + 1020);
        do
        {
          v13 = *v12;
          *(v12 - 1020) = *v12;
          ++v12;
        }
        while ( v13 );
        return 101;
      }
      if ( v11 == 2 )
      {
        v14 = (char *)(v2 + 1052);
        do
        {
          v15 = *v14;
          *(v14 - 1052) = *v14;
          ++v14;
        }
        while ( v15 );
        return 101;
      }
    }
  }
  *(_DWORD *)(v2 + 44) = 0;
  if ( !*(_DWORD *)(v2 + 76) )
    goto LABEL_302;
  result = sub_413B40(v2);
  if ( result != 255 )
    return result;
  v16 = **(_DWORD **)(v2 + 72);
  v17 = *(_DWORD **)(v2 + 48);
  v145 = v16;
  i = v17;
  v130 = 0;
  *(_DWORD *)(v2 + 920) = -1;
  while ( 1 )
  {
    v18 = *(_DWORD *)(v2 + 72);
    if ( !v17 || v17 != *(_DWORD **)(v2 + 48) )
      _invalid_parameter_noinfo();
    if ( v16 == v18 )
    {
      if ( v156 && v142 > 0 && v143 > 0 && (v146 >= v142 || v142 >= v148 || v147 >= v143 || v143 >= v149) )
      {
        *(_BYTE *)v2 = 0;
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, 99);
        *(_DWORD *)(v2 + 924) = 0;
        return 99;
      }
LABEL_302:
      if ( *(_DWORD *)(v2 + 204) && !*(_DWORD *)(v2 + 972) )
      {
        v102 = **(_DWORD **)(v2 + 200);
        v103 = *(_DWORD **)(v2 + 176);
        v145 = v102;
        for ( i = v103; ; v103 = i )
        {
          v104 = *(_DWORD *)(v2 + 200);
          if ( !v103 || v103 != *(_DWORD **)(v2 + 176) )
            _invalid_parameter_noinfo();
          if ( v102 == v104 )
            break;
          if ( v103 )
            v103 = (_DWORD *)*v103;
          else
            _invalid_parameter_noinfo();
          if ( v102 == v103[6] )
            _invalid_parameter_noinfo();
          sub_441B30(*(_DWORD *)(*(_DWORD *)(v102 + 16) + 284));
          sub_409780(&i);
          v102 = v145;
        }
      }
      if ( !*(_DWORD *)(v2 + 952) )
      {
        if ( sub_443000(dword_4C087C, 3) || sub_443000(dword_4C087C, 5) && !v139 )
        {
          if ( --*(_DWORD *)(v2 + 916) < 0 )
            *(_DWORD *)(v2 + 916) = *(_DWORD *)(v2 + 76) - 1;
          v131 = *(_DWORD *)(v2 + 916);
          if ( *(_DWORD *)(v2 + 76) )
          {
            v106 = **(_DWORD **)(v2 + 72);
            v107 = *(_DWORD **)(v2 + 48);
            v135 = v106;
            v134 = v107;
            v136 = 0;
            while ( 1 )
            {
              v108 = *(_DWORD *)(v2 + 72);
              if ( !v107 || v107 != *(_DWORD **)(v2 + 48) )
                _invalid_parameter_noinfo();
              if ( v106 == v108 )
                break;
              if ( v136 )
              {
                v106 = **(_DWORD **)(v2 + 72);
                v107 = *(_DWORD **)(v2 + 48);
                v134 = v107;
                v135 = v106;
                v136 = 0;
              }
              if ( v107 )
              {
                v109 = (_DWORD *)*v107;
              }
              else
              {
                _invalid_parameter_noinfo();
                v109 = 0;
              }
              if ( v106 == v109[6] )
                _invalid_parameter_noinfo();
              v110 = *(_DWORD *)(v106 + 12);
              if ( v107 )
                v107 = (_DWORD *)*v107;
              else
                _invalid_parameter_noinfo();
              if ( v106 == v107[6] )
                _invalid_parameter_noinfo();
              v111 = *(_DWORD *)(v106 + 16);
              if ( v110 == v131 )
              {
                v112 = *(_BYTE *)(v111 + 16);
                if ( v112 && v112 != 45 )
                  break;
                if ( --v131 < 0 )
                  v131 = *(_DWORD *)(v2 + 76) - 1;
                v136 = 1;
              }
              sub_409780(&v134);
              v106 = v135;
              v107 = v134;
            }
          }
          *(_DWORD *)(v2 + 916) = v131;
          if ( v131 < 0 )
            *(_DWORD *)(v2 + 916) = *(_DWORD *)(v2 + 76) - 1;
        }
        if ( sub_443000(dword_4C087C, 4) || sub_443000(dword_4C087C, 6) && !v139 )
        {
          ++*(_DWORD *)(v2 + 916);
          v113 = *(_DWORD *)(v2 + 76);
          if ( *(_DWORD *)(v2 + 916) >= v113 )
            *(_DWORD *)(v2 + 916) = 0;
          v132 = *(_DWORD *)(v2 + 916);
          if ( v113 )
          {
            v114 = **(_DWORD **)(v2 + 72);
            v115 = *(_DWORD **)(v2 + 48);
            v135 = v114;
            v134 = v115;
            v136 = 0;
            while ( 1 )
            {
              v116 = *(_DWORD *)(v2 + 72);
              if ( !v115 || v115 != *(_DWORD **)(v2 + 48) )
                _invalid_parameter_noinfo();
              if ( v114 == v116 )
                break;
              if ( v136 )
              {
                v114 = **(_DWORD **)(v2 + 72);
                v115 = *(_DWORD **)(v2 + 48);
                v134 = v115;
                v135 = v114;
                v136 = 0;
              }
              if ( v115 )
              {
                v117 = (_DWORD *)*v115;
              }
              else
              {
                _invalid_parameter_noinfo();
                v117 = 0;
              }
              if ( v114 == v117[6] )
                _invalid_parameter_noinfo();
              v118 = *(_DWORD *)(v114 + 12);
              if ( v115 )
                v115 = (_DWORD *)*v115;
              else
                _invalid_parameter_noinfo();
              if ( v114 == v115[6] )
                _invalid_parameter_noinfo();
              v119 = *(_DWORD *)(v114 + 16);
              if ( v118 == v132 )
              {
                v120 = *(_BYTE *)(v119 + 16);
                if ( v120 && v120 != 45 )
                  break;
                if ( ++v132 >= *(_DWORD *)(v2 + 76) )
                {
                  v121 = **(_DWORD **)(v2 + 72);
                  v132 = 0;
                  v134 = *(_DWORD **)(v2 + 48);
                  v135 = v121;
                  v136 = 1;
                }
              }
              sub_409780(&v134);
              v114 = v135;
              v115 = v134;
            }
          }
          *(_DWORD *)(v2 + 916) = v132;
        }
      }
      return -1;
    }
    if ( v17 )
    {
      v19 = (_DWORD *)*v17;
    }
    else
    {
      _invalid_parameter_noinfo();
      v19 = 0;
    }
    if ( v16 == v19[6] )
      _invalid_parameter_noinfo();
    v136 = *(_DWORD *)(v16 + 12);
    if ( v17 )
      v17 = (_DWORD *)*v17;
    else
      _invalid_parameter_noinfo();
    if ( v16 == v17[6] )
      _invalid_parameter_noinfo();
    v20 = *(_DWORD *)(v16 + 16);
    v21 = *(_BYTE *)(v20 + 16) == 0;
    v141 = a2;
    if ( v21 )
      v141 = 1;
    v22 = *(_DWORD *)(v20 + 576);
    v150 = *(_DWORD *)v20;
    v151 = *(_DWORD *)(v20 + 4);
    v23 = *(_DWORD *)(v20 + 8);
    v164 = v22;
    v24 = *(float *)(this + 928);
    v152 = v23;
    v153 = *(_DWORD *)(v20 + 12);
    v25 = (int)v24;
    v26 = *(float *)(this + 932);
    v27 = v25 + v150;
    v150 += v25;
    v152 = v25 + v23;
    v153 += (int)v26;
    v28 = (int)v26 + v151;
    v151 = v28;
    if ( v146 == -1 || v146 > v27 )
      v146 = v27;
    if ( v147 == -1 || v147 > v28 )
      v147 = v28;
    if ( v148 == -1 || v148 < v152 )
      v148 = v152;
    if ( v149 == -1 || v149 < v153 )
      v149 = v153;
    v21 = *(_DWORD *)(v20 + 660) == 0;
    *(float *)&v140 = 0.0;
    if ( !v21 )
      v156 = 1;
    v29 = v142;
    if ( v27 >= v142 || v142 >= v152 )
    {
      v30 = v143;
LABEL_83:
      v31 = (_DWORD *)this;
      goto LABEL_84;
    }
    v30 = v143;
    if ( v28 >= v143 || v143 >= v153 )
      goto LABEL_83;
    v31 = (_DWORD *)this;
    v32 = *(_DWORD *)(this + 916);
    if ( v32 == -1 )
      goto LABEL_85;
LABEL_84:
    v32 = v31[229];
    if ( v32 != v130 )
      break;
LABEL_85:
    v31[230] = v130;
    if ( v27 >= v29 || v29 >= v152 )
    {
      v33 = v143;
    }
    else
    {
      v33 = v143;
      if ( v28 < v143 )
      {
        v31 = (_DWORD *)this;
        if ( v143 < v153 )
          v140 = 1;
      }
    }
    if ( !*(_DWORD *)(v20 + 636) || v32 == v130 || sub_413190((int)v31, v136, v29 - v27, v33 - v28) || v31[229] == v130 )
    {
      if ( *(_DWORD *)(v20 + 576) == 99 && !v141 && !v155 )
      {
        if ( *(_DWORD *)(v20 + 52) && (!sub_43B9A0(dword_4C08F4) || sub_40CCD0(Buf, 99, 245) != v130) )
        {
          v34 = (unsigned __int8 *)sub_40CA20(Buf, *(_DWORD *)(v20 + 52));
          sub_43D070((DWORD *)dword_4C08F4, v34, 1, 0);
        }
        if ( *(_BYTE *)(v20 + 56) )
        {
          sub_43CE50(dword_4C08F4, (void *)2);
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v20 + 56), 2, 0);
        }
      }
      if ( sub_442FD0(dword_4C087C, 1) && *(_DWORD *)(v20 + 624) )
        *(_DWORD *)(v20 + 632) = 1;
      if ( *(_DWORD *)(v20 + 656)
        || sub_442AB0(dword_4C087C, 1) >= 1
        || (sub_442FD0(dword_4C087C, 7) || sub_442B00(dword_4C087C, 7)) && !*(_DWORD *)(v20 + 624) )
      {
        v21 = *(_DWORD *)(v20 + 656) == 0;
        *(_DWORD *)(v20 + 576) = 2;
        if ( !v21 || sub_442F80(dword_4C087C) )
        {
          if ( !v141 && !v31[238] )
          {
            v35 = *(_DWORD *)(v20 + 48);
            if ( v35 )
            {
              v36 = (unsigned __int8 *)sub_40CA20(Buf, v35);
              sub_43D070((DWORD *)dword_4C08F4, v36, 1, 0);
            }
            if ( *(_BYTE *)(v20 + 316) )
            {
              sub_43CE50(dword_4C08F4, (void *)2);
              sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v20 + 316), 2, 0);
            }
          }
          v37 = *(_BYTE *)(v20 + 16);
          if ( v37 )
          {
            if ( v37 != 45 && !v31[238] )
            {
              if ( *(_DWORD *)(v20 + 620) )
                v31[11] = 1;
              v92 = (char *)(v20 + 16);
              do
              {
                v93 = *v92;
                v92[(_DWORD)((char *)v31 - v20 - 16)] = *v92;
                ++v92;
              }
              while ( v93 );
              sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v130);
              v31[231] = 0;
              if ( sub_442AB0(dword_4C087C, 1) >= 1 )
                v31[231] = 1;
              if ( 0.0 != *(float *)(v20 + 580) )
                v31[244] = 1;
              return v130;
            }
          }
        }
      }
      else
      {
        *(_DWORD *)(v20 + 576) = 1;
      }
      if ( !*(_DWORD *)(v20 + 664) && v154 )
        *(_DWORD *)(v20 + 576) = 99;
      v154 = 1;
    }
    else
    {
      *(_DWORD *)(v20 + 576) = 99;
    }
    v21 = *(_DWORD *)(v20 + 648) == 0;
    v155 = 1;
    if ( !v21 && *(_DWORD *)(v20 + 576) == 1 )
      *(_DWORD *)(v20 + 648) = 0;
LABEL_139:
    if ( v31[27] )
    {
      v39 = this;
      v40 = **(_DWORD **)(this + 104);
      v41 = *(_DWORD **)(this + 80);
      v160 = v40;
      v159 = v41;
      while ( 1 )
      {
        v42 = *(_DWORD *)(v39 + 104);
        v43 = *(_DWORD **)(v39 + 80);
        if ( !v41 || v41 != v43 )
          _invalid_parameter_noinfo();
        if ( v40 == v42 )
          break;
        if ( v41 )
        {
          v44 = *v41;
        }
        else
        {
          _invalid_parameter_noinfo();
          v44 = 0;
        }
        if ( v40 == *(_DWORD *)(v44 + 24) )
          _invalid_parameter_noinfo();
        v45 = *(float ***)(v40 + 16);
        if ( v45[10] != (float *)v136 )
          goto LABEL_250;
        if ( *(_DWORD *)(v20 + 664) )
          v45[14] = (float *)1;
        v45[15] = 0;
        if ( *(_DWORD *)(v20 + 632) )
          v45[15] = (float *)1;
        v46 = v45[11];
        v45[13] = (float *)(*(float **)(v20 + 576) == v46);
        if ( *(_DWORD *)(v20 + 640) )
        {
          if ( v46 == (float *)2 )
            v45[13] = (float *)(*((_DWORD *)Buf + *(_DWORD *)(v20 + 644) + 4410) != 0);
          if ( v46 == (float *)1 && *(_DWORD *)(v20 + 576) != 99 )
            v45[13] = (float *)1;
        }
        if ( *(_DWORD *)(this + 968) )
        {
          if ( v164 == 99 )
          {
            v47 = *(_DWORD *)(v20 + 576);
            if ( v47 != 1 && v47 != 2 )
              goto LABEL_172;
            sub_445C70(*v45);
            sub_4443C0(*v45, 100.0, 100.0);
            v48 = 120.0;
          }
          else
          {
            if ( *(_DWORD *)(v20 + 576) != 99 )
              goto LABEL_172;
            sub_445C70(*v45);
            sub_4443C0(*v45, 120.0, 120.0);
            v48 = 100.0;
          }
          v122 = v48;
          sub_4478E0((int)*v45, v122, 15, 0, -1);
        }
LABEL_172:
        v49 = (int)v45[11];
        if ( v49 >= 100 )
        {
          v45[13] = (float *)1;
          if ( v49 == 100 )
          {
            v45[13] = (float *)1;
            if ( *(_DWORD *)(v20 + 576) != 99 )
              v45[13] = 0;
          }
        }
        if ( v49 == 101 && *(_DWORD *)(v20 + 576) == 99 )
          v45[13] = 0;
        if ( v49 == 102 && *(_DWORD *)(v20 + 576) == 99 )
          v45[13] = 0;
        if ( v49 == 104 && *(_DWORD *)(v20 + 576) == 99 )
          v45[13] = 0;
        if ( v49 == 3 )
          v45[13] = (float *)(*(_DWORD *)(v20 + 576) == 2);
        if ( *(_DWORD *)(v20 + 576) != 99 && v49 >= 105 )
        {
          if ( sub_442B00(dword_4C087C, 5) || sub_442AE0(dword_4C087C, 5) )
          {
            sub_442E40(dword_4C087C, 5);
            if ( sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000) )
            {
              v50 = *(_DWORD *)(v20 + 584) % 1000;
              v139 = *(_DWORD *)(v20 + 584) / 1000;
              v51 = sub_40CCD0(Buf, v139, v50);
              sub_40D2C0((int *)Buf, (unsigned __int8 *)v139, v50, v51 - 1);
            }
            v52 = (_DWORD *)this;
            if ( !v141 && !*(_DWORD *)(this + 952) )
            {
              v53 = *(_DWORD *)(v20 + 48);
              if ( v53 )
              {
                v54 = (unsigned __int8 *)sub_40CA20(Buf, v53);
                sub_43D070((DWORD *)dword_4C08F4, v54, 1, 0);
              }
              if ( *(_BYTE *)(v20 + 316) )
              {
                sub_43CE50(dword_4C08F4, (void *)2);
                sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v20 + 316), 2, 0);
              }
            }
            v55 = *(_BYTE *)(v20 + 16);
            if ( v55 && v55 != 45 && !*(_DWORD *)(this + 952) && !sub_442AE0(dword_4C087C, 5) )
            {
              if ( *(_DWORD *)(v20 + 652) )
              {
                v96 = sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
                sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xBBu, v96);
              }
              v97 = (char *)(v20 + 16);
              do
              {
                v98 = *v97;
                v97[this - (v20 + 16)] = *v97;
                ++v97;
              }
              while ( v98 );
              goto LABEL_286;
            }
            v139 = 1;
          }
          else
          {
            v52 = (_DWORD *)this;
          }
          if ( sub_442B00(dword_4C087C, 6) || sub_442AE0(dword_4C087C, 6) )
          {
            sub_442E40(dword_4C087C, 6);
            if ( sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000) != *(_DWORD *)(v20 + 600)
                                                                                                - 1 )
            {
              v56 = *(_DWORD *)(v20 + 584) % 1000;
              v139 = *(_DWORD *)(v20 + 584) / 1000;
              v57 = sub_40CCD0(Buf, v139, v56);
              sub_40D2C0((int *)Buf, (unsigned __int8 *)v139, v56, v57 + 1);
              v52 = (_DWORD *)this;
            }
            if ( !v141 && !v52[238] )
            {
              v58 = *(_DWORD *)(v20 + 48);
              if ( v58 )
              {
                v59 = (unsigned __int8 *)sub_40CA20(Buf, v58);
                sub_43D070((DWORD *)dword_4C08F4, v59, 1, 0);
              }
              if ( *(_BYTE *)(v20 + 316) )
              {
                sub_43CE50(dword_4C08F4, (void *)2);
                sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v20 + 316), 2, 0);
              }
            }
            v60 = *(_BYTE *)(v20 + 16);
            if ( v60 && v60 != 45 && !v52[238] && !sub_442AE0(dword_4C087C, 6) )
            {
              if ( *(_DWORD *)(v20 + 652) )
              {
                v99 = sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
                sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xBBu, v99);
              }
              v100 = (char *)(v20 + 16);
              do
              {
                v101 = *v100;
                v100[(_DWORD)((char *)v52 - v20 - 16)] = *v100;
                ++v100;
              }
              while ( v101 );
LABEL_286:
              v52[231] = 0;
              sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v130);
              if ( 0.0 != *(float *)(v20 + 580) )
                v52[244] = 1;
              return v130;
            }
            v139 = 1;
          }
          v61 = *(_DWORD *)(v20 + 584) / 1000;
          v62 = *(_DWORD *)(v20 + 584) % 1000;
          v137 = *(_DWORD *)(v20 + 600) - 1;
          v63 = sub_40CCD0(Buf, v61, v62);
          v64 = (int)v45[3];
          v138 = v64;
          if ( v63 < v137 )
          {
            v137 = sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
            v65 = (double)v137 * *(float *)(v20 + 580);
          }
          else
          {
            v65 = *(float *)(v20 + 580) * (double)v137;
          }
          v66 = (int)(v65 + (double)v138);
          v126 = (int)v45[6];
          v123 = (int)v45[4];
          v67 = *v45;
          v45[5] = (float *)v66;
          sub_444340(v67, v64, v123, v66, v126);
        }
        if ( *(_DWORD *)(v20 + 576) == 2
          && (int)v45[11] >= 105
          && !sub_442B00(dword_4C087C, 7)
          && !sub_442FD0(dword_4C087C, 7) )
        {
          v68 = *(_DWORD *)(v20 + 588);
          v69 = v68 + *(_DWORD *)(v20 + 612);
          v134 = *(_DWORD **)(v20 + 612);
          v138 = v68;
          if ( v69 < v142 )
          {
            if ( *(_DWORD *)(v20 + 592) > v142 )
            {
              v137 = *(_DWORD *)(v20 + 600) - 1;
              if ( (double)v137 * *(float *)(v20 + 580) + (double)v138 + (double)(int)v134 > (double)v142 )
              {
                v70 = *(_DWORD *)(v20 + 584) % 1000;
                v71 = *(_DWORD *)(v20 + 584) / 1000;
                v134 = (_DWORD *)(v142 - v68);
                sub_40D2C0((int *)Buf, (unsigned __int8 *)v71, v70, (int)((double)(v142 - v68) / *(float *)(v20 + 580)));
              }
            }
            else
            {
              sub_40D2C0(
                (int *)Buf,
                (unsigned __int8 *)(*(_DWORD *)(v20 + 584) / 1000),
                *(_DWORD *)(v20 + 584) % 1000,
                *(_DWORD *)(v20 + 600) - 1);
            }
          }
          else
          {
            sub_40D2C0((int *)Buf, (unsigned __int8 *)(*(_DWORD *)(v20 + 584) / 1000), *(_DWORD *)(v20 + 584) % 1000, 0);
          }
          if ( *(_DWORD *)(v20 + 652) )
          {
            v72 = sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
            sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xBBu, v72);
          }
          v73 = *(_DWORD *)(v20 + 584) / 1000;
          v74 = *(_DWORD *)(v20 + 584) % 1000;
          v137 = *(_DWORD *)(v20 + 600) - 1;
          v75 = sub_40CCD0(Buf, v73, v74);
          v76 = (int)v45[3];
          v138 = v76;
          if ( v75 < v137 )
          {
            v134 = (_DWORD *)sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
            v77 = (double)(int)v134 * *(float *)(v20 + 580);
          }
          else
          {
            v77 = *(float *)(v20 + 580) * (double)v137;
          }
          v78 = (int)(v77 + (double)v138);
          v127 = (int)v45[6];
          v124 = (int)v45[4];
          v79 = *v45;
          v45[5] = (float *)v78;
          sub_444340(v79, v76, v124, v78, v127);
          if ( *(float *)&v140 != 0.0 )
            *(_DWORD *)(v20 + 648) = 1;
        }
        v80 = v45[11];
        if ( v80 == (float *)100 || v80 == (float *)101 )
        {
          if ( *(_DWORD *)(v20 + 652) && sub_43B920(dword_4C08F4, 0) )
          {
            v81 = sub_43B9B0(dword_4C08F4, 0);
            sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xBDu, v81);
          }
          v82 = *(_DWORD *)(v20 + 584) / 1000;
          v83 = *(_DWORD *)(v20 + 584) % 1000;
          v137 = *(_DWORD *)(v20 + 600) - 1;
          if ( sub_40CCD0(Buf, v82, v83) < v137 )
          {
            v134 = (_DWORD *)sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
            v84 = (int)((double)(int)v134 * *(float *)(v20 + 580) + (double)*(int *)(v20 + 588));
            sub_40CCD0(Buf, *(_DWORD *)(v20 + 584) / 1000, *(_DWORD *)(v20 + 584) % 1000);
          }
          else
          {
            v84 = (int)(*(float *)(v20 + 580) * (double)v137 + (double)*(int *)(v20 + 588));
          }
          sub_4442C0(*v45, &v166, &v163);
          sub_444360(*v45, &v150);
          v85 = *v45;
          v134 = (_DWORD *)(v84 - (v152 - v150) / 2);
          v125 = (float)(int)v134;
          sub_444260(v85, v125, v163);
        }
LABEL_250:
        sub_409780(&v159);
        v40 = v160;
        v41 = v159;
        v39 = this;
      }
    }
    v86 = this;
    if ( *(_DWORD *)(this + 140) )
    {
      v87 = **(_DWORD **)(this + 136);
      v88 = *(_DWORD **)(this + 112);
      v158 = v87;
      v157 = v88;
      while ( 1 )
      {
        v89 = *(_DWORD *)(v86 + 136);
        v90 = *(_DWORD **)(v86 + 112);
        if ( !v88 || v88 != v90 )
          _invalid_parameter_noinfo();
        if ( v87 == v89 )
          break;
        if ( v88 )
          v88 = (_DWORD *)*v88;
        else
          _invalid_parameter_noinfo();
        if ( v87 == v88[6] )
          _invalid_parameter_noinfo();
        v91 = *(_DWORD **)(v87 + 16);
        if ( v91[3] == v136 )
          v91[5] = *(_DWORD *)(v20 + 576) == v91[4];
        sub_409780(&v157);
        v87 = v158;
        v88 = v157;
        v86 = this;
      }
    }
    ++v130;
    sub_409780(&i);
    v16 = v145;
    v17 = i;
    v2 = this;
  }
  if ( v142 != -1 || v30 != -1 )
    *(_DWORD *)(v20 + 576) = 99;
  if ( !*(_DWORD *)(v20 + 648) )
    goto LABEL_139;
  v38 = *(_BYTE *)(v20 + 16);
  *(_DWORD *)(v20 + 648) = 0;
  if ( !v38 || v38 == 45 || v31[238] )
    goto LABEL_139;
  if ( *(_DWORD *)(v20 + 620) )
    v31[11] = 1;
  v94 = (char *)(v20 + 16);
  do
  {
    v95 = *v94;
    v94[(_DWORD)((char *)v31 - v20 - 16)] = *v94;
    ++v94;
  }
  while ( v95 );
  sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v130);
  if ( 0.0 != *(float *)(v20 + 580) )
    v31[244] = 1;
  return v130;
}
// 414D50:  float var_4

//----- (00416320) --------------------------------------------------------
void __thiscall sub_416320(int this)
{
  int v1; // ebp
  bool v2; // zf
  int *v3; // edx
  float v4; // eax
  int v5; // esi
  float v6; // esi
  int v7; // ebx
  int v8; // edi
  float v9; // eax
  int v10; // eax
  int v11; // eax
  float *v12; // ecx
  int v13; // eax
  int v14; // eax
  float *v15; // ecx
  int v16; // eax
  _DWORD *v17; // esi
  int v18; // edi
  _DWORD *v19; // eax
  _DWORD *v20; // eax
  _DWORD *v21; // eax
  float *v22; // ecx
  _DWORD *v23; // eax
  _DWORD *v24; // eax
  float *v25; // ecx
  _DWORD *v26; // eax
  int v27; // ebx
  float v28; // esi
  int v29; // edi
  _DWORD *v30; // eax
  int v31; // eax
  int v32; // eax
  int v33; // eax
  int v34; // eax
  int v35; // eax
  int v36; // eax
  int v37; // edx
  int *v38; // edi
  int v39; // eax
  int *v40; // ebp
  int v41; // eax
  int *v42; // edi
  int *v43; // eax
  int v44; // eax
  int v45; // edi
  float v46; // esi
  int v47; // ebx
  _DWORD *v48; // eax
  int v49; // eax
  int v50; // eax
  float *v51; // ecx
  int v52; // eax
  int v53; // eax
  float *v54; // ecx
  int v55; // eax
  int v56; // eax
  float *v57; // ecx
  double v58; // st7
  int v59; // eax
  int v60; // eax
  int v61; // eax
  float *v62; // ecx
  int v63; // eax
  int v64; // ebx
  float v65; // esi
  int v66; // edi
  _DWORD *v67; // eax
  int v68; // eax
  int v69; // eax
  int v70; // eax
  int v71; // eax
  int v72; // eax
  int v73; // ecx
  int *v74; // edi
  int v75; // eax
  int *v76; // ebp
  int v77; // eax
  int *v78; // edi
  int *v79; // eax
  int v80; // eax
  int v81; // eax
  float *v82; // ecx
  double v83; // st7
  int v84; // eax
  int v85; // eax
  int v86; // eax
  float *v87; // ecx
  int v88; // eax
  int v89; // ebx
  float v90; // esi
  int v91; // edi
  int v92; // ebx
  float v93; // esi
  int v94; // edi
  _DWORD *v95; // eax
  int v96; // ebx
  float v97; // esi
  int v98; // edi
  _DWORD *v99; // eax
  int v100; // eax
  int v101; // eax
  int v102; // eax
  int v103; // eax
  int v104; // ecx
  int *v105; // edi
  int v106; // eax
  int *v107; // ebp
  int v108; // eax
  int *v109; // edi
  int *v110; // eax
  int v111; // eax
  int v112; // eax
  float *v113; // ecx
  double v114; // st7
  int v115; // eax
  int v116; // eax
  int v117; // eax
  float *v118; // ecx
  int v119; // eax
  int v120; // ebx
  _DWORD *v121; // esi
  int v122; // edi
  _DWORD *v123; // eax
  int v124; // eax
  int v125; // eax
  int v126; // eax
  int v127; // eax
  int v128; // edx
  int *v129; // edi
  int v130; // eax
  int *v131; // ebp
  int v132; // eax
  int *v133; // edi
  int *v134; // eax
  int v135; // eax
  int v136; // eax
  int v137; // eax
  float *v138; // ecx
  int v139; // eax
  int v140; // eax
  int v141; // eax
  int v142; // eax
  float *v143; // ecx
  double v144; // st7
  int v145; // eax
  int v146; // eax
  _DWORD *v147; // eax
  _DWORD *v148; // eax
  float **v149; // edx
  int v150; // eax
  int v151; // eax
  float *v152; // ecx
  int v153; // eax
  float v154; // [esp+0h] [ebp-78h]
  float v155; // [esp+0h] [ebp-78h]
  float v156; // [esp+0h] [ebp-78h]
  float v157; // [esp+0h] [ebp-78h]
  float v158; // [esp+4h] [ebp-74h]
  float v159; // [esp+4h] [ebp-74h]
  float v160; // [esp+4h] [ebp-74h]
  float v161; // [esp+4h] [ebp-74h]
  float v162; // [esp+4h] [ebp-74h]
  float v163; // [esp+4h] [ebp-74h]
  float v164; // [esp+4h] [ebp-74h]
  float v165; // [esp+4h] [ebp-74h]
  float v166; // [esp+1Ch] [ebp-5Ch] BYREF
  float v167; // [esp+20h] [ebp-58h] BYREF
  int v168; // [esp+24h] [ebp-54h]
  float v169; // [esp+28h] [ebp-50h]
  float i; // [esp+2Ch] [ebp-4Ch] BYREF
  int v171; // [esp+30h] [ebp-48h]
  float v172; // [esp+34h] [ebp-44h]
  _DWORD *j; // [esp+38h] [ebp-40h] BYREF
  int v174; // [esp+3Ch] [ebp-3Ch]
  int v175; // [esp+40h] [ebp-38h] BYREF
  int v176; // [esp+44h] [ebp-34h]
  int v177[2]; // [esp+48h] [ebp-30h] BYREF
  int v178; // [esp+50h] [ebp-28h] BYREF
  int v179; // [esp+58h] [ebp-20h] BYREF
  int v180; // [esp+60h] [ebp-18h] BYREF
  int v181[4]; // [esp+68h] [ebp-10h] BYREF

  v1 = this;
  v2 = *(_DWORD *)(this + 1008) == 0;
  v168 = this;
  if ( v2 )
  {
    if ( *(_DWORD *)(this + 1084) )
    {
      if ( *(_DWORD *)(this + 1012) )
      {
        v172 = *(float *)(this + 928);
        sub_4430B0(dword_4C087C, &v175);
        if ( sub_442AE0(dword_4C087C, 1) || sub_442B20(dword_4C087C, 1) )
        {
          LODWORD(v169) = v175 - *(_DWORD *)(v1 + 1012);
          *(float *)(v1 + 928) = (double)SLODWORD(v169) + *(float *)(v1 + 928);
        }
      }
    }
    if ( *(_DWORD *)(v1 + 172) )
    {
      v3 = *(int **)(v1 + 168);
      if ( *(_DWORD *)(v1 + 980) )
      {
        v171 = *v3;
        v4 = *(float *)(v1 + 144);
        for ( i = v4; ; v4 = i )
        {
          v5 = *(_DWORD *)(v1 + 168);
          if ( v4 == 0.0 || LODWORD(v4) != *(_DWORD *)(v1 + 144) )
            _invalid_parameter_noinfo();
          if ( v171 == v5 )
            break;
          sub_409780(&i);
        }
        while ( 1 )
        {
          sub_435C50(&i);
          v6 = i;
          v7 = **(_DWORD **)(v1 + 168);
          if ( i == 0.0 || LODWORD(i) != *(_DWORD *)(v1 + 144) )
            _invalid_parameter_noinfo();
          v8 = v171;
          if ( v171 == v7 )
            break;
          if ( v6 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v9 = 0.0;
          }
          else
          {
            v9 = *(float *)LODWORD(v6);
          }
          if ( v8 == *(_DWORD *)(LODWORD(v9) + 24) )
            _invalid_parameter_noinfo();
          sub_448F00(**(_DWORD **)(v8 + 16));
          if ( v6 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v10 = 0;
          }
          else
          {
            v10 = *(_DWORD *)LODWORD(v6);
          }
          if ( v8 == *(_DWORD *)(v10 + 24) )
            _invalid_parameter_noinfo();
          sub_4442C0(**(float ***)(v8 + 16), &v167, &v166);
          if ( v6 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v11 = 0;
          }
          else
          {
            v11 = *(_DWORD *)LODWORD(v6);
          }
          if ( v8 == *(_DWORD *)(v11 + 24) )
            _invalid_parameter_noinfo();
          v12 = **(float ***)(v8 + 16);
          v169 = *(float *)(v1 + 932) + v166;
          v158 = v169;
          v169 = *(float *)(v1 + 928) + v167;
          sub_444260(v12, v169, v158);
          if ( v6 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v13 = 0;
          }
          else
          {
            v13 = *(_DWORD *)LODWORD(v6);
          }
          if ( v8 == *(_DWORD *)(v13 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(*(_DWORD *)(v8 + 16) + 28) )
          {
            if ( v6 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v14 = 0;
            }
            else
            {
              v14 = *(_DWORD *)LODWORD(v6);
            }
            if ( v8 == *(_DWORD *)(v14 + 24) )
              _invalid_parameter_noinfo();
            v15 = **(float ***)(v8 + 16);
            v169 = (double)*((int *)Buf + 6) / 100.0;
            sub_444470(v15, v169);
          }
          if ( v6 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v16 = 0;
          }
          else
          {
            v16 = *(_DWORD *)LODWORD(v6);
          }
          if ( v8 == *(_DWORD *)(v16 + 24) )
            _invalid_parameter_noinfo();
          sub_444D20(**(_DWORD **)(v8 + 16));
          if ( v6 == 0.0 )
            _invalid_parameter_noinfo();
          else
            v6 = *(float *)LODWORD(v6);
          if ( v8 == *(_DWORD *)(LODWORD(v6) + 24) )
            _invalid_parameter_noinfo();
          sub_444260(**(float ***)(v8 + 16), v167, v166);
        }
        v17 = *(_DWORD **)(v1 + 144);
        v18 = **(_DWORD **)(v1 + 168);
        if ( v17 )
        {
          v19 = (_DWORD *)*v17;
        }
        else
        {
          _invalid_parameter_noinfo();
          v19 = 0;
        }
        if ( v18 == v19[6] )
          _invalid_parameter_noinfo();
        sub_448F00(**(_DWORD **)(v18 + 16));
        if ( v17 )
        {
          v20 = (_DWORD *)*v17;
        }
        else
        {
          _invalid_parameter_noinfo();
          v20 = 0;
        }
        if ( v18 == v20[6] )
          _invalid_parameter_noinfo();
        sub_4442C0(**(float ***)(v18 + 16), &v167, &v166);
        if ( v17 )
        {
          v21 = (_DWORD *)*v17;
        }
        else
        {
          _invalid_parameter_noinfo();
          v21 = 0;
        }
        if ( v18 == v21[6] )
          _invalid_parameter_noinfo();
        v22 = **(float ***)(v18 + 16);
        v169 = *(float *)(v1 + 932) + v166;
        v159 = v169;
        v169 = *(float *)(v1 + 928) + v167;
        sub_444260(v22, v169, v159);
        if ( v17 )
        {
          v23 = (_DWORD *)*v17;
        }
        else
        {
          _invalid_parameter_noinfo();
          v23 = 0;
        }
        if ( v18 == v23[6] )
          _invalid_parameter_noinfo();
        if ( *(_DWORD *)(*(_DWORD *)(v18 + 16) + 28) )
        {
          if ( v17 )
          {
            v24 = (_DWORD *)*v17;
          }
          else
          {
            _invalid_parameter_noinfo();
            v24 = 0;
          }
          if ( v18 == v24[6] )
            _invalid_parameter_noinfo();
          v25 = **(float ***)(v18 + 16);
          v169 = (double)*((int *)Buf + 6) / 100.0;
          sub_444470(v25, v169);
        }
        if ( v17 )
        {
          v26 = (_DWORD *)*v17;
        }
        else
        {
          _invalid_parameter_noinfo();
          v26 = 0;
        }
        if ( v18 == v26[6] )
          _invalid_parameter_noinfo();
        sub_444D20(**(_DWORD **)(v18 + 16));
        if ( v17 )
          v17 = (_DWORD *)*v17;
        else
          _invalid_parameter_noinfo();
        if ( v18 == v17[6] )
          _invalid_parameter_noinfo();
        sub_444260(**(float ***)(v18 + 16), v167, v166);
      }
      else
      {
        v45 = *v3;
        v46 = *(float *)(v1 + 144);
        v171 = *v3;
        for ( i = v46; ; v46 = i )
        {
          v47 = *(_DWORD *)(v1 + 168);
          if ( v46 == 0.0 || LODWORD(v46) != *(_DWORD *)(v1 + 144) )
            _invalid_parameter_noinfo();
          if ( v45 == v47 )
            break;
          if ( v46 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v48 = 0;
          }
          else
          {
            v48 = *(_DWORD **)LODWORD(v46);
          }
          if ( v45 == v48[6] )
            _invalid_parameter_noinfo();
          sub_448F00(**(_DWORD **)(v45 + 16));
          if ( v46 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v49 = 0;
          }
          else
          {
            v49 = *(_DWORD *)LODWORD(v46);
          }
          if ( v45 == *(_DWORD *)(v49 + 24) )
            _invalid_parameter_noinfo();
          sub_4442C0(**(float ***)(v45 + 16), &v167, &v166);
          if ( v46 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v50 = 0;
          }
          else
          {
            v50 = *(_DWORD *)LODWORD(v46);
          }
          if ( v45 == *(_DWORD *)(v50 + 24) )
            _invalid_parameter_noinfo();
          v51 = **(float ***)(v45 + 16);
          v169 = *(float *)(v1 + 932) + v166;
          v160 = v169;
          v169 = *(float *)(v1 + 928) + v167;
          sub_444260(v51, v169, v160);
          if ( v46 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v52 = 0;
          }
          else
          {
            v52 = *(_DWORD *)LODWORD(v46);
          }
          if ( v45 == *(_DWORD *)(v52 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(*(_DWORD *)(v45 + 16) + 28) )
          {
            if ( v46 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v53 = 0;
            }
            else
            {
              v53 = *(_DWORD *)LODWORD(v46);
            }
            if ( v45 == *(_DWORD *)(v53 + 24) )
              _invalid_parameter_noinfo();
            v54 = **(float ***)(v45 + 16);
            v169 = (double)*((int *)Buf + 6) / 100.0;
            sub_444470(v54, v169);
          }
          if ( v46 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v55 = 0;
          }
          else
          {
            v55 = *(_DWORD *)LODWORD(v46);
          }
          if ( v45 == *(_DWORD *)(v55 + 24) )
            _invalid_parameter_noinfo();
          sub_444D20(**(_DWORD **)(v45 + 16));
          if ( v46 == 0.0 )
            _invalid_parameter_noinfo();
          else
            v46 = *(float *)LODWORD(v46);
          if ( v45 == *(_DWORD *)(LODWORD(v46) + 24) )
            _invalid_parameter_noinfo();
          sub_444260(**(float ***)(v45 + 16), v167, v166);
          sub_409780(&i);
          v45 = v171;
        }
      }
    }
    if ( *(_DWORD *)(v1 + 108) )
    {
      v27 = **(_DWORD **)(v1 + 104);
      v28 = *(float *)(v1 + 80);
      v171 = v27;
      for ( i = v28; ; v28 = i )
      {
        v29 = *(_DWORD *)(v1 + 104);
        if ( v28 == 0.0 || LODWORD(v28) != *(_DWORD *)(v1 + 80) )
          _invalid_parameter_noinfo();
        if ( v27 == v29 )
          break;
        if ( v28 == 0.0 )
        {
          _invalid_parameter_noinfo();
          v30 = 0;
        }
        else
        {
          v30 = *(_DWORD **)LODWORD(v28);
        }
        if ( v27 == v30[6] )
          _invalid_parameter_noinfo();
        if ( !*(_DWORD *)(*(_DWORD *)(v27 + 16) + 56) )
        {
          if ( v28 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v31 = 0;
          }
          else
          {
            v31 = *(_DWORD *)LODWORD(v28);
          }
          if ( v27 == *(_DWORD *)(v31 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(*(_DWORD *)(v27 + 16) + 44) == 99 )
          {
            if ( v28 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v32 = 0;
            }
            else
            {
              v32 = *(_DWORD *)LODWORD(v28);
            }
            if ( v27 == *(_DWORD *)(v32 + 24) )
              _invalid_parameter_noinfo();
            sub_448F00(**(_DWORD **)(v27 + 16));
            if ( v28 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v33 = 0;
            }
            else
            {
              v33 = *(_DWORD *)LODWORD(v28);
            }
            if ( v27 == *(_DWORD *)(v33 + 24) )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(*(_DWORD *)(v27 + 16) + 52) )
            {
              if ( v28 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v34 = 0;
              }
              else
              {
                v34 = *(_DWORD *)LODWORD(v28);
              }
              if ( v27 == *(_DWORD *)(v34 + 24) )
                _invalid_parameter_noinfo();
              sub_4442C0(**(float ***)(v27 + 16), &v167, &v166);
              if ( v28 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v35 = 0;
              }
              else
              {
                v35 = *(_DWORD *)LODWORD(v28);
              }
              if ( v27 == *(_DWORD *)(v35 + 24) )
                _invalid_parameter_noinfo();
              if ( !*(_DWORD *)(*(_DWORD *)(v27 + 16) + 60) )
              {
                if ( v28 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v36 = 0;
                }
                else
                {
                  v36 = *(_DWORD *)LODWORD(v28);
                }
                if ( v27 == *(_DWORD *)(v36 + 24) )
                  _invalid_parameter_noinfo();
                v37 = *(_DWORD *)(v1 + 48);
                v38 = (int *)(v1 + 48);
                v174 = *(_DWORD *)(v1 + 72);
                j = (_DWORD *)v37;
                if ( v28 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v39 = 0;
                }
                else
                {
                  v39 = *(_DWORD *)LODWORD(v28);
                }
                if ( v27 == *(_DWORD *)(v39 + 24) )
                  _invalid_parameter_noinfo();
                v40 = sub_4132D0((int *)(v1 + 48), &v175, (_DWORD *)(*(_DWORD *)(v27 + 16) + 40));
                if ( !*v40 || (_DWORD *)*v40 != j )
                  _invalid_parameter_noinfo();
                if ( v40[1] == v174 )
                  goto LABEL_211;
                if ( v28 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v41 = 0;
                }
                else
                {
                  v41 = *(_DWORD *)LODWORD(v28);
                }
                if ( v27 == *(_DWORD *)(v41 + 24) )
                  _invalid_parameter_noinfo();
                v42 = sub_4132D0(v38, v177, (_DWORD *)(*(_DWORD *)(v27 + 16) + 40));
                v43 = (int *)*v42;
                if ( *v42 || (_invalid_parameter_noinfo(), (v43 = (int *)*v42) != 0) )
                  v44 = *v43;
                else
                  v44 = 0;
                if ( v42[1] == *(_DWORD *)(v44 + 24) )
                  _invalid_parameter_noinfo();
                if ( !*(_DWORD *)(*(_DWORD *)(v42[1] + 16) + 668) )
                {
LABEL_211:
                  if ( v28 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v59 = 0;
                  }
                  else
                  {
                    v59 = *(_DWORD *)LODWORD(v28);
                  }
                  if ( v27 == *(_DWORD *)(v59 + 24) )
                    _invalid_parameter_noinfo();
                  v169 = *(float *)(v168 + 932) + v166;
                  v161 = v169;
                  v57 = **(float ***)(v27 + 16);
                  v169 = *(float *)(v168 + 928) + v167;
                  v58 = v169;
                }
                else
                {
                  if ( v28 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v56 = 0;
                  }
                  else
                  {
                    v56 = *(_DWORD *)LODWORD(v28);
                  }
                  if ( v27 == *(_DWORD *)(v56 + 24) )
                    _invalid_parameter_noinfo();
                  v57 = **(float ***)(v27 + 16);
                  v161 = v166;
                  v58 = v167;
                }
                v154 = v58;
                sub_444260(v57, v154, v161);
                if ( v28 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v60 = 0;
                }
                else
                {
                  v60 = *(_DWORD *)LODWORD(v28);
                }
                if ( v27 == *(_DWORD *)(v60 + 24) )
                  _invalid_parameter_noinfo();
                if ( *(_DWORD *)(*(_DWORD *)(v27 + 16) + 28) )
                {
                  if ( v28 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v61 = 0;
                  }
                  else
                  {
                    v61 = *(_DWORD *)LODWORD(v28);
                  }
                  if ( v27 == *(_DWORD *)(v61 + 24) )
                    _invalid_parameter_noinfo();
                  v62 = **(float ***)(v27 + 16);
                  v169 = (double)*((int *)Buf + 6) / 100.0;
                  sub_444470(v62, v169);
                }
                if ( v28 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v63 = 0;
                }
                else
                {
                  v63 = *(_DWORD *)LODWORD(v28);
                }
                if ( v27 == *(_DWORD *)(v63 + 24) )
                  _invalid_parameter_noinfo();
                sub_444D20(**(_DWORD **)(v27 + 16));
                if ( v28 == 0.0 )
                  _invalid_parameter_noinfo();
                else
                  v28 = *(float *)LODWORD(v28);
                if ( v27 == *(_DWORD *)(LODWORD(v28) + 24) )
                  _invalid_parameter_noinfo();
                sub_444260(**(float ***)(v27 + 16), v167, v166);
                v1 = v168;
              }
            }
          }
        }
        sub_409780(&i);
        v27 = v171;
      }
      if ( *(_DWORD *)(v1 + 108) )
      {
        v64 = **(_DWORD **)(v1 + 104);
        v65 = *(float *)(v1 + 80);
        v171 = v64;
        for ( i = v65; ; v65 = i )
        {
          v66 = *(_DWORD *)(v1 + 104);
          if ( v65 == 0.0 || LODWORD(v65) != *(_DWORD *)(v1 + 80) )
            _invalid_parameter_noinfo();
          if ( v64 == v66 )
            break;
          if ( v65 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v67 = 0;
          }
          else
          {
            v67 = *(_DWORD **)LODWORD(v65);
          }
          if ( v64 == v67[6] )
            _invalid_parameter_noinfo();
          if ( !*(_DWORD *)(*(_DWORD *)(v64 + 16) + 56) )
          {
            if ( v65 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v68 = 0;
            }
            else
            {
              v68 = *(_DWORD *)LODWORD(v65);
            }
            if ( v64 == *(_DWORD *)(v68 + 24) )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(*(_DWORD *)(v64 + 16) + 44) != 99 )
            {
              if ( v65 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v69 = 0;
              }
              else
              {
                v69 = *(_DWORD *)LODWORD(v65);
              }
              if ( v64 == *(_DWORD *)(v69 + 24) )
                _invalid_parameter_noinfo();
              sub_448F00(**(_DWORD **)(v64 + 16));
              if ( v65 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v70 = 0;
              }
              else
              {
                v70 = *(_DWORD *)LODWORD(v65);
              }
              if ( v64 == *(_DWORD *)(v70 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(*(_DWORD *)(v64 + 16) + 52) )
              {
                if ( v65 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v71 = 0;
                }
                else
                {
                  v71 = *(_DWORD *)LODWORD(v65);
                }
                if ( v64 == *(_DWORD *)(v71 + 24) )
                  _invalid_parameter_noinfo();
                sub_4442C0(**(float ***)(v64 + 16), &v167, &v166);
                if ( v65 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v72 = 0;
                }
                else
                {
                  v72 = *(_DWORD *)LODWORD(v65);
                }
                if ( v64 == *(_DWORD *)(v72 + 24) )
                  _invalid_parameter_noinfo();
                if ( !*(_DWORD *)(*(_DWORD *)(v64 + 16) + 60) )
                {
                  v73 = *(_DWORD *)(v1 + 48);
                  v74 = (int *)(v1 + 48);
                  v174 = *(_DWORD *)(v1 + 72);
                  j = (_DWORD *)v73;
                  if ( v65 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v75 = 0;
                  }
                  else
                  {
                    v75 = *(_DWORD *)LODWORD(v65);
                  }
                  if ( v64 == *(_DWORD *)(v75 + 24) )
                    _invalid_parameter_noinfo();
                  v76 = sub_4132D0((int *)(v1 + 48), v177, (_DWORD *)(*(_DWORD *)(v64 + 16) + 40));
                  if ( !*v76 || (_DWORD *)*v76 != j )
                    _invalid_parameter_noinfo();
                  if ( v76[1] == v174 )
                    goto LABEL_308;
                  if ( v65 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v77 = 0;
                  }
                  else
                  {
                    v77 = *(_DWORD *)LODWORD(v65);
                  }
                  if ( v64 == *(_DWORD *)(v77 + 24) )
                    _invalid_parameter_noinfo();
                  v78 = sub_4132D0(v74, &v175, (_DWORD *)(*(_DWORD *)(v64 + 16) + 40));
                  v79 = (int *)*v78;
                  if ( *v78 || (_invalid_parameter_noinfo(), (v79 = (int *)*v78) != 0) )
                    v80 = *v79;
                  else
                    v80 = 0;
                  if ( v78[1] == *(_DWORD *)(v80 + 24) )
                    _invalid_parameter_noinfo();
                  if ( !*(_DWORD *)(*(_DWORD *)(v78[1] + 16) + 668) )
                  {
LABEL_308:
                    if ( v65 == 0.0 )
                    {
                      _invalid_parameter_noinfo();
                      v84 = 0;
                    }
                    else
                    {
                      v84 = *(_DWORD *)LODWORD(v65);
                    }
                    if ( v64 == *(_DWORD *)(v84 + 24) )
                      _invalid_parameter_noinfo();
                    v82 = **(float ***)(v64 + 16);
                    v169 = *(float *)(v168 + 932) + v166;
                    v162 = v169;
                    v169 = *(float *)(v168 + 928) + v167;
                    v83 = v169;
                  }
                  else
                  {
                    if ( v65 == 0.0 )
                    {
                      _invalid_parameter_noinfo();
                      v81 = 0;
                    }
                    else
                    {
                      v81 = *(_DWORD *)LODWORD(v65);
                    }
                    if ( v64 == *(_DWORD *)(v81 + 24) )
                      _invalid_parameter_noinfo();
                    v82 = **(float ***)(v64 + 16);
                    v162 = v166;
                    v83 = v167;
                  }
                  v155 = v83;
                  sub_444260(v82, v155, v162);
                  if ( v65 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v85 = 0;
                  }
                  else
                  {
                    v85 = *(_DWORD *)LODWORD(v65);
                  }
                  if ( v64 == *(_DWORD *)(v85 + 24) )
                    _invalid_parameter_noinfo();
                  if ( *(_DWORD *)(*(_DWORD *)(v64 + 16) + 28) )
                  {
                    if ( v65 == 0.0 )
                    {
                      _invalid_parameter_noinfo();
                      v86 = 0;
                    }
                    else
                    {
                      v86 = *(_DWORD *)LODWORD(v65);
                    }
                    if ( v64 == *(_DWORD *)(v86 + 24) )
                      _invalid_parameter_noinfo();
                    v87 = **(float ***)(v64 + 16);
                    v169 = (double)*((int *)Buf + 6) / 100.0;
                    sub_444470(v87, v169);
                  }
                  if ( v65 == 0.0 )
                  {
                    _invalid_parameter_noinfo();
                    v88 = 0;
                  }
                  else
                  {
                    v88 = *(_DWORD *)LODWORD(v65);
                  }
                  if ( v64 == *(_DWORD *)(v88 + 24) )
                    _invalid_parameter_noinfo();
                  sub_444D20(**(_DWORD **)(v64 + 16));
                  if ( v65 == 0.0 )
                    _invalid_parameter_noinfo();
                  else
                    v65 = *(float *)LODWORD(v65);
                  if ( v64 == *(_DWORD *)(LODWORD(v65) + 24) )
                    _invalid_parameter_noinfo();
                  sub_444260(**(float ***)(v64 + 16), v167, v166);
                  v1 = v168;
                }
              }
            }
          }
          sub_409780(&i);
          v64 = v171;
        }
      }
    }
    if ( *(_DWORD *)(v1 + 204) )
    {
      v89 = **(_DWORD **)(v1 + 200);
      v90 = *(float *)(v1 + 176);
      v171 = v89;
      for ( i = v90; ; v90 = i )
      {
        v91 = *(_DWORD *)(v1 + 200);
        if ( v90 == 0.0 || LODWORD(v90) != *(_DWORD *)(v1 + 176) )
          _invalid_parameter_noinfo();
        if ( v89 == v91 )
          break;
        if ( v90 == 0.0 )
          _invalid_parameter_noinfo();
        else
          v90 = *(float *)LODWORD(v90);
        if ( v89 == *(_DWORD *)(LODWORD(v90) + 24) )
          _invalid_parameter_noinfo();
        sub_440C60(*(_DWORD *)(*(_DWORD *)(v89 + 16) + 284));
        sub_409780(&i);
        v89 = v171;
      }
    }
    if ( *(_DWORD *)(v1 + 140) )
    {
      v92 = **(_DWORD **)(v1 + 136);
      v93 = *(float *)(v1 + 112);
      v171 = v92;
      for ( i = v93; ; v93 = i )
      {
        v94 = *(_DWORD *)(v1 + 136);
        if ( v93 == 0.0 || LODWORD(v93) != *(_DWORD *)(v1 + 112) )
          _invalid_parameter_noinfo();
        if ( v92 == v94 )
          break;
        if ( v93 == 0.0 )
        {
          _invalid_parameter_noinfo();
          v95 = 0;
        }
        else
        {
          v95 = *(_DWORD **)LODWORD(v93);
        }
        if ( v92 == v95[6] )
          _invalid_parameter_noinfo();
        if ( *(_DWORD *)(*(_DWORD *)(v92 + 16) + 20) )
        {
          if ( v93 == 0.0 )
            _invalid_parameter_noinfo();
          else
            v93 = *(float *)LODWORD(v93);
          if ( v92 == *(_DWORD *)(LODWORD(v93) + 24) )
            _invalid_parameter_noinfo();
          sub_440C60(*(_DWORD *)(*(_DWORD *)(v92 + 16) + 284));
        }
        sub_409780(&i);
        v92 = v171;
      }
    }
    if ( *(_DWORD *)(v1 + 108) )
    {
      v96 = **(_DWORD **)(v1 + 104);
      v97 = *(float *)(v1 + 80);
      v171 = v96;
      for ( i = v97; ; v97 = i )
      {
        v98 = *(_DWORD *)(v1 + 104);
        if ( v97 == 0.0 || LODWORD(v97) != *(_DWORD *)(v1 + 80) )
          _invalid_parameter_noinfo();
        if ( v96 == v98 )
          break;
        if ( v97 == 0.0 )
        {
          _invalid_parameter_noinfo();
          v99 = 0;
        }
        else
        {
          v99 = *(_DWORD **)LODWORD(v97);
        }
        if ( v96 == v99[6] )
          _invalid_parameter_noinfo();
        if ( *(_DWORD *)(*(_DWORD *)(v96 + 16) + 56) )
        {
          if ( v97 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v100 = 0;
          }
          else
          {
            v100 = *(_DWORD *)LODWORD(v97);
          }
          if ( v96 == *(_DWORD *)(v100 + 24) )
            _invalid_parameter_noinfo();
          sub_448F00(**(_DWORD **)(v96 + 16));
          if ( v97 == 0.0 )
          {
            _invalid_parameter_noinfo();
            v101 = 0;
          }
          else
          {
            v101 = *(_DWORD *)LODWORD(v97);
          }
          if ( v96 == *(_DWORD *)(v101 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(*(_DWORD *)(v96 + 16) + 52) )
          {
            if ( v97 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v102 = 0;
            }
            else
            {
              v102 = *(_DWORD *)LODWORD(v97);
            }
            if ( v96 == *(_DWORD *)(v102 + 24) )
              _invalid_parameter_noinfo();
            sub_4442C0(**(float ***)(v96 + 16), &v167, &v166);
            if ( v97 == 0.0 )
            {
              _invalid_parameter_noinfo();
              v103 = 0;
            }
            else
            {
              v103 = *(_DWORD *)LODWORD(v97);
            }
            if ( v96 == *(_DWORD *)(v103 + 24) )
              _invalid_parameter_noinfo();
            if ( !*(_DWORD *)(*(_DWORD *)(v96 + 16) + 60) )
            {
              v104 = *(_DWORD *)(v1 + 48);
              v105 = (int *)(v1 + 48);
              v174 = *(_DWORD *)(v1 + 72);
              j = (_DWORD *)v104;
              if ( v97 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v106 = 0;
              }
              else
              {
                v106 = *(_DWORD *)LODWORD(v97);
              }
              if ( v96 == *(_DWORD *)(v106 + 24) )
                _invalid_parameter_noinfo();
              v107 = sub_4132D0((int *)(v1 + 48), v177, (_DWORD *)(*(_DWORD *)(v96 + 16) + 40));
              if ( !*v107 || (_DWORD *)*v107 != j )
                _invalid_parameter_noinfo();
              if ( v107[1] == v174 )
                goto LABEL_430;
              if ( v97 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v108 = 0;
              }
              else
              {
                v108 = *(_DWORD *)LODWORD(v97);
              }
              if ( v96 == *(_DWORD *)(v108 + 24) )
                _invalid_parameter_noinfo();
              v109 = sub_4132D0(v105, &v175, (_DWORD *)(*(_DWORD *)(v96 + 16) + 40));
              v110 = (int *)*v109;
              if ( *v109 || (_invalid_parameter_noinfo(), (v110 = (int *)*v109) != 0) )
                v111 = *v110;
              else
                v111 = 0;
              if ( v109[1] == *(_DWORD *)(v111 + 24) )
                _invalid_parameter_noinfo();
              if ( !*(_DWORD *)(*(_DWORD *)(v109[1] + 16) + 668) )
              {
LABEL_430:
                if ( v97 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v115 = 0;
                }
                else
                {
                  v115 = *(_DWORD *)LODWORD(v97);
                }
                if ( v96 == *(_DWORD *)(v115 + 24) )
                  _invalid_parameter_noinfo();
                v113 = **(float ***)(v96 + 16);
                v169 = *(float *)(v168 + 932) + v166;
                v163 = v169;
                v169 = *(float *)(v168 + 928) + v167;
                v114 = v169;
              }
              else
              {
                if ( v97 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v112 = 0;
                }
                else
                {
                  v112 = *(_DWORD *)LODWORD(v97);
                }
                if ( v96 == *(_DWORD *)(v112 + 24) )
                  _invalid_parameter_noinfo();
                v113 = **(float ***)(v96 + 16);
                v163 = v166;
                v114 = v167;
              }
              v156 = v114;
              sub_444260(v113, v156, v163);
              if ( v97 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v116 = 0;
              }
              else
              {
                v116 = *(_DWORD *)LODWORD(v97);
              }
              if ( v96 == *(_DWORD *)(v116 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(*(_DWORD *)(v96 + 16) + 28) )
              {
                if ( v97 == 0.0 )
                {
                  _invalid_parameter_noinfo();
                  v117 = 0;
                }
                else
                {
                  v117 = *(_DWORD *)LODWORD(v97);
                }
                if ( v96 == *(_DWORD *)(v117 + 24) )
                  _invalid_parameter_noinfo();
                v118 = **(float ***)(v96 + 16);
                v169 = (double)*((int *)Buf + 6) / 100.0;
                sub_444470(v118, v169);
              }
              if ( v97 == 0.0 )
              {
                _invalid_parameter_noinfo();
                v119 = 0;
              }
              else
              {
                v119 = *(_DWORD *)LODWORD(v97);
              }
              if ( v96 == *(_DWORD *)(v119 + 24) )
                _invalid_parameter_noinfo();
              sub_444D20(**(_DWORD **)(v96 + 16));
              if ( v97 == 0.0 )
                _invalid_parameter_noinfo();
              else
                v97 = *(float *)LODWORD(v97);
              if ( v96 == *(_DWORD *)(LODWORD(v97) + 24) )
                _invalid_parameter_noinfo();
              sub_444260(**(float ***)(v96 + 16), v167, v166);
              v1 = v168;
            }
          }
        }
        sub_409780(&i);
        v96 = v171;
      }
      if ( *(_DWORD *)(v1 + 108) )
      {
        v120 = **(_DWORD **)(v1 + 104);
        v121 = *(_DWORD **)(v1 + 80);
        v174 = v120;
        for ( j = v121; ; v121 = j )
        {
          v122 = *(_DWORD *)(v1 + 104);
          if ( !v121 || v121 != *(_DWORD **)(v1 + 80) )
            _invalid_parameter_noinfo();
          if ( v120 == v122 )
            break;
          if ( v121 )
          {
            v123 = (_DWORD *)*v121;
          }
          else
          {
            _invalid_parameter_noinfo();
            v123 = 0;
          }
          if ( v120 == v123[6] )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(*(_DWORD *)(v120 + 16) + 60) )
          {
            if ( v121 )
            {
              v124 = *v121;
            }
            else
            {
              _invalid_parameter_noinfo();
              v124 = 0;
            }
            if ( v120 == *(_DWORD *)(v124 + 24) )
              _invalid_parameter_noinfo();
            sub_448F00(**(_DWORD **)(v120 + 16));
            if ( v121 )
            {
              v125 = *v121;
            }
            else
            {
              _invalid_parameter_noinfo();
              v125 = 0;
            }
            if ( v120 == *(_DWORD *)(v125 + 24) )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(*(_DWORD *)(v120 + 16) + 52) )
            {
              if ( v121 )
              {
                v126 = *v121;
              }
              else
              {
                _invalid_parameter_noinfo();
                v126 = 0;
              }
              if ( v120 == *(_DWORD *)(v126 + 24) )
                _invalid_parameter_noinfo();
              sub_4442C0(**(float ***)(v120 + 16), &v167, &v166);
              if ( v121 )
              {
                v127 = *v121;
              }
              else
              {
                _invalid_parameter_noinfo();
                v127 = 0;
              }
              if ( v120 == *(_DWORD *)(v127 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(*(_DWORD *)(v120 + 16) + 44) == 2 )
              {
                if ( v121 )
                {
                  v139 = *v121;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v139 = 0;
                }
                if ( v120 == *(_DWORD *)(v139 + 24) )
                  _invalid_parameter_noinfo();
                if ( *(_DWORD *)(*(_DWORD *)(v120 + 16) + 64) )
                {
                  if ( v121 )
                  {
                    v140 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v140 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v140 + 24) )
                    _invalid_parameter_noinfo();
                  if ( v121 )
                  {
                    v141 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v141 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v141 + 24) )
                    _invalid_parameter_noinfo();
                  if ( v121 )
                  {
                    v142 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v142 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v142 + 24) )
                    _invalid_parameter_noinfo();
                  v143 = **(float ***)(v120 + 16);
                  v165 = (float)*(int *)(*(_DWORD *)(v120 + 16) + 72);
                  v144 = (double)*(int *)(*(_DWORD *)(v120 + 16) + 68);
                }
                else
                {
                  if ( v121 )
                  {
                    v145 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v145 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v145 + 24) )
                    _invalid_parameter_noinfo();
                  sub_444360(**(float ***)(v120 + 16), v181);
                  if ( v121 )
                  {
                    v146 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v146 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v146 + 24) )
                    _invalid_parameter_noinfo();
                  v147 = sub_442BD0(dword_4C087C, &v179);
                  LODWORD(v169) = v147[1] - (v181[3] - v181[1]) / 2;
                  v148 = sub_442BD0(dword_4C087C, &v180);
                  v149 = *(float ***)(v120 + 16);
                  LODWORD(i) = *v148 - (v181[2] - v181[0]) / 2;
                  v143 = *v149;
                  v165 = (float)SLODWORD(v169);
                  v144 = (double)SLODWORD(i);
                }
                v157 = v144;
                sub_444260(v143, v157, v165);
              }
              else
              {
                v128 = *(_DWORD *)(v1 + 48);
                v129 = (int *)(v1 + 48);
                v176 = *(_DWORD *)(v1 + 72);
                v175 = v128;
                if ( v121 )
                {
                  v130 = *v121;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v130 = 0;
                }
                if ( v120 == *(_DWORD *)(v130 + 24) )
                  _invalid_parameter_noinfo();
                v131 = sub_4132D0((int *)(v1 + 48), v177, (_DWORD *)(*(_DWORD *)(v120 + 16) + 40));
                if ( !*v131 || *v131 != v175 )
                  _invalid_parameter_noinfo();
                if ( v131[1] == v176 )
                  goto LABEL_521;
                if ( v121 )
                {
                  v132 = *v121;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v132 = 0;
                }
                if ( v120 == *(_DWORD *)(v132 + 24) )
                  _invalid_parameter_noinfo();
                v133 = sub_4132D0(v129, &v178, (_DWORD *)(*(_DWORD *)(v120 + 16) + 40));
                v134 = (int *)*v133;
                if ( *v133 || (_invalid_parameter_noinfo(), (v134 = (int *)*v133) != 0) )
                  v135 = *v134;
                else
                  v135 = 0;
                if ( v133[1] == *(_DWORD *)(v135 + 24) )
                  _invalid_parameter_noinfo();
                if ( !*(_DWORD *)(*(_DWORD *)(v133[1] + 16) + 668) )
                {
LABEL_521:
                  if ( v121 )
                  {
                    v137 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v137 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v137 + 24) )
                    _invalid_parameter_noinfo();
                  v169 = *(float *)(v168 + 932) + v166;
                  v164 = v169;
                  v138 = **(float ***)(v120 + 16);
                  v169 = *(float *)(v168 + 928) + v167;
                  sub_444260(v138, v169, v164);
                  v1 = v168;
                }
                else
                {
                  if ( v121 )
                  {
                    v136 = *v121;
                  }
                  else
                  {
                    _invalid_parameter_noinfo();
                    v136 = 0;
                  }
                  if ( v120 == *(_DWORD *)(v136 + 24) )
                    _invalid_parameter_noinfo();
                  sub_444260(**(float ***)(v120 + 16), v167, v166);
                  v1 = v168;
                }
              }
              if ( v121 )
              {
                v150 = *v121;
              }
              else
              {
                _invalid_parameter_noinfo();
                v150 = 0;
              }
              if ( v120 == *(_DWORD *)(v150 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(*(_DWORD *)(v120 + 16) + 28) )
              {
                if ( v121 )
                {
                  v151 = *v121;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v151 = 0;
                }
                if ( v120 == *(_DWORD *)(v151 + 24) )
                  _invalid_parameter_noinfo();
                v152 = **(float ***)(v120 + 16);
                i = (double)*((int *)Buf + 6) / 100.0;
                sub_444470(v152, i);
              }
              if ( v121 )
              {
                v153 = *v121;
              }
              else
              {
                _invalid_parameter_noinfo();
                v153 = 0;
              }
              if ( v120 == *(_DWORD *)(v153 + 24) )
                _invalid_parameter_noinfo();
              sub_444D20(**(_DWORD **)(v120 + 16));
              if ( v121 )
                v121 = (_DWORD *)*v121;
              else
                _invalid_parameter_noinfo();
              if ( v120 == v121[6] )
                _invalid_parameter_noinfo();
              sub_444260(**(float ***)(v120 + 16), v167, v166);
            }
          }
          sub_409780(&j);
          v120 = v174;
        }
      }
    }
    if ( *(_DWORD *)(v1 + 1084) && *(_DWORD *)(v1 + 1012) )
      *(float *)(v1 + 928) = v172;
  }
  else
  {
    sub_444D20(*(_DWORD *)(this + 984));
  }
}

//----- (00417970) --------------------------------------------------------
void __thiscall sub_417970(int this, int a2)
{
  int v2; // ebx
  int v3; // ebp
  int *v4; // esi
  int *v5; // edi
  int *v6; // esi
  int *v7; // eax
  int v8; // eax
  int *v9; // eax
  int v10; // esi
  int v11; // edi
  int v12; // ebx
  int v13; // ebp
  double v14; // st7
  int v16[2]; // [esp+4h] [ebp-8h] BYREF

  if ( *(_DWORD *)(this + 76) )
  {
    v2 = *(_DWORD *)(this + 48);
    v3 = *(_DWORD *)(this + 72);
    v4 = (int *)(this + 48);
    v5 = sub_4132D0((int *)(this + 48), v16, &a2);
    if ( !*v5 || *v5 != v2 )
      _invalid_parameter_noinfo();
    if ( v5[1] != v3 )
    {
      v6 = sub_4132D0(v4, v16, &a2);
      v7 = (int *)*v6;
      if ( *v6 || (_invalid_parameter_noinfo(), (v7 = (int *)*v6) != 0) )
        v8 = *v7;
      else
        v8 = 0;
      if ( v6[1] == *(_DWORD *)(v8 + 24) )
        _invalid_parameter_noinfo();
      v9 = *(int **)(v6[1] + 16);
      v10 = *v9;
      v11 = v9[1];
      v12 = v9[2];
      v13 = v9[3];
      v14 = *(float *)(this + 932);
      a2 = (int)*(float *)(this + 928);
      sub_442BF0((int)dword_4C087C, a2 + v10 + (v12 - v10) / 2, (int)v14 + v11 + (v13 - v11) / 2, 10);
    }
  }
}

//----- (00417B80) --------------------------------------------------------
_DWORD *__thiscall sub_417B80(_DWORD *this, struct std::exception *a2)
{
  sub_403C70((int)this, a2);
  *this = &std::length_error::`vftable';
  return this;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (00417BA0) --------------------------------------------------------
char *__thiscall sub_417BA0(int *this, int a2, int a3, int a4, int a5, char *a6)
{
  int *v7; // eax
  int v8; // ecx
  char *result; // eax
  char v10; // cl
  int v11[2]; // [esp+4h] [ebp-14h] BYREF
  char v12[12]; // [esp+Ch] [ebp-Ch] BYREF

  if ( this[222] )
  {
    v7 = (int *)operator new(0x2A0u);
    qmemcpy(v7, this + 54, 0x2A0u);
    v8 = this[19];
    v11[1] = (int)v7;
    v11[0] = v8;
    sub_437660(this + 12, (int)v12, v11);
    memset(this + 54, 0, 0x2A0u);
  }
  this[55] = a3;
  this[54] = a2;
  this[56] = a4;
  result = a6;
  this[57] = a5;
  this[198] = 99;
  do
  {
    v10 = *result;
    result[(char *)(this + 58) - a6] = *result;
    ++result;
  }
  while ( v10 );
  this[222] = 1;
  return result;
}
// 417BA0:  char var_C[12]

//----- (00417C60) --------------------------------------------------------
void __thiscall sub_417C60(char *this)
{
  int v1; // eax
  int v2; // eax
  _DWORD *v3; // ecx
  float *v4; // ecx
  char *v6; // eax
  float v7; // ecx
  int v8; // eax
  float v9[2]; // [esp+4h] [ebp-14h] BYREF
  float v10; // [esp+Ch] [ebp-Ch] BYREF
  float v11; // [esp+10h] [ebp-8h]
  int v12; // [esp+14h] [ebp-4h]

  if ( *((_DWORD *)this + 222) )
  {
    v6 = (char *)operator new(0x2A0u);
    qmemcpy(v6, this + 216, 0x2A0u);
    v7 = *((float *)this + 19);
    LODWORD(v9[1]) = v6;
    v9[0] = v7;
    sub_437660((int *)this + 12, (int)&v10, (int *)v9);
  }
  memset(this + 216, 0, 0x2A0u);
  *this = 0;
  sub_414060((int)this);
  *((_DWORD *)this + 238) = 1;
  sub_442D20(v8, (int)dword_4C087C);
  if ( *((_DWORD *)this + 244) )
  {
    sub_414D50((int)this, 0);
    *((_DWORD *)this + 244) = 0;
  }
  *((_DWORD *)this + 238) = 0;
  if ( *((_DWORD *)this + 251) )
  {
    v1 = *((_DWORD *)this + 247);
    *((_DWORD *)this + 251) = 0;
    if ( v1 )
      sub_44BF60(*((int **)dword_4C0874 + 63), v1);
    sub_44A990(*((_DWORD **)dword_4C0874 + 63));
    sub_416320((int)this);
    v2 = sub_44C730(*((int **)dword_4C0874 + 63), (int)this, 1, v12);
    v3 = (_DWORD *)*((_DWORD *)this + 246);
    *((_DWORD *)this + 247) = v2;
    sub_44A6E0(v3);
    sub_4440C0(*((_DWORD *)this + 246), *((_DWORD *)this + 247));
    sub_4443C0(*((float **)this + 246), 0.0, 0.0);
    v4 = (float *)*((_DWORD *)this + 246);
    v11 = (float)*((int *)this + 249);
    v10 = (float)*((int *)this + 248);
    sub_444260(v4, v10, v11);
    sub_444340(*((float **)this + 246), 0, 0, 1280, 720);
    sub_444240(*((_DWORD **)this + 246), 1);
    sub_4478E0(*((_DWORD *)this + 246), 100.0, *((_DWORD *)this + 250), 0, -1);
    sub_4474C0(*((_DWORD *)this + 246), 0, 0, *((_DWORD *)this + 250), 0.0, -1);
  }
}
// 417CDD: variable 'v8' is possibly undefined

//----- (00417D20) --------------------------------------------------------
int __thiscall sub_417D20(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  float *v10; // esi
  int result; // eax
  _DWORD *v12; // eax
  void *v13; // eax
  int v14; // ecx
  float v15; // [esp+Ch] [ebp-A8h]
  float v16; // [esp+10h] [ebp-A4h]
  float v17; // [esp+10h] [ebp-A4h]
  int v18[2]; // [esp+28h] [ebp-8Ch] BYREF
  char v19[12]; // [esp+30h] [ebp-84h] BYREF
  char v20[24]; // [esp+3Ch] [ebp-78h] BYREF
  int v21; // [esp+54h] [ebp-60h]
  int v22; // [esp+58h] [ebp-5Ch]
  _DWORD v23[19]; // [esp+5Ch] [ebp-58h] BYREF
  int v24; // [esp+B0h] [ebp-4h]

  v10 = 0;
  memset(v23, 0, sizeof(v23));
  v23[1] = a2;
  v23[2] = a3;
  v23[4] = a6;
  result = a9;
  v23[3] = a5;
  v23[5] = a7;
  v23[6] = a8;
  v23[7] = a9;
  if ( a4 )
  {
    result = sub_44B000(*((int **)dword_4C0874 + 63), a4);
    if ( result )
    {
      (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)result + 68))(result, 0, v20);
      v12 = operator new(0x784u);
      v18[0] = (int)v12;
      v24 = 0;
      if ( v12 )
        v10 = (float *)sub_448B00(v12);
      v23[8] = v21;
      v23[9] = v22;
      *(float *)v18 = (double)(a8 - a6) * 0.5;
      v16 = *(float *)v18;
      v24 = -1;
      v23[0] = v10;
      v23[12] = a4;
      *(float *)v18 = 0.5 * (double)(a7 - a5);
      sub_444450(v10, *(float *)v18, v16);
      v17 = (float)a3;
      v15 = (float)a2;
      sub_444260(v10, v15, v17);
      sub_4440C0((int)v10, a4);
      sub_444340(v10, a5, a6, a7, a8);
      v13 = operator new(0x4Cu);
      qmemcpy(v13, v23, 0x4Cu);
      v14 = this[43];
      v18[1] = (int)v13;
      v18[0] = v14;
      return sub_437660(this + 36, (int)v19, v18);
    }
  }
  return result;
}
// 417D20:  char var_78[24]
// 417D20:  char var_84[12]

//----- (00417F20) --------------------------------------------------------
int __thiscall sub_417F20(_DWORD *this, int a2, int a3, int a4, int a5, char *Str)
{
  int *v6; // eax
  int *v7; // esi
  int v8; // edi
  int *v9; // eax
  int v10; // edx
  int v12[2]; // [esp+14h] [ebp-148h] BYREF
  _DWORD *v13; // [esp+1Ch] [ebp-140h]
  char v14[12]; // [esp+20h] [ebp-13Ch] BYREF
  int v15[72]; // [esp+2Ch] [ebp-130h] BYREF
  int v16; // [esp+158h] [ebp-4h]

  v13 = this;
  v6 = (int *)operator new(0xB0u);
  v12[0] = (int)v6;
  v7 = 0;
  v16 = 0;
  if ( v6 )
    v7 = sub_442880(v6);
  v16 = -1;
  sub_4415B0(v7, a2, a3);
  v15[1] = a3;
  v8 = a4;
  v15[0] = a2;
  v15[2] = a4;
  if ( a4 > 128 )
  {
    v8 = a4 - 128;
    sub_43D4B0(v7, 1);
  }
  if ( a5 < 99 )
    sub_43D470(v7, a5);
  sub_43D4C0(v7, byte_4B31B1[4 * v8], byte_4B31B0[4 * v8], byte_4B31B2[4 * v8]);
  sub_442430(v7, Str);
  v15[71] = (int)v7;
  strcpy((char *)&v15[6], Str);
  v9 = (int *)operator new(0x120u);
  qmemcpy(v9, v15, 0x120u);
  v10 = v13[51];
  v12[1] = (int)v9;
  v12[0] = v10;
  return sub_437660(v13 + 44, (int)v14, v12);
}
// 417F20:  char var_13C[12]

//----- (004180A0) --------------------------------------------------------
int __thiscall sub_4180A0(_DWORD *this, int a2, int a3, int a4, char *Str)
{
  int *v5; // eax
  int *v6; // edi
  int v7; // esi
  int *v8; // eax
  int v9; // edx
  int v11[2]; // [esp+14h] [ebp-148h] BYREF
  _DWORD *v12; // [esp+1Ch] [ebp-140h]
  char v13[12]; // [esp+20h] [ebp-13Ch] BYREF
  int v14[72]; // [esp+2Ch] [ebp-130h] BYREF
  int v15; // [esp+158h] [ebp-4h]

  v12 = this;
  v5 = (int *)operator new(0xB0u);
  v11[0] = (int)v5;
  v6 = 0;
  v15 = 0;
  if ( v5 )
    v6 = sub_442880(v5);
  v15 = -1;
  sub_4415B0(v6, a2, a3);
  v14[1] = a3;
  v7 = a4;
  v14[0] = a2;
  v14[2] = a4;
  if ( a4 > 128 )
  {
    v7 = a4 - 128;
    sub_43D4B0(v6, 1);
  }
  sub_43D4C0(v6, byte_4B31B1[4 * v7], byte_4B31B0[4 * v7], byte_4B31B2[4 * v7]);
  sub_442430(v6, Str);
  v14[71] = (int)v6;
  strcpy((char *)&v14[6], Str);
  v8 = (int *)operator new(0x120u);
  qmemcpy(v8, v14, 0x120u);
  v9 = v12[51];
  v11[1] = (int)v8;
  v11[0] = v9;
  return sub_437660(v12 + 44, (int)v13, v11);
}
// 4180A0:  char var_13C[12]

//----- (00418210) --------------------------------------------------------
int __thiscall sub_418210(_DWORD *this, int a2, int a3, int a4, wchar_t *a5, char *a6)
{
  int *v6; // eax
  int *v7; // edi
  int v8; // esi
  int *v9; // eax
  int v10; // edx
  int v12[2]; // [esp+14h] [ebp-14Ch] BYREF
  wchar_t *v13; // [esp+1Ch] [ebp-144h]
  _DWORD *v14; // [esp+20h] [ebp-140h]
  char v15[12]; // [esp+24h] [ebp-13Ch] BYREF
  int v16[72]; // [esp+30h] [ebp-130h] BYREF
  int v17; // [esp+15Ch] [ebp-4h]

  v14 = this;
  v13 = a5;
  v6 = (int *)operator new(0xB0u);
  v12[0] = (int)v6;
  v7 = 0;
  v17 = 0;
  if ( v6 )
    v7 = sub_442880(v6);
  v17 = -1;
  sub_4415B0(v7, a2, a3);
  v16[1] = a3;
  v8 = a4;
  v16[0] = a2;
  v16[2] = a4;
  if ( a4 > 128 )
  {
    v8 = a4 - 128;
    sub_43D4B0(v7, 1);
  }
  sub_43D4C0(v7, byte_4B31B1[4 * v8], byte_4B31B0[4 * v8], byte_4B31B2[4 * v8]);
  sub_442530(v7, v13, a6);
  v16[71] = (int)v7;
  strcpy((char *)&v16[6], a6);
  v9 = (int *)operator new(0x120u);
  qmemcpy(v9, v16, 0x120u);
  v10 = v14[51];
  v12[1] = (int)v9;
  v12[0] = v10;
  return sub_437660(v14 + 44, (int)v15, v12);
}
// 418210:  char var_13C[12]

//----- (00418390) --------------------------------------------------------
int __thiscall sub_418390(
        _DWORD *this,
        int a2,
        int a3,
        int a4,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11)
{
  int v12; // esi
  int result; // eax
  _DWORD *v14; // eax
  float *v15; // ecx
  int *v16; // eax
  int v17; // ecx
  int v18; // edx
  float v19; // [esp+Ch] [ebp-ACh]
  float v20; // [esp+Ch] [ebp-ACh]
  float v21; // [esp+10h] [ebp-A8h]
  float v22; // [esp+10h] [ebp-A8h]
  int v23[2]; // [esp+2Ch] [ebp-8Ch] BYREF
  int v24[19]; // [esp+34h] [ebp-84h] BYREF
  char v25[24]; // [esp+80h] [ebp-38h] BYREF
  int v26; // [esp+98h] [ebp-20h]
  int v27; // [esp+9Ch] [ebp-1Ch]
  int v28[3]; // [esp+A0h] [ebp-18h] BYREF
  int v29; // [esp+B4h] [ebp-4h]

  v23[0] = (int)this;
  v12 = a10;
  memset(v24, 0, sizeof(v24));
  if ( a10 == -1 )
    v12 = this[19];
  result = a8;
  v24[10] = v12;
  v24[1] = a2;
  v24[2] = a3;
  v24[3] = a5;
  v24[4] = a6;
  v24[5] = a7;
  v24[6] = a8;
  v24[11] = a9;
  v24[7] = a11;
  if ( a4 )
  {
    result = sub_44B000(*((int **)dword_4C0874 + 63), a4);
    if ( result )
    {
      (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)result + 68))(result, 0, v25);
      v14 = operator new(0x784u);
      v15 = 0;
      v29 = 0;
      if ( v14 )
        v15 = (float *)sub_448B00(v14);
      v24[9] = v27;
      v24[8] = v26;
      v21 = (float)((a8 - a6) / 2);
      v29 = -1;
      v24[0] = (int)v15;
      v24[12] = a4;
      v19 = (float)((a7 - a5) / 2);
      sub_444450(v15, v19, v21);
      v22 = (float)v24[2];
      v20 = (float)v24[1];
      sub_444260((float *)v24[0], v20, v22);
      sub_4440C0(v24[0], v24[12]);
      sub_44B090(*((int **)dword_4C0874 + 63), &v24[8], &v24[9], v24[12]);
      sub_444340((float *)v24[0], v24[3], v24[4], v24[5], v24[6]);
      v24[13] = 0;
      if ( v24[11] == 99 || v24[11] == 100 )
        v24[13] = 1;
      if ( (unsigned int)(v24[11] - 103) <= 2 && v24[11] != 104 )
        v24[13] = 1;
      v16 = (int *)operator new(0x4Cu);
      qmemcpy(v16, v24, 0x4Cu);
      v17 = v23[0];
      v18 = *(_DWORD *)(v23[0] + 108);
      v23[1] = (int)v16;
      v23[0] = v18;
      return sub_437660((int *)(v17 + 80), (int)v28, v23);
    }
  }
  return result;
}
// 418390:  char var_38[24]
// 418390:  int var_18[3]

//----- (004185F0) --------------------------------------------------------
int __thiscall sub_4185F0(int *this, int a2, int a3, int a4, char *Str, int a6, int a7, int a8)
{
  int v8; // edi
  int *v10; // eax
  int *v11; // esi
  int *v13; // [esp+14h] [ebp-144h] BYREF
  int *v14; // [esp+18h] [ebp-140h]
  char v15[12]; // [esp+1Ch] [ebp-13Ch] BYREF
  int v16[72]; // [esp+28h] [ebp-130h] BYREF
  int v17; // [esp+154h] [ebp-4h]

  v8 = a4;
  v16[3] = a7;
  v16[4] = a6;
  v16[0] = a2;
  v16[1] = a3;
  v16[2] = a4;
  v16[5] = a8;
  v10 = (int *)operator new(0xB0u);
  v13 = v10;
  v11 = 0;
  v17 = 0;
  if ( v10 )
    v11 = sub_442880(v10);
  v17 = -1;
  sub_4415B0(v11, a2, a3);
  if ( a4 > 128 )
  {
    v8 = a4 - 128;
    sub_43D4B0(v11, 1);
  }
  sub_43D470(v11, this[272]);
  sub_43D4C0(v11, byte_4B31B1[4 * v8], byte_4B31B0[4 * v8], byte_4B31B2[4 * v8]);
  sub_442430(v11, Str);
  this[272] = 0;
  v16[71] = (int)v11;
  strcpy((char *)&v16[6], Str);
  v14 = (int *)operator new(0x120u);
  qmemcpy(v14, v16, 0x120u);
  v13 = (int *)this[35];
  return sub_437660(this + 28, (int)v15, (int *)&v13);
}
// 4185F0:  char var_13C[12]

//----- (004187A0) --------------------------------------------------------
int __thiscall sub_4187A0(int *this, int a2, int a3, int a4, wchar_t *a5, char *a6, int a7, int a8, int a9)
{
  int v9; // edi
  int *v11; // eax
  int *v12; // esi
  int *v13; // eax
  int v14; // ecx
  int v16[2]; // [esp+14h] [ebp-148h] BYREF
  wchar_t *v17; // [esp+1Ch] [ebp-140h]
  char v18[12]; // [esp+20h] [ebp-13Ch] BYREF
  int v19[72]; // [esp+2Ch] [ebp-130h] BYREF
  int v20; // [esp+158h] [ebp-4h]

  v9 = a4;
  v17 = a5;
  v19[3] = a8;
  v19[4] = a7;
  v19[0] = a2;
  v19[1] = a3;
  v19[2] = a4;
  v19[5] = a9;
  v11 = (int *)operator new(0xB0u);
  v16[0] = (int)v11;
  v12 = 0;
  v20 = 0;
  if ( v11 )
    v12 = sub_442880(v11);
  v20 = -1;
  sub_4415B0(v12, a2, a3);
  if ( a4 > 128 )
  {
    v9 = a4 - 128;
    sub_43D4B0(v12, 1);
  }
  sub_43D470(v12, this[272]);
  sub_43D4C0(v12, byte_4B31B1[4 * v9], byte_4B31B0[4 * v9], byte_4B31B2[4 * v9]);
  sub_442530(v12, v17, a6);
  this[272] = 0;
  v19[71] = (int)v12;
  strcpy((char *)&v19[6], a6);
  v13 = (int *)operator new(0x120u);
  qmemcpy(v13, v19, 0x120u);
  v14 = this[35];
  v16[1] = (int)v13;
  v16[0] = v14;
  return sub_437660(this + 28, (int)v18, v16);
}
// 4187A0:  char var_13C[12]

//----- (00418960) --------------------------------------------------------
int __thiscall sub_418960(int *this, int a2, int a3, int a4)
{
  int v4; // edi
  _DWORD *v6; // esi
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  int v9; // ecx
  _DWORD *v10; // esi
  _DWORD *v11; // eax
  int *v12; // esi
  int v13; // eax
  _DWORD *i; // [esp+Ch] [ebp-2CCh] BYREF
  int v16; // [esp+10h] [ebp-2C8h]
  int v17; // [esp+14h] [ebp-2C4h]
  int v18; // [esp+18h] [ebp-2C0h]
  int v19; // [esp+1Ch] [ebp-2BCh]
  int v20; // [esp+20h] [ebp-2B8h]
  int v21; // [esp+28h] [ebp-2B0h]
  int v22; // [esp+2Ch] [ebp-2ACh]
  int v23[169]; // [esp+30h] [ebp-2A8h] BYREF

  v4 = a2;
  v19 = a2;
  v17 = 0;
  sub_413360(this);
  v18 = 0;
  v20 = 0;
  if ( *(_DWORD *)(a2 + 76) )
  {
    v6 = *(_DWORD **)(a2 + 48);
    v16 = **(_DWORD **)(a2 + 72);
    i = v6;
    while ( 1 )
    {
      v7 = *(_DWORD **)(v4 + 48);
      v21 = *(_DWORD *)(v4 + 72);
      if ( !v6 || v6 != v7 )
        _invalid_parameter_noinfo();
      if ( v16 == v21 )
        break;
      if ( v6 )
      {
        v8 = (_DWORD *)*v6;
      }
      else
      {
        _invalid_parameter_noinfo();
        v8 = 0;
      }
      if ( v16 == v8[6] )
        _invalid_parameter_noinfo();
      v22 = *(_DWORD *)(v16 + 12);
      if ( v6 )
        v6 = (_DWORD *)*v6;
      else
        _invalid_parameter_noinfo();
      if ( v16 == v6[6] )
        _invalid_parameter_noinfo();
      qmemcpy(v23, *(const void **)(v16 + 16), 0x2A0u);
      if ( v22 )
      {
        sub_417BA0(this, v23[0], v23[1], v23[2], v23[3], (char *)&v23[4]);
        sub_412D40(this, v23[12], v23[13]);
        sub_412D70((char *)this, (char *)&v23[14], 1);
        sub_412D70((char *)this, (char *)&v23[79], 0);
        v9 = v23[160];
        this[215] = a3;
        this[214] = v9;
      }
      sub_409780(&i);
      v6 = i;
      v4 = v19;
    }
  }
  sub_417C60((char *)this);
  if ( *(_DWORD *)(v4 + 108) )
  {
    v10 = *(_DWORD **)(v4 + 80);
    v16 = **(_DWORD **)(v4 + 104);
    for ( i = v10; ; v10 = i )
    {
      while ( 1 )
      {
        v11 = *(_DWORD **)(v4 + 80);
        v21 = *(_DWORD *)(v4 + 104);
        if ( !v10 || v10 != v11 )
          _invalid_parameter_noinfo();
        if ( v16 == v21 )
          return v17;
        if ( v10 )
          v10 = (_DWORD *)*v10;
        else
          _invalid_parameter_noinfo();
        if ( v16 == v10[6] )
          _invalid_parameter_noinfo();
        v12 = *(int **)(v16 + 16);
        v13 = v12[10];
        if ( !v13 )
          break;
        sub_418390(this, v12[1], v12[2], v12[12], v12[3], v12[4], v12[5], v12[6], v12[11], v13 - 1, v12[7]);
        sub_409780(&i);
        v10 = i;
      }
      if ( v12[11] == 99 && !v20 )
      {
        sub_417D20(this, v12[1], v12[2], v12[12], v12[3], v12[4], v12[5], v12[6], v12[10]);
        v20 = 1;
        v17 = 1;
      }
      if ( v12[11] == 2 )
        break;
LABEL_42:
      v4 = v19;
      sub_409780(&i);
    }
    if ( a4 == -1 )
    {
      if ( a3 == v18 )
      {
LABEL_40:
        sub_417D20(this, v12[1], v12[2], v12[12], v12[3], v12[4], v12[5], v12[6], 0);
        v17 = 1;
      }
    }
    else if ( a4 == v18 )
    {
      goto LABEL_40;
    }
    ++v18;
    goto LABEL_42;
  }
  return v17;
}

//----- (00418C50) --------------------------------------------------------
int __thiscall sub_418C50(int *this, int a2)
{
  int v2; // edi
  _DWORD *v3; // esi
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // esi
  int v7; // edi
  int *v8; // eax
  int v9; // ecx
  _DWORD *v10; // esi
  int v11; // edi
  int v12; // eax
  int v13; // ecx
  _DWORD *j; // [esp+Ch] [ebp-2C4h] BYREF
  int v16; // [esp+10h] [ebp-2C0h]
  int *v17; // [esp+14h] [ebp-2BCh]
  _DWORD *i; // [esp+18h] [ebp-2B8h] BYREF
  int v19; // [esp+1Ch] [ebp-2B4h]
  int v20; // [esp+24h] [ebp-2ACh]
  int v21[169]; // [esp+28h] [ebp-2A8h] BYREF

  v17 = this;
  if ( a2 )
  {
    sub_413360(this);
    if ( *(_DWORD *)(a2 + 76) )
    {
      v2 = **(_DWORD **)(a2 + 72);
      v3 = *(_DWORD **)(a2 + 48);
      v19 = v2;
      for ( i = v3; ; v3 = i )
      {
        v4 = *(_DWORD **)(a2 + 48);
        v20 = *(_DWORD *)(a2 + 72);
        if ( !v3 || v3 != v4 )
          _invalid_parameter_noinfo();
        if ( v2 == v20 )
          break;
        if ( v3 )
        {
          v5 = (_DWORD *)*v3;
        }
        else
        {
          _invalid_parameter_noinfo();
          v5 = 0;
        }
        if ( v2 == v5[6] )
          _invalid_parameter_noinfo();
        j = *(_DWORD **)(v2 + 12);
        if ( v3 )
          v3 = (_DWORD *)*v3;
        else
          _invalid_parameter_noinfo();
        if ( v2 == v3[6] )
          _invalid_parameter_noinfo();
        qmemcpy(v21, *(const void **)(v2 + 16), 0x2A0u);
        if ( j )
        {
          sub_417BA0(v17, v21[0], v21[1], v21[2], v21[3], (char *)&v21[4]);
          sub_412D40(v17, v21[12], v21[13]);
          sub_412D70((char *)v17, (char *)&v21[14], 1);
          sub_412D70((char *)v17, (char *)&v21[79], 0);
        }
        else
        {
          *((_DWORD *)Buf + 272083) = v21[1] + (v21[3] - v21[1]) / 2;
        }
        sub_409780(&i);
        v2 = v19;
      }
    }
    sub_417C60((char *)v17);
    if ( *(_DWORD *)(a2 + 108) )
    {
      v6 = *(_DWORD **)(a2 + 80);
      v16 = **(_DWORD **)(a2 + 104);
      for ( j = v6; ; v6 = j )
      {
        v7 = *(_DWORD *)(a2 + 104);
        if ( !v6 || v6 != *(_DWORD **)(a2 + 80) )
          _invalid_parameter_noinfo();
        if ( v16 == v7 )
          break;
        if ( v6 )
          v6 = (_DWORD *)*v6;
        else
          _invalid_parameter_noinfo();
        if ( v16 == v6[6] )
          _invalid_parameter_noinfo();
        v8 = *(int **)(v16 + 16);
        v9 = v8[10];
        if ( v9 )
          sub_418390(v17, v8[1], v8[2], v8[12], v8[3], v8[4], v8[5], v8[6], v8[11], v9 - 1, v8[7]);
        sub_409780(&j);
      }
    }
    if ( *(_DWORD *)(a2 + 140) )
    {
      v10 = *(_DWORD **)(a2 + 112);
      v16 = **(_DWORD **)(a2 + 136);
      for ( j = v10; ; v10 = j )
      {
        v11 = *(_DWORD *)(a2 + 136);
        if ( !v10 || v10 != *(_DWORD **)(a2 + 112) )
          _invalid_parameter_noinfo();
        if ( v16 == v11 )
          break;
        if ( v10 )
          v10 = (_DWORD *)*v10;
        else
          _invalid_parameter_noinfo();
        if ( v16 == v10[6] )
          _invalid_parameter_noinfo();
        v12 = *(_DWORD *)(v16 + 16);
        v13 = *(_DWORD *)(v12 + 12);
        if ( v13 )
          sub_4185F0(
            v17,
            *(_DWORD *)v12,
            *(_DWORD *)(v12 + 4),
            *(_DWORD *)(v12 + 8),
            (char *)(v12 + 24),
            *(_DWORD *)(v12 + 16),
            v13 - 1,
            0);
        sub_409780(&j);
      }
    }
    sub_414780((int)v17);
  }
  return 0;
}

//----- (00418F20) --------------------------------------------------------
void __thiscall sub_418F20(int *this, int a2, int a3)
{
  int *v3; // edi
  int v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // edi
  int v7; // eax
  int v8; // esi
  _DWORD *v9; // esi
  _DWORD *v10; // eax
  int v11; // eax
  _DWORD *v12; // esi
  int *v13; // eax
  _DWORD *v14; // esi
  _DWORD *v15; // eax
  _DWORD *v16; // esi
  int v17; // edi
  int *v18; // eax
  int v20; // [esp+10h] [ebp-30h]
  _DWORD *i; // [esp+14h] [ebp-2Ch] BYREF
  int v22; // [esp+18h] [ebp-28h]
  _DWORD *v23; // [esp+1Ch] [ebp-24h] BYREF
  int v24; // [esp+20h] [ebp-20h]
  int v25[3]; // [esp+24h] [ebp-1Ch] BYREF
  int v26; // [esp+30h] [ebp-10h]
  char v27[12]; // [esp+34h] [ebp-Ch] BYREF

  v3 = this;
  if ( this[239] == -1 )
    this[239] = this[19];
  v4 = this[19];
  this[8] = v4;
  v20 = v4;
  if ( *(_DWORD *)(a2 + 76) )
  {
    v5 = *(_DWORD **)(a2 + 48);
    v24 = **(_DWORD **)(a2 + 72);
    v23 = v5;
    while ( 1 )
    {
      v26 = *(_DWORD *)(a2 + 72);
      if ( !v5 || v5 != *(_DWORD **)(a2 + 48) )
        _invalid_parameter_noinfo();
      if ( v24 == v26 )
        break;
      v6 = operator new(0x2A0u);
      i = v6;
      if ( v5 )
      {
        v7 = *v5;
      }
      else
      {
        _invalid_parameter_noinfo();
        v7 = 0;
      }
      v8 = v24;
      if ( v24 == *(_DWORD *)(v7 + 24) )
        _invalid_parameter_noinfo();
      qmemcpy(v6, *(const void **)(v8 + 16), 0x2A0u);
      v25[0] = v20;
      v25[1] = (int)i;
      sub_437660(this + 12, (int)v27, v25);
      ++v20;
      sub_409780(&v23);
      v5 = v23;
      v3 = this;
    }
  }
  if ( *(_DWORD *)(a2 + 140) )
  {
    v9 = *(_DWORD **)(a2 + 112);
    v22 = **(_DWORD **)(a2 + 136);
    for ( i = v9; ; v9 = i )
    {
      v10 = *(_DWORD **)(a2 + 112);
      v26 = *(_DWORD *)(a2 + 136);
      if ( !v9 || v9 != v10 )
        _invalid_parameter_noinfo();
      if ( v22 == v26 )
        break;
      if ( v9 )
        v9 = (_DWORD *)*v9;
      else
        _invalid_parameter_noinfo();
      if ( v22 == v9[6] )
        _invalid_parameter_noinfo();
      v11 = *(_DWORD *)(v22 + 16);
      sub_4185F0(
        v3,
        *(_DWORD *)v11,
        *(_DWORD *)(v11 + 4),
        *(_DWORD *)(v11 + 8),
        (char *)(v11 + 24),
        *(_DWORD *)(v11 + 16),
        v3[8] + *(_DWORD *)(v11 + 12),
        0);
      sub_409780(&i);
    }
  }
  if ( *(_DWORD *)(a2 + 108) )
  {
    v12 = *(_DWORD **)(a2 + 80);
    v22 = **(_DWORD **)(a2 + 104);
    for ( i = v12; ; v12 = i )
    {
      v26 = *(_DWORD *)(a2 + 104);
      if ( !v12 || v12 != *(_DWORD **)(a2 + 80) )
        _invalid_parameter_noinfo();
      if ( v22 == v26 )
        break;
      if ( v12 )
        v12 = (_DWORD *)*v12;
      else
        _invalid_parameter_noinfo();
      if ( v22 == v12[6] )
        _invalid_parameter_noinfo();
      v13 = *(int **)(v22 + 16);
      sub_418390(v3, v13[1], v13[2], v13[12], v13[3], v13[4], v13[5], v13[6], v13[11], v3[8] + v13[10], v13[7]);
      sub_409780(&i);
    }
  }
  if ( v3[241] == -1 )
    v3[241] = v3[51];
  v3[10] = v3[51];
  if ( *(_DWORD *)(a2 + 204) )
  {
    v14 = *(_DWORD **)(a2 + 176);
    v22 = **(_DWORD **)(a2 + 200);
    for ( i = v14; ; v14 = i )
    {
      v15 = *(_DWORD **)(a2 + 176);
      v26 = *(_DWORD *)(a2 + 200);
      if ( !v14 || v14 != v15 )
        _invalid_parameter_noinfo();
      if ( v22 == v26 )
        break;
      if ( v14 )
        v14 = (_DWORD *)*v14;
      else
        _invalid_parameter_noinfo();
      if ( v22 == v14[6] )
        _invalid_parameter_noinfo();
      sub_4180A0(
        v3,
        **(_DWORD **)(v22 + 16),
        *(_DWORD *)(*(_DWORD *)(v22 + 16) + 4),
        *(_DWORD *)(*(_DWORD *)(v22 + 16) + 8),
        (char *)(*(_DWORD *)(v22 + 16) + 24));
      sub_409780(&i);
    }
  }
  if ( v3[240] == -1 )
    v3[240] = v3[43];
  v3[9] = v3[43];
  if ( *(_DWORD *)(a2 + 172) )
  {
    v16 = *(_DWORD **)(a2 + 144);
    v22 = **(_DWORD **)(a2 + 168);
    for ( i = v16; ; v16 = i )
    {
      v17 = *(_DWORD *)(a2 + 168);
      if ( !v16 || v16 != *(_DWORD **)(a2 + 144) )
        _invalid_parameter_noinfo();
      if ( v22 == v17 )
        break;
      if ( v16 )
        v16 = (_DWORD *)*v16;
      else
        _invalid_parameter_noinfo();
      if ( v22 == v16[6] )
        _invalid_parameter_noinfo();
      v18 = *(int **)(v22 + 16);
      sub_417D20(this, v18[1], v18[2], v18[12], v18[3], v18[4], v18[5], v18[6], v18[7]);
      sub_409780(&i);
    }
    v3 = this;
  }
  if ( a3 )
  {
    v3[241] = -1;
    v3[240] = -1;
    v3[239] = -1;
    v3[10] = -1;
    v3[9] = -1;
    v3[8] = -1;
  }
}
// 418F20:  char var_C[12]

//----- (004192F0) --------------------------------------------------------
int *__thiscall sub_4192F0(int *this, int *a2)
{
  int v3; // edi
  int v4; // ebx
  int v5; // ebp
  int v7; // [esp+10h] [ebp-10h] BYREF
  int v8; // [esp+14h] [ebp-Ch]
  int v9; // [esp+18h] [ebp-8h]
  int v10; // [esp+1Ch] [ebp-4h]

  sub_412FA0(this, &v7, a2);
  v3 = v10;
  v4 = v9;
  v5 = v8;
  a2 = 0;
  sub_413030(v7, v8, v9, v10, &a2);
  sub_40B370(this, &v7, v7, v5, v4, v3);
  return a2;
}

//----- (00419360) --------------------------------------------------------
int __thiscall sub_419360(int *this, int a2, int a3, int a4)
{
  int result; // eax
  int v6; // esi
  int *v7; // ebx
  int *v8; // edi
  int *v9; // edi
  int *v10; // eax
  int v11; // eax
  int v12; // edi
  int v13; // ebp
  float *v14; // esi
  int *v15; // esi
  int *v16; // eax
  int v17; // eax
  int *v18; // eax
  _DWORD **v19; // eax
  void *v20; // esi
  int *v21; // eax
  int *v22; // esi
  int *v23; // eax
  int v24; // eax
  int *v25; // eax
  int v26; // eax
  int *v27; // eax
  int *v28; // eax
  int v29; // edx
  int v30; // ecx
  float v31; // [esp+8h] [ebp-8Ch]
  float v32; // [esp+Ch] [ebp-88h]
  int v33; // [esp+20h] [ebp-74h] BYREF
  int v34; // [esp+24h] [ebp-70h]
  int v35; // [esp+28h] [ebp-6Ch]
  int v36[3]; // [esp+2Ch] [ebp-68h] BYREF
  int v37; // [esp+38h] [ebp-5Ch]
  int v38[3]; // [esp+3Ch] [ebp-58h] BYREF
  int v39[19]; // [esp+48h] [ebp-4Ch] BYREF

  result = this[43];
  v36[0] = (int)this;
  v35 = 0;
  v34 = 0;
  if ( result )
  {
    v6 = this[36];
    v7 = this + 36;
    v33 = result - 1;
    v37 = this[42];
    v8 = sub_4132D0(this + 36, v38, &v33);
    if ( !*v8 || *v8 != v6 )
      _invalid_parameter_noinfo();
    result = v37;
    if ( v8[1] != v37 )
    {
      v9 = sub_4132D0(this + 36, v38, &v33);
      v10 = (int *)*v9;
      if ( *v9 || (_invalid_parameter_noinfo(), (v10 = (int *)*v9) != 0) )
        v11 = *v10;
      else
        v11 = 0;
      if ( v9[1] == *(_DWORD *)(v11 + 24) )
        _invalid_parameter_noinfo();
      sub_412BE0(v39, *(_DWORD **)(v9[1] + 16));
      if ( a2 )
      {
        switch ( a2 )
        {
          case 1:
            v35 = 100;
            break;
          case 2:
            v34 = -100;
            break;
          case 3:
            v34 = 100;
            break;
        }
      }
      else
      {
        v35 = -100;
      }
      v12 = v39[2];
      v13 = v39[1];
      v14 = (float *)v39[0];
      v34 += v39[2];
      v35 += v39[1];
      v32 = (float)v34;
      v31 = (float)v35;
      sub_444260((float *)v39[0], v31, v32);
      sub_444470(v14, 0.0);
      sub_4474C0((int)v14, v13, v12, a4, 0.0, a3);
      sub_4477E0((int)v14, 1.0, a4, 0, a3);
      v15 = sub_4132D0(v7, v38, &v33);
      v16 = (int *)*v15;
      if ( *v15 || (_invalid_parameter_noinfo(), (v16 = (int *)*v15) != 0) )
        v17 = *v16;
      else
        v17 = 0;
      if ( v15[1] == *(_DWORD *)(v17 + 24) )
        _invalid_parameter_noinfo();
      if ( **(_DWORD **)(v15[1] + 16) )
      {
        v18 = sub_4132D0(v7, v38, &v33);
        v19 = *(_DWORD ***)(sub_44AC10((int **)v18) + 4);
        v20 = *v19;
        if ( *v19 )
        {
          sub_4470C0(*v19);
          operator delete(v20);
        }
        v21 = sub_4132D0(v7, v38, &v33);
        **(_DWORD **)(sub_44AC10((int **)v21) + 4) = 0;
      }
      v22 = sub_4132D0(v7, v38, &v33);
      v23 = (int *)*v22;
      if ( *v22 || (_invalid_parameter_noinfo(), (v23 = (int *)*v22) != 0) )
        v24 = *v23;
      else
        v24 = 0;
      if ( v22[1] == *(_DWORD *)(v24 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v22[1] + 16) )
      {
        v25 = sub_4132D0(v7, v38, &v33);
        v26 = sub_44AC10((int **)v25);
        operator delete(*(void **)(v26 + 4));
        v27 = sub_4132D0(v7, v38, &v33);
        *(_DWORD *)(sub_44AC10((int **)v27) + 4) = 0;
      }
      sub_4192F0(v7, &v33);
      v28 = (int *)operator new(0x4Cu);
      v29 = v36[0];
      qmemcpy(v28, v39, 0x4Cu);
      v30 = *(_DWORD *)(v29 + 172);
      v36[1] = (int)v28;
      v36[0] = v30;
      return sub_437660(v7, (int)v38, v36);
    }
  }
  return result;
}
// 419360:  int var_58[3]

//----- (00419640) --------------------------------------------------------
void __thiscall sub_419640(int *this, __int16 a2, int a3, int a4, int a5)
{
  int v5; // eax
  int v6; // ebx
  int v7; // ebp
  int *v8; // esi
  int *v9; // edi
  int *v10; // ebx
  int *v11; // edi
  int *v12; // eax
  int v13; // eax
  int v14; // ebp
  int *v15; // edi
  int *v16; // eax
  int v17; // eax
  int *v18; // eax
  _DWORD **v19; // eax
  void *v20; // edi
  int *v21; // eax
  int *v22; // edi
  int *v23; // eax
  int v24; // eax
  int *v25; // eax
  int v26; // eax
  int *v27; // eax
  int v28; // [esp+0h] [ebp-18h] BYREF
  int v29[2]; // [esp+4h] [ebp-14h] BYREF
  int v30[3]; // [esp+Ch] [ebp-Ch] BYREF

  v5 = this[43];
  v29[0] = (int)this;
  if ( v5 )
  {
    v6 = this[36];
    v7 = this[42];
    v8 = this + 36;
    v28 = v5 - 1;
    v9 = sub_4132D0(this + 36, v30, &v28);
    if ( !*v9 || *v9 != v6 )
      _invalid_parameter_noinfo();
    if ( v9[1] != v7 )
    {
      v10 = (int *)operator new(0x4Cu);
      v11 = sub_4132D0(v8, v30, &v28);
      v12 = (int *)*v11;
      if ( *v11 || (_invalid_parameter_noinfo(), (v12 = (int *)*v11) != 0) )
        v13 = *v12;
      else
        v13 = 0;
      if ( v11[1] == *(_DWORD *)(v13 + 24) )
        _invalid_parameter_noinfo();
      v14 = v29[0];
      sub_412BE0(v10, *(_DWORD **)(v11[1] + 16));
      sub_447BF0(*v10, a2, a3, a4, a5, -1);
      v15 = sub_4132D0(v8, v30, &v28);
      v16 = (int *)*v15;
      if ( *v15 || (_invalid_parameter_noinfo(), (v16 = (int *)*v15) != 0) )
        v17 = *v16;
      else
        v17 = 0;
      if ( v15[1] == *(_DWORD *)(v17 + 24) )
        _invalid_parameter_noinfo();
      if ( **(_DWORD **)(v15[1] + 16) )
      {
        v18 = sub_4132D0(v8, v30, &v28);
        v19 = *(_DWORD ***)(sub_44AC10((int **)v18) + 4);
        v20 = *v19;
        if ( *v19 )
        {
          sub_4470C0(*v19);
          operator delete(v20);
        }
        v21 = sub_4132D0(v8, v30, &v28);
        **(_DWORD **)(sub_44AC10((int **)v21) + 4) = 0;
      }
      v22 = sub_4132D0(v8, v30, &v28);
      v23 = (int *)*v22;
      if ( *v22 || (_invalid_parameter_noinfo(), (v23 = (int *)*v22) != 0) )
        v24 = *v23;
      else
        v24 = 0;
      if ( v22[1] == *(_DWORD *)(v24 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v22[1] + 16) )
      {
        v25 = sub_4132D0(v8, v30, &v28);
        v26 = sub_44AC10((int **)v25);
        operator delete(*(void **)(v26 + 4));
        v27 = sub_4132D0(v8, v30, &v28);
        *(_DWORD *)(sub_44AC10((int **)v27) + 4) = 0;
      }
      sub_4192F0(v8, &v28);
      v29[0] = *(_DWORD *)(v14 + 172);
      v29[1] = (int)v10;
      sub_437660(v8, (int)v30, v29);
    }
  }
}
// 419640:  int var_C[3]

//----- (00419860) --------------------------------------------------------
int __thiscall sub_419860(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  return sub_418390(this, a2, a3, a4, a5, a6, a7, a8, a9, this[19], a10);
}

//----- (004198A0) --------------------------------------------------------
int __thiscall sub_4198A0(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int result; // eax

  result = a4;
  if ( a4 )
  {
    if ( a9 == 1 )
    {
      return sub_419860(this, a2, a3, a4, a5, a6, a7, a8, 101, 0);
    }
    else if ( a9 == 2 )
    {
      return sub_419860(this, a2, a3, a4, a5, a6, a7, a8, 102, 0);
    }
    else
    {
      return sub_419860(this, a2, a3, a4, a5, a6, a7, a8, 100, 0);
    }
  }
  return result;
}

//----- (004198F0) --------------------------------------------------------
int __thiscall sub_4198F0(int *this, int a2, int a3, int a4, char *a5, int a6, int a7)
{
  return sub_4185F0(this, a2, a3, a4, a5, a6, this[19], a7);
}

//----- (00419920) --------------------------------------------------------
int __thiscall sub_419920(int *this, int a2, int a3, int a4, wchar_t *a5, char *a6, int a7, int a8)
{
  return sub_4187A0(this, a2, a3, a4, a5, a6, a7, this[19], a8);
}

//----- (00419950) --------------------------------------------------------
void __thiscall sub_419950(int *this)
{
  int *v1; // ebp
  int v2; // ebx
  _DWORD *v3; // esi
  int v4; // edi
  _DWORD *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // edi
  _DWORD *v10; // esi
  int v11; // ebx
  _DWORD *v12; // eax
  int v13; // eax
  int v14; // eax
  _DWORD **v15; // eax
  void *v16; // ebx
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int *v21; // ebx
  int v22; // ebp
  int v23; // esi
  int v24; // edi
  int v25; // eax
  int v26; // edi
  _DWORD *v27; // esi
  int v28; // ebx
  _DWORD *v29; // eax
  int v30; // eax
  int v31; // eax
  int v32; // eax
  void *v33; // ebx
  int v34; // eax
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int *v38; // ebx
  int v39; // ebp
  int v40; // esi
  int v41; // edi
  int v42; // eax
  int v43; // ebx
  int v44; // ebp
  int v45; // esi
  int v46; // edi
  int v47; // eax
  int v48; // [esp+14h] [ebp-8Ch] BYREF
  int *v49; // [esp+18h] [ebp-88h]
  int *v50; // [esp+1Ch] [ebp-84h]
  int *v51; // [esp+20h] [ebp-80h]
  int v52; // [esp+24h] [ebp-7Ch] BYREF
  _DWORD *k; // [esp+28h] [ebp-78h] BYREF
  int v54; // [esp+2Ch] [ebp-74h]
  int v55; // [esp+30h] [ebp-70h] BYREF
  int v56; // [esp+34h] [ebp-6Ch]
  int v57; // [esp+38h] [ebp-68h] BYREF
  int v58; // [esp+3Ch] [ebp-64h]
  int v59; // [esp+40h] [ebp-60h] BYREF
  int v60; // [esp+44h] [ebp-5Ch]
  _DWORD *j; // [esp+48h] [ebp-58h] BYREF
  int v62; // [esp+4Ch] [ebp-54h]
  _DWORD *i; // [esp+50h] [ebp-50h] BYREF
  int v64; // [esp+54h] [ebp-4Ch]
  int v65; // [esp+58h] [ebp-48h] BYREF
  int v66; // [esp+5Ch] [ebp-44h]
  int v67; // [esp+60h] [ebp-40h]
  int v68; // [esp+64h] [ebp-3Ch]
  int v69; // [esp+68h] [ebp-38h] BYREF
  int v70; // [esp+6Ch] [ebp-34h]
  int v71; // [esp+70h] [ebp-30h]
  int v72; // [esp+74h] [ebp-2Ch]
  int v73; // [esp+78h] [ebp-28h] BYREF
  int v74; // [esp+7Ch] [ebp-24h]
  int v75; // [esp+80h] [ebp-20h]
  int v76; // [esp+84h] [ebp-1Ch]
  int v77; // [esp+88h] [ebp-18h] BYREF
  int v78; // [esp+90h] [ebp-10h] BYREF
  int v79; // [esp+98h] [ebp-8h] BYREF

  if ( this[19] )
  {
    v1 = this + 12;
    v50 = this + 12;
    v51 = this + 20;
    v49 = this + 28;
    while ( 2 )
    {
      v2 = *(_DWORD *)v1[6];
      v3 = (_DWORD *)*v1;
      v48 = -1;
      v64 = v2;
      for ( i = v3; ; v3 = i )
      {
        v4 = v1[6];
        if ( !v3 || v3 != (_DWORD *)*v1 )
          _invalid_parameter_noinfo();
        if ( v2 == v4 )
          break;
        if ( v3 )
        {
          v5 = (_DWORD *)*v3;
        }
        else
        {
          _invalid_parameter_noinfo();
          v5 = 0;
        }
        if ( v2 == v5[6] )
          _invalid_parameter_noinfo();
        if ( !*(_DWORD *)(*(_DWORD *)(v2 + 16) + 620) )
        {
          if ( v3 )
          {
            v6 = *v3;
          }
          else
          {
            _invalid_parameter_noinfo();
            v6 = 0;
          }
          if ( v2 == *(_DWORD *)(v6 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(v2 + 16) )
          {
            if ( v3 )
            {
              v7 = *v3;
            }
            else
            {
              _invalid_parameter_noinfo();
              v7 = 0;
            }
            if ( v2 == *(_DWORD *)(v7 + 24) )
              _invalid_parameter_noinfo();
            operator delete(*(void **)(v2 + 16));
            if ( v3 )
            {
              v8 = *v3;
            }
            else
            {
              _invalid_parameter_noinfo();
              v8 = 0;
            }
            if ( v2 == *(_DWORD *)(v8 + 24) )
              _invalid_parameter_noinfo();
            *(_DWORD *)(v2 + 16) = 0;
          }
          if ( v3 )
            v3 = (_DWORD *)*v3;
          else
            _invalid_parameter_noinfo();
          if ( v2 == v3[6] )
            _invalid_parameter_noinfo();
          v48 = *(_DWORD *)(v2 + 12);
          break;
        }
        sub_409780(&i);
        v2 = v64;
      }
LABEL_34:
      v9 = *(_DWORD *)v51[6];
      v10 = (_DWORD *)*v51;
      v62 = v9;
      for ( j = v10; ; v10 = j )
      {
        v11 = v51[6];
        if ( !v10 || v10 != (_DWORD *)*v51 )
          _invalid_parameter_noinfo();
        if ( v9 == v11 )
          break;
        if ( v10 )
        {
          v12 = (_DWORD *)*v10;
        }
        else
        {
          _invalid_parameter_noinfo();
          v12 = 0;
        }
        if ( v9 == v12[6] )
          _invalid_parameter_noinfo();
        if ( *(_DWORD *)(*(_DWORD *)(v9 + 16) + 40) == v48 )
        {
          if ( v10 )
          {
            v13 = *v10;
          }
          else
          {
            _invalid_parameter_noinfo();
            v13 = 0;
          }
          if ( v9 == *(_DWORD *)(v13 + 24) )
            _invalid_parameter_noinfo();
          if ( **(_DWORD **)(v9 + 16) )
          {
            if ( v10 )
            {
              v14 = *v10;
            }
            else
            {
              _invalid_parameter_noinfo();
              v14 = 0;
            }
            if ( v9 == *(_DWORD *)(v14 + 24) )
              _invalid_parameter_noinfo();
            v15 = *(_DWORD ***)(v9 + 16);
            v16 = *v15;
            if ( *v15 )
            {
              sub_4470C0(*v15);
              operator delete(v16);
            }
            if ( v10 )
            {
              v17 = *v10;
            }
            else
            {
              _invalid_parameter_noinfo();
              v17 = 0;
            }
            if ( v9 == *(_DWORD *)(v17 + 24) )
              _invalid_parameter_noinfo();
            **(_DWORD **)(v9 + 16) = 0;
          }
          if ( v10 )
          {
            v18 = *v10;
          }
          else
          {
            _invalid_parameter_noinfo();
            v18 = 0;
          }
          if ( v9 == *(_DWORD *)(v18 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(v9 + 16) )
          {
            if ( v10 )
            {
              v19 = *v10;
            }
            else
            {
              _invalid_parameter_noinfo();
              v19 = 0;
            }
            if ( v9 == *(_DWORD *)(v19 + 24) )
              _invalid_parameter_noinfo();
            operator delete(*(void **)(v9 + 16));
            if ( v10 )
            {
              v20 = *v10;
            }
            else
            {
              _invalid_parameter_noinfo();
              v20 = 0;
            }
            if ( v9 == *(_DWORD *)(v20 + 24) )
              _invalid_parameter_noinfo();
            *(_DWORD *)(v9 + 16) = 0;
          }
          if ( v10 )
            v10 = (_DWORD *)*v10;
          else
            _invalid_parameter_noinfo();
          if ( v9 == v10[6] )
            _invalid_parameter_noinfo();
          v52 = *(_DWORD *)(v9 + 12);
          if ( v52 != -1 )
          {
            v21 = v51;
            sub_412FA0(v51, &v69, &v52);
            v22 = v69;
            v23 = v72;
            v24 = v71;
            v25 = v69;
            v59 = v69;
            v60 = v70;
            while ( 1 )
            {
              if ( !v25 || v25 != v24 )
                _invalid_parameter_noinfo();
              if ( v60 == v23 )
                break;
              sub_409780(&v59);
              v25 = v59;
            }
            sub_40B370(v21, &v77, v22, v70, v24, v23);
            goto LABEL_34;
          }
          break;
        }
        sub_409780(&j);
        v9 = v62;
      }
LABEL_99:
      v26 = *(_DWORD *)v49[6];
      v27 = (_DWORD *)*v49;
      v54 = v26;
      for ( k = v27; ; v27 = k )
      {
        v28 = v49[6];
        if ( !v27 || v27 != (_DWORD *)*v49 )
          _invalid_parameter_noinfo();
        if ( v26 == v28 )
          break;
        if ( v27 )
        {
          v29 = (_DWORD *)*v27;
        }
        else
        {
          _invalid_parameter_noinfo();
          v29 = 0;
        }
        if ( v26 == v29[6] )
          _invalid_parameter_noinfo();
        if ( *(_DWORD *)(*(_DWORD *)(v26 + 16) + 12) == v48 )
        {
          if ( v27 )
          {
            v30 = *v27;
          }
          else
          {
            _invalid_parameter_noinfo();
            v30 = 0;
          }
          if ( v26 == *(_DWORD *)(v30 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(*(_DWORD *)(v26 + 16) + 284) )
          {
            if ( v27 )
            {
              v31 = *v27;
            }
            else
            {
              _invalid_parameter_noinfo();
              v31 = 0;
            }
            if ( v26 == *(_DWORD *)(v31 + 24) )
              _invalid_parameter_noinfo();
            v32 = *(_DWORD *)(v26 + 16);
            v33 = *(void **)(v32 + 284);
            if ( v33 )
            {
              sub_442820(*(_DWORD **)(v32 + 284));
              operator delete(v33);
            }
            if ( v27 )
            {
              v34 = *v27;
            }
            else
            {
              _invalid_parameter_noinfo();
              v34 = 0;
            }
            if ( v26 == *(_DWORD *)(v34 + 24) )
              _invalid_parameter_noinfo();
            *(_DWORD *)(*(_DWORD *)(v26 + 16) + 284) = 0;
          }
          if ( v27 )
          {
            v35 = *v27;
          }
          else
          {
            _invalid_parameter_noinfo();
            v35 = 0;
          }
          if ( v26 == *(_DWORD *)(v35 + 24) )
            _invalid_parameter_noinfo();
          if ( *(_DWORD *)(v26 + 16) )
          {
            if ( v27 )
            {
              v36 = *v27;
            }
            else
            {
              _invalid_parameter_noinfo();
              v36 = 0;
            }
            if ( v26 == *(_DWORD *)(v36 + 24) )
              _invalid_parameter_noinfo();
            operator delete(*(void **)(v26 + 16));
            if ( v27 )
            {
              v37 = *v27;
            }
            else
            {
              _invalid_parameter_noinfo();
              v37 = 0;
            }
            if ( v26 == *(_DWORD *)(v37 + 24) )
              _invalid_parameter_noinfo();
            *(_DWORD *)(v26 + 16) = 0;
          }
          if ( v27 )
            v27 = (_DWORD *)*v27;
          else
            _invalid_parameter_noinfo();
          if ( v26 == v27[6] )
            _invalid_parameter_noinfo();
          v52 = *(_DWORD *)(v26 + 12);
          if ( v52 != -1 )
          {
            v38 = v49;
            sub_412FA0(v49, &v65, &v52);
            v39 = v65;
            v40 = v68;
            v41 = v67;
            v42 = v65;
            v55 = v65;
            v56 = v66;
            while ( 1 )
            {
              if ( !v42 || v42 != v41 )
                _invalid_parameter_noinfo();
              if ( v56 == v40 )
                break;
              sub_409780(&v55);
              v42 = v55;
            }
            sub_40B370(v38, &v79, v39, v66, v41, v40);
            goto LABEL_99;
          }
          break;
        }
        sub_409780(&k);
        v26 = v54;
      }
      if ( v48 != -1 )
      {
        sub_412FA0(v50, &v73, &v48);
        v43 = v73;
        v44 = v74;
        v45 = v76;
        v46 = v75;
        v47 = v73;
        v57 = v73;
        v58 = v74;
        while ( 1 )
        {
          if ( !v47 || v47 != v46 )
            _invalid_parameter_noinfo();
          if ( v58 == v45 )
            break;
          sub_409780(&v57);
          v47 = v57;
        }
        sub_40B370(v50, &v78, v43, v44, v46, v45);
        v1 = v50;
        continue;
      }
      break;
    }
  }
}

//----- (00419F30) --------------------------------------------------------
_DWORD *__thiscall sub_419F30(_DWORD *this)
{
  int v1; // eax
  int v2; // ecx
  int v3; // ebx
  int v4; // edi
  int *v5; // ebp
  int *v6; // esi
  int *v7; // esi
  int *v8; // eax
  int v9; // eax
  int v10; // edx
  int v11; // edi
  _DWORD *v12; // esi
  int *v13; // ebp
  int v14; // ebx
  _DWORD *v15; // eax
  int v16; // eax
  int v17; // eax
  _DWORD **v18; // edx
  void *v19; // ebx
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // eax
  int v24; // ebx
  int v25; // ebp
  int v26; // esi
  int v27; // edi
  int v28; // eax
  int v29; // edi
  _DWORD *v30; // esi
  _DWORD *v31; // ebp
  int v32; // ebx
  _DWORD *v33; // eax
  int v34; // eax
  int v35; // eax
  int v36; // eax
  void *v37; // ebx
  int v38; // eax
  int v39; // eax
  int v40; // eax
  int v41; // eax
  int v42; // ebx
  int v43; // ebp
  int v44; // esi
  int v45; // edi
  int v46; // eax
  int v47; // eax
  int v48; // ecx
  int *v49; // esi
  int v50; // ebp
  int v51; // ebx
  int *v52; // edi
  int *v53; // edi
  int *v54; // eax
  int v55; // eax
  _DWORD *v56; // ebx
  void *v57; // edi
  int v58; // eax
  int v59; // ecx
  int *v60; // esi
  int v61; // ebp
  int v62; // ebx
  int *v63; // edi
  int *v64; // edi
  int *v65; // eax
  int v66; // eax
  _DWORD **v67; // ebx
  void *v68; // edi
  int v69; // ebp
  int v70; // edi
  int v71; // ebx
  int v72; // eax
  _DWORD *result; // eax
  int v74; // [esp+10h] [ebp-78h] BYREF
  _DWORD *v75; // [esp+14h] [ebp-74h]
  int v76; // [esp+18h] [ebp-70h] BYREF
  int v77; // [esp+1Ch] [ebp-6Ch]
  _DWORD *i; // [esp+20h] [ebp-68h] BYREF
  int v79; // [esp+24h] [ebp-64h]
  int v80; // [esp+28h] [ebp-60h] BYREF
  int v81; // [esp+2Ch] [ebp-5Ch]
  _DWORD *j; // [esp+30h] [ebp-58h] BYREF
  int v83; // [esp+34h] [ebp-54h]
  int v84; // [esp+38h] [ebp-50h] BYREF
  int v85; // [esp+3Ch] [ebp-4Ch]
  int v86; // [esp+40h] [ebp-48h] BYREF
  int v87; // [esp+44h] [ebp-44h]
  int v88; // [esp+48h] [ebp-40h]
  int v89; // [esp+4Ch] [ebp-3Ch]
  int v90[2]; // [esp+50h] [ebp-38h] BYREF
  int v91[2]; // [esp+58h] [ebp-30h] BYREF
  int v92[2]; // [esp+60h] [ebp-28h] BYREF
  int v93; // [esp+68h] [ebp-20h] BYREF
  int v94; // [esp+6Ch] [ebp-1Ch]
  int v95; // [esp+70h] [ebp-18h]
  int v96; // [esp+74h] [ebp-14h]
  int v97; // [esp+78h] [ebp-10h] BYREF
  int v98; // [esp+7Ch] [ebp-Ch]
  int v99; // [esp+80h] [ebp-8h]
  int v100; // [esp+84h] [ebp-4h]

  v1 = this[239];
  v75 = this;
  if ( v1 != -1 )
  {
    v2 = this[19];
    v77 = v2;
    if ( v2 )
    {
      v74 = v1;
      if ( v1 < v2 )
      {
        do
        {
          v3 = v75[18];
          v4 = v75[12];
          v5 = v75 + 12;
          v6 = sub_4132D0(v75 + 12, &v86, &v74);
          if ( !*v6 || *v6 != v4 )
            _invalid_parameter_noinfo();
          if ( v6[1] != v3 )
          {
            v7 = sub_4132D0(v5, v90, &v74);
            v8 = (int *)*v7;
            if ( *v7 || (_invalid_parameter_noinfo(), (v8 = (int *)*v7) != 0) )
              v9 = *v8;
            else
              v9 = 0;
            if ( v7[1] == *(_DWORD *)(v9 + 24) )
              _invalid_parameter_noinfo();
            v10 = v7[1];
            if ( *(_DWORD *)(v10 + 16) )
              operator delete(*(void **)(v10 + 16));
          }
          sub_4192F0(v5, &v74);
LABEL_17:
          v11 = *(_DWORD *)v75[26];
          v12 = (_DWORD *)v75[20];
          v13 = v75 + 20;
          v79 = v11;
          for ( i = v12; ; v12 = i )
          {
            v14 = v13[6];
            if ( !v12 || v12 != (_DWORD *)*v13 )
              _invalid_parameter_noinfo();
            if ( v11 == v14 )
              break;
            if ( v12 )
            {
              v15 = (_DWORD *)*v12;
            }
            else
            {
              _invalid_parameter_noinfo();
              v15 = 0;
            }
            if ( v11 == v15[6] )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(*(_DWORD *)(v11 + 16) + 40) == v74 )
            {
              if ( v12 )
              {
                v16 = *v12;
              }
              else
              {
                _invalid_parameter_noinfo();
                v16 = 0;
              }
              if ( v11 == *(_DWORD *)(v16 + 24) )
                _invalid_parameter_noinfo();
              if ( **(_DWORD **)(v11 + 16) )
              {
                if ( v12 )
                {
                  v17 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v17 = 0;
                }
                if ( v11 == *(_DWORD *)(v17 + 24) )
                  _invalid_parameter_noinfo();
                v18 = *(_DWORD ***)(v11 + 16);
                v19 = *v18;
                if ( *v18 )
                {
                  sub_4470C0(*v18);
                  operator delete(v19);
                }
                if ( v12 )
                {
                  v20 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v20 = 0;
                }
                if ( v11 == *(_DWORD *)(v20 + 24) )
                  _invalid_parameter_noinfo();
                **(_DWORD **)(v11 + 16) = 0;
              }
              if ( v12 )
              {
                v21 = *v12;
              }
              else
              {
                _invalid_parameter_noinfo();
                v21 = 0;
              }
              if ( v11 == *(_DWORD *)(v21 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(v11 + 16) )
              {
                if ( v12 )
                {
                  v22 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v22 = 0;
                }
                if ( v11 == *(_DWORD *)(v22 + 24) )
                  _invalid_parameter_noinfo();
                operator delete(*(void **)(v11 + 16));
                if ( v12 )
                {
                  v23 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v23 = 0;
                }
                if ( v11 == *(_DWORD *)(v23 + 24) )
                  _invalid_parameter_noinfo();
                *(_DWORD *)(v11 + 16) = 0;
              }
              if ( v12 )
                v12 = (_DWORD *)*v12;
              else
                _invalid_parameter_noinfo();
              if ( v11 == v12[6] )
                _invalid_parameter_noinfo();
              v76 = *(_DWORD *)(v11 + 12);
              if ( v76 != -1 )
              {
                sub_412FA0(v13, &v93, &v76);
                v24 = v93;
                v25 = v94;
                v26 = v96;
                v27 = v95;
                v28 = v93;
                v80 = v93;
                v81 = v94;
                while ( 1 )
                {
                  if ( !v28 || v28 != v27 )
                    _invalid_parameter_noinfo();
                  if ( v81 == v26 )
                    break;
                  sub_409780(&v80);
                  v28 = v80;
                }
                sub_40B370(v75 + 20, v91, v24, v25, v27, v26);
                goto LABEL_17;
              }
              break;
            }
            sub_409780(&i);
            v11 = v79;
          }
LABEL_78:
          v29 = *(_DWORD *)v75[34];
          v30 = (_DWORD *)v75[28];
          v31 = v75 + 28;
          v83 = v29;
          for ( j = v30; ; v30 = j )
          {
            v32 = v31[6];
            if ( !v30 || v30 != (_DWORD *)*v31 )
              _invalid_parameter_noinfo();
            if ( v29 == v32 )
              break;
            if ( v30 )
            {
              v33 = (_DWORD *)*v30;
            }
            else
            {
              _invalid_parameter_noinfo();
              v33 = 0;
            }
            if ( v29 == v33[6] )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(*(_DWORD *)(v29 + 16) + 12) == v74 )
            {
              if ( v30 )
              {
                v34 = *v30;
              }
              else
              {
                _invalid_parameter_noinfo();
                v34 = 0;
              }
              if ( v29 == *(_DWORD *)(v34 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(*(_DWORD *)(v29 + 16) + 284) )
              {
                if ( v30 )
                {
                  v35 = *v30;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v35 = 0;
                }
                if ( v29 == *(_DWORD *)(v35 + 24) )
                  _invalid_parameter_noinfo();
                v36 = *(_DWORD *)(v29 + 16);
                v37 = *(void **)(v36 + 284);
                if ( v37 )
                {
                  sub_442820(*(_DWORD **)(v36 + 284));
                  operator delete(v37);
                }
                if ( v30 )
                {
                  v38 = *v30;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v38 = 0;
                }
                if ( v29 == *(_DWORD *)(v38 + 24) )
                  _invalid_parameter_noinfo();
                *(_DWORD *)(*(_DWORD *)(v29 + 16) + 284) = 0;
              }
              if ( v30 )
              {
                v39 = *v30;
              }
              else
              {
                _invalid_parameter_noinfo();
                v39 = 0;
              }
              if ( v29 == *(_DWORD *)(v39 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(v29 + 16) )
              {
                if ( v30 )
                {
                  v40 = *v30;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v40 = 0;
                }
                if ( v29 == *(_DWORD *)(v40 + 24) )
                  _invalid_parameter_noinfo();
                operator delete(*(void **)(v29 + 16));
                if ( v30 )
                {
                  v41 = *v30;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v41 = 0;
                }
                if ( v29 == *(_DWORD *)(v41 + 24) )
                  _invalid_parameter_noinfo();
                *(_DWORD *)(v29 + 16) = 0;
              }
              if ( v30 )
                v30 = (_DWORD *)*v30;
              else
                _invalid_parameter_noinfo();
              if ( v29 == v30[6] )
                _invalid_parameter_noinfo();
              v76 = *(_DWORD *)(v29 + 12);
              if ( v76 != -1 )
              {
                sub_412FA0(v75 + 28, &v97, &v76);
                v42 = v97;
                v43 = v98;
                v44 = v100;
                v45 = v99;
                v46 = v97;
                v84 = v97;
                v85 = v98;
                while ( 1 )
                {
                  if ( !v46 || v46 != v45 )
                    _invalid_parameter_noinfo();
                  if ( v85 == v44 )
                    break;
                  sub_409780(&v84);
                  v46 = v84;
                }
                sub_40B370(v75 + 28, v92, v42, v43, v45, v44);
                goto LABEL_78;
              }
              break;
            }
            sub_409780(&j);
            v29 = v83;
          }
          ++v74;
        }
        while ( v74 < v77 );
      }
    }
  }
  v47 = v75[241];
  if ( v47 != -1 )
  {
    v48 = v75[51];
    v77 = v48;
    if ( v48 )
    {
      v74 = v47;
      if ( v47 < v48 )
      {
        v49 = v75 + 44;
        do
        {
          v50 = v49[6];
          v51 = *v49;
          v52 = sub_4132D0(v49, v92, &v74);
          if ( !*v52 || *v52 != v51 )
            _invalid_parameter_noinfo();
          if ( v52[1] != v50 )
          {
            v53 = sub_4132D0(v49, v91, &v74);
            v54 = (int *)*v53;
            if ( *v53 || (_invalid_parameter_noinfo(), (v54 = (int *)*v53) != 0) )
              v55 = *v54;
            else
              v55 = 0;
            if ( v53[1] == *(_DWORD *)(v55 + 24) )
              _invalid_parameter_noinfo();
            v56 = *(_DWORD **)(v53[1] + 16);
            v57 = (void *)v56[71];
            if ( v57 )
            {
              sub_442820((_DWORD *)v56[71]);
              operator delete(v57);
              v56[71] = 0;
            }
            operator delete(v56);
          }
          sub_4192F0(v49, &v74);
          ++v74;
        }
        while ( v74 < v77 );
      }
    }
  }
  v58 = v75[240];
  if ( v58 != -1 )
  {
    v59 = v75[43];
    v77 = v59;
    if ( v59 )
    {
      v74 = v58;
      if ( v58 < v59 )
      {
        v60 = v75 + 36;
        do
        {
          v61 = v60[6];
          v62 = *v60;
          v63 = sub_4132D0(v60, v92, &v74);
          if ( !*v63 || *v63 != v62 )
            _invalid_parameter_noinfo();
          if ( v63[1] != v61 )
          {
            v64 = sub_4132D0(v60, v91, &v74);
            v65 = (int *)*v64;
            if ( *v64 || (_invalid_parameter_noinfo(), (v65 = (int *)*v64) != 0) )
              v66 = *v65;
            else
              v66 = 0;
            if ( v64[1] == *(_DWORD *)(v66 + 24) )
              _invalid_parameter_noinfo();
            v67 = *(_DWORD ***)(v64[1] + 16);
            v68 = *v67;
            if ( *v67 )
            {
              sub_4470C0(*v67);
              operator delete(v68);
              *v67 = 0;
            }
            operator delete(v67);
          }
          sub_412FA0(v60, &v86, &v74);
          v69 = v86;
          v70 = v89;
          v71 = v88;
          v72 = v86;
          v84 = v86;
          v85 = v87;
          while ( 1 )
          {
            if ( !v72 || v72 != v71 )
              _invalid_parameter_noinfo();
            if ( v85 == v70 )
              break;
            sub_409780(&v84);
            v72 = v84;
          }
          sub_40B370(v60, v90, v69, v87, v71, v70);
          ++v74;
        }
        while ( v74 < v77 );
      }
    }
  }
  result = v75;
  v75[241] = -1;
  result[240] = -1;
  result[239] = -1;
  result[10] = -1;
  result[9] = -1;
  result[8] = -1;
  return result;
}

//----- (0041A6A0) --------------------------------------------------------
int __thiscall sub_41A6A0(int *this, int a2, int a3, int a4)
{
  int v4; // ecx
  int v5; // ebx
  int *v6; // esi
  int *v7; // edi
  int *v8; // edi
  int *v9; // eax
  int v10; // eax
  int v11; // edi
  _DWORD *v12; // esi
  int v13; // ebx
  _DWORD *v14; // eax
  int v15; // eax
  int v16; // eax
  _DWORD **v17; // eax
  void *v18; // ebx
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // esi
  int v24; // eax
  int v25; // edi
  int v26; // ebx
  int result; // eax
  int v28; // ecx
  int *v29; // esi
  int v30; // ebx
  int *v31; // edi
  int *v32; // edi
  int *v33; // eax
  int v34; // eax
  _DWORD *v35; // ebx
  void *v36; // edi
  int *v37; // esi
  int v38; // ebx
  int *v39; // edi
  int *v40; // edi
  int *v41; // eax
  int v42; // eax
  _DWORD **v43; // ebx
  void *v44; // edi
  int v45; // eax
  int v46; // edi
  int v47; // ebx
  int v48; // [esp+10h] [ebp-50h] BYREF
  int *v49; // [esp+14h] [ebp-4Ch]
  int v50; // [esp+18h] [ebp-48h]
  int v51; // [esp+1Ch] [ebp-44h] BYREF
  _DWORD *i; // [esp+20h] [ebp-40h] BYREF
  int v53; // [esp+24h] [ebp-3Ch]
  int v54; // [esp+28h] [ebp-38h] BYREF
  int v55; // [esp+2Ch] [ebp-34h]
  int v56; // [esp+34h] [ebp-2Ch]
  int v57[2]; // [esp+38h] [ebp-28h] BYREF
  int v58[2]; // [esp+40h] [ebp-20h] BYREF
  int v59[2]; // [esp+48h] [ebp-18h] BYREF
  int v60; // [esp+50h] [ebp-10h] BYREF
  int v61; // [esp+54h] [ebp-Ch]
  int v62; // [esp+58h] [ebp-8h]
  int v63; // [esp+5Ch] [ebp-4h]

  v49 = this;
  if ( a2 != -1 )
  {
    v4 = this[19];
    v50 = v4;
    if ( v4 )
    {
      v48 = a2;
      if ( a2 < v4 )
      {
        do
        {
          v5 = v49[12];
          v6 = v49 + 12;
          v56 = v49[18];
          v7 = sub_4132D0(v49 + 12, v57, &v48);
          if ( !*v7 || *v7 != v5 )
            _invalid_parameter_noinfo();
          if ( v7[1] != v56 )
          {
            v8 = sub_4132D0(v6, v58, &v48);
            v9 = (int *)*v8;
            if ( *v8 || (_invalid_parameter_noinfo(), (v9 = (int *)*v8) != 0) )
              v10 = *v9;
            else
              v10 = 0;
            if ( v8[1] == *(_DWORD *)(v10 + 24) )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(v8[1] + 16) )
              operator delete(*(void **)(v8[1] + 16));
          }
          sub_4192F0(v6, &v48);
LABEL_17:
          v11 = *(_DWORD *)v49[26];
          v12 = (_DWORD *)v49[20];
          v53 = v11;
          for ( i = v12; ; v12 = i )
          {
            v13 = v49[26];
            if ( !v12 || v12 != (_DWORD *)v49[20] )
              _invalid_parameter_noinfo();
            if ( v11 == v13 )
              break;
            if ( v12 )
            {
              v14 = (_DWORD *)*v12;
            }
            else
            {
              _invalid_parameter_noinfo();
              v14 = 0;
            }
            if ( v11 == v14[6] )
              _invalid_parameter_noinfo();
            if ( *(_DWORD *)(*(_DWORD *)(v11 + 16) + 40) == v48 )
            {
              if ( v12 )
              {
                v15 = *v12;
              }
              else
              {
                _invalid_parameter_noinfo();
                v15 = 0;
              }
              if ( v11 == *(_DWORD *)(v15 + 24) )
                _invalid_parameter_noinfo();
              if ( **(_DWORD **)(v11 + 16) )
              {
                if ( v12 )
                {
                  v16 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v16 = 0;
                }
                if ( v11 == *(_DWORD *)(v16 + 24) )
                  _invalid_parameter_noinfo();
                v17 = *(_DWORD ***)(v11 + 16);
                v18 = *v17;
                if ( *v17 )
                {
                  sub_4470C0(*v17);
                  operator delete(v18);
                }
                if ( v12 )
                {
                  v19 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v19 = 0;
                }
                if ( v11 == *(_DWORD *)(v19 + 24) )
                  _invalid_parameter_noinfo();
                **(_DWORD **)(v11 + 16) = 0;
              }
              if ( v12 )
              {
                v20 = *v12;
              }
              else
              {
                _invalid_parameter_noinfo();
                v20 = 0;
              }
              if ( v11 == *(_DWORD *)(v20 + 24) )
                _invalid_parameter_noinfo();
              if ( *(_DWORD *)(v11 + 16) )
              {
                if ( v12 )
                {
                  v21 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v21 = 0;
                }
                if ( v11 == *(_DWORD *)(v21 + 24) )
                  _invalid_parameter_noinfo();
                operator delete(*(void **)(v11 + 16));
                if ( v12 )
                {
                  v22 = *v12;
                }
                else
                {
                  _invalid_parameter_noinfo();
                  v22 = 0;
                }
                if ( v11 == *(_DWORD *)(v22 + 24) )
                  _invalid_parameter_noinfo();
                *(_DWORD *)(v11 + 16) = 0;
              }
              if ( v12 )
                v12 = (_DWORD *)*v12;
              else
                _invalid_parameter_noinfo();
              if ( v11 == v12[6] )
                _invalid_parameter_noinfo();
              v51 = *(_DWORD *)(v11 + 12);
              if ( v51 != -1 )
              {
                v23 = (int)v49;
                sub_412FA0(v49 + 20, &v60, &v51);
                v24 = v60;
                v25 = v63;
                v26 = v62;
                v54 = v60;
                v55 = v61;
                while ( 1 )
                {
                  if ( !v24 || v24 != v26 )
                    _invalid_parameter_noinfo();
                  if ( v55 == v25 )
                    break;
                  sub_409780(&v54);
                  v24 = v54;
                }
                sub_40B370((int *)(v23 + 80), v59, v60, v61, v26, v25);
                goto LABEL_17;
              }
              break;
            }
            sub_409780(&i);
            v11 = v53;
          }
          ++v48;
        }
        while ( v48 < v50 );
      }
    }
  }
  result = a4;
  if ( a4 != -1 )
  {
    v28 = v49[51];
    v51 = v28;
    if ( v28 )
    {
      v48 = a4;
      if ( a4 < v28 )
      {
        v29 = v49 + 44;
        do
        {
          v30 = *v29;
          v56 = v29[6];
          v31 = sub_4132D0(v29, v59, &v48);
          if ( !*v31 || *v31 != v30 )
            _invalid_parameter_noinfo();
          if ( v31[1] != v56 )
          {
            v32 = sub_4132D0(v29, v58, &v48);
            v33 = (int *)*v32;
            if ( *v32 || (_invalid_parameter_noinfo(), (v33 = (int *)*v32) != 0) )
              v34 = *v33;
            else
              v34 = 0;
            if ( v32[1] == *(_DWORD *)(v34 + 24) )
              _invalid_parameter_noinfo();
            v35 = *(_DWORD **)(v32[1] + 16);
            v36 = (void *)v35[71];
            if ( v36 )
            {
              sub_442820((_DWORD *)v35[71]);
              operator delete(v36);
              v35[71] = 0;
            }
            operator delete(v35);
          }
          sub_4192F0(v29, &v48);
          result = ++v48;
        }
        while ( v48 < v51 );
      }
    }
  }
  if ( a3 != -1 )
  {
    result = v49[43];
    v51 = result;
    if ( result )
    {
      v48 = a3;
      if ( a3 < result )
      {
        v37 = v49 + 36;
        do
        {
          v38 = *v37;
          v56 = v37[6];
          v39 = sub_4132D0(v37, v59, &v48);
          if ( !*v39 || *v39 != v38 )
            _invalid_parameter_noinfo();
          if ( v39[1] != v56 )
          {
            v40 = sub_4132D0(v37, v58, &v48);
            v41 = (int *)*v40;
            if ( *v40 || (_invalid_parameter_noinfo(), (v41 = (int *)*v40) != 0) )
              v42 = *v41;
            else
              v42 = 0;
            if ( v40[1] == *(_DWORD *)(v42 + 24) )
              _invalid_parameter_noinfo();
            v43 = *(_DWORD ***)(v40[1] + 16);
            v44 = *v43;
            if ( *v43 )
            {
              sub_4470C0(*v43);
              operator delete(v44);
              *v43 = 0;
            }
            operator delete(v43);
          }
          sub_412FA0(v37, &v60, &v48);
          v45 = v60;
          v46 = v63;
          v47 = v62;
          v54 = v60;
          v55 = v61;
          while ( 1 )
          {
            if ( !v45 || v45 != v47 )
              _invalid_parameter_noinfo();
            if ( v55 == v46 )
              break;
            sub_409780(&v54);
            v45 = v54;
          }
          sub_40B370(v37, v57, v60, v61, v47, v46);
          result = ++v48;
        }
        while ( v48 < v51 );
      }
    }
  }
  return result;
}

//----- (0041ABE0) --------------------------------------------------------
void *__thiscall sub_41ABE0(int this)
{
  int *v2; // eax
  int v3; // edi
  int v4; // ebx
  void *result; // eax
  bool v6; // zf
  struct tagPOINT Point; // [esp+Ch] [ebp-20h] BYREF
  int v8; // [esp+14h] [ebp-18h] BYREF
  RECT Rect; // [esp+1Ch] [ebp-10h] BYREF

  GetCursorPos(&Point);
  ScreenToClient(hWnd, &Point);
  sub_442B50(*(_DWORD **)(this + 4), Point.x, Point.y, -1);
  v2 = sub_442BD0(*(_DWORD **)(this + 4), &v8);
  v3 = *v2;
  v4 = v2[1];
  result = dword_4C0874;
  if ( *((_DWORD *)dword_4C0874 + 76) )
  {
    sub_450330(0, 0, 1280, 720);
    sub_450510(0, 0, *(_DWORD *)(this + 536));
    if ( (unsigned int)(v3 - 1036) > 0xD9 || (unsigned int)(v4 - 626) > 0x2D )
    {
      sub_450330(1036, 626, 1241, 671);
      sub_450510(1036, 626, *(_DWORD *)(this + 540));
    }
    else
    {
      sub_450330(1036, 626, 1241, 671);
      sub_450510(1036, 581, *(_DWORD *)(this + 540));
    }
    Rect.left = 0;
    v6 = *(_DWORD *)(this + 20) == 0;
    Rect.top = (int)(*((float *)dword_4C0874 + 60) * 0.0 + *((float *)dword_4C0874 + 62));
    Rect.right = *((_DWORD *)dword_4C0874 + 57);
    Rect.bottom = *((_DWORD *)dword_4C0874 + 58);
    if ( v6 )
      InvalidateRect(hWnd, &Rect, 0);
    else
      InvalidateRect(hWnd, 0, 0);
    return (void *)UpdateWindow(hWnd);
  }
  return result;
}

//----- (0041AD50) --------------------------------------------------------
HWND __stdcall sub_41AD50(HWND hWndParent, int X, int Y, int a4, int a5, int a6)
{
  HINSTANCE WindowLongA; // eax
  HWND Window; // esi

  WindowLongA = (HINSTANCE)GetWindowLongA(hWnd, -6);
  Window = CreateWindowExA(
             0x200u,
             "EDIT",
             Source,
             a6 != 0 ? 1342247040 : 1344344192,
             X,
             Y,
             a4 - X,
             a5 - Y,
             hWndParent,
             (HMENU)1,
             WindowLongA,
             0);
  SendMessageA(Window, 0xC5u, 0xFEu, 0);
  return Window;
}

//----- (0041ADD0) --------------------------------------------------------
int __thiscall sub_41ADD0(_DWORD *this, int a2)
{
  if ( a2 )
    return this[3];
  else
    return this[2];
}

//----- (0041ADF0) --------------------------------------------------------
BOOL __thiscall sub_41ADF0(int this)
{
  double v2; // st7
  int v3; // ecx
  HFONT FontA; // eax
  int v5; // ebp
  int v6; // edi
  int v7; // ecx
  int v8; // eax
  HWND v9; // eax
  int v10; // ebp
  int v11; // ebx
  int v12; // ecx
  int v13; // eax
  HWND v14; // eax
  BOOL result; // eax
  int v16; // [esp-10h] [ebp-34h]
  int v17; // [esp-10h] [ebp-34h]
  int v18; // [esp-8h] [ebp-2Ch]
  int v19; // [esp-8h] [ebp-2Ch]

  if ( *(_DWORD *)this )
    DeleteObject(*(HGDIOBJ *)this);
  v2 = 36.0 * *((float *)dword_4C0874 + 60);
  v3 = (int)(*((float *)dword_4C0874 + 59) * 36.0);
  if ( (double)v3 > v2 )
    v3 = (int)v2;
  if ( v3 < 1 )
    v3 = 1;
  FontA = CreateFontA(v3, 0, 0, 0, 400, 0, 0, 0, 0x86u, 0, 0, 2u, 0x31u, &pszFaceName);
  *(_DWORD *)this = FontA;
  SendMessageA(*(HWND *)(this + 8), 0x30u, (WPARAM)FontA, 0);
  SendMessageA(*(HWND *)(this + 12), 0x30u, *(_DWORD *)this, 0);
  v5 = 466;
  v6 = 873;
  v7 = 356;
  v8 = 399;
  if ( !*((_DWORD *)dword_4C0874 + 3) )
  {
    v5 = (int)(*((float *)dword_4C0874 + 59) * 466.0 + *((float *)dword_4C0874 + 61));
    v6 = (int)(*((float *)dword_4C0874 + 59) * 873.0 + *((float *)dword_4C0874 + 61));
    v8 = (int)(*((float *)dword_4C0874 + 60) * 399.0 + *((float *)dword_4C0874 + 62));
    v7 = (int)(*((float *)dword_4C0874 + 60) * 356.0 + *((float *)dword_4C0874 + 62));
  }
  v18 = v8 - v7;
  v16 = v7;
  v9 = (HWND)sub_41ADD0((_DWORD *)this, 0);
  SetWindowPos(v9, 0, v5, v16, v6 - v5, v18, 0x40u);
  v10 = 466;
  v11 = 873;
  v12 = 456;
  v13 = 499;
  if ( !*((_DWORD *)dword_4C0874 + 3) )
  {
    v10 = (int)(*((float *)dword_4C0874 + 59) * 466.0 + *((float *)dword_4C0874 + 61));
    v11 = (int)(*((float *)dword_4C0874 + 59) * 873.0 + *((float *)dword_4C0874 + 61));
    v13 = (int)(*((float *)dword_4C0874 + 60) * 499.0 + *((float *)dword_4C0874 + 62));
    v12 = (int)(*((float *)dword_4C0874 + 60) * 456.0 + *((float *)dword_4C0874 + 62));
  }
  v19 = v13 - v12;
  v17 = v12;
  v14 = (HWND)sub_41ADD0((_DWORD *)this, 1);
  result = SetWindowPos(v14, 0, v10, v17, v11 - v10, v19, 0x40u);
  *(_DWORD *)(this + 20) = 1;
  return result;
}

//----- (0041AFF0) --------------------------------------------------------
BOOL sub_41AFF0()
{
  LONG v0; // esi
  LONG v1; // edi
  HDC DC; // eax
  HDC CompatibleDC; // ebx
  HDC WindowDC; // eax
  int *v5; // eax
  int v6; // ebx
  int v7; // ebp
  double v8; // st6
  double v9; // st5
  double v10; // st7
  int v11; // eax
  double v12; // st6
  double v13; // st5
  float *v14; // esi
  int v15; // eax
  int v16; // ebp
  int v17; // eax
  int v18; // esi
  int v19; // ebx
  int v20; // edx
  _BYTE *v21; // ecx
  _BYTE *v22; // eax
  int i; // edi
  char v24; // dl
  _BYTE *v25; // ecx
  _BYTE *v26; // eax
  int v27; // edi
  int v28; // eax
  int v30; // [esp-8h] [ebp-ACh]
  int v31; // [esp-4h] [ebp-A8h]
  int v32; // [esp+10h] [ebp-94h]
  float v33; // [esp+10h] [ebp-94h]
  float v34; // [esp+10h] [ebp-94h]
  unsigned int v35; // [esp+14h] [ebp-90h]
  int v36; // [esp+14h] [ebp-90h]
  float v37; // [esp+18h] [ebp-8Ch]
  float v38; // [esp+18h] [ebp-8Ch]
  int v39; // [esp+1Ch] [ebp-88h]
  int v40; // [esp+1Ch] [ebp-88h]
  HBITMAP ho; // [esp+20h] [ebp-84h]
  int v42; // [esp+24h] [ebp-80h]
  int v43; // [esp+28h] [ebp-7Ch]
  int v44; // [esp+34h] [ebp-70h]
  HDC hdc; // [esp+38h] [ebp-6Ch]
  struct tagRECT Rect; // [esp+3Ch] [ebp-68h] BYREF
  void *ppvBits; // [esp+4Ch] [ebp-58h] BYREF
  char pv[8]; // [esp+50h] [ebp-54h] BYREF
  int v49; // [esp+58h] [ebp-4Ch]
  int v50; // [esp+5Ch] [ebp-48h]
  void *Src; // [esp+64h] [ebp-40h]
  BITMAPINFO pbmi; // [esp+68h] [ebp-3Ch] BYREF
  int v53[4]; // [esp+94h] [ebp-10h] BYREF

  GetWindowRect(hWnd, &Rect);
  v0 = Rect.right - Rect.left;
  v1 = Rect.bottom - Rect.top;
  v39 = Rect.right - Rect.left;
  v32 = Rect.bottom - Rect.top;
  DC = GetDC(hWnd);
  CompatibleDC = CreateCompatibleDC(DC);
  pbmi.bmiHeader.biPlanes = 1;
  hdc = CompatibleDC;
  pbmi.bmiHeader.biSize = 40;
  pbmi.bmiHeader.biWidth = v0;
  pbmi.bmiHeader.biHeight = v1;
  pbmi.bmiHeader.biBitCount = 24;
  pbmi.bmiHeader.biCompression = 0;
  ho = CreateDIBSection(0, &pbmi, 0, &ppvBits, 0, 0);
  SelectObject(CompatibleDC, ho);
  WindowDC = GetWindowDC(hWnd);
  BitBlt(CompatibleDC, 0, 0, v0, v1, WindowDC, 0, 0, 0xCC0020u);
  GetObjectA(ho, 24, pv);
  v5 = sub_44D190(dword_4C0878, v53);
  v42 = *v5;
  v43 = v5[1];
  v35 = abs32(v43) + v5[3] - 720;
  v6 = sub_44EC50(v0, v1, 0, 1);
  v44 = v6;
  memcpy((void *)dword_4C24E0[439 * v6], Src, v50 * v49);
  if ( *((_DWORD *)dword_4C0874 + 2) )
  {
    v38 = (float)v32;
    v34 = (float)v39;
    v7 = sub_44EC50(
           (int)(v34 - 2.0 * *((float *)dword_4C0874 + 61)),
           (int)(v38 - *((float *)dword_4C0874 + 62) * 2.0),
           0,
           1);
    v36 = v7;
    sub_450740(v7);
    v12 = v34 - *((float *)dword_4C0874 + 61) * 2.0;
    if ( 1280.0 == v12 && (v13 = v38 - *((float *)dword_4C0874 + 62) * 2.0, 720.0 == v13) )
    {
      sub_450330(0, 0, (int)v12, (int)v13);
      v14 = (float *)dword_4C0874;
      v31 = v6;
      v15 = (int)-*((float *)dword_4C0874 + 62);
    }
    else
    {
      sub_450330(0, -1, (int)v12, (int)(v38 - 2.0 * *((float *)dword_4C0874 + 62)));
      v14 = (float *)dword_4C0874;
      v31 = v6;
      v15 = (int)(-1.0 - *((float *)dword_4C0874 + 62));
    }
    v30 = v15;
    v11 = (int)-v14[61];
  }
  else
  {
    v37 = (float)(int)(v1 - v35);
    v33 = (float)(int)(v0 - 2 * abs32(v42));
    v7 = sub_44EC50(
           (int)(v33 - 2.0 * *((float *)dword_4C0874 + 61)),
           (int)(v37 - *((float *)dword_4C0874 + 62) * 2.0),
           0,
           1);
    v36 = v7;
    sub_450740(v7);
    v8 = v33 - *((float *)dword_4C0874 + 61) * 2.0;
    if ( 1280.0 == v8 && (v9 = v37 - *((float *)dword_4C0874 + 62) * 2.0, 720.0 == v9) )
    {
      sub_450330(0, 0, (int)v8, (int)v9);
      v10 = (double)v43;
    }
    else
    {
      sub_450330(0, -1, (int)v8, (int)(v37 - 2.0 * *((float *)dword_4C0874 + 62)));
      v10 = (double)(v43 - 1);
    }
    v31 = v6;
    v30 = (int)(v10 - *((float *)dword_4C0874 + 62));
    v11 = (int)((double)v42 - *((float *)dword_4C0874 + 61));
  }
  sub_450510(v11, v30, v31);
  sub_450740(0);
  v16 = 439 * v7;
  v17 = sub_44EC50(dword_4C24EC[v16], dword_4C24F0[v16], 1, 1);
  v18 = 439 * v17;
  v19 = 0;
  v40 = v17;
  if ( dword_4C24F0[439 * v17] > 0 )
  {
    v20 = dword_4C24EC[439 * v17];
    do
    {
      v21 = (_BYTE *)(dword_4C24E0[v16] + v19 * dword_4C24E8[v16]);
      v22 = (_BYTE *)(dword_4C24E0[v18] + v19 * dword_4C24E8[v18]);
      for ( i = 0; i < v20; v21 = v25 + 2 )
      {
        *v22 = 0;
        v22[1] = *v21;
        v24 = v21[1];
        v25 = v21 + 1;
        v26 = v22 + 2;
        *v26++ = v24;
        *v26 = v25[1];
        v20 = dword_4C24EC[v18];
        ++i;
        v22 = v26 + 1;
      }
      ++v19;
    }
    while ( v19 < dword_4C24F0[v18] );
  }
  v27 = sub_44EC50(1280, 720, 1, 1);
  sub_44E610(
    (char *)dword_4C24E0[v18],
    (char *)dword_4C24E0[439 * v27],
    dword_4C24E8[v18],
    dword_4C24E8[439 * v27],
    dword_4C24EC[v18],
    dword_4C24F0[v18],
    10000 * dword_4C24EC[439 * v27] / dword_4C24EC[v18],
    10000 * dword_4C24F0[439 * v27] / dword_4C24F0[v18]);
  sub_44D910(v44);
  sub_44D910(v36);
  sub_44D910(v40);
  v28 = sub_44C510(*((int **)dword_4C0874 + 63), v18 * 4, v27, 0);
  sub_426070((int)dword_4C08E0, v28);
  sub_44D910(v27);
  DeleteDC(hdc);
  return DeleteObject(ho);
}
// 4C24E0:  int dword_4C24E0[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 41AFF0:  char pv[8]
// 41AFF0:  int var_10[4]

//----- (0041B520) --------------------------------------------------------
BOOL __thiscall sub_41B520(int this)
{
  int v2; // ebp
  int v3; // ebx
  int v4; // edx
  int v5; // eax
  int v6; // ebx
  int v7; // ebp
  int v8; // edx
  int v9; // eax
  double v10; // st7
  int v11; // ecx
  HFONT FontA; // eax
  HWND v13; // edx
  HWND v14; // ecx
  _DWORD *v15; // eax
  _DWORD *v16; // edi
  BOOL result; // eax
  CHAR v18[256]; // [esp+28h] [ebp-210h] BYREF
  CHAR String[256]; // [esp+128h] [ebp-110h] BYREF
  int v20; // [esp+234h] [ebp-4h]

  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 544) = -1;
  *(_DWORD *)(this + 536) = -1;
  *(_DWORD *)(this + 540) = -1;
  *(_DWORD *)(this + 536) = sub_450040("system\\playerinput", 0, 0);
  *(_DWORD *)(this + 540) = sub_450040("system\\playerinput_chip", 0, 0);
  v2 = 466;
  v3 = 873;
  v4 = 356;
  v5 = 399;
  if ( *((_DWORD *)dword_4C0874 + 2) )
  {
    v2 = (int)(*((float *)dword_4C0874 + 59) * 466.0 + *((float *)dword_4C0874 + 61));
    v3 = (int)(*((float *)dword_4C0874 + 59) * 873.0 + *((float *)dword_4C0874 + 61));
    v5 = (int)(*((float *)dword_4C0874 + 60) * 399.0 + *((float *)dword_4C0874 + 62));
    v4 = (int)(*((float *)dword_4C0874 + 60) * 356.0 + *((float *)dword_4C0874 + 62));
  }
  *(_DWORD *)(this + 8) = sub_41AD50(hWnd, v2, v4, v3, v5, 1);
  v6 = 466;
  v7 = 873;
  v8 = 456;
  v9 = 499;
  if ( *((_DWORD *)dword_4C0874 + 2) )
  {
    v6 = (int)(*((float *)dword_4C0874 + 59) * 466.0 + *((float *)dword_4C0874 + 61));
    v7 = (int)(*((float *)dword_4C0874 + 59) * 873.0 + *((float *)dword_4C0874 + 61));
    v9 = (int)(*((float *)dword_4C0874 + 60) * 499.0 + *((float *)dword_4C0874 + 62));
    v8 = (int)(*((float *)dword_4C0874 + 60) * 456.0 + *((float *)dword_4C0874 + 62));
  }
  *(_DWORD *)(this + 12) = sub_41AD50(hWnd, v6, v8, v7, v9, 1);
  v10 = 36.0 * *((float *)dword_4C0874 + 60);
  v11 = (int)(*((float *)dword_4C0874 + 59) * 36.0);
  if ( (double)v11 < v10 )
    v11 = (int)v10;
  if ( v11 < 1 )
    v11 = 1;
  FontA = CreateFontA(v11, 0, 0, 0, 400, 0, 0, 0, 0x80u, 0, 0, 2u, 0x31u, &pszFaceName);
  v13 = *(HWND *)(this + 8);
  *(_DWORD *)this = FontA;
  SendMessageA(v13, 0x30u, (WPARAM)FontA, 0);
  SendMessageA(*(HWND *)(this + 12), 0x30u, *(_DWORD *)this, 0);
  sub_450330(0, 0, 1280, 720);
  sub_450510(0, 0, *(_DWORD *)(this + 536));
  sub_450330(1080, 634, 1285, 679);
  sub_450510(0, 0, *(_DWORD *)(this + 540));
  sub_44CDF0("CLEARNAME", (LPBYTE)String);
  sub_44CDF0("CLEARMAIL", (LPBYTE)v18);
  SetWindowTextA(*(HWND *)(this + 8), String);
  SetFocus(*(HWND *)(this + 12));
  if ( v18[0] )
    SetWindowTextA(*(HWND *)(this + 12), v18);
  else
    SetWindowTextA(*(HWND *)(this + 12), (LPCSTR)byte_4C0820);
  SetFocus(*(HWND *)(this + 8));
  v14 = *(HWND *)(this + 8);
  *(_DWORD *)(this + 16) = 0;
  InvalidateRect(v14, 0, 0);
  UpdateWindow(*(HWND *)(this + 8));
  InvalidateRect(*(HWND *)(this + 12), 0, 0);
  UpdateWindow(*(HWND *)(this + 12));
  InvalidateRect(hWnd, 0, 0);
  UpdateWindow(hWnd);
  v15 = operator new(0x15Cu);
  v16 = v15;
  v20 = 0;
  if ( v15 )
    sub_442F00(v15);
  else
    v16 = 0;
  *(_DWORD *)(this + 4) = v16;
  *(_DWORD *)(this + 548) = *((_DWORD *)dword_4C0874 + 2);
  *(_DWORD *)(this + 552) = -1;
  result = sub_41ADF0(this);
  *(_DWORD *)(this + 20) = 0;
  return result;
}
// 4C0820:  BYTE byte_4C0820[64]

//----- (0041B8F0) --------------------------------------------------------
int __thiscall sub_41B8F0(int this)
{
  _DWORD *v2; // edi

  if ( *(_DWORD *)this )
    DeleteObject(*(HGDIOBJ *)this);
  PostMessageA(*(HWND *)(this + 8), 0x10u, 0, 0);
  UpdateWindow(*(HWND *)(this + 8));
  PostMessageA(*(HWND *)(this + 12), 0x10u, 0, 0);
  UpdateWindow(*(HWND *)(this + 12));
  sub_44D910(*(_DWORD *)(this + 544));
  sub_44D910(*(_DWORD *)(this + 540));
  sub_44D910(*(_DWORD *)(this + 536));
  v2 = *(_DWORD **)(this + 4);
  if ( v2 )
  {
    sub_442D90(v2, (void *)1);
    operator delete(v2);
    *(_DWORD *)(this + 4) = 0;
  }
  sub_450330(0, 0, 1280, 720);
  return sub_450660(0, 0, 1280, 720, 0);
}

//----- (0041B9B0) --------------------------------------------------------
int __thiscall sub_41B9B0(int this)
{
  int v3; // edi
  int *v4; // eax
  int v5; // edi
  int v6; // ebp
  struct tagPOINT Point; // [esp+4h] [ebp-21Ch] BYREF
  int v8; // [esp+Ch] [ebp-214h] BYREF
  CHAR Str[260]; // [esp+14h] [ebp-20Ch] BYREF
  CHAR String[260]; // [esp+118h] [ebp-108h] BYREF

  if ( !*((_DWORD *)dword_4C0874 + 76) )
    return 0;
  if ( !Buf )
    return 1;
  if ( sub_442AE0(*(_DWORD **)(this + 4), 8) && sub_442B00(*(_DWORD **)(this + 4), 7) )
  {
    v3 = *((_DWORD *)dword_4C0874 + 74);
    sub_41B8F0(this);
    sub_43A690((int)dword_4C0874, *((_DWORD *)dword_4C0874 + 2) == 0, 0);
    Sleep(0x64u);
    sub_41B520(this);
    *((_DWORD *)dword_4C0874 + 74) = v3;
    return 0;
  }
  sub_443210(*(_DWORD *)(this + 4));
  GetCursorPos(&Point);
  ScreenToClient(hWnd, &Point);
  sub_442B50(*(_DWORD **)(this + 4), Point.x, Point.y, -1);
  v4 = sub_442BD0(*(_DWORD **)(this + 4), &v8);
  v5 = *v4;
  v6 = v4[1];
  sub_43D240((int)dword_4C08F4);
  sub_41ABE0(this);
  if ( (unsigned int)(v5 - 1036) > 0xD9 || (unsigned int)(v6 - 626) > 0x2D )
  {
    if ( *(_DWORD *)(this + 552) == 1 )
      *(_DWORD *)(this + 552) = 0;
    goto LABEL_22;
  }
  if ( *(_DWORD *)(this + 552) != 1 )
  {
    sub_43D070((DWORD *)dword_4C08F4, ::String, 1, 0);
    *(_DWORD *)(this + 552) = 1;
  }
  *((_DWORD *)Buf + 272084) = 0;
  if ( !sub_442B00(*(_DWORD **)(this + 4), 1) )
  {
LABEL_22:
    if ( sub_442B00(*(_DWORD **)(this + 4), 13) )
    {
      if ( *(_DWORD *)(this + 16) )
      {
        SetFocus(*(HWND *)(this + 8));
        *(_DWORD *)(this + 16) = 0;
      }
      else
      {
        SetFocus(*(HWND *)(this + 12));
        *(_DWORD *)(this + 16) = 1;
      }
    }
    return 0;
  }
  sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)aSe201, 1, 0);
  GetWindowTextA(*(HWND *)(this + 8), String, 260);
  GetWindowTextA(*(HWND *)(this + 12), Str, 260);
  if ( !String[0] || !Str[0] )
  {
    if ( MessageBoxA(hWnd, &byte_48C684, WindowName, 0x24u) == 7 )
      return 0;
LABEL_19:
    sub_44CF80("CLEARNAME", (BYTE *)String);
    sub_44CF80("CLEARMAIL", (BYTE *)Str);
    sub_41AFF0();
    return 1;
  }
  if ( strstr(Str, word_48C6E4) && strstr(Str, ".") )
    goto LABEL_19;
  MessageBoxA(0, asc_48C6B8, WindowName, 0x42000u);
  return 0;
}

//----- (0041BCC0) --------------------------------------------------------
int __thiscall sub_41BCC0(HWND *this)
{
  sub_41B8F0((int)this);
  sub_40F070(this[2]);
  return sub_40F070(this[3]);
}

//----- (0041BCE0) --------------------------------------------------------
int *__thiscall sub_41BCE0(int *this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax

  *this = 0;
  if ( dword_4C0874 )
    *this = sub_438B50(dword_4C0874);
  this[2] = 0;
  v2 = operator new(0x784u);
  if ( v2 )
    v3 = sub_448B00(v2);
  else
    v3 = 0;
  this[1] = (int)v3;
  sub_407700((int)this);
  return this;
}

//----- (0041BD70) --------------------------------------------------------
BOOL sub_41BD70()
{
  BOOL v0; // esi
  BOOL v1; // edi
  bool v2; // zf
  BOOL result; // eax

  if ( dword_4C087C && *((_DWORD *)dword_4C0874 + 75) == 1 )
    sub_442E60(dword_4C087C);
  v0 = sub_442A50(dword_4C08F0);
  v1 = v0;
  if ( sub_421E40(dword_4C08E0) && *((_DWORD *)Buf + 39) )
    v0 = 1;
  if ( *(_DWORD *)dword_4C08D4 )
    v0 = v1;
  if ( !v0 )
    return v0;
  if ( !*(_DWORD *)dword_4C08D4 )
  {
    sub_433FE0((int)dword_4C08E0);
    return v0;
  }
  v2 = sub_408990(dword_4C08D4) == 0;
  result = v0;
  if ( !v2 )
    *(_DWORD *)dword_4C08D4 = 0;
  return result;
}

//----- (0041BE10) --------------------------------------------------------
int __usercall sub_41BE10@<eax>(int a1@<eax>)
{
  double v1; // st7
  float v3; // [esp+0h] [ebp-Ch]
  float v4; // [esp+0h] [ebp-Ch]
  float v5; // [esp+4h] [ebp-8h]

  if ( *(_DWORD *)dword_4C08D4 )
    sub_408A20(dword_4C08D4);
  else
    sub_422840(a1, (int)dword_4C08E0, 0);
  v1 = 0.0;
  if ( 0.0 != *((float *)dword_4C0874 + 61) )
  {
    v3 = (float)-(int)*((float *)dword_4C0874 + 61);
    sub_444260(*(float **)dword_4C08F8, v3, 0.0);
    sub_444340(*(float **)dword_4C08F8, 0, 0, (int)*((float *)dword_4C0874 + 61), 720);
    sub_444260(*(float **)dword_4C08FC, 1280.0, 0.0);
    sub_444340(*(float **)dword_4C08FC, 0, 0, 1280, 720);
    sub_444D20(*(_DWORD *)dword_4C08F8);
    sub_444D20(*(_DWORD *)dword_4C08FC);
    v1 = 0.0;
  }
  if ( v1 != *((float *)dword_4C0874 + 62) )
  {
    v5 = (float)-(int)*((float *)dword_4C0874 + 62);
    v4 = v1;
    sub_444260(*(float **)dword_4C0900, v4, v5);
    sub_444340(*(float **)dword_4C0900, 0, 0, 1280, (int)*((float *)dword_4C0874 + 62));
    sub_444260(*(float **)dword_4C0904, 0.0, 720.0);
    sub_444340(*(float **)dword_4C0904, 0, 0, 1280, 720);
    sub_444D20(*(_DWORD *)dword_4C0900);
    sub_444D20(*(_DWORD *)dword_4C0904);
  }
  return nullsub_1(dword_4C08F0);
}
// 453AF0:  int __thiscall nullsub_1(_DWORD)
// 4C08F8:  int dword_4C08F8
// 4C08FC:  int dword_4C08FC
// 4C0900:  int dword_4C0900
// 4C0904:  int dword_4C0904

//----- (0041BFD0) --------------------------------------------------------
void sub_41BFD0()
{
  sub_43D240((int)dword_4C08F4);
}

//----- (0041BFE0) --------------------------------------------------------
int sub_41BFE0()
{
  return sub_40C240((char *)Buf);
}

//----- (0041BFF0) --------------------------------------------------------
void *sub_41BFF0()
{
  return sub_422510(dword_4C08E0);
}

//----- (0041C000) --------------------------------------------------------
int sub_41C000()
{
  _DWORD *v0; // esi
  int result; // eax

  v0 = dword_4C08E0;
  *((_DWORD *)dword_4C08E0 + 6275) = 1;
  result = sub_40CCD0(Buf, 9, 7);
  if ( !result )
  {
    if ( v0[391] == 6 && !v0[5968] )
    {
      sub_422D00((int)v0);
      sub_40C3E0(Buf, 120);
      sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x5Au, 1);
    }
    return sub_40C240((char *)Buf);
  }
  return result;
}

//----- (0041C010) --------------------------------------------------------
int sub_41C010()
{
  _DWORD *v0; // esi
  int result; // eax

  v0 = dword_4C08E0;
  *((_DWORD *)dword_4C08E0 + 6275) = 1;
  result = sub_40CCD0(Buf, 9, 7);
  if ( !result )
  {
    if ( v0[391] == 6 && !v0[5968] )
    {
      sub_422D00((int)v0);
      sub_40C3E0(Buf, 0);
    }
    return sub_40C240((char *)Buf);
  }
  return result;
}

//----- (0041C020) --------------------------------------------------------
void *__usercall sub_41C020@<eax>(_DWORD *a1@<ecx>, int a2@<edi>)
{
  void *v2; // eax
  void *v3; // esi
  _DWORD *v4; // eax
  _DWORD *v5; // esi
  _DWORD *v6; // ecx
  _DWORD *v7; // eax
  _DWORD *v8; // esi
  DWORD *v9; // eax
  DWORD *v10; // esi
  DWORD *v11; // ecx
  int v12; // ebx
  int *v13; // esi
  int *v14; // eax
  int *v15; // edi
  int *v16; // eax
  _DWORD *v17; // eax
  _DWORD *v18; // esi
  void *v19; // eax
  int *v20; // eax
  int *v21; // eax
  _DWORD *v22; // eax
  _DWORD *v23; // esi
  void *v24; // ecx
  void *v25; // eax
  void *v26; // eax
  void *v27; // eax
  void *result; // eax
  char v29; // [esp+0h] [ebp-28h]

  v2 = operator new(0x6228u);
  v3 = v2;
  if ( v2 )
    sub_427FB0((int)v2);
  else
    v3 = 0;
  dword_4C08E0 = v3;
  v4 = operator new(0x6228u);
  v5 = v4;
  if ( v4 )
  {
    sub_427FB0((int)v4);
    v6 = v5;
  }
  else
  {
    v6 = 0;
  }
  dword_4C08D8 = v6;
  sub_4226C0(v6, 1);
  v7 = operator new(0x9714u);
  v8 = v7;
  if ( v7 )
  {
    sub_408910(v7);
    *v8 = 0;
    v8[1] = -1;
  }
  else
  {
    v8 = 0;
  }
  dword_4C08D4 = v8;
  v9 = (DWORD *)operator new(0x40u);
  v10 = v9;
  if ( v9 )
  {
    sub_4429F0(v9, 0, 0);
    v11 = v10;
  }
  else
  {
    v11 = 0;
  }
  dword_4C08F0 = v11;
  sub_4429F0(v11, 1000, 60);
  v12 = sub_44CA60(*((int **)dword_4C0874 + 63), a2, 0, 0, 0, v29);
  v13 = &dword_4C08F8;
  do
  {
    v14 = (int *)operator new(0x10u);
    v15 = v14;
    if ( v14 )
    {
      sub_40EE30(v14);
      v16 = v15;
    }
    else
    {
      v16 = 0;
    }
    *v13 = (int)v16;
    sub_4440C0(*v16, v12);
    ++v13;
  }
  while ( (int)v13 < (int)&unk_4C0908 );
  v17 = operator new(0x36Cu);
  v18 = v17;
  if ( v17 )
  {
    sub_43ABB0(v17);
    v19 = v18;
  }
  else
  {
    v19 = 0;
  }
  dword_4C08F4 = v19;
  v20 = (int *)operator new(0xB8F8u);
  if ( v20 )
    v21 = sub_41BCE0(v20);
  else
    v21 = 0;
  dword_4C08DC = v21;
  v22 = operator new(0x123248u);
  v23 = v22;
  if ( v22 )
  {
    sub_40ECD0(v22);
    v24 = v23;
  }
  else
  {
    v24 = 0;
  }
  Buf = v24;
  sub_40DB50((int *)v24);
  if ( Buf )
    sub_40DF60((const char *)Buf, (unsigned __int8 *)Source, 100);
  sub_4260E0((int)dword_4C08E0, (int)"start", 0);
  v25 = operator new(0x444u);
  if ( v25 )
    v26 = (void *)sub_404260((int)v25);
  else
    v26 = 0;
  dword_4C08E4 = v26;
  v27 = operator new(0x444u);
  if ( v27 )
  {
    result = (void *)sub_404260((int)v27);
    dword_4C08E8 = result;
  }
  else
  {
    result = 0;
    dword_4C08E8 = 0;
  }
  *a1 = 60;
  return result;
}
// 41C150: variable 'v29' is possibly undefined
// 4C08F8:  int dword_4C08F8

//----- (0041C310) --------------------------------------------------------
void sub_41C310()
{
  void *v0; // esi
  void *v1; // esi
  void *v2; // esi
  void *v3; // esi
  _DWORD *v4; // esi
  _DWORD *v5; // edi
  void *v6; // ebp
  void *v7; // esi
  int *v8; // esi
  void *v9; // edi
  void *v10; // esi
  void *v11; // esi
  void *v12; // esi

  if ( dword_4C08E8 )
  {
    v0 = dword_4C08E8;
    sub_4043B0(dword_4C08E8);
    operator delete(v0);
    dword_4C08E8 = 0;
  }
  if ( dword_4C08E4 )
  {
    v1 = dword_4C08E4;
    sub_4043B0(dword_4C08E4);
    operator delete(v1);
    dword_4C08E4 = 0;
  }
  if ( dword_4C08D4 )
  {
    v2 = dword_4C08D4;
    sub_40C190((int)dword_4C08D4);
    operator delete(v2);
    dword_4C08D4 = 0;
  }
  sub_40C240((char *)Buf);
  if ( Buf )
  {
    v3 = Buf;
    sub_40E840(Buf);
    operator delete(v3);
    Buf = 0;
  }
  if ( dword_4C08DC )
  {
    v4 = (_DWORD *)*((_DWORD *)dword_4C08DC + 1);
    v5 = (char *)dword_4C08DC + 4;
    v6 = dword_4C08DC;
    if ( v4 )
    {
      sub_4470C0(v4);
      operator delete(v4);
      *v5 = 0;
    }
    nullsub_1(v6);
    operator delete(v6);
    dword_4C08DC = 0;
  }
  if ( dword_4C08F4 )
  {
    v7 = dword_4C08F4;
    sub_43B400();
    operator delete(v7);
    dword_4C08F4 = 0;
  }
  v8 = &dword_4C08F8;
  do
  {
    v9 = (void *)*v8;
    if ( *v8 )
    {
      sub_40EFF0((_DWORD *)*v8);
      operator delete(v9);
      *v8 = 0;
    }
    ++v8;
  }
  while ( (int)v8 < (int)&unk_4C0908 );
  if ( dword_4C08F0 )
  {
    v10 = dword_4C08F0;
    nullsub_1(dword_4C08F0);
    operator delete(v10);
    dword_4C08F0 = 0;
  }
  if ( dword_4C08D8 )
  {
    v11 = dword_4C08D8;
    sub_432A30((int)dword_4C08D8);
    operator delete(v11);
    dword_4C08D8 = 0;
  }
  if ( dword_4C08E0 )
  {
    v12 = dword_4C08E0;
    sub_432A30((int)dword_4C08E0);
    operator delete(v12);
    dword_4C08E0 = 0;
  }
}
// 453AF0:  int __thiscall nullsub_1(_DWORD)
// 4C08F8:  int dword_4C08F8

//----- (0041C490) --------------------------------------------------------
int __thiscall sub_41C490(_DWORD *this)
{
  int i; // edi
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  int result; // eax

  for ( i = 0; i < 20; ++i )
  {
    v3 = operator new(0x784u);
    if ( v3 )
      v4 = sub_448B00(v3);
    else
      v4 = 0;
    this[i] = v4;
  }
  this[460] = 0;
  this[467] = 0;
  memset(this + 20, 0, 0x6E0u);
  this[461] = 0;
  result = 0;
  this[462] = 0;
  this[463] = 0;
  this[464] = 0;
  this[465] = 0;
  this[466] = 0;
  return result;
}

//----- (0041C550) --------------------------------------------------------
void __thiscall sub_41C550(_DWORD *this)
{
  int i; // edi
  void *v3; // esi

  for ( i = 0; i < 20; ++i )
  {
    v3 = (void *)this[i];
    if ( v3 )
    {
      sub_4470C0((_DWORD *)this[i]);
      operator delete(v3);
      this[i] = 0;
    }
  }
}

//----- (0041C5E0) --------------------------------------------------------
int __thiscall sub_41C5E0(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int result; // eax

  this[462] = a2;
  result = a3;
  this[464] = a4;
  this[463] = a3;
  this[465] = a5;
  return result;
}

//----- (0041C620) --------------------------------------------------------
void __thiscall sub_41C620(int *this, int a2, int a3, int a4, int a5)
{
  int *v6; // esi
  int v7; // edx
  double v8; // st7
  int i; // ebx
  int v10; // eax
  double v11; // st7
  int v12; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // eax
  int v17; // eax
  float *v18; // ecx
  float v19; // [esp+18h] [ebp-4h]
  float v20; // [esp+20h] [ebp+4h]
  float v21; // [esp+2Ch] [ebp+10h]

  v6 = &this[22 * a2];
  *((float *)v6 + 20) = (float)(rand() % 1280);
  v7 = rand() % 3;
  if ( v7 == 1 )
  {
    v8 = *((float *)v6 + 20) - 1280.0;
LABEL_5:
    *((float *)v6 + 20) = v8;
    goto LABEL_6;
  }
  if ( v7 == 2 )
  {
    v8 = *((float *)v6 + 20) + 1280.0;
    goto LABEL_5;
  }
LABEL_6:
  *((float *)v6 + 21) = (float)(-rand() % 720);
  if ( this[466] && this[462] < this[464] && rand() % 100 <= this[466] )
  {
    for ( i = 0; i < 100; ++i )
    {
      v19 = (float)(rand() % 1280);
      *((float *)v6 + 20) = v19;
      if ( (double)this[462] <= v19 && (double)this[464] >= v19 )
        break;
    }
  }
  v10 = rand();
  if ( a5 )
    v11 = (double)(v10 % 4 + 2);
  else
    v11 = (double)(v10 % 10 + 2);
  *((float *)v6 + 27) = v11 / 1.5;
  v6[26] = rand() % 32 + 28;
  v6[28] = a4;
  v6[35] = 1;
  v6[29] = a3 + rand() % 2;
  v6[41] = a3;
  v12 = rand();
  v13 = v6[29];
  *((float *)v6 + 34) = (float)(v12 % 360);
  v14 = rand() % dword_4B3304[v13];
  v15 = 7 * v13;
  v15 *= 4;
  v6[23] = v15;
  v6[22] = 0;
  v6[24] = 28;
  v6[25] = v15 + 28;
  *((float *)v6 + 31) = (float)v14;
  sub_444260((float *)this[a2], *((float *)v6 + 20), *((float *)v6 + 21));
  sub_444340((float *)this[a2], v6[22], v6[23], v6[24], v6[25]);
  v17 = rand();
  v18 = (float *)this[a2];
  v20 = (double)(v17 % 3) / 10.0 + 0.5;
  if ( a3 )
  {
    v21 = (float)(10 * (10 - a3));
    sub_4443C0(v18, v21, v21);
    v20 = v20 - (double)a3 * 0.02;
  }
  else
  {
    sub_4443C0(v18, 100.0, 100.0);
  }
  sub_444470((float *)this[a2], v20);
}
// 4B3304:  int dword_4B3304[9]

//----- (0041C8C0) --------------------------------------------------------
void __thiscall sub_41C8C0(int *this, int a2, int a3)
{
  int *v5; // esi
  int i; // ebx
  int v7; // eax
  int v8; // ebx
  int v9; // edx
  int v10; // eax
  float v11; // [esp+4h] [ebp-14h]
  float v12; // [esp+1Ch] [ebp+4h]

  v5 = &this[22 * a2];
  *((float *)v5 + 20) = (float)(rand() % 1280);
  *((float *)v5 + 21) = (float)(-rand() % 720);
  if ( this[466] && this[462] < this[464] && rand() % 100 <= this[466] )
  {
    for ( i = 0; i < 100; ++i )
    {
      v12 = (float)(rand() % 1280);
      *((float *)v5 + 20) = v12;
      if ( (double)this[462] <= v12 && (double)this[464] >= v12 )
        break;
    }
  }
  *((float *)v5 + 27) = (double)(rand() % 3) * 2.5 + 0.5;
  v5[26] = rand() % 16 + 4;
  v5[28] = 4;
  v5[35] = 1;
  v5[29] = a3 + rand() % 2;
  v5[41] = a3;
  v7 = rand();
  v8 = v5[29];
  *((float *)v5 + 34) = (float)(v7 % 360);
  v9 = rand() % dword_4B3304[v8];
  v5[23] = 28 * v8;
  v5[22] = 0;
  v5[24] = 28;
  v5[25] = 28 * v8 + 28;
  *((float *)v5 + 31) = (float)v9;
  sub_444260((float *)this[a2], *((float *)v5 + 20), *((float *)v5 + 21));
  sub_444340((float *)this[a2], v5[22], v5[23], v5[24], v5[25]);
  sub_4443C0((float *)this[a2], 100.0, 100.0);
  *((float *)v5 + 36) = (double)(rand() % 10) / 10.0;
  v10 = rand();
  v11 = *((float *)v5 + 36);
  v5[37] = v10;
  sub_444470((float *)this[a2], v11);
}
// 4B3304:  int dword_4B3304[9]

//----- (0041CAD0) --------------------------------------------------------
void __thiscall sub_41CAD0(int *this, int a2)
{
  int *v4; // esi
  int i; // ebp
  int v6; // eax
  int v7; // eax
  double v8; // st7
  int v9; // edx
  int v10; // eax
  float v11; // [esp+0h] [ebp-14h]
  float v12; // [esp+4h] [ebp-10h]
  float v13; // [esp+18h] [ebp+4h]
  float v14; // [esp+18h] [ebp+4h]

  v4 = &this[22 * a2];
  *((float *)v4 + 20) = (float)(rand() % 1280);
  *((float *)v4 + 21) = (float)(-rand() % 720);
  if ( this[466] && this[462] < this[464] && rand() % 100 <= this[466] )
  {
    for ( i = 0; i < 100; ++i )
    {
      v13 = (float)(rand() % 1280);
      *((float *)v4 + 20) = v13;
      if ( (double)this[462] <= v13 && (double)this[464] >= v13 )
        break;
    }
  }
  v6 = rand() % 4;
  v4[35] = 1;
  *((float *)v4 + 27) = (float)(v6 + 24);
  v7 = rand();
  v8 = *((float *)v4 + 21);
  v9 = v7 % 3;
  v4[23] = 0;
  v12 = v8;
  v11 = *((float *)v4 + 20);
  v10 = 8 * (v7 % 3);
  v4[29] = v9;
  v4[22] = v10;
  v4[24] = v10 + 2;
  v4[25] = 8 * (3 * v9 + 3);
  sub_444260((float *)this[a2], v11, v12);
  sub_444340((float *)this[a2], v4[22], v4[23], v4[24], v4[25]);
  v14 = 0.5 - (double)(rand() % 4) * 0.1000000014901161;
  sub_444470((float *)this[a2], v14);
}

//----- (0041CC60) --------------------------------------------------------
void __thiscall sub_41CC60(int *this, int a2, int a3)
{
  int *v5; // esi
  int i; // ebx
  int v7; // eax
  int v8; // ebx
  int v9; // edx
  float v10; // [esp+1Ch] [ebp+4h]

  v5 = &this[22 * a2];
  *((float *)v5 + 20) = (float)(rand() % 1280);
  *((float *)v5 + 21) = (float)(rand() % 720);
  if ( this[466] && this[462] < this[464] && rand() % 100 <= this[466] )
  {
    for ( i = 0; i < 100; ++i )
    {
      v10 = (float)(rand() % 1280);
      *((float *)v5 + 20) = v10;
      if ( (double)this[462] <= v10 && (double)this[464] >= v10 )
        break;
    }
  }
  *((float *)v5 + 27) = (double)(rand() % 4 / 2) + 0.2000000029802322;
  v5[26] = rand() % 32 + 28;
  v5[28] = 2;
  v5[35] = 1;
  v5[29] = a3 + rand() % 2;
  v5[41] = a3;
  v7 = rand();
  v8 = v5[29];
  *((float *)v5 + 34) = (float)(v7 % 360);
  v9 = rand() % dword_4B3304[v8];
  v5[23] = 28 * v8;
  v5[22] = 0;
  v5[24] = 28;
  v5[25] = 28 * v8 + 28;
  *((float *)v5 + 31) = (float)v9;
  sub_444260((float *)this[a2], *((float *)v5 + 20), *((float *)v5 + 21));
  sub_444340((float *)this[a2], v5[22], v5[23], v5[24], v5[25]);
  sub_444470((float *)this[a2], 0.0);
  sub_4443C0((float *)this[a2], 100.0, 100.0);
  *((float *)v5 + 36) = 0.0;
  v5[37] = 1;
}
// 4B3304:  int dword_4B3304[9]

//----- (0041CE60) --------------------------------------------------------
void __thiscall sub_41CE60(int *this, int a2, int a3)
{
  int *v5; // esi
  int i; // ebp
  int j; // ebp
  bool v8; // zf
  signed int v9; // eax
  bool v10; // zf
  signed int v11; // eax
  int v12; // edx
  int v13; // eax
  float v14; // [esp+1Ch] [ebp+4h]
  float v15; // [esp+1Ch] [ebp+4h]

  if ( a2 < 20 )
  {
    v5 = &this[22 * a2];
    *((float *)v5 + 20) = (float)(rand() % 1280);
    *((float *)v5 + 21) = (float)(rand() % 720);
    if ( this[466] && this[462] < this[464] && this[463] < this[465] && rand() % 100 <= this[466] )
    {
      for ( i = 0; i < 100; ++i )
      {
        v14 = (float)(rand() % 1280);
        *((float *)v5 + 20) = v14;
        if ( (double)this[462] <= v14 && (double)this[464] >= v14 )
          break;
      }
      for ( j = 0; j < 100; ++j )
      {
        v15 = (float)(rand() % 720);
        *((float *)v5 + 21) = v15;
        if ( (double)this[463] <= v15 && (double)this[465] >= v15 )
          break;
      }
    }
    *((float *)v5 + 27) = (double)(rand() % 4) * 0.2000000029802322 + 0.2000000029802322;
    v9 = rand() & 0x80000001;
    v8 = v9 == 0;
    if ( v9 < 0 )
      v8 = (((_BYTE)v9 - 1) | 0xFFFFFFFE) == -1;
    if ( v8 )
      *((float *)v5 + 27) = *((float *)v5 + 27) * -1.0;
    v5[26] = rand() % 32 + 28;
    v5[28] = rand() % 3;
    v11 = rand() & 0x80000001;
    v10 = v11 == 0;
    if ( v11 < 0 )
      v10 = (((_BYTE)v11 - 1) | 0xFFFFFFFE) == -1;
    if ( v10 )
      v5[28] = -v5[28];
    v5[35] = 1;
    v5[29] = a3 + rand() % 2;
    v5[41] = a3;
    v12 = rand() % 360;
    v13 = 28 * v5[29];
    v5[23] = v13;
    v5[22] = 0;
    v5[24] = 28;
    v5[25] = v13 + 28;
    *((float *)v5 + 34) = (float)v12;
    *((float *)v5 + 31) = 0.0;
    sub_444260((float *)this[a2], *((float *)v5 + 20), *((float *)v5 + 21));
    sub_444340((float *)this[a2], v5[22], v5[23], v5[24], v5[25]);
    sub_444470((float *)this[a2], 0.0);
    sub_4443C0((float *)this[a2], 100.0, 100.0);
    v5[37] = 1;
    *((float *)v5 + 36) = 0.0;
  }
}

//----- (0041D0F0) --------------------------------------------------------
void __thiscall sub_41D0F0(float **this, int a2)
{
  float **v4; // esi
  int *v5; // eax
  int v6; // ecx
  int v7; // ecx
  int v8; // eax
  int v9; // edx
  float v10; // [esp+0h] [ebp-20h]
  float v11; // [esp+4h] [ebp-1Ch]
  int v12; // [esp+18h] [ebp-8h]
  float v13; // [esp+18h] [ebp-8h]
  float v14; // [esp+18h] [ebp-8h]
  float v15; // [esp+18h] [ebp-8h]
  int v16; // [esp+1Ch] [ebp-4h]
  float v17; // [esp+24h] [ebp+4h]
  float v18; // [esp+24h] [ebp+4h]
  float v19; // [esp+24h] [ebp+4h]
  float v20; // [esp+24h] [ebp+4h]
  float v21; // [esp+24h] [ebp+4h]
  float v22; // [esp+24h] [ebp+4h]

  if ( a2 < 20 )
  {
    v4 = &this[22 * a2];
    v4[35] = (float *)1;
    *((float *)v4 + 34) = (float)*((int *)Buf + 66345);
    *((float *)v4 + 27) = 0.0;
    v5 = (int *)Buf;
    v6 = *((_DWORD *)Buf + 66346);
    if ( v6 != -1 )
    {
      v12 = *((_DWORD *)Buf + 66347);
      if ( v12 )
      {
        v7 = v6 - *((_DWORD *)Buf + 66345);
        v4[33] = (float *)4;
        *((float *)v4 + 27) = (double)v7 / (double)v12;
        v4[29] = (float *)*((_DWORD *)Buf + 66346);
        v5 = (int *)Buf;
      }
    }
    *((float *)v4 + 20) = (float)v5[66343];
    *((float *)v4 + 21) = (float)*((int *)Buf + 66344);
    v4[39] = (float *)(rand() % 20 + (a2 << 6) + 8);
    v8 = rand();
    v17 = *((float *)v4 + 34) * 0.01745327777777778;
    v16 = v8 % 20 + (a2 << 6) + 8;
    v4[40] = (float *)v16;
    v13 = sin(v17);
    v14 = v13 * (double)(int)v4[39];
    v15 = v14 + *((float *)v4 + 20);
    v18 = cos(v17);
    v19 = v18 * (double)v16;
    v20 = v19 + *((float *)v4 + 21);
    v4[30] = (float *)(rand() % 400 + 300);
    v9 = rand() % 3;
    v4[23] = 0;
    if ( v9 )
    {
      if ( v9 == 1 )
      {
        v4[22] = (float *)180;
        v4[24] = (float *)200;
        v4[25] = (float *)20;
      }
      else
      {
        v4[22] = (float *)200;
        v4[24] = (float *)208;
        v4[25] = (float *)8;
      }
    }
    else
    {
      v4[22] = (float *)140;
      v4[24] = (float *)180;
      v4[25] = (float *)40;
    }
    sub_444260(this[a2], v15, v20);
    sub_444340(this[a2], (int)v4[22], (int)v4[23], (int)v4[24], (int)v4[25]);
    v11 = (float)(((char *)v4[25] - (char *)v4[23]) / 2);
    v10 = (float)(((char *)v4[24] - (char *)v4[22]) / 2);
    sub_444450(this[a2], v10, v11);
    v21 = (float)(int)v4[30];
    sub_4443C0(this[a2], v21, v21);
    v22 = (double)(rand() % 10) / 100.0;
    sub_444470(this[a2], v22);
  }
}

//----- (0041D370) --------------------------------------------------------
int __thiscall sub_41D370(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[467] = a2;
  return result;
}

//----- (0041D380) --------------------------------------------------------
BOOL __thiscall sub_41D380(int *this)
{
  int v1; // edi
  DWORD Time; // ebp
  int v5; // eax
  int *v6; // esi
  int v7; // ecx
  int v8; // edx
  double v9; // st7
  int v10; // ebp
  double v11; // st7
  int v12; // edx
  int v13; // eax
  double v14; // st7
  double v15; // st7
  double v16; // st7
  int v17; // edx
  double v18; // st7
  double v19; // st7
  int v20; // ecx
  int v21; // eax
  int v22; // edx
  int v23; // eax
  double v24; // st7
  double v25; // st7
  int v26; // ecx
  double v27; // st7
  double v28; // st6
  int v29; // ecx
  float v30; // [esp+4h] [ebp-28h]
  float v31; // [esp+4h] [ebp-28h]
  float v32; // [esp+4h] [ebp-28h]
  float v33; // [esp+18h] [ebp-14h]
  float v34; // [esp+18h] [ebp-14h]
  float v35; // [esp+18h] [ebp-14h]
  float v36; // [esp+18h] [ebp-14h]
  float v37; // [esp+18h] [ebp-14h]
  float v38; // [esp+18h] [ebp-14h]
  float v39; // [esp+18h] [ebp-14h]
  float v40; // [esp+1Ch] [ebp-10h]
  float v41; // [esp+1Ch] [ebp-10h]
  float v42; // [esp+1Ch] [ebp-10h]
  float v43; // [esp+1Ch] [ebp-10h]
  float v44; // [esp+1Ch] [ebp-10h]
  float v45; // [esp+1Ch] [ebp-10h]
  float v46; // [esp+1Ch] [ebp-10h]
  float v47; // [esp+1Ch] [ebp-10h]
  float v48; // [esp+1Ch] [ebp-10h]
  DWORD v49; // [esp+20h] [ebp-Ch]
  float v50; // [esp+24h] [ebp-8h]
  float v51; // [esp+24h] [ebp-8h]
  int v52; // [esp+24h] [ebp-8h]
  float v53; // [esp+24h] [ebp-8h]
  float v54; // [esp+24h] [ebp-8h]
  float v55; // [esp+24h] [ebp-8h]
  float v56; // [esp+24h] [ebp-8h]
  float v57; // [esp+24h] [ebp-8h]
  float v58; // [esp+24h] [ebp-8h]
  float v59; // [esp+24h] [ebp-8h]
  float v60; // [esp+24h] [ebp-8h]
  float v61; // [esp+24h] [ebp-8h]
  float v62; // [esp+24h] [ebp-8h]
  float v63; // [esp+24h] [ebp-8h]
  int v64; // [esp+24h] [ebp-8h]
  float v65; // [esp+24h] [ebp-8h]
  float v66; // [esp+24h] [ebp-8h]
  float v67; // [esp+24h] [ebp-8h]
  float v68; // [esp+24h] [ebp-8h]
  float v69; // [esp+24h] [ebp-8h]
  float v70; // [esp+24h] [ebp-8h]
  BOOL v71; // [esp+28h] [ebp-4h]

  v1 = 0;
  v71 = 0;
  if ( this[467] )
    return 0;
  Time = timeGetTime();
  v49 = Time;
  if ( !this[35] || (v5 = this[33], v5 != 3) && v5 != 5 )
  {
    if ( !*((_DWORD *)Buf + 9) )
      return 0;
  }
  v6 = this + 32;
  do
  {
    if ( v6[3] )
    {
      if ( v6[1] == 1 )
      {
        v50 = sin(*((float *)v6 + 2));
        v7 = Time - *v6;
        v40 = v50 * (double)*(v6 - 6) + *((float *)v6 - 12);
        *((float *)v6 - 12) = (double)*(v6 - 4) + *((float *)v6 - 12);
        *((float *)v6 + 2) = *((float *)v6 + 2) + 0.05000000074505806;
        if ( v7 > 300 )
        {
          v8 = *(v6 - 3);
          v9 = *((float *)v6 - 1) + 1.0;
          *v6 = Time;
          v33 = v9;
          *((float *)v6 - 1) = v33;
          if ( (double)dword_4B3304[v8] <= v33 )
            *((float *)v6 - 1) = 0.0;
        }
        v10 = *(v6 - 7) - *(v6 - 9);
        v34 = *((float *)v6 - 5) + *((float *)v6 - 11);
        *((float *)v6 - 11) = v34;
        if ( (double)v10 + v34 <= 720.0 )
        {
          v11 = v34;
        }
        else
        {
          v11 = v34;
          v10 = (int)(720.0 - v34);
          if ( v10 < 0 )
            v10 = 0;
        }
        v30 = v11;
        sub_444260((float *)this[v1], v40, v30);
        sub_444340(
          (float *)this[v1],
          (int)(*((float *)v6 - 1) * 32.0 + (double)*(v6 - 10)),
          *(v6 - 9),
          (int)((double)*(v6 - 8) + *((float *)v6 - 1) * 32.0),
          v10 + *(v6 - 9));
        if ( v34 > 720.0 )
          sub_41C620(this, v1, v6[9], *(v6 - 4), 0);
        Time = v49;
      }
      if ( v6[1] == 5 )
      {
        v51 = sin(*((float *)v6 + 2));
        v12 = Time - *v6;
        v41 = v51 * (double)*(v6 - 6) + *((float *)v6 - 12);
        *((float *)v6 + 2) = *((float *)v6 + 2) + 0.05000000074505806;
        if ( v12 > 500 )
        {
          v13 = *(v6 - 3);
          v14 = *((float *)v6 - 1) + 1.0;
          *v6 = Time;
          v35 = v14;
          *((float *)v6 - 1) = v35;
          if ( (double)dword_4B3304[v13] <= v35 )
            *((float *)v6 - 1) = 0.0;
        }
        v52 = *(v6 - 7) - *(v6 - 9);
        v36 = *((float *)v6 - 5) + *((float *)v6 - 11);
        *((float *)v6 - 11) = v36;
        if ( (double)v52 + v36 <= 720.0 )
        {
          v15 = v36;
        }
        else
        {
          v15 = v36;
          v52 = (int)(720.0 - v36);
          if ( v52 < 0 )
            v52 = 0;
        }
        v31 = v15;
        sub_444260((float *)this[v1], v41, v31);
        sub_444340(
          (float *)this[v1],
          (int)(*((float *)v6 - 1) * 32.0 + (double)*(v6 - 10)),
          *(v6 - 9),
          (int)((double)*(v6 - 8) + *((float *)v6 - 1) * 32.0),
          v52 + *(v6 - 9));
        v16 = *((float *)v6 + 4);
        if ( v6[5] )
        {
          v53 = v16 + 0.002000000094994903;
          *((float *)v6 + 4) = v53;
          if ( v53 >= 0.800000011920929 )
          {
            v6[5] = 0;
            *((float *)v6 + 4) = 0.80000001;
          }
        }
        else
        {
          v54 = v16 - 0.002000000094994903;
          *((float *)v6 + 4) = v54;
          if ( v54 <= 0.0 )
          {
            *((float *)v6 + 4) = 0.0;
            v6[5] = 1;
          }
        }
        sub_444470((float *)this[v1], *((float *)v6 + 4));
        if ( v36 > 720.0 )
          sub_41C8C0(this, v1, v6[9]);
        Time = v49;
      }
      if ( !v6[1] )
      {
        v55 = sin(*((float *)v6 + 2));
        v42 = v55 * (double)*(v6 - 6) + *((float *)v6 - 12);
        v56 = *((float *)v6 + 2) + 0.009999999776482582;
        *((float *)v6 + 2) = v56;
        if ( v56 >= 360.0 )
          *((float *)v6 + 2) = v56 - 360.0;
        if ( (int)(Time - *v6) <= 500
          || (v17 = *(v6 - 3),
              v18 = *((float *)v6 - 1) + 1.0,
              *v6 = Time,
              v37 = v18,
              *((float *)v6 - 1) = v37,
              (double)dword_4B3304[v17] > v37) )
        {
          v19 = 0.0;
        }
        else
        {
          v19 = 0.0;
          *((float *)v6 - 1) = 0.0;
        }
        if ( v6[5] )
        {
          v57 = *((float *)v6 + 4) + 0.004999999888241291;
          *((float *)v6 + 4) = v57;
          if ( v57 >= 1.0 )
          {
            *((float *)v6 + 4) = 1.0;
            v6[5] = 0;
          }
        }
        else
        {
          v58 = *((float *)v6 + 4) - 0.004999999888241291;
          *((float *)v6 + 4) = v58;
          if ( v58 <= v19 )
          {
            *((float *)v6 + 4) = v19;
            v6[5] = 1;
          }
        }
        sub_444470((float *)this[v1], *((float *)v6 + 4));
        v59 = *((float *)v6 - 11) - *((float *)v6 - 5);
        *((float *)v6 - 11) = v59;
        sub_444260((float *)this[v1], v42, v59);
        sub_444340(
          (float *)this[v1],
          (int)(*((float *)v6 - 1) * 32.0 + (double)*(v6 - 10)),
          *(v6 - 9),
          (int)((double)*(v6 - 8) + *((float *)v6 - 1) * 32.0),
          *(v6 - 7));
        if ( (double)(*(v6 - 10) - *(v6 - 8)) > v42
          || v42 > 1280.0
          || (v20 = *(v6 - 7), (double)(*(v6 - 9) - v20) > v59)
          || (double)(v20 - *(v6 - 9) + 720) < v59 )
        {
          sub_41CC60(this, v1, v6[9]);
        }
      }
      v21 = v6[1];
      if ( v21 == 3 )
      {
        v60 = sin(*((float *)v6 + 2));
        v22 = Time - *v6;
        v43 = v60 * (double)*(v6 - 6) + *((float *)v6 - 12) + (double)*(v6 - 4) / 10.0;
        *((float *)v6 + 2) = *((float *)v6 + 2) + 0.009999999776482582;
        if ( v22 <= 500
          || (v23 = *(v6 - 3),
              v24 = *((float *)v6 - 1) + 1.0,
              *v6 = Time,
              v38 = v24,
              *((float *)v6 - 1) = v38,
              (double)dword_4B3304[v23] > v38) )
        {
          v25 = 0.0;
        }
        else
        {
          v25 = 0.0;
          *((float *)v6 - 1) = 0.0;
        }
        if ( v6[5] )
        {
          v61 = *((float *)v6 + 4) + 0.004999999888241291;
          *((float *)v6 + 4) = v61;
          if ( v61 >= 0.800000011920929 )
          {
            v6[5] = 0;
            *((float *)v6 + 4) = 0.80000001;
          }
        }
        else
        {
          v62 = *((float *)v6 + 4) - 0.004999999888241291;
          *((float *)v6 + 4) = v62;
          if ( v62 <= v25 )
          {
            *((float *)v6 + 4) = v25;
            v6[5] = 1;
          }
        }
        sub_444470((float *)this[v1], *((float *)v6 + 4));
        v63 = *((float *)v6 - 11) - *((float *)v6 - 5);
        *((float *)v6 - 11) = v63;
        sub_444260((float *)this[v1], v43, v63);
        sub_444340(
          (float *)this[v1],
          (int)(*((float *)v6 - 1) * 32.0 + (double)*(v6 - 10)),
          *(v6 - 9),
          (int)((double)*(v6 - 8) + *((float *)v6 - 1) * 32.0),
          *(v6 - 7));
        if ( (double)(*(v6 - 10) - *(v6 - 8)) > v43
          || v43 > 1280.0
          || (v26 = *(v6 - 7), (double)(*(v6 - 9) - v26) > v63)
          || (double)(v26 - *(v6 - 9) + 720) < v63 )
        {
          sub_41CE60(this, v1, v6[9]);
        }
      }
      else if ( v21 == 2 )
      {
        v44 = *((float *)v6 - 12);
        v64 = *(v6 - 7) - *(v6 - 9);
        v39 = *((float *)v6 - 5) + *((float *)v6 - 11);
        *((float *)v6 - 11) = v39;
        if ( (double)v64 + v39 <= 720.0 )
        {
          v27 = v39;
        }
        else
        {
          v27 = v39;
          v64 = (int)(720.0 - v39);
          if ( v64 < 0 )
            v64 = 0;
        }
        v32 = v27;
        sub_444260((float *)this[v1], v44, v32);
        sub_444340(
          (float *)this[v1],
          (int)(*((float *)v6 - 1) * 32.0 + (double)*(v6 - 10)),
          *(v6 - 9),
          (int)((double)*(v6 - 8) + *((float *)v6 - 1) * 32.0),
          v64 + *(v6 - 9));
        if ( (double)(*(v6 - 9) - *(v6 - 7) + 720) < v39 )
          sub_41CAD0(this, v1);
        Time = v49;
      }
      else if ( v21 == 4 && 0.0 != *((float *)v6 - 5) )
      {
        v65 = *((float *)v6 + 2) + *((float *)v6 - 5);
        v28 = v65;
        v45 = v65;
        *((float *)v6 + 2) = v65;
        v66 = (float)*(v6 - 3);
        if ( v66 - *((float *)v6 - 5) <= v28 && v45 <= v66 + *((float *)v6 - 5) )
          *((float *)v6 - 5) = 0.0;
        v67 = *((float *)v6 + 2) * 0.01745327777777778;
        v46 = cos(v67);
        v47 = v46 * (double)v6[8];
        v48 = v47 + *((float *)v6 - 11);
        v68 = sin(v67);
        v69 = v68 * (double)v6[7];
        v70 = v69 + *((float *)v6 - 12);
        sub_444260((float *)this[v1], v70, v48);
      }
    }
    v29 = this[v1];
    if ( v29 )
      v71 = sub_448F00(v29);
    ++v1;
    v6 += 22;
  }
  while ( v1 < 20 );
  return v71;
}
// 4B3304:  int dword_4B3304[9]

//----- (0041DC50) --------------------------------------------------------
void __thiscall sub_41DC50(int *this, int a2, int a3, int a4, int a5, int a6)
{
  int v7; // esi
  int v9; // eax
  _DWORD *v10; // ebx
  int v11; // [esp+10h] [ebp+4h]
  int v12; // [esp+18h] [ebp+Ch]

  v7 = 0;
  if ( a2 )
  {
    v9 = a3;
    this[460] = a4;
    if ( a3 <= 6 )
    {
      if ( a3 < 0 )
      {
        a3 = 0;
        v9 = 0;
      }
    }
    else
    {
      a3 = 6;
      v9 = 6;
    }
    v11 = 4 * v9;
    if ( v9 )
    {
      switch ( v9 )
      {
        case 1:
          v11 = 1;
          break;
        case 2:
          v11 = 3;
          break;
        case 3:
          v11 = 6;
          break;
        case 4:
          v11 = 9;
          break;
        case 5:
          v11 = 12;
          break;
        case 6:
          v11 = 20;
          break;
      }
    }
    else
    {
      v11 = 0;
    }
    memset(this + 20, 0, 0x6E0u);
    if ( v11 > 0 )
    {
      v12 = a2 - 2;
      v10 = this + 33;
      do
      {
        sub_4440C0(this[v7], this[460]);
        switch ( v12 )
        {
          case 0:
            sub_41CAD0(this, v7);
            *v10 = 2;
            break;
          case 1:
            sub_41C8C0(this, v7, a5);
            *v10 = 5;
            break;
          case 11:
          case 15:
            sub_41CE60(this, v7, a5);
            *v10 = 3;
            break;
          case 12:
            sub_41CC60(this, v7, a5);
            *v10 = 0;
            break;
          case 13:
            sub_41D0F0((float **)this, v7);
            *v10 = 4;
            break;
          default:
            if ( a3 == 6 )
              sub_41C620(this, v7, a5, a6, 1);
            else
              sub_41C620(this, v7, a5, a6, 0);
            *v10 = 1;
            break;
        }
        ++v7;
        v10 += 22;
      }
      while ( v7 < v11 );
    }
  }
  else
  {
    memset(this + 20, 0, 0x6E0u);
    this[460] = 0;
    this[462] = 0;
    this[463] = 0;
    this[464] = 0;
    this[465] = 0;
    this[466] = 0;
  }
}

//----- (0041DE40) --------------------------------------------------------
void __thiscall sub_41DE40(void *this, float a2, float a3, int a4, int a5, int a6)
{
  sub_4474C0((int)this, (int)a2, (int)a3, a4, *(float *)&a5, a6);
}

//----- (0041DE80) --------------------------------------------------------
void *sub_41DE80()
{
  void *result; // eax

  result = Buf;
  if ( Buf )
    *((_DWORD *)Buf + 5533) = 0;
  return result;
}

//----- (0041DEA0) --------------------------------------------------------
void *__thiscall sub_41DEA0(int this, int a2)
{
  void *result; // eax
  int v3; // edi
  int v4; // esi
  int **v5; // ebx

  if ( !*(_DWORD *)(this + 25088) )
  {
    result = Buf;
    if ( !*((_DWORD *)Buf + 66510) )
    {
      v3 = 0;
      *((_DWORD *)Buf + 5536) = a2;
      v4 = 0;
      v5 = (int **)(this + 24480);
      do
      {
        sub_444990(**v5, (char *)Buf + v4 + 121248);
        if ( v3 == 11 || v3 == 21 || v3 == 31 || v3 == 41 || v3 == 51 )
          memset((char *)Buf + v4 + 121248, 0, 0x3C0u);
        *(_DWORD *)((char *)Buf + v4 + 121428) = 0;
        v4 += 960;
        ++v3;
        ++v5;
      }
      while ( v4 < 144000 );
      sub_458170(*(_DWORD **)(this + 25120));
      return memcpy((char *)Buf + 375652, (char *)Buf + 19328, 0x56FE4u);
    }
  }
  return result;
}

//----- (0041DF90) --------------------------------------------------------
void __thiscall sub_41DF90(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  int v9; // ebx
  int v10; // eax
  unsigned __int8 *v11; // eax
  unsigned __int8 *v12; // edx
  unsigned __int8 v13; // cl
  int v14; // edi
  int v15; // eax
  unsigned __int8 *v16; // eax
  unsigned __int8 *v17; // edx
  unsigned __int8 v18; // cl
  int v19; // eax
  unsigned __int8 *v20; // eax
  unsigned __int8 *v21; // edx
  unsigned __int8 v22; // cl
  int v23; // eax
  unsigned __int8 *v24; // eax
  unsigned __int8 *v25; // edx
  unsigned __int8 v26; // cl
  int v27; // eax
  unsigned __int8 *v28; // eax
  unsigned __int8 *v29; // edx
  unsigned __int8 v30; // cl
  int v31; // edi
  unsigned __int8 *v32; // eax
  int v33; // eax
  int v34; // eax
  double v35; // st7
  int v36; // eax
  int v37; // ecx
  int v38; // edx
  int v39; // ebx
  int v40; // ebx
  float v41; // [esp+8h] [ebp-130h]
  float v42; // [esp+Ch] [ebp-12Ch]
  int v43; // [esp+20h] [ebp-118h] BYREF
  int v44; // [esp+24h] [ebp-114h] BYREF
  float v45; // [esp+28h] [ebp-110h] BYREF
  float v46; // [esp+2Ch] [ebp-10Ch] BYREF
  unsigned __int8 String[260]; // [esp+30h] [ebp-108h] BYREF

  v9 = a4 / 3;
  if ( a8 && v9 <= 4 )
    v9 += 6;
  switch ( v9 )
  {
    case 0:
    case 6:
      v10 = sub_444200(**(_DWORD ***)(this + 24520));
      v11 = (unsigned __int8 *)sub_44AF60(*(int **)(this + 25096), v10);
      v12 = String;
      do
      {
        v13 = *v11;
        *v12++ = *v11++;
      }
      while ( v13 );
      v14 = 15;
      goto LABEL_21;
    case 1:
    case 7:
      v15 = sub_444200(**(_DWORD ***)(this + 24560));
      v16 = (unsigned __int8 *)sub_44AF60(*(int **)(this + 25096), v15);
      v17 = String;
      do
      {
        v18 = *v16;
        *v17++ = *v16++;
      }
      while ( v18 );
      v14 = 25;
      goto LABEL_21;
    case 2:
    case 8:
      v19 = sub_444200(**(_DWORD ***)(this + 24600));
      v20 = (unsigned __int8 *)sub_44AF60(*(int **)(this + 25096), v19);
      v21 = String;
      do
      {
        v22 = *v20;
        *v21++ = *v20++;
      }
      while ( v22 );
      v14 = 35;
      goto LABEL_21;
    case 3:
    case 9:
      v23 = sub_444200(**(_DWORD ***)(this + 24640));
      v24 = (unsigned __int8 *)sub_44AF60(*(int **)(this + 25096), v23);
      v25 = String;
      do
      {
        v26 = *v24;
        *v25++ = *v24++;
      }
      while ( v26 );
      v14 = 45;
      goto LABEL_21;
    case 4:
    case 10:
      v27 = sub_444200(**(_DWORD ***)(this + 24680));
      v28 = (unsigned __int8 *)sub_44AF60(*(int **)(this + 25096), v27);
      v29 = String;
      do
      {
        v30 = *v28;
        *v29++ = *v28++;
      }
      while ( v30 );
      v14 = 55;
      goto LABEL_21;
    case 5:
      v14 = 60;
LABEL_21:
      v31 = a4 % 3 + v14;
      sub_445C30(**(_DWORD **)(this + 4 * v31 + 24480));
      sub_44A6E0(**(_DWORD ***)(this + 4 * v31 + 24480));
      sub_444340(
        **(float ***)(this + 4 * v31 + 24480),
        (a2 / 8) << 9,
        (a2 % 8) << 7,
        ((a2 / 8) << 9) + 128,
        ((a2 % 8) << 7) + 128);
      v32 = _mbsrchr(String, 0x5Cu);
      if ( v32 )
        sub_40E720(Buf, &v43, &v44, (char *)v32 + 1, a2);
      else
        sub_40E720(Buf, &v43, &v44, (char *)String, a2);
      if ( v9 != 5 )
      {
        if ( v9 >= 6 )
        {
          switch ( v9 )
          {
            case 6:
              v33 = 10;
              goto LABEL_33;
            case 7:
              v33 = 20;
              goto LABEL_33;
            case 8:
              v33 = 30;
              goto LABEL_33;
            case 9:
              v33 = 40;
              goto LABEL_33;
            case 10:
              v33 = 50;
LABEL_33:
              sub_4442C0(**(float ***)(this + 4 * v33 + 24480), &v45, &v46);
              v34 = (int)((double)a5 + v45);
              v35 = (double)a6 + v46;
              goto LABEL_41;
            default:
              return;
          }
        }
        switch ( v9 )
        {
          case 0:
            v36 = 10;
            goto LABEL_40;
          case 1:
            v36 = 20;
            goto LABEL_40;
          case 2:
            v36 = 30;
            goto LABEL_40;
          case 3:
            v36 = 40;
            goto LABEL_40;
          case 4:
            v36 = 50;
LABEL_40:
            sub_4442C0(**(float ***)(this + 4 * v36 + 24480), &v46, &v45);
            v34 = (int)((double)v43 + v46);
            v35 = (double)v44 + v45;
LABEL_41:
            v43 = v34;
            v44 = (int)v35;
            goto LABEL_42;
          default:
            return;
        }
      }
      v43 = a5;
      v44 = a6;
LABEL_42:
      v42 = (float)v44;
      v41 = (float)v43;
      sub_444260(**(float ***)(this + 4 * v31 + 24480), v41, v42);
      sub_4440C0(**(_DWORD **)(this + 4 * v31 + 24480), *(_DWORD *)(this + 1756));
      if ( a7 && a7 != 100 )
        sub_4088F0(**(float ***)(this + 4 * v31 + 24480), a7, a7);
      sub_444470(**(float ***)(this + 4 * v31 + 24480), 1.0);
      switch ( a3 )
      {
        case 0:
          v37 = v44 + 40;
          goto LABEL_47;
        case 1:
          v37 = v44;
          v38 = v43 - 40;
          goto LABEL_48;
        case 2:
          v37 = v44 - 40;
LABEL_47:
          v38 = v43;
          goto LABEL_48;
        case 3:
          v37 = v44;
          v38 = v43 + 40;
LABEL_48:
          sub_401040(**(float ***)(this + 4 * v31 + 24480), v38, v37);
          sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43, v44, 60, 0.0, -1);
          goto LABEL_62;
        case 4:
          sub_444470(**(float ***)(this + 4 * v31 + 24480), 0.0);
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.89999998, 60, 0, -1);
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.99000001, 60, 0, -1);
          return;
        case 5:
          sub_444470(**(float ***)(this + 4 * v31 + 24480), 0.0);
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.89999998, 30, 0, -1);
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.99000001, 60, 0, -1);
          goto LABEL_63;
        case 6:
          sub_401040(**(float ***)(this + 4 * v31 + 24480), v43, v44);
          sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43, v44 + 80, 120, 0.0, -1);
          sub_447620(**(int ***)(this + 4 * v31 + 24480), 10, 180, 720, 120, 0.0, -1);
          goto LABEL_62;
        case 7:
          sub_401040(**(float ***)(this + 4 * v31 + 24480), v43, v44);
          sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43 - 80, v44, 120, 0.0, -1);
          sub_447700(**(int ***)(this + 4 * v31 + 24480), 10, 180, 720, 120, 0.0, -1);
          goto LABEL_62;
        case 8:
          sub_401040(**(float ***)(this + 4 * v31 + 24480), v43, v44);
          sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43, v44 - 80, 120, 0.0, -1);
          sub_447620(**(int ***)(this + 4 * v31 + 24480), 10, 180, 720, 120, 0.0, -1);
          goto LABEL_62;
        case 9:
          sub_401040(**(float ***)(this + 4 * v31 + 24480), v43, v44);
          sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43 + 80, v44, 120, 0.0, -1);
          sub_447700(**(int ***)(this + 4 * v31 + 24480), 10, 180, 720, 120, 0.0, -1);
          goto LABEL_62;
        case 99:
          sub_401040(**(float ***)(this + 4 * v31 + 24480), v43, v44);
          v39 = 10;
          do
          {
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43 + 4, 0, 6, 0.0, -1);
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43, 6, 0, 0.0, -1);
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43 - 4, 0, 6, 0.0, -1);
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), v43, 0, 6, 0.0, -1);
            --v39;
          }
          while ( v39 );
          v40 = 3;
          do
          {
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), 0, v44 + 4, 10, 0.0, -1);
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), 0, v44, 10, 0.0, -1);
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), 0, v44 - 4, 10, 0.0, -1);
            sub_4474C0(**(_DWORD **)(this + 4 * v31 + 24480), 0, v44, 10, 0.0, -1);
            --v40;
          }
          while ( v40 );
LABEL_62:
          sub_444470(**(float ***)(this + 4 * v31 + 24480), 0.0);
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.89999998, 10, 0, -1);
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.99000001, 70, 0, -1);
LABEL_63:
          sub_4477E0(**(_DWORD **)(this + 4 * v31 + 24480), 0.0, 30, 0, -1);
          break;
        default:
          if ( a3 >= 100 )
          {
            if ( a3 / 10 > 1 )
              sub_447BF0(**(_DWORD **)(this + 4 * v31 + 24480), 3840, 10, 128, a3 / 10, -1);
            else
              sub_447BF0(**(_DWORD **)(this + 4 * v31 + 24480), 3840, 10, 128, 2, -1);
          }
          break;
      }
      break;
    default:
      return;
  }
}

//----- (0041E830) --------------------------------------------------------
int __stdcall sub_41E830(int a1)
{
  int result; // eax

  switch ( a1 )
  {
    case 1:
      result = 0;
      break;
    case 2:
      result = 1;
      break;
    case 3:
      result = 2;
      break;
    case 4:
      result = 10;
      break;
    case 5:
      result = 20;
      break;
    case 6:
      result = 30;
      break;
    case 7:
      result = 40;
      break;
    case 8:
      result = 50;
      break;
    case 9:
      result = 12;
      break;
    case 10:
      result = 22;
      break;
    case 11:
      result = 32;
      break;
    case 12:
      result = 42;
      break;
    case 13:
      result = 52;
      break;
    case 25:
      result = 63;
      break;
    case 26:
      result = 65;
      break;
    case 31:
      result = 75;
      break;
    case 32:
      result = 76;
      break;
    default:
      result = -1;
      break;
  }
  return result;
}

//----- (0041E940) --------------------------------------------------------
char __stdcall sub_41E940(char *Str, int a2)
{
  int v2; // edi
  char *v3; // eax
  _BYTE *v4; // ebx
  char *v5; // edx
  char v6; // cl
  int v7; // edi
  char *v8; // eax
  char *v9; // eax
  char *v10; // edx
  char v11; // cl
  const char *v12; // ebp
  int v13; // esi
  char *v14; // ecx
  int v15; // esi
  char *v16; // eax
  char *v17; // edx
  char v18; // cl
  char v19; // dl
  char v20; // cl
  char *v21; // ebx
  char *v22; // eax
  char v23; // cl
  char *v24; // eax
  const char *v25; // eax
  char *v26; // ecx
  _WORD *v28; // edi
  char v29; // cl
  char *v30; // ecx
  const char *v33; // edx
  unsigned int v34; // eax
  char *v35; // edi
  char *v37; // edi
  const char *v38; // esi
  int v39; // ecx
  char v40; // cl
  char *v42; // edi
  char *v43; // edi
  int v45; // [esp+14h] [ebp-44h]
  int v46; // [esp+18h] [ebp-40h]
  BOOL v47; // [esp+1Ch] [ebp-3Ch]
  int v48; // [esp+20h] [ebp-38h] BYREF
  char String[48]; // [esp+24h] [ebp-34h] BYREF

  v48 = 0;
  v46 = 0;
  v2 = 0;
  v47 = strstr(Str, word_48C794) != 0;
  if ( ((unsigned int)(a2 - 19) <= 4 && !_strnicmp(Str, "bst\\", 4u) || (unsigned int)(a2 - 4) <= 9)
    && *((_DWORD *)Buf + 66508) )
  {
    if ( strstr(Str, "*") )
      v2 = 1;
    if ( strstr(Str, word_48C6E4) )
      v2 = 2;
    if ( *((_DWORD *)Buf + 66508) != v2 )
    {
      if ( strstr(Str, "*") )
      {
        *strstr(Str, "*") = 64;
      }
      else if ( strstr(Str, word_48C6E4) )
      {
        *strstr(Str, word_48C6E4) = 42;
      }
      else if ( v47 )
      {
        v3 = strstr(Str, word_48C794);
        v4 = v3;
        v5 = (char *)(String - v3);
        do
        {
          v6 = *v3;
          v3[(_DWORD)v5] = *v3;
          ++v3;
        }
        while ( v6 );
        if ( *((_DWORD *)Buf + 66508) == 1 )
          *v4++ = 42;
        if ( *((_DWORD *)Buf + 66508) == 2 )
          *v4++ = 64;
        *v4 = 0;
        strcat(Str, String);
      }
    }
  }
  v7 = 0;
  LOBYTE(v8) = a2 - 9;
  v45 = 0;
  if ( (unsigned int)(a2 - 9) <= 4 )
  {
    v9 = (char *)Buf + 48 * a2 + 19256;
    v10 = (char *)(String - v9);
    do
    {
      v11 = *v9;
      v9[(_DWORD)v10] = *v9;
      ++v9;
    }
    while ( v11 );
    _strupr(String);
    if ( strstr(String, word_48C794) )
    {
      v12 = Str;
      if ( !strstr(String, "_B,") || strstr(Str, "_B,") )
      {
        v13 = v48;
      }
      else
      {
        v13 = 1;
        v46 = 1;
      }
      if ( strstr(String, "_B*,") && !strstr(Str, "_B*,") )
      {
        v7 = 1;
        v13 = 1;
        v46 = 1;
        v45 = 1;
      }
      if ( strstr(String, "_B@,") && !strstr(Str, "_B@,") )
      {
        v13 = 1;
        v7 = 2;
        v46 = 1;
        v45 = 2;
      }
      if ( strstr(String, word_48C778) && !strstr(Str, word_48C778) )
      {
        v13 = 1;
        v7 = 1;
        v45 = 1;
      }
      v8 = strstr(String, word_48C774);
      if ( v8 )
      {
        v8 = strstr(Str, word_48C774);
        if ( !v8 )
        {
          v7 = 2;
          v45 = 2;
          goto LABEL_61;
        }
      }
    }
    else
    {
      v14 = (char *)Buf + 48 * a2 + 19256;
      v15 = (_BYTE *)Buf + strlen(v14) + 19257 - ((_BYTE *)Buf + 19257);
      v16 = v14;
      v17 = (char *)(String - v14);
      do
      {
        v18 = *v16;
        v16[(_DWORD)v17] = *v16;
        ++v16;
      }
      while ( v18 );
      _strupr(String);
      v19 = String[v15 - 1];
      v8 = &String[v15];
      if ( v19 == 42 )
      {
        v13 = 1;
        v7 = 1;
        v45 = 1;
      }
      else
      {
        v13 = v48;
      }
      if ( v19 == 64 )
      {
        v7 = 2;
        v13 = 1;
        v45 = 2;
      }
      v20 = *(v8 - 2);
      if ( v20 == 95 && v19 == 66 && !v7 || *(v8 - 3) == 95 && v20 == 66 && v7 )
      {
        v12 = Str;
        v46 = 1;
LABEL_58:
        if ( v7 == 1 )
        {
          v8 = strstr(v12, "*");
          v21 = v8;
          goto LABEL_63;
        }
        if ( v7 != 2 )
        {
LABEL_67:
          if ( v47 )
          {
            v24 = strstr(v12, word_48C794);
            *v24 = 0;
            v25 = v24 + 1;
            strcpy(String, v12);
            if ( v46 )
            {
              v26 = (char *)&v48 + 3;
              while ( *++v26 )
                ;
              strcpy(v26, "_B");
            }
            if ( v7 )
            {
              if ( v7 == 1 )
              {
                v30 = (char *)&v48 + 3;
                while ( *++v30 )
                  ;
                *(_WORD *)v30 = 11306;
              }
              else
              {
                v30 = (char *)&v48 + 3;
                while ( *++v30 )
                  ;
                *(_WORD *)v30 = 11328;
              }
              v30[2] = 0;
            }
            else
            {
              v28 = (_WORD *)((char *)&v48 + 3);
              do
              {
                v29 = *((_BYTE *)v28 + 1);
                v28 = (_WORD *)((char *)v28 + 1);
              }
              while ( v29 );
              *v28 = 44;
            }
            v33 = v25;
            v34 = strlen(v25) + 1;
            v35 = (char *)&v48 + 3;
            while ( *++v35 )
              ;
            qmemcpy(v35, v33, 4 * (v34 >> 2));
            v38 = &v33[4 * (v34 >> 2)];
            v37 = &v35[4 * (v34 >> 2)];
            v39 = v34 & 3;
            v8 = String;
            qmemcpy(v37, v38, v39);
            do
            {
              v40 = *v8;
              v8[Str - String] = *v8;
              ++v8;
            }
            while ( v40 );
          }
          else
          {
            if ( v46 )
            {
              v8 = (char *)&v48 + 3;
              while ( *++v8 )
                ;
              strcpy(v8, "_B");
            }
            if ( v7 == 1 )
            {
              v42 = (char *)&v48 + 3;
              do
                LOBYTE(v8) = *++v42;
              while ( (_BYTE)v8 );
            }
            else if ( v7 == 2 )
            {
              v43 = (char *)&v48 + 3;
              do
                LOBYTE(v8) = *++v43;
              while ( (_BYTE)v8 );
            }
          }
          return (char)v8;
        }
LABEL_61:
        v8 = strstr(v12, word_48C6E4);
        v21 = v8;
LABEL_63:
        if ( v21 )
        {
          v22 = v21 + 1;
          *v21 = 0;
          do
          {
            v23 = *v22;
            v22[String - (v21 + 1)] = *v22;
            ++v22;
          }
          while ( v23 );
          v8 = (char *)(strlen(String) + 1);
          v12 = Str;
          qmemcpy(&Str[strlen(Str)], String, (unsigned int)v8);
          v7 = v45;
        }
        goto LABEL_67;
      }
      v12 = Str;
    }
    if ( !v13 )
      return (char)v8;
    goto LABEL_58;
  }
  return (char)v8;
}
// 41ED39: conditional instruction was optimized away because edi.4==0
// 41EE2F: conditional instruction was optimized away because edi.4==2
// 41E940:  char String[48]

//----- (0041EF20) --------------------------------------------------------
BOOL __stdcall sub_41EF20(char *Str, char *a2)
{
  int v2; // ebp
  char *v3; // eax
  int v4; // esi
  char v5; // cl
  unsigned int v6; // ebx
  char *v7; // eax
  char v8; // cl
  char v9; // dl
  char *v10; // ecx
  char v11; // al
  char *v12; // edi
  char *v13; // esi
  char *v14; // eax
  char v15; // cl
  char *v16; // eax
  const char *v17; // eax
  char *v18; // ecx
  _WORD *v20; // edi
  char v21; // cl
  char *v22; // ecx
  const char *v25; // edx
  unsigned int v26; // eax
  char *v27; // edi
  char *v29; // eax
  char *v31; // edi
  _WORD *v33; // edi
  char v34; // al
  int v36; // [esp+14h] [ebp-6Ch]
  BOOL v37; // [esp+18h] [ebp-68h] BYREF
  char String[48]; // [esp+1Ch] [ebp-64h] BYREF
  char Str1[48]; // [esp+4Ch] [ebp-34h] BYREF

  v2 = 0;
  v36 = 0;
  strcpy(Str1, a2);
  v37 = strstr(Str, word_48C794) != 0;
  v3 = Str;
  v4 = String - Str;
  do
  {
    v5 = *v3;
    v3[v4] = *v3;
    ++v3;
  }
  while ( v5 );
  _strupr(String);
  if ( strstr(String, word_48C794) )
  {
    if ( strstr(String, "_B,") )
      v36 = 1;
    if ( strstr(String, "_B*,") )
    {
      v36 = 1;
      v2 = 1;
    }
    if ( strstr(String, "_B@,") )
    {
      v36 = 1;
      v2 = 2;
    }
    if ( strstr(String, word_48C778) )
      v2 = 1;
    if ( strstr(String, word_48C774) )
      v2 = 2;
  }
  else
  {
    v6 = strlen(Str);
    v7 = Str;
    do
    {
      v8 = *v7;
      v7[v4] = *v7;
      ++v7;
    }
    while ( v8 );
    _strupr(String);
    v9 = String[v6 - 1];
    v10 = &String[v6];
    if ( v9 == 42 )
      v2 = 1;
    if ( v9 == 64 )
      v2 = 2;
    v11 = *(v10 - 2);
    if ( v11 == 95 && v9 == 66 && !v2 || *(v10 - 3) == 95 && v11 == 66 && v2 )
      v36 = 1;
  }
  v12 = a2;
  v13 = 0;
  if ( strstr(a2, "*") )
    v13 = strstr(a2, "*");
  if ( strstr(a2, word_48C6E4) )
    v13 = strstr(a2, word_48C6E4);
  if ( v13 )
  {
    v14 = v13 + 1;
    *v13 = 0;
    do
    {
      v15 = *v14;
      v14[String - (v13 + 1)] = *v14;
      ++v14;
    }
    while ( v15 );
    strcat(a2, String);
    v12 = a2;
  }
  if ( !v37 )
  {
    if ( v36 )
    {
      v29 = (char *)&v37 + 3;
      while ( *++v29 )
        ;
      strcpy(v29, "_B");
    }
    if ( v2 == 1 )
    {
      v31 = (char *)&v37 + 3;
      while ( *++v31 )
        ;
      strcpy(v31, "*");
    }
    else
    {
      if ( v2 != 2 )
      {
LABEL_68:
        strcpy(v12, String);
        return strncmp(Str1, v12, strlen(Str1)) || strlen(v12) != strlen(Str1);
      }
      v33 = (_WORD *)((char *)&v37 + 3);
      do
      {
        v34 = *((_BYTE *)v33 + 1);
        v33 = (_WORD *)((char *)v33 + 1);
      }
      while ( v34 );
      *v33 = 64;
    }
    v12 = a2;
    goto LABEL_68;
  }
  v16 = strstr(v12, word_48C794);
  *v16 = 0;
  v17 = v16 + 1;
  strcpy(String, v12);
  if ( v36 )
  {
    v18 = (char *)&v37 + 3;
    while ( *++v18 )
      ;
    strcpy(v18, "_B");
  }
  if ( v2 )
  {
    if ( v2 == 1 )
    {
      v22 = (char *)&v37 + 3;
      while ( *++v22 )
        ;
      *(_WORD *)v22 = 11306;
    }
    else
    {
      v22 = (char *)&v37 + 3;
      while ( *++v22 )
        ;
      *(_WORD *)v22 = 11328;
    }
    v22[2] = 0;
  }
  else
  {
    v20 = (_WORD *)((char *)&v37 + 3);
    do
    {
      v21 = *((_BYTE *)v20 + 1);
      v20 = (_WORD *)((char *)v20 + 1);
    }
    while ( v21 );
    *v20 = 44;
  }
  v25 = v17;
  v26 = strlen(v17) + 1;
  v27 = (char *)&v37 + 3;
  while ( *++v27 )
    ;
  qmemcpy(v27, v25, v26);
  strcpy(a2, String);
  v12 = a2;
  return strncmp(Str1, v12, strlen(Str1)) || strlen(v12) != strlen(Str1);
}
// 41F1DD: conditional instruction was optimized away because ebp.4==2
// 41EF20:  char String[48]

//----- (0041F340) --------------------------------------------------------
void *__thiscall sub_41F340(int this, int a2)
{
  int v2; // esi
  int **v4; // ebp
  int v5; // ebx
  void *result; // eax

  v2 = a2;
  if ( *(_DWORD *)(this + 4 * a2 + 1588) )
  {
    while ( 1 )
    {
      if ( (unsigned int)(v2 - 33) > 3 )
      {
        sub_44BF60(*(int **)(this + 25096), *(_DWORD *)(this + 4 * v2 + 1588));
        v4 = (int **)(this + 24480);
        v5 = 150;
        do
        {
          sub_444210(**v4++, *(_DWORD *)(this + 4 * v2 + 1588));
          --v5;
        }
        while ( v5 );
      }
      else
      {
        sub_44D910(*(_DWORD *)(this + 4 * v2 + 1588));
      }
      *(_DWORD *)(this + 4 * v2 + 1588) = 0;
      result = Buf;
      *((_BYTE *)Buf + 48 * v2 + 19496) = 0;
      switch ( v2 )
      {
        case 4:
          return (void *)sub_41F340(9);
        case 5:
          return (void *)sub_41F340(10);
        case 6:
          return (void *)sub_41F340(11);
      }
      if ( v2 == 7 )
        break;
      if ( v2 == 8 )
      {
        v2 = 13;
        if ( *(_DWORD *)(this + 1640) )
          continue;
      }
      return result;
    }
    return (void *)sub_41F340(12);
  }
  return result;
}

//----- (0041F440) --------------------------------------------------------
void __thiscall sub_41F440(int this)
{
  sub_413360(*(_DWORD **)(this + 10348));
  sub_413360(*(_DWORD **)(this + 10352));
  sub_413360(*(_DWORD **)(this + 10356));
  sub_436250(*(_DWORD *)(this + 10364));
  sub_413360(*(_DWORD **)(this + 10360));
  sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF6u, 0);
}

//----- (0041F490) --------------------------------------------------------
void __thiscall sub_41F490(int *this, int a2, int a3, int a4, int a5)
{
  if ( a2 == 15 )
  {
    sub_40EF40(this[6126], 15, a3, a4, 0, 0);
  }
  else
  {
    sub_40EF40(this[6126], a2, a3, a4, 4, a5);
    sub_40EF40(this[6139], a2, a3, a4, 3, a5);
    sub_40EF40(this[6149], a2, a3, a4, 2, a5);
    sub_40EF40(this[6159], a2, a3, a4, 1, a5);
    sub_40EF40(this[6179], a2, a3, a4, 0, a5);
  }
}

//----- (0041F540) --------------------------------------------------------
int __thiscall sub_41F540(char *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int **v9; // ebp
  int **v11; // esi
  int **v12; // ebx
  int v13; // ecx
  int **v15; // [esp+28h] [ebp-4h]
  char *v16; // [esp+30h] [ebp+4h]
  float v17; // [esp+34h] [ebp+8h]
  float v18; // [esp+34h] [ebp+8h]
  float v19; // [esp+38h] [ebp+Ch]
  float v20; // [esp+38h] [ebp+Ch]
  int **v21; // [esp+3Ch] [ebp+10h]
  float v22; // [esp+44h] [ebp+18h]
  float v23; // [esp+44h] [ebp+18h]

  v9 = (int **)&this[4 * a2 + 24480];
  if ( a7 )
  {
    v22 = (float)a6;
    v19 = (float)(a4 + 288);
    v17 = (float)(a3 + 512);
    sub_448210(**v9, v17, v19, v22, a5, 0, -1);
    v15 = (int **)&this[4 * a2 + 24488];
    sub_448210(**v15, v17, v19, v22, a5, 0, -1);
    v16 = &this[4 * a2 + 24500];
    sub_448210(**(_DWORD **)&this[4 * a2 + 24500], v17, v19, v22, a5, 0, -1);
    v21 = (int **)&this[4 * a2 + 24504];
    sub_448210(**v21, v17, v19, v22, a5, 0, -1);
    v11 = (int **)&this[4 * a2 + 24508];
    sub_448210(**v11, v17, v19, v22, a5, 0, -1);
    v12 = v15;
  }
  else
  {
    v20 = (float)(a4 + 288);
    v18 = (float)(a3 + 512);
    v23 = (float)a6;
    sub_444A50(**v9, v23, v23, v18, v20, 1);
    v12 = (int **)&this[4 * a2 + 24488];
    sub_444A50(**v12, v23, v23, v18, v20, 1);
    v16 = &this[4 * a2 + 24500];
    sub_444A50(**(_DWORD **)&this[4 * a2 + 24500], v23, v23, v18, v20, 1);
    v21 = (int **)&this[4 * a2 + 24504];
    sub_444A50(**v21, v23, v23, v18, v20, 1);
    v13 = **(_DWORD **)&this[4 * a2 + 24508];
    v11 = (int **)&this[4 * a2 + 24508];
    sub_444A50(v13, v23, v23, v18, v20, 1);
  }
  if ( a6 == 100 )
  {
    sub_444A30((_DWORD *)**v9, 0);
    sub_444A30((_DWORD *)**v12, 0);
    sub_444A30(**(_DWORD ***)v16, 0);
    sub_444A30((_DWORD *)**v21, 0);
    return sub_444A30((_DWORD *)**v11, 0);
  }
  else
  {
    sub_444A30((_DWORD *)**v9, 1);
    sub_444A30((_DWORD *)**v12, 1);
    sub_444A30(**(_DWORD ***)v16, 1);
    sub_444A30((_DWORD *)**v21, 1);
    return sub_444A30((_DWORD *)**v11, 1);
  }
}

//----- (0041F870) --------------------------------------------------------
void __thiscall sub_41F870(float ***this, float a2, int a3, int a4, int a5, float a6)
{
  float **v7; // edx
  int v8; // edi
  float *v9; // ecx
  int v10; // [esp+18h] [ebp-8h] BYREF
  int v11; // [esp+1Ch] [ebp-4h] BYREF

  v7 = this[6120];
  v8 = 12 * LODWORD(a6);
  if ( SLODWORD(a2) < 2 )
  {
    sub_4444D0(*v7, &v11, &v10);
  }
  else
  {
    v9 = *v7;
    if ( LODWORD(a2) == 3 )
    {
      sub_444400(v9, &a6, &a2);
      sub_4478E0((int)*this[6120], a6, v8, 0, -1);
      *((float *)Buf + 30342) = a6;
      *((float *)Buf + 30343) = a2;
      sub_444400(*this[6130], &a6, &a2);
      sub_4478E0((int)*this[6130], a6, v8, 0, -1);
      *((float *)Buf + 32742) = a6;
      *((float *)Buf + 32743) = a2;
      sub_444400(*this[6140], &a6, &a2);
      sub_4478E0((int)*this[6140], a6, v8, 0, -1);
      *((float *)Buf + 35142) = a6;
      *((float *)Buf + 35143) = a2;
      sub_444400(*this[6150], &a6, &a2);
      sub_4478E0((int)*this[6150], a6, v8, 0, -1);
      *((float *)Buf + 37542) = a6;
      *((float *)Buf + 37543) = a2;
      sub_444400(*this[6160], &a6, &a2);
      sub_4478E0((int)*this[6160], a6, v8, 0, -1);
      *((float *)Buf + 39942) = a6;
      *((float *)Buf + 39943) = a2;
      sub_444400(*this[6170], &a6, &a2);
      sub_4478E0((int)*this[6170], a6, v8, 0, -1);
    }
    else
    {
      sub_444400(v9, &a6, &a2);
      sub_4443C0(*this[6120], a6, a2);
      *((float *)Buf + 30342) = a6;
      *((float *)Buf + 30343) = a2;
      sub_444400(*this[6130], &a6, &a2);
      sub_4443C0(*this[6130], a6, a2);
      *((float *)Buf + 32742) = a6;
      *((float *)Buf + 32743) = a2;
      sub_444400(*this[6140], &a6, &a2);
      sub_4443C0(*this[6140], a6, a2);
      *((float *)Buf + 35142) = a6;
      *((float *)Buf + 35143) = a2;
      sub_444400(*this[6150], &a6, &a2);
      sub_4443C0(*this[6150], a6, a2);
      *((float *)Buf + 37542) = a6;
      *((float *)Buf + 37543) = a2;
      sub_444400(*this[6160], &a6, &a2);
      sub_4443C0(*this[6160], a6, a2);
      *((float *)Buf + 39942) = a6;
      *((float *)Buf + 39943) = a2;
      sub_444400(*this[6170], &a6, &a2);
      sub_4443C0(*this[6170], a6, a2);
    }
    *((float *)Buf + 42342) = a6;
    *((float *)Buf + 42343) = a2;
  }
}

//----- (0041FC80) --------------------------------------------------------
int __thiscall sub_41FC80(_DWORD *this, int a2)
{
  return this[a2 + 397];
}

//----- (0041FC90) --------------------------------------------------------
int __thiscall sub_41FC90(const char **this, const char *a2)
{
  int result; // eax

  result = sub_438420(this[2585], a2);
  if ( result != -1 )
  {
    *((_DWORD *)Buf + 5533) = sub_438420(this[2585], a2);
    return 0;
  }
  return result;
}

//----- (0041FCD0) --------------------------------------------------------
int __thiscall sub_41FCD0(const char **this, int a2)
{
  int result; // eax

  result = sub_4384F0(this[2585], a2);
  if ( result != -1 )
  {
    *((_DWORD *)Buf + 5533) = sub_4384F0(this[2585], a2);
    return 0;
  }
  return result;
}

//----- (0041FD10) --------------------------------------------------------
int __thiscall sub_41FD10(int this, const char *a2, int a3)
{
  int v4; // edi

  v4 = a3;
  if ( a3 < 0 )
    v4 = 0;
  strcpy(byte_4C00D0, a2);
  sub_406950(*(int **)(this + 10344), v4, -1, 1);
  sub_402750(*(_DWORD *)(this + 10344));
  *(_DWORD *)(this + 15616) = 1;
  return 0;
}

//----- (0041FD70) --------------------------------------------------------
char *__thiscall sub_41FD70(_DWORD *this, char *Str)
{
  char *v2; // ebp
  _DWORD *v3; // edi
  int v4; // ebx
  char *v5; // esi
  char *v6; // eax
  char v7; // cl
  unsigned int v8; // eax
  char *v9; // edi
  char *v10; // eax
  char v11; // cl
  BOOL v12; // ebx
  char v13; // al
  char *v14; // esi
  char *v15; // edi
  char v16; // al
  char *v17; // ecx
  const char *v18; // edi
  char *v19; // eax
  const char *v20; // eax
  const char *v21; // ecx
  char v22; // dl
  unsigned int v23; // edx
  char *v24; // edi
  const char *v26; // ecx
  unsigned int v27; // eax
  const char *v28; // esi
  char *v29; // edi
  int v31; // edx
  const char *v32; // esi
  char *v33; // edi
  char v34; // al
  int v35; // ecx
  int v36; // eax
  const char *v37; // esi
  char *v38; // edi
  char v39; // cl
  int v40; // edx
  float *v41; // edi
  int v42; // eax
  const char *v43; // esi
  char *v44; // edi
  char v45; // cl
  int v46; // edx
  char *v47; // edi
  int v48; // eax
  const char *v49; // eax
  int v50; // edx
  const char *v51; // esi
  char *v52; // edi
  char v53; // al
  int v54; // ecx
  char *v55; // edi
  int v56; // eax
  const char *v57; // eax
  int v58; // eax
  const char *v59; // esi
  char *v60; // edi
  char v61; // cl
  int v62; // edx
  char *v63; // edi
  int v64; // eax
  const char *v65; // eax
  char *v66; // eax
  char v67; // cl
  char *v68; // eax
  char v69; // cl
  char *v70; // eax
  char v71; // cl
  _DWORD *v72; // edi
  char *v73; // eax
  char v74; // cl
  _DWORD *v75; // edi
  char *v76; // eax
  char v77; // cl
  _DWORD *v78; // edi
  char *v79; // eax
  char v80; // cl
  _DWORD *v81; // edi
  char *v82; // eax
  char v83; // cl
  _DWORD *v84; // edi
  char *v85; // eax
  char v86; // cl
  _DWORD *v87; // edi
  char *v88; // eax
  char v89; // cl
  _DWORD *v90; // edi
  char *v91; // eax
  char v92; // cl
  const char *v93; // esi
  _DWORD *v94; // ebp
  char *v95; // edi
  char v96; // cl
  int v97; // edx
  int v98; // eax
  int v99; // eax
  char *result; // eax
  const char *v101; // edi
  char *v102; // esi
  unsigned int v103; // edi
  char v104; // cl
  char *v105; // esi
  char *v106; // eax
  char *v108; // esi
  char *v109; // eax
  char *v110; // edx
  char v111; // cl
  int v112; // esi
  int v113; // edx
  _DWORD *v114; // edi
  int v115; // ecx
  _DWORD *v116; // eax
  int v117; // ecx
  int v118; // [esp+10h] [ebp-1028h]
  int v120; // [esp+1Ch] [ebp-101Ch]
  int v121; // [esp+20h] [ebp-1018h]
  char String[11]; // [esp+28h] [ebp-1010h] BYREF
  char v123; // [esp+33h] [ebp-1005h] BYREF
  char v124[1024]; // [esp+34h] [ebp-1004h] BYREF
  char SubStr[2048]; // [esp+434h] [ebp-C04h] BYREF
  char v126[1024]; // [esp+C34h] [ebp-404h] BYREF

  v2 = Str;
  v3 = this;
  v4 = 0;
  v120 = 4;
  v121 = 0;
  v5 = Str;
  if ( !this[6117] )
    memset(this + 5985, 0, 0x210u);
  memset(SubStr, 0, sizeof(SubStr));
  v118 = v3[6117];
  if ( !*Str )
    goto LABEL_263;
  while ( v118 < 10 )
  {
    if ( !strncmp("&f", v5, 2u) )
    {
      *v5 = 0;
      v6 = v5 + 2;
      do
      {
        v7 = *v6;
        v6[v124 - (v5 + 2)] = *v6;
        ++v6;
      }
      while ( v7 );
      qmemcpy(
        &v2[strlen(v2)],
        (char *)Buf + 265288,
        (_BYTE *)Buf + strlen((const char *)Buf + 265288) + 1 - (_BYTE *)Buf);
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    if ( !strncmp("&n", v5, 2u) )
    {
      *v5 = 0;
      v10 = v5 + 2;
      do
      {
        v11 = *v10;
        v10[v124 - (v5 + 2)] = *v10;
        ++v10;
      }
      while ( v11 );
      qmemcpy(
        &v2[strlen(v2)],
        (char *)Buf + 265268,
        (_BYTE *)Buf + strlen((const char *)Buf + 265268) + 1 - (_BYTE *)Buf);
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    if ( !strncmp("@cmd", v5, 4u) || !strncmp("@d", v5, 2u) )
    {
      *v5 = 0;
      if ( !strncmp("cmd", v5 + 1, 3u) )
        v93 = v5 + 4;
      else
        v93 = v5 + 2;
      v94 = &this[13 * v118];
      v94[5988] = 36;
      v95 = String;
      if ( isdigit(*(unsigned __int8 *)v93) )
      {
        do
        {
          v96 = *v93;
          v97 = *(unsigned __int8 *)++v93;
          *v95++ = v96;
        }
        while ( isdigit(v97) );
      }
      *v95 = 0;
      if ( v121 )
        v98 = 100 * v121;
      else
        v98 = (int)((double)(int)(22 * (strlen(Str) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      v94[5989] = v98;
      v99 = atoi(String);
      v94[5990] = v99;
      if ( v99 < 0 )
        v94[5990] = 0;
      ++v118;
      strcpy(v124, v93);
      v2 = strcat(Str, v124);
      v121 = 0;
      v5 = Str;
      v4 = 0;
      goto LABEL_262;
    }
    if ( strncmp("@re1", v5, 4u) )
      goto LABEL_54;
    v12 = strstr(v5, "@n") != 0;
    *v5 = 0;
    v13 = v5[4];
    v14 = v5 + 4;
    v15 = SubStr;
    if ( v13 )
    {
      while ( v13 != 64 || v14[1] != 114 || v14[2] != 101 || v14[3] != 50 )
      {
        ++v14;
        *v15 = v13;
        v13 = *v14;
        ++v15;
        if ( !*v14 )
          goto LABEL_28;
      }
      if ( v124[strlen(SubStr) + 1023] == 10 )
      {
        v2 = Str;
        v124[strlen(SubStr) + 1023] = 0;
      }
    }
LABEL_28:
    *v15 = 0;
    if ( strncmp("@re2", v14, 4u) )
      goto LABEL_39;
    v16 = v14[4];
    v14 += 4;
    v17 = &SubStr[1024];
    if ( !v16 )
      goto LABEL_38;
    while ( v16 == 10 )
    {
      if ( !v12 )
      {
        ++v14;
        goto LABEL_38;
      }
LABEL_35:
      ++v14;
      *v17 = v16;
      v16 = *v14;
      ++v17;
      if ( !*v14 )
        goto LABEL_38;
    }
    if ( v16 != 64 || v14[1] != 110 )
      goto LABEL_35;
    v14 += 3;
LABEL_38:
    *v17 = 0;
LABEL_39:
    strcat(v2, v14);
    if ( *((_DWORD *)Buf + 66516) )
    {
      if ( SubStr[0] )
      {
        if ( strstr(v2, SubStr) && strstr(v2, SubStr) )
        {
          v18 = Str;
          do
          {
            v19 = strstr(v18, SubStr);
            *v19 = 0;
            v20 = &v19[strlen(SubStr)];
            v21 = v18;
            do
            {
              v22 = *v21;
              v21[v124 - Str] = *v21;
              ++v21;
            }
            while ( v22 );
            v23 = strlen(&SubStr[1024]) + 1;
            v24 = &v123;
            while ( *++v24 )
              ;
            qmemcpy(v24, &SubStr[1024], v23);
            v26 = v20;
            v27 = strlen(v20) + 1;
            v28 = v26;
            v29 = &v123;
            while ( *++v29 )
              ;
            qmemcpy(v29, v28, v27);
            strcpy(Str, v124);
            v18 = Str;
          }
          while ( strstr(Str, SubStr) );
          v2 = Str;
        }
      }
      else
      {
        strcpy(v2, &SubStr[1024]);
      }
    }
    v4 = v121;
    v3 = this;
    v5 = v2;
LABEL_54:
    if ( !strncmp("@w1", v5, 3u)
      || !strncmp("@w2", v5, 3u)
      || !strncmp("@w3", v5, 3u)
      || !strncmp("@w4", v5, 3u)
      || !strncmp("@w5", v5, 3u) )
    {
      if ( !strncmp("@w1", v5, 3u) )
        v3[13 * v118 + 5988] = 6;
      if ( !strncmp("@w2", v5, 3u) )
        v3[13 * v118 + 5988] = 7;
      if ( !strncmp("@w3", v5, 3u) )
        v3[13 * v118 + 5988] = 8;
      if ( !strncmp("@w4", v5, 3u) )
        v3[13 * v118 + 5988] = 9;
      if ( !strncmp("@w5", v5, 3u) )
        v3[13 * v118 + 5988] = 10;
      *v5 = 0;
      v90 = &this[13 * v118];
      if ( v4 )
        v90[5989] = 100 * v4;
      else
        v90[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v90[5990] = v120;
      v91 = v5 + 3;
      do
      {
        v92 = *v91;
        v91[v124 - (v5 + 3)] = *v91;
        ++v91;
      }
      while ( v92 );
      goto LABEL_154;
    }
    if ( !strncmp("@wb1", v5, 4u)
      || !strncmp("@wb2", v5, 4u)
      || !strncmp("@wb3", v5, 4u)
      || !strncmp("@wb4", v5, 4u)
      || !strncmp("@wb5", v5, 4u) )
    {
      if ( !strncmp("@wb1", v5, 4u) )
        v3[13 * v118 + 5988] = 1;
      if ( !strncmp("@wb2", v5, 4u) )
        v3[13 * v118 + 5988] = 2;
      if ( !strncmp("@wb3", v5, 4u) )
        v3[13 * v118 + 5988] = 3;
      if ( !strncmp("@wb4", v5, 4u) )
        v3[13 * v118 + 5988] = 4;
      if ( !strncmp("@wb5", v5, 4u) )
        v3[13 * v118 + 5988] = 5;
      *v5 = 0;
      v87 = &this[13 * v118];
      if ( v4 )
        v87[5989] = 100 * v4;
      else
        v87[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v87[5990] = v120;
      v88 = v5 + 4;
      do
      {
        v89 = *v88;
        v88[v124 - (v5 + 4)] = *v88;
        ++v88;
      }
      while ( v89 );
      goto LABEL_154;
    }
    if ( !strncmp("@bt1", v5, 4u)
      || !strncmp("@bt2", v5, 4u)
      || !strncmp("@bt3", v5, 4u)
      || !strncmp("@bt4", v5, 4u)
      || !strncmp("@bt5", v5, 4u) )
    {
      if ( !strncmp("@bt1", v5, 4u) )
        v3[13 * v118 + 5988] = 14;
      if ( !strncmp("@bt2", v5, 4u) )
        v3[13 * v118 + 5988] = 15;
      if ( !strncmp("@bt3", v5, 4u) )
        v3[13 * v118 + 5988] = 16;
      if ( !strncmp("@bt4", v5, 4u) )
        v3[13 * v118 + 5988] = 17;
      if ( !strncmp("@bt5", v5, 4u) )
        v3[13 * v118 + 5988] = 18;
      *v5 = 0;
      v84 = &this[13 * v118];
      if ( v4 )
        v84[5989] = 100 * v4;
      else
        v84[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v84[5990] = v120;
      v85 = v5 + 4;
      do
      {
        v86 = *v85;
        v85[v124 - (v5 + 4)] = *v85;
        ++v85;
      }
      while ( v86 );
      goto LABEL_154;
    }
    if ( !strncmp("@by1", v5, 4u)
      || !strncmp("@by2", v5, 4u)
      || !strncmp("@by3", v5, 4u)
      || !strncmp("@by4", v5, 4u)
      || !strncmp("@by5", v5, 4u) )
    {
      if ( !strncmp("@by1", v5, 4u) )
        v3[13 * v118 + 5988] = 19;
      if ( !strncmp("@by2", v5, 4u) )
        v3[13 * v118 + 5988] = 20;
      if ( !strncmp("@by3", v5, 4u) )
        v3[13 * v118 + 5988] = 21;
      if ( !strncmp("@by4", v5, 4u) )
        v3[13 * v118 + 5988] = 22;
      if ( !strncmp("@by5", v5, 4u) )
        v3[13 * v118 + 5988] = 23;
      *v5 = 0;
      v81 = &this[13 * v118];
      if ( v4 )
        v81[5989] = 100 * v4;
      else
        v81[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v81[5990] = v120;
      v82 = v5 + 4;
      do
      {
        v83 = *v82;
        v82[v124 - (v5 + 4)] = *v82;
        ++v82;
      }
      while ( v83 );
      goto LABEL_154;
    }
    if ( !strncmp("@bi1", v5, 4u)
      || !strncmp("@bi2", v5, 4u)
      || !strncmp("@bi3", v5, 4u)
      || !strncmp("@bi4", v5, 4u)
      || !strncmp("@bi5", v5, 4u) )
    {
      if ( !strncmp("@bi1", v5, 4u) )
        v3[13 * v118 + 5988] = 24;
      if ( !strncmp("@bi2", v5, 4u) )
        v3[13 * v118 + 5988] = 25;
      if ( !strncmp("@bi3", v5, 4u) )
        v3[13 * v118 + 5988] = 26;
      if ( !strncmp("@bi4", v5, 4u) )
        v3[13 * v118 + 5988] = 27;
      if ( !strncmp("@bi5", v5, 4u) )
        v3[13 * v118 + 5988] = 28;
      *v5 = 0;
      v78 = &this[13 * v118];
      if ( v4 )
        v78[5989] = 100 * v4;
      else
        v78[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v78[5990] = v120;
      v79 = v5 + 4;
      do
      {
        v80 = *v79;
        v79[v124 - (v5 + 4)] = *v79;
        ++v79;
      }
      while ( v80 );
      goto LABEL_154;
    }
    if ( !strncmp("@bo1", v5, 4u)
      || !strncmp("@bo2", v5, 4u)
      || !strncmp("@bo3", v5, 4u)
      || !strncmp("@bo4", v5, 4u)
      || !strncmp("@bo5", v5, 4u) )
    {
      if ( !strncmp("@bo1", v5, 4u) )
        v3[13 * v118 + 5988] = 29;
      if ( !strncmp("@bo2", v5, 4u) )
        v3[13 * v118 + 5988] = 30;
      if ( !strncmp("@bo3", v5, 4u) )
        v3[13 * v118 + 5988] = 31;
      if ( !strncmp("@bo4", v5, 4u) )
        v3[13 * v118 + 5988] = 32;
      if ( !strncmp("@bo5", v5, 4u) )
        v3[13 * v118 + 5988] = 33;
      *v5 = 0;
      v75 = &this[13 * v118];
      if ( v4 )
        v75[5989] = 100 * v4;
      else
        v75[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v75[5990] = v120;
      v76 = v5 + 4;
      do
      {
        v77 = *v76;
        v76[v124 - (v5 + 4)] = *v76;
        ++v76;
      }
      while ( v77 );
      goto LABEL_154;
    }
    if ( !strncmp("@hy", v5, 3u) || !strncmp("@ht", v5, 3u) )
    {
      if ( !strncmp("@hy", v5, 3u) )
        v3[13 * v118 + 5988] = 34;
      if ( !strncmp("@ht", v5, 3u) )
        v3[13 * v118 + 5988] = 35;
      *v5 = 0;
      v72 = &this[13 * v118];
      if ( v4 )
        v72[5989] = 100 * v4;
      else
        v72[5989] = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16)) * 16.65999984741211);
      ++v118;
      v72[5990] = v120;
      v73 = v5 + 3;
      do
      {
        v74 = *v73;
        v73[v124 - (v5 + 3)] = *v73;
        ++v73;
      }
      while ( v74 );
LABEL_154:
      strcat(v2, v124);
      v4 = 0;
      v121 = 0;
      v5 = v2;
      goto LABEL_262;
    }
    if ( !strncmp("@t", v5, 2u) )
    {
      *v5 = 0;
      v31 = (unsigned __int8)v5[2];
      v32 = v5 + 2;
      v33 = String;
      if ( isdigit(v31) )
      {
        do
        {
          v34 = *v32;
          v35 = *(unsigned __int8 *)++v32;
          *v33++ = v34;
        }
        while ( isdigit(v35) );
      }
      *v33 = 0;
      v4 = atoi(String);
      v121 = v4;
      strcpy(v124, v32);
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    if ( !strncmp("@muf", v5, 4u) )
    {
      *v5 = 0;
      v36 = (unsigned __int8)v5[4];
      v37 = v5 + 4;
      v38 = String;
      if ( isdigit(v36) )
      {
        do
        {
          v39 = *v37;
          v40 = *(unsigned __int8 *)++v37;
          *v38++ = v39;
        }
        while ( isdigit(v40) );
      }
      *v38 = 0;
      v41 = (float *)&this[13 * v118];
      if ( v4 )
        *((_DWORD *)v41 + 5989) = 100 * v4;
      else
        *((_DWORD *)v41 + 5989) = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16))
                                      * 16.65999984741211);
      *((_DWORD *)v41 + 5988) = 12;
      ++v118;
      v41[5991] = (float)atoi(String);
      strcpy(v124, v37);
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    if ( !strncmp("@mu", v5, 3u) )
    {
      *v5 = 0;
      v42 = (unsigned __int8)v5[3];
      v43 = v5 + 3;
      v44 = String;
      if ( isdigit(v42) )
      {
        do
        {
          v45 = *v43;
          v46 = *(unsigned __int8 *)++v43;
          *v44++ = v45;
        }
        while ( isdigit(v46) );
      }
      *v44 = 0;
      v47 = (char *)&this[13 * v118];
      if ( v4 )
        *((_DWORD *)v47 + 5989) = 100 * v4;
      else
        *((_DWORD *)v47 + 5989) = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16))
                                      * 16.65999984741211);
      *((_DWORD *)v47 + 5988) = 11;
      v48 = atoi(String);
      v49 = sub_40C9D0(Buf, v48, 0);
      sprintf(v47 + 23968, "%s", v49);
      ++v118;
      *((_DWORD *)Buf + 5494) = atoi(String);
      strcpy(v124, v43);
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    if ( !strncmp("@se", v5, 3u) )
    {
      *v5 = 0;
      v50 = (unsigned __int8)v5[3];
      v51 = v5 + 3;
      v52 = String;
      if ( isdigit(v50) )
      {
        do
        {
          v53 = *v51;
          v54 = *(unsigned __int8 *)++v51;
          *v52++ = v53;
        }
        while ( isdigit(v54) );
      }
      *v52 = 0;
      v55 = (char *)&this[13 * v118];
      if ( v4 )
        *((_DWORD *)v55 + 5989) = 100 * v4;
      else
        *((_DWORD *)v55 + 5989) = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16))
                                      * 16.65999984741211);
      *((_DWORD *)v55 + 5988) = 13;
      *((_DWORD *)v55 + 5987) = 0;
      v56 = atoi(String);
      v57 = sub_40CA20(Buf, v56);
      sprintf(v55 + 23968, "%s", v57);
      ++v118;
      strcpy(v124, v51);
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    if ( strncmp("@lse", v5, 4u) )
    {
      if ( !strncmp("@b1", v5, 3u)
        || !strncmp("@b2", v5, 3u)
        || !strncmp("@b3", v5, 3u)
        || !strncmp("@b4", v5, 3u)
        || !strncmp("@b5", v5, 3u) )
      {
        if ( !strncmp("@b1", v5, 3u) )
          v120 = 4;
        if ( !strncmp("@b2", v5, 3u) )
          v120 = 5;
        if ( !strncmp("@b3", v5, 3u) )
          v120 = 6;
        if ( !strncmp("@b4", v5, 3u) )
          v120 = 7;
        if ( !strncmp("@b5", v5, 3u) )
          v120 = 8;
        v70 = v5 + 3;
        *v5 = 0;
        do
        {
          v71 = *v70;
          v70[v124 - (v5 + 3)] = *v70;
          ++v70;
        }
        while ( v71 );
      }
      else if ( !strncmp("@bc", v5, 3u) )
      {
        *v5 = 0;
        v66 = v5 + 3;
        v120 = 25;
        do
        {
          v67 = *v66;
          v66[v124 - (v5 + 3)] = *v66;
          ++v66;
        }
        while ( v67 );
      }
      else
      {
        if ( strncmp("@bf", v5, 3u) )
        {
          ++v5;
          goto LABEL_262;
        }
        *v5 = 0;
        v68 = v5 + 3;
        v120 = 31;
        do
        {
          v69 = *v68;
          v68[v124 - (v5 + 3)] = *v68;
          ++v68;
        }
        while ( v69 );
      }
      v8 = strlen(v124) + 1;
      v9 = &v2[strlen(v2)];
      goto LABEL_11;
    }
    *v5 = 0;
    v58 = (unsigned __int8)v5[4];
    v59 = v5 + 4;
    v60 = String;
    if ( isdigit(v58) )
    {
      do
      {
        v61 = *v59;
        v62 = *(unsigned __int8 *)++v59;
        *v60++ = v61;
      }
      while ( isdigit(v62) );
    }
    *v60 = 0;
    v63 = (char *)&this[13 * v118];
    if ( v4 )
      *((_DWORD *)v63 + 5989) = 100 * v4;
    else
      *((_DWORD *)v63 + 5989) = (int)((double)(int)(22 * (strlen(v2) >> 1) / (2 * *((_DWORD *)Buf + 1) + 16))
                                    * 16.65999984741211);
    *((_DWORD *)v63 + 5988) = 13;
    *((_DWORD *)v63 + 5987) = 1;
    v64 = atoi(String);
    v65 = sub_40CA20(Buf, v64);
    sprintf(v63 + 23968, "%s", v65);
    ++v118;
    strcpy(v124, v59);
    v8 = strlen(v124) + 1;
    v9 = &v2[strlen(v2)];
LABEL_11:
    qmemcpy(v9, v124, v8);
    v5 = v2;
LABEL_262:
    if ( *v5 )
    {
      v3 = this;
      continue;
    }
    break;
  }
LABEL_263:
  result = strstr(v2, &byte_48B498);
  if ( result )
  {
    strcpy(v124, v2);
    v101 = strstr(v124, &byte_48B498) + 2;
    v102 = strstr(v124, &byte_48B494);
    *v102 = 0;
    v102 += 2;
    v103 = strlen(v101);
    *strstr(v102, &byte_48B490) = 0;
    result = (char *)strlen(v102);
    v105 = result;
    if ( (char *)v103 != result )
    {
      v124[0] = v104;
      if ( (int)result > 0 )
      {
        do
        {
          v106 = &v123;
          while ( *++v106 )
            ;
          *(_WORD *)v106 = 17793;
          v106[2] = 0;
        }
        while ( (int)strlen(v124) < (int)v105 );
      }
      v108 = strstr(Str, &byte_48B498) + 2;
      v109 = strstr(Str, &byte_48B494);
      v110 = v126;
      do
      {
        v111 = *v109;
        *v110++ = *v109++;
      }
      while ( v111 );
      *v108 = 0;
      strcat(Str, v124);
      result = (char *)(strlen(v126) + 1);
      qmemcpy(&Str[strlen(Str)], v126, (unsigned int)result);
    }
  }
  this[5986] = v118;
  if ( v118 )
  {
    v112 = v118 - 1;
    if ( v118 - 1 > 0 )
    {
      v113 = 1;
      v114 = this + 6002;
      do
      {
        if ( *(v114 - 13) == *v114 )
        {
          v115 = *(v114 - 1);
          v116 = v114 - 1;
          if ( *(v114 - 14) == v115 )
          {
            *(v114 - 14) = v115;
            if ( v113 < v112 )
            {
              v117 = v112 - v113;
              do
              {
                *v116 = v116[13];
                v116[1] = v116[14];
                v116 += 13;
                --v117;
              }
              while ( v117 );
            }
            --v112;
          }
        }
        ++v113;
        v114 += 13;
      }
      while ( v113 - 1 < v112 );
    }
    result = (char *)timeGetTime();
    this[5985] = result;
  }
  return result;
}
// 421774: variable 'v104' is possibly undefined

//----- (004218E0) --------------------------------------------------------
int __thiscall sub_4218E0(_DWORD *this, int a2)
{
  int result; // eax
  char Buffer[260]; // [esp+4h] [ebp-108h] BYREF

  if ( this[440] )
  {
    if ( (result = a2) != 0 && a2 < 110 || a2 != 9999 )
    {
      sprintf(Buffer, "%s\\%s%02d.png", Path, "DC4", a2);
      return sub_439ED0(Buffer, 128, 72, this[440]);
    }
  }
  return result;
}
// 439ED0:  _DWORD __stdcall sub_439ED0(_DWORD, _DWORD, _DWORD, _DWORD)

//----- (00421970) --------------------------------------------------------
void __thiscall sub_421970(int this)
{
  _DWORD *v2; // ecx

  v2 = *(_DWORD **)(this + 10404);
  if ( v2 )
  {
    sub_419F30(v2);
    sub_419F30(*(_DWORD **)(this + 10408));
    if ( *(_DWORD *)(this + 23876) )
    {
      sub_418F20(*(int **)(this + 10404), *(_DWORD *)(this + 10444), 0);
      sub_418F20(*(int **)(this + 10408), *(_DWORD *)(this + 10444), 0);
    }
    *((_DWORD *)Buf + 66510) = 0;
  }
  else
  {
    *((_DWORD *)Buf + 66510) = 0;
  }
}

//----- (00421A00) --------------------------------------------------------
void __thiscall sub_421A00(int this, int a2)
{
  if ( a2 >= 0 )
  {
    if ( a2 <= 1 )
    {
      sub_4440C0(**(_DWORD **)(this + 24820), *(_DWORD *)(this + 1736));
      sub_444340(**(float ***)(this + 24820), 0, 17 * a2 + 69, 109, 17 * a2 + 86);
      sub_444260(**(float ***)(this + 24820), 1171.0, 520.0);
      sub_444470(**(float ***)(this + 24820), 1.0);
      sub_4477E0(**(_DWORD **)(this + 24820), 0.0, 180, 0, -1);
    }
    else if ( a2 == 2 )
    {
      sub_4440C0(**(_DWORD **)(this + 24820), *(_DWORD *)(this + 1736));
      sub_444340(**(float ***)(this + 24820), 0, 103, 174, 120);
      sub_444260(**(float ***)(this + 24820), 1106.0, 520.0);
      sub_444470(**(float ***)(this + 24820), 1.0);
      sub_4477E0(**(_DWORD **)(this + 24820), 0.0, 180, 0, -1);
    }
  }
}

//----- (00421B30) --------------------------------------------------------
void __thiscall sub_421B30(int this, float a2)
{
  float v3; // [esp+Ch] [ebp-4h] BYREF

  if ( a2 == 0.0 )
  {
    sub_44A6E0(**(_DWORD ***)(this + 24736));
    sub_445230(**(_DWORD **)(this + 24736));
    sub_4440C0(**(_DWORD **)(this + 24736), *(_DWORD *)(this + 1696));
    sub_444260(**(float ***)(this + 24736), 0.0, 0.0);
    sub_444340(**(float ***)(this + 24736), 0, 0, 3072, 576);
    sub_444450(**(float ***)(this + 24736), 0.0, 0.0);
    sub_4474C0(**(_DWORD **)(this + 24736), -1792, 0, 7200, COERCE_FLOAT(1), -1);
    sub_44A6E0(**(_DWORD ***)(this + 24740));
    sub_445230(**(_DWORD **)(this + 24740));
    sub_4440C0(**(_DWORD **)(this + 24740), *(_DWORD *)(this + 1696));
    sub_444260(**(float ***)(this + 24740), 0.0, 0.0);
    sub_444340(**(float ***)(this + 24740), 0, 600, 3072, 1176);
    sub_444450(**(float ***)(this + 24740), 0.0, 0.0);
    sub_4474C0(**(_DWORD **)(this + 24740), -1792, 0, 3600, COERCE_FLOAT(1), -1);
  }
  else
  {
    sub_4442C0(**(float ***)(this + 24736), &v3, &a2);
    sub_44A6E0(**(_DWORD ***)(this + 24736));
    sub_445230(**(_DWORD **)(this + 24736));
    sub_4440C0(**(_DWORD **)(this + 24736), *(_DWORD *)(this + 1696));
    sub_444260(**(float ***)(this + 24736), 0.0, 0.0);
    sub_444340(**(float ***)(this + 24736), 0, 0, 3072, 576);
    sub_444450(**(float ***)(this + 24736), 0.0, 0.0);
    sub_4474C0(**(_DWORD **)(this + 24736), -1792, 0, 7200, COERCE_FLOAT(1), -1);
    sub_444260(**(float ***)(this + 24736), v3, a2);
    sub_4442C0(**(float ***)(this + 24740), &v3, &a2);
    sub_44A6E0(**(_DWORD ***)(this + 24740));
    sub_445230(**(_DWORD **)(this + 24740));
    sub_4440C0(**(_DWORD **)(this + 24740), *(_DWORD *)(this + 1696));
    sub_444260(**(float ***)(this + 24740), 0.0, 0.0);
    sub_444340(**(float ***)(this + 24740), 0, 600, 3072, 1176);
    sub_444450(**(float ***)(this + 24740), 0.0, 0.0);
    sub_4474C0(**(_DWORD **)(this + 24740), -1792, 0, 3600, COERCE_FLOAT(1), -1);
    sub_444260(**(float ***)(this + 24740), v3, a2);
  }
}

//----- (00421E20) --------------------------------------------------------
int __thiscall sub_421E20(_DWORD *this)
{
  int result; // eax

  result = 0;
  *((_DWORD *)Buf + 272077) = 0;
  this[2872] = 0;
  this[2871] = 0;
  return result;
}

//----- (00421E40) --------------------------------------------------------
BOOL __thiscall sub_421E40(_DWORD *this)
{
  return !*((_DWORD *)Buf + 272078) && (this[2871] || this[2872] || *((_DWORD *)Buf + 272077));
}

//----- (00421E80) --------------------------------------------------------
int __thiscall sub_421E80(int **this)
{
  int **v1; // esi
  int v2; // edi
  int result; // eax

  v1 = this + 6136;
  v2 = 5;
  do
  {
    sub_44A6E0((_DWORD *)**(v1 - 1));
    sub_44A6E0((_DWORD *)**v1);
    sub_44A6E0((_DWORD *)*v1[1]);
    sub_445C30(**(v1 - 1));
    sub_445C30(**v1);
    result = sub_445C30(*v1[1]);
    v1 += 10;
    --v2;
  }
  while ( v2 );
  return result;
}

//----- (00421EE0) --------------------------------------------------------
void __thiscall sub_421EE0(int **this, int a2)
{
  int v2; // esi
  int **v3; // ebx
  char *v4; // eax
  char *v5; // edx
  char v6; // cl
  int v7; // esi
  int v8; // ebp
  int v9; // eax
  int v10; // edi
  int v11; // ebp
  int **v12; // esi
  int v13; // ebx
  int v14; // eax
  int v15; // eax
  bool v16; // cc
  float v17; // [esp+0h] [ebp-15Ch]
  float v18; // [esp+0h] [ebp-15Ch]
  float v19; // [esp+0h] [ebp-15Ch]
  float v20; // [esp+4h] [ebp-158h]
  float v21; // [esp+4h] [ebp-158h]
  float v22; // [esp+4h] [ebp-158h]
  float v23; // [esp+1Ch] [ebp-140h]
  int v24; // [esp+1Ch] [ebp-140h]
  int v25; // [esp+20h] [ebp-13Ch]
  int v26; // [esp+20h] [ebp-13Ch]
  int v27; // [esp+24h] [ebp-138h] BYREF
  int **v28; // [esp+28h] [ebp-134h]
  float v29; // [esp+2Ch] [ebp-130h] BYREF
  float v30; // [esp+30h] [ebp-12Ch] BYREF
  int v31; // [esp+34h] [ebp-128h]
  float v32; // [esp+38h] [ebp-124h] BYREF
  int **v33; // [esp+3Ch] [ebp-120h]
  int v34; // [esp+40h] [ebp-11Ch]
  int v35; // [esp+44h] [ebp-118h]
  int v36; // [esp+48h] [ebp-114h]
  float v37; // [esp+4Ch] [ebp-110h] BYREF
  int v38; // [esp+50h] [ebp-10Ch] BYREF
  char Str[260]; // [esp+54h] [ebp-108h] BYREF

  v2 = 0;
  v3 = this + 6135;
  v33 = this;
  v31 = 0;
  v28 = this + 6135;
  do
  {
    if ( !sub_444200((_DWORD *)**(v3 - 5)) )
    {
      sub_445C30(**v3);
      sub_445C30(*v3[1]);
      sub_445C30(*v3[2]);
      goto LABEL_51;
    }
    v4 = (char *)Buf + v2 + 19688;
    v5 = (char *)(Str - v4);
    do
    {
      v6 = *v4;
      v5[(_DWORD)v4] = *v4;
      ++v4;
    }
    while ( v6 );
    sub_444420((float *)**(v3 - 5), &v32, &v37);
    _strupr(Str);
    v25 = 100;
    if ( strstr(Str, "_B,") )
      v25 = 115;
    v26 = (int)((double)v25 * v32 / 100.0);
    v7 = -1;
    v8 = 0;
    if ( strstr(Str, "HM_") )
    {
      v9 = sub_40CCD0(Buf, 8, 0);
      v8 = 248;
    }
    else
    {
      if ( strstr(Str, "HD_") )
      {
        v9 = sub_40CCD0(Buf, 8, 1);
      }
      else
      {
        if ( strstr(Str, "IO_") )
        {
          v9 = sub_40CCD0(Buf, 8, 2);
          v8 = 308;
          goto LABEL_25;
        }
        if ( strstr(Str, "NE_") )
        {
          v9 = sub_40CCD0(Buf, 8, 3);
          v8 = 272;
          goto LABEL_25;
        }
        if ( !strstr(Str, "ME_") )
        {
          if ( strstr(Str, "YM_") )
          {
            v9 = sub_40CCD0(Buf, 8, 6);
          }
          else
          {
            if ( strstr(Str, "PR_") )
            {
              v9 = sub_40CCD0(Buf, 8, 8);
              v8 = 224;
              goto LABEL_25;
            }
            if ( !strstr(Str, "CH_") )
              goto LABEL_26;
            v9 = sub_40CCD0(Buf, 8, 9);
          }
          v8 = 192;
          goto LABEL_25;
        }
        v9 = sub_40CCD0(Buf, 8, 5);
      }
      v8 = 240;
    }
LABEL_25:
    v7 = v9;
LABEL_26:
    if ( !a2 )
    {
      sub_445C30(**v3);
      sub_445C30(*v3[1]);
      sub_445C30(*v3[2]);
    }
    if ( v7 != -1 )
    {
      v23 = (float)v26;
      sub_4443C0((float *)**v3, v23, v23);
      sub_4443C0((float *)*v3[1], v23, v23);
      sub_4443C0((float *)*v3[2], v23, v23);
      sub_4442C0((float *)**(v3 - 5), &v29, &v30);
      sub_4444D0((float *)**(v3 - 5), &v27, &v38);
      v35 = v7 % 100 / 10;
      v34 = v7 / 100;
      v36 = v7 % 10;
      v24 = 1;
      if ( v7 / 100 <= 0 )
      {
        if ( v7 / 10 > 0 )
          v24 = 2;
      }
      else
      {
        v24 = 3;
      }
      v10 = 0;
      v11 = (int)v30 + v8;
      v12 = v28;
      v13 = 32 * v26 / 100;
      while ( 1 )
      {
        if ( !a2 )
          sub_4440C0(**v12, (int)v33[437]);
        if ( v30 < 0.0 )
          v30 = 0.0;
        v14 = (int)(v37 * 160.0 / 100.0);
        if ( v24 == 3 )
        {
          v20 = (float)(v11 - v14);
          v17 = (float)(int)((double)(v27 / 2) + v29 - (double)(v13 / 2) - (double)v13 + (double)(v10 * v13));
          sub_444260((float *)**v12, v17, v20);
          if ( !a2 )
          {
            v15 = *(&v34 + v10);
LABEL_47:
            sub_444340((float *)**v12, 32 * v15, 0, 32 * v15 + 32, 32);
            sub_447BF0(**v12, 3841, 10, 32, 9, -1);
          }
        }
        else if ( v24 == 2 )
        {
          v21 = (float)(v11 - v14);
          v18 = (float)(int)((double)(v27 / 2) + v29 - (double)v13 + (double)(v10 * v13));
          sub_444260((float *)**v12, v18, v21);
          if ( !a2 )
          {
            v15 = *(&v35 + v10);
            goto LABEL_47;
          }
        }
        else
        {
          v22 = (float)(v11 - v14);
          v19 = (float)(int)((double)(v27 / 2) + v29 - (double)(v13 / 2) + (double)(v10 * v13));
          sub_444260((float *)**v12, v19, v22);
          if ( !a2 )
          {
            v15 = *(&v36 + v10);
            goto LABEL_47;
          }
        }
        ++v10;
        ++v12;
        if ( v10 >= v24 )
        {
          v3 = v28;
          break;
        }
      }
    }
LABEL_51:
    v2 = v31 + 48;
    v3 += 10;
    v16 = v31 + 48 < 192;
    v31 += 48;
    v28 = v3;
  }
  while ( v16 );
}
// 422212: conditional instruction was optimized away because %var_140.4 is in (1..3)

//----- (00422470) --------------------------------------------------------
void *__thiscall sub_422470(_DWORD *this, void *a2)
{
  void *result; // eax

  if ( !this[6272] )
  {
    result = sub_43CEC0((DWORD *)dword_4C08F4, a2);
    if ( a2 )
    {
      if ( a2 == (void *)1 )
        *((_BYTE *)Buf + 21984) = 0;
    }
    else
    {
      result = Buf;
      *((_BYTE *)Buf + 21944) = 0;
      *((_DWORD *)Buf + 5494) = 0;
    }
  }
  return result;
}

//----- (004224C0) --------------------------------------------------------
void *__thiscall sub_4224C0(_DWORD *this, void *Val)
{
  void *result; // eax

  if ( !this[6272] )
  {
    result = sub_43CE50(dword_4C08F4, Val);
    if ( Val )
    {
      if ( Val == (void *)1 )
        *((_BYTE *)Buf + 21984) = 0;
    }
    else
    {
      result = Buf;
      *((_BYTE *)Buf + 21944) = 0;
      *((_DWORD *)Buf + 5494) = 0;
    }
  }
  return result;
}

//----- (00422510) --------------------------------------------------------
void *__thiscall sub_422510(_DWORD *this)
{
  void *result; // eax
  int v3; // eax
  const char *v4; // esi
  const char *v5; // esi
  unsigned __int8 String[24]; // [esp+4h] [ebp-108h] BYREF
  __int16 v7; // [esp+1Ch] [ebp-F0h]
  char v8; // [esp+1Eh] [ebp-EEh]

  result = sub_4224C0(this, (void *)2);
  if ( !this[6275] )
  {
    v3 = sub_40CCD0(Buf, 100, 56);
    String[0] = 0;
    if ( v3 == 12 )
      v3 = rand() % 12;
    switch ( v3 )
    {
      case 0:
        v4 = "VOICE\\system\\system_asa011";
        goto LABEL_16;
      case 1:
        v4 = "VOICE\\system\\system_nin011";
        goto LABEL_16;
      case 2:
        v4 = "VOICE\\system\\system_sor011";
        goto LABEL_16;
      case 3:
        v4 = "VOICE\\system\\system_hyr011";
        goto LABEL_16;
      case 4:
        v4 = "VOICE\\system\\system_sii011";
        goto LABEL_16;
      case 5:
        v4 = "VOICE\\system\\system_miu011";
        goto LABEL_16;
      case 6:
        v4 = "VOICE\\system\\system_tiy011";
        goto LABEL_16;
      case 7:
        v4 = "VOICE\\system\\system_sgn011";
        goto LABEL_16;
      case 8:
        v4 = "VOICE\\system\\system_kan011";
        goto LABEL_16;
      case 10:
        v4 = "VOICE\\system\\system_ktr011";
        goto LABEL_16;
      case 11:
        v4 = "VOICE\\system\\system_che011";
LABEL_16:
        qmemcpy(String, v4, sizeof(String));
        v5 = v4 + 24;
        v7 = *(_WORD *)v5;
        v8 = v5[2];
        break;
      default:
        break;
    }
    if ( String[0] )
      sub_43D070((DWORD *)dword_4C08F4, String, 2, 0);
    sub_443210((int)dword_4C087C);
    for ( result = (void *)sub_43B920(dword_4C08F4, 2); result; result = (void *)sub_43B920(dword_4C08F4, 2) )
    {
      result = (void *)sub_442B00(dword_4C087C, 2);
      if ( result )
        break;
      result = (void *)sub_442B00(dword_4C087C, 12);
      if ( result )
        break;
      result = (void *)sub_442B00(dword_4C087C, 1);
      if ( result )
        break;
      result = (void *)sub_442B00(dword_4C087C, 7);
      if ( result )
        break;
      sub_443210((int)dword_4C087C);
    }
  }
  return result;
}

//----- (004226B0) --------------------------------------------------------
int __thiscall sub_4226B0(_DWORD *this, int a2)
{
  return this[a2 + 6120];
}

//----- (004226C0) --------------------------------------------------------
int __thiscall sub_4226C0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[6272] = a2;
  return result;
}

//----- (004226D0) --------------------------------------------------------
int __thiscall sub_4226D0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[6276] = a2;
  return result;
}

//----- (004226E0) --------------------------------------------------------
int __stdcall sub_4226E0(int a1)
{
  int result; // eax

  result = 0;
  switch ( a1 )
  {
    case 0:
    case 3:
    case 6:
    case 7:
    case 8:
    case 10:
    case 11:
    case 12:
    case 15:
    case 16:
    case 21:
    case 22:
    case 28:
    case 30:
    case 32:
    case 33:
    case 34:
    case 40:
    case 43:
    case 54:
    case 55:
    case 56:
    case 60:
    case 62:
    case 63:
    case 64:
    case 65:
    case 73:
    case 79:
    case 80:
    case 82:
    case 84:
    case 92:
    case 95:
    case 100:
    case 107:
    case 114:
    case 118:
    case 128:
    case 132:
    case 134:
    case 135:
    case 137:
    case 139:
    case 140:
    case 141:
    case 142:
    case 143:
    case 148:
    case 149:
    case 150:
    case 153:
    case 154:
    case 155:
    case 156:
    case 157:
    case 158:
    case 164:
    case 165:
    case 177:
    case 178:
    case 179:
    case 180:
      result = 1;
      break;
    default:
      return result;
  }
  return result;
}

//----- (004227D0) --------------------------------------------------------
int sub_4227D0()
{
  return sub_405CE0(99);
}
// 405CE0:  _DWORD __stdcall sub_405CE0(_DWORD)

//----- (004227E0) --------------------------------------------------------
void __thiscall sub_4227E0(int *this)
{
  _DWORD ***v2; // esi
  int v3; // edi

  v2 = (_DWORD ***)(this + 6120);
  v3 = 150;
  do
  {
    sub_44A6E0(**v2++);
    --v3;
  }
  while ( v3 );
  sub_440CE0(this[6270]);
}

//----- (00422810) --------------------------------------------------------
void __thiscall sub_422810(_DWORD ***this)
{
  int i; // esi
  int v3; // eax

  for ( i = 4; i <= 13; ++i )
  {
    v3 = sub_41E830(i);
    sub_44A6E0(*this[v3 + 6120]);
  }
}

//----- (00422840) --------------------------------------------------------
void __userpurge sub_422840(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v4; // edi
  int v5; // ebx
  int v6; // ecx
  int i; // ebp
  int **v8; // edi
  int v9; // ebx
  int v10; // eax
  int v11; // ecx
  int v12; // eax
  int v13; // ecx
  int v14; // ecx
  int v15; // ecx
  _DWORD *v16; // eax
  int v17; // ecx
  _DWORD *v18; // ebp
  int v19; // edx
  int v20; // ecx
  int v21; // ecx
  int v22; // ecx
  int v23; // ecx
  int v24; // ecx
  int v25; // [esp+10h] [ebp-4h]

  v4 = 0;
  v5 = 0;
  v25 = 0;
  if ( *(_DWORD *)(a2 + 25088) )
    *(_DWORD *)(a2 + 11480) = 1;
  if ( *(_DWORD *)(a2 + 25108) )
  {
    sub_442D20(a1, (int)dword_4C087C);
    if ( *(_DWORD *)(a2 + 23876) )
    {
      sub_41A6A0(
        *(int **)(a2 + 10404),
        *(_DWORD *)(*(_DWORD *)(a2 + 10404) + 32),
        *(_DWORD *)(*(_DWORD *)(a2 + 10404) + 36),
        *(_DWORD *)(*(_DWORD *)(a2 + 10404) + 40));
      sub_41A6A0(
        *(int **)(a2 + 10408),
        *(_DWORD *)(*(_DWORD *)(a2 + 10408) + 32),
        *(_DWORD *)(*(_DWORD *)(a2 + 10408) + 36),
        *(_DWORD *)(*(_DWORD *)(a2 + 10408) + 40));
      *(_DWORD *)(a2 + 23876) = 0;
    }
    if ( *((_DWORD *)Buf + 34) )
      v6 = *(_DWORD *)(a2 + 10408);
    else
      v6 = *(_DWORD *)(a2 + 10404);
    if ( v6 )
      sub_414D50(v6, 0);
  }
  do
  {
    if ( v4 == 10 )
    {
      for ( i = 0; i <= 100; ++i )
      {
        v8 = (int **)(a2 + 24520);
        v9 = 54;
        do
        {
          if ( i == sub_4449E0((_DWORD *)**v8) && *(_DWORD *)(a2 + 1560) )
            sub_40EF10(*v8);
          ++v8;
          --v9;
        }
        while ( v9 );
      }
      v4 = 63;
      v5 = v25;
      goto LABEL_102;
    }
    if ( (v4 == 75 || v4 == 76 || v4 == 70) && (*(_DWORD *)(a2 + 11480) || *(_DWORD *)(a2 + 23872)) )
      goto LABEL_102;
    v10 = *(_DWORD *)(a2 + 1572);
    if ( v10 == 6 || (v11 = *(_DWORD *)(a2 + 1564), v11 == 6) || v10 == 8 || v10 == 7 || v11 == 7 || v11 == 8 )
    {
      if ( !*(_DWORD *)(a2 + 1584) )
      {
        v5 = 1;
        v25 = 1;
      }
    }
    if ( *(_DWORD *)(a2 + 1560) )
    {
      switch ( v4 )
      {
        case 85:
          if ( v5 && !*(_DWORD *)(a2 + 23872) && !*(_DWORD *)(a2 + 11480) )
            sub_40EF10(*(int **)(a2 + 24820));
          goto LABEL_102;
        case 88:
          if ( v5 && !*(_DWORD *)(a2 + 23872) && !*(_DWORD *)(a2 + 11480) && *((_DWORD *)Buf + 44) )
          {
            sub_40EF10(*(int **)(a2 + 24832));
            sub_440C60(*(_DWORD *)(a2 + 25080));
          }
          goto LABEL_102;
        case 1:
          if ( *(_DWORD *)(a2 + 25104) )
            sub_40EF10(*(int **)(a2 + 24484));
          goto LABEL_102;
      }
      if ( v4 != 75 && v4 != 76 )
        sub_40EF10(*(int **)(a2 + 4 * v4 + 24480));
    }
    if ( v4 == 70 )
    {
      sub_407750((int *)dword_4C08DC);
      v12 = *(_DWORD *)(a2 + 1564);
      if ( v12 == 6 || v12 == 21 )
        sub_457FD0(*(int ***)(a2 + 25120));
      if ( !v5 || *(_DWORD *)(a2 + 23872) )
        goto LABEL_102;
      if ( !sub_40CCD0(Buf, 99, 234) )
      {
        v13 = *(_DWORD *)(a2 + 10368);
        if ( v13 )
          sub_416320(v13);
        sub_40EF10(*(int **)(a2 + 24780));
        sub_40EF10(*(int **)(a2 + 24784));
        if ( sub_444EB0(**(_DWORD ***)(a2 + 24780)) )
        {
          v14 = *(_DWORD *)(a2 + 10400);
          if ( v14 )
            sub_416320(v14);
        }
        v15 = *(_DWORD *)(a2 + 10372);
        if ( v15 )
          sub_416320(v15);
        if ( *(_DWORD *)(a2 + 10376) )
        {
          if ( *(_DWORD *)(a2 + 1564) == 6 )
          {
            v16 = (_DWORD *)sub_414740(*(_DWORD **)(a2 + 10368));
            if ( !sub_43D430(v16) && !sub_421E40((_DWORD *)a2) && !*((_DWORD *)Buf + 4) && !*((_DWORD *)Buf + 66510) )
              sub_416320(*(_DWORD *)(a2 + 10376));
          }
        }
        if ( *((_DWORD *)Buf + 34) )
          v17 = *(_DWORD *)(a2 + 10408);
        else
          v17 = *(_DWORD *)(a2 + 10404);
        if ( v17 )
          sub_416320(v17);
        v18 = Buf;
        if ( *((_DWORD *)Buf + 24) )
        {
          if ( *(_DWORD *)(a2 + 10436) && sub_421E40((_DWORD *)a2) )
          {
            v20 = v19;
            goto LABEL_83;
          }
          v20 = *(_DWORD *)(a2 + 10440);
          if ( v20 && v18[4] )
LABEL_83:
            sub_416320(v20);
        }
        if ( *(_DWORD *)(a2 + 23880) )
        {
          if ( !a3 )
          {
            v21 = *(_DWORD *)(a2 + 10396);
            if ( v21 )
              goto LABEL_101;
          }
        }
        goto LABEL_102;
      }
      v22 = *(_DWORD *)(a2 + 10380);
      if ( v22 )
        sub_416320(v22);
      v23 = *(_DWORD *)(a2 + 10384);
      if ( v23 )
        sub_416320(v23);
      v24 = *(_DWORD *)(a2 + 10388);
      if ( v24 )
        sub_416320(v24);
      v21 = *(_DWORD *)(a2 + 10392);
      if ( v21 )
        goto LABEL_101;
    }
    else if ( v4 == 80 )
    {
      if ( *(_DWORD *)(a2 + 25108) )
        break;
      if ( !*(_DWORD *)(a2 + 11480) && !*(_DWORD *)(a2 + 23872) )
      {
        sub_4359B0(*(_DWORD **)(a2 + 10364));
        sub_416320(*(_DWORD *)(a2 + 10356));
        sub_416320(*(_DWORD *)(a2 + 10352));
        v21 = *(_DWORD *)(a2 + 10348);
LABEL_101:
        sub_416320(v21);
      }
    }
LABEL_102:
    ++v4;
  }
  while ( v4 < 150 );
  if ( *(_DWORD *)(a2 + 25088) )
    *(_DWORD *)(a2 + 11480) = 0;
  if ( *(_DWORD *)(a2 + 23872) )
    sub_401060(*(_DWORD **)(a2 + 10344));
  if ( !*(_DWORD *)(a2 + 11480) )
  {
    if ( *(_DWORD *)(a2 + 15588) == 1 )
      sub_416320((int)dword_4C08E4);
    if ( *(_DWORD *)(a2 + 15588) == 2 )
      sub_416320((int)dword_4C08E8);
    if ( *(_DWORD *)(a2 + 23872) )
      sub_4010D0(*(_DWORD **)(a2 + 10344));
  }
}
// 422BA8: variable 'v19' is possibly undefined

//----- (00422D00) --------------------------------------------------------
void *__thiscall sub_422D00(int this)
{
  void *result; // eax
  int v3; // edi
  int v4; // esi
  int **v5; // ebx

  result = Buf;
  if ( !*((_DWORD *)Buf + 66510) )
  {
    sub_4227E0((int *)this);
    v3 = 0;
    v4 = 0;
    v5 = (int **)(this + 24480);
    do
    {
      sub_444990(**v5, (char *)Buf + v4 + 121248);
      if ( v3 == 11 || v3 == 21 || v3 == 31 || v3 == 41 || v3 == 51 )
        memset((char *)Buf + v4 + 121248, 0, 0x3C0u);
      *(_DWORD *)((char *)Buf + v4 + 121428) = 0;
      v4 += 960;
      ++v3;
      ++v5;
    }
    while ( v4 < 144000 );
    sub_458170(*(_DWORD **)(this + 25120));
    return memcpy((char *)Buf + 375652, (char *)Buf + 19328, 0x56FE4u);
  }
  return result;
}

//----- (00422DE0) --------------------------------------------------------
BOOL __thiscall sub_422DE0(_DWORD *this)
{
  int v2; // eax
  BOOL result; // eax

  if ( *((_DWORD *)Buf + 66509) && *((_DWORD *)Buf + 8) )
  {
    *((_DWORD *)Buf + 272077) = 0;
    sub_421A00((int)this, 2);
  }
  result = 1;
  if ( !sub_442F80(dword_4C087C) && !sub_442B00(dword_4C087C, 16) && !sub_421E40(this) )
  {
    if ( !*((_DWORD *)Buf + 4) )
      return 0;
    v2 = this[500];
    if ( this[499] - v2 <= this[501] )
    {
      if ( v2 )
        return 0;
    }
    if ( *((_DWORD *)Buf + 5) == 1 && sub_43B920(dword_4C08F4, 2) )
      return 0;
  }
  return result;
}

//----- (00422E80) --------------------------------------------------------
void *__thiscall sub_422E80(char **this, const char *a2, int a3, int a4)
{
  int v5; // eax
  void *result; // eax
  char *v7; // ecx
  char *v8; // edx
  char String[260]; // [esp+8h] [ebp-108h] BYREF

  strcpy(String, a2);
  _strupr(String);
  if ( (unsigned int)(a3 - 37) > 7 )
  {
    sub_41F340((int)this, a3);
    if ( !_strnicmp(String, "bst\\", 4u) )
      sub_44A780(0);
    v5 = sub_44CB90(this[6274], String, a4, 0);
  }
  else
  {
    sub_41F340((int)this, a3);
    v5 = sub_44CB90(this[6274], String, a4, 1);
  }
  this[a3 + 397] = (char *)v5;
  result = Buf;
  v7 = String;
  v8 = (char *)Buf + 48 * a3 + 19496;
  do
  {
    LOBYTE(result) = *v7;
    *v8++ = *v7++;
  }
  while ( (_BYTE)result );
  return result;
}

//----- (00422F70) --------------------------------------------------------
char __thiscall sub_422F70(char **this, const char *a2, int a3, int a4)
{
  int v5; // ebx
  char result; // al
  int v7; // [esp+10h] [ebp-3Ch] BYREF
  int v8; // [esp+14h] [ebp-38h] BYREF
  char String1[48]; // [esp+18h] [ebp-34h] BYREF

  v5 = sub_41E830(a3);
  strcpy(String1, a2);
  result = sub_41E940(String1, a3);
  if ( v5 != -1 )
  {
    if ( a3 == -1 )
      return result;
    if ( *a2 )
    {
      if ( String1[0] != 45 )
      {
        sub_422E80(this, String1, a3, a4);
        sub_4440C0(*(_DWORD *)this[v5 + 6120], (int)this[a3 + 397]);
        sub_4444D0(*(float **)this[v5 + 6120], &v7, &v8);
        return _strnicmp(String1, "bst\\", 4u);
      }
      return (unsigned __int8)sub_41F340((int)this, a3);
    }
  }
  if ( a3 == -1 )
    return result;
  if ( String1[0] == 45 )
    return (unsigned __int8)sub_41F340((int)this, a3);
  return (unsigned __int8)sub_422E80(this, String1, a3, a4);
}

//----- (00423090) --------------------------------------------------------
void __thiscall sub_423090(char **this, char *Str, int a3, int a4, int a5)
{
  float v6; // [esp+0h] [ebp-5Ch]
  float v7; // [esp+4h] [ebp-58h]
  int v8; // [esp+18h] [ebp-44h] BYREF
  int v9; // [esp+1Ch] [ebp-40h] BYREF
  int v10; // [esp+20h] [ebp-3Ch] BYREF
  int v11; // [esp+24h] [ebp-38h] BYREF
  char Str1[48]; // [esp+28h] [ebp-34h] BYREF

  strcpy(Str1, Str);
  sub_41E940(Str1, a3);
  if ( a4 == -1 )
    goto LABEL_8;
  if ( a3 == -1 )
    return;
  if ( !*Str )
  {
LABEL_8:
    if ( a3 != -1 )
      sub_422E80(this, Str1, a3, a5);
  }
  else if ( Str1[0] == 45 )
  {
    sub_41F340((int)this, a3);
  }
  else
  {
    sub_422E80(this, Str1, a3, a5);
    sub_4440C0(*(_DWORD *)this[a4 + 6120], (int)this[a3 + 397]);
    sub_4444D0(*(float **)this[a4 + 6120], &v11, &v9);
    sub_444340(*(float **)this[a4 + 6120], 0, 0, v11, v9);
    if ( !strncmp(Str1, "bst\\", 4u) )
    {
      sub_40DBA0((const char *)Buf, &v10, &v8, Str);
      v7 = (float)v8;
      v6 = (float)v10;
      sub_444450(*(float **)this[a4 + 6120], v6, v7);
    }
  }
}

//----- (00423200) --------------------------------------------------------
void __thiscall sub_423200(int this)
{
  int i; // esi
  int j; // esi
  _DWORD *v4; // ecx
  int v5; // eax
  _DWORD *v6; // ecx
  int v7; // eax
  int *v8; // edi
  int k; // esi

  for ( i = 0; i < 150; ++i )
  {
    if ( i )
      sub_4449B0(**(_DWORD ***)(this + 4 * i + 24480), 50);
    else
      sub_4449B0(**(_DWORD ***)(this + 24480), 0);
  }
  if ( !*(_DWORD *)(this + 25088) )
  {
    for ( j = 0; j < 51; ++j )
    {
      if ( j < 37 || j > 44 )
        sub_41F340(this, j);
    }
    sub_407830(dword_4C08DC);
    v4 = *(_DWORD **)(this + 10368);
    if ( v4 )
    {
      v5 = sub_414740(v4);
      sub_440880(v5);
    }
    v6 = *(_DWORD **)(this + 10372);
    if ( v6 )
    {
      v7 = sub_414740(v6);
      sub_440880(v7);
    }
    sub_41F440(this);
    v8 = *(int **)(this + 25096);
    for ( k = 0; k < 200; ++k )
    {
      if ( sub_44B000(v8, k) )
        sub_44BF60(v8, k);
    }
  }
}

//----- (004232B0) --------------------------------------------------------
BOOL __thiscall sub_4232B0(int this, int a2)
{
  unsigned int v3; // eax
  bool v4; // zf
  char *v6; // eax
  int *v7; // edx
  char v8; // cl
  char *v9; // edx
  const char *v10; // eax
  void *v11; // ecx
  unsigned __int8 *v12; // eax
  unsigned __int8 *v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // ecx
  int v17; // esi
  int v18; // eax
  BOOL v19; // edx
  int v20; // eax
  const char *v21; // eax
  char *v22; // eax
  int v23; // [esp+Ch] [ebp-2484h]
  int v24[2058]; // [esp+10h] [ebp-2480h] BYREF
  char v25[1100]; // [esp+2038h] [ebp-458h] BYREF

  v23 = *((_DWORD *)Buf + 5533);
  qmemcpy(v25, (char *)Buf + 118892, sizeof(v25));
  while ( 1 )
  {
    memset(v24, 0, 0x2024u);
    v3 = sub_438790(*(unsigned __int8 **)(this + 10340), *((_DWORD *)Buf + 5533), v24);
    if ( v3 == -1 )
      break;
    *((_DWORD *)Buf + 5533) = v3;
    switch ( v24[0] )
    {
      case 0:
      case 6:
      case 7:
      case 8:
      case 0xB:
      case 0xC:
      case 0x10:
      case 0x15:
      case 0x22:
      case 0x3E:
      case 0x4F:
      case 0x50:
      case 0x52:
      case 0x59:
      case 0x5A:
      case 0x89:
        goto LABEL_6;
      case 0xA:
        v4 = v24[2049] == 0;
        goto LABEL_5;
      case 0xF:
        switch ( v24[2049] )
        {
          case 0:
          case 1:
          case 3:
          case 5:
          case 0x10:
          case 0x11:
          case 0x15:
            goto LABEL_6;
          default:
            continue;
        }
      case 0x16:
        for ( ; *(_BYTE *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)) == 22; *((_DWORD *)Buf + 5533) += 3 )
        {
          v22 = (char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
          v24[2049] |= *v22;
        }
        goto LABEL_6;
      case 0x1C:
      case 0x5C:
      case 0x5F:
        goto LABEL_54;
      case 0x1E:
        v4 = v24[2049] == 52;
LABEL_5:
        if ( !v4 )
          continue;
LABEL_6:
        *((_DWORD *)Buf + 5533) = v23;
        qmemcpy((char *)Buf + 118892, v25, 0x44Cu);
        return v24[0] == 15 || v24[0] == 80 || v24[0] == 79 || v24[0] == 34 || v24[0] == 21;
      case 0x20:
        if ( v24[2049] )
          continue;
        v20 = sub_4385A0(*(const char **)(this + 10340), (int)&v24[1], *((_DWORD *)Buf + 5533), v24[2050]);
        goto LABEL_48;
      case 0x21:
        goto LABEL_14;
      case 0x54:
        sub_41FC90((const char **)this, (const char *)&v24[1]);
        continue;
      case 0x72:
        v6 = (char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        v7 = &v24[1];
        do
        {
          v8 = *v6;
          *(_BYTE *)v7 = *v6++;
          v7 = (int *)((char *)v7 + 1);
        }
        while ( v8 );
LABEL_14:
        v9 = (char *)&v24[1] + 1;
        v10 = (char *)&v24[1] + strlen((const char *)&v24[1]) + 1;
        goto LABEL_55;
      case 0x76:
        ++*((_DWORD *)Buf + 5533);
        *((_DWORD *)Buf + 5533) += strlen((const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)))
                                 + 1;
        continue;
      case 0x80:
        ++*((_DWORD *)Buf + 5533);
        *((_DWORD *)Buf + 5533) += strlen((const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)))
                                 + 1;
        continue;
      case 0x82:
        if ( v24[2049] <= 9 )
        {
          if ( v24[2052] )
          {
            if ( v24[2052] == 1 )
            {
              sub_40EB30((int *)Buf, (unsigned __int8 *)v24[2049], v24[2050], v24[2051]);
            }
            else if ( v24[2052] == 2 )
            {
              sub_40EB60((int *)Buf, (unsigned __int8 *)v24[2049], v24[2050], v24[2051]);
            }
          }
          else
          {
            sub_40D2C0((int *)Buf, (unsigned __int8 *)v24[2049], v24[2050], v24[2051]);
          }
        }
        continue;
      case 0x83:
        if ( v24[2049] <= 9 )
          sub_40EB90((int *)Buf, (unsigned __int8 *)v24[2049], v24[2050], v24[2051], v24[2052]);
        continue;
      case 0x84:
        v11 = *(void **)(this + 10340);
        v24[2052] = 0;
        for ( v24[2051] = *(char *)sub_4381E0(v11, *((_DWORD *)Buf + 5533));
              v24[2051] != 2;
              v24[2051] = *(char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)) )
        {
          v12 = (unsigned __int8 *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
          v24[2053] = sub_438400(v12);
          v13 = (unsigned __int8 *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 3);
          v24[2054] = sub_438400(v13);
          *((_DWORD *)Buf + 5533) += 9;
          v14 = sub_40CCD0(Buf, v24[2053], v24[2054]);
          v24[2052] += v14;
        }
        sub_40D2C0((int *)Buf, (unsigned __int8 *)v24[2049], v24[2050], v24[2052]);
        continue;
      case 0x86:
        v15 = sub_40CCD0(Buf, v24[2049], v24[2050]);
        v16 = v24[2052];
        v17 = v15;
        v18 = v24[2051];
        v24[2049] = v17;
        if ( SLOBYTE(v24[2052]) < 0 )
        {
          v24[2052] = v24[2052] & 0x7F;
          v18 = sub_40CCD0(Buf, v24[2051] >> 8, LOBYTE(v24[2051]));
          v16 = v24[2052];
          v17 = v24[2049];
          v24[2051] = v18;
        }
        switch ( v16 )
        {
          case 0:
            v24[2049] = v17 == v18;
            break;
          case 1:
            v19 = v17 != v18;
LABEL_45:
            v24[2049] = v19;
            break;
          case 2:
            v24[2049] = v17 > v18;
            break;
          case 3:
            v19 = v17 < v18;
            goto LABEL_45;
          case 4:
            v24[2049] = v17 >= v18;
            break;
          case 5:
            v19 = v17 <= v18;
            goto LABEL_45;
        }
        v24[2052] = *(char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        *((_DWORD *)Buf + 5533) += 3;
        if ( !v24[2049] )
        {
          v20 = sub_4385A0(*(const char **)(this + 10340), (int)&v24[1], *((_DWORD *)Buf + 5533), v24[2052]);
LABEL_48:
          *((_DWORD *)Buf + 5533) = v20;
        }
        break;
      case 0x87:
        if ( !v24[2051] )
          continue;
LABEL_54:
        v21 = (const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        v9 = (char *)(v21 + 1);
        v10 = &v21[strlen(v21) + 1];
LABEL_55:
        *((_DWORD *)Buf + 5533) += v10 - v9 + 2;
        continue;
      default:
        continue;
    }
  }
  qmemcpy((char *)Buf + 118892, v25, 0x44Cu);
  return 0;
}

//----- (00423AA0) --------------------------------------------------------
void __thiscall sub_423AA0(int this, int a2, float a3, int a4, float a5, float a6, int a7, int a8)
{
  float v8; // ebp
  int v9; // edi
  double v11; // st7
  int v12; // eax
  double v13; // st7
  int v14; // ebx
  int v15; // eax
  int v16; // edi
  int v17; // ebp
  float *v18; // ecx
  int v19; // ebp
  int v20; // edi
  int v21; // ecx
  int v22; // ebx
  float v23; // ecx
  int v24; // eax
  int *v25; // edx
  int v26; // ecx
  _DWORD *v27; // ecx
  int v28; // ecx
  int v29; // [esp+28h] [ebp-14h]
  int v30; // [esp+2Ch] [ebp-10h] BYREF
  int v31; // [esp+30h] [ebp-Ch]
  float v32; // [esp+34h] [ebp-8h]
  int v33; // [esp+38h] [ebp-4h] BYREF

  v8 = a3;
  v9 = 12 * LODWORD(a6);
  v29 = 12 * LODWORD(a6);
  if ( LODWORD(a3) >= 6 && LODWORD(a3) != 255 )
    return;
  sub_4444D0(**(float ***)(this + 24480), &v30, &v33);
  sub_4442C0(**(float ***)(this + 24480), &a6, &a3);
  if ( a2 < 2 )
  {
    a6 = a6 * -1.0;
    a6 = a6 + (double)(v30 / 2);
    a3 = -1.0 * a3;
    a3 = a3 + (double)(v33 / 2);
    v11 = a6;
    if ( a6 > 640.0 )
      v12 = -(int)(v11 - 640.0);
    else
      v12 = (int)(640.0 - v11);
    v13 = a3;
    v31 = v12;
    v14 = v12;
    if ( a3 > 360.0 )
      v15 = -(int)(v13 - 360.0);
    else
      v15 = (int)(360.0 - v13);
    v32 = *(float *)&v15;
    v16 = v15;
    if ( v8 == 0.0 )
    {
      v31 = v14;
      v32 = *(float *)&v15;
    }
    if ( *(float *)&a4 != NAN )
    {
      v14 = a4;
      v31 = a4;
    }
    if ( a5 != NAN )
    {
      v16 = LODWORD(a5);
      v32 = a5;
    }
    v17 = a8;
    v18 = **(float ***)(this + 24480);
    a4 = a8;
    sub_4444D0(v18, &v30, &v33);
    if ( v17 * v30 / 100 < 1280 && v30 )
      a8 = 128000 / v30;
    if ( v17 * v33 / 100 < 720 && v33 )
      a4 = 72000 / v33;
    v19 = a8;
    if ( a8 < a4 )
    {
      v19 = a4;
      a8 = a4;
    }
    if ( (int)abs32(v14) > 640 )
      v14 = v14 >= 0 ? 640 : -640;
    if ( (int)abs32(v16) > 360 )
      v16 = v16 >= 0 ? 360 : -360;
    a4 = -v16;
    v20 = -80 * v31 / 100;
    v21 = -v14;
    v22 = -80 * LODWORD(v32) / 100;
    LODWORD(v23) = v21 + 512;
    v24 = a4 + 288;
    if ( a2 )
    {
      v25 = *(int **)(this + 24480);
      a4 += 288;
      a5 = v23;
      *(float *)&a8 = (float)a8;
      v26 = *v25;
      *(float *)&a4 = (float)v24;
      a5 = (float)SLODWORD(a5);
      sub_448210(v26, a5, *(float *)&a4, *(float *)&a8, v29, 0, -1);
      sub_444A30(**(_DWORD ***)(this + 24480), 0);
      if ( v19 != 100 )
        sub_444A30(**(_DWORD ***)(this + 24480), 1);
      sub_448210(**(_DWORD **)(this + 24484), a5, *(float *)&a4, *(float *)&a8, v29, 0, -1);
      sub_444A30(**(_DWORD ***)(this + 24484), 0);
      if ( v19 == 100 )
        goto LABEL_42;
      v27 = **(_DWORD ***)(this + 24484);
    }
    else
    {
      a4 += 288;
      a5 = v23;
      v28 = **(_DWORD **)(this + 24480);
      *(float *)&a4 = (float)v24;
      a5 = (float)SLODWORD(a5);
      *(float *)&a8 = (float)a8;
      sub_444A50(v28, *(float *)&a8, *(float *)&a8, a5, *(float *)&a4, 1);
      sub_444A30(**(_DWORD ***)(this + 24480), 0);
      if ( v19 != 100 )
        sub_444A30(**(_DWORD ***)(this + 24480), 1);
      sub_444A50(**(_DWORD **)(this + 24484), *(float *)&a8, *(float *)&a8, a5, *(float *)&a4, 1);
      sub_444A30(**(_DWORD ***)(this + 24484), 0);
      if ( v19 == 100 )
        goto LABEL_42;
      v27 = **(_DWORD ***)(this + 24484);
    }
    sub_444A30(v27, 1);
LABEL_42:
    sub_41F540((char *)this, 10, v20, v22, v29, v19, a2);
    sub_41F540((char *)this, 20, v20, v22, v29, v19, a2);
    sub_41F540((char *)this, 30, v20, v22, v29, v19, a2);
    sub_41F540((char *)this, 40, v20, v22, v29, v19, a2);
    sub_41F540((char *)this, 50, v20, v22, v29, v19, a2);
    return;
  }
  sub_444320(**(float ***)(this + 24480), &a6, &a3);
  if ( a2 == 3 )
  {
    sub_4474C0(**(_DWORD **)(this + 24480), (int)a6, (int)a3, v9, 0.0, -1);
    *((float *)Buf + 30312) = a6;
    *((float *)Buf + 30313) = a3;
    sub_444320(**(float ***)(this + 24520), &a6, &a3);
    sub_4474C0(**(_DWORD **)(this + 24520), (int)a6, (int)a3, v9, 0.0, -1);
    *((float *)Buf + 32712) = a6;
    *((float *)Buf + 32713) = a3;
    sub_444320(**(float ***)(this + 24560), &a6, &a3);
    sub_4474C0(**(_DWORD **)(this + 24560), (int)a6, (int)a3, v9, 0.0, -1);
    *((float *)Buf + 35112) = a6;
    *((float *)Buf + 35113) = a3;
    sub_444320(**(float ***)(this + 24600), &a6, &a3);
    sub_4474C0(**(_DWORD **)(this + 24600), (int)a6, (int)a3, v9, 0.0, -1);
    *((float *)Buf + 37512) = a6;
    *((float *)Buf + 37513) = a3;
    sub_444320(**(float ***)(this + 24640), &a6, &a3);
    sub_4474C0(**(_DWORD **)(this + 24640), (int)a6, (int)a3, v9, 0.0, -1);
    *((float *)Buf + 39912) = a6;
    *((float *)Buf + 39913) = a3;
    sub_444320(**(float ***)(this + 24680), &a6, &a3);
    sub_4474C0(**(_DWORD **)(this + 24680), (int)a6, (int)a3, v9, 0.0, -1);
  }
  else
  {
    sub_444260(**(float ***)(this + 24480), a6, a3);
    *((float *)Buf + 30312) = a6;
    *((float *)Buf + 30313) = a3;
    sub_444320(**(float ***)(this + 24520), &a6, &a3);
    sub_444260(**(float ***)(this + 24520), a6, a3);
    *((float *)Buf + 32712) = a6;
    *((float *)Buf + 32713) = a3;
    sub_444320(**(float ***)(this + 24560), &a6, &a3);
    sub_444260(**(float ***)(this + 24560), a6, a3);
    *((float *)Buf + 35112) = a6;
    *((float *)Buf + 35113) = a3;
    sub_444320(**(float ***)(this + 24600), &a6, &a3);
    sub_444260(**(float ***)(this + 24600), a6, a3);
    *((float *)Buf + 37512) = a6;
    *((float *)Buf + 37513) = a3;
    sub_444320(**(float ***)(this + 24640), &a6, &a3);
    sub_444260(**(float ***)(this + 24640), a6, a3);
    *((float *)Buf + 39912) = a6;
    *((float *)Buf + 39913) = a3;
    sub_444320(**(float ***)(this + 24680), &a6, &a3);
    sub_444260(**(float ***)(this + 24680), a6, a3);
  }
  *((float *)Buf + 42312) = a6;
  *((float *)Buf + 42313) = a3;
}

//----- (00424330) --------------------------------------------------------
void *__thiscall sub_424330(_DWORD *this, int a2, _DWORD *a3, char *Str2)
{
  const char *v4; // ebx
  _DWORD *v5; // edi
  int v6; // esi
  char *v7; // ebp
  void *result; // eax
  char *v9; // eax
  char v10; // cl
  char *v11; // edi
  char *v12; // eax
  char v13; // cl
  int v14; // eax
  const char *v15; // ebp
  char *v16; // esi
  char v17; // cl
  int v18; // edx
  int v19; // eax
  const char *v20; // ebp
  char *v21; // esi
  char v22; // cl
  int v23; // edx
  int v24; // eax
  const CHAR *v25; // eax
  _BYTE *v26; // edx
  CHAR v27; // cl
  char *v28; // ecx
  char *v29; // edx
  char v30; // al
  char *v31; // eax
  char v32; // cl
  char *v33; // eax
  char v34; // cl
  int v35; // ecx
  const char *v36; // ebp
  int v37; // edx
  int v38; // eax
  const char *v39; // ebp
  int v40; // ecx
  int v41; // edx
  const char *v42; // ebp
  char *v43; // esi
  char v44; // al
  int v45; // ecx
  int v46; // eax
  const CHAR *v47; // eax
  _BYTE *v48; // edx
  CHAR v49; // cl
  char *v50; // eax
  char v51; // cl
  char *v52; // eax
  char v53; // cl
  char *v54; // eax
  char v55; // cl
  char *v56; // eax
  char v57; // cl
  char *v58; // eax
  char v59; // cl
  int v60; // eax
  char *v61; // eax
  char v62; // cl
  char *v63; // ecx
  _BYTE *v64; // edx
  char v65; // al
  char *v66; // eax
  char v67; // cl
  bool v68; // zf
  int v69; // eax
  char *v70; // eax
  const char *v71; // eax
  int v72; // eax
  char *v73; // eax
  const char *v74; // ebx
  const char *v75; // edx
  unsigned int v76; // eax
  char *v77; // edi
  char *v79; // ecx
  char *v80; // edx
  char v81; // al
  char *v82; // eax
  _BYTE *v83; // edx
  char v84; // cl
  char *v85; // eax
  char v86; // cl
  int v87; // [esp+10h] [ebp-52Ch]
  char *Str; // [esp+18h] [ebp-524h]
  char String[12]; // [esp+28h] [ebp-514h] BYREF
  char v91[1023]; // [esp+34h] [ebp-508h] BYREF
  char v92; // [esp+433h] [ebp-109h] BYREF
  char v93[260]; // [esp+434h] [ebp-108h] BYREF

  v4 = Str2;
  v5 = this;
  v6 = 4;
  v87 = 4;
  v7 = Str2;
  result = memset(this + 5985, 0, 0x210u);
  if ( *Str2 )
  {
    while ( 1 )
    {
      if ( !strncmp("&f", v7, 2u) )
      {
        *v7 = 0;
        v9 = v7 + 2;
        do
        {
          v10 = *v9;
          v9[v91 - (v7 + 2)] = *v9;
          ++v9;
        }
        while ( v10 );
        qmemcpy(
          (void *)&v4[strlen(v4)],
          (char *)Buf + 265288,
          (_BYTE *)Buf + strlen((const char *)Buf + 265288) + 1 - (_BYTE *)Buf);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
        goto LABEL_160;
      }
      if ( !strncmp("&n", v7, 2u) )
      {
        *v7 = 0;
        v12 = v7 + 2;
        do
        {
          v13 = *v12;
          v12[v91 - (v7 + 2)] = *v12;
          ++v12;
        }
        while ( v13 );
        qmemcpy(
          (void *)&v4[strlen(v4)],
          (char *)Buf + 265268,
          (_BYTE *)Buf + strlen((const char *)Buf + 265268) + 1 - (_BYTE *)Buf);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
        goto LABEL_160;
      }
      if ( !strncmp("@w1", v7, 3u)
        || !strncmp("@w2", v7, 3u)
        || !strncmp("@w3", v7, 3u)
        || !strncmp("@w4", v7, 3u)
        || !strncmp("@w5", v7, 3u) )
      {
        if ( !strncmp("@w1", v7, 3u) )
          v5[5988] = 6;
        if ( !strncmp("@w2", v7, 3u) )
          v5[5988] = 7;
        if ( !strncmp("@w3", v7, 3u) )
          v5[5988] = 8;
        if ( !strncmp("@w4", v7, 3u) )
          v5[5988] = 9;
        if ( !strncmp("@w5", v7, 3u) )
          v5[5988] = 10;
        *v7 = 0;
        Str = (char *)(268 * v6 + a2);
        if ( strstr(Str, "_B,") || strstr(Str, "_B*,") || strstr(Str, "_B@,") )
          goto LABEL_155;
        v68 = strstr((const char *)&this[65 * this[5988] - 390], "_B,") == 0;
        v69 = this[5988];
        if ( !v68 )
        {
          v70 = strstr((const char *)&this[65 * v69 - 390], "_B,");
          *v70 = 0;
          v71 = v70 + 2;
LABEL_151:
          v74 = (const char *)&this[65 * this[5988] - 390];
          strcpy(v93, v74);
          v75 = v71;
          v76 = strlen(v71) + 1;
          v77 = &v92;
          while ( *++v77 )
            ;
          qmemcpy(v77, v75, v76);
          v79 = v93;
          v80 = (char *)v74;
          do
          {
            v81 = *v79;
            *v80++ = *v79++;
          }
          while ( v81 );
LABEL_155:
          v82 = (char *)&this[65 * this[5988] - 390];
          v83 = (_BYTE *)(268 * v6 + a2);
          do
          {
            v84 = *v82;
            *v83++ = *v82++;
          }
          while ( v84 );
          v85 = v7 + 3;
          *((_DWORD *)Str + 65) = 1;
          do
          {
            v86 = *v85;
            v85[v91 - (v7 + 3)] = *v85;
            ++v85;
          }
          while ( v86 );
          result = (void *)(strlen(v91) + 1);
          v7 = Str2;
          v11 = &Str2[strlen(Str2)];
          v4 = Str2;
          goto LABEL_160;
        }
        v68 = strstr((const char *)&this[65 * v69 - 390], "_B*,") == 0;
        v72 = this[5988];
        if ( v68 )
        {
          if ( !strstr((const char *)&this[65 * v72 - 390], "_B@,") )
            goto LABEL_155;
          v73 = strstr((const char *)&this[65 * this[5988] - 390], "_B@,");
        }
        else
        {
          v73 = strstr((const char *)&this[65 * v72 - 390], "_B*,");
        }
        *v73 = 0;
        v71 = v73 + 3;
        goto LABEL_151;
      }
      if ( !strncmp("@wb1", v7, 4u)
        || !strncmp("@wb2", v7, 4u)
        || !strncmp("@wb3", v7, 4u)
        || !strncmp("@wb4", v7, 4u)
        || !strncmp("@wb5", v7, 4u) )
      {
        if ( !strncmp("@wb1", v7, 4u) )
          v5[5988] = 1;
        if ( !strncmp("@wb2", v7, 4u) )
          v5[5988] = 2;
        if ( !strncmp("@wb3", v7, 4u) )
          v5[5988] = 3;
        if ( !strncmp("@wb4", v7, 4u) )
          v5[5988] = 4;
        if ( !strncmp("@wb5", v7, 4u) )
          v5[5988] = 5;
        *v7 = 0;
        v63 = (char *)&v5[65 * v5[5988] - 65];
        v64 = (_BYTE *)(a2 + 268);
        do
        {
          v65 = *v63;
          *v64++ = *v63++;
        }
        while ( v65 );
        v66 = v7 + 4;
        *(_DWORD *)(a2 + 528) = 1;
        do
        {
          v67 = *v66;
          v66[v91 - (v7 + 4)] = *v66;
          ++v66;
        }
        while ( v67 );
        goto LABEL_130;
      }
      if ( !strncmp("@bo1", v7, 4u) || !strncmp("@bo2", v7, 4u) || !strncmp("@bo3", v7, 4u) || !strncmp("@bo4", v7, 4u) )
      {
        if ( !strncmp("@bo1", v7, 4u) )
          v5[5988] = 29;
        if ( !strncmp("@bo2", v7, 4u) )
          v5[5988] = 30;
        if ( !strncmp("@bo3", v7, 4u) )
          v5[5988] = 31;
        if ( !strncmp("@bo4", v7, 4u) )
          v5[5988] = 32;
        v60 = 268 * v6 + a2;
        *v7 = 0;
        *(_WORD *)v60 = 45;
        *(_DWORD *)(v60 + 260) = 0;
        v61 = v7 + 4;
        do
        {
          v62 = *v61;
          v61[v91 - (v7 + 4)] = *v61;
          ++v61;
        }
        while ( v62 );
        goto LABEL_130;
      }
      if ( !strncmp("@muf", v7, 4u) )
      {
        *v7 = 0;
        v14 = (unsigned __int8)v7[4];
        v15 = v7 + 4;
        v16 = String;
        if ( isdigit(v14) )
        {
          do
          {
            v17 = *v15;
            v18 = *(unsigned __int8 *)++v15;
            *v16++ = v17;
          }
          while ( isdigit(v18) );
        }
        *v16 = 0;
        sub_4224C0(v5, 0);
        memset(a3, 0, 0x114u);
        *((_BYTE *)Buf + 21944) = 0;
        *((_DWORD *)Buf + 5494) = 0;
        strcpy(v91, v15);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
        goto LABEL_160;
      }
      if ( !strncmp("@mu", v7, 3u) )
      {
        *v7 = 0;
        v19 = (unsigned __int8)v7[3];
        v20 = v7 + 3;
        v21 = String;
        if ( isdigit(v19) )
        {
          do
          {
            v22 = *v20;
            v23 = *(unsigned __int8 *)++v20;
            *v21++ = v22;
          }
          while ( isdigit(v23) );
        }
        *v21 = 0;
        v24 = atoi(String);
        v25 = sub_40C9D0(Buf, v24, 0);
        v26 = a3;
        do
        {
          v27 = *v25;
          *v26++ = *v25++;
        }
        while ( v27 );
        a3[65] = 1;
        a3[66] = 1;
        v28 = (char *)a3;
        v29 = (char *)Buf + 21944;
        do
        {
          v30 = *v28;
          *v29++ = *v28++;
        }
        while ( v30 );
        strcpy(v91, v20);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
        goto LABEL_160;
      }
      if ( !strncmp("@b1", v7, 3u)
        || !strncmp("@b2", v7, 3u)
        || !strncmp("@b3", v7, 3u)
        || !strncmp("@b4", v7, 3u)
        || !strncmp("@b5", v7, 3u) )
      {
        if ( !strncmp("@b1", v7, 3u) )
          v87 = 4;
        if ( !strncmp("@b2", v7, 3u) )
          v87 = 5;
        if ( !strncmp("@b3", v7, 3u) )
          v87 = 6;
        if ( !strncmp("@b4", v7, 3u) )
          v87 = 7;
        if ( !strncmp("@b5", v7, 3u) )
          v87 = 8;
        v58 = v7 + 3;
        *v7 = 0;
        do
        {
          v59 = *v58;
          v58[v91 - (v7 + 3)] = *v58;
          ++v58;
        }
        while ( v59 );
        goto LABEL_130;
      }
      if ( !strncmp("@bc", v7, 3u) )
        break;
      if ( !strncmp("@bf", v7, 3u) )
      {
        *v7 = 0;
        v33 = v7 + 3;
        v87 = 31;
        do
        {
          v34 = *v33;
          v33[v91 - (v7 + 3)] = *v33;
          ++v33;
        }
        while ( v34 );
        goto LABEL_130;
      }
      if ( !strncmp("@bt1", v7, 4u) || !strncmp("@bt2", v7, 4u) || !strncmp("@bt3", v7, 4u) || !strncmp("@bt4", v7, 4u) )
      {
        v56 = v7 + 4;
        *v7 = 0;
        do
        {
          v57 = *v56;
          v56[v91 - (v7 + 4)] = *v56;
          ++v56;
        }
        while ( v57 );
        goto LABEL_130;
      }
      if ( !strncmp("@by1", v7, 4u) || !strncmp("@by2", v7, 4u) || !strncmp("@by3", v7, 4u) || !strncmp("@by4", v7, 4u) )
      {
        v54 = v7 + 4;
        *v7 = 0;
        do
        {
          v55 = *v54;
          v54[v91 - (v7 + 4)] = *v54;
          ++v54;
        }
        while ( v55 );
        goto LABEL_130;
      }
      if ( !strncmp("@bi1", v7, 4u) || !strncmp("@bi2", v7, 4u) || !strncmp("@bi3", v7, 4u) || !strncmp("@bi4", v7, 4u) )
      {
        v52 = v7 + 4;
        *v7 = 0;
        do
        {
          v53 = *v52;
          v52[v91 - (v7 + 4)] = *v52;
          ++v52;
        }
        while ( v53 );
        goto LABEL_130;
      }
      if ( !strncmp("@hy", v7, 3u) || !strncmp("@ht", v7, 3u) )
      {
        v50 = v7 + 3;
        *v7 = 0;
        do
        {
          v51 = *v50;
          v50[v91 - (v7 + 3)] = *v50;
          ++v50;
        }
        while ( v51 );
        goto LABEL_130;
      }
      if ( !strncmp("@t", v7, 2u) )
      {
        *v7 = 0;
        v35 = (unsigned __int8)v7[2];
        v36 = v7 + 2;
        if ( isdigit(v35) )
        {
          do
            v37 = *(unsigned __int8 *)++v36;
          while ( isdigit(v37) );
        }
        strcpy(v91, v36);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
      }
      else if ( !strncmp("@se", v7, 3u) )
      {
        *v7 = 0;
        v38 = (unsigned __int8)v7[3];
        v39 = v7 + 3;
        if ( isdigit(v38) )
        {
          do
            v40 = *(unsigned __int8 *)++v39;
          while ( isdigit(v40) );
        }
        strcpy(v91, v39);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
      }
      else
      {
        result = (void *)strncmp("@lse", v7, 4u);
        if ( result )
        {
          ++v7;
          goto LABEL_161;
        }
        *v7 = 0;
        v41 = (unsigned __int8)v7[4];
        v42 = v7 + 4;
        v43 = String;
        if ( isdigit(v41) )
        {
          do
          {
            v44 = *v42;
            v45 = *(unsigned __int8 *)++v42;
            *v43++ = v44;
          }
          while ( isdigit(v45) );
        }
        *v43 = 0;
        v46 = atoi(String);
        v47 = sub_40CA20(Buf, v46);
        v48 = a3 + 138;
        do
        {
          v49 = *v47;
          *v48++ = *v47++;
        }
        while ( v49 );
        a3[203] = 1;
        a3[204] = 1;
        strcpy(v91, v42);
        result = (void *)(strlen(v91) + 1);
        v11 = (char *)&v4[strlen(v4)];
        v7 = (char *)v4;
      }
LABEL_160:
      qmemcpy(v11, v91, (unsigned int)result);
LABEL_161:
      if ( !*v7 )
        return result;
      v5 = this;
      v6 = v87;
    }
    *v7 = 0;
    v31 = v7 + 3;
    v87 = 25;
    do
    {
      v32 = *v31;
      v31[v91 - (v7 + 3)] = *v31;
      ++v31;
    }
    while ( v32 );
LABEL_130:
    result = (void *)(strlen(v91) + 1);
    v11 = (char *)&v4[strlen(v4)];
    v7 = (char *)v4;
    goto LABEL_160;
  }
  return result;
}

//----- (00425240) --------------------------------------------------------
void __thiscall sub_425240(int this)
{
  int *v2; // ecx
  int v3; // [esp+0h] [ebp-4h]

  if ( *(_DWORD *)(this + 1564) == 6 && !*(_DWORD *)(this + 23872) && !sub_408610((int)dword_4C08DC) )
  {
    sub_41F340(this, 43);
    sub_44A990(*(_DWORD **)(this + 25096));
    *(_DWORD *)(this + 25104) = 1;
    *(_DWORD *)(this + 25108) = 1;
    sub_422840(1, this, 1);
    v2 = *(int **)(this + 25096);
    *(_DWORD *)(this + 25108) = 0;
    *(_DWORD *)(this + 25104) = 0;
    *(_DWORD *)(this + 1760) = sub_44C730(v2, this, 0, v3);
  }
}
// 4252AD: variable 'v3' is possibly undefined

//----- (004252C0) --------------------------------------------------------
char __thiscall sub_4252C0(char **this)
{
  return sub_422F70(this, "-", 27, 0);
}

//----- (004253A0) --------------------------------------------------------
int __thiscall sub_4253A0(int this)
{
  int v2; // eax
  int result; // eax
  int v4; // [esp+0h] [ebp-4h]

  sub_41F340(this, 44);
  v2 = sub_44A990(*(_DWORD **)(this + 25096));
  sub_422840(v2, this, 1);
  result = sub_44C730(*(int **)(this + 25096), this, 0, v4);
  *(_DWORD *)(this + 1764) = result;
  return result;
}
// 4253C6: variable 'v4' is possibly undefined

//----- (004253E0) --------------------------------------------------------
_DWORD *__thiscall sub_4253E0(_DWORD *this, unsigned int a2, _DWORD *a3)
{
  unsigned int v4; // edx
  _DWORD *v5; // eax
  unsigned int v6; // ecx

  *this = 0;
  if ( !a3 || !a2 )
    goto LABEL_10;
  v4 = a3[6];
  v5 = a3 + 1;
  v6 = v4 < 0x10 ? (unsigned int)(a3 + 1) : *v5;
  if ( v6 > a2 )
    goto LABEL_10;
  if ( v4 >= 0x10 )
    v5 = (_DWORD *)*v5;
  if ( a2 > (unsigned int)v5 + a3[5] )
LABEL_10:
    _invalid_parameter_noinfo();
  *this = a3;
  this[1] = a2;
  return this;
}

//----- (00425440) --------------------------------------------------------
void __thiscall sub_425440(int this)
{
  int *v2; // eax
  int v3; // ecx
  unsigned int v4; // eax
  int v5; // [esp+4h] [ebp-8h] BYREF

  if ( *(_DWORD *)(this + 1564) == 6 && !*(_DWORD *)(this + 11480) )
  {
    v2 = sub_442BD0(dword_4C087C, &v5);
    v3 = *v2;
    v4 = v2[1];
    if ( (unsigned int)(v3 - 1127) > 0x98 || v4 > 0x20C )
    {
      if ( *(_DWORD *)(this + 23876) )
      {
        sub_41A6A0(
          *(int **)(this + 10404),
          *(_DWORD *)(*(_DWORD *)(this + 10404) + 32),
          *(_DWORD *)(*(_DWORD *)(this + 10404) + 36),
          *(_DWORD *)(*(_DWORD *)(this + 10404) + 40));
        sub_41A6A0(
          *(int **)(this + 10408),
          *(_DWORD *)(*(_DWORD *)(this + 10408) + 32),
          *(_DWORD *)(*(_DWORD *)(this + 10408) + 36),
          *(_DWORD *)(*(_DWORD *)(this + 10408) + 40));
      }
      *(_DWORD *)(this + 23876) = 0;
    }
    else if ( *((_DWORD *)dword_4C0874 + 76) )
    {
      if ( !*(_DWORD *)(this + 23876) )
      {
        sub_425240(this);
        sub_418F20(*(int **)(this + 10404), *(_DWORD *)(this + 10444), 0);
        sub_418F20(*(int **)(this + 10408), *(_DWORD *)(this + 10444), 0);
      }
      *(_DWORD *)(this + 23876) = 1;
    }
  }
}

//----- (00425530) --------------------------------------------------------
int __thiscall sub_425530(int this, int a2)
{
  int v2; // edx
  int v3; // esi
  int v4; // edi
  int v6; // ebp
  int v7; // eax
  int v8; // ebp
  int v9; // esi
  int v10; // eax
  int result; // eax

  v2 = dword_4B333C;
  v3 = dword_4B3340;
  v4 = 0;
  if ( dword_4B333C == -1 && dword_4B3340 == -1 )
  {
    v6 = a2;
  }
  else
  {
    v6 = a2;
    if ( a2 == 1 )
    {
      v2 = 0;
      dword_4B333C = 0;
    }
    sub_41F870((float ***)this, *(float *)&v2, dword_4B3340, dword_4B3344, dword_4B3348, *(float *)&dword_4B34E0);
    v3 = dword_4B3340;
    v2 = dword_4B333C;
    v4 = 1;
  }
  v7 = dword_4B3328;
  if ( dword_4B3328 != -1 || dword_4B332C != -1 )
  {
    if ( v6 == 1 )
    {
      v7 = 0;
      dword_4B3328 = 0;
    }
    sub_423AA0(
      this,
      v7,
      *(float *)&dword_4B332C,
      -dword_4B3330,
      COERCE_FLOAT(-dword_4B3334),
      *(float *)&dword_4B34E0,
      dword_4B3338,
      -1);
    goto LABEL_17;
  }
  if ( dword_4B3344 != -1 || dword_4B3348 != -1 )
  {
    if ( v6 == 1 )
      dword_4B3328 = 0;
    sub_423AA0(
      this,
      v2,
      COERCE_FLOAT(255),
      -dword_4B3344,
      COERCE_FLOAT(-dword_4B3348),
      *(float *)&dword_4B34E0,
      dword_4B334C,
      v3);
LABEL_17:
    v4 = 1;
  }
  v8 = 0;
  if ( dword_4C0918 - 1 > 0 )
  {
    v9 = 0;
    do
    {
      if ( dword_4B3418[v9] != -1 || dword_4B341C[v9] != -1 )
      {
        v4 = 1;
        if ( a2 == 1 )
          dword_4B3418[v9] = 0;
        sub_41F870(
          (float ***)this,
          *(float *)&dword_4B3418[v9],
          dword_4B341C[v9],
          dword_4B3420[v9],
          dword_4B3424[v9],
          *(float *)&dword_4B34E0);
      }
      if ( dword_4B3350[v9] == -1 && dword_4B3354[v9] == -1 )
      {
        v10 = dword_4B3420[v9];
        if ( v10 != -1 || dword_4B3424[v9] != -1 )
        {
          v4 = 1;
          if ( a2 == 1 )
            dword_4B3350[v9] = 0;
          sub_423AA0(
            this,
            dword_4B3418[v9],
            COERCE_FLOAT(255),
            -v10,
            COERCE_FLOAT(-dword_4B3424[v9]),
            *(float *)&dword_4B34E0,
            dword_4B3428[v9],
            dword_4B341C[v9]);
        }
      }
      else
      {
        v4 = 1;
        if ( a2 == 1 )
          dword_4B3350[v9] = 0;
        sub_423AA0(
          this,
          dword_4B3350[v9],
          *(float *)&dword_4B3354[v9],
          -dword_4B3358[v9],
          COERCE_FLOAT(-dword_4B335C[v9]),
          *(float *)&dword_4B34E0,
          dword_4B3360[v9],
          -1);
      }
      ++v8;
      v9 += 5;
    }
    while ( v8 < dword_4C0918 - 1 );
  }
  *(_DWORD *)(this + 23916) = 0;
  dword_4B3328 = -1;
  dword_4B332C = -1;
  dword_4B3330 = -1;
  dword_4B3334 = -1;
  dword_4B3338 = -1;
  dword_4B333C = -1;
  dword_4B3340 = -1;
  dword_4B3344 = -1;
  dword_4B3348 = -1;
  dword_4B334C = -1;
  memset(dword_4B3350, -1, 0xC8u);
  memset(dword_4B3418, -1, 0xC8u);
  result = v4;
  dword_4C0918 = 0;
  return result;
}
// 4B3328:  int dword_4B3328
// 4B332C:  int dword_4B332C
// 4B3330:  int dword_4B3330
// 4B3334:  int dword_4B3334
// 4B3338:  int dword_4B3338
// 4B333C:  int dword_4B333C
// 4B3340:  int dword_4B3340
// 4B3344:  int dword_4B3344
// 4B3348:  int dword_4B3348
// 4B334C:  int dword_4B334C
// 4B3350:  int dword_4B3350[]
// 4B3354:  int dword_4B3354[]
// 4B3358:  int dword_4B3358[]
// 4B335C:  int dword_4B335C[]
// 4B3360:  int dword_4B3360[]
// 4B3418:  int dword_4B3418[]
// 4B341C:  int dword_4B341C[]
// 4B3420:  int dword_4B3420[]
// 4B3424:  int dword_4B3424[]
// 4B3428:  int dword_4B3428[]
// 4B34E0:  int dword_4B34E0
// 4C0918:  int dword_4C0918

//----- (004257D0) --------------------------------------------------------
void __thiscall sub_4257D0(int this, int a2, int a3)
{
  char *v3; // edx
  char *v5; // esi
  int v6; // edi
  bool v7; // zf
  int v8; // eax
  int v9; // eax
  char *v10; // esi
  int *v11; // edx
  int v12; // esi
  int v13; // eax
  int v14; // edi
  int v15; // esi
  int v16; // esi
  int *v17; // eax
  int v18; // esi
  int v19; // ecx
  int v20; // edx
  int v21; // edx
  int v22; // eax
  int v23; // eax
  int v24; // eax
  int v25; // eax
  unsigned __int8 *v26; // edx
  int v27; // edi
  int i; // esi
  int v29; // edi
  int j; // esi
  char *v31; // edx
  _BYTE *v32; // ecx
  char v33; // al
  char *v34; // ecx
  _BYTE *v35; // edx
  char v36; // al
  int v37[240]; // [esp-3C4h] [ebp-124Ch] BYREF
  int v38; // [esp-4h] [ebp-E8Ch]
  int v39; // [esp+10h] [ebp-E78h]
  char *v40; // [esp+14h] [ebp-E74h]
  int v41; // [esp+18h] [ebp-E70h]
  int v42; // [esp+1Ch] [ebp-E6Ch]
  int *v43; // [esp+20h] [ebp-E68h]
  int v44; // [esp+24h] [ebp-E64h]
  int v45[240]; // [esp+28h] [ebp-E60h] BYREF
  char v46; // [esp+3E8h] [ebp-AA0h] BYREF
  char String1[2452]; // [esp+4F0h] [ebp-998h] BYREF

  v3 = (char *)Buf;
  qmemcpy(String1, (char *)Buf + 19496, 0x990u);
  v5 = String1;
  v43 = (int *)(this + 1588);
  v6 = 0;
  v39 = 0;
  v40 = String1;
  v41 = &v46 - String1;
  do
  {
    v7 = *v5 == 0;
    v42 = -1;
    if ( !v7 )
    {
      strlen(v5);
      v6 = v39;
      if ( (unsigned int)(v39 - 14) > 4 )
      {
        v8 = _strnicmp(v5, "_p,", 3u);
        v38 = 0;
        if ( v8 )
        {
          sub_422E80((char **)this, v5, v6, v38);
        }
        else
        {
          v42 = sub_44F850(v5 + 3, 0, v38);
          *(_DWORD *)(this + 1720) = v42;
        }
      }
      v9 = sub_41E830(v6);
      v44 = v9;
      if ( v9 != -1 )
      {
        v38 = v42;
        v10 = &v3[960 * v9 + 121248];
        v11 = *(int **)(this + 4 * v9 + 24480);
        qmemcpy(v37, v10, sizeof(v37));
        sub_447F40(
          *v11,
          v37[0],
          v37[1],
          v37[2],
          v37[3],
          v37[4],
          v37[5],
          v37[6],
          v37[7],
          v37[8],
          v37[9],
          v37[10],
          v37[11],
          v37[12],
          v37[13],
          v37[14],
          v37[15],
          v37[16],
          v37[17],
          v37[18],
          v37[19],
          v37[20],
          v37[21],
          v37[22],
          v37[23],
          v37[24],
          v37[25],
          v37[26],
          v37[27],
          v37[28],
          v37[29],
          v37[30],
          v37[31],
          v37[32],
          v37[33],
          v37[34],
          v37[35],
          v37[36],
          v37[37],
          v37[38],
          v37[39],
          v37[40],
          v37[41],
          v37[42],
          v37[43],
          v37[44],
          v37[45],
          v37[46],
          v37[47],
          v37[48],
          v37[49],
          v37[50],
          v37[51],
          v37[52],
          v37[53],
          v37[54],
          v37[55],
          v37[56],
          v37[57],
          v37[58],
          v37[59],
          v37[60],
          v37[61]);
        v12 = v44;
        sub_40EFC0(*(_DWORD **)(this + 4 * v44 + 24480), 0);
        if ( *v43 )
          sub_4440C0(**(_DWORD **)(this + 4 * v12 + 24480), *v43);
        v5 = v40;
        v6 = v39;
        v3 = (char *)Buf;
      }
    }
    ++v43;
    v41 -= 48;
    ++v6;
    v5 += 48;
    v39 = v6;
    v40 = v5;
  }
  while ( v6 < 37 );
  v13 = 0;
  v42 = 0;
  v40 = (char *)432;
  v41 = 5;
  do
  {
    if ( v3[(_DWORD)v40 + 19496] )
    {
      switch ( v13 )
      {
        case 0:
          v39 = 12;
          goto LABEL_20;
        case 1:
          v39 = 22;
          goto LABEL_20;
        case 2:
          v39 = 32;
          goto LABEL_20;
        case 3:
          v39 = 42;
          goto LABEL_20;
        case 4:
          v39 = 52;
LABEL_20:
          v14 = v39;
          sub_444990(**(_DWORD **)(this + 4 * v39 + 24480), v45);
          v15 = v45[45];
          sub_444990(**(_DWORD **)(this + 4 * v14 + 24472), v45);
          v38 = -1;
          v45[45] = v15;
          qmemcpy(v37, v45, sizeof(v37));
          sub_447F40(
            **(_DWORD **)(this + 4 * v39 + 24480),
            v37[0],
            v37[1],
            v37[2],
            v37[3],
            v37[4],
            v37[5],
            v37[6],
            v37[7],
            v37[8],
            v37[9],
            v37[10],
            v37[11],
            v37[12],
            v37[13],
            v37[14],
            v37[15],
            v37[16],
            v37[17],
            v37[18],
            v37[19],
            v37[20],
            v37[21],
            v37[22],
            v37[23],
            v37[24],
            v37[25],
            v37[26],
            v37[27],
            v37[28],
            v37[29],
            v37[30],
            v37[31],
            v37[32],
            v37[33],
            v37[34],
            v37[35],
            v37[36],
            v37[37],
            v37[38],
            v37[39],
            v37[40],
            v37[41],
            v37[42],
            v37[43],
            v37[44],
            v37[45],
            v37[46],
            v37[47],
            v37[48],
            v37[49],
            v37[50],
            v37[51],
            v37[52],
            v37[53],
            v37[54],
            v37[55],
            v37[56],
            v37[57],
            v37[58],
            v37[59],
            v37[60],
            v37[61]);
          v3 = (char *)Buf;
          v13 = v42;
          break;
        default:
          break;
      }
    }
    v40 += 48;
    ++v13;
    v7 = v41-- == 1;
    v42 = v13;
  }
  while ( !v7 );
  if ( v3[21032] )
  {
    sub_444990(**(_DWORD **)(this + 24784), v45);
    v16 = v45[45];
    sub_444990(**(_DWORD **)(this + 24780), v45);
    v17 = *(int **)(this + 24784);
    v38 = -1;
    v45[45] = v16;
    qmemcpy(v37, v45, sizeof(v37));
    sub_447F40(
      *v17,
      v37[0],
      v37[1],
      v37[2],
      v37[3],
      v37[4],
      v37[5],
      v37[6],
      v37[7],
      v37[8],
      v37[9],
      v37[10],
      v37[11],
      v37[12],
      v37[13],
      v37[14],
      v37[15],
      v37[16],
      v37[17],
      v37[18],
      v37[19],
      v37[20],
      v37[21],
      v37[22],
      v37[23],
      v37[24],
      v37[25],
      v37[26],
      v37[27],
      v37[28],
      v37[29],
      v37[30],
      v37[31],
      v37[32],
      v37[33],
      v37[34],
      v37[35],
      v37[36],
      v37[37],
      v37[38],
      v37[39],
      v37[40],
      v37[41],
      v37[42],
      v37[43],
      v37[44],
      v37[45],
      v37[46],
      v37[47],
      v37[48],
      v37[49],
      v37[50],
      v37[51],
      v37[52],
      v37[53],
      v37[54],
      v37[55],
      v37[56],
      v37[57],
      v37[58],
      v37[59],
      v37[60],
      v37[61]);
    v3 = (char *)Buf;
  }
  if ( !a3 )
  {
    v18 = *((_DWORD *)v3 + 66337);
    if ( v18 )
    {
      if ( *((int *)v3 + 66338) < 100 )
      {
        v22 = *((_DWORD *)v3 + 66338) / 10;
        v21 = *((_DWORD *)v3 + 66338) % 10;
        v38 = v22;
        v37[239] = *(_DWORD *)(this + 1700);
      }
      else
      {
        v19 = *((_DWORD *)v3 + 66338);
        v20 = *(_DWORD *)(this + 1700);
        v38 = v19 % 100 / -10;
        v37[239] = v20;
        v21 = v19 % 10;
      }
      sub_41F490((int *)this, v18, v21, v37[239], v38);
      v3 = (char *)Buf;
    }
    v23 = *((_DWORD *)v3 + 66342);
    if ( v23 )
    {
      sub_41F490((int *)this, 15, v23, *(_DWORD *)(this + 1708), 0);
      v3 = (char *)Buf;
    }
    v24 = *((_DWORD *)v3 + 66340);
    if ( v24 )
    {
      sub_41F490((int *)this, 13, v24, *(_DWORD *)(this + 1700), 0);
      v3 = (char *)Buf;
    }
    v25 = *((_DWORD *)v3 + 66339);
    if ( v25 )
    {
      sub_41F490((int *)this, 2, v25, *(_DWORD *)(this + 1704), 0);
      v3 = (char *)Buf;
    }
  }
  if ( *((_DWORD *)v3 + 66341) )
  {
    sub_421B30(this, COERCE_FLOAT(1));
    v3 = (char *)Buf;
  }
  if ( !a2 )
  {
    v26 = (unsigned __int8 *)(v3 + 21944);
    if ( *v26 )
      sub_43D070((DWORD *)dword_4C08F4, v26, 0, 1u);
    else
      sub_4224C0((_DWORD *)this, 0);
    v3 = (char *)Buf;
    if ( *((_BYTE *)Buf + 265392) )
    {
      sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)Buf + 265392, 2, 0);
      v3 = (char *)Buf;
    }
    v27 = 21984;
    for ( i = 22112; i < 22128; i += 4 )
    {
      if ( !*(_DWORD *)&v3[i] && v3[v27] )
      {
        sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)&v3[v27], 1, *(_DWORD *)&v3[i]);
        v3 = (char *)Buf;
      }
      v27 += 32;
    }
  }
  v29 = 21984;
  for ( j = 22112; j < 22128; j += 4 )
  {
    if ( *(_DWORD *)&v3[j] && v3[v29] )
    {
      sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)&v3[v29], 1, *(_DWORD *)&v3[j]);
      v3 = (char *)Buf;
    }
    v29 += 32;
  }
  v31 = v3 + 265812;
  v32 = (_BYTE *)(this + 11492);
  do
  {
    v33 = *v31;
    *v32++ = *v31++;
  }
  while ( v33 );
  v34 = (char *)Buf + 265552;
  v35 = (_BYTE *)(this + 12516);
  do
  {
    v36 = *v34;
    *v35++ = *v34++;
  }
  while ( v36 );
  *((_DWORD *)Buf + 5533) = *((_DWORD *)Buf + 5536);
  v7 = *(_DWORD *)(this + 23876) == 0;
  *(_DWORD *)(this + 1564) = 0;
  if ( !v7 )
  {
    sub_41A6A0(
      *(int **)(this + 10404),
      *(_DWORD *)(*(_DWORD *)(this + 10404) + 32),
      *(_DWORD *)(*(_DWORD *)(this + 10404) + 36),
      *(_DWORD *)(*(_DWORD *)(this + 10404) + 40));
    sub_41A6A0(
      *(int **)(this + 10408),
      *(_DWORD *)(*(_DWORD *)(this + 10408) + 32),
      *(_DWORD *)(*(_DWORD *)(this + 10408) + 36),
      *(_DWORD *)(*(_DWORD *)(this + 10408) + 40));
  }
  sub_458190(*(_DWORD **)(this + 25120));
  *(_DWORD *)(this + 23892) = 1;
}
// 4258B5: variable 'v3' is possibly undefined

//----- (00425D20) --------------------------------------------------------
void *__thiscall sub_425D20(char **this, int a2)
{
  _DWORD *v3; // eax
  void *result; // eax

  if ( !a2 )
  {
    v3 = Buf;
    if ( *((_DWORD *)Buf + 66336) )
    {
      *((_DWORD *)Buf + 66336) = 0;
      sub_422F70(this, "-", 26, 0);
      v3 = Buf;
    }
    if ( v3[66341] )
    {
      v3[66341] = 0;
      sub_4252C0(this);
    }
  }
  sub_41F490((int *)this, 0, 0, 0, 0);
  *((_DWORD *)Buf + 66337) = 0;
  *((_DWORD *)Buf + 66339) = 0;
  *((_DWORD *)Buf + 66340) = 0;
  result = Buf;
  *((_DWORD *)Buf + 66342) = 0;
  return result;
}

//----- (00425DB0) --------------------------------------------------------
int __thiscall sub_425DB0(int this)
{
  _DWORD ***v2; // edi
  int v3; // ebx
  int i; // edi
  int **v5; // edi
  int v6; // ebx

  v2 = (_DWORD ***)(this + 24520);
  v3 = 54;
  do
  {
    sub_44A6E0(**v2++);
    --v3;
  }
  while ( v3 );
  sub_44A6E0(**(_DWORD ***)(this + 24744));
  sub_44A6E0(**(_DWORD ***)(this + 24732));
  sub_444970(**(_DWORD **)(this + 24732));
  for ( i = 4; i <= 13; ++i )
    sub_41F340(this, i);
  if ( *((_DWORD *)Buf + 66341) )
  {
    *((_DWORD *)Buf + 66341) = 0;
    sub_4252C0((char **)this);
  }
  sub_41F340(this, 25);
  sub_445230(**(_DWORD **)(this + 24732));
  sub_44A6E0(**(_DWORD ***)(this + 24492));
  sub_44A6E0(**(_DWORD ***)(this + 24496));
  sub_44A6E0(**(_DWORD ***)(this + 24500));
  sub_445C30(**(_DWORD **)(this + 24492));
  sub_445C30(**(_DWORD **)(this + 24496));
  sub_445C30(**(_DWORD **)(this + 24500));
  sub_44A6E0(**(_DWORD ***)(this + 24832));
  sub_440CE0(*(_DWORD *)(this + 25080));
  sub_445C30(**(_DWORD **)(this + 24832));
  sub_440880(*(_DWORD *)(this + 25080));
  sub_41F340(this, 31);
  sub_41F340(this, 32);
  v5 = (int **)(this + 24480);
  v6 = 60;
  do
  {
    sub_444490((_DWORD *)**v5, 0);
    sub_444ED0(**v5++, 0.0, 0.0);
    --v6;
  }
  while ( v6 );
  sub_41F440(this);
  sub_407760(dword_4C08DC);
  sub_4581F0(*(_DWORD **)(this + 25120));
  *((_DWORD *)Buf + 272086) = 0;
  *((_DWORD *)Buf + 66517) = 0;
  return sub_444250(**(_DWORD ***)(this + 24480), 0);
}

//----- (00425F50) --------------------------------------------------------
void __thiscall sub_425F50(int this, int a2)
{
  _DWORD ***v3; // esi
  int v4; // edi
  _DWORD **v5; // esi
  int v6; // edi

  if ( !a2 )
  {
    v3 = (_DWORD ***)(this + 24480);
    v4 = 150;
    do
    {
      sub_44A6E0(**v3);
      sub_444A30(**v3++, 0);
      --v4;
    }
    while ( v4 );
  }
  v5 = (_DWORD **)(this + 24480);
  v6 = 150;
  do
  {
    sub_40EFC0(*v5++, 0);
    --v6;
  }
  while ( v6 );
  sub_421970(this);
  sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, -1);
  *(_DWORD *)(this + 23944) = 0;
  if ( !a2 )
  {
    sub_423200(this);
    sub_425D20((char **)this, 0);
  }
}

//----- (00425FF0) --------------------------------------------------------
void *__thiscall sub_425FF0(int this, int a2)
{
  int v3; // edi
  int v4; // eax
  void *result; // eax
  char v6; // [esp+0h] [ebp-8h]

  v3 = sub_40E1E0(Buf, a2);
  if ( *(_DWORD *)(this + 1764) )
    sub_44BF60(*(int **)(this + 25096), *(_DWORD *)(this + 1764));
  v4 = sub_407820(v3, 0, 0, 0, v6);
  *(_DWORD *)(this + 1764) = v4;
  sub_407810(dword_4C08DC, v4);
  sub_407780((int)dword_4C08DC, 0, v3);
  result = sub_425D20((char **)this, 1);
  *(_DWORD *)(this + 1564) = 15;
  return result;
}
// 426028: variable 'v6' is possibly undefined

//----- (00426070) --------------------------------------------------------
void __thiscall sub_426070(int this, int a2)
{
  int *v3; // eax

  if ( a2 )
  {
    sub_425DB0(this);
    if ( *(_DWORD *)(this + 1768) )
      sub_41F340(this, 45);
    v3 = *(int **)(this + 24480);
    *(_DWORD *)(this + 1768) = a2;
    sub_4440C0(*v3, a2);
    sub_444260(**(float ***)(this + 24480), 0.0, 0.0);
    sub_444300(**(float ***)(this + 24480));
  }
}

//----- (004260E0) --------------------------------------------------------
int __thiscall sub_4260E0(int this, int a2, int a3)
{
  char *v3; // eax
  int v4; // edx
  char v6; // cl
  char *v7; // ecx
  char *v8; // edx
  char v9; // al
  _DWORD *v10; // ecx
  int v11; // eax
  _DWORD *v12; // ecx
  int v13; // eax
  int result; // eax
  char *v15; // ecx
  char *v16; // edx
  char v17; // al
  char v18[260]; // [esp+Ch] [ebp-108h] BYREF

  v3 = (char *)Buf + 19336;
  v4 = v18 - ((_BYTE *)Buf + 19336);
  do
  {
    v6 = *v3;
    v3[v4] = *v3;
    ++v3;
  }
  while ( v6 );
  sub_425F50(this, a3);
  v7 = (char *)a2;
  v8 = (char *)Buf + 19336;
  do
  {
    v9 = *v7;
    *v8++ = *v7++;
  }
  while ( v9 );
  *((_DWORD *)Buf + 5533) = 3;
  *((_DWORD *)Buf + 27961) = 0;
  *((_DWORD *)Buf + 66508) = 0;
  *((_BYTE *)Buf + 266332) = 0;
  if ( *(_DWORD *)(this + 10368) )
  {
    *((_BYTE *)Buf + 265812) = 0;
    v10 = *(_DWORD **)(this + 10368);
    if ( v10 )
    {
      v11 = sub_414740(v10);
      sub_440880(v11);
    }
  }
  if ( *(_DWORD *)(this + 10372) )
  {
    *((_BYTE *)Buf + 265552) = 0;
    v12 = *(_DWORD **)(this + 10372);
    if ( v12 )
    {
      v13 = sub_414740(v12);
      sub_440880(v13);
    }
  }
  sub_4023E0((_BYTE *)Buf + 19336);
  *((_DWORD *)Buf + 27962) = 0;
  *((_DWORD *)Buf + 27963) = 0;
  result = sub_438A00(*(int **)(this + 10340), a2, 0);
  if ( result == -1 )
  {
    v15 = v18;
    v16 = (char *)Buf + 19336;
    do
    {
      v17 = *v15;
      *v16++ = *v15++;
    }
    while ( v17 );
    return sub_438A00(*(int **)(this + 10340), (int)Buf + 19336, 0);
  }
  return result;
}

//----- (00426260) --------------------------------------------------------
void __thiscall sub_426260(_DWORD *this, int a2)
{
  int v3; // ebx
  int v4[16]; // [esp+Ch] [ebp-44h] BYREF

  v3 = 2;
  if ( a2 != -1 )
    v3 = a2;
  if ( !sub_421E40(this) || *((_DWORD *)Buf + 66510) )
  {
    if ( sub_40C610(v3) )
    {
      sub_40C770((int)Buf, v3);
      this[2870] = 0;
      this[2871] = 0;
      *((_DWORD *)Buf + 4) = 0;
      *((_DWORD *)Buf + 272077) = 0;
      memcpy((char *)Buf + 375652, (char *)Buf + 19328, 0x56FE4u);
      sub_4260E0((int)this, (int)Buf + 19336, 0);
      sub_4224C0(this, 0);
      sub_4224C0(this, (void *)1);
      sub_4224C0(this, (void *)2);
      memcpy((char *)Buf + 19328, (char *)Buf + 375652, 0x56FE4u);
      sub_4257D0((int)this, 0, 0);
      sub_4094F0((char *)Buf + 19336, (int)v4);
      sub_421A00((int)this, 1);
    }
  }
}
// 426260:  int var_44[16]

//----- (00426390) --------------------------------------------------------
_DWORD *__thiscall sub_426390(_DWORD *this, _DWORD *a2, unsigned int a3, rsize_t SourceSize)
{
  rsize_t v5; // ebx
  unsigned int v6; // eax
  unsigned int v7; // edi
  unsigned int v8; // eax
  bool v9; // zf
  _DWORD *v10; // ebp
  unsigned int v12; // eax
  _DWORD *v13; // edx
  bool v14; // cf
  int v15; // [esp+0h] [ebp-10h]
  int v16; // [esp+4h] [ebp-Ch]

  if ( a2[5] < a3 )
    sub_459A6E();
  v5 = SourceSize;
  if ( a2[5] - a3 < SourceSize )
    v5 = a2[5] - a3;
  v6 = this[5];
  if ( -1 - v6 <= v5 || v6 + v5 < v6 )
    sub_459A36(v15, v16);
  if ( !v5 )
    return this;
  v7 = v5 + this[5];
  if ( v7 == -1 )
    sub_459A36(v15, v16);
  v8 = this[6];
  if ( v8 < v7 )
  {
    sub_403540(this, v7, this[5]);
    v9 = v7 == 0;
    goto LABEL_13;
  }
  v9 = v7 == 0;
  if ( v7 )
  {
LABEL_13:
    if ( !v9 )
    {
      if ( a2[6] < 0x10u )
        v10 = a2 + 1;
      else
        v10 = (_DWORD *)a2[1];
      v12 = this[6];
      if ( v12 < 0x10 )
        v13 = this + 1;
      else
        v13 = (_DWORD *)this[1];
      memcpy_s((char *)v13 + this[5], v12 - this[5], (char *)v10 + a3, v5);
      v14 = this[6] < 0x10u;
      this[5] = v7;
      if ( !v14 )
      {
        *(_BYTE *)(this[1] + v7) = 0;
        return this;
      }
      *((_BYTE *)this + v7 + 4) = 0;
    }
    return this;
  }
  this[5] = 0;
  if ( v8 < 0x10 )
    *((_BYTE *)this + 4) = 0;
  else
    *(_BYTE *)this[1] = 0;
  return this;
}
// 4263CA: variable 'v15' is possibly undefined
// 4263CA: variable 'v16' is possibly undefined
// 459A6E:  void __noreturn sub_459A6E(void)

//----- (00426490) --------------------------------------------------------
void __thiscall sub_426490(void *this)
{
  unsigned int *v1; // eax
  unsigned int *v2; // esi
  int v3; // edx
  bool v4; // zf
  char *v5; // ebx
  char *v6; // esi
  int v7; // ebp
  char *v8; // edi
  char v9; // al
  _BYTE *v10; // edx
  int i; // eax
  unsigned __int8 v12; // cl
  char *v13; // esi
  int v14; // edi
  char *v15; // ebp
  char v16; // al
  char v17; // al
  char *v18; // esi
  char *v19; // ecx
  char v20; // bl
  int j; // ebp
  _BYTE *v22; // ecx
  int k; // eax
  char *v24; // esi
  int v25; // edi
  char *v26; // ebp
  char v27; // al
  char v28; // al
  char *v29; // esi
  char *v30; // ecx
  char v31; // bl
  int m; // ebp
  _BYTE *v33; // ecx
  int n; // eax
  char *v35; // esi
  int v36; // edi
  char *v37; // ebp
  char v38; // al
  char v39; // al
  char *v40; // esi
  char *v41; // ecx
  char v42; // bl
  int ii; // ebp
  _BYTE *v44; // ecx
  int jj; // eax
  char *v46; // esi
  int v47; // ebx
  char *v48; // esi
  char *kk; // edi
  char v50; // al
  int v51; // edi
  char v52; // al
  char *mm; // ecx
  int v54; // eax
  char *v55; // esi
  int v56; // edi
  char *v57; // esi
  char v58; // al
  char *v59; // esi
  int v60; // ebx
  char *v61; // ecx
  char v62; // al
  char *v63; // esi
  char *v64; // ecx
  char *v65; // esi
  char v66; // al
  char *nn; // ecx
  char v68; // al
  char *v69; // esi
  char *v70; // ecx
  char v71; // al
  char *v72; // esi
  char *v73; // ecx
  _BYTE *v74; // esi
  char *v75; // edi
  char v76; // al
  const char *v77; // esi
  char *v78; // edi
  int v79; // ebp
  int *v80; // ebx
  char v81; // al
  int v82; // eax
  char v83; // al
  char *i1; // ecx
  int v85; // ebp
  char *v86; // edi
  const char *v87; // esi
  int v88; // ebx
  int v89; // eax
  char v90; // cl
  int v91; // eax
  char v92; // cl
  int v93; // eax
  char v94; // cl
  int v95; // eax
  char v96; // cl
  int i2; // eax
  char v98; // cl
  int v99; // esi
  int v100; // esi
  char *v101; // [esp-Ch] [ebp-AE69Ch]
  const char *v102; // [esp-8h] [ebp-AE698h]
  size_t v103; // [esp-4h] [ebp-AE694h]
  int v104; // [esp+0h] [ebp-AE690h] BYREF
  char *Str; // [esp+14h] [ebp-AE67Ch]
  int v106; // [esp+18h] [ebp-AE678h]
  unsigned int *v107; // [esp+1Ch] [ebp-AE674h]
  char v108[356324]; // [esp+20h] [ebp-AE670h] BYREF
  int Src[89081]; // [esp+57004h] [ebp-5768Ch] BYREF
  char String[12]; // [esp+ADFE8h] [ebp-6A8h] BYREF
  char v111[12]; // [esp+ADFF4h] [ebp-69Ch] BYREF
  char SubStr[16]; // [esp+AE000h] [ebp-690h] BYREF
  char v113[16]; // [esp+AE010h] [ebp-680h] BYREF
  char v114[20]; // [esp+AE020h] [ebp-670h] BYREF
  char v115[20]; // [esp+AE034h] [ebp-65Ch] BYREF
  char Buffer[32]; // [esp+AE048h] [ebp-648h] BYREF
  char v117[100]; // [esp+AE068h] [ebp-628h] BYREF
  char v118[1200]; // [esp+AE0CCh] [ebp-5C4h] BYREF
  char v119[260]; // [esp+AE57Ch] [ebp-114h] BYREF
  int v120; // [esp+AE68Ch] [ebp-4h]

  v103 = 84;
  v106 = (int)this;
  *((_DWORD *)Buf + 272084) = 0;
  v1 = (unsigned int *)operator new(v103);
  v107 = v1;
  v120 = 0;
  if ( v1 )
  {
    v2 = (unsigned int *)sub_409AF0((int)v1);
    v107 = v2;
  }
  else
  {
    v2 = 0;
    v107 = 0;
  }
  v120 = -1;
  sub_4559D0(v2, (BYTE *)"sa01");
  sub_455BB0(v2, "yp", "ld");
  sub_455BB0(v2, "in", (char *)Data);
  sprintf(Buffer, "%s:%s", "DC4", (const char *)Data);
  sub_455BB0(v2, "did", Buffer);
  if ( sub_456DF0(v2, v3) )
  {
    v103 = 50;
    v5 = (char *)sub_454BC0(v2);
    v102 = 0;
    v101 = v117;
    Str = v5;
    *((_DWORD *)Buf + 272084) = 1;
    memset(v101, (int)v102, v103);
    if ( strstr(v5, "SYSDATA::") )
    {
      v6 = strstr(v5, "SYSDATA::") + 9;
      v7 = 0;
      v8 = String;
      while ( strncmp(v6, "END;", 4u) )
      {
        v9 = *v6;
        if ( !*v6 )
          break;
        if ( v9 == 44 )
        {
          v103 = (size_t)String;
          *v8 = 0;
          v117[v7++] = atoi((const char *)v103);
          ++v6;
          v8 = String;
          if ( v7 >= 50 )
            break;
        }
        else
        {
          *v8++ = v9;
          ++v6;
        }
      }
      v10 = Buf;
      for ( i = 100; i < 150; ++i )
      {
        v12 = *((_BYTE *)&v104 + i + 712708);
        if ( v10[i + 216] < v12 )
        {
          v10[i + 216] = v12;
          v10 = Buf;
        }
      }
    }
    memset(v118, 0, sizeof(v118));
    if ( strstr(v5, "SYSCG::") )
    {
      v13 = strstr(v5, "SYSCG::") + 7;
      v14 = 0;
      v15 = String;
      while ( strncmp(v13, "END;", 4u) )
      {
        v16 = *v13;
        if ( !*v13 )
          break;
        if ( v16 == 44 )
        {
          v103 = (size_t)String;
          *v15 = 0;
          v118[v14++] = atoi((const char *)v103);
          ++v13;
          v15 = String;
          if ( v14 >= 1200 )
            break;
        }
        else if ( v16 == 124 )
        {
          v17 = v13[1];
          v18 = v13 + 1;
          v19 = v111;
          if ( v17 != 44 )
          {
            do
            {
              ++v18;
              *v19 = v17;
              v17 = *v18;
              ++v19;
            }
            while ( *v18 != 44 );
          }
          v103 = (size_t)String;
          *v19 = 0;
          v20 = atoi((const char *)v103);
          for ( j = 0; j < atoi(v111); ++j )
          {
            v118[v14++] = v20;
            if ( v14 >= 1200 )
              break;
          }
          v5 = Str;
          v13 = v18 + 1;
          if ( v14 >= 1200 )
            break;
          v15 = String;
        }
        else
        {
          *v15++ = v16;
          ++v13;
        }
      }
      v22 = Buf;
      for ( k = 0; k < 1200; ++k )
      {
        if ( v22[k + 784] || v118[k] )
        {
          v22[k + 784] = 1;
          v22 = Buf;
        }
      }
    }
    memset(v118, 0, 0x190u);
    if ( strstr(v5, "SYSBGM::") )
    {
      v24 = strstr(Str, "SYSBGM::") + 8;
      v25 = 0;
      v26 = String;
      while ( strncmp(v24, "END;", 4u) )
      {
        v27 = *v24;
        if ( !*v24 )
          break;
        if ( v27 == 44 )
        {
          v103 = (size_t)String;
          *v26 = 0;
          v118[v25++] = atoi((const char *)v103);
          ++v24;
          v26 = String;
          if ( v25 >= 400 )
            break;
        }
        else if ( v27 == 124 )
        {
          v28 = v24[1];
          v29 = v24 + 1;
          v30 = v111;
          if ( v28 != 44 )
          {
            do
            {
              ++v29;
              *v30 = v28;
              v28 = *v29;
              ++v30;
            }
            while ( *v29 != 44 );
          }
          v103 = (size_t)String;
          *v30 = 0;
          v31 = atoi((const char *)v103);
          for ( m = 0; m < atoi(v111); ++m )
          {
            v118[v25++] = v31;
            if ( v25 >= 400 )
              break;
          }
          v24 = v29 + 1;
          if ( v25 >= 400 )
            break;
          v26 = String;
        }
        else
        {
          *v26++ = v27;
          ++v24;
        }
      }
      v33 = Buf;
      for ( n = 0; n < 400; ++n )
      {
        if ( v33[n + 384] || v118[n] )
        {
          v33[n + 384] = 1;
          v33 = Buf;
        }
      }
    }
    memset(v118, 0, 0x28Au);
    if ( strstr(Str, "SYSSCE::") )
    {
      v35 = strstr(Str, "SYSSCE::") + 8;
      v36 = 0;
      v37 = String;
      while ( strncmp(v35, "END;", 4u) )
      {
        v38 = *v35;
        if ( !*v35 )
          break;
        if ( v38 == 44 )
        {
          v103 = (size_t)String;
          *v37 = 0;
          v118[v36++] = atoi((const char *)v103);
          ++v35;
          v37 = String;
          if ( v36 >= 650 )
            break;
        }
        else if ( v38 == 124 )
        {
          v39 = v35[1];
          v40 = v35 + 1;
          v41 = v111;
          if ( v39 != 44 )
          {
            do
            {
              ++v40;
              *v41 = v39;
              v39 = *v40;
              ++v41;
            }
            while ( *v40 != 44 );
          }
          v103 = (size_t)String;
          *v41 = 0;
          v42 = atoi((const char *)v103);
          for ( ii = 0; ii < atoi(v111); ++ii )
          {
            v118[v36++] = v42;
            if ( v36 >= 650 )
              break;
          }
          v35 = v40 + 1;
          if ( v36 >= 650 )
            break;
          v37 = String;
        }
        else
        {
          *v37++ = v38;
          ++v35;
        }
      }
      v44 = Buf;
      for ( jj = 0; jj < 650; ++jj )
      {
        if ( v44[jj + 1984] || v118[jj] )
        {
          v44[jj + 1984] = 1;
          v44 = Buf;
        }
      }
    }
    v46 = Str;
    v47 = 0;
    if ( strstr(Str, "SYSREAD::") )
    {
      v48 = strstr(v46, "SYSREAD::") + 9;
      for ( kk = String; strncmp(v48, "END;", 4u); ++v48 )
      {
        v50 = *v48;
        if ( !*v48 )
          break;
        if ( v50 != 44 && v50 != 33 )
        {
          if ( v50 == 59 )
          {
            if ( ++v47 >= 650 )
              break;
          }
          else if ( v50 == 124 )
          {
            v103 = (size_t)String;
            *kk = 0;
            ++v48;
            v51 = atoi((const char *)v103);
            v52 = *v48;
            for ( mm = v111; *v48 != 44; ++mm )
            {
              ++v48;
              *mm = v52;
              v52 = *v48;
            }
            *mm = 0;
            v54 = atoi(v111);
            sub_403170((int)Buf, v47, v51, v54);
            kk = String;
          }
          else
          {
            *kk++ = v50;
          }
        }
      }
    }
    v55 = Str;
    v56 = 0;
    v106 = 0;
    do
    {
      sprintf(SubStr, "SAVEDATA%02d::", v56);
      if ( strstr(v55, SubStr) )
      {
        v57 = strstr(v55, SubStr);
        v58 = v57[12];
        v59 = v57 + 12;
        v60 = 0;
        v61 = v119;
        if ( v58 != 44 )
        {
          do
          {
            ++v59;
            *v61 = v58;
            v58 = *v59;
            ++v61;
          }
          while ( *v59 != 44 );
        }
        v62 = v59[1];
        v63 = v59 + 1;
        *v61 = 0;
        v64 = v113;
        if ( v62 != 44 )
        {
          do
          {
            ++v63;
            *v64 = v62;
            v62 = *v63;
            ++v64;
          }
          while ( *v63 != 44 );
        }
        v65 = v63 + 1;
        *v64 = 0;
        v66 = *v65;
        for ( nn = v118; *v65 != 44; ++nn )
        {
          ++v65;
          *nn = v66;
          v66 = *v65;
        }
        v68 = v65[1];
        v69 = v65 + 1;
        *nn = 0;
        v70 = v114;
        if ( v68 != 44 )
        {
          do
          {
            ++v69;
            *v70 = v68;
            v68 = *v69;
            ++v70;
          }
          while ( *v69 != 44 );
        }
        v71 = v69[1];
        v72 = v69 + 1;
        *v70 = 0;
        v73 = v115;
        if ( v71 != 44 )
        {
          do
          {
            ++v72;
            *v73 = v71;
            v71 = *v72;
            ++v73;
          }
          while ( *v72 != 44 );
        }
        v103 = 8;
        v74 = v72 + 1;
        v102 = "SCEREAD;";
        v101 = v74;
        *v73 = 0;
        v75 = String;
        if ( strncmp(v101, v102, v103) )
        {
          do
          {
            v76 = *v74;
            if ( !*v74 )
              break;
            if ( v76 == 44 )
            {
              v103 = (size_t)String;
              *v75 = 0;
              v117[v60++] = atoi((const char *)v103);
              ++v74;
              v75 = String;
              if ( v60 >= 100 )
                break;
            }
            else
            {
              *v75++ = v76;
              ++v74;
            }
          }
          while ( strncmp(v74, "SCEREAD;", 8u) );
        }
        while ( strncmp(v74, "SCEREAD;", 8u) )
          ++v74;
        memset(Src, 0, sizeof(Src));
        v77 = v74 + 8;
        v78 = String;
        v79 = 0;
        if ( strncmp(v77, "END;", 4u) )
        {
          v80 = &Src[21729];
          do
          {
            v81 = *v77;
            if ( !*v77 )
              break;
            if ( v81 != 44 )
            {
              switch ( v81 )
              {
                case '!':
                  v103 = (size_t)String;
                  *v78 = 0;
                  *((_WORD *)v80 - 2) = atoi((const char *)v103);
                  v78 = String;
                  break;
                case ';':
                  ++v79;
                  v80 = (int *)((char *)v80 + 14);
                  if ( v79 >= 650 )
                    goto LABEL_133;
                  break;
                case '|':
                  v103 = (size_t)String;
                  *v78 = 0;
                  v82 = atoi((const char *)v103);
                  if ( v82 < 2 )
                    LOWORD(v82) = 2;
                  ++v77;
                  *(_WORD *)v80 = v82;
                  v83 = *v77;
                  for ( i1 = v111; *v77 != 44; ++i1 )
                  {
                    ++v77;
                    *i1 = v83;
                    v83 = *v77;
                  }
                  *i1 = 0;
                  *((_WORD *)v80 + 1) = atoi(v111) + 1;
                  v78 = String;
                  break;
                default:
                  *v78++ = v81;
                  break;
              }
            }
            ++v77;
          }
          while ( strncmp(v77, "END;", 4u) );
        }
LABEL_133:
        v85 = v79 - 1;
        v86 = (char *)&Src[486];
        v87 = (char *)Buf + 21272;
        v88 = 7;
        do
        {
          strcpy(v86, v87);
          v86 += 48;
          v87 += 48;
          --v88;
        }
        while ( v88 );
        Src[61679] = 1;
        v89 = 0;
        do
        {
          v90 = v119[v89];
          *((_BYTE *)&Src[2] + v89++) = v90;
        }
        while ( v90 );
        Src[703] = atoi(v113);
        v91 = 0;
        do
        {
          v92 = v118[v91];
          *((_BYTE *)&Src[61556] + v91++) = v92;
        }
        while ( v92 );
        v93 = 0;
        do
        {
          v94 = v114[v93];
          *((_BYTE *)&Src[61490] + v93++) = v94;
        }
        while ( v94 );
        v95 = 0;
        do
        {
          v96 = v115[v95];
          *((_BYTE *)&Src[61485] + v95++) = v96;
        }
        while ( v96 );
        for ( i2 = 0; i2 < 100; ++i2 )
        {
          v98 = v117[i2];
          if ( v98 )
          {
            *((_WORD *)&Src[24140] + Src[24139]) = i2 + 500;
            *((_BYTE *)&Src[24640] + Src[24139]++) = v98;
          }
          *((_BYTE *)&Src[25016] + i2) = v98;
        }
        Src[21727] = v85;
        v99 = 0;
        Src[61684] = 1;
        if ( !strncmp((const char *)&Src[61490], dword_48B910, 4u) )
          v99 = strlen((const char *)&Src[61490]) == 4;
        if ( !strncmp((const char *)&Src[61485], dword_48B908, 4u) && strlen((const char *)&Src[61485]) == 4 )
          ++v99;
        if ( v99 == 2 )
          Src[61684] = 0;
        memcpy(v108, (char *)Buf + 375652, sizeof(v108));
        memcpy((char *)Buf + 375652, Src, 0x56FE4u);
        v100 = v106 + 110;
        sub_40C3E0(Buf, v106 + 110);
        sub_40C480((int)Buf, v100, 1);
        memcpy((char *)Buf + 375652, v108, 0x56FE4u);
        v56 = v106;
        v55 = Str;
      }
      v106 = ++v56;
    }
    while ( v56 < 5 );
    v2 = v107;
    v4 = v107 == 0;
  }
  else
  {
    MessageBoxA(0, &byte_48C9B0, WindowName, 0x42000u);
    v4 = v2 == 0;
  }
  if ( !v4 )
  {
    sub_409B60((int)v2);
    operator delete(v2);
  }
}
// 42657C: variable 'v3' is possibly undefined
// 4C06D8:  BYTE Data[64]
// 426490:  char var_628[100]
// 426490:  char var_5C4[1200]
// 426490:  char var_114[260]
// 426490:  char var_670[20]
// 426490:  char var_65C[20]

//----- (00427100) --------------------------------------------------------
_DWORD *__thiscall sub_427100(_DWORD *this, _DWORD *a2, _DWORD *a3, int a4, _DWORD *a5, unsigned int a6)
{
  unsigned int v7; // ecx
  unsigned int v8; // edi
  _DWORD *v9; // edx
  _DWORD *v10; // eax
  _DWORD *v11; // eax
  int v12; // ecx
  _DWORD *v13; // eax
  unsigned int v14; // ebx
  int v15; // edi
  unsigned int v16; // esi
  _DWORD *v17; // eax

  v7 = this[6];
  if ( v7 < 0x10 )
    v8 = (unsigned int)(this + 1);
  else
    v8 = this[1];
  if ( !v8
    || ((v9 = this + 1, v7 < 0x10) ? (v10 = this + 1) : (v10 = (_DWORD *)*v9),
        (unsigned int)v10 > v8
     || (v7 < 0x10 ? (v11 = this + 1) : (v11 = (_DWORD *)*v9), v8 > (unsigned int)v11 + this[5])) )
  {
    _invalid_parameter_noinfo();
  }
  v12 = a4;
  v13 = a3;
  if ( a4 )
  {
    if ( a3 != (_DWORD *)-4 && (!a3 || a3 != this) )
    {
      _invalid_parameter_noinfo();
      v12 = a4;
      v13 = a3;
    }
    v14 = a4 - v8;
  }
  else
  {
    v14 = 0;
  }
  v15 = v12;
  v16 = a6;
  if ( a6 )
  {
    if ( a5 != (_DWORD *)-4 && (!a5 || a5 != v13) )
      _invalid_parameter_noinfo();
    v16 = a6 - v15;
  }
  sub_4034B0(this, v14, v16);
  if ( this[6] < 0x10u )
    v17 = this + 1;
  else
    v17 = (_DWORD *)this[1];
  sub_4253E0(a2, (unsigned int)v17 + v14, this);
  return a2;
}

//----- (004271E0) --------------------------------------------------------
_DWORD *__thiscall sub_4271E0(_DWORD *this, _BYTE *Source, rsize_t SourceSize)
{
  unsigned int v4; // edi
  _DWORD *v5; // eax
  unsigned int v6; // ecx
  int v7; // ecx
  rsize_t v9; // eax
  unsigned int v10; // edi
  unsigned int v11; // eax
  bool v12; // zf
  unsigned int v13; // eax
  _DWORD *v14; // ebx
  _DWORD *v15; // edx
  bool v16; // cf
  int v17; // [esp-4h] [ebp-10h]
  int v18; // [esp+0h] [ebp-Ch]

  if ( Source )
  {
    v4 = this[6];
    v5 = this + 1;
    v6 = v4 < 0x10 ? (unsigned int)(this + 1) : *v5;
    if ( (unsigned int)Source >= v6 )
    {
      v7 = v4 < 0x10 ? (int)(this + 1) : *v5;
      if ( v7 + this[5] > (unsigned int)Source )
      {
        if ( v4 >= 0x10 )
          v5 = (_DWORD *)*v5;
        return sub_426390(this, this, Source - (_BYTE *)v5, SourceSize);
      }
    }
  }
  v9 = this[5];
  if ( -1 - v9 <= SourceSize || v9 + SourceSize < v9 )
    sub_459A36(v17, v18);
  if ( !SourceSize )
    return this;
  v10 = SourceSize + this[5];
  if ( v10 == -1 )
    sub_459A36(v17, v18);
  v11 = this[6];
  if ( v11 < v10 )
  {
    sub_403540(this, v10, this[5]);
    v12 = v10 == 0;
    goto LABEL_21;
  }
  v12 = v10 == 0;
  if ( v10 )
  {
LABEL_21:
    if ( !v12 )
    {
      v13 = this[6];
      v14 = this + 1;
      if ( v13 < 0x10 )
        v15 = this + 1;
      else
        v15 = (_DWORD *)*v14;
      memcpy_s((char *)v15 + this[5], v13 - this[5], Source, SourceSize);
      v16 = this[6] < 0x10u;
      this[5] = v10;
      if ( !v16 )
        v14 = (_DWORD *)*v14;
      *((_BYTE *)v14 + v10) = 0;
    }
    return this;
  }
  this[5] = 0;
  if ( v11 < 0x10 )
    *((_BYTE *)this + 4) = 0;
  else
    *(_BYTE *)this[1] = 0;
  return this;
}
// 42724B: variable 'v17' is possibly undefined
// 42724B: variable 'v18' is possibly undefined

//----- (004272F0) --------------------------------------------------------
_DWORD *__thiscall sub_4272F0(unsigned int *this)
{
  unsigned int v2; // edx
  unsigned int *v3; // esi
  _DWORD *v4; // eax
  unsigned int v5; // ecx
  unsigned int v6; // ebp
  unsigned int *v7; // eax
  unsigned int *v8; // eax
  unsigned int v9; // ecx
  unsigned int v10; // ebx
  unsigned int *v11; // eax
  int v13; // [esp+10h] [ebp-8h] BYREF

  v2 = this[6];
  v3 = this + 1;
  if ( v2 < 0x10 )
    v4 = this + 1;
  else
    v4 = (_DWORD *)*v3;
  v5 = this[5];
  v6 = (unsigned int)v4 + v5;
  if ( !(_DWORD *)((char *)v4 + v5)
    || (v2 < 0x10 ? (v7 = v3) : (v7 = (unsigned int *)*v3),
        (unsigned int)v7 > v6 || (v2 < 0x10 ? (v8 = v3) : (v8 = (unsigned int *)*v3), v6 > (unsigned int)v8 + v5)) )
  {
    _invalid_parameter_noinfo();
  }
  v9 = this[6];
  if ( v9 < 0x10 )
    v10 = (unsigned int)v3;
  else
    v10 = *v3;
  if ( !v10 )
    goto LABEL_25;
  v11 = v9 < 0x10 ? v3 : (unsigned int *)*v3;
  if ( (unsigned int)v11 > v10 )
    goto LABEL_25;
  if ( v9 >= 0x10 )
    v3 = (unsigned int *)*v3;
  if ( v10 > (unsigned int)v3 + this[5] )
LABEL_25:
    _invalid_parameter_noinfo();
  return sub_427100(this, &v13, this, v10, this, v6);
}

//----- (00427390) --------------------------------------------------------
void sub_427390()
{
  int v0; // ebx
  int i; // ebp
  int v2; // esi
  int j; // esi
  int v4; // edi
  char *v5; // esi
  int k; // esi
  unsigned __int8 *v7; // ecx
  int v8; // eax
  int v9; // esi
  int m; // edi
  unsigned __int8 *v11; // ecx
  int v12; // eax
  int v13; // esi
  int n; // edi
  unsigned __int8 *v15; // ecx
  int v16; // eax
  int v17; // esi
  int ii; // edi
  char *v19; // eax
  int v20; // ebp
  int v21; // edi
  int v22; // esi
  _DWORD *v23; // esi
  char *v24; // eax
  char *v25; // eax
  int v26; // edx
  int v27; // [esp+18h] [ebp-57150h] BYREF
  void *v28; // [esp+1Ch] [ebp-5714Ch] BYREF
  int v29; // [esp+2Ch] [ebp-5713Ch]
  unsigned int v30; // [esp+30h] [ebp-57138h]
  char v31[8]; // [esp+34h] [ebp-57134h] BYREF
  char Source[2804]; // [esp+3Ch] [ebp-5712Ch] BYREF
  int Value; // [esp+B30h] [ebp-56638h]
  int v34; // [esp+153B0h] [ebp-41DB8h]
  char v35[159028]; // [esp+153B4h] [ebp-41DB4h] BYREF
  CHAR v36[20]; // [esp+3C0E8h] [ebp-1B080h] BYREF
  CHAR v37[264]; // [esp+3C0FCh] [ebp-1B06Ch] BYREF
  CHAR MultiByteStr[110100]; // [esp+3C204h] [ebp-1AF64h] BYREF
  char Buffer[16]; // [esp+57018h] [ebp-150h] BYREF
  char v40[12]; // [esp+57028h] [ebp-140h] BYREF
  char v41[32]; // [esp+57034h] [ebp-134h] BYREF
  char v42[260]; // [esp+57054h] [ebp-114h] BYREF
  int v43; // [esp+57164h] [ebp-4h]

  v0 = 0;
  v30 = 15;
  v29 = 0;
  LOBYTE(v28) = 0;
  v43 = 0;
  sub_4272F0((unsigned int *)&v27);
  for ( i = 0; i < 5; ++i )
  {
    if ( sub_40C540(i + 110, v31) != -1 )
    {
      v2 = Value;
      sprintf(Buffer, "SAVEDATA%02d::", i);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, Source, strlen(Source));
      sub_4271E0(&v27, word_48C794, 1u);
      _itoa(v2, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, word_48C794, 1u);
      sub_407120(MultiByteStr, v42, 260);
      sub_4271E0(&v27, v42, strlen(v42));
      sub_4271E0(&v27, word_48C794, 1u);
      sub_407120(v37, v42, 260);
      sub_4271E0(&v27, v42, strlen(v42));
      sub_4271E0(&v27, word_48C794, 1u);
      sub_407120(v36, v42, 260);
      sub_4271E0(&v27, v42, strlen(v42));
      sub_4271E0(&v27, word_48C794, 1u);
      for ( j = 0; j < 100; ++j )
      {
        _itoa((unsigned __int8)v35[j + 13152], v40, 10);
        sub_4271E0(&v27, v40, strlen(v40));
        sub_4271E0(&v27, word_48C794, 1u);
      }
      sub_4271E0(&v27, "SCEREAD;", 8u);
      v4 = 0;
      if ( v34 >= 0 )
      {
        v5 = v35;
        do
        {
          if ( *(_WORD *)v5 != 0xFFFF )
          {
            _itoa(*(__int16 *)v5, v40, 10);
            sub_4271E0(&v27, v40, strlen(v40));
            sub_4271E0(&v27, "!", 1u);
            _itoa(*((unsigned __int16 *)v5 + 2), v40, 10);
            sub_4271E0(&v27, v40, strlen(v40));
            sub_4271E0(&v27, "|", 1u);
            _itoa(*((unsigned __int16 *)v5 + 3) - 1, v40, 10);
            sub_4271E0(&v27, v40, strlen(v40));
            sub_4271E0(&v27, word_48C794, 1u);
            sub_4271E0(&v27, ";", 1u);
          }
          ++v4;
          v5 += 14;
        }
        while ( v4 <= v34 );
      }
      sub_4271E0(&v27, "END;", 4u);
    }
  }
  sub_4271E0(&v27, "SYSDATA::", 9u);
  for ( k = 100; k < 150; ++k )
  {
    _itoa(*((unsigned __int8 *)Buf + k + 216), v40, 10);
    sub_4271E0(&v27, v40, strlen(v40));
    sub_4271E0(&v27, word_48C794, 1u);
  }
  sub_4271E0(&v27, "END;", 4u);
  sub_4271E0(&v27, "SYSCG::", 7u);
  v7 = (unsigned __int8 *)Buf;
  v8 = *((unsigned __int8 *)Buf + 784);
  v9 = 1;
  for ( m = 1; m < 1200; ++m )
  {
    if ( v8 == v7[m + 784] )
    {
      ++v9;
    }
    else
    {
      _itoa(v8, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, "|", 1u);
      _itoa(v9, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, word_48C794, 1u);
      v7 = (unsigned __int8 *)Buf;
      v8 = *((unsigned __int8 *)Buf + m + 784);
      v9 = 1;
    }
  }
  _itoa(v8, Buffer, 10);
  sub_4271E0(&v27, Buffer, strlen(Buffer));
  sub_4271E0(&v27, "|", 1u);
  _itoa(v9, Buffer, 10);
  sub_4271E0(&v27, Buffer, strlen(Buffer));
  sub_4271E0(&v27, word_48C794, 1u);
  sub_4271E0(&v27, "END;", 4u);
  sub_4271E0(&v27, "SYSBGM::", 8u);
  v11 = (unsigned __int8 *)Buf;
  v12 = *((unsigned __int8 *)Buf + 384);
  v13 = 1;
  for ( n = 1; n < 400; ++n )
  {
    if ( v12 == v11[n + 384] )
    {
      ++v13;
    }
    else
    {
      _itoa(v12, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, "|", 1u);
      _itoa(v13, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, word_48C794, 1u);
      v11 = (unsigned __int8 *)Buf;
      v12 = *((unsigned __int8 *)Buf + n + 384);
      v13 = 1;
    }
  }
  _itoa(v12, Buffer, 10);
  sub_4271E0(&v27, Buffer, strlen(Buffer));
  sub_4271E0(&v27, "|", 1u);
  _itoa(v13, Buffer, 10);
  sub_4271E0(&v27, Buffer, strlen(Buffer));
  sub_4271E0(&v27, word_48C794, 1u);
  sub_4271E0(&v27, "END;", 4u);
  sub_4271E0(&v27, "SYSSCE::", 8u);
  v15 = (unsigned __int8 *)Buf;
  v16 = *((unsigned __int8 *)Buf + 1984);
  v17 = 1;
  for ( ii = 1; ii < 650; ++ii )
  {
    if ( v16 == v15[ii + 1984] )
    {
      ++v17;
    }
    else
    {
      _itoa(v16, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, "|", 1u);
      _itoa(v17, Buffer, 10);
      sub_4271E0(&v27, Buffer, strlen(Buffer));
      sub_4271E0(&v27, word_48C794, 1u);
      v15 = (unsigned __int8 *)Buf;
      v16 = *((unsigned __int8 *)Buf + ii + 1984);
      v17 = 1;
    }
  }
  _itoa(v16, Buffer, 10);
  sub_4271E0(&v27, Buffer, strlen(Buffer));
  sub_4271E0(&v27, "|", 1u);
  _itoa(v17, Buffer, 10);
  sub_4271E0(&v27, Buffer, strlen(Buffer));
  sub_4271E0(&v27, word_48C794, 1u);
  sub_4271E0(&v27, "END;", 4u);
  sub_4271E0(&v27, "SYSREAD::", 9u);
  do
  {
    v19 = (char *)Buf;
    v20 = 0;
    v21 = v0;
    do
    {
      if ( *(_WORD *)&v19[v21 + 2640] || *(_WORD *)&v19[v21 + 2642] )
      {
        v22 = *(unsigned __int16 *)&v19[v21 + 2642];
        _itoa(*(unsigned __int16 *)&v19[v21 + 2640], Buffer, 10);
        if ( v20 )
          sub_4271E0(&v27, "!", 1u);
        sub_4271E0(&v27, Buffer, strlen(Buffer));
        sub_4271E0(&v27, "|", 1u);
        _itoa(v22, Buffer, 10);
        sub_4271E0(&v27, Buffer, strlen(Buffer));
        sub_4271E0(&v27, word_48C794, 1u);
        v19 = (char *)Buf;
      }
      ++v20;
      v21 += 4;
    }
    while ( v20 < 4 );
    sub_4271E0(&v27, ";", 1u);
    v0 += 20;
  }
  while ( v0 < 13000 );
  sub_4271E0(&v27, "END;", 4u);
  *((_DWORD *)Buf + 272084) = 0;
  if ( v29 )
  {
    v23 = operator new(0x54u);
    if ( v23 )
    {
      v23[6] = 15;
      v23[5] = 0;
      *((_BYTE *)v23 + 4) = 0;
      v23[13] = 15;
      v23[12] = 0;
      *((_BYTE *)v23 + 32) = 0;
      v23[20] = 15;
      v23[19] = 0;
      *((_BYTE *)v23 + 60) = 0;
      LOBYTE(v43) = 4;
      sub_4553D0(v23);
    }
    else
    {
      v23 = 0;
    }
    LOBYTE(v43) = 0;
    sub_455D00(v23, (BYTE *)"sa01");
    v24 = (char *)sub_453B00();
    sub_455BB0(v23, v24, 0);
    sub_455B40(v23, "in", (char *)Data);
    sprintf(v41, "%s:%s", "DC4", (const char *)Data);
    sub_455B40(v23, "did", v41);
    v25 = (char *)v28;
    if ( v30 < 0x10 )
      v25 = (char *)&v28;
    sub_455B40(v23, "da", v25);
    if ( sub_456F60(v23, v26) )
    {
      *((_DWORD *)Buf + 272084) = 1;
    }
    else
    {
      *((_DWORD *)Buf + 272084) = 0;
      MessageBoxA(0, &byte_48C9B0, WindowName, 0x42000u);
    }
    sub_4272F0((unsigned int *)&v27);
    if ( v23 )
    {
      sub_409B60((int)v23);
      operator delete(v23);
    }
  }
  else
  {
    MessageBoxA(0, &byte_48C9EC, WindowName, 0x42000u);
  }
  sub_443210((int)dword_4C087C);
  if ( v30 >= 0x10 )
    operator delete(v28);
}
// 427EEA: variable 'v26' is possibly undefined
// 4C06D8:  BYTE Data[64]
// 427390:  char var_57134[8]
// 427390:  CHAR MultiByteStr[110100]
// 427390:  CHAR var_1B06C[264]
// 427390:  CHAR var_1B080[20]

//----- (00427FB0) --------------------------------------------------------
int __thiscall sub_427FB0(int this)
{
  char *v2; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  void *v6; // eax
  int v7; // eax
  void *v8; // eax
  int v9; // eax
  void *v10; // eax
  int v11; // eax
  void *v12; // eax
  int v13; // eax
  _DWORD *v14; // eax
  _DWORD *v15; // eax
  _DWORD *v16; // eax
  _DWORD *v17; // ebp
  void *v18; // eax
  void *v19; // ebp
  void *v20; // eax
  int *v21; // eax
  int *v22; // eax
  _DWORD *v23; // edi
  _DWORD *v24; // eax
  _DWORD *v25; // ebp
  int result; // eax
  int v27; // [esp+14h] [ebp-14h]

  memset((void *)(this + 1588), 0, 0xCCu);
  *(_DWORD *)(this + 1564) = 0;
  *(_DWORD *)(this + 15628) = 0;
  *(_DWORD *)(this + 15624) = 0;
  strcpy((char *)(this + 1300), PathName);
  v2 = (char *)(this + 1299);
  while ( *++v2 )
    ;
  strcpy(v2, "\\Advdata");
  *(_DWORD *)(this + 2104) = 0;
  memset((void *)(this + 10368), 0, 0x58u);
  *(_DWORD *)(this + 11480) = 0;
  *(_DWORD *)(this + 11484) = 0;
  *(_DWORD *)(this + 11488) = 0;
  memset((void *)(this + 10456), 0, 0x400u);
  memset((void *)(this + 11492), 0, 0x800u);
  memset((void *)(this + 13540), 0, 0x800u);
  memset((void *)(this + 23940), 0, 0x210u);
  *(_DWORD *)(this + 24468) = 0;
  v4 = operator new(0x36E04u);
  if ( v4 )
    v5 = sub_404470(v4);
  else
    v5 = 0;
  *(_DWORD *)(this + 10340) = v5;
  v6 = operator new(0x444u);
  if ( v6 )
    v7 = sub_404260((int)v6);
  else
    v7 = 0;
  *(_DWORD *)(this + 10348) = v7;
  v8 = operator new(0x444u);
  if ( v8 )
    v9 = sub_404260((int)v8);
  else
    v9 = 0;
  *(_DWORD *)(this + 10352) = v9;
  v10 = operator new(0x444u);
  if ( v10 )
    v11 = sub_404260((int)v10);
  else
    v11 = 0;
  *(_DWORD *)(this + 10356) = v11;
  v12 = operator new(0x444u);
  if ( v12 )
    v13 = sub_404260((int)v12);
  else
    v13 = 0;
  *(_DWORD *)(this + 10360) = v13;
  v14 = operator new(0x1E14u);
  if ( v14 )
    v15 = sub_40B570(v14);
  else
    v15 = 0;
  *(_DWORD *)(this + 10364) = v15;
  v16 = operator new(0x57798u);
  v17 = v16;
  if ( v16 )
    sub_404540(v16);
  else
    v17 = 0;
  *(_DWORD *)(this + 10344) = v17;
  v18 = operator new(0xCu);
  v19 = v18;
  if ( v18 )
  {
    unknown_libname_4(v18);
    v20 = v19;
  }
  else
  {
    v20 = 0;
  }
  *(_DWORD *)(this + 25120) = v20;
  v21 = (int *)operator new(0xB0u);
  if ( v21 )
    v22 = sub_442880(v21);
  else
    v22 = 0;
  *(_DWORD *)(this + 25080) = v22;
  *(_DWORD *)(this + 25092) = 0;
  *(_DWORD *)(this + 25096) = *((_DWORD *)dword_4C0874 + 63);
  *(_DWORD *)(this + 10368) = 0;
  *(_DWORD *)(this + 10372) = 0;
  *(_DWORD *)(this + 10376) = 0;
  *(_DWORD *)(this + 10380) = 0;
  *(_DWORD *)(this + 10384) = 0;
  *(_DWORD *)(this + 10388) = 0;
  *(_DWORD *)(this + 10392) = 0;
  *(_DWORD *)(this + 10396) = 0;
  *(_DWORD *)(this + 10400) = 0;
  *(_DWORD *)(this + 10404) = 0;
  *(_DWORD *)(this + 10408) = 0;
  *(_DWORD *)(this + 10412) = 0;
  *(_DWORD *)(this + 10416) = 0;
  *(_DWORD *)(this + 10420) = 0;
  *(_DWORD *)(this + 10424) = 0;
  *(_DWORD *)(this + 10428) = 0;
  *(_DWORD *)(this + 10432) = 0;
  *(_DWORD *)(this + 10436) = 0;
  *(_DWORD *)(this + 10440) = 0;
  *(_DWORD *)(this + 10444) = 0;
  *(_DWORD *)(this + 10448) = 0;
  *(_DWORD *)(this + 10452) = 0;
  *(_DWORD *)(this + 15588) = 0;
  *(_DWORD *)(this + 15620) = 0;
  *(_DWORD *)(this + 15632) = 1;
  *(_DWORD *)(this + 15616) = 0;
  *(_DWORD *)(this + 1584) = 0;
  *(_DWORD *)(this + 1580) = 0;
  *(_DWORD *)(this + 23892) = 0;
  *(_DWORD *)(this + 15612) = 0;
  *(_DWORD *)(this + 24472) = 0;
  *(_DWORD *)(this + 23872) = 0;
  *(_DWORD *)(this + 23880) = 0;
  *(_DWORD *)(this + 23876) = 0;
  *(_DWORD *)(this + 23904) = 0;
  *(_DWORD *)(this + 23908) = 0;
  *(_DWORD *)(this + 15592) = -1;
  *(_DWORD *)(this + 23916) = 0;
  *(_DWORD *)(this + 1560) = 0;
  *(_DWORD *)(this + 1568) = 0;
  *(_DWORD *)(this + 1576) = 0;
  *(_DWORD *)(this + 1572) = 0;
  *(_DWORD *)(this + 2012) = 0;
  *(_DWORD *)(this + 2008) = 0;
  *(_DWORD *)(this + 2004) = 0;
  *(_DWORD *)(this + 2000) = 0;
  *(_DWORD *)(this + 1996) = 0;
  *(_DWORD *)(this + 23868) = 0;
  *(_DWORD *)(this + 2016) = 0;
  *(_DWORD *)(this + 2100) = 0;
  *(_DWORD *)(this + 2108) = 0;
  *(_DWORD *)(this + 15604) = 0;
  *(_DWORD *)(this + 15608) = 0;
  *(_DWORD *)(this + 23864) = 0;
  *(_DWORD *)(this + 23896) = 0;
  *(_DWORD *)(this + 23900) = 0;
  *(_DWORD *)(this + 23912) = 0;
  *(_DWORD *)(this + 23920) = 0;
  *(_DWORD *)(this + 25088) = 0;
  *(_DWORD *)(this + 25100) = 0;
  *(_DWORD *)(this + 25104) = 0;
  *(_DWORD *)(this + 25108) = 0;
  *(_DWORD *)(this + 25112) = -1;
  memset((void *)(this + 1792), 0, 0xCCu);
  memset((void *)(this + 2020), 0, 0x50u);
  memset((void *)(this + 2112), 0, 0x2024u);
  memset((void *)(this + 15636), 0, 0x2024u);
  *(_DWORD *)(this + 23936) = 0;
  *(_DWORD *)(this + 23932) = 0;
  *(_DWORD *)(this + 23928) = 0;
  *(_DWORD *)(this + 23924) = 0;
  v23 = (_DWORD *)(this + 24480);
  v27 = 150;
  do
  {
    v24 = operator new(0x10u);
    v25 = v24;
    if ( v24 )
      sub_40EE30(v24);
    else
      v25 = 0;
    *v23++ = v25;
    --v27;
  }
  while ( v27 );
  result = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24488) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24508) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24512) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24516) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24736) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24740) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24736) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24820) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24484) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24732) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24540) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24580) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24620) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24660) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24700) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24544) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24584) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24624) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24664) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24704) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24548) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24588) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24628) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24668) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24708) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24552) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24592) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24632) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24672) + 1920) = 1;
  *(_DWORD *)(**(_DWORD **)(this + 24712) + 1920) = 1;
  return result;
}
// 457FA0:  int __thiscall unknown_libname_4(_DWORD)

//----- (00428640) --------------------------------------------------------
int __thiscall sub_428640(int this, float a2, int a3)
{
  int v3; // edi
  int *v5; // eax
  int v6; // eax
  int v7; // esi
  char *v8; // eax
  char *v9; // edx
  char v10; // cl
  int v11; // eax
  int v12; // esi
  char *v13; // eax
  int v14; // ecx
  _BYTE *v15; // edx
  char *v16; // ecx
  char v17; // al
  int v18; // edx
  int v19; // esi
  bool v20; // zf
  int v21; // esi
  int v22; // edx
  char **v23; // ecx
  float *v24; // ecx
  const char **v25; // esi
  char *v26; // edi
  unsigned int v27; // eax
  int v28; // esi
  int v29; // eax
  int v30; // esi
  char *v31; // ecx
  char *v32; // edx
  char v33; // al
  unsigned int v34; // eax
  char *v35; // edi
  char *v37; // edi
  int v38; // ecx
  int v39; // esi
  unsigned __int8 *v40; // eax
  const CHAR *v41; // eax
  int v42; // esi
  unsigned __int8 *v43; // edx
  CHAR v44; // cl
  const CHAR *v45; // eax
  int v46; // esi
  unsigned __int8 *v47; // edx
  CHAR v48; // cl
  char *v49; // eax
  char *v50; // ecx
  char *v51; // ecx
  _BYTE *v52; // edx
  char v53; // al
  char *v54; // ecx
  char *v55; // edx
  char v56; // al
  int v57; // eax
  int v58; // eax
  char v59; // cl
  int v60; // esi
  char *v61; // ecx
  char *v62; // edx
  char v63; // al
  int v64; // esi
  _DWORD *v65; // eax
  char *v66; // eax
  int *v67; // eax
  char *v68; // edx
  const char *v69; // eax
  void *v70; // ecx
  char *v71; // eax
  int *v72; // edx
  char v73; // cl
  int v74; // edx
  void *v75; // ecx
  char *v76; // eax
  char *v77; // eax
  int *v78; // edx
  char v79; // cl
  const char *v80; // eax
  int v81; // ecx
  int v82; // edx
  unsigned __int16 v83; // cx
  _DWORD *v84; // edx
  int v85; // eax
  _DWORD *v86; // ecx
  _DWORD *v87; // eax
  int v88; // eax
  _DWORD *v89; // eax
  int v90; // eax
  int *v91; // esi
  int v92; // ecx
  char *v93; // eax
  int *v94; // esi
  int v95; // eax
  void ***v96; // esi
  void *v97; // ecx
  void *v98; // ecx
  void ***v99; // esi
  void *v100; // ecx
  void *v101; // ecx
  int v102; // eax
  int v103; // eax
  _DWORD *v104; // ecx
  _DWORD *v105; // ecx
  _DWORD *v106; // ecx
  unsigned int v107; // ecx
  _DWORD *v108; // ecx
  unsigned int v109; // ecx
  _DWORD *v110; // ecx
  unsigned int v111; // edx
  int v112; // esi
  char v113; // al
  void *v114; // ecx
  void *v115; // ecx
  int v116; // esi
  char v117; // al
  void *v118; // ecx
  void *v119; // ecx
  _DWORD *v120; // ecx
  int v121; // eax
  int v122; // eax
  int v123; // esi
  int v124; // eax
  unsigned __int8 *v125; // eax
  unsigned __int8 *v126; // eax
  int v127; // eax
  int v128; // esi
  int v129; // eax
  int v130; // ecx
  int v131; // esi
  int v132; // eax
  BOOL v133; // ecx
  int v134; // edx
  char *v135; // ecx
  char *v136; // edx
  char v137; // al
  int v138; // eax
  int v139; // ecx
  int *v140; // eax
  int v141; // eax
  char v142; // cl
  float **v143; // eax
  char *v144; // ecx
  char *v145; // edx
  char v146; // al
  int v147; // eax
  int v148; // ecx
  int *v149; // eax
  int v150; // eax
  char v151; // cl
  int v152; // esi
  int *v153; // eax
  int v154; // ecx
  int v155; // ecx
  int v156; // ecx
  int v157; // esi
  char *v158; // eax
  int *v159; // eax
  char *v160; // eax
  int *v161; // eax
  int *v162; // esi
  int *v163; // esi
  int *v164; // esi
  _DWORD *v165; // eax
  _DWORD *v166; // eax
  _DWORD *v167; // eax
  int v168; // edi
  _DWORD *v169; // eax
  char *v170; // eax
  int *v171; // edx
  char v172; // cl
  const char *v173; // eax
  int *v174; // edx
  int v175; // ecx
  int v176; // eax
  int v177; // eax
  char *v178; // ecx
  char *v179; // edx
  char v180; // al
  int v181; // edx
  char *v182; // edi
  char *v183; // ecx
  _BYTE *v184; // edx
  char v185; // al
  char *v186; // ecx
  _BYTE *v187; // edx
  char v188; // al
  int v189; // eax
  int v190; // eax
  int v191; // eax
  int v192; // esi
  void *v193; // eax
  int v194; // esi
  int *v195; // ecx
  int v196; // eax
  int v197; // esi
  int v198; // eax
  char v199; // dl
  char v200; // cl
  int v201; // eax
  const CHAR *v202; // eax
  int *v203; // edx
  CHAR v204; // cl
  char *v205; // eax
  int *v206; // edx
  char v207; // cl
  _DWORD ***v208; // esi
  unsigned int v209; // edx
  float v210; // esi
  int *v211; // ecx
  _BYTE *v212; // edx
  char v213; // al
  int v214; // eax
  int *v215; // ecx
  char *v216; // edx
  char v217; // al
  int *v218; // ecx
  int *v219; // edx
  char v220; // al
  int v221; // eax
  char v222; // cl
  char *v223; // ecx
  char *v224; // edx
  char v225; // al
  int v226; // eax
  int *v227; // ecx
  int *v228; // edx
  char v229; // al
  int v230; // eax
  char v231; // cl
  int v232; // eax
  char v233; // cl
  int v234; // eax
  int v235; // edx
  int v236; // ecx
  int *v237; // eax
  int v238; // esi
  char v239; // dl
  int *v240; // edx
  int *v241; // ecx
  char v242; // al
  int v243; // eax
  int *v244; // ecx
  int *v245; // edx
  char v246; // al
  _DWORD *v247; // edx
  int v248; // edx
  char **v249; // ecx
  int v250; // esi
  int v251; // esi
  float **v252; // edx
  float v253; // ecx
  int *v254; // eax
  int v255; // ecx
  int *v256; // ecx
  int *v257; // edx
  char v258; // al
  int v259; // edi
  int v260; // esi
  int v261; // esi
  float **v262; // edx
  float v263; // ecx
  int *v264; // eax
  int v265; // ecx
  int v266; // esi
  float v267; // ecx
  float **v268; // ecx
  float *v269; // ecx
  int *v270; // edx
  int v271; // ecx
  int v272; // eax
  int v273; // eax
  int *v274; // edx
  double v275; // st7
  float **v276; // edx
  float *v277; // ecx
  int v278; // eax
  char v279; // cl
  int v280; // eax
  int v281; // esi
  int v282; // ecx
  int v283; // edx
  int v284; // eax
  int *v285; // eax
  int v286; // esi
  _DWORD *v287; // ecx
  int v288; // edx
  int v289; // eax
  float v290; // edx
  int v291; // eax
  char v292; // dl
  int v293; // esi
  _DWORD *v294; // ecx
  int v295; // ecx
  int *v296; // eax
  int v297; // ecx
  float *v298; // ecx
  int v299; // ecx
  float *v300; // ecx
  _DWORD **v301; // edx
  _DWORD *v302; // ecx
  int v303; // edx
  int v304; // esi
  float *v305; // ecx
  float *v306; // ecx
  int v307; // edx
  int v308; // eax
  int v309; // ecx
  _DWORD *v310; // ecx
  int v311; // ecx
  float v312; // eax
  _DWORD *v313; // ecx
  float v314; // ecx
  int *v315; // edx
  int v316; // ecx
  float *v317; // ecx
  int *v318; // eax
  int v319; // ecx
  float *v320; // ecx
  _DWORD *v321; // ecx
  float *v322; // ecx
  float *v323; // ecx
  char v324; // dl
  int v325; // edx
  int **v326; // edx
  int v327; // eax
  int v328; // esi
  double v329; // st7
  int v330; // edx
  int v331; // eax
  int v332; // edx
  int v333; // eax
  int v334; // eax
  const CHAR *v335; // eax
  char *v336; // edx
  CHAR v337; // cl
  int v338; // eax
  unsigned __int8 v339; // cl
  char *v340; // ecx
  char *v341; // edx
  char v342; // al
  int v343; // eax
  const CHAR *v344; // eax
  char *v345; // edx
  CHAR v346; // cl
  int v347; // eax
  unsigned __int8 v348; // cl
  int v349; // eax
  unsigned __int8 v350; // cl
  int v351; // eax
  unsigned __int8 v352; // cl
  char *v353; // ecx
  char *v354; // edx
  char v355; // al
  int v356; // ecx
  int v357; // esi
  int v358; // edx
  _DWORD *v359; // eax
  int v360; // eax
  unsigned __int8 v361; // cl
  int *v362; // ecx
  char *v363; // edx
  char v364; // al
  int v365; // eax
  unsigned __int8 v366; // cl
  int *v367; // ecx
  char *v368; // edx
  char v369; // al
  int v370; // eax
  unsigned __int8 v371; // cl
  int *v372; // ecx
  char *v373; // edx
  char v374; // al
  char *v375; // eax
  int v376; // esi
  int v377; // eax
  int v378; // eax
  int v379; // ecx
  int *v380; // eax
  char v381; // cl
  int *v382; // eax
  char v383; // cl
  int *v384; // eax
  char v385; // cl
  int *v386; // eax
  char v387; // cl
  int *v388; // eax
  char v389; // cl
  int *v390; // eax
  char v391; // cl
  int *v392; // eax
  char v393; // cl
  int *v394; // eax
  char v395; // cl
  int *v396; // eax
  char v397; // cl
  int *v398; // eax
  char v399; // cl
  int *v400; // eax
  char v401; // cl
  int *v402; // eax
  char v403; // cl
  int *v404; // eax
  char v405; // cl
  int *v406; // eax
  char v407; // cl
  int *v408; // eax
  char v409; // cl
  int v410; // eax
  int v411; // edx
  int v412; // eax
  int *v413; // eax
  char v414; // cl
  int v415; // ecx
  int j; // eax
  int v417; // ecx
  int k; // eax
  int v419; // ecx
  _DWORD *v420; // eax
  int v421; // eax
  const char *v422; // eax
  unsigned int v423; // eax
  char *v424; // edi
  char *v426; // edi
  int v427; // ecx
  int v428; // eax
  _BYTE *v429; // eax
  int v430; // eax
  unsigned int v431; // eax
  char *v432; // edi
  char *v434; // edi
  int v435; // ecx
  char *v436; // ecx
  char *v437; // edx
  char v438; // al
  int v439; // eax
  char *v440; // ecx
  char *v441; // edx
  char v442; // al
  char *v443; // ecx
  char *v444; // edx
  char v445; // al
  int v446; // eax
  int *v447; // ecx
  int *v448; // eax
  int v449; // ecx
  int v450; // esi
  int **v451; // esi
  int v452; // eax
  int v453; // eax
  int v454; // edi
  int *v455; // edx
  int v456; // ecx
  int v457; // eax
  float *v458; // ecx
  int *v459; // edx
  int **v460; // esi
  int v461; // eax
  int v462; // edi
  int v463; // eax
  float *v464; // ecx
  int *v465; // edx
  float ***v466; // esi
  float *v467; // ecx
  float *v468; // ecx
  int v469; // eax
  int v470; // edi
  int *v471; // edx
  int v472; // ecx
  int v473; // eax
  float *v474; // ecx
  int *v475; // edx
  int *v476; // eax
  int v477; // ecx
  int v478; // ecx
  int *v479; // eax
  int v480; // ecx
  float ***v481; // esi
  int v482; // eax
  float *v483; // ecx
  int v484; // eax
  int v485; // eax
  int v486; // edi
  float *v487; // ecx
  int v488; // eax
  float *v489; // ecx
  int v490; // ecx
  int v491; // eax
  int v492; // edx
  int v493; // ecx
  int v494; // eax
  int v495; // eax
  int v496; // ecx
  int v497; // eax
  int v498; // ecx
  int **v499; // esi
  int **v500; // esi
  char **v501; // ecx
  char *v502; // edx
  int *v503; // ecx
  char *v504; // edx
  char v505; // al
  int v506; // eax
  int v507; // ecx
  void *v508; // eax
  int v509; // esi
  float v510; // ecx
  int v511; // edx
  int v512; // ecx
  void *v513; // eax
  int v514; // esi
  float v515; // edx
  int v516; // eax
  int v517; // edx
  int v518; // ecx
  int v519; // eax
  int v520; // ecx
  int **v521; // esi
  double v522; // st7
  int v523; // ecx
  int v524; // esi
  int **v525; // esi
  int v526; // ecx
  _DWORD ***v527; // esi
  float ***v528; // esi
  float *v529; // ecx
  int v530; // eax
  int v531; // eax
  int v532; // eax
  int v533; // eax
  int v534; // ecx
  unsigned __int8 *v535; // eax
  char *v536; // ecx
  int *v537; // edx
  char v538; // al
  int v539; // esi
  double v540; // st7
  float *v541; // ecx
  float *v542; // ecx
  float *v543; // ecx
  double v544; // st7
  int v545; // esi
  float **v546; // edx
  float *v547; // ecx
  int v548; // esi
  int v549; // edi
  int *v550; // eax
  int v551; // esi
  int *v552; // eax
  int v553; // eax
  unsigned int v554; // edx
  unsigned int v555; // esi
  unsigned __int8 *v556; // eax
  int v557; // edx
  unsigned __int8 v558; // cl
  unsigned __int8 *v559; // eax
  int v560; // esi
  int v561; // edx
  int v562; // edi
  int *v563; // esi
  int v564; // edi
  int *v565; // esi
  int *v566; // esi
  float ***v567; // edi
  float *v568; // ecx
  float *v569; // ecx
  int v570; // eax
  int v571; // eax
  _DWORD *v572; // ecx
  _DWORD *v573; // eax
  _DWORD *v574; // ecx
  _DWORD *v575; // eax
  int v576; // eax
  _DWORD *v577; // ecx
  _DWORD *v578; // eax
  int v579; // eax
  int v580; // ecx
  int v581; // edx
  _DWORD *v582; // ecx
  _DWORD *v583; // eax
  int v584; // eax
  const char **v585; // esi
  int *v586; // eax
  _QWORD v588[120]; // [esp-3B0h] [ebp-80A8h] BYREF
  float v589; // [esp+10h] [ebp-7CE8h] BYREF
  int v590; // [esp+14h] [ebp-7CE4h]
  int v591; // [esp+18h] [ebp-7CE0h]
  int i; // [esp+28h] [ebp-7CD0h]
  char *String1; // [esp+2Ch] [ebp-7CCCh]
  char *v594; // [esp+30h] [ebp-7CC8h]
  int v595; // [esp+34h] [ebp-7CC4h]
  float v596; // [esp+38h] [ebp-7CC0h] BYREF
  float v597; // [esp+3Ch] [ebp-7CBCh] BYREF
  float v598; // [esp+40h] [ebp-7CB8h]
  float v599; // [esp+44h] [ebp-7CB4h]
  int v600; // [esp+48h] [ebp-7CB0h]
  void *v601; // [esp+4Ch] [ebp-7CACh]
  int v602; // [esp+50h] [ebp-7CA8h]
  int v603; // [esp+54h] [ebp-7CA4h]
  int v604; // [esp+58h] [ebp-7CA0h] BYREF
  int v605; // [esp+5Ch] [ebp-7C9Ch] BYREF
  int v606; // [esp+60h] [ebp-7C98h]
  float v607; // [esp+64h] [ebp-7C94h]
  int v608; // [esp+68h] [ebp-7C90h]
  int v609; // [esp+6Ch] [ebp-7C8Ch]
  int v610; // [esp+70h] [ebp-7C88h]
  unsigned __int8 *v611; // [esp+74h] [ebp-7C84h]
  int v612; // [esp+78h] [ebp-7C80h]
  int v613; // [esp+7Ch] [ebp-7C7Ch]
  float v614; // [esp+80h] [ebp-7C78h] BYREF
  float v615; // [esp+84h] [ebp-7C74h] BYREF
  float v616; // [esp+88h] [ebp-7C70h] BYREF
  float v617; // [esp+8Ch] [ebp-7C6Ch] BYREF
  int v618; // [esp+90h] [ebp-7C68h]
  int v619; // [esp+94h] [ebp-7C64h]
  int v620; // [esp+98h] [ebp-7C60h]
  BOOL v621; // [esp+9Ch] [ebp-7C5Ch]
  int v622; // [esp+A0h] [ebp-7C58h]
  int v623; // [esp+A4h] [ebp-7C54h]
  int v624; // [esp+A8h] [ebp-7C50h]
  int v625; // [esp+ACh] [ebp-7C4Ch]
  int v626; // [esp+B0h] [ebp-7C48h]
  int v627; // [esp+B4h] [ebp-7C44h]
  int v628; // [esp+B8h] [ebp-7C40h] BYREF
  int v629; // [esp+BCh] [ebp-7C3Ch]
  int v630; // [esp+C0h] [ebp-7C38h]
  int v631; // [esp+C4h] [ebp-7C34h]
  int v632; // [esp+C8h] [ebp-7C30h]
  int v633; // [esp+CCh] [ebp-7C2Ch]
  int v634; // [esp+D0h] [ebp-7C28h]
  int v635; // [esp+D4h] [ebp-7C24h]
  int v636; // [esp+D8h] [ebp-7C20h]
  int v637; // [esp+DCh] [ebp-7C1Ch]
  int v638; // [esp+E0h] [ebp-7C18h]
  int v639; // [esp+E4h] [ebp-7C14h]
  int v640; // [esp+E8h] [ebp-7C10h]
  int v641; // [esp+ECh] [ebp-7C0Ch]
  int v642; // [esp+F0h] [ebp-7C08h]
  int v643; // [esp+F4h] [ebp-7C04h]
  int v644; // [esp+F8h] [ebp-7C00h]
  int v645; // [esp+FCh] [ebp-7BFCh] BYREF
  int v646; // [esp+100h] [ebp-7BF8h] BYREF
  int v647; // [esp+104h] [ebp-7BF4h] BYREF
  int v648; // [esp+108h] [ebp-7BF0h] BYREF
  int v649; // [esp+10Ch] [ebp-7BECh] BYREF
  int v650; // [esp+110h] [ebp-7BE8h] BYREF
  int v651; // [esp+114h] [ebp-7BE4h] BYREF
  int v652; // [esp+118h] [ebp-7BE0h] BYREF
  int v653; // [esp+11Ch] [ebp-7BDCh] BYREF
  int v654; // [esp+120h] [ebp-7BD8h] BYREF
  int v655; // [esp+124h] [ebp-7BD4h] BYREF
  int v656; // [esp+128h] [ebp-7BD0h] BYREF
  int v657; // [esp+12Ch] [ebp-7BCCh] BYREF
  int v658; // [esp+130h] [ebp-7BC8h] BYREF
  int v659; // [esp+134h] [ebp-7BC4h] BYREF
  int v660; // [esp+138h] [ebp-7BC0h] BYREF
  int v661; // [esp+13Ch] [ebp-7BBCh] BYREF
  int v662; // [esp+140h] [ebp-7BB8h] BYREF
  float v663; // [esp+144h] [ebp-7BB4h] BYREF
  float v664; // [esp+148h] [ebp-7BB0h] BYREF
  int v665; // [esp+14Ch] [ebp-7BACh] BYREF
  float v666; // [esp+150h] [ebp-7BA8h] BYREF
  float v667; // [esp+154h] [ebp-7BA4h] BYREF
  int v668[12]; // [esp+158h] [ebp-7BA0h] BYREF
  int v669[30]; // [esp+188h] [ebp-7B70h] BYREF
  int v670[2058]; // [esp+200h] [ebp-7AF8h] BYREF
  int v671; // [esp+2228h] [ebp-5AD0h] BYREF
  int v672[125]; // [esp+222Ch] [ebp-5ACCh] BYREF
  unsigned __int8 v673[3312]; // [esp+2420h] [ebp-58D8h] BYREF
  int v674[240]; // [esp+3110h] [ebp-4BE8h] BYREF
  int v675[240]; // [esp+34D0h] [ebp-4828h] BYREF
  int v676[3418]; // [esp+3890h] [ebp-4468h] BYREF
  char v677[960]; // [esp+6DF8h] [ebp-F00h] BYREF
  char v678[960]; // [esp+71B8h] [ebp-B40h] BYREF
  char v679; // [esp+7578h] [ebp-780h] BYREF
  char v680; // [esp+7579h] [ebp-77Fh]
  CHAR FileName[264]; // [esp+7680h] [ebp-678h] BYREF
  char v682[264]; // [esp+7788h] [ebp-570h] BYREF
  char v683[1100]; // [esp+7890h] [ebp-468h] BYREF
  int v684; // [esp+7CF4h] [ebp-4h]
  int savedregs; // [esp+7CF8h] [ebp+0h] BYREF

  v3 = 0;
  v5 = *(int **)(this + 10348);
  *((float *)Buf + 272090) = a2;
  v594 = (char *)v5;
  v600 = 0;
  v629 = 0;
  v603 = -1;
  v606 = -1;
  v621 = 0;
  v613 = 0;
  v608 = 0;
  v607 = 0.0;
  v623 = 0;
  v622 = 0;
  v627 = 33;
  v625 = 0;
  v626 = 0;
  v610 = 0;
  v620 = 0;
  v611 = (unsigned __int8 *)-1;
  v618 = 0;
  v612 = -1;
  v619 = -1;
  *(float *)&v602 = NAN;
  qword_4B3328 = -1i64;
  qword_4B3330 = -1i64;
  dword_4B3338 = -1;
  qword_4B333C = -1i64;
  dword_4B3344 = -1;
  dword_4B3348 = -1;
  dword_4B334C = -1;
  memset(dword_4B3350, -1, 0xC8u);
  memset(dword_4B3418, -1, 0xC8u);
  v640 = 0;
  v641 = 0;
  v642 = 0;
  v643 = 0;
  v644 = 0;
  LODWORD(v588[117]) = 504;
  v630 = -1;
  v631 = -1;
  v632 = -1;
  v633 = -1;
  v634 = -1;
  v635 = -1;
  v636 = -1;
  v637 = -1;
  v638 = -1;
  v639 = -1;
  HIDWORD(v588[116]) = 0;
  dword_4B34E0 = 5;
  dword_4C0918 = 0;
  LODWORD(v588[116]) = &v671;
  *(_DWORD *)(this + 24468) = 0;
  memset((void *)v588[116], SHIDWORD(v588[116]), v588[117]);
  memset(v668, 0, sizeof(v668));
  memset(v669, 0, sizeof(v669));
  memset(v676, 0, 0x3564u);
  memset(v673, 0, sizeof(v673));
  memset((void *)this, 0, 0x514u);
  sub_458160(*(_DWORD **)(this + 25120));
  if ( a2 < 0.0 )
  {
    v613 = -LODWORD(a2);
    a2 = 0.0;
    goto LABEL_4;
  }
  if ( a2 == 0.0 )
  {
LABEL_4:
    if ( sub_4232B0(this, 0) )
      sub_4253A0(this);
  }
  for ( i = 0; i < 51; ++i )
  {
    v6 = sub_41E830(i);
    v609 = v6;
    if ( v6 == 10 || v6 == 20 || v6 == 30 || v6 == 40 || v6 == 50 )
    {
      v7 = 960 * v6;
      sub_444990(**(_DWORD **)(this + 4 * v6 + 24480), (char *)Buf + 960 * v6 + 122208);
      memset((char *)Buf + v7 + 122832, 0, 0x2Cu);
      v8 = (char *)sub_44AF60(*(int **)(this + 25096), *(_DWORD *)((char *)Buf + v7 + 122388));
      v9 = (char *)Buf + v7 + 122944;
      do
      {
        v10 = *v8;
        *v9++ = *v8++;
      }
      while ( v10 );
    }
  }
  if ( !v613 )
    sub_421E80((int **)this);
  while ( 1 )
  {
    memset(v670, 0, 0x2024u);
    if ( v613 )
      break;
    v27 = sub_438790(*(unsigned __int8 **)(this + 10340), *((_DWORD *)Buf + 5533), v670);
    if ( v621 && v27 == -1 )
    {
      sub_438A00(*(int **)(this + 10340), (int)"main", 0);
      return 0;
    }
    if ( v603 == 107 && v670[0] != 6 && !*(_DWORD *)(this + 25104) && a2 == 0.0 )
    {
      v670[0] = 8;
      *(_DWORD *)(this + 1564) = 8;
      goto LABEL_30;
    }
    v16 = *((char **)Buf + 5533);
    *(float *)(this + 24472) = *(float *)&v16;
    *((_DWORD *)Buf + 5533) = v27;
    v18 = v670[0];
LABEL_56:
    v28 = *(_DWORD *)(this + 25104);
    v3 = 0;
    v603 = v18;
    if ( v28 )
    {
      if ( !sub_4226E0(v18) )
        goto LABEL_1379;
      v603 = v18;
    }
    if ( v621 )
    {
      if ( v18 == 107 || v18 == 106 )
      {
        v608 = 0;
        v607 = 0.0;
      }
      else if ( v18 != 176 )
      {
        if ( v608 >= 10 )
        {
          if ( v608 == 10 )
          {
            MessageBoxA(0, &byte_48CB0C, WindowName, 0x42000u);
            v608 = 11;
          }
        }
        else
        {
          v29 = 2116 * (v608 + 10 * LODWORD(v607));
          *(_DWORD *)((char *)Buf + v29 + 269852) = v18;
          v30 = 0;
          v598 = *(float *)&v29;
          v3 = (int)&v670[1];
          v595 = v29 + 271936;
          do
          {
            *(_DWORD *)((char *)Buf + v595) = v670[v30 + 2049];
            if ( strlen((const char *)v3) < 0x104 )
            {
              v31 = (char *)v3;
              v32 = (char *)Buf + LODWORD(v598) + 269856;
              do
              {
                v33 = *v31;
                *v32++ = *v31++;
              }
              while ( v33 );
            }
            v595 += 4;
            LODWORD(v598) += 260;
            ++v30;
            v3 += 1024;
          }
          while ( v30 < 8 );
          ++v608;
        }
        goto LABEL_1379;
      }
    }
    switch ( v18 )
    {
      case 0:
        goto LABEL_985;
      case 3:
        v419 = *(_DWORD *)(this + 24472);
        v670[2049] += v670[2050] << 8;
        v624 = v419;
        if ( sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)) != 76 )
          sub_403700(v670[2049], *(_DWORD **)(this + 10340));
        v420 = Buf;
        if ( !*((_DWORD *)Buf + 27961) )
        {
          *((_DWORD *)Buf + 27961) = v670[2049];
          v420 = Buf;
        }
        v420[5535] = v670[2049];
        *((_DWORD *)Buf + 5534) = *(unsigned __int16 *)(*(_DWORD *)(this + 10340) + 2 * v670[2049]);
        if ( sub_438650(v670[2049]) )
        {
          *((_DWORD *)Buf + 66509) = 0;
        }
        else if ( *((_DWORD *)Buf + 8) && !*(_DWORD *)(this + 11488) )
        {
          *((_DWORD *)Buf + 272077) = 0;
          LODWORD(v589) = 2;
          *((_DWORD *)Buf + 66509) = 1;
          sub_421A00(this, SLODWORD(v589));
        }
        goto LABEL_1361;
      case 4:
        LODWORD(v589) = (v670[2050] << 8) + v670[2049];
        *((float *)&v588[119] + 1) = v589;
        *(float *)&v670[2049] = v589;
        v421 = sub_40CBC0((int *)Buf, (char *)Buf + 19336);
        sub_403170((int)Buf, v421, SHIDWORD(v588[119]), SLODWORD(v589));
        goto LABEL_1361;
      case 5:
        if ( v670[2049] != 255 )
        {
          if ( v670[2049] != 254 )
          {
            *((_DWORD *)Buf + 66514) = *((_DWORD *)Buf + 15);
            *((_DWORD *)Buf + 15) = v670[2049] * *((_DWORD *)Buf + 15) / 100;
            v359 = Buf;
            if ( *((int *)Buf + 15) > 100 )
            {
              *((_DWORD *)Buf + 15) = 100;
              v359 = Buf;
            }
            if ( (int)v359[15] < 0 )
            {
              v359[15] = 0;
              v359 = Buf;
            }
            sub_43C4F0(dword_4C08F4, 0, v359[15]);
            goto LABEL_1361;
          }
          v357 = 0;
          while ( 1 )
          {
            v358 = 276 * v357;
            v20 = *(_DWORD *)&v673[276 * v357 + 264] == 0;
            String1 = (char *)&v673[276 * v357 + 264];
            if ( v20 )
              goto LABEL_958;
            if ( *(_DWORD *)(this + 25088) )
              goto LABEL_958;
            v3 = v357 - 8;
            if ( (unsigned int)(v357 - 8) <= 3 && (sub_421E40((_DWORD *)this) || *(_DWORD *)(this + 15628)) )
              goto LABEL_958;
            if ( !v357 )
            {
              if ( *(_DWORD *)&v673[268] )
                sub_43B0F0(dword_4C08F4, 1);
              sub_43D070((DWORD *)dword_4C08F4, v673, 0, *(DWORD *)&v673[260]);
              if ( *(int *)&v673[272] > 0 )
                sub_43BA50(dword_4C08F4, this, v3, *(int *)&v673[272], 0, v590, v591);
              goto LABEL_957;
            }
            if ( (unsigned int)(v357 - 2) <= 3 )
              break;
            if ( (unsigned int)v3 <= 3 )
            {
              v589 = *(float *)&v673[v358 + 260];
              HIDWORD(v588[119]) = 2;
              LODWORD(v588[119]) = &v673[v358];
              goto LABEL_956;
            }
LABEL_957:
            *(_DWORD *)String1 = 0;
LABEL_958:
            if ( ++v357 >= 12 )
              goto LABEL_1361;
          }
          v589 = *(float *)&v673[v358 + 260];
          HIDWORD(v588[119]) = 1;
          LODWORD(v588[119]) = &v673[v358];
LABEL_956:
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)v588[119], SHIDWORD(v588[119]), LODWORD(v589));
          goto LABEL_957;
        }
        v356 = *((_DWORD *)Buf + 66514);
        if ( v356 )
        {
          *((_DWORD *)Buf + 15) = v356;
          sub_43C4F0(dword_4C08F4, 0, *((_DWORD *)Buf + 15));
          *((_DWORD *)Buf + 66514) = 0;
        }
LABEL_1361:
        if ( !v613 )
          *(_DWORD *)(this + 1564) = v603;
        if ( a2 == 0.0 )
        {
LABEL_1379:
          if ( v600 == 1 )
            goto LABEL_25;
          v3 = 0;
        }
        else
        {
          if ( *((_DWORD *)Buf + 27962) >= **(_DWORD **)(this + 10344) - 1 )
          {
            v533 = sub_40CBC0((int *)Buf, (char *)Buf + 19336);
            if ( **(_DWORD **)(this + 10344) > sub_402B40(v533) )
            {
              v534 = 0;
              v535 = v673;
              do
              {
                if ( (unsigned int)(v534 - 2) <= 3 && !*((_DWORD *)v535 + 65) && *v535 )
                  *v535 = 0;
                ++v534;
                v535 += 276;
              }
              while ( v534 < 12 );
            }
            goto LABEL_1379;
          }
          if ( v600 )
          {
            v640 = 0;
            v641 = 0;
            v642 = 0;
            v643 = 0;
            v644 = 0;
            v630 = -1;
            v631 = -1;
            v632 = -1;
            v633 = -1;
            v634 = -1;
            v635 = -1;
            v636 = -1;
            v637 = -1;
            v638 = -1;
            v639 = -1;
          }
          if ( *(_DWORD *)(this + 10368) )
          {
            v531 = sub_414740(*(_DWORD **)(this + 10368));
            sub_440880(v531);
          }
          if ( *(_DWORD *)(this + 10372) )
          {
            v532 = sub_414740(*(_DWORD **)(this + 10372));
            sub_440880(v532);
          }
          memset((void *)(this + 11492), 0, 0x800u);
          memset((void *)(this + 13540), 0, 0x800u);
          memset(&v676[2077], 0, 0x10Cu);
          *(_DWORD *)(this + 1576) = 0;
          *(_DWORD *)(this + 2008) = 0;
          *(_DWORD *)(this + 15588) = 0;
          sub_407830(dword_4C08DC);
          *(_DWORD *)(this + 23916) = 1;
          *(_DWORD *)&v673[2472] = 0;
          memset((char *)Buf + 269852, 0, 0x19D48u);
          v600 = 0;
          v3 = 0;
        }
        break;
      case 6:
        if ( !*((_DWORD *)Buf + 272086) )
        {
          v603 = 6;
          v600 = 1;
          if ( *((_DWORD *)Buf + 66515) )
          {
            *((_DWORD *)Buf + 66515) = 0;
            v600 = 0;
          }
        }
        goto LABEL_1361;
      case 7:
        *(_DWORD *)(this + 23920) = timeGetTime();
        v603 = 7;
        v600 = 1;
        goto LABEL_1361;
      case 9:
        *((_DWORD *)Buf + 155596) = 1;
        *((_DWORD *)Buf + 66515) = 1;
        *(_DWORD *)(this + 15608) = 0;
        sub_418C50(*(int **)(this + 10360), *(_DWORD *)(this + 10412));
        goto LABEL_1361;
      case 10:
        if ( *(_DWORD *)(this + 23872) )
        {
          *((_DWORD *)Buf + 155596) = 0;
          *((_DWORD *)Buf + 66515) = 0;
          v81 = *((_DWORD *)Buf + 26559);
          v82 = *((_DWORD *)Buf + 27962);
          v3 = 7 * (v81 + 7589);
          if ( *((unsigned __int16 *)Buf + 7 * v81 + 53123) == v82 )
          {
            v83 = *((_WORD *)Buf + 7 * v81 + 53129);
            if ( v83 > v82 && **(_DWORD **)(this + 10344) >= (int)v83 && v83 > 1u )
            {
              sub_41FCD0((const char **)this, v83);
              *((_DWORD *)Buf + 27962) = *((unsigned __int16 *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53129);
              if ( *((_DWORD *)Buf + 27962) >= **(_DWORD **)(this + 10344) )
                v600 = 1;
            }
          }
        }
        else
        {
          v84 = Buf;
          if ( *((_DWORD *)Buf + 27) && sub_421E40((_DWORD *)this) )
          {
            *(_DWORD *)(this + 11484) = 0;
            *((_DWORD *)Buf + 272077) = 0;
            v84 = Buf;
          }
          if ( v84[28] && v84[4] )
          {
            v84[4] = 0;
            v84 = Buf;
          }
          if ( a2 != 0.0 || *(_DWORD *)(this + 15616) )
          {
            v90 = v84[27964] + 1;
            LODWORD(v589) = &v84[4 * v84[27964] + 27970];
            v84[27964] = v90;
            sub_41FC90((const char **)this, (const char *)LODWORD(v589));
            *((_DWORD *)Buf + 66515) = 0;
          }
          else if ( !v670[2049] )
          {
            if ( *(_DWORD *)(this + 10372) )
            {
              v85 = sub_414740(*(_DWORD **)(this + 10372));
              sub_440880(v85);
              if ( Buf != (void *)-265812 )
              {
                v86 = *(_DWORD **)(this + 10372);
                LODWORD(v589) = (char *)Buf + 265812;
                v87 = (_DWORD *)sub_414740(v86);
                sub_442430(v87, (char *)LODWORD(v589));
              }
            }
            if ( *(_DWORD *)(this + 10368) )
            {
              v88 = sub_414740(*(_DWORD **)(this + 10368));
              sub_440880(v88);
              if ( Buf == (void *)-266072 )
                v589 = NAN;
              else
                LODWORD(v589) = (char *)Buf + 266072;
              v89 = (_DWORD *)sub_414740(*(_DWORD **)(this + 10368));
              sub_442430(v89, (char *)LODWORD(v589));
            }
            v3 = 1;
            *(_DWORD *)(this + 15628) = 1;
            sub_419950(*(int **)(this + 10360));
            if ( *((_DWORD *)Buf + 272082) )
              sub_4148B0(*(_DWORD *)(this + 10360), *(_DWORD *)(this + 15608));
            if ( *(_DWORD *)(this + 10404) )
            {
              sub_419F30(*(_DWORD **)(this + 10404));
              sub_419F30(*(_DWORD **)(this + 10408));
              sub_418F20(*(int **)(this + 10404), *(_DWORD *)(this + 10360), 0);
              sub_418F20(*(int **)(this + 10408), *(_DWORD *)(this + 10360), 0);
              if ( *(_DWORD *)(this + 23876) )
              {
                sub_418F20(*(int **)(this + 10404), *(_DWORD *)(this + 10444), 0);
                sub_418F20(*(int **)(this + 10408), *(_DWORD *)(this + 10444), 0);
              }
              *((_DWORD *)Buf + 66510) = 1;
              v603 = 6;
              v600 = 1;
            }
          }
        }
        goto LABEL_1361;
      case 11:
        if ( !v28 )
        {
          sub_417C60(*(char **)(this + 10348));
          sub_417C60(*(char **)(this + 10352));
          sub_417C60(*(char **)(this + 10356));
          sub_437810(*(char **)(this + 10364));
          sub_412DB0(*(float **)(this + 10356), 1280, 0);
          sub_412DB0(*(float **)(this + 10352), -1280, 0);
          v603 = 11;
          v600 = 1;
        }
        goto LABEL_1361;
      case 12:
        v94 = (int *)v594;
        sub_417C60(v594);
        sub_435B70(*(int ***)(this + 10364), (int)v94);
        sub_413360(v94);
        sub_437810(*(char **)(this + 10364));
        v603 = 12;
        v600 = 1;
        goto LABEL_1361;
      case 15:
        v3 = 0;
        if ( v28 )
        {
          if ( v670[2049] != 2 )
            goto LABEL_1361;
LABEL_257:
          sub_425D20((char **)this, 0);
          goto LABEL_1361;
        }
        switch ( v670[2049] )
        {
          case 3:
            if ( *(_DWORD *)(this + 1764) )
              sub_44BF60(*(int **)(this + 25096), *(_DWORD *)(this + 1764));
            v95 = sub_407820(0, 255, 255, 255, v590);
            *(_DWORD *)(this + 1764) = v95;
            sub_407810(dword_4C08DC, v95);
            sub_407780((int)dword_4C08DC, 6, 5);
            *(_DWORD *)(this + 15612) = v670[2050];
            break;
          case 4:
            if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
            {
              if ( v676[132] )
              {
                *(_DWORD *)(52 * *(_DWORD *)(this + 24468) + this + 23952) = 34;
                *(_DWORD *)(52 * (*(_DWORD *)(this + 24468))++ + this + 23956) = 0;
              }
              else
              {
                v3 = 64;
                v96 = (void ***)(this + 24480);
                i = 64;
                do
                {
                  sub_44A730(**v96);
                  sub_4442C0((float *)**v96, &v596, &v597);
                  v97 = **v96;
                  *(float *)&String1 = v596 + 8.0;
                  sub_41DE40(v97, *(float *)&String1, v597, 10, 0, -1);
                  sub_41DE40(**v96, v596, v597, 10, 0, -1);
                  v98 = **v96;
                  *(float *)&String1 = v596 - 8.0;
                  sub_41DE40(v98, *(float *)&String1, v597, 10, 0, -1);
                  sub_41DE40(**v96++, v596, v597, 10, 0, -1);
                  --v3;
                }
                while ( v3 );
              }
            }
            break;
          case 5:
            sub_422810((_DWORD ***)this);
            goto LABEL_1361;
          case 6:
            if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
            {
              if ( v676[132] )
              {
                *(_DWORD *)(52 * *(_DWORD *)(this + 24468) + this + 23952) = 35;
                *(_DWORD *)(52 * (*(_DWORD *)(this + 24468))++ + this + 23956) = 0;
              }
              else
              {
                v3 = 64;
                v99 = (void ***)(this + 24480);
                i = 64;
                do
                {
                  sub_44A730(**v99);
                  sub_4442C0((float *)**v99, &v596, &v597);
                  v100 = **v99;
                  *(float *)&String1 = v597 + 8.0;
                  sub_41DE40(v100, v596, *(float *)&String1, 10, 0, -1);
                  sub_41DE40(**v99, v596, v597, 10, 0, -1);
                  v101 = **v99;
                  *(float *)&String1 = v597 - 8.0;
                  sub_41DE40(v101, v596, *(float *)&String1, 10, 0, -1);
                  sub_41DE40(**v99++, v596, v597, 10, 0, -1);
                  --v3;
                }
                while ( v3 );
              }
            }
            break;
          case 7:
            goto LABEL_1361;
          case 9:
            if ( v676[132] )
            {
              sub_422F70((char **)this, (const char *)&v676[67], 1, 0);
              v676[132] = 0;
            }
            v102 = sub_44A990(*(_DWORD **)(this + 25096));
            sub_422840(v102, this, 1);
            v103 = sub_44C730(*(int **)(this + 25096), 0, 0, v590);
            *(_DWORD *)(this + 1768) = v103;
            sub_4440C0(**(_DWORD **)(this + 24480), v103);
            break;
          default:
            if ( v670[2049] != 10 && v670[2049] != 11 && v670[2049] != 13 && v670[2049] != 14 )
            {
              switch ( v670[2049] )
              {
                case 15:
                  if ( !a3 && (!sub_421E40((_DWORD *)this) || a2 == 0.0 && !sub_421E40(v104)) )
                  {
                    sub_422E80((char **)this, "system\\effbreak", 45, 0);
                    sub_422810((_DWORD ***)this);
                    sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
                    sub_407B20((int)dword_4C08DC, *(_DWORD *)(this + 1768), 5, v670[2050], 60);
                  }
                  break;
                case 16:
                  if ( !a3 && (!sub_421E40((_DWORD *)this) || a2 == 0.0 && !sub_421E40(v105)) )
                  {
                    sub_422E80((char **)this, "system\\effbreak", 45, 0);
                    sub_422810((_DWORD ***)this);
                    sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
                    sub_407B20((int)dword_4C08DC, *(_DWORD *)(this + 1768), 4, v670[2050], 60);
                    sub_41F440(this);
                    sub_425D20((char **)this, 0);
                  }
                  break;
                case 17:
                  if ( !a3 && (!sub_421E40((_DWORD *)this) || a2 == 0.0 && !sub_421E40(v106)) )
                  {
                    v589 = 0.0;
                    HIDWORD(v588[119]) = 21;
                    if ( v670[2050] == 1 )
                      LODWORD(v588[119]) = "MSK\\MASK11A";
                    else
                      LODWORD(v588[119]) = "MSK\\MASK04A";
                    sub_422F70((char **)this, (const char *)v588[119], SHIDWORD(v588[119]), SLODWORD(v589));
                    sub_422810((_DWORD ***)this);
                    sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
                    v107 = *(_DWORD *)(this + 1672);
                    LODWORD(v589) = 60;
                    v588[119] = v107 | 0x300000000i64;
                    goto LABEL_324;
                  }
                  break;
                case 20:
                  if ( !a3 && (!sub_421E40((_DWORD *)this) || a2 == 0.0 && !sub_421E40(v108)) )
                  {
                    sub_422810((_DWORD ***)this);
                    sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
                    v109 = *(_DWORD *)(this + 1672);
                    LODWORD(v589) = 12 * v670[2050];
                    v588[119] = v109 | 0x200000000i64;
LABEL_324:
                    sub_407860((int)dword_4C08DC, v588[119], SHIDWORD(v588[119]), SLODWORD(v589));
                    sub_41F440(this);
                    goto LABEL_1361;
                  }
                  break;
                case 21:
                  if ( a2 == 0.0
                    && !a3
                    && (!sub_421E40((_DWORD *)this)
                     || !sub_421E40(v110)
                     || sub_40CCD0(Buf, 9, 99)
                     || *((_DWORD *)Buf + 272079)) )
                  {
                    sub_422810((_DWORD ***)this);
                    sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
                    v111 = *(_DWORD *)(this + 1672);
                    LODWORD(v589) = 12 * v670[2050];
                    v588[119] = v111 | 0x300000000i64;
                    goto LABEL_324;
                  }
                  break;
                default:
                  if ( v670[2049] != 23
                    && v670[2049] != 24
                    && v670[2049] != 25
                    && v670[2049] != 30
                    && v670[2049] != 31
                    && v670[2049] != 32 )
                  {
                    if ( v670[2049] == 51 )
                    {
                      if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
                      {
                        v112 = 10;
                        v113 = v670[2050];
                        do
                        {
                          if ( (v113 & 1) != 0 && v112 == 10
                            || (v113 & 2) != 0 && v112 == 20
                            || (v113 & 4) != 0 && v112 == 30
                            || (v113 & 8) != 0 && v112 == 40 )
                          {
                            sub_44A730(**(_DWORD ***)(this + 4 * v112 + 24480));
                            sub_4442C0(**(float ***)(this + 4 * v112 + 24480), &v596, &v597);
                            v114 = **(void ***)(this + 4 * v112 + 24480);
                            *(float *)&String1 = v596 + 8.0;
                            sub_41DE40(v114, *(float *)&String1, v597, 10, 0, -1);
                            sub_41DE40(**(void ***)(this + 4 * v112 + 24480), v596, v597, 10, 0, -1);
                            v115 = **(void ***)(this + 4 * v112 + 24480);
                            *(float *)&String1 = v596 + 8.0;
                            sub_41DE40(v115, *(float *)&String1, v597, 10, 0, -1);
                            sub_41DE40(**(void ***)(this + 4 * v112 + 24480), v596, v597, 10, 0, -1);
                            v113 = v670[2050];
                          }
                          ++v112;
                        }
                        while ( v112 <= 42 );
                        i = v112;
                      }
                    }
                    else if ( v670[2049] == 52 )
                    {
                      if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
                      {
                        v116 = 10;
                        v117 = v670[2050];
                        do
                        {
                          if ( (v117 & 1) != 0 && v116 == 10
                            || (v117 & 2) != 0 && v116 == 20
                            || (v117 & 4) != 0 && v116 == 30
                            || (v117 & 8) != 0 && v116 == 40
                            || (v117 & 0x10) != 0 && v116 == 50 )
                          {
                            sub_44A730(**(_DWORD ***)(this + 4 * v116 + 24480));
                            sub_4442C0(**(float ***)(this + 4 * v116 + 24480), &v596, &v597);
                            v118 = **(void ***)(this + 4 * v116 + 24480);
                            *(float *)&String1 = v597 + 8.0;
                            sub_41DE40(v118, v596, *(float *)&String1, 10, 0, -1);
                            sub_41DE40(**(void ***)(this + 4 * v116 + 24480), v596, v597, 10, 0, -1);
                            v119 = **(void ***)(this + 4 * v116 + 24480);
                            *(float *)&String1 = v597 - 8.0;
                            sub_41DE40(v119, v596, *(float *)&String1, 10, 0, -1);
                            sub_41DE40(**(void ***)(this + 4 * v116 + 24480), v596, v597, 10, 0, -1);
                            v117 = v670[2050];
                          }
                          ++v116;
                        }
                        while ( v116 <= 52 );
                        i = v116;
                      }
                    }
                    else if ( a3 )
                    {
                      if ( v670[2049] == 2 )
                        goto LABEL_257;
                    }
                    else
                    {
                      sub_422810((_DWORD ***)this);
                      sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
                      if ( !sub_421E40((_DWORD *)this) || a2 == 0.0 && (!sub_421E40(v120) || sub_40CCD0(Buf, 9, 99)) )
                      {
                        if ( v670[2049] == 2 )
                        {
                          LODWORD(v589) = 4 * (5 * v670[2050] + 5);
                          v606 = LODWORD(v589);
                          sub_425FF0(this, SLODWORD(v589));
                          sub_41F440(this);
                        }
                        else if ( v670[2049] <= 1 )
                        {
                          v121 = sub_40E1E0(Buf, 4 * (5 * v670[2050] + 5));
                          sub_407780((int)dword_4C08DC, 1, v121);
                        }
                      }
                      else if ( v670[2049] == 2 )
                      {
                        sub_425D20((char **)this, 0);
                        sub_423200(this);
                      }
                    }
                  }
                  goto LABEL_1361;
              }
            }
            break;
        }
        goto LABEL_1361;
      case 16:
        goto LABEL_91;
      case 17:
        if ( !v670[2049] )
          sub_40D290((int)Buf);
        v49 = (char *)Buf;
        v50 = (char *)Buf + 200;
        if ( !*((_BYTE *)Buf + 200) )
        {
          *(_DWORD *)v50 = -946343029;
          v50[4] = 0;
          v49 = (char *)Buf;
        }
        if ( !v49[184] )
        {
          *((_DWORD *)v49 + 46) = -460829025;
          v49[188] = 0;
          v49 = (char *)Buf;
        }
        v51 = v49 + 200;
        v52 = v49 + 265268;
        do
        {
          v53 = *v51;
          *v52++ = *v51++;
        }
        while ( v53 );
        v54 = (char *)Buf + 184;
        v55 = (char *)Buf + 265288;
        do
        {
          v56 = *v54;
          *v55++ = *v54++;
        }
        while ( v56 );
        *((_WORD *)Buf + 53120) = -1;
        *((_DWORD *)Buf + 26559) = 0;
        *((_DWORD *)Buf + 27964) = 0;
        *((_DWORD *)Buf + 27965) = 0;
        *((_DWORD *)Buf + 27966) = 0;
        *((_DWORD *)Buf + 27967) = 0;
        *((_DWORD *)Buf + 27968) = 0;
        *((_DWORD *)Buf + 28971) = 0;
        *((_DWORD *)Buf + 28970) = 0;
        goto LABEL_1361;
      case 19:
        if ( a2 != 0.0 || *(_DWORD *)(this + 15616) )
        {
          sub_4224C0((_DWORD *)this, 0);
          memset(v673, 0, 0x114u);
          *((_BYTE *)Buf + 21944) = 0;
          *((_DWORD *)Buf + 5494) = 0;
        }
        else
        {
          sub_422470((_DWORD *)this, 0);
          if ( v670[2050] == 255 )
            sub_43C3F0(dword_4C08F4, 0, v670[2053]);
          memset(v673, 0, 0x114u);
        }
        goto LABEL_1361;
      case 21:
        if ( v28 )
          goto LABEL_1361;
        if ( v670[2049] == 255 )
        {
          *(_DWORD *)(this + 1580) = 1;
          v603 = 21;
          v600 = 1;
          goto LABEL_1361;
        }
        if ( v670[2049] == 254 )
        {
          if ( a2 == 0.0 )
          {
            *(_DWORD *)(this + 1584) = 1;
            v603 = 21;
            v600 = 1;
            goto LABEL_1361;
          }
          if ( qword_4B333C != -1 )
            LODWORD(qword_4B333C) = 0;
          if ( qword_4B3328 != -1 )
          {
            LODWORD(qword_4B3328) = 0;
            v603 = 21;
            v600 = 1;
            goto LABEL_1361;
          }
          if ( dword_4B3344 != -1 || dword_4B3348 != -1 )
          {
            LODWORD(qword_4B333C) = 0;
            v603 = 21;
            v600 = 1;
            goto LABEL_1361;
          }
        }
        else
        {
          *(_DWORD *)(this + 2012) = *(_DWORD *)(this + 1996);
          v57 = 200 * v670[2049];
          *(_DWORD *)(this + 2008) = 200 * v670[2049];
          if ( v670[2050] )
          {
            if ( !v57 )
              *(_DWORD *)(this + 2008) = -1;
            *(_DWORD *)(this + 2016) = 1;
          }
        }
        v603 = 21;
        v600 = 1;
        goto LABEL_1361;
      case 22:
        if ( !v28 )
        {
          for ( ;
                *(_BYTE *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)) == 22;
                *((_DWORD *)Buf + 5533) += 3 )
          {
            v375 = (char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
            v670[2049] |= *v375;
          }
          *(_DWORD *)(this + 1576) = v670[2049];
          if ( v670[2049] == 32 )
            *(_DWORD *)(this + 25124) = timeGetTime();
LABEL_985:
          v600 = 1;
        }
        goto LABEL_1361;
      case 23:
        sub_412D40(v594, v670[2049], v670[2050]);
        goto LABEL_1361;
      case 24:
        switch ( v670[2049] )
        {
          case 0:
            v176 = sub_40CCD0(Buf, 99, 254);
            if ( sub_40C610(v176) )
            {
              sub_425F50(this, 0);
              v177 = sub_40CCD0(Buf, 99, 254);
              sub_40C770((int)Buf, v177);
              *(_DWORD *)(this + 11480) = 0;
              *(_DWORD *)(this + 11484) = 0;
              *((_DWORD *)Buf + 4) = 0;
              *((_DWORD *)Buf + 272077) = 0;
              if ( *((_DWORD *)Buf + 66511) )
              {
                *((_DWORD *)Buf + 66511) = 0;
                v178 = (char *)Buf + 19336;
                v179 = byte_4C00D0;
                do
                {
                  v180 = *v178;
                  *v179++ = *v178++;
                }
                while ( v180 );
                *((_DWORD *)Buf + 272077) = 0;
                *(_DWORD *)(this + 11484) = 0;
                sub_405CE0(*(_DWORD **)(this + 10344), 1);
                v181 = *((_DWORD *)Buf + 5535);
                LODWORD(v589) = 1;
                HIDWORD(v588[119]) = 2;
                qmemcpy(v683, (char *)Buf + 118892, sizeof(v683));
                sub_406950(*(int **)(this + 10344), v181 + 1, 2, 1);
                *((_WORD *)Buf + 7 * sub_402010(*(_DWORD **)(this + 10344)) + 53123) = 0;
                *((_WORD *)Buf + 7 * sub_402010(*(_DWORD **)(this + 10344)) + 53122) = 0;
                v182 = (char *)Buf + 118892;
                qmemcpy((char *)Buf + 118892, v683, 0x44Cu);
                v3 = (int)(v182 + 1100);
                sub_4224C0((_DWORD *)this, 0);
                sub_4224C0((_DWORD *)this, (void *)1);
                sub_4224C0((_DWORD *)this, (void *)2);
                *(_DWORD *)(this + 15616) = 1;
                v600 = 1;
                *(_DWORD *)(this + 23872) = 0;
                sub_421970(this);
              }
              else
              {
                memcpy((char *)Buf + 375652, (char *)Buf + 19328, 0x56FE4u);
                sub_4260E0(this, (int)Buf + 19336, 0);
                memcpy((char *)Buf + 19328, (char *)Buf + 375652, 0x56FE4u);
                sub_4257D0(this, 0, 0);
                v183 = (char *)Buf + 265812;
                v184 = (_BYTE *)(this + 11492);
                do
                {
                  v185 = *v183;
                  *v184++ = *v183++;
                }
                while ( v185 );
                v186 = (char *)Buf + 265552;
                v187 = (_BYTE *)(this + 12516);
                do
                {
                  v188 = *v186;
                  *v187++ = *v186++;
                }
                while ( v188 );
                memset(v676, 0, 0x3564u);
                memset(v673, 0, sizeof(v673));
              }
            }
            goto LABEL_1361;
          case 1:
            goto LABEL_1361;
          case 2:
            ShowWindow(hWnd, 0);
            goto LABEL_1361;
          case 3:
            ShowWindow(hWnd, 5);
            goto LABEL_1361;
          case 4:
            if ( v670[2050] )
            {
              if ( a2 == 0.0 )
              {
                sub_4218E0((_DWORD *)this, 0);
                sub_40C3E0(Buf, 0);
              }
            }
            else
            {
              v189 = sub_40CCD0(Buf, 99, 254);
              sub_4218E0((_DWORD *)this, v189);
              v190 = sub_40CCD0(Buf, 99, 254);
              sub_40C3E0(Buf, v190);
            }
            goto LABEL_1361;
          case 5:
            sub_403420((__int16 *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53120);
            sub_40C240((char *)Buf);
            goto LABEL_1361;
          case 6:
            sub_403420((__int16 *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53120);
            if ( v670[2050] == 1 )
            {
              v191 = sub_40CBC0((int *)Buf, (char *)Buf + 19336);
              sub_402640(v191);
            }
            goto LABEL_1361;
          case 7:
            *((_DWORD *)dword_4C0874 + 6) = v670[2050];
            goto LABEL_1361;
          case 8:
            v192 = *((_DWORD *)dword_4C0874 + 6);
            *((_DWORD *)dword_4C0874 + 6) = 1;
            i = v192;
            sub_43A690((int)dword_4C0874, v670[2050], 0);
            *((_DWORD *)dword_4C0874 + 6) = v192;
            goto LABEL_1361;
          case 9:
            goto LABEL_1361;
          case 10:
            v193 = (void *)sub_44D440((const char *)byte_4BFBE0, 170);
            if ( (int)v193 < 0 )
            {
              do
              {
                if ( dword_4C087C )
                {
                  sub_442D70(dword_4C087C, 1);
                  v193 = sub_442D90(dword_4C087C, (void *)1);
                }
                if ( v193 == (void *)-1 )
                {
LABEL_91:
                  PostMessageA(hWnd, 2u, 0, 0);
                  v600 = 1;
                  goto LABEL_1361;
                }
                v193 = (void *)sub_44D440((const char *)byte_4BFBE0, 170);
              }
              while ( !v193 );
            }
            goto LABEL_1361;
          case 99:
          case 11:
          case 12:
          case 13:
          case 14:
            goto LABEL_1361;
          case 15:
            *(_DWORD *)(this + 15632) = v670[2050];
            sub_421E20((_DWORD *)this);
            goto LABEL_1361;
          case 16:
          case 17:
            goto LABEL_1361;
          case 18:
            *((_DWORD *)Buf + 66336) = 1;
            if ( *((_DWORD *)Buf + 244503) )
            {
              *((_DWORD *)Buf + 66341) = 1;
              sub_421B30(this, COERCE_FLOAT(1));
            }
            goto LABEL_1361;
          case 19:
            goto LABEL_1361;
          case 20:
            i = *((_DWORD *)Buf + 13);
            v194 = i;
            sub_40EA40((char *)Buf, 0);
            v195 = (int *)Buf;
            if ( v194 == *((_DWORD *)Buf + 13) )
              goto LABEL_1361;
            v589 = *((float *)Buf + 13);
            v588[119] = 0xE00000063i64;
            goto LABEL_1360;
          case 21:
            goto LABEL_1361;
          case 22:
            *((_DWORD *)Buf + 272084) = 0;
            if ( sub_4120C0() )
              sub_427390();
            break;
          case 23:
            *((_DWORD *)Buf + 272084) = 0;
            if ( sub_4120C0() )
              sub_426490((void *)this);
            break;
          case 24:
            v589 = 0.0;
            v196 = sub_40CCD0(Buf, 99, 254);
            sub_40C480((int)Buf, v196, SLODWORD(v589));
            goto LABEL_1361;
          case 25:
            *((_DWORD *)Buf + 272084) = 1;
            if ( !sub_4120C0() )
              sub_412280();
            break;
          case 26:
            sub_40EBC0((char *)Buf);
            goto LABEL_1361;
          case 27:
            sub_43A910((int)dword_4C0874, (int)&savedregs);
            goto LABEL_1361;
          case 28:
            sub_43AA70((int)dword_4C0874, *(_DWORD *)dword_4C0878 + 1280, *((_DWORD *)dword_4C0878 + 1) + 720);
            goto LABEL_1361;
          case 29:
            i = *((_DWORD *)Buf + 13);
            v197 = i;
            sub_40E850((char *)Buf, v670[2050]);
            if ( v197 != *((_DWORD *)Buf + 13) )
            {
              v589 = *((float *)Buf + 13);
              v588[119] = 0xE00000063i64;
              goto LABEL_1359;
            }
            break;
        }
        goto LABEL_1361;
      case 26:
        if ( v670[2049] <= 0 )
        {
          memset((void *)(this + 10456), 0, 0x400u);
          sub_41F440(this);
        }
        else
        {
          v3 = (int)v594;
          i = -1;
          sub_417C60(v594);
          switch ( v670[2049] )
          {
            case 1:
              v64 = 9;
              goto LABEL_166;
            case 2:
              v64 = 12;
              goto LABEL_166;
            case 3:
              v64 = 11;
              goto LABEL_166;
            case 6:
              v64 = 10;
              goto LABEL_166;
            case 7:
              v64 = 13;
              goto LABEL_166;
            case 0xD:
              v64 = 17;
              goto LABEL_166;
            case 0xE:
              v64 = 18;
              goto LABEL_166;
            case 0xF:
              v64 = 19;
              goto LABEL_166;
            case 0x10:
              v64 = 20;
              goto LABEL_166;
            case 0x11:
              v64 = 21;
LABEL_166:
              v20 = *(_DWORD *)(this + 4 * v64 + 10368) == 0;
              i = v64;
              if ( !v20 )
              {
                v65 = *(_DWORD **)(this + 4 * v64 + 10368);
                v601 = v65;
                if ( v65 )
                {
                  sub_4043B0(v65);
                  operator delete(v601);
                }
                *(_DWORD *)(this + 4 * v64 + 10368) = 0;
              }
              *(float *)&v66 = COERCE_FLOAT(operator new(0x444u));
              String1 = v66;
              v684 = 0;
              if ( *(float *)&v66 == 0.0 )
                v67 = 0;
              else
                v67 = (int *)sub_404260((int)v66);
              LODWORD(v589) = 1;
              HIDWORD(v588[119]) = v3;
              v684 = -1;
              *(_DWORD *)(this + 4 * v64 + 10368) = v67;
              sub_418F20(v67, SHIDWORD(v588[119]), SLODWORD(v589));
              sub_413360((_DWORD *)v3);
              break;
            default:
              goto LABEL_1361;
          }
        }
        goto LABEL_1361;
      case 27:
        if ( !v670[2049] )
          v623 = v623 == 0;
        goto LABEL_1361;
      case 28:
        v624 = *((_DWORD *)Buf + 5533);
        sub_41DEA0(this, v624);
        v422 = (const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        v68 = (char *)(v422 + 1);
        v69 = &v422[strlen(v422) + 1];
        goto LABEL_1090;
      case 29:
        memcpy((char *)Buf + 19328, (char *)Buf + 731976, 0x56FE4u);
        sub_4260E0(this, (int)Buf + 19336, v670[2050]);
        memcpy((char *)Buf + 19328, (char *)Buf + 731976, 0x56FE4u);
        v624 = *((_DWORD *)Buf + 5536);
        if ( !v670[2050] )
        {
          *((_DWORD *)Buf + 272077) = 0;
          *(_DWORD *)(this + 11484) = 0;
          *((_DWORD *)Buf + 4) = 0;
        }
        sub_4257D0(this, 1, v670[2050]);
        memset(v676, 0, 0x3564u);
        memset((void *)(this + 10456), 0, 0x400u);
        if ( *(_DWORD *)(this + 23876) )
        {
          sub_41A6A0(
            *(int **)(this + 10404),
            *(_DWORD *)(*(_DWORD *)(this + 10404) + 32),
            *(_DWORD *)(*(_DWORD *)(this + 10404) + 36),
            *(_DWORD *)(*(_DWORD *)(this + 10404) + 40));
          sub_41A6A0(
            *(int **)(this + 10408),
            *(_DWORD *)(*(_DWORD *)(this + 10408) + 32),
            *(_DWORD *)(*(_DWORD *)(this + 10408) + 36),
            *(_DWORD *)(*(_DWORD *)(this + 10408) + 40));
          *(_DWORD *)(this + 23876) = 0;
        }
        if ( !v670[2050] )
        {
          sub_407810(dword_4C08DC, *(_DWORD *)(this + 1764));
          v606 = sub_40E1E0(Buf, 4 * (5 * v670[2050] + 5));
          sub_407780((int)dword_4C08DC, 1, v606);
        }
        ++v622;
        goto LABEL_1361;
      case 30:
        if ( a2 == 0.0 && !v28 )
        {
          if ( sub_409E90((char *)dword_4C08D4, this, v670[2049], v670[2050]) )
            v600 = 1;
          if ( *((_DWORD *)Buf + 272075) )
          {
            sub_437810(*(char **)(this + 10364));
            sub_40B6F0((int)dword_4C08D4, *(int **)(this + 10364));
            *((_DWORD *)Buf + 272075) = 0;
          }
        }
        goto LABEL_1361;
      case 32:
        if ( v670[2049] )
          goto LABEL_1361;
        v134 = v670[2050];
        goto LABEL_445;
      case 33:
        v68 = (char *)&v670[1] + 1;
        v69 = (char *)&v670[1] + strlen((const char *)&v670[1]) + 1;
        goto LABEL_1090;
      case 34:
        sub_417C60(*(char **)(this + 10348));
        sub_417C60(*(char **)(this + 10352));
        sub_417C60(*(char **)(this + 10356));
        sub_437810(*(char **)(this + 10364));
        sub_412DB0(*(float **)(this + 10356), 1280, 0);
        sub_412DB0(*(float **)(this + 10352), -1280, 0);
        if ( v670[2049] )
        {
          v91 = (int *)v594;
          sub_435B70(*(int ***)(this + 10364), (int)v594);
          sub_413360(v91);
          sub_437810(*(char **)(this + 10364));
        }
        goto LABEL_1361;
      case 36:
        v156 = v670[2049];
        if ( v670[2049] )
        {
          if ( v670[2049] == 254 )
          {
            sub_412F10(v594, 1);
          }
          else if ( v670[2049] == 255 )
          {
            sub_412F10(v594, 0);
          }
          else
          {
            i = -1;
            switch ( v670[2049] )
            {
              case 1:
                v157 = 0;
                goto LABEL_506;
              case 2:
                v157 = 1;
                goto LABEL_506;
              case 3:
                v157 = 2;
                goto LABEL_506;
              case 4:
                v157 = 3;
                goto LABEL_506;
              case 5:
                v157 = 4;
                goto LABEL_506;
              case 6:
                v157 = 5;
                goto LABEL_506;
              case 7:
                v157 = 6;
                goto LABEL_506;
              case 0xD:
                v157 = 17;
                goto LABEL_506;
              case 0xE:
                v157 = 18;
                goto LABEL_506;
              case 0xF:
                v157 = 7;
                goto LABEL_506;
              case 0x10:
                v157 = 8;
LABEL_506:
                v20 = *(_DWORD *)(this + 4 * v157 + 10368) == 0;
                i = v157;
                if ( !v20 )
                {
                  v3 = *(_DWORD *)(this + 4 * v157 + 10368);
                  if ( v3 )
                  {
                    sub_4043B0(*(_DWORD **)(this + 4 * v157 + 10368));
                    operator delete((void *)v3);
                  }
                  *(_DWORD *)(this + 4 * v157 + 10368) = 0;
                  v156 = v670[2049];
                }
                LODWORD(v589) = 1092;
                if ( v156 == 3 )
                {
                  *(_DWORD *)(this + 4 * v157 + 10368) = *(_DWORD *)(this + 10348);
                  *(float *)&v158 = COERCE_FLOAT(operator new(LODWORD(v589)));
                  String1 = v158;
                  v684 = 1;
                  if ( *(float *)&v158 == 0.0 )
                    v159 = 0;
                  else
                    v159 = (int *)sub_404260((int)v158);
                  v684 = -1;
                  *(_DWORD *)(this + 10348) = v159;
                  v594 = (char *)v159;
                }
                else
                {
                  *(float *)&v160 = COERCE_FLOAT(operator new(LODWORD(v589)));
                  String1 = v160;
                  v684 = 2;
                  if ( *(float *)&v160 == 0.0 )
                    v161 = 0;
                  else
                    v161 = (int *)sub_404260((int)v160);
                  *(_DWORD *)(this + 4 * v157 + 10368) = v161;
                  v162 = (int *)v594;
                  v684 = -1;
                  sub_418F20(v161, (int)v594, 1);
                  sub_413360(v162);
                }
                break;
              default:
                goto LABEL_1361;
            }
          }
        }
        goto LABEL_1361;
      case 37:
        if ( !a3 && a2 == 0.0 )
        {
          v377 = rand();
          sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 2u, v377 % v670[2049]);
          v378 = sub_40CCD0(Buf, 99, 2);
          sub_402320(v378);
          goto LABEL_1361;
        }
        v379 = *((_DWORD *)Buf + 27966);
        v589 = *((float *)Buf + v379 + 28770);
        HIDWORD(v588[119]) = 2;
        *((_DWORD *)Buf + 27966) = v379 + 1;
        LODWORD(v588[119]) = 99;
        goto LABEL_1359;
      case 38:
        if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0 )
          goto LABEL_1234;
        while ( sub_4106C0() != -1 )
        {
          if ( sub_44D440((const char *)byte_4BFBE0, 170) >= 0 )
            goto LABEL_1234;
        }
        PostMessageA(hWnd, 2u, 0, 0);
        v600 = 1;
LABEL_1234:
        v499 = (int **)(this + 24480);
        v3 = 150;
        if ( v670[2049] )
        {
          do
          {
            sub_445CC0(**v499++, 0, 0);
            --v3;
          }
          while ( v3 );
        }
        else
        {
          do
          {
            sub_445CC0(**v499++, (void *)1, 0);
            --v3;
          }
          while ( v3 );
        }
        goto LABEL_1361;
      case 40:
        v122 = v670[2049];
        if ( v670[2049] == 7 )
        {
          if ( v670[2050] )
          {
            *((_DWORD *)Buf + 66336) = 1;
          }
          else
          {
            sub_422F70((char **)this, "-", 26, 0);
            v676[1807] = 0;
            *((_DWORD *)Buf + 66336) = 0;
          }
          goto LABEL_1361;
        }
        if ( v670[2049] == 16 )
        {
          if ( v670[2050] )
          {
            sub_421B30(this, 0.0);
            *((_DWORD *)Buf + 66341) = 1;
          }
          else
          {
            sub_4252C0((char **)this);
            *((_DWORD *)Buf + 66341) = 0;
          }
          goto LABEL_1361;
        }
        v123 = 0;
        if ( v676[1941] )
        {
          sub_422F70((char **)this, (const char *)&v676[1876], 28, 0);
          v122 = v670[2049];
          v676[1941] = 0;
        }
        if ( v676[2008] )
        {
          sub_422F70((char **)this, (const char *)&v676[1943], 29, 0);
          v122 = v670[2049];
          v676[2008] = 0;
        }
        i = 0;
        switch ( v122 )
        {
          case 0:
            sub_425D20((char **)this, 0);
            goto LABEL_404;
          case 2:
            *((_DWORD *)Buf + 66339) = v670[2050];
            v123 = *(_DWORD *)(this + 1704);
            goto LABEL_403;
          case 13:
            v589 = 0.0;
            HIDWORD(v588[119]) = 28;
            LODWORD(v588[119]) = "system\\effyousei";
            *((_DWORD *)Buf + 66340) = v670[2050];
            sub_422F70((char **)this, (const char *)v588[119], SHIDWORD(v588[119]), SLODWORD(v589));
            break;
          case 17:
            v589 = 0.0;
            HIDWORD(v588[119]) = 28;
            *((_DWORD *)Buf + 66340) = v670[2050];
            sub_422F70((char **)this, "system\\effhotaru", SHIDWORD(v588[119]), SLODWORD(v589));
            break;
          case 15:
            v589 = 0.0;
            HIDWORD(v588[119]) = 30;
            *((_DWORD *)Buf + 66342) = v670[2050];
            sub_422F70((char **)this, "system\\efflens", SHIDWORD(v588[119]), SLODWORD(v589));
            v123 = *(_DWORD *)(this + 1708);
            goto LABEL_403;
          default:
            *((_DWORD *)Buf + 66337) = v122;
            *((_DWORD *)Buf + 66338) = v670[2050];
            break;
        }
        v123 = *(_DWORD *)(this + 1700);
LABEL_403:
        i = v123;
LABEL_404:
        if ( v670[2050] < 100 )
        {
          v124 = v670[2050] / 10;
          LODWORD(v589) = v670[2050] / 10;
        }
        else
        {
          LODWORD(v589) = v670[2050] % 100 / -10;
          v124 = v670[2050] / 10;
        }
        sub_41F490((int *)this, v670[2049], v670[2050] - 10 * v124, v123, SLODWORD(v589));
        goto LABEL_1361;
      case 50:
        sub_412E90(v594, 1);
        goto LABEL_1361;
      case 51:
        LODWORD(v589) = 1;
        if ( v670[2049] )
          sub_412B00(v594, SLODWORD(v589));
        else
          sub_412AF0(v594, SLODWORD(v589));
        goto LABEL_1361;
      case 52:
        if ( v670[2049] )
        {
          switch ( v670[2049] )
          {
            case 1:
              sub_412B30(v594, 1);
              break;
            case 2:
              sub_412B40(v594, 1);
              break;
            case 3:
              sub_412B50(v594, 1);
              break;
            case 4:
              sub_412B60(v594, 1);
              break;
            case 5:
              sub_414710((int *)v594, v670[2050]);
              break;
            case 6:
              sub_4146B0((int *)v594, v670[2050]);
              break;
            case 7:
              sub_4146E0((int *)v594, v670[2050]);
              break;
            case 8:
              sub_412B80(v594, v670[2050]);
              break;
            case 99:
              if ( v670[2050] == 1 )
              {
                v594 = *(char **)(this + 10352);
              }
              else if ( v670[2050] == 2 )
              {
                v594 = *(char **)(this + 10356);
              }
              else
              {
                v594 = *(char **)(this + 10348);
              }
              break;
          }
        }
        else
        {
          sub_412B10(v594, 1);
        }
        goto LABEL_1361;
      case 53:
        sub_412B20(v594, 1);
        goto LABEL_1361;
      case 54:
        sub_4227E0((int *)this);
        goto LABEL_1361;
      case 55:
        v676[133] = 1;
        goto LABEL_1361;
      case 56:
        if ( a2 == 0.0 && !v28 )
        {
          if ( v670[2049] )
          {
            if ( v670[2049] == 1 )
            {
              sub_44A6E0(**(_DWORD ***)(this + 24864));
              sub_445230(**(_DWORD **)(this + 24864));
              sub_4440C0(**(_DWORD **)(this + 24864), *(_DWORD *)(this + 1676));
              sub_401040(**(float ***)(this + 24864), -732, 0);
              sub_444340(**(float ***)(this + 24864), 0, 0, 732, 720);
              sub_444450(**(float ***)(this + 24864), 360.0, 355.0);
              sub_4474C0(**(_DWORD **)(this + 24864), 1288, 0, 12 * v670[2050], 0.0, -1);
              sub_4479F0(**(_DWORD **)(this + 24864), 540, 12 * v670[2050], 0.0, -1);
              sub_44A6E0(**(_DWORD ***)(this + 24868));
              sub_445230(**(_DWORD **)(this + 24868));
              sub_4440C0(**(_DWORD **)(this + 24868), *(_DWORD *)(this + 1676));
              sub_401040(**(float ***)(this + 24868), 1288, 0);
              sub_444340(**(float ***)(this + 24868), 0, 0, 732, 720);
              sub_444450(**(float ***)(this + 24868), 360.0, 355.0);
              sub_4474C0(**(_DWORD **)(this + 24868), -732, 0, 12 * v670[2050], 0.0, -1);
              sub_4479F0(**(_DWORD **)(this + 24868), 540, 12 * v670[2050], 0.0, -1);
              v460 = (int **)(this + 24872);
              v601 = (void *)27;
              do
              {
                sub_44A6E0((_DWORD *)**v460);
                sub_445230(**v460);
                sub_4440C0(**v460, *(_DWORD *)(this + 1676));
                v605 = -rand() % 1280;
                v604 = rand() % 848 - 128;
                sub_401040((float *)**v460, v605 - 800, v604);
                sub_444340((float *)**v460, 720, 0, 998, 256);
                v461 = rand();
                sub_4088F0((float *)**v460, v461 % 80 + 20, v461 % 80 + 20);
                v462 = rand() % 3;
                sub_4474C0(**v460, 1280, v604, 12 * (v670[2050] + v462), 0.0, -1);
                sub_4479F0(**v460, 540, 12 * (v462 + v670[2050]), 0.0, -1);
                v463 = rand();
                LODWORD(v589) = 5;
                String1 = (char *)(v463 % 5);
                v464 = (float *)**v460;
                *(float *)&String1 = (double)(v463 % 5) / 10.0 + 0.5;
                sub_444470(v464, *(float *)&String1);
                v465 = *v460;
                v589 = NAN;
                v588[119] = (unsigned int)(12 * (v670[2050] + v462));
                HIDWORD(v588[118]) = v588[119];
                sub_4477E0(*v465, 0.0, v588[119], 0, -1);
                ++v460;
                v601 = (char *)v601 - 1;
              }
              while ( v601 );
              v466 = (float ***)(this + 24980);
              v601 = (void *)25;
              do
              {
                sub_44A6E0(**v466);
                sub_445230((int)**v466);
                sub_4440C0((int)**v466, *(_DWORD *)(this + 1676));
                v605 = rand() % 1280;
                v604 = rand() % 848 - 128;
                v467 = **v466;
                v589 = (float)v604;
                String1 = (char *)(v605 + 2080);
                *((float *)&v588[119] + 1) = (float)(v605 + 2080);
                sub_444260(v467, *((float *)&v588[119] + 1), v589);
                sub_444340(**v466, 720, 0, 998, 256);
                v606 = rand() % 80 + 20;
                v468 = **v466;
                *(float *)&String1 = (float)v606;
                sub_4443C0(v468, *(float *)&String1, *(float *)&String1);
                v469 = rand();
                v589 = NAN;
                v470 = v469 % 3;
                v471 = (int *)*v466;
                v588[119] = (unsigned int)(12 * (v670[2050] + v469 % 3));
                HIDWORD(v588[118]) = v604;
                v472 = *v471;
                v606 = v469 % 3;
                sub_4474C0(v472, -800, v604, v588[119], 0.0, -1);
                sub_4479F0((int)**v466, 540, 12 * (v470 + v670[2050]), 0.0, -1);
                v473 = rand();
                LODWORD(v589) = 5;
                String1 = (char *)(v473 % 5);
                v474 = **v466;
                *(float *)&String1 = (double)(v473 % 5) / 10.0 + 0.5;
                sub_444470(v474, *(float *)&String1);
                v475 = (int *)*v466;
                v3 = v670[2050] + v470;
                HIDWORD(v588[118]) = 12 * v3;
                sub_4477E0(*v475, 0.0, 12 * v3, 0, -1);
                ++v466;
                v601 = (char *)v601 - 1;
              }
              while ( v601 );
              *(_DWORD *)(this + 1584) = 1;
            }
            else if ( v670[2049] == 2 )
            {
              sub_44A6E0(**(_DWORD ***)(this + 24864));
              sub_445230(**(_DWORD **)(this + 24864));
              sub_4440C0(**(_DWORD **)(this + 24864), *(_DWORD *)(this + 1676));
              sub_401040(**(float ***)(this + 24864), 280, 0);
              sub_444340(**(float ***)(this + 24864), 0, 0, 732, 720);
              sub_444450(**(float ***)(this + 24864), 360.0, 355.0);
              sub_4088F0(**(float ***)(this + 24864), 1, 1);
              v476 = *(int **)(this + 24864);
              HIDWORD(v588[118]) = v477;
              sub_4478E0(*v476, 500.0, 12 * v670[2050], 0, -1);
              HIDWORD(v588[118]) = v478;
              sub_4478E0(**(_DWORD **)(this + 24864), 550.0, 30, 0, -1);
              v479 = *(int **)(this + 24864);
              HIDWORD(v588[118]) = v480;
              sub_4478E0(*v479, 0.0, 12 * v670[2050], 0, -1);
              *(_DWORD *)(this + 1584) = 1;
            }
            else if ( v670[2049] == 3 )
            {
              sub_44A6E0(**(_DWORD ***)(this + 24864));
              sub_445230(**(_DWORD **)(this + 24864));
              sub_4440C0(**(_DWORD **)(this + 24864), *(_DWORD *)(this + 1676));
              sub_401040(**(float ***)(this + 24864), -200, 40);
              i = rand() % 6;
              sub_444340(**(float ***)(this + 24864), 200 * i, 250, 200 * i + 200, 500);
              sub_444450(**(float ***)(this + 24864), 1000.0, -800.0);
              sub_444440(**(float ***)(this + 24864), 0.0);
              sub_4479F0(**(_DWORD **)(this + 24864), -80, 12 * v670[2050], 0.0, -1);
              *(_DWORD *)(this + 1584) = 1;
            }
            else if ( v670[2049] == 4 )
            {
              sub_44A6E0(**(_DWORD ***)(this + 24864));
              sub_445230(**(_DWORD **)(this + 24864));
              sub_4440C0(**(_DWORD **)(this + 24864), *(_DWORD *)(this + 1676));
              sub_401040(**(float ***)(this + 24864), 1280, 40);
              i = rand() % 6;
              sub_444340(**(float ***)(this + 24864), 200 * i, 0, 200 * i + 200, 250);
              sub_444450(**(float ***)(this + 24864), -800.0, -800.0);
              sub_444440(**(float ***)(this + 24864), 0.0);
              sub_4479F0(**(_DWORD **)(this + 24864), 80, 12 * v670[2050], 0.0, -1);
              *(_DWORD *)(this + 1584) = 1;
            }
            else
            {
              if ( v670[2049] == 5 )
              {
                v481 = (float ***)(this + 24864);
                v601 = (void *)54;
                do
                {
                  sub_44A6E0(**v481);
                  sub_445230((int)**v481);
                  sub_4440C0((int)**v481, *(_DWORD *)(this + 1676));
                  v605 = rand() % 1480 - 200;
                  v604 = -rand() % 1440;
                  sub_401040(**v481, v605, v604);
                  v482 = rand() % 8;
                  i = v482;
                  LODWORD(v589) = 260;
                  if ( v482 )
                  {
                    v483 = **v481;
                    if ( v482 == 1 )
                    {
                      v588[119] = 0x20000000000i64;
                      HIDWORD(v588[118]) = 220;
                    }
                    else
                    {
                      v588[119] = 0xDC00000000i64;
                      HIDWORD(v588[118]) = 0;
                    }
                  }
                  else
                  {
                    v483 = **v481;
                    v588[119] = 0x31400000000i64;
                    HIDWORD(v588[118]) = 512;
                  }
                  sub_444340(v483, SHIDWORD(v588[118]), v588[119], SHIDWORD(v588[119]), SLODWORD(v589));
                  v484 = rand();
                  sub_4088F0(**v481, v484 % 90 + 10, v484 % 90 + 10);
                  sub_4474C0((int)**v481, v605, v604 + 2160, 12 * v670[2050], 0.0, -1);
                  v485 = rand();
                  LODWORD(v589) = 360;
                  v486 = v485 % 360;
                  v487 = **v481;
                  v606 = v485 % 360;
                  v589 = (float)(v485 % 360);
                  sub_444440(v487, v589);
                  v3 = v486 + 720;
                  sub_4479F0((int)**v481, v3, 12 * v670[2050], 0.0, -1);
                  v488 = rand();
                  LODWORD(v589) = 5;
                  String1 = (char *)(v488 % 5);
                  v489 = **v481;
                  *(float *)&String1 = (double)(v488 % 5) / 10.0 + 0.2000000029802322;
                  sub_444470(v489, *(float *)&String1);
                  ++v481;
                  v601 = (char *)v601 - 1;
                }
                while ( v601 );
              }
              *(_DWORD *)(this + 1584) = 1;
            }
          }
          else
          {
            sub_44A6E0(**(_DWORD ***)(this + 24864));
            sub_445230(**(_DWORD **)(this + 24864));
            sub_4440C0(**(_DWORD **)(this + 24864), *(_DWORD *)(this + 1676));
            sub_401040(**(float ***)(this + 24864), -732, 0);
            sub_444340(**(float ***)(this + 24864), 0, 0, 732, 720);
            sub_444450(**(float ***)(this + 24864), 360.0, 355.0);
            sub_4474C0(**(_DWORD **)(this + 24864), 1536, 0, 12 * v670[2050], 0.0, -1);
            sub_4479F0(**(_DWORD **)(this + 24864), 540, 12 * v670[2050], 0.0, -1);
            v451 = (int **)(this + 24868);
            v601 = (void *)53;
            do
            {
              sub_44A6E0((_DWORD *)**v451);
              sub_445230(**v451);
              sub_4440C0(**v451, *(_DWORD *)(this + 1676));
              v605 = -rand() % 1280;
              v604 = rand() % 848 - 128;
              sub_401040((float *)**v451, v605 - 800, v604);
              sub_444340((float *)**v451, 720, 0, 998, 256);
              v452 = rand();
              sub_4088F0((float *)**v451, v452 % 80 + 20, v452 % 80 + 20);
              v453 = rand();
              v589 = NAN;
              v454 = v453 % 3;
              v455 = *v451;
              v588[119] = (unsigned int)(12 * (v670[2050] + v453 % 3));
              HIDWORD(v588[118]) = v604;
              v456 = *v455;
              v606 = v453 % 3;
              sub_4474C0(v456, 1536, v604, v588[119], 0.0, -1);
              sub_4479F0(**v451, 540, 12 * (v454 + v670[2050]), 0.0, -1);
              v457 = rand();
              LODWORD(v589) = 5;
              String1 = (char *)(v457 % 5);
              v458 = (float *)**v451;
              *(float *)&String1 = (double)(v457 % 5) / 10.0 + 0.5;
              sub_444470(v458, *(float *)&String1);
              v459 = *v451;
              v3 = v670[2050] + v454;
              HIDWORD(v588[118]) = 12 * v3;
              sub_4477E0(*v459, 0.0, 12 * v3, 0, -1);
              ++v451;
              v601 = (char *)v601 - 1;
            }
            while ( v601 );
            *(_DWORD *)(this + 1584) = 1;
          }
        }
        goto LABEL_1361;
      case 57:
        goto LABEL_1350;
      case 60:
        v201 = v670[2049];
        if ( !v670[2049] )
          goto LABEL_1361;
        if ( LOBYTE(v670[1]) == 42 )
        {
          v670[2051] = atoi((const char *)&v670[1] + 1);
          v202 = sub_40CA50(Buf, v670[2051]);
          v203 = &v670[1];
          do
          {
            v204 = *v202;
            *(_BYTE *)v203 = *v202++;
            v203 = (int *)((char *)v203 + 1);
          }
          while ( v204 );
LABEL_630:
          v201 = v670[2049];
          goto LABEL_631;
        }
        if ( LOWORD(v670[1]) == 11565 && (unsigned int)(v670[2049] - 1) <= 0x1C )
        {
          v205 = (char *)Buf + 48 * v670[2049] + 732144;
          v206 = &v670[1];
          do
          {
            v207 = *v205;
            *(_BYTE *)v206 = *v205++;
            v206 = (int *)((char *)v206 + 1);
          }
          while ( v207 );
          goto LABEL_630;
        }
LABEL_631:
        if ( v201 != 1 )
          goto LABEL_654;
        if ( strstr((const char *)&v670[1], "BG\\BLACK") || strstr((const char *)&v670[1], "BG\\WHITE") )
          *((_DWORD *)Buf + 66512) = 0;
        if ( *((_DWORD *)Buf + 66512) )
          goto LABEL_653;
        v208 = (_DWORD ***)(this + 24520);
        if ( !sub_4449F0(**(_DWORD **)(this + 24520))
          && !sub_4449F0(**(_DWORD **)(this + 24560))
          && !sub_4449F0(**(_DWORD **)(this + 24600))
          && !sub_4449F0(**(_DWORD **)(this + 24640))
          && !sub_4449F0(**(_DWORD **)(this + 24680)) )
        {
          goto LABEL_652;
        }
        v3 = 54;
        do
        {
          sub_44A6E0(**v208++);
          --v3;
        }
        while ( v3 );
        qword_4B333C = 0x6400000000i64;
        dword_4B3348 = 0;
        dword_4B3344 = 0;
        *(_DWORD *)(this + 23916) = 1;
        v210 = *((float *)&qword_4B333C + 1);
        v209 = qword_4B333C;
        dword_4C0918 = 0;
        if ( qword_4B333C != -1 )
        {
          sub_41F870(
            (float ***)this,
            *(float *)&qword_4B333C,
            SHIDWORD(qword_4B333C),
            dword_4B3344,
            dword_4B3348,
            *(float *)&dword_4B34E0);
          v210 = *((float *)&qword_4B333C + 1);
          v209 = qword_4B333C;
        }
        if ( qword_4B3328 != -1 )
        {
          v589 = NAN;
          v588[119] = __PAIR64__(dword_4B3338, dword_4B34E0);
          HIDWORD(v588[118]) = -HIDWORD(qword_4B3330);
          LODWORD(v588[118]) = -(int)qword_4B3330;
          v588[117] = qword_4B3328;
          goto LABEL_650;
        }
        if ( dword_4B3344 != -1 || dword_4B3348 != -1 )
        {
          v589 = v210;
          v588[119] = __PAIR64__(dword_4B334C, dword_4B34E0);
          HIDWORD(v588[118]) = -dword_4B3348;
          LODWORD(v588[118]) = -dword_4B3344;
          v588[117] = v209 | 0xFF00000000i64;
LABEL_650:
          sub_423AA0(
            this,
            v588[117],
            *((float *)&v588[117] + 1),
            v588[118],
            *((float *)&v588[118] + 1),
            *(float *)&v588[119],
            SHIDWORD(v588[119]),
            SLODWORD(v589));
        }
        *(_DWORD *)(this + 23916) = 0;
LABEL_652:
        sub_44A6E0(**(_DWORD ***)(this + 24480));
        sub_445230(**(_DWORD **)(this + 24480));
        qword_4B3328 = -1i64;
        qword_4B3330 = -1i64;
        dword_4B3338 = -1;
        qword_4B333C = -1i64;
        dword_4B3344 = -1;
        dword_4B3348 = -1;
        dword_4B334C = -1;
        memset(dword_4B3350, -1, 0xC8u);
        memset(dword_4B3418, -1, 0xC8u);
        dword_4C0918 = 0;
LABEL_653:
        memset(v676, 0, 0x3564u);
        v201 = v670[2049];
LABEL_654:
        if ( (unsigned int)(v201 - 19) > 4 )
        {
          if ( (unsigned int)(v201 - 33) > 3 )
          {
            if ( v201 == 26 )
            {
              sub_422F70((char **)this, (const char *)&v670[1], 26, 0);
            }
            else if ( v201 == 27 )
            {
              sub_422F70((char **)this, (const char *)&v670[1], 27, 0);
            }
            else
            {
              v218 = &v670[1];
              v219 = &v676[67 * v201];
              do
              {
                v220 = *(_BYTE *)v218;
                *(_BYTE *)v219 = *(_BYTE *)v218;
                v218 = (int *)((char *)v218 + 1);
                v219 = (int *)((char *)v219 + 1);
              }
              while ( v220 );
              v676[67 * v670[2049] + 65] = 1;
            }
          }
          else
          {
            if ( *(_DWORD *)(this + 4 * v201 + 1588) )
              sub_41F340(this, v201);
            v214 = sub_44F850((const char *)&v670[1], 0, 0);
            *(_DWORD *)(this + 4 * v670[2049] + 1588) = v214;
            v215 = &v670[1];
            v216 = (char *)Buf + 48 * v670[2049] + 19496;
            do
            {
              v217 = *(_BYTE *)v215;
              *v216 = *(_BYTE *)v215;
              v215 = (int *)((char *)v215 + 1);
              ++v216;
            }
            while ( v217 );
          }
        }
        else if ( a2 == 0.0 )
        {
          sub_41E940((char *)&v670[1], v201);
          sub_422E80((char **)this, (const char *)&v670[1], v670[2049], 0);
        }
        else
        {
          v211 = &v670[1];
          v212 = (_BYTE *)(this + 260 * (v201 - 19));
          do
          {
            v213 = *(_BYTE *)v211;
            *v212 = *(_BYTE *)v211;
            v211 = (int *)((char *)v211 + 1);
            ++v212;
          }
          while ( v213 );
          sub_41E940((char *)(this + 260 * (v670[2049] - 19)), v670[2049]);
        }
        goto LABEL_1361;
      case 61:
        if ( v670[2049] <= 5 )
        {
          v58 = 0;
          do
          {
            v59 = *((_BYTE *)&v670[1] + v58);
            *(&v679 + v58++) = v59;
          }
          while ( v59 );
          v60 = v670[2049] + 37;
          i = v670[2049] + 37;
          if ( v679 == 45 && !v680 )
          {
            v61 = (char *)Buf + 48 * v60 + 19496;
            v62 = &v679;
            do
            {
              v63 = *v61;
              *v62++ = *v61++;
            }
            while ( v63 );
          }
          sub_422E80((char **)this, &v679, v60, 0);
        }
        else
        {
          MessageBoxA(0, "SYSGRP over flow", WindowName, 0x42000u);
        }
        goto LABEL_1361;
      case 62:
        sub_432D20(this, (int)&v670[1], 0);
        goto LABEL_1361;
      case 63:
        if ( LOWORD(v670[1]) == 11565 )
        {
          if ( *((_BYTE *)Buf + 48 * v670[2049] + 732336) )
          {
            sub_422E80((char **)this, (const char *)Buf + 48 * v670[2049] + 732336, v670[2049] + 4, 0);
            v234 = sub_41E830(v670[2049] + 4);
            i = v234;
            if ( v234 != -1 )
            {
              v236 = 15 * v234;
              v237 = *(int **)(this + 4 * v234 + 24480);
              v589 = NAN;
              qmemcpy(v588, (char *)Buf + 64 * v236 + 833896, sizeof(v588));
              v3 = (int)&v589;
              sub_447F40(
                *v237,
                v588[0],
                SHIDWORD(v588[0]),
                v588[1],
                SHIDWORD(v588[1]),
                v588[2],
                SHIDWORD(v588[2]),
                v588[3],
                SHIDWORD(v588[3]),
                v588[4],
                SHIDWORD(v588[4]),
                v588[5],
                SHIDWORD(v588[5]),
                v588[6],
                SHIDWORD(v588[6]),
                v588[7],
                SHIDWORD(v588[7]),
                v588[8],
                SHIDWORD(v588[8]),
                v588[9],
                SHIDWORD(v588[9]),
                v588[10],
                SHIDWORD(v588[10]),
                v588[11],
                SHIDWORD(v588[11]),
                v588[12],
                SHIDWORD(v588[12]),
                v588[13],
                SHIDWORD(v588[13]),
                v588[14],
                SHIDWORD(v588[14]),
                v588[15],
                SHIDWORD(v588[15]),
                v588[16],
                SHIDWORD(v588[16]),
                v588[17],
                SHIDWORD(v588[17]),
                v588[18],
                SHIDWORD(v588[18]),
                v588[19],
                SHIDWORD(v588[19]),
                v588[20],
                SHIDWORD(v588[20]),
                v588[21],
                SHIDWORD(v588[21]),
                v588[22],
                SHIDWORD(v588[22]),
                v588[23],
                SHIDWORD(v588[23]),
                v588[24],
                SHIDWORD(v588[24]),
                v588[25],
                SHIDWORD(v588[25]),
                v588[26],
                SHIDWORD(v588[26]),
                v588[27],
                SHIDWORD(v588[27]),
                v588[28],
                SHIDWORD(v588[28]),
                v588[29],
                SHIDWORD(v588[29]),
                v588[30],
                SHIDWORD(v588[30]));
              v235 = v670[2049];
              if ( *(_DWORD *)(this + 4 * v670[2049] + 1604) )
              {
                sub_4440C0(**(_DWORD **)(this + 4 * i + 24480), *(_DWORD *)(this + 4 * v670[2049] + 1604));
                v235 = v670[2049];
              }
            }
            v676[67 * v235 + 333] = 0;
          }
          goto LABEL_1361;
        }
        v238 = v670[2049];
        v3 = sub_41E830(v670[2049] + 4);
        v609 = v3;
        if ( v239 == 45 )
        {
          if ( !BYTE1(v670[1]) )
          {
            v240 = &v676[67 * v238 + 268];
            v241 = &v670[1];
            do
            {
              v242 = *(_BYTE *)v241;
              *(_BYTE *)v240 = *(_BYTE *)v241;
              v241 = (int *)((char *)v241 + 1);
              v240 = (int *)((char *)v240 + 1);
            }
            while ( v242 );
            v243 = 67 * v670[2049];
            v676[v243 + 333] = 1;
            v244 = &v670[1];
            v245 = &v676[v243 + 603];
            do
            {
              v246 = *(_BYTE *)v244;
              *(_BYTE *)v245 = *(_BYTE *)v244;
              v244 = (int *)((char *)v244 + 1);
              v245 = (int *)((char *)v245 + 1);
            }
            while ( v246 );
            v3 = v670[2049];
            v247 = Buf;
            v676[67 * v670[2049] + 668] = 1;
            if ( v247[66584] )
            {
              if ( !sub_421E40((_DWORD *)this) && a2 == 0.0 && !*(_DWORD *)(this + 25104) && !*(_DWORD *)(this + 15616) )
              {
                v250 = 960 * v609;
                v3 += 46;
                sub_422E80(v249, (const char *)(960 * v609 + v248 + 122944), v3, 0);
                *(_DWORD *)((char *)Buf + v250 + 122388) = *(_DWORD *)(this + 4 * v670[2049] + 1772);
                if ( *(_DWORD *)((char *)Buf + v250 + 122388) )
                {
                  sub_44A6E0(**(_DWORD ***)(this + 4 * v609 + 24484));
                  v589 = NAN;
                  qmemcpy(v588, (char *)Buf + v250 + 122208, sizeof(v588));
                  v3 = (int)&v589;
                  v251 = v609;
                  sub_447F40(
                    **(_DWORD **)(this + 4 * v609 + 24484),
                    v588[0],
                    SHIDWORD(v588[0]),
                    v588[1],
                    SHIDWORD(v588[1]),
                    v588[2],
                    SHIDWORD(v588[2]),
                    v588[3],
                    SHIDWORD(v588[3]),
                    v588[4],
                    SHIDWORD(v588[4]),
                    v588[5],
                    SHIDWORD(v588[5]),
                    v588[6],
                    SHIDWORD(v588[6]),
                    v588[7],
                    SHIDWORD(v588[7]),
                    v588[8],
                    SHIDWORD(v588[8]),
                    v588[9],
                    SHIDWORD(v588[9]),
                    v588[10],
                    SHIDWORD(v588[10]),
                    v588[11],
                    SHIDWORD(v588[11]),
                    v588[12],
                    SHIDWORD(v588[12]),
                    v588[13],
                    SHIDWORD(v588[13]),
                    v588[14],
                    SHIDWORD(v588[14]),
                    v588[15],
                    SHIDWORD(v588[15]),
                    v588[16],
                    SHIDWORD(v588[16]),
                    v588[17],
                    SHIDWORD(v588[17]),
                    v588[18],
                    SHIDWORD(v588[18]),
                    v588[19],
                    SHIDWORD(v588[19]),
                    v588[20],
                    SHIDWORD(v588[20]),
                    v588[21],
                    SHIDWORD(v588[21]),
                    v588[22],
                    SHIDWORD(v588[22]),
                    v588[23],
                    SHIDWORD(v588[23]),
                    v588[24],
                    SHIDWORD(v588[24]),
                    v588[25],
                    SHIDWORD(v588[25]),
                    v588[26],
                    SHIDWORD(v588[26]),
                    v588[27],
                    SHIDWORD(v588[27]),
                    v588[28],
                    SHIDWORD(v588[28]),
                    v588[29],
                    SHIDWORD(v588[29]),
                    v588[30],
                    SHIDWORD(v588[30]));
                  v252 = *(float ***)(this + 4 * v251 + 24484);
                  v589 = v253;
                  sub_444470(*v252, 1.0);
                  v254 = *(int **)(this + 4 * v251 + 24484);
                  HIDWORD(v588[118]) = v255;
                  sub_4477E0(*v254, 0.0, 15, 0, -1);
                }
              }
            }
            goto LABEL_1361;
          }
        }
        else if ( v239 == 46 )
        {
          v256 = &v676[67 * v238 + 268];
          v257 = &v670[1];
          do
          {
            v258 = *(_BYTE *)v256;
            *(_BYTE *)v257 = *(_BYTE *)v256;
            v256 = (int *)((char *)v256 + 1);
            v257 = (int *)((char *)v257 + 1);
          }
          while ( v258 );
          v238 = v670[2049];
        }
        if ( *((_DWORD *)Buf + 66584)
          && strncmp((const char *)&v670[1], (const char *)Buf + 48 * v238 + 19688, 7u)
          && !sub_421E40((_DWORD *)this)
          && a2 == 0.0
          && !*(_DWORD *)(this + 25104)
          && !*(_DWORD *)(this + 15616) )
        {
          v259 = v670[2049];
          if ( (unsigned int)((_BYTE *)Buf
                            + 48 * v670[2049]
                            + strlen((const char *)Buf + 48 * v670[2049] + 19688)
                            + 19689
                            - ((_BYTE *)Buf
                             + 48 * v670[2049]
                             + 19689)) >= 7 )
          {
            v260 = 960 * v609;
            sub_422E80((char **)this, (const char *)Buf + 960 * v609 + 122944, v670[2049] + 46, 0);
            *(_DWORD *)((char *)Buf + v260 + 122388) = *(_DWORD *)(this + 4 * v670[2049] + 1772);
            if ( *(_DWORD *)((char *)Buf + v260 + 122388) )
            {
              sub_44A6E0(**(_DWORD ***)(this + 4 * v609 + 24484));
              v589 = NAN;
              qmemcpy(v588, (char *)Buf + v260 + 122208, sizeof(v588));
              v261 = v609;
              sub_447F40(
                **(_DWORD **)(this + 4 * v609 + 24484),
                v588[0],
                SHIDWORD(v588[0]),
                v588[1],
                SHIDWORD(v588[1]),
                v588[2],
                SHIDWORD(v588[2]),
                v588[3],
                SHIDWORD(v588[3]),
                v588[4],
                SHIDWORD(v588[4]),
                v588[5],
                SHIDWORD(v588[5]),
                v588[6],
                SHIDWORD(v588[6]),
                v588[7],
                SHIDWORD(v588[7]),
                v588[8],
                SHIDWORD(v588[8]),
                v588[9],
                SHIDWORD(v588[9]),
                v588[10],
                SHIDWORD(v588[10]),
                v588[11],
                SHIDWORD(v588[11]),
                v588[12],
                SHIDWORD(v588[12]),
                v588[13],
                SHIDWORD(v588[13]),
                v588[14],
                SHIDWORD(v588[14]),
                v588[15],
                SHIDWORD(v588[15]),
                v588[16],
                SHIDWORD(v588[16]),
                v588[17],
                SHIDWORD(v588[17]),
                v588[18],
                SHIDWORD(v588[18]),
                v588[19],
                SHIDWORD(v588[19]),
                v588[20],
                SHIDWORD(v588[20]),
                v588[21],
                SHIDWORD(v588[21]),
                v588[22],
                SHIDWORD(v588[22]),
                v588[23],
                SHIDWORD(v588[23]),
                v588[24],
                SHIDWORD(v588[24]),
                v588[25],
                SHIDWORD(v588[25]),
                v588[26],
                SHIDWORD(v588[26]),
                v588[27],
                SHIDWORD(v588[27]),
                v588[28],
                SHIDWORD(v588[28]),
                v588[29],
                SHIDWORD(v588[29]),
                v588[30],
                SHIDWORD(v588[30]));
              v262 = *(float ***)(this + 4 * v261 + 24484);
              v589 = v263;
              sub_444470(*v262, 1.0);
              v264 = *(int **)(this + 4 * v261 + 24484);
              HIDWORD(v588[118]) = v265;
              sub_4477E0(*v264, 0.0, 15, 0, -1);
            }
            v259 = v670[2049];
          }
          v266 = sub_41E830(v259 + 4);
          v589 = v267;
          v268 = *(float ***)(this + 4 * v266 + 24480);
          v589 = 0.0;
          v269 = *v268;
          i = v266;
          sub_444470(v269, 0.0);
          v270 = *(int **)(this + 4 * v266 + 24480);
          HIDWORD(v588[118]) = v271;
          sub_4477E0(*v270, 1.0, 15, 0, -1);
          v3 = v609;
        }
        if ( v3 != -1 )
          sub_447280(**(_DWORD ***)(this + 4 * v3 + 24480));
        goto LABEL_1361;
      case 64:
        if ( LOBYTE(v670[1]) != 45 )
          goto LABEL_755;
        switch ( BYTE1(v670[1]) )
        {
          case '-':
            if ( *((_BYTE *)Buf + 733344) )
            {
              v599 = NAN;
              v272 = _strnicmp((const char *)Buf + 733344, "_p,", 3u);
              v589 = 0.0;
              if ( v272 )
              {
                sub_422E80((char **)this, (const char *)Buf + 733344, 25, SLODWORD(v589));
              }
              else
              {
                v599 = COERCE_FLOAT(sub_44F850((const char *)Buf + 733347, 0, SLODWORD(v589)));
                *(float *)(this + 4 * i + 1588) = v599;
              }
              v273 = sub_41E830(25);
              i = v273;
              if ( v273 != -1 )
              {
                v589 = v599;
                v274 = *(int **)(this + 4 * v273 + 24480);
                qmemcpy(v588, (char *)Buf + 960 * v273 + 833896, sizeof(v588));
                v3 = (int)&v589;
                sub_447F40(
                  *v274,
                  v588[0],
                  SHIDWORD(v588[0]),
                  v588[1],
                  SHIDWORD(v588[1]),
                  v588[2],
                  SHIDWORD(v588[2]),
                  v588[3],
                  SHIDWORD(v588[3]),
                  v588[4],
                  SHIDWORD(v588[4]),
                  v588[5],
                  SHIDWORD(v588[5]),
                  v588[6],
                  SHIDWORD(v588[6]),
                  v588[7],
                  SHIDWORD(v588[7]),
                  v588[8],
                  SHIDWORD(v588[8]),
                  v588[9],
                  SHIDWORD(v588[9]),
                  v588[10],
                  SHIDWORD(v588[10]),
                  v588[11],
                  SHIDWORD(v588[11]),
                  v588[12],
                  SHIDWORD(v588[12]),
                  v588[13],
                  SHIDWORD(v588[13]),
                  v588[14],
                  SHIDWORD(v588[14]),
                  v588[15],
                  SHIDWORD(v588[15]),
                  v588[16],
                  SHIDWORD(v588[16]),
                  v588[17],
                  SHIDWORD(v588[17]),
                  v588[18],
                  SHIDWORD(v588[18]),
                  v588[19],
                  SHIDWORD(v588[19]),
                  v588[20],
                  SHIDWORD(v588[20]),
                  v588[21],
                  SHIDWORD(v588[21]),
                  v588[22],
                  SHIDWORD(v588[22]),
                  v588[23],
                  SHIDWORD(v588[23]),
                  v588[24],
                  SHIDWORD(v588[24]),
                  v588[25],
                  SHIDWORD(v588[25]),
                  v588[26],
                  SHIDWORD(v588[26]),
                  v588[27],
                  SHIDWORD(v588[27]),
                  v588[28],
                  SHIDWORD(v588[28]),
                  v588[29],
                  SHIDWORD(v588[29]),
                  v588[30],
                  SHIDWORD(v588[30]));
                if ( *(_DWORD *)(this + 1688) )
                  sub_4440C0(**(_DWORD **)(this + 4 * i + 24480), *(_DWORD *)(this + 1688));
              }
              v676[1740] = 0;
            }
            goto LABEL_1361;
          case 'a':
            if ( !BYTE2(v670[1]) )
            {
              v275 = (double)v670[2049];
              goto LABEL_747;
            }
            goto LABEL_755;
          case 'm':
            if ( !BYTE2(v670[1]) )
            {
              if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
              {
                v589 = NAN;
                v588[119] = (unsigned int)(12 * v670[2049]);
LABEL_745:
                HIDWORD(v588[118]) = v16;
                sub_4477E0(**(_DWORD **)(this + 24732), 1.0, v588[119], SHIDWORD(v588[119]), SLODWORD(v589));
                goto LABEL_1361;
              }
              v275 = 1.0;
LABEL_747:
              v276 = *(float ***)(this + 24732);
              v589 = *(float *)&v16;
              v277 = *v276;
              v589 = v275;
              sub_444470(v277, v589);
              goto LABEL_1361;
            }
LABEL_755:
            v280 = sub_41E830(25);
            if ( v280 != -1 )
              sub_447280(**(_DWORD ***)(this + 4 * v280 + 24480));
            goto LABEL_1361;
          case 'n':
            if ( BYTE2(v670[1]) )
              goto LABEL_755;
            v611 = (unsigned __int8 *)v670[2049];
            break;
          default:
            if ( BYTE1(v670[1]) )
              goto LABEL_755;
            sub_44A6E0(**(_DWORD ***)(this + 24732));
            sub_444970(**(_DWORD **)(this + 24732));
            v278 = 0;
            do
            {
              v279 = *((_BYTE *)&v670[1] + v278);
              *((_BYTE *)&v676[1675] + v278++) = v279;
            }
            while ( v279 );
            v676[1740] = 1;
            break;
        }
        goto LABEL_1361;
      case 65:
        v221 = 0;
        do
        {
          v222 = *((_BYTE *)&v670[1] + v221);
          *(&v679 + v221++) = v222;
        }
        while ( v222 );
        if ( v679 == 45 )
        {
          if ( v680 != 45 )
            goto LABEL_681;
          v223 = (char *)Buf + 48 * v670[2049] + 732576;
          if ( *v223 )
          {
            v224 = &v679;
            do
            {
              v225 = *v223;
              *v224++ = *v223++;
            }
            while ( v225 );
            v589 = NAN;
            qmemcpy(v588, (char *)Buf + 9600 * v670[2049] + 845416, sizeof(v588));
            v3 = (int)&v589;
            v226 = sub_41E830(v670[2049] + 9);
            sub_447F40(
              **(_DWORD **)(this + 4 * v226 + 24480),
              v588[0],
              SHIDWORD(v588[0]),
              v588[1],
              SHIDWORD(v588[1]),
              v588[2],
              SHIDWORD(v588[2]),
              v588[3],
              SHIDWORD(v588[3]),
              v588[4],
              SHIDWORD(v588[4]),
              v588[5],
              SHIDWORD(v588[5]),
              v588[6],
              SHIDWORD(v588[6]),
              v588[7],
              SHIDWORD(v588[7]),
              v588[8],
              SHIDWORD(v588[8]),
              v588[9],
              SHIDWORD(v588[9]),
              v588[10],
              SHIDWORD(v588[10]),
              v588[11],
              SHIDWORD(v588[11]),
              v588[12],
              SHIDWORD(v588[12]),
              v588[13],
              SHIDWORD(v588[13]),
              v588[14],
              SHIDWORD(v588[14]),
              v588[15],
              SHIDWORD(v588[15]),
              v588[16],
              SHIDWORD(v588[16]),
              v588[17],
              SHIDWORD(v588[17]),
              v588[18],
              SHIDWORD(v588[18]),
              v588[19],
              SHIDWORD(v588[19]),
              v588[20],
              SHIDWORD(v588[20]),
              v588[21],
              SHIDWORD(v588[21]),
              v588[22],
              SHIDWORD(v588[22]),
              v588[23],
              SHIDWORD(v588[23]),
              v588[24],
              SHIDWORD(v588[24]),
              v588[25],
              SHIDWORD(v588[25]),
              v588[26],
              SHIDWORD(v588[26]),
              v588[27],
              SHIDWORD(v588[27]),
              v588[28],
              SHIDWORD(v588[28]),
              v588[29],
              SHIDWORD(v588[29]),
              v588[30],
              SHIDWORD(v588[30]));
            sub_422F70((char **)this, &v679, v670[2049] + 9, 0);
            if ( v679 == 45 )
            {
LABEL_681:
              if ( !v680 )
              {
                v227 = &v670[1];
                v228 = &v676[67 * v670[2049] + 603];
                do
                {
                  v229 = *(_BYTE *)v227;
                  *(_BYTE *)v228 = *(_BYTE *)v227;
                  v227 = (int *)((char *)v227 + 1);
                  v228 = (int *)((char *)v228 + 1);
                }
                while ( v229 );
                v676[67 * v670[2049] + 668] = 1;
              }
            }
          }
        }
        goto LABEL_1361;
      case 67:
        switch ( v670[2049] )
        {
          case 0:
            v382 = &v670[1];
            *(_BYTE *)(this + 10456) = 0;
            do
            {
              v383 = *(_BYTE *)v382;
              *((_BYTE *)v382 + this - (_DWORD)&v670[1] + 10584) = *(_BYTE *)v382;
              v382 = (int *)((char *)v382 + 1);
            }
            while ( v383 );
            break;
          case 1:
            v384 = &v670[1];
            *(_BYTE *)(this + 10520) = 0;
            do
            {
              v385 = *(_BYTE *)v384;
              *((_BYTE *)v384 + this - (_DWORD)&v670[1] + 10648) = *(_BYTE *)v384;
              v384 = (int *)((char *)v384 + 1);
            }
            while ( v385 );
            break;
          case 2:
            v386 = &v670[1];
            do
            {
              v387 = *(_BYTE *)v386;
              *((_BYTE *)v386 + this - (_DWORD)&v670[1] + 10456) = *(_BYTE *)v386;
              v386 = (int *)((char *)v386 + 1);
            }
            while ( v387 );
            break;
          case 3:
            v388 = &v670[1];
            do
            {
              v389 = *(_BYTE *)v388;
              *((_BYTE *)v388 + this - (_DWORD)&v670[1] + 10520) = *(_BYTE *)v388;
              v388 = (int *)((char *)v388 + 1);
            }
            while ( v389 );
            break;
          case 4:
            v390 = &v670[1];
            do
            {
              v391 = *(_BYTE *)v390;
              *((_BYTE *)v390 + this - (_DWORD)&v670[1] + 10712) = *(_BYTE *)v390;
              v390 = (int *)((char *)v390 + 1);
            }
            while ( v391 );
            break;
          case 5:
            v392 = &v670[1];
            do
            {
              v393 = *(_BYTE *)v392;
              *((_BYTE *)v392 + this - (_DWORD)&v670[1] + 10776) = *(_BYTE *)v392;
              v392 = (int *)((char *)v392 + 1);
            }
            while ( v393 );
            break;
          case 6:
            v394 = &v670[1];
            do
            {
              v395 = *(_BYTE *)v394;
              *((_BYTE *)v394 + this - (_DWORD)&v670[1] + 10968) = *(_BYTE *)v394;
              v394 = (int *)((char *)v394 + 1);
            }
            while ( v395 );
            *(_DWORD *)(this + 23900) = *((_DWORD *)dword_4C0874 + 2);
            break;
          case 0xA:
            v396 = &v670[1];
            do
            {
              v397 = *(_BYTE *)v396;
              *((_BYTE *)v396 + this - (_DWORD)&v670[1] + 10840) = *(_BYTE *)v396;
              v396 = (int *)((char *)v396 + 1);
            }
            while ( v397 );
            break;
          case 0xB:
            v398 = &v670[1];
            do
            {
              v399 = *(_BYTE *)v398;
              *((_BYTE *)v398 + this - (_DWORD)&v670[1] + 10904) = *(_BYTE *)v398;
              v398 = (int *)((char *)v398 + 1);
            }
            while ( v399 );
            break;
          case 0xC:
            v400 = &v670[1];
            do
            {
              v401 = *(_BYTE *)v400;
              *((_BYTE *)v400 + this - (_DWORD)&v670[1] + 11032) = *(_BYTE *)v400;
              v400 = (int *)((char *)v400 + 1);
            }
            while ( v401 );
            break;
          case 0xD:
            v402 = &v670[1];
            do
            {
              v403 = *(_BYTE *)v402;
              *((_BYTE *)v402 + this - (_DWORD)&v670[1] + 11096) = *(_BYTE *)v402;
              v402 = (int *)((char *)v402 + 1);
            }
            while ( v403 );
            break;
          case 0xE:
            v404 = &v670[1];
            do
            {
              v405 = *(_BYTE *)v404;
              *((_BYTE *)v404 + this - (_DWORD)&v670[1] + 11160) = *(_BYTE *)v404;
              v404 = (int *)((char *)v404 + 1);
            }
            while ( v405 );
            break;
          case 0xF:
            v406 = &v670[1];
            do
            {
              v407 = *(_BYTE *)v406;
              *((_BYTE *)v406 + this - (_DWORD)&v670[1] + 11288) = *(_BYTE *)v406;
              v406 = (int *)((char *)v406 + 1);
            }
            while ( v407 );
            break;
          case 0x10:
            v408 = &v670[1];
            do
            {
              v409 = *(_BYTE *)v408;
              *((_BYTE *)v408 + this - (_DWORD)&v670[1] + 11352) = *(_BYTE *)v408;
              v408 = (int *)((char *)v408 + 1);
            }
            while ( v409 );
            sub_442EE0(dword_4C087C, 60000);
            break;
          default:
            goto LABEL_1361;
        }
        goto LABEL_1361;
      case 68:
        if ( LOBYTE(v670[1]) == 45 )
          sub_40E290(Buf);
        else
          sub_40E2C0((const char *)Buf, (char *)&v670[1], v670[2049]);
        goto LABEL_1361;
      case 69:
        if ( v670[2049] )
        {
          if ( v670[2049] != 1 )
            goto LABEL_1361;
          v589 = COERCE_FLOAT(&v670[1]);
          HIDWORD(v588[119]) = 1;
        }
        else
        {
          v589 = COERCE_FLOAT(&v670[1]);
          HIDWORD(v588[119]) = 0;
        }
        sub_412F60(*(char **)(this + 10348), SHIDWORD(v588[119]), (char *)LODWORD(v589));
        sub_412F50(*(_DWORD **)(this + 10348), 1);
        goto LABEL_1361;
      case 70:
        *((_DWORD *)Buf + 67462) = 0;
        v494 = v670[2049];
        if ( v670[2049] == 255 )
        {
          v668[8] = 0;
          sub_40E430(Buf);
          *((_DWORD *)Buf + 67462) = 1;
        }
        else if ( LOBYTE(v670[1]) == 45 )
        {
          sub_40E430(Buf);
        }
        else
        {
          if ( v670[2049] > 100 )
          {
            v494 = v670[2049] - 256;
            v670[2049] -= 256;
          }
          sub_40E460((const char *)Buf, (char *)&v670[1], 100 * v494);
        }
        goto LABEL_1361;
      case 71:
        if ( v612 != -1 && v619 != -1 && *(float *)&v602 != NAN )
          sub_40E5E0(Buf, v619, v602, (char *)&v670[1], v612);
        goto LABEL_1361;
      case 73:
        memset((void *)(this + 10456), 0, 0x400u);
        if ( LOBYTE(v670[1]) != 58 )
          goto LABEL_449;
        if ( BYTE1(v670[1]) == 110 )
          goto LABEL_463;
        if ( BYTE1(v670[1]) == 114 )
          goto LABEL_465;
LABEL_449:
        sub_425DB0(this);
        if ( LOWORD(v670[1]) != 11565 )
        {
          v141 = 0;
          do
          {
            v142 = *((_BYTE *)&v670[1] + v141);
            *(&v679 + v141++) = v142;
          }
          while ( v142 );
          v143 = *(float ***)(this + 24480);
          goto LABEL_477;
        }
        v135 = (char *)Buf + 732192;
        v136 = &v679;
        do
        {
          v137 = *v135;
          *v136++ = *v135++;
        }
        while ( v137 );
        if ( *((_BYTE *)Buf + 732192) )
        {
          sub_422E80((char **)this, (const char *)Buf + 732192, 1, 0);
          v138 = sub_41E830(1);
          i = v138;
          if ( v138 != -1 )
          {
            v139 = v138;
            v140 = *(int **)(this + 4 * v138 + 24480);
            v589 = NAN;
            qmemcpy(v588, (char *)Buf + 960 * v139 + 833896, sizeof(v588));
            v3 = (int)&v589;
            sub_447F40(
              *v140,
              v588[0],
              SHIDWORD(v588[0]),
              v588[1],
              SHIDWORD(v588[1]),
              v588[2],
              SHIDWORD(v588[2]),
              v588[3],
              SHIDWORD(v588[3]),
              v588[4],
              SHIDWORD(v588[4]),
              v588[5],
              SHIDWORD(v588[5]),
              v588[6],
              SHIDWORD(v588[6]),
              v588[7],
              SHIDWORD(v588[7]),
              v588[8],
              SHIDWORD(v588[8]),
              v588[9],
              SHIDWORD(v588[9]),
              v588[10],
              SHIDWORD(v588[10]),
              v588[11],
              SHIDWORD(v588[11]),
              v588[12],
              SHIDWORD(v588[12]),
              v588[13],
              SHIDWORD(v588[13]),
              v588[14],
              SHIDWORD(v588[14]),
              v588[15],
              SHIDWORD(v588[15]),
              v588[16],
              SHIDWORD(v588[16]),
              v588[17],
              SHIDWORD(v588[17]),
              v588[18],
              SHIDWORD(v588[18]),
              v588[19],
              SHIDWORD(v588[19]),
              v588[20],
              SHIDWORD(v588[20]),
              v588[21],
              SHIDWORD(v588[21]),
              v588[22],
              SHIDWORD(v588[22]),
              v588[23],
              SHIDWORD(v588[23]),
              v588[24],
              SHIDWORD(v588[24]),
              v588[25],
              SHIDWORD(v588[25]),
              v588[26],
              SHIDWORD(v588[26]),
              v588[27],
              SHIDWORD(v588[27]),
              v588[28],
              SHIDWORD(v588[28]),
              v588[29],
              SHIDWORD(v588[29]),
              v588[30],
              SHIDWORD(v588[30]));
            if ( *(_DWORD *)(this + 1592) )
              sub_4440C0(**(_DWORD **)(this + 4 * i + 24480), *(_DWORD *)(this + 1592));
          }
          v676[132] = 0;
        }
        goto LABEL_478;
      case 74:
        memset((void *)(this + 10456), 0, 0x400u);
        if ( LOBYTE(v670[1]) != 58 )
          goto LABEL_466;
        if ( BYTE1(v670[1]) == 110 )
        {
LABEL_463:
          *((_DWORD *)Buf + 66512) = 1;
          *(_DWORD *)(this + 23908) = 1;
        }
        else if ( BYTE1(v670[1]) == 114 )
        {
LABEL_465:
          *((_DWORD *)Buf + 66512) = 0;
          *(_DWORD *)(this + 23908) = 0;
        }
        else
        {
LABEL_466:
          sub_425DB0(this);
          if ( LOWORD(v670[1]) == 11565 )
          {
            v144 = (char *)Buf + 732288;
            v145 = &v679;
            do
            {
              v146 = *v144;
              *v145++ = *v144++;
            }
            while ( v146 );
            if ( *((_BYTE *)Buf + 732288) )
            {
              sub_422E80((char **)this, (const char *)Buf + 732288, 1, 0);
              v147 = sub_41E830(3);
              i = v147;
              if ( v147 != -1 )
              {
                v148 = v147;
                v149 = *(int **)(this + 4 * v147 + 24480);
                v589 = NAN;
                qmemcpy(v588, (char *)Buf + 960 * v148 + 833896, sizeof(v588));
                v3 = (int)&v589;
                sub_447F40(
                  *v149,
                  v588[0],
                  SHIDWORD(v588[0]),
                  v588[1],
                  SHIDWORD(v588[1]),
                  v588[2],
                  SHIDWORD(v588[2]),
                  v588[3],
                  SHIDWORD(v588[3]),
                  v588[4],
                  SHIDWORD(v588[4]),
                  v588[5],
                  SHIDWORD(v588[5]),
                  v588[6],
                  SHIDWORD(v588[6]),
                  v588[7],
                  SHIDWORD(v588[7]),
                  v588[8],
                  SHIDWORD(v588[8]),
                  v588[9],
                  SHIDWORD(v588[9]),
                  v588[10],
                  SHIDWORD(v588[10]),
                  v588[11],
                  SHIDWORD(v588[11]),
                  v588[12],
                  SHIDWORD(v588[12]),
                  v588[13],
                  SHIDWORD(v588[13]),
                  v588[14],
                  SHIDWORD(v588[14]),
                  v588[15],
                  SHIDWORD(v588[15]),
                  v588[16],
                  SHIDWORD(v588[16]),
                  v588[17],
                  SHIDWORD(v588[17]),
                  v588[18],
                  SHIDWORD(v588[18]),
                  v588[19],
                  SHIDWORD(v588[19]),
                  v588[20],
                  SHIDWORD(v588[20]),
                  v588[21],
                  SHIDWORD(v588[21]),
                  v588[22],
                  SHIDWORD(v588[22]),
                  v588[23],
                  SHIDWORD(v588[23]),
                  v588[24],
                  SHIDWORD(v588[24]),
                  v588[25],
                  SHIDWORD(v588[25]),
                  v588[26],
                  SHIDWORD(v588[26]),
                  v588[27],
                  SHIDWORD(v588[27]),
                  v588[28],
                  SHIDWORD(v588[28]),
                  v588[29],
                  SHIDWORD(v588[29]),
                  v588[30],
                  SHIDWORD(v588[30]));
                if ( *(_DWORD *)(this + 1600) )
                  sub_4440C0(**(_DWORD **)(this + 4 * i + 24480), *(_DWORD *)(this + 1600));
              }
              v676[266] = 0;
            }
          }
          else
          {
            v150 = 0;
            do
            {
              v151 = *((_BYTE *)&v670[1] + v150);
              *(&v679 + v150++) = v151;
            }
            while ( v151 );
            v143 = *(float ***)(this + 24488);
LABEL_477:
            sub_444300(*v143);
          }
LABEL_478:
          if ( !*((_DWORD *)Buf + 66512) )
            *((_DWORD *)Buf + 66513) = 0;
          sub_40EAF0((int *)Buf, &v679);
        }
        goto LABEL_1361;
      case 76:
        sub_4224C0((_DWORD *)this, (void *)2);
        v360 = 0;
        do
        {
          v361 = *((_BYTE *)&v670[1] + v360);
          v673[v360++ + 2208] = v361;
        }
        while ( v361 );
        *(_DWORD *)&v673[2468] = 0;
        *(_DWORD *)&v673[2472] = 1;
        v362 = &v670[1];
        v363 = (char *)Buf + 265392;
        do
        {
          v364 = *(_BYTE *)v362;
          *v363 = *(_BYTE *)v362;
          v362 = (int *)((char *)v362 + 1);
          ++v363;
        }
        while ( v364 );
        goto LABEL_1361;
      case 77:
        sub_4224C0((_DWORD *)this, (void *)2);
        v370 = 0;
        do
        {
          v371 = *((_BYTE *)&v670[1] + v370);
          v673[v370++ + 2208] = v371;
        }
        while ( v371 );
        *(_DWORD *)&v673[2468] = 0;
        *(_DWORD *)&v673[2472] = 1;
        v372 = &v670[1];
        v373 = (char *)Buf + 265392;
        do
        {
          v374 = *(_BYTE *)v372;
          *v373 = *(_BYTE *)v372;
          v372 = (int *)((char *)v372 + 1);
          ++v373;
        }
        while ( v374 );
        goto LABEL_1361;
      case 78:
        sub_4224C0((_DWORD *)this, (void *)2);
        v365 = 0;
        do
        {
          v366 = *((_BYTE *)&v670[1] + v365);
          v673[v365++ + 2484] = v366;
        }
        while ( v366 );
        *(_DWORD *)&v673[2744] = 0;
        *(_DWORD *)&v673[2748] = 1;
        v367 = &v670[1];
        v368 = (char *)Buf + 265392;
        do
        {
          v369 = *(_BYTE *)v367;
          *v368 = *(_BYTE *)v367;
          v367 = (int *)((char *)v367 + 1);
          ++v368;
        }
        while ( v369 );
        goto LABEL_1361;
      case 79:
        *((_BYTE *)Buf + 265392) = 0;
        memset((char *)Buf + 21984, 0, 0x80u);
        memset((void *)(this + 11492), 0, 0x800u);
        memset((void *)(this + 13540), 0, 0x800u);
        sub_40EB10((int *)Buf, (char *)Buf + 19336);
        if ( sub_40CBC0((int *)Buf, (char *)Buf + 19336) != -1 )
        {
          sub_402A10();
          *((_DWORD *)Buf + 27965) = *((_DWORD *)Buf + 27964);
          *((_DWORD *)Buf + 27967) = *((_DWORD *)Buf + 27966);
        }
        v415 = 0;
        for ( j = 0; j < 2448; j += 48 )
        {
          if ( v415 < 37 || v415 > 44 )
            *((_BYTE *)Buf + j + 19496) = 0;
          ++v415;
        }
        nullsub_1(Buf);
        v589 = 0.0;
        goto LABEL_1076;
      case 80:
        sub_40EB10((int *)Buf, (char *)Buf + 19336);
        sub_402A10();
        v417 = 0;
        for ( k = 0; k < 2448; k += 48 )
        {
          if ( v417 < 37 || v417 > 44 )
            *((_BYTE *)Buf + k + 19496) = 0;
          ++v417;
        }
        nullsub_1(Buf);
        LODWORD(v589) = 1;
LABEL_1076:
        sub_4260E0(this, (int)&v670[1], SLODWORD(v589));
        sub_4094F0((char *)&v670[1], (int)FileName);
        if ( *(_BYTE *)(this + 11224) )
        {
          sub_41FC90((const char **)this, (const char *)(this + 11224));
          *(_BYTE *)(this + 11224) = 0;
        }
        memset((void *)(this + 10456), 0, 0x400u);
        goto LABEL_1361;
      case 81:
        v413 = &v670[1];
        do
        {
          v414 = *(_BYTE *)v413;
          *((_BYTE *)v413 + this - (_DWORD)&v670[1] + 11224) = *(_BYTE *)v413;
          v413 = (int *)((char *)v413 + 1);
        }
        while ( v414 );
        goto LABEL_1361;
      case 82:
        if ( a2 == 0.0 && !a3 )
        {
          v3 = 0;
          sub_425F50(this, 0);
          sub_4224C0((_DWORD *)this, 0);
          sub_4224C0((_DWORD *)this, (void *)1);
          sub_4224C0((_DWORD *)this, (void *)2);
          if ( !*((_DWORD *)Buf + 35) )
          {
            *((_DWORD *)dword_4C0874 + 74) = 1;
            v376 = *((_DWORD *)dword_4C0874 + 6);
            v589 = COERCE_FLOAT(".mpg");
            HIDWORD(v588[119]) = &v670[1];
            *((_DWORD *)dword_4C0874 + 6) = 0;
            LODWORD(v588[119]) = "MOVIE";
            HIDWORD(v588[118]) = FileName;
            *((_DWORD *)dword_4C0874 + 75) = 1;
            sub_406D20((char *)HIDWORD(v588[118]), v588[119], SHIDWORD(v588[119]), (char *)LODWORD(v589));
            sub_453860(FileName, hWnd);
            *((_DWORD *)dword_4C0874 + 75) = -1;
            *((_DWORD *)dword_4C0874 + 6) = v376;
            *((_DWORD *)dword_4C0874 + 74) = 0;
          }
        }
        goto LABEL_1361;
      case 84:
        sub_41FC90((const char **)this, (const char *)&v670[1]);
        goto LABEL_1361;
      case 85:
        sub_412D70(v594, (char *)&v670[1], 0);
        goto LABEL_1361;
      case 86:
        sub_412D70(v594, (char *)&v670[1], 1);
        goto LABEL_1361;
      case 88:
        sub_4359F0(*(char **)(this + 10364), (char *)&v670[1]);
        goto LABEL_1361;
      case 89:
        v410 = *(_DWORD *)(this + 15604);
        if ( *((_DWORD *)Buf + v410 + 4410) )
        {
          sub_41FC90((const char **)this, (const char *)(this + 10584));
        }
        else if ( sub_418960((int *)dword_4C08E4, *(_DWORD *)(this + 10416), v410, -1) )
        {
          v411 = *(_DWORD *)(this + 15596);
          v589 = *(float *)(this + 15600);
          HIDWORD(v588[119]) = v411;
LABEL_1046:
          sub_412DB0((float *)dword_4C08E4, SHIDWORD(v588[119]), SLODWORD(v589));
          sub_417970((int)dword_4C08E4, 1);
          *(_DWORD *)(this + 15588) = 1;
          *(_DWORD *)(this + 15600) = 0;
          v603 = 89;
          v600 = 1;
          *(_DWORD *)(this + 15596) = 0;
        }
        goto LABEL_1361;
      case 90:
        if ( sub_418960((int *)dword_4C08E8, *(_DWORD *)(this + 10448), 19, *(_DWORD *)(this + 15604)) )
        {
          sub_412DB0((float *)dword_4C08E8, *(_DWORD *)(this + 15596), *(_DWORD *)(this + 15600));
          sub_417970((int)dword_4C08E8, 0);
          *(_DWORD *)(this + 15588) = 2;
          *(_DWORD *)(this + 15600) = 0;
          v603 = 90;
          v600 = 1;
          *(_DWORD *)(this + 15596) = 0;
        }
        goto LABEL_1361;
      case 91:
        if ( !sub_418960((int *)dword_4C08E4, *(_DWORD *)(this + 10452), *(_DWORD *)(this + 15604), -1) )
          goto LABEL_1361;
        v412 = *(_DWORD *)(this + 15596);
        v589 = *(float *)(this + 15600);
        HIDWORD(v588[119]) = v412;
        goto LABEL_1046;
      case 92:
        v77 = (char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        v78 = &v670[257];
        do
        {
          v79 = *v77;
          *(_BYTE *)v78 = *v77++;
          v78 = (int *)((char *)v78 + 1);
        }
        while ( v79 );
        sub_4076B0(&v670[257]);
        sub_414BD0(*(_DWORD *)(this + 10360), (char *)&v670[1], (char *)&v670[257], *(_DWORD *)(this + 15608));
        ++*(_DWORD *)(this + 15608);
        v68 = (char *)&v670[257] + 1;
        v69 = (char *)&v670[257] + strlen((const char *)&v670[257]) + 1;
        goto LABEL_1090;
      case 94:
      case 106:
        strcpy((char *)(this + 11492), "@s");
        v423 = strlen((const char *)&v670[1]) + 1;
        v424 = (char *)(this + 11491);
        while ( *++v424 )
          ;
        qmemcpy(v424, &v670[1], 4 * (v423 >> 2));
        v426 = &v424[4 * (v423 >> 2)];
        v427 = v423 & 3;
        qmemcpy(v426, &v670[(v423 >> 2) + 1], v427);
        v3 = (int)&v426[v427];
        sub_41FD70((_DWORD *)this, (char *)(this + 11492));
        goto LABEL_1361;
      case 95:
        v80 = (const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        v68 = (char *)(v80 + 1);
        v69 = &v80[strlen(v80) + 1];
        goto LABEL_1090;
      case 97:
        v380 = &v670[1];
        do
        {
          v381 = *(_BYTE *)v380;
          *((_BYTE *)v380 + this - (_DWORD)&v670[1] + 11416) = *(_BYTE *)v380;
          v380 = (int *)((char *)v380 + 1);
        }
        while ( v381 );
        goto LABEL_1361;
      case 99:
        v3 = (int)Buf + 265848;
        if ( (_BYTE *)Buf
           + strlen((const char *)Buf + 265848)
           + 265849
           - ((_BYTE *)Buf
            + 265849)
           + strlen((const char *)&v670[1]) < 0x80 )
        {
          v34 = strlen((const char *)&v670[1]) + 1;
          v35 = (char *)Buf + 265847;
          while ( *++v35 )
            ;
          qmemcpy(v35, &v670[1], 4 * (v34 >> 2));
          v37 = &v35[4 * (v34 >> 2)];
          v38 = v34 & 3;
          qmemcpy(v37, &v670[(v34 >> 2) + 1], v38);
          v3 = (int)&v37[v38];
        }
        goto LABEL_1361;
      case 100:
        if ( LOWORD(v670[1]) == 45 )
        {
          v230 = 0;
          do
          {
            v231 = *((_BYTE *)&v670[1] + v230);
            *((_BYTE *)&v676[2077] + v230++) = v231;
          }
          while ( v231 );
          v676[2142] = 1;
          v232 = 0;
          do
          {
            v233 = *((_BYTE *)&v670[1] + v232);
            *((_BYTE *)&v676[2144] + v232++) = v233;
          }
          while ( v233 );
          v676[2209] = 1;
        }
        goto LABEL_1361;
      case 101:
        if ( LOBYTE(v670[1]) )
          sub_40E100((const char *)Buf, (char *)&v670[1]);
        else
          sub_40E250(Buf);
        goto LABEL_1361;
      case 103:
        _strupr((char *)&v670[1]);
        v503 = &v670[1];
        v504 = (char *)Buf + 266332;
        do
        {
          v505 = *(_BYTE *)v503;
          *v504 = *(_BYTE *)v503;
          v503 = (int *)((char *)v503 + 1);
          ++v504;
        }
        while ( v505 );
        goto LABEL_1361;
      case 104:
        if ( LOBYTE(v670[1]) == 45 )
          sub_44D260((HCURSOR *)dword_4C0878);
        else
          sub_44D1C0((HCURSOR *)dword_4C0878, (const char *)&v670[1]);
        goto LABEL_1361;
      case 107:
        if ( a2 == 0.0
          || (sub_424330((_DWORD *)this, (int)v676, v673, (char *)&v670[1]),
              v428 = sub_40CBC0((int *)Buf, (char *)Buf + 19336),
              *((_DWORD *)Buf + 27962) >= **(_DWORD **)(this + 10344) - sub_402B40(v428)) )
        {
          v429 = Buf;
          if ( *((_DWORD *)Buf + 4) && !v673[2208] )
          {
            sub_43C4F0(dword_4C08F4, 0, *((_DWORD *)Buf + 15));
            v429 = Buf;
          }
          v429[265552] = 0;
          v430 = sub_40E350((int *)Buf, (unsigned __int8 *)Buf + 265392);
          i = v430;
          if ( v430 == -1 )
          {
            strcpy((char *)(this + 12516), (const char *)&v670[1]);
          }
          else
          {
            sprintf((char *const)(this + 12516), "@c%d", v430);
            v431 = strlen((const char *)&v670[1]) + 1;
            v432 = (char *)(this + 12515);
            while ( *++v432 )
              ;
            qmemcpy(v432, &v670[1], 4 * (v431 >> 2));
            v434 = &v432[4 * (v431 >> 2)];
            v435 = v431 & 3;
            qmemcpy(v434, &v670[(v431 >> 2) + 1], v435);
            v3 = (int)&v434[v435];
          }
          sub_41FD70((_DWORD *)this, (char *)(this + 12516));
          v436 = (char *)(this + 12516);
          v437 = (char *)Buf + 266072;
          do
          {
            v438 = *v436;
            *v437++ = *v436++;
          }
          while ( v438 );
          if ( v622 )
            memset((void *)(this + 23940), 0, 0x210u);
          v439 = *(_DWORD *)(this + 24472);
          v629 = 1;
          v624 = v439;
          v440 = (char *)(this + 11492);
          v441 = (char *)Buf + 265812;
          do
          {
            v442 = *v440;
            *v441++ = *v440++;
          }
          while ( v442 );
          v443 = (char *)(this + 12516);
          v444 = (char *)Buf + 265552;
          do
          {
            v445 = *v443;
            *v444++ = *v443++;
          }
          while ( v445 );
          if ( strstr((const char *)Buf + 265552, word_48B810) )
            *strstr((const char *)Buf + 265552, word_48B810) = 0;
        }
        goto LABEL_1361;
      case 109:
        sub_4581D0(*(_DWORD **)(this + 25120), &v670[1]);
        goto LABEL_1361;
      case 111:
        v335 = sub_40C9D0(Buf, v670[2049], 0);
        v336 = &v679;
        do
        {
          v337 = *v335;
          *v336++ = *v335++;
        }
        while ( v337 );
        v338 = 0;
        do
        {
          v339 = *(&v679 + v338);
          v673[v338++] = v339;
        }
        while ( v339 );
        *(_DWORD *)&v673[260] = v670[2050] == 0;
        *(_DWORD *)&v673[264] = 1;
        *(_DWORD *)&v673[268] = 1;
        if ( v670[2049] != 255 )
        {
          v340 = &v679;
          v341 = (char *)Buf + 21944;
          do
          {
            v342 = *v340;
            *v341++ = *v340++;
          }
          while ( v342 );
        }
        *((_DWORD *)Buf + 5494) = v670[2049];
        goto LABEL_1361;
      case 112:
        v343 = *((_DWORD *)Buf + 66514);
        v3 = 0;
        i = 0;
        if ( v343 )
        {
          sub_43C4F0(dword_4C08F4, 0, v343);
          *((_DWORD *)Buf + 15) = *((_DWORD *)Buf + 66514);
          *((_DWORD *)Buf + 66514) = 0;
        }
        v344 = sub_40C9D0(Buf, v670[2049], 0);
        v345 = &v679;
        do
        {
          v346 = *v344;
          *v345++ = *v344++;
        }
        while ( v346 );
        if ( v670[2049] == 255 )
        {
          sub_4224C0((_DWORD *)this, 0);
          memset(v673, 0, 0x114u);
          *((_BYTE *)Buf + 21944) = 0;
          *((_DWORD *)Buf + 5494) = 0;
          goto LABEL_932;
        }
        if ( v670[2050] < 2 )
        {
          if ( v670[2050] == 1 )
          {
            if ( *((_DWORD *)Buf + 5494) == v670[2049] )
              goto LABEL_932;
            v349 = 0;
            do
            {
              v350 = *(&v679 + v349);
              v673[v349++] = v350;
            }
            while ( v350 );
          }
          else
          {
            v351 = 0;
            do
            {
              v352 = *(&v679 + v351);
              v673[v351++] = v352;
            }
            while ( v352 );
          }
          *(_DWORD *)&v673[260] = 1;
        }
        else
        {
          v347 = 0;
          do
          {
            v348 = *(&v679 + v347);
            v673[v347++] = v348;
          }
          while ( v348 );
          *(_DWORD *)&v673[260] = 0;
        }
        *(_DWORD *)&v673[264] = 1;
LABEL_932:
        if ( v670[2049] != 255 )
        {
          v353 = &v679;
          v354 = (char *)Buf + 21944;
          do
          {
            v355 = *v353;
            *v354++ = *v353++;
          }
          while ( v355 );
        }
        *((_DWORD *)Buf + 5494) = v670[2049];
        if ( a2 == 0.0 )
          sub_421A00(this, *((_DWORD *)Buf + 5494) + 100);
        goto LABEL_1361;
      case 113:
        if ( v670[2049] == -2 )
        {
          memset(&v673[2208], 0, 0x450u);
          sub_4224C0((_DWORD *)this, (void *)2);
          *((_BYTE *)Buf + 265392) = 0;
          goto LABEL_1361;
        }
        if ( v670[2049] == -1 )
        {
          memset(&v673[552], 0, 0x450u);
          if ( a2 != 0.0 || *(_DWORD *)(this + 25104) || a3 )
            sub_4224C0((_DWORD *)this, (void *)1);
          else
            sub_422470((_DWORD *)this, (void *)1);
        }
        else
        {
          v39 = 2;
          v40 = &v673[816];
          while ( *(_DWORD *)v40 )
          {
            ++v39;
            v40 += 276;
            if ( v39 > 5 )
              goto LABEL_1361;
          }
          if ( a2 == 0.0 )
          {
            v45 = sub_40CA20(Buf, v670[2049]);
            v46 = 276 * v39;
            v47 = &v673[v46];
            do
            {
              v48 = *v45;
              *v47++ = *v45++;
            }
            while ( v48 );
            *(_DWORD *)&v673[v46 + 260] = v670[2050];
            *(_DWORD *)&v673[v46 + 264] = 1;
          }
          else if ( v670[2049] )
          {
            v41 = sub_40CA20(Buf, v670[2049]);
            v42 = 276 * v39;
            v43 = &v673[v42];
            do
            {
              v44 = *v41;
              *v43++ = *v41++;
            }
            while ( v44 );
            *(_DWORD *)&v673[v42 + 260] = v670[2050];
            *(_DWORD *)&v673[v42 + 264] = 1;
          }
        }
        goto LABEL_1361;
      case 114:
        v70 = *(void **)(this + 10340);
        LODWORD(v589) = *((_DWORD *)Buf + 5533) + 1;
        v623 = 0;
        v71 = (char *)sub_4381E0(v70, SLODWORD(v589));
        v72 = &v670[1];
        do
        {
          v73 = *v71;
          *(_BYTE *)v72 = *v71++;
          v72 = (int *)((char *)v72 + 1);
        }
        while ( v73 );
        *((_DWORD *)Buf + 5533) += strlen((const char *)&v670[1]) + 2;
        sub_417BA0((int *)v594, v670[2049], v670[2050], v670[2051], v670[2052], (char *)&v670[1]);
        goto LABEL_1361;
      case 115:
        switch ( v670[2056] )
        {
          case 5:
            sub_412CE0((int)v594, v670[2049], v670[2050], v670[2051], v670[2053] + 1000 * v670[2052]);
            goto LABEL_1361;
          case 6:
            v589 = 0.0;
LABEL_187:
            sub_4198A0(
              v594,
              v670[2049],
              v670[2050],
              *(_DWORD *)(this + 4 * v670[2055] + 1588),
              v670[2051],
              v670[2052],
              v670[2051] + v670[2053],
              v670[2052] + v670[2054],
              SLODWORD(v589));
            goto LABEL_1361;
          case 8:
            LODWORD(v589) = 1;
            goto LABEL_187;
          case 10:
            LODWORD(v589) = 2;
            goto LABEL_187;
          case 11:
            sub_419860(
              v594,
              v670[2049],
              v670[2050],
              *(_DWORD *)(this + 4 * v670[2055] + 1588),
              v670[2051],
              v670[2052],
              v670[2051] + v670[2053],
              v670[2052] + v670[2054],
              3,
              0);
            break;
          case 12:
            sub_414360((int *)v594, v670[2049], v670[2050], v670[2051]);
            break;
          default:
            sub_418390(
              v594,
              v670[2049],
              v670[2050],
              *(_DWORD *)(this + 4 * v670[2055] + 1588),
              v670[2051],
              v670[2052],
              v670[2051] + v670[2053],
              v670[2052] + v670[2054],
              v670[2056],
              -1,
              v623);
            break;
        }
        goto LABEL_1361;
      case 116:
        if ( v670[2056] == -1 )
          sub_435BA0(
            *(_DWORD *)(this + 10364),
            v670[2049],
            v670[2050],
            *(_DWORD *)(this + 4 * v670[2055] + 1588),
            v670[2051],
            v670[2052],
            v670[2051] + v670[2053],
            v670[2052] + v670[2054]);
        else
          sub_437AE0(
            *(int **)(this + 10364),
            v670[2049],
            v670[2050],
            *(_DWORD *)(this + 4 * v670[2055] + 1588),
            v670[2051],
            v670[2052],
            v670[2051] + v670[2053],
            v670[2052] + v670[2054],
            v670[2056]);
        goto LABEL_1361;
      case 117:
        sub_435A10(
          *(_DWORD *)(this + 10364),
          v670[2049],
          v670[2050],
          *(_DWORD *)(this + 4 * v670[2055] + 1588),
          v670[2051],
          v670[2052],
          v670[2051] + v670[2053],
          v670[2052] + v670[2054],
          v670[2056]);
        goto LABEL_1361;
      case 118:
        v74 = ++*((_DWORD *)Buf + 5533);
        v75 = *(void **)(this + 10340);
        v589 = 0.0;
        HIDWORD(v588[119]) = v670[2052];
        v76 = (char *)sub_4381E0(v75, v74);
        sub_4198F0((int *)v594, v670[2049], v670[2050], v670[2051], v76, SHIDWORD(v588[119]), SLODWORD(v589));
        *((_DWORD *)Buf + 5533) += strlen((const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)))
                                 + 1;
        goto LABEL_1361;
      case 120:
        sub_412E00((int)v594, *(__int64 *)&v670[2049], *(__int64 *)&v670[2051], 20, 0);
        goto LABEL_1361;
      case 121:
        *(_QWORD *)(this + 15596) = *(_QWORD *)&v670[2049];
        *(_DWORD *)(this + 15604) = v670[2052];
        goto LABEL_1361;
      case 122:
        v163 = (int *)v594;
        sub_412BA0(v594, &v605, &v604);
        LODWORD(v589) = SLOBYTE(v670[2055]) < 0;
        HIDWORD(v588[119]) = v670[2052] + v670[2054];
        v3 = v670[2051] + v670[2053];
        sub_417D20(
          v163,
          v670[2049] + v605,
          v670[2050] + v604,
          *(_DWORD *)(this + 4 * (v670[2055] & 0x3F) + 1588),
          v670[2051],
          v670[2052],
          v670[2051] + v670[2053],
          v670[2052] + v670[2054],
          SLODWORD(v589));
        goto LABEL_1361;
      case 123:
        if ( v670[2050] <= 1536 )
        {
          if ( v670[2050] == 768 )
          {
            sub_419360((int *)v594, v670[2051], v670[2052], 30);
          }
          else if ( v670[2050] <= 256 )
          {
            if ( *(_DWORD *)(this + 1564) == 135 )
            {
              v164 = (int *)v594;
              v589 = *((float *)Buf + 1);
              v165 = (_DWORD *)sub_414740(v594);
              sub_43D450(v165, SLODWORD(v589));
              LODWORD(v589) = 1;
              v166 = (_DWORD *)sub_414740(v164);
              sub_441270(v166, SLODWORD(v589));
              v167 = (_DWORD *)sub_414740(v164);
              v168 = sub_43D4A0(v167);
              v3 = (23 - sub_40CCD0(Buf, 99, 29)) * v168;
              LODWORD(v589) = 5 * v3;
              v169 = (_DWORD *)sub_414740(v164);
              sub_43D440(v169, SLODWORD(v589));
            }
            else
            {
              sub_419640((int *)v594, v670[2049], v670[2050], v670[2051], v670[2052]);
            }
          }
        }
        goto LABEL_1361;
      case 124:
        if ( !v670[2052] )
          sub_412F20(v594, v670[2049], v670[2050], v670[2051]);
        goto LABEL_1361;
      case 125:
        sub_437750(
          *(int **)(this + 10364),
          v670[2049],
          v670[2050],
          v670[2051],
          v670[2052],
          v670[2053],
          v670[2054],
          v670[2055],
          v670[2056]);
        goto LABEL_1361;
      case 126:
        sub_4379B0(*(int **)(this + 10364), v670[2049], v670[2050], v670[2051], v670[2052]);
        goto LABEL_1361;
      case 127:
        sub_437A00(
          *(int **)(this + 10364),
          v670[2049],
          *(_DWORD *)(this + 4 * v670[2055] + 1588),
          v670[2051],
          v670[2052],
          v670[2053],
          v670[2054],
          0);
        goto LABEL_1361;
      case 128:
        if ( v670[2052] == 99 )
        {
          v626 = v670[2049];
        }
        else
        {
          v92 = ++*((_DWORD *)Buf + 5533);
          v589 = *(float *)&v670[2052];
          v93 = (char *)sub_4381E0(*(void **)(this + 10340), v92);
          sub_435AB0(*(_DWORD **)(this + 10364), v670[2049], v670[2050], v670[2051], v626, v93, SLODWORD(v589));
          *((_DWORD *)Buf + 5533) += strlen((const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)))
                                   + 1;
        }
        goto LABEL_1361;
      case 129:
        sub_435B50(*(_DWORD **)(this + 10364), v670[2049], v670[2050]);
        goto LABEL_1361;
      case 130:
        switch ( v670[2052] )
        {
          case 0:
            v589 = *(float *)&v670[2051];
            v588[119] = *(_QWORD *)&v670[2049];
            goto LABEL_1359;
          case 1:
            sub_40EB30((int *)Buf, (unsigned __int8 *)v670[2049], v670[2050], v670[2051]);
            break;
          case 2:
            sub_40EB60((int *)Buf, (unsigned __int8 *)v670[2049], v670[2050], v670[2051]);
            break;
        }
        goto LABEL_1361;
      case 131:
        sub_40EB90((int *)Buf, (unsigned __int8 *)v670[2049], v670[2050], v670[2051], v670[2052]);
        goto LABEL_1361;
      case 132:
        for ( *(_QWORD *)&v670[2051] = (unsigned int)*(char *)sub_4381E0(
                                                                *(void **)(this + 10340),
                                                                *((_DWORD *)Buf + 5533));
              v670[2051] != 2;
              v670[2051] = *(char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533)) )
        {
          v125 = (unsigned __int8 *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
          v670[2053] = sub_438400(v125);
          v126 = (unsigned __int8 *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 3);
          v670[2054] = sub_438400(v126);
          *((_DWORD *)Buf + 5533) += 9;
          v127 = sub_40CCD0(Buf, v670[2053], v670[2054]);
          v670[2052] += v127;
        }
        v589 = *(float *)&v670[2052];
        goto LABEL_418;
      case 133:
        v128 = sub_40CCD0(Buf, v670[2051], v670[2052]);
        LODWORD(v589) = sub_40CCD0(Buf, v670[2049], v670[2050]) + v128;
LABEL_418:
        v588[119] = *(_QWORD *)&v670[2049];
        goto LABEL_1359;
      case 134:
        v129 = sub_40CCD0(Buf, v670[2049], v670[2050]);
        v130 = v670[2052];
        v131 = v129;
        v132 = v670[2051];
        v670[2049] = v131;
        if ( SLOBYTE(v670[2052]) < 0 )
        {
          v670[2052] = v670[2052] & 0x7F;
          v132 = sub_40CCD0(Buf, v670[2051] >> 8, LOBYTE(v670[2051]));
          v130 = v670[2052];
          v131 = v670[2049];
          v670[2051] = v132;
        }
        switch ( v130 )
        {
          case 0:
            v670[2049] = v131 == v132;
            break;
          case 1:
            v133 = v131 != v132;
LABEL_440:
            v670[2049] = v133;
            break;
          case 2:
            v670[2049] = v131 > v132;
            break;
          case 3:
            v133 = v131 < v132;
            goto LABEL_440;
          case 4:
            v670[2049] = v131 >= v132;
            break;
          case 5:
            v133 = v131 <= v132;
            goto LABEL_440;
        }
        v670[2052] = *(char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
        *((_DWORD *)Buf + 5533) += 3;
        if ( !v670[2049] )
        {
          v134 = v670[2052];
LABEL_445:
          *((_DWORD *)Buf + 5533) = sub_4385A0(
                                      *(const char **)(this + 10340),
                                      (int)&v670[1],
                                      *((_DWORD *)Buf + 5533),
                                      v134);
        }
        goto LABEL_1361;
      case 135:
        if ( v670[2051] )
        {
          v170 = (char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
          v171 = &v670[1];
          do
          {
            v172 = *v170;
            *(_BYTE *)v171 = *v170++;
            v171 = (int *)((char *)v171 + 1);
          }
          while ( v172 );
          sub_4076B0(&v670[1]);
          sub_417F20(v594, v670[2049], v670[2050], v670[2052], v670[2051], (char *)&v670[1]);
          v173 = (const char *)sub_4381E0(*(void **)(this + 10340), *((_DWORD *)Buf + 5533) + 1);
          v68 = (char *)(v173 + 1);
          v69 = &v173[strlen(v173) + 1];
LABEL_1090:
          *((_DWORD *)Buf + 5533) += v69 - v68 + 2;
        }
        goto LABEL_1361;
      case 136:
        sub_412BC0(v594, v670[2049], v670[2050]);
        goto LABEL_1361;
      case 137:
        if ( v670[2051] )
        {
          if ( v670[2051] == 1 )
          {
            sub_401040(**(float ***)(this + 24480), v670[2049], v670[2050]);
            sub_444300(**(float ***)(this + 24480));
            goto LABEL_1361;
          }
          if ( v670[2051] == 99 )
          {
            if ( a2 != 0.0 )
              goto LABEL_541;
            sub_44A730(**(_DWORD ***)(this + 24480));
            v589 = NAN;
            v588[119] = (unsigned int)(12 * v670[2052]);
            v175 = **(_DWORD **)(this + 24480);
            v588[118] = *(_QWORD *)&v670[2049];
          }
          else
          {
            if ( a2 != 0.0 )
            {
LABEL_541:
              sub_401040(**(float ***)(this + 24480), v670[2049], v670[2050]);
              sub_444300(**(float ***)(this + 24480));
              v603 = 137;
              v600 = 1;
              goto LABEL_1361;
            }
            sub_44A730(**(_DWORD ***)(this + 24480));
            v589 = NAN;
            v588[119] = (unsigned int)(15 * (v670[2052] + 4));
            v175 = **(_DWORD **)(this + 24480);
            v588[118] = *(_QWORD *)&v670[2049];
          }
        }
        else
        {
          if ( a2 != 0.0 )
            goto LABEL_541;
          sub_44A730(**(_DWORD ***)(this + 24480));
          v174 = *(int **)(this + 24480);
          v589 = NAN;
          v588[119] = 120i64;
          v588[118] = *(_QWORD *)&v670[2049];
          v175 = *v174;
        }
        sub_4474C0(v175, v588[118], SHIDWORD(v588[118]), v588[119], *((float *)&v588[119] + 1), SLODWORD(v589));
        v603 = 137;
        v600 = 1;
        goto LABEL_1361;
      case 139:
        if ( v670[2052] )
        {
          if ( v670[2052] == 255 )
            goto LABEL_1361;
          if ( SLOBYTE(v670[2052]) >= 0 )
          {
            if ( (v670[2052] & 0x40) != 0 )
            {
              if ( a2 != 0.0 || sub_421E40((_DWORD *)this) )
                goto LABEL_837;
              v293 = 10 * ((v292 & 0xF) + 1);
              v294 = **(_DWORD ***)(this + 40 * ((v292 & 0xF) + 1) + 24480);
              i = v293;
              sub_44A6E0(v294);
              switch ( v670[2049] )
              {
                case 0:
                  sub_444470(**(float ***)(this + 4 * v293 + 24480), 0.0);
                  HIDWORD(v588[118]) = v295;
                  sub_4477E0(**(_DWORD **)(this + 4 * v293 + 24480), 1.0, 12, 0, -1);
                  break;
                case 1:
                  sub_444470(**(float ***)(this + 4 * v293 + 24480), 0.0);
                  v296 = *(int **)(this + 4 * v293 + 24480);
                  HIDWORD(v588[118]) = v297;
                  sub_4477E0(*v296, 1.0, 12, 0, -1);
                  sub_4442C0(**(float ***)(this + 4 * v293 + 24480), &v617, &v616);
                  v298 = **(float ***)(this + 4 * v293 + 24480);
                  *(float *)&String1 = v617 - 20.0;
                  sub_444260(v298, *(float *)&String1, v616);
                  sub_41DE40(**(void ***)(this + 4 * v293 + 24480), v617, v616, 12, 0, -1);
                  break;
                case 2:
                  sub_444470(**(float ***)(this + 4 * v293 + 24480), 0.0);
                  HIDWORD(v588[118]) = v299;
                  sub_4477E0(**(_DWORD **)(this + 4 * v293 + 24480), 1.0, 12, 0, -1);
                  sub_4442C0(**(float ***)(this + 4 * v293 + 24480), &v617, &v616);
                  v300 = **(float ***)(this + 4 * v293 + 24480);
                  *(float *)&String1 = v617 + 20.0;
                  sub_444260(v300, *(float *)&String1, v616);
                  sub_41DE40(**(void ***)(this + 4 * v293 + 24480), v617, v616, 12, 0, -1);
                  break;
                case 3:
                  sub_447B00(
                    **(_DWORD **)(this + 4 * v293 + 24480),
                    *(float *)(this + 1672),
                    COERCE_FLOAT(1),
                    12 * v670[2050],
                    0,
                    -1);
                  break;
                default:
                  goto LABEL_1361;
              }
            }
            else if ( (v670[2052] & 0x20) != 0 )
            {
              v301 = *(_DWORD ***)(this + 40 * ((v670[2052] & 0xF) + 1) + 24480);
              v589 = *(float *)&v670[2049];
              v302 = *v301;
              i = 10 * ((v670[2052] & 0xF) + 1);
              sub_4449B0(v302, v670[2049]);
            }
            else if ( (v670[2052] & 0x10) != 0 && !*((_DWORD *)Buf + 66513) )
            {
              v303 = (v670[2052] & 0xF) + 1;
              v598 = (float)v670[2049];
              v304 = 10 * v303;
              v305 = **(float ***)(this + 40 * v303 + 24480);
              i = 10 * v303;
              sub_4443C0(v305, v598, v598);
              v306 = **(float ***)(this + 4 * v304 + 24480);
              v589 = (float)v670[2051];
              *((float *)&v588[119] + 1) = (float)v670[2050];
              sub_444450(v306, *((float *)&v588[119] + 1), v589);
              sub_4443E0(**(float ***)(this + 4 * v304 + 24480));
              if ( a2 != 0.0 )
              {
                sub_4442C0(
                  **(float ***)(this + 4 * v304 + 24480),
                  (float *)&v669[6 * (v670[2052] & 0xF) + 1],
                  (float *)&v669[6 * (v670[2052] & 0xF) + 2]);
                v307 = v670[2050];
                v308 = 6 * (v670[2052] & 0xF);
                v669[v308] = v670[2049];
                v309 = v670[2051];
                v669[v308 + 3] = v307;
                v669[v308 + 4] = v309;
                v669[v308 + 5] = 1;
              }
            }
          }
          else
          {
            v288 = v670[2052] & 0xF;
            v289 = 67 * v288;
            v676[v289 + 333] = 0;
            LOBYTE(v676[v289 + 268]) = 0;
            *((_BYTE *)Buf + 48 * v288 + 19688) = 0;
            if ( a2 != 0.0 || sub_421E40((_DWORD *)this) )
            {
              sub_422F70((char **)this, "-", 21, 0);
              v291 = 67 * (v670[2052] & 0xF);
              LOWORD(v676[v291 + 268]) = 45;
              v676[v291 + 333] = 1;
            }
            else
            {
              v290 = *(float *)(this + 1672);
              v589 = NAN;
              v588[119] = (unsigned int)(12 * v670[2050]);
              i = 10 * ((v670[2052] & 0xF) + 1);
              sub_447B00(**(_DWORD **)(this + 40 * ((v670[2052] & 0xF) + 1) + 24480), v290, 0.0, 12 * v670[2050], 0, -1);
            }
          }
        }
        else
        {
          v286 = 2 * (5 * v670[2051] + 5);
          v287 = **(_DWORD ***)(this + 8 * (5 * v670[2051] + 5) + 24480);
          i = v286;
          sub_44A730(v287);
          sub_401040(**(float ***)(this + 4 * v286 + 24480), v670[2049], v670[2050]);
          sub_444300(**(float ***)(this + 4 * v286 + 24480));
          if ( a2 != 0.0 )
          {
            sub_4442C0(
              **(float ***)(this + 4 * v286 + 24480),
              (float *)&v669[6 * v670[2051] + 1],
              (float *)&v669[6 * v670[2051] + 2]);
            v669[6 * v670[2051] + 5] = 1;
          }
        }
        goto LABEL_1361;
      case 140:
        if ( v670[2052] )
        {
          if ( v670[2052] != 255 )
          {
            if ( SLOBYTE(v670[2052]) >= 0 )
            {
              if ( (v670[2052] & 0x40) != 0 )
              {
                if ( !v28 )
                {
                  if ( a2 != 0.0 || sub_421E40((_DWORD *)this) )
                  {
LABEL_837:
                    sub_422F70((char **)this, "-", 21, 0);
                  }
                  else
                  {
                    v313 = **(_DWORD ***)(this + 24732);
                    i = 63;
                    sub_44A6E0(v313);
                    switch ( v670[2049] )
                    {
                      case 0:
                        v589 = v314;
                        sub_444470(**(float ***)(this + 24732), 0.0);
                        v315 = *(int **)(this + 24732);
                        HIDWORD(v588[118]) = v316;
                        sub_4477E0(*v315, 1.0, 6, 0, -1);
                        sub_4442C0(**(float ***)(this + 24732), &v614, &v615);
                        v317 = **(float ***)(this + 24732);
                        *(float *)&String1 = v614 - 20.0;
                        sub_444260(v317, *(float *)&String1, v615);
                        sub_41DE40(**(void ***)(this + 24732), v614, v615, 6, 0, -1);
                        break;
                      case 1:
                        sub_444470(**(float ***)(this + 24732), 0.0);
                        v318 = *(int **)(this + 24732);
                        HIDWORD(v588[118]) = v319;
                        sub_4477E0(*v318, 1.0, 6, 0, -1);
                        sub_4442C0(**(float ***)(this + 24732), &v614, &v615);
                        v320 = **(float ***)(this + 24732);
                        *(float *)&String1 = v614 + 20.0;
                        sub_444260(v320, *(float *)&String1, v615);
                        sub_41DE40(**(void ***)(this + 24732), v614, v615, 6, 0, -1);
                        break;
                      case 2:
                        sub_444470(**(float ***)(this + 24732), 0.0);
                        v589 = NAN;
                        v588[119] = 20i64;
                        goto LABEL_745;
                      case 3:
                        sub_447B00(
                          **(_DWORD **)(this + 24732),
                          *(float *)(this + 1672),
                          COERCE_FLOAT(1),
                          12 * v670[2050],
                          0,
                          -1);
                        break;
                      default:
                        goto LABEL_1361;
                    }
                  }
                }
              }
              else if ( (v670[2052] & 0x20) != 0 )
              {
                v321 = **(_DWORD ***)(this + 24732);
                i = 63;
                sub_4449B0(v321, v670[2049]);
              }
              else if ( (v670[2052] & 0x10) != 0 )
              {
                v322 = **(float ***)(this + 24732);
                v598 = (float)v670[2049];
                i = 63;
                sub_4443C0(v322, v598, v598);
                v323 = **(float ***)(this + 24732);
                v589 = (float)v670[2051];
                *((float *)&v588[119] + 1) = (float)v670[2050];
                sub_444450(v323, *((float *)&v588[119] + 1), v589);
                sub_4443E0(**(float ***)(this + 24732));
              }
            }
            else
            {
              v676[1740] = 0;
              LOBYTE(v676[1675]) = 0;
              *((_BYTE *)Buf + 20696) = 0;
              if ( a2 != 0.0 || sub_421E40((_DWORD *)this) )
              {
                sub_422F70((char **)this, "-", 21, 0);
                LOWORD(v676[1675]) = 45;
                v676[1740] = 1;
              }
              else
              {
                v311 = **(_DWORD **)(this + 24732);
                v589 = NAN;
                HIDWORD(v588[119]) = 0;
                v312 = *(float *)(this + 1672);
                i = 63;
                sub_447B00(v311, v312, 0.0, 12 * v670[2050], 0, -1);
              }
            }
          }
        }
        else
        {
          v310 = **(_DWORD ***)(this + 24732);
          i = 63;
          sub_44A730(v310);
          sub_401040(**(float ***)(this + 24732), v670[2049], v670[2050]);
          sub_444300(**(float ***)(this + 24732));
        }
        goto LABEL_1361;
      case 141:
        sub_401040(**(float ***)(this + 24780), v670[2049], v670[2050]);
        goto LABEL_1361;
      case 142:
        v324 = v670[2052];
        if ( (v670[2052] & 0x20) != 0 )
        {
          v610 = 60;
          if ( v670[2049] )
            v610 = v670[2049];
          v620 = v670[2050];
        }
        else if ( (v670[2052] & 0x10) != 0 )
        {
          v670[2052] = v670[2052] & 0xF;
          i = 2 * (5 * (v324 & 0xF) + 5);
          if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
          {
            v326 = *(int ***)(this + 4 * v325 + 24480);
            v589 = NAN;
            v588[119] = (unsigned int)v610;
            if ( v620 )
              sub_447700(
                *v326,
                v670[2049],
                v670[2050] + 90,
                v670[2051] + 90,
                v588[119],
                *((float *)&v588[119] + 1),
                SLODWORD(v589));
            else
              sub_447620(
                *v326,
                v670[2049],
                v670[2050],
                v670[2051],
                v588[119],
                *((float *)&v588[119] + 1),
                SLODWORD(v589));
          }
        }
        else
        {
          v327 = v670[2051];
          v595 = 0;
          if ( (v670[2051] & 0x40) != 0 )
          {
            v327 = v670[2051] & 0xF;
            v595 = 1;
            v670[2051] = v327;
          }
          v328 = 2 * (5 * v327 + 5);
          v20 = *(&v640 + v327) == 0;
          i = v328;
          if ( v20 && v595 )
          {
            sub_4442E0(**(float ***)(this + 8 * (5 * v327 + 5) + 24480), &v596, &v597);
            v3 = v670[2051];
            v329 = v597;
            *(&v630 + 2 * v670[2051]) = (int)v596;
            *(&v631 + 2 * v3) = (int)v329;
          }
          if ( a2 != 0.0 || sub_421E40((_DWORD *)this) )
          {
            if ( v595 )
            {
              sub_4442C0(**(float ***)(this + 4 * v328 + 24480), &v596, &v597);
              v598 = *((float *)&v630 + 2 * v670[2051]);
              if ( v598 != NAN )
              {
                v596 = (float)SLODWORD(v598);
                v597 = (float)*(&v631 + 2 * v670[2051]);
              }
              LODWORD(v589) = v670[2050] + (int)v597;
              v331 = v670[2049] + (int)v596;
            }
            else
            {
              v589 = *(float *)&v670[2050];
              v331 = v670[2049];
            }
            sub_401040(**(float ***)(this + 4 * v328 + 24480), v331, SLODWORD(v589));
            *(&v640 + v670[2051]) = v595;
          }
          else
          {
            v3 = 6 * v330;
            if ( !(6 * v330) )
              v3 = 60;
            if ( v595 )
            {
              sub_4442C0(**(float ***)(this + 4 * v328 + 24480), &v596, &v597);
              v598 = *((float *)&v630 + 2 * v670[2051]);
              if ( v598 != NAN )
              {
                v596 = (float)SLODWORD(v598);
                v597 = (float)*(&v631 + 2 * v670[2051]);
              }
              v589 = NAN;
              v588[119] = (unsigned int)v3;
              sub_4474C0(
                **(_DWORD **)(this + 4 * v328 + 24480),
                v670[2049] + (int)v596,
                v670[2050] + (int)v597,
                v3,
                0.0,
                -1);
              *(&v640 + v670[2051]) = v595;
            }
            else
            {
              sub_4474C0(**(_DWORD **)(this + 4 * v328 + 24480), v670[2049], v670[2050], v3, 0.0, -1);
              *(&v640 + v670[2051]) = v595;
            }
          }
        }
        goto LABEL_1361;
      case 143:
        i = 63;
        if ( (v670[2052] & 0x30) != 0 )
        {
          if ( *(_DWORD *)(this + 1720) )
          {
            v670[2052] = v670[2052] & 0xF;
            sub_445230(**(_DWORD **)(this + 24732));
            sub_4088F0(**(float ***)(this + 24732), 100, 100);
            sub_447CE0(
              **(_DWORD **)(this + 24732),
              v670[2049],
              v670[2050],
              v670[2051],
              *(_DWORD *)(this + 1720),
              v670[2052],
              -1);
            sprintf((char *const)Buf + 20696, "_p,%s", (const char *)Buf + 21080);
            *((_BYTE *)Buf + 21080) = 0;
          }
        }
        else if ( (v670[2052] & 0x20) != 0 )
        {
          v610 = 60;
          if ( v670[2049] )
            v610 = v670[2049];
          v620 = v670[2050];
        }
        else if ( (v670[2052] & 0x10) != 0 )
        {
          v670[2052] = v670[2052] & 0xF;
          i = 2 * (5 * v670[2052] + 5);
          if ( a2 == 0.0 && !sub_421E40((_DWORD *)this) )
          {
            v589 = NAN;
            HIDWORD(v588[119]) = 0;
            if ( v620 )
              sub_447700(
                **(int ***)(this + 4 * v332 + 24480),
                v670[2049],
                v670[2050],
                v670[2051],
                v610,
                *((float *)&v588[119] + 1),
                SLODWORD(v589));
            else
              sub_447620(
                **(int ***)(this + 4 * v332 + 24480),
                v670[2049],
                v670[2050],
                v670[2051],
                v610,
                *((float *)&v588[119] + 1),
                SLODWORD(v589));
          }
        }
        else if ( a2 == 0.0 )
        {
          if ( v670[2052] )
          {
            sub_44A730(**(_DWORD ***)(this + 24732));
            sub_4474C0(**(_DWORD **)(this + 24732), v670[2049], v670[2050], 6 * v670[2052], 0.0, -1);
          }
          else
          {
            sub_44A730(**(_DWORD ***)(this + 24732));
            sub_4474C0(**(_DWORD **)(this + 24732), v670[2049], v670[2050], 60, 0.0, -1);
          }
        }
        else
        {
          sub_401040(**(float ***)(this + 24732), v670[2049], v670[2050]);
        }
        goto LABEL_1361;
      case 144:
        v198 = v670[2049];
        if ( v670[2049] < 64 )
        {
          v199 = v670[2051];
          byte_4B31B0[4 * v670[2049]] = v670[2050];
          v200 = v670[2052];
          byte_4B31B1[4 * v198] = v199;
          byte_4B31B2[4 * v198] = v200;
        }
        goto LABEL_1361;
      case 148:
        sub_44A730(**(_DWORD ***)(this + 4 * v670[2049] + 24480));
        sub_401040(**(float ***)(this + 4 * v670[2049] + 24480), v670[2050], v670[2051]);
        sub_444300(**(float ***)(this + 4 * v670[2049] + 24480));
        goto LABEL_1361;
      case 149:
        if ( a2 == 0.0 && !v28 )
        {
          v446 = v670[2052];
          if ( v670[2052] != 4 )
          {
            sub_44A6E0(**(_DWORD ***)(this + 4 * v670[2049] + 24480));
            v446 = v670[2052];
          }
          if ( v446 )
          {
            switch ( v446 )
            {
              case 1:
                v589 = NAN;
                v588[119] = 60i64;
                HIDWORD(v588[118]) = v16;
                v447 = *(int **)(this + 4 * v670[2049] + 24480);
                *((float *)&v588[118] + 1) = (float)v670[2050];
                sub_4478E0(*v447, *((float *)&v588[118] + 1), 60, 0, -1);
                break;
              case 2:
                sub_4479F0(**(_DWORD **)(this + 4 * v670[2049] + 24480), v670[2050], 60, 0.0, -1);
                break;
              case 3:
                v448 = *(int **)(this + 4 * v670[2049] + 24480);
                v589 = NAN;
                v588[119] = 60i64;
                HIDWORD(v588[118]) = v16;
                v449 = *v448;
                *((float *)&v588[118] + 1) = (float)v670[2050];
                sub_4477E0(v449, *((float *)&v588[118] + 1), 60, 0, -1);
                break;
              case 4:
                if ( *(_DWORD *)(this + 1720) )
                {
                  sub_445230(**(_DWORD **)(this + 24744));
                  sub_4088F0(**(float ***)(this + 24744), 100, 100);
                  sub_447CE0(
                    **(_DWORD **)(this + 24744),
                    v670[2049],
                    v670[2050],
                    v670[2051],
                    *(_DWORD *)(this + 1720),
                    0,
                    -1);
                }
                break;
              case 5:
                v609 = v670[2049];
                v627 = v670[2050] + 33;
                break;
              case 6:
                v3 = v627;
                if ( *(_DWORD *)(this + 4 * v627 + 1588) )
                {
                  v450 = v609;
                  sub_445230(**(_DWORD **)(this + 4 * v609 + 24480));
                  sub_4088F0(**(float ***)(this + 4 * v450 + 24480), 100, 100);
                  sub_447CE0(
                    **(_DWORD **)(this + 4 * v450 + 24480),
                    v670[2049],
                    v670[2050],
                    v670[2051],
                    *(_DWORD *)(this + 4 * v3 + 1588),
                    v625,
                    -1);
                }
                break;
              case 7:
                v625 = v670[2049];
                break;
            }
          }
          else
          {
            sub_4474C0(**(_DWORD **)(this + 4 * v670[2049] + 24480), v670[2050], v670[2051], 60, 0.0, -1);
          }
        }
        goto LABEL_1361;
      case 150:
        sub_4449B0(**(_DWORD ***)(this + 4 * v670[2049] + 24480), v670[2050]);
        goto LABEL_1361;
      case 153:
        dword_4B34E0 = v670[2049];
        goto LABEL_1361;
      case 154:
        sub_4227E0((int *)this);
        qword_4B3328 = *(_QWORD *)&v670[2049];
        dword_4B3338 = *(_DWORD *)(this + 23908);
        goto LABEL_1361;
      case 155:
        sub_4227E0((int *)this);
        if ( v670[2050] == 100 )
          *((_DWORD *)Buf + 66512) = 0;
        LODWORD(v589) = 120;
        HIDWORD(v588[119]) = 0;
        LODWORD(v588[119]) = v669;
        *((_DWORD *)Buf + 66513) = 1;
        memset((void *)v588[119], SHIDWORD(v588[119]), LODWORD(v589));
        if ( a2 == 0.0 || v670[2050] != 100 )
        {
          qword_4B333C = *(_QWORD *)&v670[2049];
          dword_4B334C = *(_DWORD *)(this + 23908);
        }
        else
        {
          qword_4B333C = -1i64;
          dword_4B3344 = -1;
          dword_4B3348 = -1;
          dword_4B334C = -1;
          memset(dword_4B3418, -1, 0xC8u);
          *(_DWORD *)(this + 23916) = 0;
        }
        goto LABEL_1361;
      case 156:
        sub_4227E0((int *)this);
        LODWORD(v589) = 120;
        HIDWORD(v588[119]) = 0;
        LODWORD(v588[119]) = v669;
        *((_DWORD *)Buf + 66513) = 1;
        memset((void *)v588[119], SHIDWORD(v588[119]), LODWORD(v589));
        if ( a2 == 0.0 || *(_QWORD *)&v670[2051] )
        {
          LODWORD(qword_4B3328) = v670[2049];
          HIDWORD(qword_4B3328) = 255;
          qword_4B3330 = *(_QWORD *)&v670[2051];
          dword_4B3338 = *(_DWORD *)(this + 23908);
        }
        else
        {
          qword_4B3328 = -1i64;
          qword_4B3330 = -1i64;
          dword_4B3338 = -1;
          memset(dword_4B3418, -1, 0xC8u);
          dword_4B334C = *(_DWORD *)(this + 23908);
          *(_DWORD *)(this + 23916) = 0;
        }
        goto LABEL_1361;
      case 157:
        v3 = 0;
        if ( !dword_4C0918
          && !sub_4449F0(**(_DWORD **)(this + 24480))
          && !sub_4449F0(**(_DWORD **)(this + 24520))
          && !sub_4449F0(**(_DWORD **)(this + 24560))
          && !sub_4449F0(**(_DWORD **)(this + 24600))
          && !sub_4449F0(**(_DWORD **)(this + 24640))
          && !sub_4449F0(**(_DWORD **)(this + 24680))
          && v670[2050] == 100
          && a2 == 0.0 )
        {
          goto LABEL_1361;
        }
        sub_4227E0((int *)this);
        memset(v669, 0, sizeof(v669));
        *((_DWORD *)Buf + 66513) = 1;
        if ( v670[2050] == 100 )
        {
          *((_DWORD *)Buf + 66512) = 0;
          *((_DWORD *)Buf + 66513) = 0;
        }
        v281 = v670[2051];
        if ( (int)abs32(v670[2051]) >= 640 )
        {
          v281 = v670[2051] >= 0 ? 639 : -639;
          v670[2051] = v281;
        }
        v282 = v670[2052];
        if ( (int)abs32(v670[2052]) >= 360 )
        {
          v282 = v670[2052] >= 0 ? 359 : -359;
          v670[2052] = v282;
        }
        if ( a2 != 0.0 && v670[2050] == 100 )
        {
          dword_4B3348 = v282;
          LODWORD(qword_4B333C) = v670[2049];
          HIDWORD(qword_4B333C) = 100;
          dword_4B3344 = v281;
          dword_4B334C = *(_DWORD *)(this + 23908);
          sub_425530(this, 1);
          qword_4B3328 = -1i64;
          qword_4B3330 = -1i64;
          dword_4B3338 = -1;
          qword_4B333C = -1i64;
          dword_4B3344 = -1;
          dword_4B3348 = -1;
          dword_4B334C = -1;
          memset(dword_4B3350, -1, 0xC8u);
          memset(dword_4B3418, -1, 0xC8u);
          dword_4B334C = *(_DWORD *)(this + 23908);
          *((_DWORD *)Buf + 66513) = 0;
          *(_DWORD *)(this + 23916) = 0;
          dword_4C0918 = 0;
          goto LABEL_1361;
        }
        v283 = dword_4C0918;
        if ( dword_4C0918 )
        {
          if ( dword_4C0918 == 10 )
            goto LABEL_1361;
          v284 = 5 * dword_4C0918;
          dword_4B3404[v284] = v670[2049];
          dword_4B3408[v284] = v670[2050];
          dword_4B340C[v284] = v281;
          dword_4B3410[v284] = v282;
          dword_4B3414[v284] = *(_DWORD *)(this + 23908);
          v3 = 0;
        }
        else
        {
          qword_4B333C = *(_QWORD *)&v670[2049];
          dword_4B3344 = v281;
          dword_4B3348 = v282;
          dword_4B334C = *(_DWORD *)(this + 23908);
        }
        dword_4C0918 = v283 + 1;
        if ( sub_421E40((_DWORD *)this) )
        {
          LODWORD(qword_4B333C) = 0;
          v285 = dword_4B3418;
          do
          {
            *v285 = 0;
            v285 += 5;
          }
          while ( (int)v285 < (int)&dword_4B34E0 );
        }
        if ( a2 != 0.0 )
          sub_425530(this, 1);
        goto LABEL_1361;
      case 158:
        *((_DWORD *)Buf + 66508) = v670[2049];
        goto LABEL_1361;
      case 159:
        if ( a2 == 0.0 )
        {
          sub_44A6E0(**(_DWORD ***)(this + 4 * v670[2049] + 24492));
          v495 = sub_444200(**(_DWORD ***)(this + 4 * v670[2049] + 24492));
          v496 = v670[2049];
          if ( v495 != *(_DWORD *)(this + 4 * v670[2049] + 1672) )
          {
            sub_445230(**(_DWORD **)(this + 4 * v670[2049] + 24492));
            sub_4440C0(**(_DWORD **)(this + 4 * v670[2049] + 24492), *(_DWORD *)(this + 4 * v670[2049] + 1672));
            sub_4444D0(**(float ***)(this + 4 * v670[2049] + 24492), &v660, &v645);
            sub_444340(**(float ***)(this + 4 * v670[2049] + 24492), 0, 0, v660, v645);
            v496 = v670[2049];
          }
          sub_4474C0(**(_DWORD **)(this + 4 * v496 + 24492), v670[2050], 0, 12 * v670[2051], *(float *)&v670[2052], -1);
        }
        goto LABEL_1361;
      case 160:
        if ( a2 == 0.0 )
        {
          v497 = sub_444200(**(_DWORD ***)(this + 4 * v670[2049] + 24492));
          v498 = v670[2049];
          if ( v497 != *(_DWORD *)(this + 4 * v670[2049] + 1672) )
          {
            sub_445230(**(_DWORD **)(this + 4 * v670[2049] + 24492));
            sub_4440C0(**(_DWORD **)(this + 4 * v670[2049] + 24492), *(_DWORD *)(this + 4 * v670[2049] + 1672));
            sub_4444D0(**(float ***)(this + 4 * v670[2049] + 24492), &v658, &v647);
            sub_444340(**(float ***)(this + 4 * v670[2049] + 24492), 0, 0, v658, v647);
            v498 = v670[2049];
          }
          sub_4474C0(**(_DWORD **)(this + 4 * v498 + 24492), 0, v670[2050], 12 * v670[2051], *(float *)&v670[2052], -1);
        }
        goto LABEL_1361;
      case 161:
        sub_401040(**(float ***)(this + 4 * v670[2049] + 24492), v670[2050], v670[2051]);
        goto LABEL_1361;
      case 162:
        if ( v670[2049] )
        {
          *((_DWORD *)Buf + 66345) = v670[2050];
          *((_DWORD *)Buf + 66346) = v670[2051];
          *((_DWORD *)Buf + 66347) = 12 * v670[2052];
        }
        else
        {
          *((_DWORD *)Buf + 66343) = v670[2050];
          *((_DWORD *)Buf + 66344) = v670[2051];
        }
        goto LABEL_1361;
      case 164:
        sub_40EF50(*(_DWORD *)(this + 24504), v670[2049], v670[2050], v670[2051], v670[2052]);
        sub_40EF50(*(_DWORD *)(this + 24556), v670[2049], v670[2050], v670[2051], v670[2052]);
        sub_40EF50(*(_DWORD *)(this + 24596), v670[2049], v670[2050], v670[2051], v670[2052]);
        sub_40EF50(*(_DWORD *)(this + 24636), v670[2049], v670[2050], v670[2051], v670[2052]);
        sub_40EF50(*(_DWORD *)(this + 24716), v670[2049], v670[2050], v670[2051], v670[2052]);
        goto LABEL_1361;
      case 165:
        sub_40EF90(*(_DWORD **)(this + 24504), v670[2049]);
        sub_40EF90(*(_DWORD **)(this + 24556), v670[2049]);
        sub_40EF90(*(_DWORD **)(this + 24596), v670[2049]);
        sub_40EF90(*(_DWORD **)(this + 24636), v670[2049]);
        sub_40EF90(*(_DWORD **)(this + 24716), v670[2049]);
        goto LABEL_1361;
      case 167:
        goto LABEL_1234;
      case 168:
        v500 = (int **)(this + 24480);
        v3 = 150;
        do
        {
          sub_445CC0(**v500, 0, v670[2049]);
          sub_448560(**v500++);
          --v3;
        }
        while ( v3 );
        goto LABEL_1361;
      case 169:
        if ( v670[2052] )
        {
          if ( v670[2052] == 1 )
          {
            LODWORD(v589) = 2;
          }
          else
          {
            if ( v670[2052] != 2 )
            {
              switch ( v670[2052] )
              {
                case 10:
                  sub_43B100((DWORD *)dword_4C08F4, 8);
                  break;
                case 11:
                  sub_43B140(8);
                  break;
                case 99:
                  v618 = v670[2049];
                  break;
              }
              goto LABEL_1361;
            }
            LODWORD(v589) = 8;
          }
        }
        else
        {
          if ( sub_40CCD0(Buf, 99, 187) != 99 )
          {
            v333 = sub_40CCD0(Buf, 99, 187);
            sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xBBu, v333 + 1);
          }
          v589 = 0.0;
        }
        v334 = sub_40CCD0(Buf, 99, 187);
        sub_43BA50(dword_4C08F4, this, 0, v334, SLODWORD(v589), v590, v591);
        goto LABEL_1361;
      case 170:
        sub_442BF0((int)dword_4C087C, v670[2049], v670[2050], 10);
        goto LABEL_1361;
      case 171:
        v501 = *(char ***)(this + 25120);
        v502 = *v501;
        if ( !*v501 && !v501[1] && v670[2049] != 99 )
          goto LABEL_1361;
        if ( !v670[2049] )
        {
          *((_DWORD *)Buf + 272086) = 0;
          sub_458100(*(_DWORD ***)(this + 25120));
          goto LABEL_1361;
        }
        if ( v670[2049] == -1 )
        {
          sub_4581F0(v501);
          *((_DWORD *)Buf + 272086) = 0;
          goto LABEL_1361;
        }
        v3 = 1;
        switch ( v670[2049] )
        {
          case 1:
            sub_458120(v501);
LABEL_1267:
            *((_DWORD *)Buf + 272086) = 1;
            sub_4581B0(*(_DWORD **)(this + 25120), 1);
            goto LABEL_1361;
          case 2:
            sub_458140(v501, v670[2050]);
            goto LABEL_1361;
          case 3:
            if ( v502 )
              sub_4571C0(v502, v670[2050]);
            break;
          case 4:
            if ( v502 )
              sub_457EB0(*v501);
            break;
          case 5:
            if ( v502 )
              sub_457160((int)*v501, v670[2050], v670[2051], v670[2052]);
            break;
          case 6:
            if ( v502 )
              sub_457240(v502, v670[2050]);
            break;
          case 7:
            goto LABEL_1267;
          case 98:
            *((_DWORD *)Buf + 272086) = 0;
            sub_4581B0(*(_DWORD **)(this + 25120), 0);
            break;
          case 99:
            sub_457FF0((int)v501, v670[2050]);
            break;
        }
        goto LABEL_1361;
      case 172:
        if ( v670[2052] )
        {
          if ( v670[2052] == 1 )
          {
            v152 = v606;
            if ( v606 == -1 )
            {
              v152 = 30;
              v606 = 30;
            }
            sub_4474C0(**(_DWORD **)(this + 24488), v670[2049], v670[2050], v152, 0.0, -1);
            v153 = *(int **)(this + 24488);
            v589 = NAN;
            v588[119] = (unsigned int)v152;
            HIDWORD(v588[118]) = v154;
            v155 = *v153;
            *((float *)&v588[118] + 1) = (float)v670[2051];
            sub_4478E0(v155, *((float *)&v588[118] + 1), v152, 0, -1);
          }
          else if ( v670[2052] == 2 )
          {
            v606 = v670[2049];
          }
        }
        else
        {
          v604 = (720 - 720 * v670[2051] / 100) / 2;
          v605 = (1280 - 1280 * v670[2051] / 100) / 2;
          sub_401040(**(float ***)(this + 24488), -(v670[2049] + v605), -(v670[2050] + v604));
          sub_4088F0(**(float ***)(this + 24488), v670[2051], v670[2051]);
        }
        goto LABEL_1361;
      case 173:
        sub_4359E0(*(_DWORD **)(this + 10364), v670[2049]);
        goto LABEL_1361;
      case 174:
        if ( a2 != 0.0 )
          goto LABEL_1361;
        if ( v670[2052] == 255 )
        {
          v619 = v670[2050];
          v612 = v670[2049];
          v602 = v670[2051];
          goto LABEL_1361;
        }
        if ( v670[2052] == 253 )
        {
          v506 = v670[2049];
          if ( v670[2049] > 0 )
            v506 = --v670[2049];
          v507 = 3 * v506;
          v508 = (void *)(3 * v506 / 3);
          v595 = 4 * LODWORD(v599);
          i = v507;
          v3 = 25;
          v601 = v508;
          v509 = 100;
          LODWORD(v598) = &v672[7 * v507 + 5];
          String1 = (char *)3;
          while ( 1 )
          {
            switch ( (unsigned int)v508 )
            {
              case 0u:
                LODWORD(v599) = v3 - 10;
                v595 = v509 - 40;
                break;
              case 1u:
                v599 = *(float *)&v3;
                v595 = v509;
                break;
              case 2u:
                LODWORD(v510) = v3 + 10;
                v511 = v509 + 40;
                goto LABEL_1295;
              case 3u:
                LODWORD(v599) = v3 + 20;
                v595 = v509 + 80;
                break;
              case 4u:
                LODWORD(v599) = v3 + 30;
                v595 = v509 + 120;
                break;
              case 5u:
                LODWORD(v510) = v3 + 35;
                v511 = v509 + 140;
LABEL_1295:
                v595 = v511;
                v599 = v510;
                break;
              default:
                break;
            }
            if ( !sub_444F50(**(_DWORD ***)(v595 + this + 24480)) )
              *(_DWORD *)LODWORD(v598) = v670[2050];
            LODWORD(v598) += 28;
            v509 += 4;
            ++v3;
            --String1;
            if ( *(float *)&String1 == 0.0 )
              break;
            v508 = v601;
          }
        }
        else
        {
          if ( v670[2052] == 254 )
          {
            v512 = 15;
          }
          else
          {
            v512 = 3 * v670[2052] - 18;
            if ( v670[2052] < 6 )
              v512 = 3 * v670[2052];
          }
          v513 = (void *)(v512 / 3);
          v595 = 4 * LODWORD(v599);
          v3 = 0;
          i = v512;
          v601 = (void *)(v512 / 3);
          v514 = 100;
          LODWORD(v598) = &v672[7 * v512 - 1];
          while ( 1 )
          {
            switch ( (unsigned int)v513 )
            {
              case 0u:
                LODWORD(v515) = v3 + 15;
                v516 = v514 - 40;
                goto LABEL_1313;
              case 1u:
                LODWORD(v599) = v3 + 25;
                v595 = v514;
                break;
              case 2u:
                LODWORD(v515) = v3 + 35;
                v516 = v514 + 40;
                goto LABEL_1313;
              case 3u:
                LODWORD(v599) = v3 + 45;
                v595 = v514 + 80;
                break;
              case 4u:
                LODWORD(v599) = v3 + 55;
                v595 = v514 + 120;
                break;
              case 5u:
                LODWORD(v515) = v3 + 60;
                v516 = v514 + 140;
LABEL_1313:
                v599 = v515;
                v595 = v516;
                break;
              default:
                break;
            }
            if ( !sub_444F50(**(_DWORD ***)(v595 + this + 24480)) && !*(_DWORD *)LODWORD(v598) )
              break;
            LODWORD(v598) += 28;
            v514 += 4;
            ++v3;
            if ( v514 >= 112 )
              goto LABEL_1361;
            v513 = v601;
          }
          v517 = v670[2049];
          v3 += i;
          v518 = v670[2050];
          v519 = 7 * v3;
          v672[v519 - 1] = 1;
          v672[v519 + 1] = v517;
          v672[v519 + 2] = v518;
          if ( v670[2052] >= 6 )
          {
            v520 = v670[2054];
            v672[7 * v3 + 3] = v670[2053];
            v672[7 * v3 + 4] = v520;
            v672[7 * v3] = 1;
          }
        }
        goto LABEL_1361;
      case 175:
        i = v670[2052];
        if ( v670[2052] < 3 )
        {
          v490 = 100 * v670[2049];
          v491 = 4 * v670[2052];
          v492 = 100 * v670[2050];
          v668[v491] = 1;
          v668[v491 + 1] = v490;
          v493 = v670[2051];
          v668[v491 + 2] = v492;
          v668[v491 + 3] = v493;
        }
        goto LABEL_1361;
      case 176:
        if ( a2 == 0.0 )
        {
          if ( v670[2049] == 255 )
          {
            if ( LODWORD(v607) != v670[2050] )
            {
              v607 = *(float *)&v670[2050];
              if ( v670[2050] >= 10 )
                LODWORD(v607) = 9;
              v608 = 0;
            }
          }
          else
          {
            v621 = !v621;
          }
        }
        goto LABEL_1361;
      case 177:
        v3 = 0;
        v521 = (int **)(this + 24480);
        do
        {
          if ( v670[2049] )
          {
            if ( v670[2049] > 0x64u )
              goto LABEL_1361;
            sub_444490((_DWORD *)**v521, 4);
            v523 = **v521;
            *(float *)&String1 = (double)v670[2049] * 10.0;
            v522 = *(float *)&String1;
          }
          else
          {
            sub_444490((_DWORD *)**v521, 0);
            v522 = 0.0;
            v523 = **v521;
          }
          v589 = v522;
          *((float *)&v588[119] + 1) = v522;
          sub_444ED0(v523, *((float *)&v588[119] + 1), v589);
          ++v3;
          ++v521;
        }
        while ( v3 <= 59 );
        goto LABEL_1361;
      case 178:
        if ( a2 != 0.0 || sub_421E40((_DWORD *)this) )
        {
          v3 = 0;
          v525 = (int **)(this + 24480);
          do
          {
            if ( v670[2049] > 100 )
              break;
            if ( v670[2050] > 100 )
              break;
            if ( v670[2049] < 0 )
              break;
            if ( v670[2050] < 0 )
              break;
            sub_444490((_DWORD *)**v525, 4);
            v526 = **v525;
            *(float *)&String1 = (double)v670[2050] * 10.0;
            sub_444ED0(v526, *(float *)&String1, *(float *)&String1);
            ++v3;
            ++v525;
          }
          while ( v3 <= 59 );
        }
        else
        {
          v524 = 0;
          v3 = this + 24480;
          do
          {
            if ( v670[2049] > 100 )
              break;
            if ( v670[2050] > 100 )
              break;
            if ( v670[2049] < 0 )
              break;
            if ( v670[2050] < 0 )
              break;
            sub_447E30(**(int ***)v3, 10 * v670[2049], 10 * v670[2050], v670[2051], 0.0, -1);
            ++v524;
            v3 += 4;
          }
          while ( v524 <= 59 );
        }
        goto LABEL_1361;
      case 179:
        if ( v670[2049] < 4 )
        {
          v527 = (_DWORD ***)(this + 24480);
          v3 = 60;
          do
          {
            sub_444490(**v527++, v670[2049]);
            --v3;
          }
          while ( v3 );
LABEL_1350:
          if ( v670[2049] > 100 )
          {
            v528 = (float ***)(this + 24480);
            v3 = 151;
            do
            {
              v589 = *(float *)&v16;
              v529 = **v528;
              *(float *)&String1 = (double)v670[2049] / 100.0;
              sub_444B70(v529, *(float *)&String1);
              ++v528;
              --v3;
            }
            while ( v3 );
          }
        }
        goto LABEL_1361;
      case 180:
        *((_DWORD *)Buf + 66517) = 1;
        goto LABEL_1361;
      case 181:
        if ( v670[2052] == 99 )
        {
          *((_DWORD *)Buf + 272091) = v670[2049];
        }
        else
        {
          sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0x5Au, v670[2049]);
          sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0x5Bu, v670[2050] / 100);
          sub_40D2C0((int *)Buf, (unsigned __int8 *)3, 0x5Cu, v670[2050] % 100);
          v530 = sub_40E7E0(*((_DWORD *)Buf + 272091), v670[2050] / 100, v670[2050] % 100) - 1;
          if ( v530 < 0 )
            v530 = 6;
          v589 = *(float *)&v530;
          v588[119] = 0x5D00000003i64;
LABEL_1359:
          v195 = (int *)Buf;
LABEL_1360:
          sub_40D2C0(v195, (unsigned __int8 *)v588[119], HIDWORD(v588[119]), SLODWORD(v589));
        }
        goto LABEL_1361;
      default:
        goto LABEL_1361;
    }
  }
  v11 = 2116 * (v608 + 10 * v613);
  v670[0] = *(_DWORD *)((char *)Buf + v11 + 248692);
  v12 = 0;
  v603 = (int)&v670[1];
  v595 = v11;
  v3 = v11 + 250776;
  do
  {
    v13 = (char *)Buf;
    v14 = v595;
    v670[v12 + 2049] = *(_DWORD *)((char *)Buf + v3);
    v15 = (_BYTE *)v603;
    v16 = &v13[v14 + 248696];
    do
    {
      v17 = *v16;
      *v15++ = *v16++;
    }
    while ( v17 );
    v595 += 260;
    v603 += 1024;
    ++v12;
    v3 += 4;
  }
  while ( v12 < 8 );
  v18 = v670[0];
  ++v608;
  if ( v670[0] )
    goto LABEL_56;
  if ( *(_QWORD *)&v670[2049] || LOBYTE(v670[1]) != LOBYTE(v670[0]) )
    return 0;
LABEL_25:
  if ( a2 != 0.0 )
  {
    sub_421970(this);
    v19 = 0;
    v3 = this;
    do
    {
      if ( *(_BYTE *)v3 )
        sub_422E80((char **)this, (const char *)v3, v19 + 19, 0);
      ++v19;
      v3 += 260;
    }
    while ( v19 <= 4 );
  }
LABEL_30:
  for ( i = 0; i < 51; ++i )
  {
    v20 = v676[67 * i + 65] == 0;
    v602 = 268 * i;
    if ( !v20 )
    {
      v21 = sub_41E830(i);
      v619 = v21;
      String1 = (char *)v676 + v602;
      sub_422F70(v23, (const char *)v676 + v602, v22, 0);
      if ( v21 == 10 || v21 == 20 || v21 == 30 || v21 == 40 || v21 == 50 )
        sub_444A80(**(char ***)(this + 4 * v21 + 24480));
      if ( !v21 )
      {
        if ( *((_DWORD *)Buf + 66517) )
        {
          sub_444250(**(_DWORD ***)(this + 24480), 1);
          sub_4444D0(**(float ***)(this + 24480), &v657, &v649);
          if ( v657 )
          {
            if ( v649 )
            {
              v612 = 7200000 / v649;
              v589 = (float)(7200000 / v649);
              v24 = **(float ***)(this + 24480);
              v612 = 12800000 / v657;
              *((float *)&v588[119] + 1) = (float)(12800000 / v657);
              sub_4443C0(v24, *((float *)&v588[119] + 1), v589);
            }
          }
        }
        sub_41F340(this, 2);
        v599 = 0.0;
        if ( off_4B4768[0] )
        {
          v25 = (const char **)off_4B4768;
          while ( 1 )
          {
            v26 = String1;
            if ( !_strnicmp(String1, *v25, strlen(*v25)) && strlen(*v25) <= strlen(v26) )
              break;
            v20 = off_4B4768[2 * LODWORD(v599) + 2] == 0;
            v25 = (const char **)(8 * ++LODWORD(v599) + 4933480);
            if ( v20 )
              goto LABEL_1385;
          }
          sub_444990(**(_DWORD **)(this + 24480), v677);
          v589 = NAN;
          qmemcpy(v588, v677, sizeof(v588));
          sub_447F40(
            **(_DWORD **)(this + 24484),
            v588[0],
            SHIDWORD(v588[0]),
            v588[1],
            SHIDWORD(v588[1]),
            v588[2],
            SHIDWORD(v588[2]),
            v588[3],
            SHIDWORD(v588[3]),
            v588[4],
            SHIDWORD(v588[4]),
            v588[5],
            SHIDWORD(v588[5]),
            v588[6],
            SHIDWORD(v588[6]),
            v588[7],
            SHIDWORD(v588[7]),
            v588[8],
            SHIDWORD(v588[8]),
            v588[9],
            SHIDWORD(v588[9]),
            v588[10],
            SHIDWORD(v588[10]),
            v588[11],
            SHIDWORD(v588[11]),
            v588[12],
            SHIDWORD(v588[12]),
            v588[13],
            SHIDWORD(v588[13]),
            v588[14],
            SHIDWORD(v588[14]),
            v588[15],
            SHIDWORD(v588[15]),
            v588[16],
            SHIDWORD(v588[16]),
            v588[17],
            SHIDWORD(v588[17]),
            v588[18],
            SHIDWORD(v588[18]),
            v588[19],
            SHIDWORD(v588[19]),
            v588[20],
            SHIDWORD(v588[20]),
            v588[21],
            SHIDWORD(v588[21]),
            v588[22],
            SHIDWORD(v588[22]),
            v588[23],
            SHIDWORD(v588[23]),
            v588[24],
            SHIDWORD(v588[24]),
            v588[25],
            SHIDWORD(v588[25]),
            v588[26],
            SHIDWORD(v588[26]),
            v588[27],
            SHIDWORD(v588[27]),
            v588[28],
            SHIDWORD(v588[28]),
            v588[29],
            SHIDWORD(v588[29]),
            v588[30],
            SHIDWORD(v588[30]));
          qmemcpy(&v676[134], &v676[67], 0x10Cu);
          v536 = off_4B476C[2 * LODWORD(v599)];
          v537 = &v676[134];
          do
          {
            v538 = *v536;
            *(_BYTE *)v537 = *v536++;
            v537 = (int *)((char *)v537 + 1);
          }
          while ( v538 );
        }
      }
LABEL_1385:
      v539 = v619;
      if ( *(int *)((char *)&v676[66] + v602) )
      {
        if ( v619 != -1 )
        {
          sub_4442C0(**(float ***)(this + 4 * v619 + 24480), &v664, &v667);
          if ( !sub_4449F0(**(_DWORD **)(this + 4 * v539 + 24480)) || a2 != 0.0 )
          {
            sub_4444D0(**(float ***)(this + 4 * v539 + 24480), &v651, &v655);
            sub_444420(**(float ***)(this + 4 * v539 + 24480), &v663, &v666);
            v602 = (v655 - 720) / -2;
            v540 = (double)v602;
            v541 = **(float ***)(this + 4 * v539 + 24480);
            v602 = (v651 - 1280) / -2;
            v589 = v540;
            *((float *)&v588[119] + 1) = (float)v602;
            sub_444260(v541, *((float *)&v588[119] + 1), v589);
            sub_444300(**(float ***)(this + 4 * v539 + 24480));
          }
        }
      }
      v3 = i;
      if ( (unsigned int)(i - 4) <= 4 && v539 != -1 )
      {
        sub_4444D0(**(float ***)(this + 4 * v539 + 24480), &v628, &v659);
        sub_444340(**(float ***)(this + 4 * v539 + 24480), 0, 0, v628, v659);
        if ( v628 == 1024 )
        {
          sub_4442A0(**(float ***)(this + 4 * v539 + 24480), 0.0, 0.0);
          sub_4442A0(**(float ***)(this + 4 * v539 + 24488), 0.0, 0.0);
          sub_4442A0(**(float ***)(this + 4 * v539 + 24500), 0.0, 0.0);
          sub_4442A0(**(float ***)(this + 4 * v539 + 24504), 0.0, 0.0);
          v544 = 0.0;
          v543 = **(float ***)(this + 4 * v539 + 24508);
          v589 = 0.0;
        }
        else
        {
          v542 = **(float ***)(this + 4 * v539 + 24480);
          v602 = (1280 - v628) / 2 - 128;
          v607 = (float)v602;
          sub_4442A0(v542, v607, 0.0);
          sub_4442A0(**(float ***)(this + 4 * v539 + 24488), v607, 0.0);
          sub_4442A0(**(float ***)(this + 4 * v539 + 24500), v607, 0.0);
          sub_4442A0(**(float ***)(this + 4 * v539 + 24504), v607, 0.0);
          v543 = **(float ***)(this + 4 * v539 + 24508);
          v589 = 0.0;
          v544 = v607;
        }
        *((float *)&v588[119] + 1) = v544;
        sub_4442A0(v543, *((float *)&v588[119] + 1), v589);
      }
      if ( v3 == 31 )
      {
        v545 = sub_41E830(31);
        sub_4442A0(**(float ***)(this + 4 * v545 + 24480), 0.0, 0.0);
        if ( v545 != -1 )
        {
          sub_4444D0(**(float ***)(this + 4 * v545 + 24480), &v661, &v653);
          v546 = *(float ***)(this + 4 * v545 + 24480);
          v602 = 225 - v653;
          v547 = *v546;
          v589 = (float)(225 - v653);
          sub_4442A0(v547, 0.0, v589);
        }
      }
      else
      {
        if ( v3 >= 9 && v3 <= 13 )
        {
          switch ( v3 )
          {
            case 9:
              v595 = 12;
              goto LABEL_1407;
            case 10:
              v595 = 22;
              goto LABEL_1407;
            case 11:
              v595 = 32;
              goto LABEL_1407;
            case 12:
              v595 = 42;
              goto LABEL_1407;
            case 13:
              v595 = 52;
LABEL_1407:
              v548 = v595;
              sub_444990(**(_DWORD **)(this + 4 * v595 + 24480), v674);
              v549 = v674[45];
              sub_448F00(**(_DWORD **)(this + 4 * v548 + 24472));
              sub_444990(**(_DWORD **)(this + 4 * v548 + 24472), v674);
              v674[45] = v549;
              v550 = *(int **)(this + 4 * v595 + 24480);
              v589 = NAN;
              qmemcpy(v588, v674, sizeof(v588));
              sub_447F40(
                *v550,
                v588[0],
                SHIDWORD(v588[0]),
                v588[1],
                SHIDWORD(v588[1]),
                v588[2],
                SHIDWORD(v588[2]),
                v588[3],
                SHIDWORD(v588[3]),
                v588[4],
                SHIDWORD(v588[4]),
                v588[5],
                SHIDWORD(v588[5]),
                v588[6],
                SHIDWORD(v588[6]),
                v588[7],
                SHIDWORD(v588[7]),
                v588[8],
                SHIDWORD(v588[8]),
                v588[9],
                SHIDWORD(v588[9]),
                v588[10],
                SHIDWORD(v588[10]),
                v588[11],
                SHIDWORD(v588[11]),
                v588[12],
                SHIDWORD(v588[12]),
                v588[13],
                SHIDWORD(v588[13]),
                v588[14],
                SHIDWORD(v588[14]),
                v588[15],
                SHIDWORD(v588[15]),
                v588[16],
                SHIDWORD(v588[16]),
                v588[17],
                SHIDWORD(v588[17]),
                v588[18],
                SHIDWORD(v588[18]),
                v588[19],
                SHIDWORD(v588[19]),
                v588[20],
                SHIDWORD(v588[20]),
                v588[21],
                SHIDWORD(v588[21]),
                v588[22],
                SHIDWORD(v588[22]),
                v588[23],
                SHIDWORD(v588[23]),
                v588[24],
                SHIDWORD(v588[24]),
                v588[25],
                SHIDWORD(v588[25]),
                v588[26],
                SHIDWORD(v588[26]),
                v588[27],
                SHIDWORD(v588[27]),
                v588[28],
                SHIDWORD(v588[28]),
                v588[29],
                SHIDWORD(v588[29]),
                v588[30],
                SHIDWORD(v588[30]));
              v3 = i;
              break;
            default:
              break;
          }
        }
        if ( v3 == 32 )
        {
          sub_444990(**(_DWORD **)(this + 24784), v675);
          v551 = v675[45];
          sub_448F00(**(_DWORD **)(this + 24780));
          sub_444990(**(_DWORD **)(this + 24780), v675);
          v675[45] = v551;
          v552 = *(int **)(this + 24784);
          v589 = NAN;
          qmemcpy(v588, v675, sizeof(v588));
          v3 = (int)&v589;
          sub_447F40(
            *v552,
            v588[0],
            SHIDWORD(v588[0]),
            v588[1],
            SHIDWORD(v588[1]),
            v588[2],
            SHIDWORD(v588[2]),
            v588[3],
            SHIDWORD(v588[3]),
            v588[4],
            SHIDWORD(v588[4]),
            v588[5],
            SHIDWORD(v588[5]),
            v588[6],
            SHIDWORD(v588[6]),
            v588[7],
            SHIDWORD(v588[7]),
            v588[8],
            SHIDWORD(v588[8]),
            v588[9],
            SHIDWORD(v588[9]),
            v588[10],
            SHIDWORD(v588[10]),
            v588[11],
            SHIDWORD(v588[11]),
            v588[12],
            SHIDWORD(v588[12]),
            v588[13],
            SHIDWORD(v588[13]),
            v588[14],
            SHIDWORD(v588[14]),
            v588[15],
            SHIDWORD(v588[15]),
            v588[16],
            SHIDWORD(v588[16]),
            v588[17],
            SHIDWORD(v588[17]),
            v588[18],
            SHIDWORD(v588[18]),
            v588[19],
            SHIDWORD(v588[19]),
            v588[20],
            SHIDWORD(v588[20]),
            v588[21],
            SHIDWORD(v588[21]),
            v588[22],
            SHIDWORD(v588[22]),
            v588[23],
            SHIDWORD(v588[23]),
            v588[24],
            SHIDWORD(v588[24]),
            v588[25],
            SHIDWORD(v588[25]),
            v588[26],
            SHIDWORD(v588[26]),
            v588[27],
            SHIDWORD(v588[27]),
            v588[28],
            SHIDWORD(v588[28]),
            v588[29],
            SHIDWORD(v588[29]),
            v588[30],
            SHIDWORD(v588[30]));
        }
      }
    }
  }
  if ( v611 != (unsigned __int8 *)-1 )
    sub_444240(**(_DWORD ***)(this + 24732), (int)v611);
  i = 0;
  while ( 2 )
  {
    v20 = *(_DWORD *)&v673[276 * i + 264] == 0;
    LODWORD(v598) = 276 * i;
    if ( !v20 && !*(_DWORD *)(this + 25088) )
    {
      v553 = i;
      v554 = i - 8;
      if ( (unsigned int)(i - 8) > 3 )
        goto LABEL_1420;
      if ( !sub_421E40((_DWORD *)this) && !*(_DWORD *)(this + 15628) )
      {
        v553 = i;
LABEL_1420:
        if ( !v553 )
        {
          if ( a2 == 0.0 )
          {
            if ( *(_DWORD *)&v673[268] )
              sub_43B0F0(dword_4C08F4, 1);
            sub_43D070((DWORD *)dword_4C08F4, v673, 0, *(DWORD *)&v673[260]);
            if ( *(int *)&v673[272] > 0 )
              sub_43BA50(dword_4C08F4, this, v3, *(int *)&v673[272], 0, v590, v591);
          }
          goto LABEL_1446;
        }
        if ( (unsigned int)(v553 - 2) <= 3 )
        {
          v589 = *(float *)&v673[LODWORD(v598) + 260];
          HIDWORD(v588[119]) = 1;
          LODWORD(v588[119]) = &v673[LODWORD(v598)];
LABEL_1445:
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)v588[119], SHIDWORD(v588[119]), LODWORD(v589));
          goto LABEL_1446;
        }
        if ( v554 > 3 )
          goto LABEL_1446;
        v3 = LODWORD(v598);
        v555 = (unsigned int)&v673[LODWORD(v598)];
        v611 = &v673[LODWORD(v598)];
        v556 = &v673[LODWORD(v598)];
        v557 = v682 - (char *)&v673[LODWORD(v598)];
        do
        {
          v558 = *v556;
          v556[v557] = *v556;
          ++v556;
        }
        while ( v558 );
        if ( !strstr(v682, word_48B7EC) )
        {
          v589 = *(float *)&v673[v3 + 260];
          v588[119] = v555 | 0x200000000i64;
          goto LABEL_1445;
        }
        v559 = _mbsrchr((const unsigned __int8 *)v682, 0x5Fu);
        v3 = (int)(v559 + 1);
        v560 = 0;
        v559[3] = 0;
        *(_DWORD *)(this + 25112) = -1;
        v601 = 0;
        while ( !strstr((const char *)Buf + v560 + 19688, (const char *)v3) )
        {
          v601 = (char *)v601 + 1;
          v560 += 48;
          if ( v560 >= 192 )
            goto LABEL_1437;
        }
        *(_DWORD *)(this + 25112) = (char *)v601 + 4;
LABEL_1437:
        sub_43D070((DWORD *)dword_4C08F4, v611, 2, *(_DWORD *)&v673[LODWORD(v598) + 260]);
        *(_DWORD *)(this + 25116) = 0;
        if ( *((_DWORD *)Buf + 67462) )
        {
          if ( *(_DWORD *)(this + 25112) != -1 )
            *(_DWORD *)(this + 25116) = 1500
                                      * ***(_DWORD ***)(this + 4 * sub_41E830(*(_DWORD *)(this + 25112)) + 24480)
                                      / 100;
        }
        else
        {
          *(_DWORD *)(this + 25112) = -1;
        }
        if ( *((int *)Buf + 67461) > 0 )
          *(_DWORD *)(this + 25116) = sub_40E4F0((int *)Buf, (unsigned __int8 *)v3);
        v561 = *(_DWORD *)(this + 25116);
        v668[8] = 1;
        v668[9] = v561;
      }
    }
LABEL_1446:
    if ( ++i < 12 )
      continue;
    break;
  }
  v562 = 0;
  v563 = &v668[3];
  do
  {
    if ( *(v563 - 3) )
    {
      sub_43B7A0(v562, *(v563 - 2));
      if ( *v563 )
        sub_43B800((float *)dword_4C08F4, v562, *(v563 - 1), *v563);
    }
    ++v562;
    v563 += 4;
  }
  while ( v562 < 3 );
  if ( v618 )
    sub_43B4F0(dword_4C08F4, v618);
  if ( sub_421E40((_DWORD *)this) )
    *(_DWORD *)(this + 23916) = 1;
  v564 = 0;
  v565 = v672;
  do
  {
    if ( *(v565 - 1) )
      sub_41DF90(this, v565[1], v565[2], v564, v565[3], v565[4], v565[5], *v565);
    ++v564;
    v565 += 7;
  }
  while ( v564 < 18 );
  if ( *(_DWORD *)(this + 15616) )
    LODWORD(v589) = 1;
  else
    v589 = a2;
  v618 = sub_425530(this, SLODWORD(v589));
  v566 = v669;
  v567 = (float ***)(this + 24520);
  v611 = (unsigned __int8 *)4;
  do
  {
    if ( v566[5] && v618 )
    {
      v602 = *v566;
      if ( *(float *)&v602 != 0.0 )
      {
        v568 = **v567;
        *(float *)&v602 = (float)v602;
        sub_4443C0(v568, *(float *)&v602, *(float *)&v602);
        sub_4443E0(**v567);
      }
      if ( 0.0 != *((float *)v566 + 1) || 0.0 != *((float *)v566 + 2) )
        sub_444260(**v567, *((float *)v566 + 1), *((float *)v566 + 2));
      v602 = v566[3];
      if ( *(float *)&v602 != 0.0 || v566[4] )
      {
        v569 = **v567;
        v589 = (float)v566[4];
        *((float *)&v588[119] + 1) = (float)v602;
        sub_444450(v569, *((float *)&v588[119] + 1), v589);
      }
    }
    v567 += 10;
    v566 += 6;
    --v611;
  }
  while ( v611 );
  if ( !v613 )
  {
    if ( v629 && !v622 )
      sub_41DEA0(this, v624);
    if ( !*((_DWORD *)Buf + 66510) )
    {
      v570 = *(_DWORD *)(this + 1564);
      if ( v570 == 6 || v570 == 7 || v570 == 8 )
      {
        if ( *(_DWORD *)(this + 10372) )
        {
          v571 = sub_414740(*(_DWORD **)(this + 10372));
          sub_440880(v571);
          if ( *(_WORD *)(this + 13540) )
          {
            LODWORD(v589) = this + 11492;
            v572 = *(_DWORD **)(this + 10372);
            HIDWORD(v588[119]) = this + 13540;
            v573 = (_DWORD *)sub_414740(v572);
            sub_442530(v573, (wchar_t *)HIDWORD(v588[119]), (char *)LODWORD(v589));
          }
          else if ( *(_BYTE *)(this + 11492) )
          {
            v574 = *(_DWORD **)(this + 10372);
            LODWORD(v589) = this + 11492;
            v575 = (_DWORD *)sub_414740(v574);
            sub_442430(v575, (char *)LODWORD(v589));
          }
        }
        if ( *(_DWORD *)(this + 10368) )
        {
          v576 = sub_414740(*(_DWORD **)(this + 10368));
          sub_440880(v576);
          if ( *(_WORD *)(this + 14564) )
          {
            v577 = *(_DWORD **)(this + 10368);
            LODWORD(v589) = this + 12516;
            HIDWORD(v588[119]) = this + 14564;
            v578 = (_DWORD *)sub_414740(v577);
            sub_442530(v578, (wchar_t *)HIDWORD(v588[119]), (char *)LODWORD(v589));
            v589 = COERCE_FLOAT(&v646);
            HIDWORD(v588[119]) = &v650;
            v579 = sub_414740(*(_DWORD **)(this + 10368));
            sub_440DF0(v579, (_DWORD *)HIDWORD(v588[119]), (_DWORD *)LODWORD(v589));
            sub_413070(*(_DWORD *)(this + 10376), &v665, &v648);
            v580 = v646 - v648;
            v581 = v650;
            goto LABEL_1493;
          }
          if ( *(_BYTE *)(this + 12516) )
          {
            v582 = *(_DWORD **)(this + 10368);
            LODWORD(v589) = this + 12516;
            v583 = (_DWORD *)sub_414740(v582);
            sub_442430(v583, (char *)LODWORD(v589));
            v589 = COERCE_FLOAT(&v652);
            HIDWORD(v588[119]) = &v656;
            v584 = sub_414740(*(_DWORD **)(this + 10368));
            sub_440DF0(v584, (_DWORD *)HIDWORD(v588[119]), (_DWORD *)LODWORD(v589));
            sub_413070(*(_DWORD *)(this + 10376), &v662, &v654);
            v581 = v656;
            v580 = v652 - v654 + 4;
LABEL_1493:
            sub_412DB0(*(float **)(this + 10376), v581, v580);
          }
        }
      }
    }
    v599 = 0.0;
    if ( v676[132] && off_4B4768[0] )
    {
      v585 = (const char **)off_4B4768;
      while ( _strnicmp((const char *)&v676[67], *v585, strlen(*v585))
           || strlen(*v585) > strlen((const char *)&v676[67]) )
      {
        v20 = off_4B4768[2 * LODWORD(v599) + 2] == 0;
        v585 = (const char **)(8 * ++LODWORD(v599) + 4933480);
        if ( v20 )
          return 0;
      }
      sub_444990(**(_DWORD **)(this + 24480), v678);
      v586 = *(int **)(this + 24484);
      v589 = NAN;
      qmemcpy(v588, v678, sizeof(v588));
      sub_447F40(
        *v586,
        v588[0],
        SHIDWORD(v588[0]),
        v588[1],
        SHIDWORD(v588[1]),
        v588[2],
        SHIDWORD(v588[2]),
        v588[3],
        SHIDWORD(v588[3]),
        v588[4],
        SHIDWORD(v588[4]),
        v588[5],
        SHIDWORD(v588[5]),
        v588[6],
        SHIDWORD(v588[6]),
        v588[7],
        SHIDWORD(v588[7]),
        v588[8],
        SHIDWORD(v588[8]),
        v588[9],
        SHIDWORD(v588[9]),
        v588[10],
        SHIDWORD(v588[10]),
        v588[11],
        SHIDWORD(v588[11]),
        v588[12],
        SHIDWORD(v588[12]),
        v588[13],
        SHIDWORD(v588[13]),
        v588[14],
        SHIDWORD(v588[14]),
        v588[15],
        SHIDWORD(v588[15]),
        v588[16],
        SHIDWORD(v588[16]),
        v588[17],
        SHIDWORD(v588[17]),
        v588[18],
        SHIDWORD(v588[18]),
        v588[19],
        SHIDWORD(v588[19]),
        v588[20],
        SHIDWORD(v588[20]),
        v588[21],
        SHIDWORD(v588[21]),
        v588[22],
        SHIDWORD(v588[22]),
        v588[23],
        SHIDWORD(v588[23]),
        v588[24],
        SHIDWORD(v588[24]),
        v588[25],
        SHIDWORD(v588[25]),
        v588[26],
        SHIDWORD(v588[26]),
        v588[27],
        SHIDWORD(v588[27]),
        v588[28],
        SHIDWORD(v588[28]),
        v588[29],
        SHIDWORD(v588[29]),
        v588[30],
        SHIDWORD(v588[30]));
      sub_4440C0(**(_DWORD **)(this + 24484), *(_DWORD *)(this + 1596));
    }
  }
  return 0;
}
// 428FD8: conditional instruction was optimized away because esi.4<6
// 42A6A0: conditional instruction was optimized away because esi.4<2B
// 428AB4: variable 'v23' is possibly undefined
// 428AB4: variable 'v22' is possibly undefined
// 428CA0: variable 'v18' is possibly undefined
// 429ACF: variable 'v84' is possibly undefined
// 42A3B2: variable 'v104' is possibly undefined
// 42A430: variable 'v105' is possibly undefined
// 42A4B9: variable 'v106' is possibly undefined
// 42A531: variable 'v108' is possibly undefined
// 42A59A: variable 'v110' is possibly undefined
// 42A92A: variable 'v120' is possibly undefined
// 42B51E: variable 'v154' is possibly undefined
// 42C7BA: variable 'v235' is possibly undefined
// 42C7EB: variable 'v239' is possibly undefined
// 42C8C7: variable 'v249' is possibly undefined
// 42C8BF: variable 'v248' is possibly undefined
// 42C947: variable 'v253' is possibly undefined
// 42C961: variable 'v255' is possibly undefined
// 42CAD4: variable 'v263' is possibly undefined
// 42CAEE: variable 'v265' is possibly undefined
// 42CB0F: variable 'v267' is possibly undefined
// 42CB34: variable 'v271' is possibly undefined
// 42CCB2: variable 'v16' is possibly undefined
// 42D3B9: variable 'v292' is possibly undefined
// 42D407: variable 'v295' is possibly undefined
// 42D441: variable 'v297' is possibly undefined
// 42D4DF: variable 'v299' is possibly undefined
// 42D81A: variable 'v314' is possibly undefined
// 42D839: variable 'v316' is possibly undefined
// 42D8D6: variable 'v319' is possibly undefined
// 42DAC5: variable 'v325' is possibly undefined
// 42DBAE: variable 'v330' is possibly undefined
// 42DE67: variable 'v332' is possibly undefined
// 42E38D: variable 'v358' is possibly undefined
// 42FC70: variable 'v477' is possibly undefined
// 42FC87: variable 'v478' is possibly undefined
// 42FCB3: variable 'v480' is possibly undefined
// 43169C: variable 'v554' is possibly undefined
// 453AF0:  int __thiscall nullsub_1(_DWORD)
// 4B3328:  __int64 qword_4B3328
// 4B3330:  __int64 qword_4B3330
// 4B3338:  int dword_4B3338
// 4B333C:  __int64 qword_4B333C
// 4B3344:  int dword_4B3344
// 4B3348:  int dword_4B3348
// 4B334C:  int dword_4B334C
// 4B3350:  int dword_4B3350[]
// 4B3404:  int dword_4B3404[]
// 4B3408:  int dword_4B3408[]
// 4B340C:  int dword_4B340C[]
// 4B3410:  int dword_4B3410[]
// 4B3414:  int dword_4B3414[]
// 4B3418:  int dword_4B3418[]
// 4B34E0:  int dword_4B34E0
// 4B4768:  char *off_4B4768[123]
// 4B476C:  char *off_4B476C[122]
// 4BFBE0:  BYTE byte_4BFBE0[264]
// 4C0918:  int dword_4C0918
// 428640:  float var_7BA4
// 428640:  float var_7BB0
// 428640:  float var_7BA8
// 428640:  float var_7BB4

//----- (004320B0) --------------------------------------------------------
void __thiscall sub_4320B0(int this, int a2)
{
  int v3; // eax
  int v4; // ecx
  int v5; // ecx
  int v6; // eax
  int v7; // ebx
  signed int v8; // ecx
  char *v9; // ecx
  char *v10; // edx
  char v11; // al
  float ***v12; // edi
  int v13; // ebp
  float ***v14; // edi
  int v15; // ebp
  int v16; // eax
  int v17; // edi
  void *v18; // ecx
  void *v19; // ecx
  int v20; // eax
  int v21; // edi
  void *v22; // ecx
  void *v23; // ecx
  int v24; // edi
  int v25; // edx
  int v26; // ebx
  int v27; // edi
  int v28; // ebp
  int v29; // eax
  char *v30; // ecx
  char *v31; // edx
  char v32; // al
  int v33; // eax
  int v34; // edi
  char *v35; // ecx
  char *v36; // edx
  char v37; // al
  int v38; // eax
  int v39; // edi
  int v40; // eax
  int v41; // edi
  float v43; // [esp+24h] [ebp-1Ch] BYREF
  float v44; // [esp+28h] [ebp-18h] BYREF
  int v45; // [esp+2Ch] [ebp-14h]
  int v46; // [esp+30h] [ebp-10h]
  int v47; // [esp+34h] [ebp-Ch]
  DWORD Time; // [esp+38h] [ebp-8h]
  float v49; // [esp+3Ch] [ebp-4h]

  Time = timeGetTime();
  v3 = *(_DWORD *)(this + 23944);
  v4 = 0;
  if ( !v3 )
    return;
  v47 = 0;
  v46 = 0;
  if ( v3 <= 0 )
    goto LABEL_96;
  do
  {
    v5 = 52 * v4;
    v6 = *(_DWORD *)(v5 + this + 23952);
    v7 = v5 + this;
    v45 = v5 + this;
    if ( v6 > 0 )
    {
      v8 = Time - *(_DWORD *)(this + 23940);
      v47 = 1;
      if ( v8 >= *(_DWORD *)(v7 + 23956) || a2 )
      {
        if ( v6 == 11 )
        {
          sub_4224C0((_DWORD *)this, 0);
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v7 + 23968), 0, 1u);
          v9 = (char *)(v7 + 23968);
          v10 = (char *)Buf + 21944;
          do
          {
            v11 = *v9;
            *v10++ = *v9++;
          }
          while ( v11 );
        }
        if ( *(_DWORD *)(v7 + 23952) == 36 )
          sub_428640(-*(_DWORD *)(v7 + 23960), 0);
        if ( *(_DWORD *)(v7 + 23952) == 12 )
        {
          sub_422470((_DWORD *)this, 0);
          sub_43C3F0(dword_4C08F4, 0, (int)*(float *)(v7 + 23964));
          *((_BYTE *)Buf + 21944) = 0;
          *((_DWORD *)Buf + 5494) = 0;
        }
        if ( *(_DWORD *)(v7 + 23952) == 13 )
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)(v7 + 23968), 1, *(_DWORD *)(v7 + 23948));
        if ( *(_DWORD *)(v7 + 23952) == 35 )
        {
          if ( a2 == 2 )
            goto LABEL_94;
          if ( !sub_421E40((_DWORD *)this) )
          {
            v12 = (float ***)(this + 24480);
            v13 = 64;
            do
            {
              sub_44A730(**v12);
              sub_4442C0(**v12, &v44, &v43);
              v49 = v43 + 8.0;
              sub_4474C0((int)**v12, (int)v44, (int)v49, 10, 0.0, -1);
              sub_4474C0((int)**v12, (int)v44, (int)v43, 10, 0.0, -1);
              v49 = v43 - 8.0;
              sub_4474C0((int)**v12, (int)v44, (int)v49, 10, 0.0, -1);
              sub_4474C0((int)**v12++, (int)v44, (int)v43, 10, 0.0, -1);
              --v13;
            }
            while ( v13 );
          }
        }
        if ( *(_DWORD *)(v7 + 23952) == 34 )
        {
          if ( a2 == 2 )
            goto LABEL_94;
          if ( !sub_421E40((_DWORD *)this) )
          {
            v14 = (float ***)(this + 24480);
            v15 = 64;
            do
            {
              sub_44A730(**v14);
              sub_4442C0(**v14, &v44, &v43);
              v49 = v44 + 8.0;
              sub_4474C0((int)**v14, (int)v49, (int)v43, 10, 0.0, -1);
              sub_4474C0((int)**v14, (int)v44, (int)v43, 10, 0.0, -1);
              v49 = v44 - 8.0;
              sub_4474C0((int)**v14, (int)v49, (int)v43, 10, 0.0, -1);
              sub_4474C0((int)**v14++, (int)v44, (int)v43, 10, 0.0, -1);
              --v15;
            }
            while ( v15 );
          }
        }
        v16 = *(_DWORD *)(v7 + 23952);
        if ( v16 < 14 || v16 > 17 )
        {
LABEL_36:
          v20 = *(_DWORD *)(v7 + 23952);
          if ( v20 < 19 || v20 > 22 )
          {
LABEL_47:
            v24 = *(_DWORD *)(v7 + 23952);
            if ( v24 >= 6 && v24 <= 10 )
            {
              v26 = sub_41E830(*(_DWORD *)(v45 + 23960));
              switch ( v24 )
              {
                case 6:
                  v27 = 19;
                  goto LABEL_55;
                case 7:
                  v27 = 20;
                  goto LABEL_55;
                case 8:
                  v27 = 21;
                  goto LABEL_55;
                case 9:
                  v27 = 22;
                  goto LABEL_55;
                case 10:
                  v27 = 23;
LABEL_55:
                  if ( v26 != -1 )
                  {
                    v28 = 48 * v27;
                    if ( sub_41EF20((char *)Buf + 48 * v25 + 19496, (char *)Buf + 48 * v27 + 19496) )
                      sub_422E80((char **)this, (const char *)Buf + v28 + 19496, v27, 0);
                    sub_4440C0(**(_DWORD **)(this + 4 * v26 + 24480), *(_DWORD *)(this + 4 * v27 + 1588));
                    v29 = v45;
                    *(_DWORD *)(this + 4 * *(_DWORD *)(v45 + 23960) + 1588) = *(_DWORD *)(this + 4 * v27 + 1588);
                    v30 = (char *)Buf + v28 + 19496;
                    v31 = (char *)Buf + 48 * *(_DWORD *)(v29 + 23960) + 19496;
                    do
                    {
                      v32 = *v30;
                      *v31++ = *v30++;
                    }
                    while ( v32 );
                    *(_DWORD *)(this + 4 * v27 + 1588) = 0;
                  }
                  break;
                default:
                  goto LABEL_94;
              }
            }
            v33 = *(_DWORD *)(v45 + 23952);
            if ( v33 >= 1 && v33 <= 5 )
            {
              switch ( v33 )
              {
                case 1:
                  v34 = 19;
                  goto LABEL_69;
                case 2:
                  v34 = 20;
                  goto LABEL_69;
                case 3:
                  v34 = 21;
                  goto LABEL_69;
                case 4:
                  v34 = 22;
                  goto LABEL_69;
                case 5:
                  v34 = 23;
LABEL_69:
                  sub_4440C0(**(_DWORD **)(this + 24480), *(_DWORD *)(this + 4 * v34 + 1588));
                  *(_DWORD *)(this + 1592) = *(_DWORD *)(this + 4 * v34 + 1588);
                  v35 = (char *)Buf + 48 * v34 + 19496;
                  v36 = (char *)Buf + 19544;
                  do
                  {
                    v37 = *v35;
                    *v36++ = *v35++;
                  }
                  while ( v37 );
                  sub_40EAF0((int *)Buf, (char *)Buf + 48 * v34 + 19496);
                  *(_DWORD *)(this + 4 * v34 + 1588) = 0;
                  break;
                default:
                  goto LABEL_94;
              }
            }
            v38 = *(_DWORD *)(v45 + 23952);
            if ( v38 >= 24 && v38 <= 27 )
            {
              switch ( v38 )
              {
                case 24:
                  v39 = 10;
                  goto LABEL_80;
                case 25:
                  v39 = 20;
                  goto LABEL_80;
                case 26:
                  v39 = 30;
                  goto LABEL_80;
                case 27:
                  v39 = 40;
                  goto LABEL_80;
                case 28:
                  v39 = 50;
LABEL_80:
                  if ( !sub_421E40((_DWORD *)this) )
                  {
                    sub_44A6E0(**(_DWORD ***)(this + 4 * v39 + 24480));
                    sub_447B00(
                      **(_DWORD **)(this + 4 * v39 + 24480),
                      *(float *)(this + 1672),
                      COERCE_FLOAT(1),
                      60,
                      0,
                      -1);
                  }
                  break;
                default:
                  goto LABEL_94;
              }
            }
            v40 = *(_DWORD *)(v45 + 23952);
            if ( v40 >= 29 && v40 <= 32 )
            {
              switch ( v40 )
              {
                case 29:
                  v41 = 10;
                  goto LABEL_90;
                case 30:
                  v41 = 20;
                  goto LABEL_90;
                case 31:
                  v41 = 30;
                  goto LABEL_90;
                case 32:
                  v41 = 40;
                  goto LABEL_90;
                case 33:
                  v41 = 50;
LABEL_90:
                  *((_BYTE *)Buf + 48 * v40 + 18296) = 0;
                  if ( sub_421E40((_DWORD *)this) )
                  {
                    sub_422F70((char **)this, "-", 21, 0);
                    sub_422F70((char **)this, "-", *(_DWORD *)(v45 + 23952) - 25, 0);
                  }
                  else
                  {
                    sub_44A6E0(**(_DWORD ***)(this + 4 * v41 + 24480));
                    sub_447B00(**(_DWORD **)(this + 4 * v41 + 24480), *(float *)(this + 1672), 0.0, 60, 0, -1);
                  }
                  break;
                default:
                  goto LABEL_94;
              }
            }
            *(_DWORD *)(v45 + 23952) = 0;
          }
          else if ( a2 != 2 )
          {
            switch ( v20 )
            {
              case 19:
                v21 = 10;
                goto LABEL_45;
              case 20:
                v21 = 20;
                goto LABEL_45;
              case 21:
                v21 = 30;
                goto LABEL_45;
              case 22:
                v21 = 40;
                goto LABEL_45;
              case 23:
                v21 = 50;
LABEL_45:
                if ( !sub_421E40((_DWORD *)this) )
                {
                  sub_44A730(**(_DWORD ***)(this + 4 * v21 + 24480));
                  sub_4442C0(**(float ***)(this + 4 * v21 + 24480), &v44, &v43);
                  v22 = **(void ***)(this + 4 * v21 + 24480);
                  v49 = v44 + 8.0;
                  sub_41DE40(v22, v49, v43, 10, 0, -1);
                  sub_41DE40(**(void ***)(this + 4 * v21 + 24480), v44, v43, 10, 0, -1);
                  v23 = **(void ***)(this + 4 * v21 + 24480);
                  v49 = v44 - 8.0;
                  sub_41DE40(v23, v49, v43, 10, 0, -1);
                  sub_41DE40(**(void ***)(this + 4 * v21 + 24480), v44, v43, 10, 0, -1);
                }
                goto LABEL_47;
              default:
                break;
            }
          }
        }
        else if ( a2 != 2 )
        {
          switch ( v16 )
          {
            case 14:
              v17 = 10;
              goto LABEL_34;
            case 15:
              v17 = 20;
              goto LABEL_34;
            case 16:
              v17 = 30;
              goto LABEL_34;
            case 17:
              v17 = 40;
              goto LABEL_34;
            case 18:
              v17 = 50;
LABEL_34:
              if ( !sub_421E40((_DWORD *)this) )
              {
                sub_44A730(**(_DWORD ***)(this + 4 * v17 + 24480));
                sub_4442C0(**(float ***)(this + 4 * v17 + 24480), &v44, &v43);
                v18 = **(void ***)(this + 4 * v17 + 24480);
                v49 = v43 + 8.0;
                sub_41DE40(v18, v44, v49, 10, 0, -1);
                sub_41DE40(**(void ***)(this + 4 * v17 + 24480), v44, v43, 10, 0, -1);
                v19 = **(void ***)(this + 4 * v17 + 24480);
                v49 = v43 - 8.0;
                sub_41DE40(v19, v44, v49, 10, 0, -1);
                sub_41DE40(**(void ***)(this + 4 * v17 + 24480), v44, v43, 10, 0, -1);
              }
              goto LABEL_36;
            default:
              break;
          }
        }
      }
    }
LABEL_94:
    v4 = v46 + 1;
  }
  while ( ++v46 < *(_DWORD *)(this + 23944) );
  if ( !v47 )
LABEL_96:
    *(_DWORD *)(this + 23944) = 0;
}
// 4326CD: conditional instruction was optimized away because edi.4 is in (13..17)
// 43290E: conditional instruction was optimized away because edi.4 is in (==A|==14|==1E|==28|==32)
// 4326E8: variable 'v25' is possibly undefined
// 428640:  _DWORD __stdcall sub_428640(_DWORD, _DWORD)

//----- (00432A30) --------------------------------------------------------
void __thiscall sub_432A30(int this)
{
  void *v2; // edi
  _DWORD **v3; // ebx
  void *v4; // edi
  _DWORD **v5; // ebx
  void *v6; // edi
  void *v7; // edi
  void *v8; // edi
  void *v9; // edi
  void *v10; // edi
  void *v11; // edi
  void *v12; // edi
  void *v13; // edi
  void *v14; // edi
  _DWORD *v15; // edi
  int v16; // [esp+14h] [ebp-10h]
  int v17; // [esp+14h] [ebp-10h]

  sub_41DE80();
  v2 = *(void **)(this + 25080);
  if ( v2 )
  {
    sub_442820(*(_DWORD **)(this + 25080));
    operator delete(v2);
    *(_DWORD *)(this + 25080) = 0;
  }
  v3 = (_DWORD **)(this + 24480);
  v16 = 150;
  do
  {
    v4 = *v3;
    if ( *v3 )
    {
      sub_40EFF0(*v3);
      operator delete(v4);
      *v3 = 0;
    }
    ++v3;
    --v16;
  }
  while ( v16 );
  v5 = (_DWORD **)(this + 10368);
  v17 = 22;
  do
  {
    v6 = *v5;
    if ( *v5 )
    {
      sub_4043B0(*v5);
      operator delete(v6);
      *v5 = 0;
    }
    ++v5;
    --v17;
  }
  while ( v17 );
  v7 = *(void **)(this + 25120);
  if ( v7 )
  {
    sub_458210(*(_DWORD *)(this + 25120));
    operator delete(v7);
    *(_DWORD *)(this + 25120) = 0;
  }
  v8 = *(void **)(this + 25092);
  if ( v8 )
  {
    sub_44C4B0(*(void **)(this + 25092));
    operator delete(v8);
    *(_DWORD *)(this + 25092) = 0;
  }
  v9 = *(void **)(this + 10344);
  if ( v9 )
  {
    sub_404840(*(int **)(this + 10344));
    operator delete(v9);
    *(_DWORD *)(this + 10344) = 0;
  }
  v10 = *(void **)(this + 10364);
  if ( v10 )
  {
    sub_40B650(*(_DWORD **)(this + 10364));
    operator delete(v10);
    *(_DWORD *)(this + 10364) = 0;
  }
  v11 = *(void **)(this + 10360);
  if ( v11 )
  {
    sub_4043B0(*(_DWORD **)(this + 10360));
    operator delete(v11);
    *(_DWORD *)(this + 10360) = 0;
  }
  v12 = *(void **)(this + 10356);
  if ( v12 )
  {
    sub_4043B0(*(_DWORD **)(this + 10356));
    operator delete(v12);
    *(_DWORD *)(this + 10356) = 0;
  }
  v13 = *(void **)(this + 10352);
  if ( v13 )
  {
    sub_4043B0(*(_DWORD **)(this + 10352));
    operator delete(v13);
    *(_DWORD *)(this + 10352) = 0;
  }
  v14 = *(void **)(this + 10348);
  if ( v14 )
  {
    sub_4043B0(*(_DWORD **)(this + 10348));
    operator delete(v14);
    *(_DWORD *)(this + 10348) = 0;
  }
  v15 = *(_DWORD **)(this + 10340);
  if ( v15 )
  {
    sub_438780(v15);
    sub_4041D0((int)(v15 + 600));
    operator delete(v15);
    *(_DWORD *)(this + 10340) = 0;
  }
}

//----- (00432C40) --------------------------------------------------------
void *__thiscall sub_432C40(int *this)
{
  int v2; // edi
  int v3; // esi
  int **v4; // ebx

  sub_4320B0((int)this, 1);
  sub_4227E0(this);
  sub_407700((int)dword_4C08DC);
  v2 = 0;
  v3 = 0;
  v4 = (int **)(this + 6120);
  do
  {
    sub_444990(**v4, (char *)Buf + v3 + 121248);
    if ( v2 == 11 || v2 == 21 || v2 == 31 || v2 == 41 || v2 == 51 )
      memset((char *)Buf + v3 + 121248, 0, 0x3C0u);
    *(_DWORD *)((char *)Buf + v3 + 121428) = 0;
    v3 += 960;
    ++v2;
    ++v4;
  }
  while ( v3 < 144000 );
  return memcpy((char *)Buf + 731976, (char *)Buf + 19328, 0x56FE4u);
}

//----- (00432D10) --------------------------------------------------------
void __thiscall sub_432D10(void *this)
{
  sub_4320B0((int)this, 1);
}

//----- (00432D20) --------------------------------------------------------
int __thiscall sub_432D20(int this, int a2, int a3)
{
  _DWORD **v4; // edi
  int v5; // ebx
  _DWORD **v6; // edi
  int v7; // ebx
  _DWORD **v8; // edi
  int v9; // ebx

  sub_44A6E0(**(_DWORD ***)(this + 24832));
  sub_440CE0(*(_DWORD *)(this + 25080));
  *((_DWORD *)Buf + 272088) = 0;
  v4 = (_DWORD **)(this + 24480);
  v5 = 150;
  do
  {
    sub_40EFC0(*v4++, 1);
    --v5;
  }
  while ( v5 );
  memset((void *)(this + 10456), 0, 0x400u);
  if ( !a3 )
    sub_425240(this);
  *((_DWORD *)Buf + 272077) = 0;
  *(_DWORD *)(this + 11484) = 0;
  *((_DWORD *)Buf + 4) = 0;
  sub_4253A0(this);
  v6 = (_DWORD **)(this + 24480);
  v7 = 150;
  do
  {
    sub_40EFC0(*v6++, 0);
    --v7;
  }
  while ( v7 );
  sub_432C40((int *)this);
  v8 = (_DWORD **)(this + 24480);
  v9 = 150;
  do
  {
    sub_40EFC0(*v8++, 1);
    --v9;
  }
  while ( v9 );
  sub_422D00(this);
  sub_43CF50((DWORD *)dword_4C08F4, (void *)1);
  *((_DWORD *)Buf + 66512) = 0;
  return sub_4260E0(this, a2, 1);
}

//----- (00432E30) --------------------------------------------------------
void *__thiscall sub_432E30(int this)
{
  void *result; // eax
  _DWORD ***v3; // edi
  _DWORD ***v4; // ebx
  int v5; // ebp
  int v6; // ebp
  int v7; // ebx
  BOOL v8; // [esp+4h] [ebp-4h]

  if ( !sub_421E40((_DWORD *)this) || (result = Buf, *((_DWORD *)Buf + 66510)) )
  {
    v3 = (_DWORD ***)(this + 24480);
    sub_44A6E0(**(_DWORD ***)(this + 24480));
    sub_422810((_DWORD ***)this);
    v4 = (_DWORD ***)(this + 24480);
    v5 = 150;
    do
    {
      sub_444A40(**v4++, 1);
      --v5;
    }
    while ( v5 );
    sub_422D00(this);
    sub_4218E0((_DWORD *)this, 2);
    sub_40C3E0(Buf, 2);
    v8 = *(_DWORD *)(this + 11484) != *((_DWORD *)Buf + 272077);
    v6 = *((_DWORD *)Buf + 4);
    sub_432D20(this, (int)"mesmenu", 0);
    v7 = 150;
    do
    {
      sub_444A40(**v3++, 0);
      --v7;
    }
    while ( v7 );
    sub_421A00(this, 0);
    result = (void *)v8;
    *((_DWORD *)Buf + 272077) = v8;
    *(_DWORD *)(this + 11484) = v8;
    *((_DWORD *)Buf + 4) = v6;
  }
  return result;
}

//----- (00432F20) --------------------------------------------------------
void __thiscall sub_432F20(_DWORD *this, int a2)
{
  int *v3; // ecx

  switch ( a2 )
  {
    case 1:
    case 11:
      if ( this[3898] == 11 )
        *(_DWORD *)(this[2586] + 172) = 1;
      *((_DWORD *)Buf + 272077) = 0;
      v3 = (int *)this[2586];
      this[2871] = 0;
      sub_406C30(v3, -1);
      sub_422470(this, 0);
      sub_422470(this, (void *)1);
      sub_422470(this, (void *)2);
      sub_425FF0((int)this, 60);
      this[3904] = 1;
      this[5968] = 0;
      sub_421970((int)this);
      break;
    case 2:
    case 3:
      *((_DWORD *)dword_4C0874 + 6) = 1;
      sub_43A690((int)dword_4C0874, *((_DWORD *)dword_4C0874 + 2) == 0, 0);
      *((_DWORD *)dword_4C0874 + 6) = this[5978];
      this[391] = 6;
      break;
    case 4:
      sub_432D20((int)this, (int)"gotitle", 0);
      this[3906] = 1;
      break;
    case 7:
      sub_432E30((int)this);
      this[3906] = 1;
      break;
    case 8:
      sub_426260(this, -1);
      this[3906] = 1;
      break;
    default:
      return;
  }
}

//----- (00433070) --------------------------------------------------------
void __thiscall sub_433070(_DWORD *this, int a2, int a3, int a4)
{
  this[3898] = a2;
  if ( *((_DWORD *)Buf + a2 + 4410) )
  {
    this[3898] = -1;
    sub_432F20(this, a2);
  }
  else if ( sub_418960((int *)dword_4C08E4, this[2604], a2, -1) )
  {
    if ( a2 == 2 || a2 == 3 )
    {
      this[5978] = *((_DWORD *)dword_4C0874 + 6);
      *((_DWORD *)dword_4C0874 + 6) = 0;
    }
    sub_412DB0((float *)dword_4C08E4, 422, 248);
    sub_417970((int)dword_4C08E4, 1);
    this[3897] = a3;
    this[391] = 89;
  }
}

//----- (00433120) --------------------------------------------------------
void __thiscall sub_433120(int this, unsigned int a2)
{
  int v3; // eax
  int v4; // eax

  if ( a2 <= 0xC )
  {
    v3 = sub_403420((__int16 *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53120);
    sub_442D20(v3, (int)dword_4C087C);
    switch ( a2 )
    {
      case 0u:
        *((_DWORD *)Buf + 272077) = *((_DWORD *)Buf + 272077) == 0;
        *((_DWORD *)Buf + 4) = 0;
        break;
      case 1u:
        *((_DWORD *)Buf + 272077) = *((_DWORD *)Buf + 272077) == 0;
        *((_DWORD *)Buf + 8) = 0;
        *((_DWORD *)Buf + 4) = 0;
        break;
      case 2u:
        *((_DWORD *)Buf + 4) = *((_DWORD *)Buf + 4) == 0;
        if ( *((_DWORD *)Buf + 4) )
          *(_DWORD *)(this + 2000) = 0;
        *((_DWORD *)Buf + 272077) = 0;
        break;
      case 3u:
        sub_4224C0((_DWORD *)this, (void *)2);
        sub_432C40((int *)this);
        sub_405CE0(*(_DWORD **)(this + 10344), 0);
        break;
      case 4u:
        if ( !sub_40CCD0(Buf, 9, 7) )
        {
          sub_432D20(this, (int)"save", 0);
          sub_425240(this);
          *(_DWORD *)(this + 1564) = 0;
          *(_DWORD *)(this + 15624) = 1;
        }
        break;
      case 5u:
        if ( !sub_40CCD0(Buf, 9, 7) )
        {
          sub_432D20(this, (int)"load", 0);
          goto LABEL_13;
        }
        break;
      case 6u:
        goto LABEL_27;
      case 7u:
        if ( (!sub_421E40((_DWORD *)this) || *((_DWORD *)Buf + 66510)) && !sub_40CCD0(Buf, 9, 7) )
        {
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)aSe201, 1, 0);
          sub_425240(this);
          sub_433070((_DWORD *)this, 7, 1, 0);
        }
        break;
      case 8u:
        if ( (!sub_421E40((_DWORD *)this) || *((_DWORD *)Buf + 66510)) && !sub_40CCD0(Buf, 9, 7) && sub_40C610(2) )
        {
          sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)aSe201, 1, 0);
          sub_433070((_DWORD *)this, 8, 1, 0);
        }
        break;
      case 9u:
        *(_DWORD *)(this + 15592) = 3;
        if ( *((_DWORD *)dword_4C0874 + 2) )
          *(_DWORD *)(this + 15592) = 2;
        sub_433070((_DWORD *)this, *(_DWORD *)(this + 15592), 1, 0);
        break;
      case 0xAu:
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x36u, 5);
LABEL_27:
        sub_432D20(this, (int)"config", 0);
LABEL_13:
        *(_DWORD *)(this + 1564) = 0;
        *(_DWORD *)(this + 15624) = 1;
        break;
      case 0xBu:
        *(_DWORD *)(this + 15592) = 4;
        sub_433070((_DWORD *)this, 4, 1, 0);
        break;
      case 0xCu:
        v4 = sub_40CCD0(Buf, 99, 185);
        sub_43B860(2, v4 + 100);
        break;
      default:
        return;
    }
  }
}

//----- (00433440) --------------------------------------------------------
void __thiscall sub_433440(_DWORD *this, int a2)
{
  char v3; // al
  int v4; // eax
  char v5; // cl
  char v6; // cl

  if ( !this[2870] )
  {
    v3 = *(_BYTE *)(a2 + 1);
    switch ( v3 )
    {
      case 'n':
        *((_DWORD *)Buf + 34) = *((_DWORD *)Buf + 34) == 0;
        return;
      case 'c':
        this[2870] = 1;
        return;
      case 'r':
        if ( sub_40CCD0(Buf, 99, 30) )
          sub_433120((int)this, 0);
        else
          sub_433120((int)this, 1u);
        return;
    }
    if ( v3 == 97 && *(_BYTE *)(a2 + 2) == 97 )
    {
      if ( !strcmp((const char *)(a2 + 1), "aasave") )
      {
        sub_425240((int)this);
        sub_432D20((int)this, (int)"save", 1);
        this[3906] = 1;
      }
      if ( !strcmp((const char *)(a2 + 1), "aaload") )
      {
        sub_432D20((int)this, (int)"load", 1);
        this[3906] = 1;
      }
      if ( !strcmp((const char *)(a2 + 1), "aaconfig") )
      {
        sub_432D20((int)this, (int)"config", 1);
        this[3906] = 1;
      }
      if ( !strcmp((const char *)(a2 + 1), "aawin_size") )
        sub_433120((int)this, 9u);
      if ( !strcmp((const char *)(a2 + 1), "aatitle") )
        sub_433120((int)this, 0xBu);
      if ( !strcmp((const char *)(a2 + 1), "aaskip") )
      {
        v4 = sub_40CCD0(Buf, 99, 30);
        sub_433120((int)this, v4 == 0);
      }
      if ( !strcmp((const char *)(a2 + 1), "aalog") )
        sub_433120((int)this, 3u);
      if ( !strcmp((const char *)(a2 + 1), "aaqsave") )
        sub_433120((int)this, 7u);
      if ( !strcmp((const char *)(a2 + 1), "aaqload") )
        goto LABEL_29;
    }
    else
    {
      if ( v3 == 111 )
      {
        sub_433120((int)this, 6u);
        return;
      }
      if ( v3 == 113 )
      {
        v5 = *(_BYTE *)(a2 + 2);
        if ( v5 == 115 )
        {
          sub_433120((int)this, 7u);
          return;
        }
        if ( v5 == 108 )
        {
LABEL_29:
          sub_433120((int)this, 8u);
          return;
        }
      }
      if ( v3 != 100 )
        goto LABEL_42;
      v6 = *(_BYTE *)(a2 + 2);
      if ( v6 == 115 )
      {
        sub_433120((int)this, 4u);
        return;
      }
      if ( v6 == 108 )
      {
        sub_433120((int)this, 5u);
      }
      else
      {
LABEL_42:
        if ( v3 == 118 && *(_BYTE *)(a2 + 2) == 115 )
        {
          sub_433120((int)this, 0xCu);
        }
        else
        {
          switch ( v3 )
          {
            case 'a':
              sub_433120((int)this, 2u);
              break;
            case 'v':
              sub_43CE50(dword_4C08F4, (void *)2);
              sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)Buf + 265392, 2, 0);
              break;
            case 'b':
              sub_433120((int)this, 3u);
              break;
          }
        }
      }
    }
  }
}

//----- (00433810) --------------------------------------------------------
int __thiscall sub_433810(int this)
{
  void *v1; // eax
  _DWORD *v3; // edi
  _DWORD *v4; // eax
  int result; // eax
  __int64 v6; // rax
  _DWORD *v7; // eax
  __int64 v8; // rax
  unsigned int v9; // edx
  __int64 v10; // rax
  __int64 v11; // rax
  _DWORD ***v12; // ebx
  int v13; // edi
  _DWORD ***v14; // edi
  int v15; // ebx
  BOOL v16; // eax
  int v17; // eax
  unsigned int v18; // [esp+14h] [ebp-1Ch]
  BOOL v19[2]; // [esp+18h] [ebp-18h] BYREF
  int v20[2]; // [esp+20h] [ebp-10h] BYREF
  struct tagPOINT Point; // [esp+28h] [ebp-8h] BYREF

  v1 = Buf;
  v18 = -1;
  if ( !*((_DWORD *)Buf + 36) || *(_DWORD *)(this + 11480) )
    return 0;
  if ( *(_DWORD *)(this + 1564) != 6 || *(_DWORD *)(*(_DWORD *)(this + 10344) + 4) )
  {
    *(_DWORD *)(this + 23880) = 0;
    sub_442D20((int)v1, (int)dword_4C087C);
    return 0;
  }
  if ( !sub_442AE0(dword_4C087C, 2) || (int)sub_442E10(dword_4C087C, 2) <= 300 * *((_DWORD *)Buf + 38) )
  {
    if ( *(_DWORD *)(this + 23880) )
    {
      GetCursorPos(&Point);
      ScreenToClient(hWnd, &Point);
      sub_442B50(dword_4C087C, Point.x, Point.y, -1);
      if ( *(_DWORD *)(this + 23888) - sub_442BD0(dword_4C087C, v20)[1] < -64 )
      {
        v6 = *(_DWORD *)(this + 23884) - *sub_442BD0(dword_4C087C, v20);
        if ( (int)((HIDWORD(v6) ^ v6) - HIDWORD(v6)) < 100 )
        {
          v7 = Buf;
          v18 = *((_DWORD *)Buf + 94);
          goto LABEL_28;
        }
      }
      if ( *(_DWORD *)(this + 23884) - *sub_442BD0(dword_4C087C, v20) <= 64
        || (v8 = *(_DWORD *)(this + 23888) - sub_442BD0(dword_4C087C, v20)[1],
            (int)((HIDWORD(v8) ^ v8) - HIDWORD(v8)) >= 100) )
      {
        if ( *(_DWORD *)(this + 23888) - sub_442BD0(dword_4C087C, v20)[1] > 64 )
        {
          v10 = *(_DWORD *)(this + 23884) - *sub_442BD0(dword_4C087C, v20);
          if ( (int)((HIDWORD(v10) ^ v10) - HIDWORD(v10)) < 100 )
          {
            v7 = Buf;
            v18 = *((_DWORD *)Buf + 92);
            goto LABEL_28;
          }
        }
        if ( *(_DWORD *)(this + 23884) - *sub_442BD0(dword_4C087C, v20) >= -64 )
          goto LABEL_36;
        v11 = *(_DWORD *)(this + 23888) - sub_442BD0(dword_4C087C, v20)[1];
        if ( (int)((HIDWORD(v11) ^ v11) - HIDWORD(v11)) >= 100 )
          goto LABEL_36;
        v7 = Buf;
        v9 = *((_DWORD *)Buf + 93);
      }
      else
      {
        v7 = Buf;
        v9 = *((_DWORD *)Buf + 95);
      }
      v18 = v9;
LABEL_28:
      if ( v18 )
      {
        if ( v18 != 1 )
        {
LABEL_36:
          sub_433120(this, v18);
          *(_DWORD *)(this + 23880) = 0;
          sub_442D20(v17, (int)dword_4C087C);
          return 1;
        }
      }
      else
      {
        v7[8] = 1;
      }
      v12 = (_DWORD ***)(this + 24480);
      v13 = 150;
      do
      {
        sub_444A40(**v12++, 1);
        --v13;
      }
      while ( v13 );
      sub_422D00(this);
      v19[0] = *(_DWORD *)(this + 11484) != *((_DWORD *)Buf + 272077);
      v20[0] = *((_DWORD *)Buf + 4);
      sub_432D20(this, (int)"mesmenu", 0);
      v14 = (_DWORD ***)(this + 24480);
      v15 = 150;
      do
      {
        sub_444A40(**v14++, 0);
        --v15;
      }
      while ( v15 );
      v16 = v19[0];
      *((_DWORD *)Buf + 272077) = v19[0];
      *(_DWORD *)(this + 11484) = v16;
      *((_DWORD *)Buf + 4) = v20[0];
      goto LABEL_36;
    }
    return 0;
  }
  GetCursorPos(&Point);
  ScreenToClient(hWnd, &Point);
  sub_442B50(dword_4C087C, Point.x, Point.y, -1);
  if ( sub_421E40((_DWORD *)this) || *((_DWORD *)Buf + 4) )
  {
    *(_DWORD *)(this + 11480) = 0;
    *((_DWORD *)Buf + 272077) = 0;
    *(_DWORD *)(this + 11484) = 0;
    *((_DWORD *)Buf + 4) = 0;
  }
  if ( !*(_DWORD *)(this + 23880) )
  {
    if ( *(_DWORD *)(this + 10396) )
    {
      sub_425240(this);
      v3 = sub_442BD0(dword_4C087C, v20);
      v4 = sub_442BD0(dword_4C087C, v19);
      sub_412DB0(*(float **)(this + 10396), *v3 - 90, v4[1] - 103);
      *(_DWORD *)(this + 23884) = *sub_442BD0(dword_4C087C, v20);
      *(_DWORD *)(this + 23888) = sub_442BD0(dword_4C087C, v20)[1];
    }
  }
  result = 1;
  *(_DWORD *)(this + 23880) = 1;
  return result;
}
// 433C00: variable 'v17' is possibly undefined
// 433810:  BOOL var_18[2]

//----- (00433C30) --------------------------------------------------------
int __thiscall sub_433C30(_DWORD *this)
{
  int v2; // eax
  int v3; // ebp
  _DWORD **v4; // edi
  int v5; // ebx

  if ( sub_442FD0(dword_4C087C, 11) && this[3908] )
  {
    this[2872] = 1;
    this[2871] = 1;
  }
  if ( !sub_442AB0(dword_4C087C, 11) && this[2872] )
    sub_421E20(this);
  v2 = sub_442D80(dword_4C087C);
  if ( !v2 )
  {
    this[2872] = 0;
    this[2871] = 0;
  }
  if ( this[5970] )
  {
    if ( this[391] != 6 || (v2 = this[2586], *(_DWORD *)(v2 + 4)) )
    {
      this[5970] = 0;
      sub_442D20(v2, (int)dword_4C087C);
    }
  }
  if ( this[391] != 6 || this[5968] )
    return 0;
  if ( sub_442B00(dword_4C087C, 10) )
  {
    sub_403420((__int16 *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53120);
    this[2870] = this[2870] == 0;
    *((_DWORD *)Buf + 4) = 0;
    sub_421E20(this);
  }
  if ( (sub_442B00(dword_4C087C, 7) || sub_442B00(dword_4C087C, 1)) && this[2870] )
  {
    this[2870] = 0;
    sub_442B40(dword_4C087C, 7);
    sub_442B40(dword_4C087C, 1);
  }
  if ( sub_433810((int)this) )
    return 0;
  if ( !sub_442FB0(dword_4C087C) || *(_DWORD *)(this[2586] + 4) )
    goto LABEL_36;
  if ( this[2870] || sub_421E40(this) || *((_DWORD *)Buf + 4) )
  {
    this[2870] = 0;
    this[2871] = 0;
    *((_DWORD *)Buf + 4) = 0;
    *((_DWORD *)Buf + 272077) = 0;
    return 1;
  }
  if ( sub_40CCD0(Buf, 9, 7) == 1 || sub_442B00(dword_4C087C, 12) )
  {
    v3 = 0;
  }
  else
  {
    v3 = *((_DWORD *)Buf + 26);
    if ( v3 == 1 )
    {
      this[2870] = this[2870] == 0;
      goto LABEL_36;
    }
  }
  v4 = (_DWORD **)(this + 6130);
  v5 = 49;
  do
  {
    sub_40EFA0(*v4++);
    --v5;
  }
  while ( v5 );
  if ( !v3 )
  {
    sub_403420((__int16 *)Buf + 7 * *((_DWORD *)Buf + 26559) + 53120);
    sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)aSe201, 1, 0);
    sub_425240((int)this);
    sub_432D20((int)this, (int)"advmenu", 0);
    this[391] = 0;
  }
LABEL_36:
  if ( this[5968] )
    this[2870] = 0;
  if ( !this[2870] )
  {
    if ( sub_442B00(dword_4C087C, 17) )
      sub_433120((int)this, 0xAu);
    if ( sub_442B00(dword_4C087C, 18) )
      sub_433120((int)this, 0);
    if ( sub_442B00(dword_4C087C, 19) )
      sub_433120((int)this, 2u);
    if ( sub_442B00(dword_4C087C, 20) )
      sub_433120((int)this, 9u);
    if ( sub_442B00(dword_4C087C, 21) )
      sub_433120((int)this, 7u);
    if ( sub_442B00(dword_4C087C, 22) )
      sub_433120((int)this, 8u);
    if ( sub_442B00(dword_4C087C, 23) )
      sub_433120((int)this, 4u);
    if ( sub_442B00(dword_4C087C, 24) )
      sub_433120((int)this, 5u);
    if ( sub_442B00(dword_4C087C, 25) )
      sub_433120((int)this, 6u);
    return 0;
  }
  return 1;
}

//----- (00433FE0) --------------------------------------------------------
void __thiscall sub_433FE0(int this)
{
  int v2; // eax
  int v3; // ebx
  int v4; // eax
  _DWORD *v5; // ecx
  BOOL v6; // esi
  float v7; // ecx
  float *v8; // ecx
  double v9; // st7
  float v10; // ecx
  int v11; // ecx
  int v12; // esi
  float **v13; // edx
  float v14; // ecx
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  _DWORD *v23; // ecx
  int v24; // eax
  _DWORD *v25; // ecx
  int v26; // eax
  int **v27; // esi
  int v28; // ebx
  int v29; // eax
  _DWORD *v30; // ecx
  int v31; // eax
  _DWORD *v32; // ecx
  int v33; // eax
  _DWORD *v34; // ecx
  _DWORD *v35; // eax
  _DWORD *v36; // ecx
  _DWORD *v37; // eax
  int v38; // eax
  int v39; // eax
  int v40; // ecx
  bool v41; // zf
  int v42; // eax
  int v43; // eax
  int v44; // esi
  int v45; // eax
  _DWORD *v46; // ecx
  int v47; // eax
  int *v48; // eax
  _DWORD *v49; // ecx
  int v50; // eax
  _DWORD *v51; // ecx
  int v52; // eax
  _BYTE *v53; // edx
  int v54; // ecx
  int j; // eax
  int v56; // eax
  int v57; // ecx
  int v58; // ecx
  int v59; // edx
  unsigned int v60; // esi
  int v61; // ecx
  int v62; // ecx
  int v63; // ecx
  char v64; // cl
  int v65; // eax
  int v66; // eax
  int v67; // edi
  int *v68; // esi
  _BYTE *v69; // ebx
  _DWORD *v70; // ecx
  int v71; // eax
  _DWORD *v72; // ecx
  int v73; // eax
  char *v74; // eax
  char v75; // cl
  _DWORD *v76; // ecx
  int v77; // eax
  _DWORD *v78; // ecx
  int v79; // eax
  int *v80; // eax
  int v81; // ebx
  int *v82; // edi
  _BYTE *v83; // esi
  char *v84; // eax
  char v85; // cl
  int v86; // eax
  _DWORD *v87; // ecx
  _DWORD *v88; // ecx
  int v89; // eax
  _DWORD *v90; // ecx
  int v91; // eax
  _BYTE *v92; // edx
  int v93; // ecx
  int i; // eax
  int v95; // eax
  char v96; // al
  char v97; // al
  char v98; // al
  char v99; // al
  char v100; // al
  char v101; // al
  DWORD Time; // eax
  char v103; // al
  char v104; // al
  int v105; // eax
  int v106; // eax
  _DWORD *v107; // ecx
  _DWORD *v108; // eax
  _DWORD *v109; // ecx
  _DWORD *v110; // eax
  _DWORD *v111; // ecx
  _DWORD *v112; // eax
  int v113; // esi
  int v114; // esi
  int v115[240]; // [esp-3C0h] [ebp-7D8h] BYREF
  float v116; // [esp+0h] [ebp-418h]
  char v117; // [esp+4h] [ebp-414h]
  int v118; // [esp+14h] [ebp-404h] BYREF
  int v119; // [esp+18h] [ebp-400h]
  unsigned int v120; // [esp+1Ch] [ebp-3FCh] BYREF
  int v121; // [esp+20h] [ebp-3F8h]
  int v122; // [esp+24h] [ebp-3F4h]
  int v123; // [esp+28h] [ebp-3F0h]
  int v124; // [esp+2Ch] [ebp-3ECh]
  int v125; // [esp+30h] [ebp-3E8h]
  int v126[240]; // [esp+34h] [ebp-3E4h] BYREF
  char v127; // [esp+3F4h] [ebp-24h] BYREF
  int v128; // [esp+3F5h] [ebp-23h]
  int v129; // [esp+3F9h] [ebp-1Fh]
  int v130; // [esp+3FDh] [ebp-1Bh]
  int v131; // [esp+401h] [ebp-17h]
  int v132; // [esp+405h] [ebp-13h]
  int v133; // [esp+409h] [ebp-Fh]
  int v134; // [esp+40Dh] [ebp-Bh]
  __int16 v135; // [esp+411h] [ebp-7h]
  char v136; // [esp+413h] [ebp-5h]

  v128 = 0;
  v129 = 0;
  v130 = 0;
  v131 = 0;
  v132 = 0;
  v133 = 0;
  v134 = 0;
  v135 = 0;
  v136 = 0;
  v125 = *(_DWORD *)(this + 1564);
  v2 = *(_DWORD *)(this + 11480) + *(_DWORD *)(this + 23872);
  v3 = 0;
  v122 = 0;
  v127 = 0;
  v119 = 0;
  v121 = 0;
  v123 = v2;
  *(_DWORD *)(this + 1996) = timeGetTime();
  sub_43D240((int)dword_4C08F4);
  do
  {
    if ( !sub_442FD0(dword_4C087C, 11) && !*((_DWORD *)Buf + 21)
      || (v4 = *(_DWORD *)(this + 1564), v4 == 6)
      || v4 == 21
      || v4 == 89 )
    {
      v5 = **(_DWORD ***)(this + 4 * v3 + 24480);
      v116 = 0.0;
    }
    else
    {
      v5 = **(_DWORD ***)(this + 4 * v3 + 24480);
      LODWORD(v116) = 1;
    }
    sub_444500(v5, SLODWORD(v116));
    if ( v3 <= 65 )
      sub_444500(**(_DWORD ***)(this + 4 * v3 + 24480), 0);
    if ( *(_DWORD *)(this + 23904) )
    {
      sub_44A6E0(**(_DWORD ***)(this + 4 * v3 + 24480));
      if ( v3 == 88 )
        sub_440CE0(*(_DWORD *)(this + 25080));
    }
    v6 = sub_40EEE0(*(int **)(this + 4 * v3 + 24480));
    if ( v6 && *(_DWORD *)(this + 1584) && (v3 < 70 || v3 >= 96) )
      v119 = 1;
    if ( v3 == 88 )
    {
      if ( sub_444F50(**(_DWORD ***)(this + 24832)) || v6 )
      {
        v8 = **(float ***)(this + 24832);
      }
      else
      {
        v116 = v7;
        sub_444470(**(float ***)(this + 24832), 0.0);
        v8 = **(float ***)(this + 24832);
      }
      v9 = sub_444480(v8);
      v116 = v10;
      v11 = *(_DWORD *)(this + 25080);
      v116 = v9;
      sub_440D60(v11, v116);
    }
    switch ( v3 )
    {
      case 10:
      case 20:
      case 30:
      case 40:
      case 50:
        if ( sub_444EB0(**(_DWORD ***)(this + 4 * v3 + 24488)) )
        {
          sub_444990(**(_DWORD **)(this + 4 * v3 + 24488), v126);
          v12 = v126[45];
          sub_444990(**(_DWORD **)(this + 4 * v3 + 24480), v126);
          v116 = NAN;
          v126[45] = v12;
          qmemcpy(v115, v126, sizeof(v115));
          sub_447F40(
            **(_DWORD **)(this + 4 * v3 + 24488),
            v115[0],
            v115[1],
            v115[2],
            v115[3],
            v115[4],
            v115[5],
            v115[6],
            v115[7],
            v115[8],
            v115[9],
            v115[10],
            v115[11],
            v115[12],
            v115[13],
            v115[14],
            v115[15],
            v115[16],
            v115[17],
            v115[18],
            v115[19],
            v115[20],
            v115[21],
            v115[22],
            v115[23],
            v115[24],
            v115[25],
            v115[26],
            v115[27],
            v115[28],
            v115[29],
            v115[30],
            v115[31],
            v115[32],
            v115[33],
            v115[34],
            v115[35],
            v115[36],
            v115[37],
            v115[38],
            v115[39],
            v115[40],
            v115[41],
            v115[42],
            v115[43],
            v115[44],
            v115[45],
            v115[46],
            v115[47],
            v115[48],
            v115[49],
            v115[50],
            v115[51],
            v115[52],
            v115[53],
            v115[54],
            v115[55],
            v115[56],
            v115[57],
            v115[58],
            v115[59],
            v115[60],
            v115[61]);
        }
        break;
      case 11:
      case 21:
      case 31:
      case 41:
      case 51:
        if ( sub_444200(**(_DWORD ***)(this + 4 * v3 + 24480))
          && sub_444480((float *)**(_DWORD **)(this + 4 * v3 + 24480)) == 0.0 )
        {
          sub_445230(**(_DWORD **)(this + 4 * v3 + 24480));
          v13 = *(float ***)(this + 4 * v3 + 24480);
          v116 = v14;
          sub_444470(*v13, 0.0);
        }
        break;
      default:
        break;
    }
    ++v3;
  }
  while ( v3 < 150 );
  sub_421EE0((int **)this, 1);
  *(_DWORD *)(this + 23904) = 0;
  if ( sub_43B920(dword_4C08F4, 2) )
  {
    v15 = *((_DWORD *)Buf + 29);
    if ( v15 < 100 && *((_DWORD *)Buf + 30) )
      sub_43C4F0(dword_4C08F4, 0, v15 * *((_DWORD *)Buf + 15) / 100);
    if ( *(_DWORD *)(this + 25112) != -1 )
    {
      v16 = sub_41E830(*(_DWORD *)(this + 25112));
      sub_444A80(**(char ***)(this + 4 * v16 + 24480));
      v17 = sub_41E830(*(_DWORD *)(this + 25112));
      sub_43B7A0(2, 5000 * ***(_DWORD ***)(this + 4 * v17 + 24480) / 100);
    }
  }
  else
  {
    if ( *(_DWORD *)(this + 1564) != 6 || !*((_DWORD *)Buf + 4) )
      sub_43C4F0(dword_4C08F4, 0, *((_DWORD *)Buf + 15));
    *(_DWORD *)(this + 25112) = -1;
  }
  v18 = sub_408610((int)dword_4C08DC);
  if ( v18 )
  {
    v119 = 1;
    if ( v18 == 2 )
    {
      *(_DWORD *)(this + 1560) = 0;
      sub_423200(this);
      sub_425D20((char **)this, 0);
      *(_DWORD *)(this + 15624) = 1;
      v119 = 0;
    }
    else if ( v18 == 3 )
    {
      v19 = *(_DWORD *)(this + 15612);
      if ( v19 > 0 )
      {
        *(_DWORD *)(this + 15612) = v19 - 1;
        if ( *(_DWORD *)(this + 1764) )
          sub_44BF60(*(int **)(this + 25096), *(_DWORD *)(this + 1764));
        v20 = sub_407820(-1, 255, 255, 255, v117);
        *(_DWORD *)(this + 1764) = v20;
        sub_407810(dword_4C08DC, v20);
        sub_407780((int)dword_4C08DC, 6, 5);
      }
    }
  }
  v21 = *(_DWORD *)(this + 1564);
  if ( (v21 == 6 || v21 == 21) && !*(_DWORD *)(this + 23872) )
  {
    v22 = sub_457FB0(*(_DWORD *)(this + 25120));
    if ( *(_DWORD *)(this + 1564) == 21
      && *((_DWORD *)Buf + 4)
      && *(_DWORD *)(this + 1996) - *(_DWORD *)(this + 2000) > 2000 )
    {
      *(_DWORD *)(this + 2000) = *(_DWORD *)(this + 1996);
      *(_DWORD *)(this + 1564) = 0;
    }
    if ( *(_DWORD *)(this + 1584) && v22 )
      v119 = 1;
  }
  if ( !sub_433C30((_DWORD *)this) )
  {
    if ( *(_DWORD *)(this + 15616) && !v119 )
    {
      *((_BYTE *)Buf + 21944) = 0;
      *((_BYTE *)Buf + 265392) = 0;
      memset((char *)Buf + 21984, 0, 0x80u);
      memset((void *)(this + 11492), 0, 0x800u);
      memset((void *)(this + 13540), 0, 0x800u);
      v23 = *(_DWORD **)(this + 10368);
      if ( v23 )
      {
        v24 = sub_414740(v23);
        sub_440880(v24);
      }
      v25 = *(_DWORD **)(this + 10372);
      if ( v25 )
      {
        v26 = sub_414740(v25);
        sub_440880(v26);
      }
      sub_423200(this);
      v27 = (int **)(this + 24520);
      v28 = 54;
      do
      {
        sub_445C30(**v27);
        sub_445250((void *)**v27++, 0);
        --v28;
      }
      while ( v28 );
      sub_4260E0(this, (int)Buf + 19336, 0);
      memset((char *)Buf + 269852, 0, 0x19D48u);
      sub_428640(this, COERCE_FLOAT(1), 0);
      *(_DWORD *)(this + 11480) = 1;
      v29 = sub_40CBC0((int *)Buf, (char *)Buf + 19336);
      if ( **(_DWORD **)(this + 10344) > sub_402B40(v29) )
      {
        sub_4224C0((_DWORD *)this, (void *)2);
        sub_4320B0(this, 2);
        v30 = *(_DWORD **)(this + 10368);
        if ( v30 )
        {
          v31 = sub_414740(v30);
          sub_440880(v31);
        }
        v32 = *(_DWORD **)(this + 10372);
        if ( v32 )
        {
          v33 = sub_414740(v32);
          sub_440880(v33);
        }
        memset((void *)(this + 11492), 0, 0x800u);
        memset((void *)(this + 13540), 0, 0x800u);
        *((_BYTE *)Buf + 265392) = 0;
        memset((char *)Buf + 269852, 0, 0x19D48u);
        sub_428640(this, 0.0, 1);
      }
      if ( *((_BYTE *)Buf + 21944) && !*(_DWORD *)(this + 25104) )
        sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)Buf + 21944, 0, 1u);
      v34 = *(_DWORD **)(this + 10368);
      *(_DWORD *)(this + 11480) = 0;
      *(_DWORD *)(this + 15616) = 0;
      *(_DWORD *)(this + 15624) = 0;
      *(_DWORD *)(this + 1560) = 1;
      if ( v34 )
      {
        v116 = *((float *)Buf + 1);
        v35 = (_DWORD *)sub_414740(v34);
        sub_43D450(v35, SLODWORD(v116));
        v36 = *(_DWORD **)(this + 10368);
        v116 = 0.0;
        v37 = (_DWORD *)sub_414740(v36);
        sub_441270(v37, SLODWORD(v116));
      }
      return;
    }
    if ( !*(_DWORD *)(this + 1584) )
    {
      v119 = 0;
      v121 = 0;
    }
    switch ( *(_DWORD *)(this + 1564) )
    {
      case 6:
        if ( *(_DWORD *)(this + 23872) )
          goto LABEL_254;
        sub_4320B0(this, 0);
        sub_441B30(*(_DWORD *)(this + 25080));
        if ( sub_40CCD0(Buf, 99, 234) )
        {
          v81 = 0;
          v82 = (int *)(this + 10368);
          do
          {
            if ( v81 >= 3 && v81 <= 6 )
            {
              if ( *v82 )
              {
                sub_414D50(*v82, 0);
                v83 = (_BYTE *)*v82;
                if ( *(_BYTE *)*v82 )
                {
                  v84 = (char *)*v82;
                  do
                  {
                    v85 = *v84;
                    v84[&v127 - v83] = *v84;
                    ++v84;
                  }
                  while ( v85 );
                  *v83 = 0;
                }
              }
            }
            ++v81;
            ++v82;
          }
          while ( v81 < 22 );
LABEL_254:
          if ( v127 )
          {
            sub_433440((_DWORD *)this, (int)&v127);
            if ( *(_DWORD *)(this + 15624) )
            {
              v119 = 0;
              v121 = 0;
            }
          }
          else
          {
            v86 = sub_406150(*(_DWORD *)(this + 10344));
            *(_DWORD *)(this + 23872) = v86;
            if ( v86 )
            {
              if ( *((_DWORD *)Buf + 4) )
                *((_DWORD *)Buf + 4) = 0;
              sub_421E20((_DWORD *)this);
              if ( *(_DWORD *)(this + 23872) != 1 )
                sub_4224C0(v87, (void *)2);
              if ( *(_DWORD *)(this + 23872) == 2 )
                sub_433070((_DWORD *)this, 1, 1, 0);
            }
            else
            {
              if ( sub_422DE0((_DWORD *)this) )
              {
                if ( v119 )
                  goto LABEL_285;
                if ( !*((_DWORD *)Buf + 66510) )
                {
                  sub_4320B0(this, 1);
                  if ( *((_DWORD *)Buf + 23) )
                    sub_4224C0((_DWORD *)this, (void *)2);
                  sub_41F340(this, 31);
                  v88 = *(_DWORD **)(this + 10368);
                  if ( v88 )
                  {
                    v89 = sub_414740(v88);
                    sub_440880(v89);
                  }
                  v90 = *(_DWORD **)(this + 10372);
                  if ( v90 )
                  {
                    v91 = sub_414740(v90);
                    sub_440880(v91);
                  }
                  memset((void *)(this + 11492), 0, 0x800u);
                  memset((void *)(this + 13540), 0, 0x800u);
                  *((_BYTE *)Buf + 265392) = 0;
                  v92 = Buf;
                  v93 = 21984;
                  for ( i = 22112; i < 22128; i += 4 )
                  {
                    if ( !*(_DWORD *)&v92[i] && v92[v93] )
                    {
                      v92[v93] = 0;
                      v92 = Buf;
                    }
                    v93 += 32;
                  }
                  *(_DWORD *)(this + 15624) = 1;
                }
              }
              else if ( v119 )
              {
                goto LABEL_285;
              }
              if ( sub_442B00(dword_4C087C, 15) || *((_DWORD *)Buf + 26) == 2 && sub_442FB0(dword_4C087C) )
              {
                sub_442E90(dword_4C087C, 500);
                sub_43D070((DWORD *)dword_4C08F4, (unsigned __int8 *)aSe201, 1, 0);
                sub_433120(this, 3u);
                sub_442D20(v95, (int)dword_4C087C);
                if ( *((_DWORD *)Buf + 4) )
                  *(_DWORD *)(this + 2004) += *(_DWORD *)(this + 2000) - *(_DWORD *)(this + 1996);
              }
            }
          }
          goto LABEL_285;
        }
        v67 = 0;
        v68 = (int *)(this + 10368);
        while ( 1 )
        {
          switch ( v67 )
          {
            case 0:
            case 1:
            case 2:
            case 9:
            case 10:
              if ( *((_DWORD *)Buf + 34) )
              {
                if ( v67 != 9 )
                {
LABEL_221:
                  if ( *v68 )
                  {
                    sub_412F00((_DWORD *)*v68, 1);
                    sub_414D50(*v68, 0);
                    sub_412F00((_DWORD *)*v68, 0);
                    v69 = (_BYTE *)*v68;
                    if ( *(_DWORD *)(*v68 + 44) )
                    {
                      *((_DWORD *)Buf + 66515) = 0;
                      sub_419F30(*(_DWORD **)(this + 10404));
                      sub_419F30(*(_DWORD **)(this + 10408));
                      if ( *(_DWORD *)(this + 23876) )
                      {
                        sub_418F20(*(int **)(this + 10404), *(_DWORD *)(this + 10444), 0);
                        sub_418F20(*(int **)(this + 10408), *(_DWORD *)(this + 10444), 0);
                      }
                      sub_4022E0((char *)*v68);
                      sub_41FC90((const char **)this, (const char *)*v68);
                      *(_BYTE *)*v68 = 0;
                      *(_DWORD *)(this + 15624) = 1;
                      sub_421970(this);
                      v70 = *(_DWORD **)(this + 10368);
                      if ( v70 )
                      {
                        v71 = sub_414740(v70);
                        sub_440880(v71);
                      }
                      v72 = *(_DWORD **)(this + 10372);
                      if ( v72 )
                      {
                        v73 = sub_414740(v72);
                        sub_440880(v73);
                      }
                      memset((void *)(this + 11492), 0, 0x800u);
                      memset((void *)(this + 13540), 0, 0x800u);
                    }
                    else if ( *v69 )
                    {
                      v74 = (char *)*v68;
                      do
                      {
                        v75 = *v74;
                        v74[&v127 - v69] = *v74;
                        ++v74;
                      }
                      while ( v75 );
                      *v69 = 0;
                    }
                  }
                }
              }
              else if ( v67 != 10 )
              {
                goto LABEL_221;
              }
LABEL_234:
              ++v67;
              ++v68;
              if ( v67 >= 22 )
              {
                v76 = *(_DWORD **)(this + 10372);
                if ( v76 )
                {
                  v77 = sub_414740(v76);
                  sub_441B30(v77);
                }
                v78 = *(_DWORD **)(this + 10368);
                if ( v78 )
                {
                  v79 = sub_414740(v78);
                  if ( sub_441B30(v79) )
                  {
                    if ( *(_DWORD *)(this + 15624) )
                      *(_DWORD *)(this + 15624) = 0;
                    if ( sub_422DE0((_DWORD *)this) || v127 )
                    {
                      v80 = (int *)sub_414740(*(_DWORD **)(this + 10368));
                      sub_4413D0(v80);
                      sub_432D10((void *)this);
                    }
                    v119 = 1;
                  }
                }
                goto LABEL_254;
              }
              break;
            default:
              goto LABEL_234;
          }
        }
      case 7:
        v65 = sub_414740(*(_DWORD **)(this + 10372));
        sub_441B30(v65);
        v66 = sub_414740(*(_DWORD **)(this + 10368));
        if ( sub_441B30(v66) )
        {
          *(_DWORD *)(this + 23920) = timeGetTime();
        }
        else if ( timeGetTime() - *(_DWORD *)(this + 23920) > 0x3E8 )
        {
          *(_DWORD *)(this + 15624) = 1;
        }
        goto LABEL_285;
      case 8:
        v46 = *(_DWORD **)(this + 10368);
        if ( v46 && (v47 = sub_414740(v46), sub_441B30(v47)) )
        {
          if ( *(_DWORD *)(this + 15624) )
            *(_DWORD *)(this + 15624) = 0;
          if ( sub_422DE0((_DWORD *)this) )
          {
            v48 = (int *)sub_414740(*(_DWORD **)(this + 10368));
            sub_4413D0(v48);
            sub_432D10((void *)this);
          }
        }
        else
        {
          *(_DWORD *)(this + 15624) = 1;
        }
        if ( *(_DWORD *)(this + 15624) )
        {
          sub_4320B0(this, 1);
          if ( *((_DWORD *)Buf + 23) )
            sub_4224C0((_DWORD *)this, (void *)2);
          v49 = *(_DWORD **)(this + 10368);
          if ( v49 )
          {
            v50 = sub_414740(v49);
            sub_440880(v50);
          }
          v51 = *(_DWORD **)(this + 10372);
          if ( v51 )
          {
            v52 = sub_414740(v51);
            sub_440880(v52);
          }
          memset((void *)(this + 11492), 0, 0x800u);
          memset((void *)(this + 13540), 0, 0x800u);
          *((_BYTE *)Buf + 265392) = 0;
          v53 = Buf;
          v54 = 21984;
          for ( j = 22112; j < 22128; j += 4 )
          {
            if ( !*(_DWORD *)&v53[j] && v53[v54] )
            {
              v53[v54] = 0;
              v53 = Buf;
            }
            v54 += 32;
          }
        }
        goto LABEL_285;
      case 0xB:
      case 0xC:
        v124 = sub_436FE0(*(_DWORD *)(this + 10364));
        if ( v124 >= 0 && **(_BYTE **)(this + 10364) )
        {
          sub_41FC90((const char **)this, *(const char **)(this + 10364));
          *(_DWORD *)(this + 15624) = 1;
          *((_DWORD *)Buf + 272075) = 0;
        }
        sub_414D50(*(_DWORD *)(this + 10356), 0);
        sub_414D50(*(_DWORD *)(this + 10352), 0);
        v56 = sub_414D50(*(_DWORD *)(this + 10348), 0);
        switch ( v56 )
        {
          case -1:
            goto LABEL_285;
          case 100:
            sub_412DD0(*(float **)(this + 10348), &v118, (int *)&v120);
            v57 = *(_DWORD *)(this + 10348);
            LODWORD(v116) = 1;
            v115[239] = 60;
            v115[238] = v120;
            v115[237] = v118 + 1280;
            v115[236] = v120;
            v115[235] = v118 + *(_DWORD *)(v57 + 208);
            sub_412E00(v57, *(__int64 *)&v115[235], *(__int64 *)&v115[237], 60, 1);
            sub_412DD0(*(float **)(this + 10356), &v118, (int *)&v120);
            v58 = *(_DWORD *)(this + 10356);
            LODWORD(v116) = 1;
            v115[239] = 60;
            v115[238] = v120;
            v115[237] = v118 + 1280;
            v115[236] = v120;
            v115[235] = v118 + *(_DWORD *)(v58 + 208);
            sub_412E00(v58, *(__int64 *)&v115[235], *(__int64 *)&v115[237], 60, 1);
            sub_412DD0(*(float **)(this + 10352), &v118, (int *)&v120);
            v59 = v118;
            LODWORD(v116) = 1;
            v60 = v118 + 1280;
LABEL_201:
            v61 = *(_DWORD *)(this + 10352);
            v115[239] = 60;
            *(_QWORD *)&v115[237] = __PAIR64__(v120, v60);
            v115[236] = v120;
            v115[235] = v59 + *(_DWORD *)(v61 + 208);
            sub_412E00(v61, *(__int64 *)&v115[235], __SPAIR64__(v120, v60), 60, SLODWORD(v116));
            goto LABEL_285;
          case -100:
            sub_412DD0(*(float **)(this + 10348), &v118, (int *)&v120);
            v62 = *(_DWORD *)(this + 10348);
            LODWORD(v116) = 2;
            v115[239] = 60;
            v115[238] = v120;
            v115[237] = v118 - 1280;
            v115[236] = v120;
            v115[235] = v118 + *(_DWORD *)(v62 + 208);
            sub_412E00(v62, *(__int64 *)&v115[235], *(__int64 *)&v115[237], 60, 2);
            sub_412DD0(*(float **)(this + 10356), &v118, (int *)&v120);
            v63 = *(_DWORD *)(this + 10356);
            LODWORD(v116) = 2;
            v115[239] = 60;
            v115[238] = v120;
            v115[237] = v118 - 1280;
            v115[236] = v120;
            v115[235] = v118 + *(_DWORD *)(v63 + 208);
            sub_412E00(v63, *(__int64 *)&v115[235], *(__int64 *)&v115[237], 60, 2);
            sub_412DD0(*(float **)(this + 10352), &v118, (int *)&v120);
            v59 = v118;
            LODWORD(v116) = 2;
            v60 = v118 - 1280;
            goto LABEL_201;
        }
        if ( **(_BYTE **)(this + 10348) )
        {
          sub_41FC90((const char **)this, *(const char **)(this + 10348));
          *(_DWORD *)(this + 15624) = 1;
          *((_DWORD *)Buf + 272075) = 0;
        }
        else
        {
          v64 = *(_BYTE *)(this + 10520);
          if ( v64 && v64 != 45 )
          {
            sub_41FC90((const char **)this, (const char *)(this + 10520));
            v122 = 1;
          }
        }
        goto LABEL_285;
      case 0xF:
      case 0x89:
        goto LABEL_87;
      case 0x15:
        if ( *(_DWORD *)(this + 1580) )
        {
          sub_414D50(*(_DWORD *)(this + 10348), 0);
          if ( !sub_412B90(*(_DWORD **)(this + 10348)) )
          {
            *(_DWORD *)(this + 15624) = 1;
            *(_DWORD *)(this + 1580) = 0;
          }
        }
        else
        {
          v45 = *(_DWORD *)(this + 2008);
          if ( v45 >= 0 && *(_DWORD *)(this + 1996) - *(_DWORD *)(this + 2012) > v45 && v45 )
            *(_DWORD *)(this + 2008) = 0;
          if ( *(_DWORD *)(this + 2016) && sub_442F80(dword_4C087C) )
            *(_DWORD *)(this + 2008) = 0;
          if ( !sub_40CCD0(Buf, 9, 99) && sub_421E40((_DWORD *)this) )
            *(_DWORD *)(this + 2008) = 0;
          if ( !*(_DWORD *)(this + 2008) )
          {
            *(_DWORD *)(this + 2016) = 0;
            *(_DWORD *)(this + 15624) = 1;
          }
        }
        goto LABEL_285;
      case 0x16:
        v43 = *(_DWORD *)(this + 1576);
        if ( v43 <= 0 )
          goto LABEL_285;
        v44 = 0;
        v121 = 0;
        if ( (v43 & 1) != 0 && sub_43B920(dword_4C08F4, 0) )
        {
          v44 = 1;
          v121 = 1;
        }
        if ( (*(_BYTE *)(this + 1576) & 2) != 0 && sub_43AF70(dword_4C08F4, 8) )
        {
          v44 = 1;
          v121 = 1;
        }
        if ( (*(_BYTE *)(this + 1576) & 4) != 0 && sub_43B970(dword_4C08F4) )
        {
          if ( sub_421E40((_DWORD *)this) )
          {
            sub_43CE50(dword_4C08F4, (void *)1);
          }
          else
          {
            v44 = 1;
            v121 = 1;
          }
        }
        if ( (*(_BYTE *)(this + 1576) & 0x20) == 0 )
          goto LABEL_158;
        if ( !sub_43B920(dword_4C08F4, 0) )
        {
          v44 = 1;
          v121 = 1;
        }
        if ( timeGetTime() - *(_DWORD *)(this + 25124) > 0x3E8 )
        {
          v121 = 0;
        }
        else
        {
LABEL_158:
          if ( v44 )
            goto LABEL_285;
        }
        *(_DWORD *)(this + 15624) = 1;
        *(_DWORD *)(this + 1576) = 0;
        goto LABEL_285;
      case 0x1E:
        *(_DWORD *)(this + 1564) = 0;
        goto LABEL_285;
      case 0x59:
        v39 = sub_414D50((int)dword_4C08E4, 0);
        if ( v39 == -1 )
          goto LABEL_131;
        v40 = *(_DWORD *)(this + 15592);
        if ( v40 == -1 )
        {
          if ( v39 )
          {
            if ( v39 == 2 )
            {
              *((_DWORD *)Buf + *(_DWORD *)(this + 15604) + 4410) = *((_DWORD *)Buf + *(_DWORD *)(this + 15604) + 4410) == 0;
              if ( *(_DWORD *)(this + 15604) == 2 )
                *((_DWORD *)Buf + 4413) = *((_DWORD *)Buf + 4413) == 0;
              if ( *(_DWORD *)(this + 15604) == 3 )
                *((_DWORD *)Buf + 4412) = *((_DWORD *)Buf + 4412) == 0;
              if ( *(_DWORD *)(this + 15604) == 9 )
                *((_DWORD *)Buf + 4420) = *((_DWORD *)Buf + 4420) == 0;
              if ( *(_DWORD *)(this + 15604) == 10 )
                *((_DWORD *)Buf + 4419) = *((_DWORD *)Buf + 4419) == 0;
              if ( *(_DWORD *)(this + 15604) == 1 )
                *((_DWORD *)Buf + 4421) = *((_DWORD *)Buf + 4421) == 0;
              v41 = *(_DWORD *)(this + 15604) == 11;
              goto LABEL_106;
            }
            LODWORD(v116) = this + 10648;
          }
          else
          {
            LODWORD(v116) = this + 10584;
          }
          sub_41FC90((const char **)this, (const char *)LODWORD(v116));
          *(_DWORD *)(this + 15624) = 1;
        }
        else
        {
          if ( !v39 )
          {
            sub_432F20((_DWORD *)this, *(_DWORD *)(this + 15592));
            goto LABEL_130;
          }
          if ( v39 == 2 )
          {
            *((_DWORD *)Buf + v40 + 4410) = *((_DWORD *)Buf + v40 + 4410) == 0;
            if ( *(_DWORD *)(this + 15592) == 2 )
              *((_DWORD *)Buf + 4413) = *((_DWORD *)Buf + 4413) == 0;
            if ( *(_DWORD *)(this + 15592) == 3 )
              *((_DWORD *)Buf + 4412) = *((_DWORD *)Buf + 4412) == 0;
            if ( *(_DWORD *)(this + 15592) == 9 )
              *((_DWORD *)Buf + 4420) = *((_DWORD *)Buf + 4420) == 0;
            if ( *(_DWORD *)(this + 15592) == 10 )
              *((_DWORD *)Buf + 4419) = *((_DWORD *)Buf + 4419) == 0;
            if ( *(_DWORD *)(this + 15592) == 1 )
              *((_DWORD *)Buf + 4421) = *((_DWORD *)Buf + 4421) == 0;
            v41 = *(_DWORD *)(this + 15592) == 11;
LABEL_106:
            if ( v41 )
              *((_DWORD *)Buf + 4411) = *((_DWORD *)Buf + 4411) == 0;
            return;
          }
          if ( v40 == 2 || v40 == 3 )
            *((_DWORD *)dword_4C0874 + 6) = *(_DWORD *)(this + 23912);
          if ( *(_DWORD *)(this + 15592) == 11 )
            sub_402BB0(*(_DWORD **)(this + 10344));
          *(_DWORD *)(this + 1564) = 6;
        }
LABEL_130:
        *(_DWORD *)(this + 15588) = 0;
        *(_DWORD *)(this + 15592) = -1;
LABEL_131:
        if ( sub_442FB0(dword_4C087C) )
        {
          v42 = *(_DWORD *)(this + 15592);
          if ( v42 == 2 || v42 == 3 )
            *((_DWORD *)dword_4C0874 + 6) = *(_DWORD *)(this + 23912);
          if ( *(_DWORD *)(this + 15592) == 11 )
            sub_402BB0(*(_DWORD **)(this + 10344));
          if ( *(_DWORD *)(this + 15592) == -1 )
          {
            sub_41FC90((const char **)this, (const char *)(this + 10648));
            *(_DWORD *)(this + 15624) = 1;
          }
          else
          {
            *(_DWORD *)(this + 1564) = 6;
          }
          *(_DWORD *)(this + 15588) = 0;
          *(_DWORD *)(this + 15592) = -1;
        }
LABEL_285:
        v96 = *(_BYTE *)(this + 10456);
        if ( v96 && v96 != 45 && sub_442F80(dword_4C087C) )
        {
          sub_41FC90((const char **)this, (const char *)(this + 10456));
        }
        else
        {
          v97 = *(_BYTE *)(this + 10520);
          if ( v97 && v97 != 45 && sub_442FB0(dword_4C087C) )
          {
            sub_41FC90((const char **)this, (const char *)(this + 10520));
          }
          else
          {
            v98 = *(_BYTE *)(this + 10712);
            if ( v98 && v98 != 45 && sub_442B00(dword_4C087C, 5) )
            {
              sub_41FC90((const char **)this, (const char *)(this + 10712));
            }
            else
            {
              v99 = *(_BYTE *)(this + 10776);
              if ( v99 && v99 != 45 && sub_442B00(dword_4C087C, 6) )
              {
                sub_41FC90((const char **)this, (const char *)(this + 10776));
              }
              else
              {
                v100 = *(_BYTE *)(this + 10840);
                if ( v100 && v100 != 45 && sub_442B00(dword_4C087C, 3) )
                {
                  sub_41FC90((const char **)this, (const char *)(this + 10840));
                }
                else
                {
                  v101 = *(_BYTE *)(this + 10904);
                  if ( v101 && v101 != 45 && sub_442B00(dword_4C087C, 4) )
                  {
                    sub_41FC90((const char **)this, (const char *)(this + 10904));
                  }
                  else if ( *(_BYTE *)(this + 11288) && v124 == -2 )
                  {
                    sub_41FC90((const char **)this, (const char *)(this + 11288));
                  }
                  else
                  {
                    if ( *(_BYTE *)(this + 11416) )
                    {
                      if ( !sub_43B920(dword_4C08F4, 0) && timeGetTime() - *(_DWORD *)(this + 23868) > 0x1F4 )
                      {
                        Time = timeGetTime();
                        LODWORD(v116) = this + 11416;
                        *(_DWORD *)(this + 23868) = Time;
                        sub_41FC90((const char **)this, (const char *)LODWORD(v116));
                        *(_DWORD *)(this + 15624) = 1;
                      }
                    }
                    else
                    {
                      v103 = *(_BYTE *)(this + 10968);
                      if ( !v103 || v103 == 45 || *((_DWORD *)dword_4C0874 + 2) == *(_DWORD *)(this + 23900) )
                      {
                        v104 = *(_BYTE *)(this + 11352);
                        if ( v104 && v104 != 45 && sub_442EB0(dword_4C087C) )
                        {
                          sub_41FC90((const char **)this, (const char *)(this + 11352));
                          *(_DWORD *)(this + 15624) = 1;
                          sub_442EE0(dword_4C087C, 0);
                        }
                      }
                      else
                      {
                        sub_41FC90((const char **)this, (const char *)(this + 10968));
                        *(_DWORD *)(this + 15624) = 1;
                        *(_DWORD *)(this + 23900) = *((_DWORD *)dword_4C0874 + 2);
                      }
                    }
                    if ( !v122 )
                      goto LABEL_326;
                  }
                }
              }
            }
          }
        }
        *(_DWORD *)(this + 15624) = 0;
        *(_DWORD *)(this + 1564) = 0;
        *(_DWORD *)(this + 1584) = 0;
LABEL_326:
        sub_425440(this);
        v105 = *((_DWORD *)Buf + 272088);
        if ( v105 )
        {
          switch ( v105 )
          {
            case 1:
              LODWORD(v116) = 1;
              goto LABEL_332;
            case 2:
              LODWORD(v116) = 3;
              goto LABEL_332;
            case 3:
              LODWORD(v116) = 7;
              goto LABEL_332;
            case 4:
              LODWORD(v116) = 8;
LABEL_332:
              sub_433120(this, LODWORD(v116));
              break;
            default:
              break;
          }
          *((_DWORD *)Buf + 272088) = 0;
        }
        if ( *(_DWORD *)(this + 15624) && !v121 && !v119 )
        {
          *(_DWORD *)(this + 15624) = 0;
          *(_DWORD *)(this + 1564) = 0;
          *(_DWORD *)(this + 1584) = 0;
        }
        if ( !*(_DWORD *)(this + 1564) )
        {
          memset((char *)Buf + 269852, 0, 0x19D48u);
          sub_428640(this, 0.0, 0);
          *(_DWORD *)(this + 1560) = 1;
          *(_DWORD *)(this + 2000) = timeGetTime();
          v106 = *(_DWORD *)(this + 1564);
          if ( (v106 == 6 || v106 == 8) && !*(_DWORD *)(this + 15628) )
          {
            v107 = *(_DWORD **)(this + 10368);
            v116 = *((float *)Buf + 1);
            v108 = (_DWORD *)sub_414740(v107);
            sub_43D450(v108, SLODWORD(v116));
            v109 = *(_DWORD **)(this + 10368);
            v116 = 0.0;
            v110 = (_DWORD *)sub_414740(v109);
            sub_441270(v110, SLODWORD(v116));
          }
          v111 = *(_DWORD **)(this + 10368);
          if ( v111 )
          {
            v112 = (_DWORD *)sub_414740(v111);
            v113 = sub_43D4A0(v112);
            *(_DWORD *)(this + 2004) = 5 * (23 - sub_40CCD0(Buf, 99, 29)) * v113;
            if ( *((_DWORD *)Buf + 5) == 2 )
              *(_DWORD *)(this + 2004) = 1000 * *((_DWORD *)Buf + 42);
          }
          *(_DWORD *)(this + 15628) = 0;
        }
        if ( v125 == 6
          && (*(_DWORD *)(this + 1564) != 6 || (*(_DWORD *)(this + 11480) || *(_DWORD *)(this + 23872)) && !v123) )
        {
          v114 = sub_442D80(dword_4C087C);
          sub_442D70(dword_4C087C, 0);
          if ( !*((_DWORD *)Buf + 34) )
            sub_414D50(*(_DWORD *)(this + 10404), 0);
          if ( *((_DWORD *)Buf + 34) )
            sub_414D50(*(_DWORD *)(this + 10408), 0);
          sub_442D70(dword_4C087C, v114);
        }
        return;
      case 0x5A:
        v38 = sub_414D50((int)dword_4C08E8, 0);
        if ( v38 == -1 )
        {
          if ( !sub_442FB0(dword_4C087C) )
            goto LABEL_285;
        }
        else if ( v38 == 1 )
        {
          *((_DWORD *)Buf + 4429) = *((_DWORD *)Buf + 4429) == 0;
          goto LABEL_285;
        }
        *(_DWORD *)(this + 15588) = 0;
        *(_DWORD *)(this + 15592) = -1;
LABEL_87:
        *(_DWORD *)(this + 15624) = 1;
        goto LABEL_285;
      default:
        goto LABEL_285;
    }
  }
}
// 434FF5: conditional instruction was optimized away because eax.4==0
// 434168: variable 'v7' is possibly undefined
// 434190: variable 'v10' is possibly undefined
// 434272: variable 'v14' is possibly undefined
// 43526F: variable 'v87' is possibly undefined
// 4353E0: variable 'v95' is possibly undefined

//----- (00435950) --------------------------------------------------------
void *__thiscall sub_435950(_DWORD *this)
{
  void *result; // eax

  this[1916] = 0;
  this[1915] = 0;
  this[1920] = 0;
  *(_BYTE *)this = 0;
  this[1922] = 0;
  this[1921] = 0;
  this[1924] = 0;
  memset(this + 57, 0, 0x68u);
  result = memset(this + 83, 0, 0x1CA0u);
  this[1923] = 1;
  return result;
}

//----- (004359B0) --------------------------------------------------------
void __thiscall sub_4359B0(_DWORD *this)
{
  int v2; // ecx
  int *v3; // ecx

  v2 = this[1917];
  if ( v2 )
    sub_416320(v2);
  if ( this[1920] )
  {
    v3 = (int *)this[1919];
    if ( v3 )
      sub_40EF10(v3);
  }
}

//----- (004359E0) --------------------------------------------------------
int __thiscall sub_4359E0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[1923] = a2;
  return result;
}

//----- (004359F0) --------------------------------------------------------
char *__thiscall sub_4359F0(char *this, char *a2)
{
  char *result; // eax
  int v3; // edx
  char v4; // cl

  result = a2;
  v3 = this + 7624 - a2;
  do
  {
    v4 = *result;
    result[v3] = *result;
    ++result;
  }
  while ( v4 );
  return result;
}

//----- (00435A10) --------------------------------------------------------
int __thiscall sub_435A10(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int result; // eax
  int v11[11]; // [esp+4h] [ebp-2Ch] BYREF

  result = (int)memset(v11, 0, sizeof(v11));
  if ( a4 )
  {
    v11[1] = a3;
    v11[3] = a6;
    v11[0] = a2;
    v11[5] = a8;
    result = a9;
    v11[2] = a5;
    v11[9] = a4;
    v11[4] = a7;
    v11[8] = a9;
    if ( a9 == 99 )
    {
      qmemcpy((void *)(this + 376), v11, 0x2Cu);
    }
    else
    {
      result = 44 * a9;
      qmemcpy((void *)(44 * a9 + this + 376), v11, 0x2Cu);
    }
  }
  return result;
}

//----- (00435AB0) --------------------------------------------------------
void __thiscall sub_435AB0(_DWORD *this, int a2, int a3, int a4, int a5, char *a6, int a7)
{
  _BYTE *v8; // ecx
  char v9; // al

  if ( (int)this[1924] < 3 )
  {
    this[593 * this[1924] + 127] = a2;
    this[593 * this[1924] + 128] = a3;
    this[593 * this[1924] + 129 + a7] = a5;
    this[593 * this[1924] + 132 + a7] = a4;
    v8 = &this[593 * this[1924] + 135 + 65 * a7];
    do
    {
      v9 = *a6;
      *v8++ = *a6++;
    }
    while ( v9 );
  }
}

//----- (00435B50) --------------------------------------------------------
int __thiscall sub_435B50(_DWORD *this, int a2, int a3)
{
  int result; // eax

  result = a2;
  this[65] = a2;
  this[66] = a3;
  return result;
}

//----- (00435B70) --------------------------------------------------------
void __thiscall sub_435B70(int **this, int a2)
{
  sub_413360(this[1918]);
  sub_418F20(this[1918], a2, 0);
}

//----- (00435BA0) --------------------------------------------------------
void __thiscall sub_435BA0(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  float v9; // [esp+0h] [ebp-Ch]
  float v10; // [esp+4h] [ebp-8h]

  v10 = (float)a3;
  v9 = (float)a2;
  sub_4442A0(**(float ***)(this + 7676), v9, v10);
  sub_4440C0(**(_DWORD **)(this + 7676), a4);
  sub_444340(**(float ***)(this + 7676), a5, a6, a7, a8);
  *(_DWORD *)(this + 7680) = 1;
}

//----- (00435C10) --------------------------------------------------------
int __thiscall sub_435C10(_DWORD *this)
{
  return this[23];
}

//----- (00435C20) --------------------------------------------------------
void __thiscall sub_435C20(_DWORD *this, int a2, int a3, int a4, char *a5)
{
  sub_435AB0(this, a2, a3, 0, a4, a5, 0);
  ++this[1924];
}

//----- (00435C50) --------------------------------------------------------
void __thiscall sub_435C50(_DWORD *this)
{
  int *v2; // eax
  int v3; // eax
  int v4; // ecx
  int j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = (int *)this[1];
  if ( *((_BYTE *)v2 + 21) )
  {
    v3 = v2[2];
    this[1] = v3;
    if ( !*(_BYTE *)(v3 + 21) )
      return;
    goto LABEL_5;
  }
  v4 = *v2;
  if ( *(_BYTE *)(*v2 + 21) )
  {
    for ( i = v2[1]; !*(_BYTE *)(i + 21); i = *(_DWORD *)(i + 4) )
    {
      if ( this[1] != *(_DWORD *)i )
        break;
      this[1] = i;
    }
    if ( *(_BYTE *)(this[1] + 21) )
    {
LABEL_5:
      _invalid_parameter_noinfo();
      return;
    }
    this[1] = i;
  }
  else
  {
    for ( j = *(_DWORD *)(v4 + 8); !*(_BYTE *)(j + 21); j = *(_DWORD *)(j + 8) )
      v4 = j;
    this[1] = v4;
  }
}

//----- (00435CE0) --------------------------------------------------------
void __thiscall sub_435CE0(_DWORD *this)
{
  int *v2; // eax
  int v3; // eax
  int v4; // ecx
  int j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = (int *)this[1];
  if ( *((_BYTE *)v2 + 33) )
  {
    v3 = v2[2];
    this[1] = v3;
    if ( !*(_BYTE *)(v3 + 33) )
      return;
    goto LABEL_5;
  }
  v4 = *v2;
  if ( *(_BYTE *)(*v2 + 33) )
  {
    for ( i = v2[1]; !*(_BYTE *)(i + 33); i = *(_DWORD *)(i + 4) )
    {
      if ( this[1] != *(_DWORD *)i )
        break;
      this[1] = i;
    }
    if ( *(_BYTE *)(this[1] + 33) )
    {
LABEL_5:
      _invalid_parameter_noinfo();
      return;
    }
    this[1] = i;
  }
  else
  {
    for ( j = *(_DWORD *)(v4 + 8); !*(_BYTE *)(j + 33); j = *(_DWORD *)(j + 8) )
      v4 = j;
    this[1] = v4;
  }
}

//----- (00435D70) --------------------------------------------------------
_DWORD *__stdcall sub_435D70(int a1, int a2, int a3, _DWORD *a4, char a5)
{
  _DWORD *result; // eax

  result = operator new(0x24u);
  if ( result )
  {
    *result = a1;
    result[2] = a3;
    result[1] = a2;
    result[3] = *a4;
    result[4] = a4[1];
    result[5] = a4[2];
    result[6] = a4[3];
    result[7] = a4[4];
    *((_BYTE *)result + 32) = a5;
    *((_BYTE *)result + 33) = 0;
  }
  return result;
}

//----- (00435DD0) --------------------------------------------------------
_DWORD *__stdcall sub_435DD0(int a1, int a2, int a3, _DWORD *a4, char a5)
{
  _DWORD *result; // eax

  result = operator new(0x18u);
  if ( result )
  {
    *result = a1;
    result[2] = a3;
    result[1] = a2;
    result[3] = *a4;
    result[4] = a4[1];
    *((_BYTE *)result + 20) = a5;
    *((_BYTE *)result + 21) = 0;
  }
  return result;
}

//----- (00435E10) --------------------------------------------------------
void __thiscall sub_435E10(int this)
{
  int v1; // edi
  int v2; // ebx
  _DWORD *v3; // esi
  _DWORD *v4; // edi
  int v5; // ebp
  _DWORD *v6; // eax
  int v7; // eax
  _DWORD *v8; // ebp
  _DWORD *j; // esi
  _DWORD *v10; // eax
  _DWORD *v11; // eax
  int v12; // ebx
  _DWORD *v13; // esi
  _DWORD *v14; // edi
  int v15; // ebp
  _DWORD *v16; // eax
  int v17; // eax
  _DWORD *v18; // ebp
  _DWORD *k; // esi
  _DWORD *v20; // eax
  int v21; // ebx
  _DWORD *v22; // esi
  _DWORD *v23; // edi
  int v24; // ebp
  _DWORD *v25; // eax
  int v26; // eax
  _DWORD *v27; // ebp
  _DWORD *m; // esi
  _DWORD *v29; // eax
  int v30; // ebx
  _DWORD *v31; // esi
  _DWORD *v32; // edi
  int v33; // ebp
  _DWORD *v34; // eax
  int v35; // eax
  _DWORD *v36; // ebp
  _DWORD *n; // esi
  _DWORD *v38; // eax
  _DWORD *i; // [esp+18h] [ebp-8h] BYREF
  int v41; // [esp+1Ch] [ebp-4h]

  v1 = this;
  if ( *(_DWORD *)(this + 60) )
  {
    v2 = **(_DWORD **)(this + 56);
    v3 = *(_DWORD **)(this + 32);
    v4 = (_DWORD *)(this + 32);
    v41 = v2;
    for ( i = v3; ; v3 = i )
    {
      v5 = v4[6];
      if ( !v3 || v3 != (_DWORD *)*v4 )
        _invalid_parameter_noinfo();
      if ( v2 == v5 )
        break;
      if ( v3 )
      {
        v6 = (_DWORD *)*v3;
      }
      else
      {
        _invalid_parameter_noinfo();
        v6 = 0;
      }
      if ( v2 == v6[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v2 + 16) )
      {
        if ( v3 )
        {
          v7 = *v3;
        }
        else
        {
          _invalid_parameter_noinfo();
          v7 = 0;
        }
        if ( v2 == *(_DWORD *)(v7 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v2 + 16));
        if ( v3 )
          v3 = (_DWORD *)*v3;
        else
          _invalid_parameter_noinfo();
        if ( v2 == v3[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v2 + 16) = 0;
      }
      sub_409780(&i);
      v2 = v41;
    }
    v8 = *(_DWORD **)(v4[6] + 4);
    for ( j = v8; !*((_BYTE *)j + 21); v8 = j )
    {
      sub_409AB0((void **)j[2]);
      j = (_DWORD *)*j;
      operator delete(v8);
    }
    *(_DWORD *)(v4[6] + 4) = v4[6];
    v10 = (_DWORD *)v4[6];
    v4[7] = 0;
    *v10 = v10;
    *(_DWORD *)(v4[6] + 8) = v4[6];
    v1 = this;
  }
  if ( *(_DWORD *)(v1 + 92) )
  {
    sub_409A70(*(void ***)(*(_DWORD *)(v1 + 88) + 4));
    *(_DWORD *)(*(_DWORD *)(v1 + 88) + 4) = *(_DWORD *)(v1 + 88);
    v11 = *(_DWORD **)(v1 + 88);
    *(_DWORD *)(v1 + 92) = 0;
    *v11 = v11;
    *(_DWORD *)(*(_DWORD *)(v1 + 88) + 8) = *(_DWORD *)(v1 + 88);
  }
  if ( *(_DWORD *)(v1 + 124) )
  {
    v12 = **(_DWORD **)(v1 + 120);
    v13 = *(_DWORD **)(v1 + 96);
    v14 = (_DWORD *)(v1 + 96);
    v41 = v12;
    for ( i = v13; ; v13 = i )
    {
      v15 = v14[6];
      if ( !v13 || v13 != (_DWORD *)*v14 )
        _invalid_parameter_noinfo();
      if ( v12 == v15 )
        break;
      if ( v13 )
      {
        v16 = (_DWORD *)*v13;
      }
      else
      {
        _invalid_parameter_noinfo();
        v16 = 0;
      }
      if ( v12 == v16[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v12 + 16) )
      {
        if ( v13 )
        {
          v17 = *v13;
        }
        else
        {
          _invalid_parameter_noinfo();
          v17 = 0;
        }
        if ( v12 == *(_DWORD *)(v17 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v12 + 16));
        if ( v13 )
          v13 = (_DWORD *)*v13;
        else
          _invalid_parameter_noinfo();
        if ( v12 == v13[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v12 + 16) = 0;
      }
      sub_409780(&i);
      v12 = v41;
    }
    v18 = *(_DWORD **)(v14[6] + 4);
    for ( k = v18; !*((_BYTE *)k + 21); v18 = k )
    {
      sub_409AB0((void **)k[2]);
      k = (_DWORD *)*k;
      operator delete(v18);
    }
    *(_DWORD *)(v14[6] + 4) = v14[6];
    v20 = (_DWORD *)v14[6];
    v14[7] = 0;
    *v20 = v20;
    *(_DWORD *)(v14[6] + 8) = v14[6];
    v1 = this;
  }
  if ( *(_DWORD *)(v1 + 156) )
  {
    v21 = **(_DWORD **)(v1 + 152);
    v22 = *(_DWORD **)(v1 + 128);
    v23 = (_DWORD *)(v1 + 128);
    v41 = v21;
    for ( i = v22; ; v22 = i )
    {
      v24 = v23[6];
      if ( !v22 || v22 != (_DWORD *)*v23 )
        _invalid_parameter_noinfo();
      if ( v21 == v24 )
        break;
      if ( v22 )
      {
        v25 = (_DWORD *)*v22;
      }
      else
      {
        _invalid_parameter_noinfo();
        v25 = 0;
      }
      if ( v21 == v25[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v21 + 16) )
      {
        if ( v22 )
        {
          v26 = *v22;
        }
        else
        {
          _invalid_parameter_noinfo();
          v26 = 0;
        }
        if ( v21 == *(_DWORD *)(v26 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v21 + 16));
        if ( v22 )
          v22 = (_DWORD *)*v22;
        else
          _invalid_parameter_noinfo();
        if ( v21 == v22[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v21 + 16) = 0;
      }
      sub_409780(&i);
      v21 = v41;
    }
    v27 = *(_DWORD **)(v23[6] + 4);
    for ( m = v27; !*((_BYTE *)m + 21); v27 = m )
    {
      sub_409AB0((void **)m[2]);
      m = (_DWORD *)*m;
      operator delete(v27);
    }
    *(_DWORD *)(v23[6] + 4) = v23[6];
    v29 = (_DWORD *)v23[6];
    v23[7] = 0;
    *v29 = v29;
    *(_DWORD *)(v23[6] + 8) = v23[6];
    v1 = this;
  }
  if ( *(_DWORD *)(v1 + 188) )
  {
    v30 = **(_DWORD **)(v1 + 184);
    v31 = *(_DWORD **)(v1 + 160);
    v32 = (_DWORD *)(v1 + 160);
    v41 = v30;
    for ( i = v31; ; v31 = i )
    {
      v33 = v32[6];
      if ( !v31 || v31 != (_DWORD *)*v32 )
        _invalid_parameter_noinfo();
      if ( v30 == v33 )
        break;
      if ( v31 )
      {
        v34 = (_DWORD *)*v31;
      }
      else
      {
        _invalid_parameter_noinfo();
        v34 = 0;
      }
      if ( v30 == v34[6] )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v30 + 16) )
      {
        if ( v31 )
        {
          v35 = *v31;
        }
        else
        {
          _invalid_parameter_noinfo();
          v35 = 0;
        }
        if ( v30 == *(_DWORD *)(v35 + 24) )
          _invalid_parameter_noinfo();
        operator delete(*(void **)(v30 + 16));
        if ( v31 )
          v31 = (_DWORD *)*v31;
        else
          _invalid_parameter_noinfo();
        if ( v30 == v31[6] )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v30 + 16) = 0;
      }
      sub_409780(&i);
      v30 = v41;
    }
    v36 = *(_DWORD **)(v32[6] + 4);
    for ( n = v36; !*((_BYTE *)n + 21); v36 = n )
    {
      sub_409AB0((void **)n[2]);
      n = (_DWORD *)*n;
      operator delete(v36);
    }
    *(_DWORD *)(v32[6] + 4) = v32[6];
    v38 = (_DWORD *)v32[6];
    v32[7] = 0;
    *v38 = v38;
    *(_DWORD *)(v32[6] + 8) = v32[6];
  }
}

//----- (00436250) --------------------------------------------------------
void *__thiscall sub_436250(int this)
{
  sub_435E10(this);
  sub_413360(*(_DWORD **)(this + 7668));
  sub_413360(*(_DWORD **)(this + 7672));
  *(_DWORD *)(this + 7680) = 0;
  return sub_435950((_DWORD *)this);
}

//----- (00436280) --------------------------------------------------------
void __thiscall sub_436280(int this)
{
  int v2; // eax
  _DWORD *v3; // ecx
  _DWORD *v4; // esi
  _DWORD *v5; // ebx
  _DWORD *v6; // eax
  int v7; // ecx
  int v8; // edx
  int v9; // eax
  int v10; // ecx
  int v11; // edx
  int *v12; // ebx
  int *v13; // esi
  int *v14; // eax
  int v15; // eax
  int *v16; // edx
  char *v17; // eax
  char v18; // cl
  int v19; // ebx
  int *v20; // esi
  int *v21; // eax
  int v22; // eax
  int v23; // ebx
  int *v24; // esi
  int *v25; // eax
  int v26; // eax
  int *v27; // esi
  int *v28; // eax
  int v29; // eax
  int *v30; // esi
  int *v31; // eax
  int v32; // eax
  _DWORD *v33; // esi
  _DWORD *v34; // esi
  int v35; // eax
  int *v36; // esi
  int v37; // eax
  bool v38; // zf
  int v39; // edx
  int v40; // eax
  _DWORD *v41; // ecx
  _DWORD *v42; // esi
  _DWORD *v43; // eax
  int *v44; // ebx
  int v45; // edx
  int v46; // eax
  int v47; // ecx
  _DWORD *v48; // esi
  int m; // ebx
  int v50; // eax
  int n; // ebx
  int v52; // eax
  int v53; // edx
  double v54; // st7
  int v55; // esi
  double v56; // st7
  float **v57; // edx
  int v58; // eax
  int v59; // [esp-14h] [ebp-ECh]
  int v60; // [esp-10h] [ebp-E8h]
  int v61; // [esp-Ch] [ebp-E4h]
  int v62; // [esp-8h] [ebp-E0h]
  int v63; // [esp-4h] [ebp-DCh]
  char *v64; // [esp-4h] [ebp-DCh]
  int v65; // [esp+0h] [ebp-D8h]
  float v66; // [esp+0h] [ebp-D8h]
  float v67; // [esp+4h] [ebp-D4h]
  int v68; // [esp+14h] [ebp-C4h] BYREF
  int *v69; // [esp+18h] [ebp-C0h]
  int v70; // [esp+1Ch] [ebp-BCh] BYREF
  int v71; // [esp+20h] [ebp-B8h]
  int v72; // [esp+24h] [ebp-B4h]
  int v73; // [esp+28h] [ebp-B0h]
  int v74; // [esp+2Ch] [ebp-ACh]
  int v75; // [esp+30h] [ebp-A8h]
  int v76; // [esp+34h] [ebp-A4h] BYREF
  int v77; // [esp+38h] [ebp-A0h]
  _DWORD *j; // [esp+3Ch] [ebp-9Ch] BYREF
  int v79; // [esp+40h] [ebp-98h]
  _DWORD *k; // [esp+44h] [ebp-94h] BYREF
  int v81; // [esp+48h] [ebp-90h]
  _DWORD *i; // [esp+4Ch] [ebp-8Ch] BYREF
  _DWORD *v83; // [esp+50h] [ebp-88h]
  int v84; // [esp+54h] [ebp-84h]
  int v85; // [esp+58h] [ebp-80h]
  int v86[5]; // [esp+5Ch] [ebp-7Ch] BYREF
  _DWORD *v87; // [esp+70h] [ebp-68h]
  int v88; // [esp+78h] [ebp-60h]
  int v89; // [esp+80h] [ebp-58h]
  int v90; // [esp+84h] [ebp-54h] BYREF
  int v91; // [esp+8Ch] [ebp-4Ch] BYREF
  int v92; // [esp+94h] [ebp-44h] BYREF
  int v93; // [esp+9Ch] [ebp-3Ch] BYREF
  int v94; // [esp+A4h] [ebp-34h] BYREF
  int v95; // [esp+ACh] [ebp-2Ch] BYREF
  char v96[32]; // [esp+B4h] [ebp-24h] BYREF

  v2 = *(_DWORD *)(this + 7684);
  v3 = *(_DWORD **)(this + 7668);
  v76 = v2;
  v71 = 0;
  sub_413360(v3);
  sub_412EA0(*(_DWORD **)(this + 7668));
  timeGetTime();
  if ( *(_DWORD *)(this + 92) )
  {
    v4 = **(_DWORD ***)(this + 88);
    v5 = *(_DWORD **)(this + 64);
    v83 = v4;
    for ( i = v5; ; v5 = i )
    {
      v6 = *(_DWORD **)(this + 64);
      v87 = *(_DWORD **)(this + 88);
      if ( !v5 || v5 != v6 )
        _invalid_parameter_noinfo();
      if ( v4 == v87 )
        break;
      if ( v5 )
        v5 = (_DWORD *)*v5;
      else
        _invalid_parameter_noinfo();
      if ( v4 == (_DWORD *)v5[6] )
        _invalid_parameter_noinfo();
      v7 = v4[5];
      v8 = v4[6];
      v72 = v4[4];
      v9 = v4[7];
      v73 = v7;
      v10 = *(_DWORD *)(this + 184);
      v75 = v9;
      v85 = v10;
      v74 = v8;
      v11 = *(_DWORD *)(this + 160);
      v96[0] = 0;
      v69 = 0;
      v84 = v11;
      v12 = sub_4132D0((int *)(this + 160), &v93, &v76);
      if ( !*v12 || *v12 != v84 )
        _invalid_parameter_noinfo();
      if ( v12[1] != v85 )
      {
        v13 = sub_4132D0((int *)(this + 160), &v92, &v76);
        v14 = (int *)*v13;
        if ( *v13 || (_invalid_parameter_noinfo(), (v14 = (int *)*v13) != 0) )
          v15 = *v14;
        else
          v15 = 0;
        if ( v13[1] == *(_DWORD *)(v15 + 24) )
          _invalid_parameter_noinfo();
        v16 = *(int **)(v13[1] + 16);
        v17 = (char *)(v16 + 1823);
        v69 = v16;
        do
        {
          v18 = *v17;
          v17[v96 - (char *)(v16 + 1823)] = *v17;
          ++v17;
        }
        while ( v18 );
        sub_417D20(*(int **)(this + 7668), v72, v73, v16[9], v16[2], v16[3], v16[4], v16[5], 0);
      }
      v19 = v72;
      sub_417BA0(*(int **)(this + 7668), v72, v73, v74, v75, v96);
      if ( *(_DWORD *)(this + 60) )
      {
        v68 = 0;
        v70 = 0;
        v20 = sub_4132D0((int *)(this + 32), &v94, &v68);
        v21 = (int *)*v20;
        if ( *v20 || (_invalid_parameter_noinfo(), (v21 = (int *)*v20) != 0) )
          v22 = *v21;
        else
          v22 = 0;
        if ( v20[1] == *(_DWORD *)(v22 + 24) )
          _invalid_parameter_noinfo();
        v23 = v20[1] + 12;
        v24 = sub_4132D0((int *)(this + 32), &v95, &v70);
        v25 = (int *)*v24;
        if ( *v24 || (_invalid_parameter_noinfo(), (v25 = (int *)*v24) != 0) )
          v26 = *v25;
        else
          v26 = 0;
        if ( v24[1] == *(_DWORD *)(v26 + 24) )
          _invalid_parameter_noinfo();
        sub_412D40(
          *(_DWORD **)(this + 7668),
          *(_DWORD *)(*(_DWORD *)(v24[1] + 16) + 32),
          *(_DWORD *)(*(_DWORD *)(v23 + 4) + 36));
        v68 = 0;
        v27 = sub_4132D0((int *)(this + 32), &v90, &v68);
        v28 = (int *)*v27;
        if ( *v27 || (_invalid_parameter_noinfo(), (v28 = (int *)*v27) != 0) )
          v29 = *v28;
        else
          v29 = 0;
        if ( v27[1] == *(_DWORD *)(v29 + 24) )
          _invalid_parameter_noinfo();
        sub_412D70(*(char **)(this + 7668), (char *)(*(_DWORD *)(v27[1] + 16) + 40), 0);
        v68 = 0;
        v30 = sub_4132D0((int *)(this + 32), &v91, &v68);
        v31 = (int *)*v30;
        if ( *v30 || (_invalid_parameter_noinfo(), (v31 = (int *)*v30) != 0) )
          v32 = *v31;
        else
          v32 = 0;
        if ( v30[1] == *(_DWORD *)(v32 + 24) )
          _invalid_parameter_noinfo();
        sub_412D70(*(char **)(this + 7668), (char *)(*(_DWORD *)(v30[1] + 16) + 72), 1);
        v19 = v72;
      }
      v33 = *(_DWORD **)(this + 96);
      v79 = **(_DWORD **)(this + 120);
      for ( j = v33; ; v33 = j )
      {
        v89 = *(_DWORD *)(this + 120);
        if ( !v33 || v33 != *(_DWORD **)(this + 96) )
          _invalid_parameter_noinfo();
        if ( v79 == v89 )
          break;
        if ( v33 )
          v33 = (_DWORD *)*v33;
        else
          _invalid_parameter_noinfo();
        if ( v79 == v33[6] )
          _invalid_parameter_noinfo();
        v34 = *(_DWORD **)(v79 + 16);
        sub_419860(
          *(_DWORD **)(this + 7668),
          v19 + *v34,
          v73 + v34[1],
          v34[9],
          v34[2],
          v34[3],
          v34[4],
          v34[5],
          v34[8],
          0);
        v35 = sub_40CCD0(Buf, 99, 254);
        if ( v35 == v71 + *(_DWORD *)(this + 7684) && v34[8] == 2 )
          sub_419860(*(_DWORD **)(this + 7668), v19 + *v34, v73 + v34[1], v34[9], v34[2], v34[3], v34[4], v34[5], 99, 0);
        v36 = v69 + 16;
        v68 = 3;
        do
        {
          if ( v36[4] )
          {
            v37 = sub_40CCD0(Buf, 99, 254);
            v65 = v36[3];
            v38 = v37 == v71 + *(_DWORD *)(this + 7684);
            v63 = *v36;
            v62 = *(v36 - 1);
            v61 = *(v36 - 2);
            v39 = *(v36 - 4);
            v60 = *(v36 - 3);
            v40 = *(v36 - 5);
            v59 = v36[4];
            v41 = *(_DWORD **)(this + 7668);
            if ( v38 )
            {
              sub_419860(v41, v19 + v40, v73 + v39, v59, v60, v61, v62, v63, v65, 0);
              if ( v36[3] == 2 )
                sub_419860(
                  *(_DWORD **)(this + 7668),
                  v19 + *(v36 - 5),
                  v73 + *(v36 - 4),
                  v36[4],
                  *(v36 - 3),
                  *(v36 - 2),
                  *(v36 - 1),
                  *v36,
                  99,
                  0);
            }
            else
            {
              sub_419860(v41, v19 + v40, v73 + v39, v59, v60, v61, v62, v63, v65, 0);
            }
          }
          v36 += 11;
          --v68;
        }
        while ( v68 );
        sub_409780(&j);
      }
      v42 = *(_DWORD **)(this + 128);
      v81 = **(_DWORD **)(this + 152);
      for ( k = v42; ; v42 = k )
      {
        v88 = *(_DWORD *)(this + 152);
        if ( !v42 || v42 != *(_DWORD **)(this + 128) )
          _invalid_parameter_noinfo();
        if ( v81 == v88 )
          break;
        if ( v42 )
          v42 = (_DWORD *)*v42;
        else
          _invalid_parameter_noinfo();
        if ( v81 == v42[6] )
          _invalid_parameter_noinfo();
        v43 = *(_DWORD **)(v81 + 16);
        if ( v43[10] == v76 - *(_DWORD *)(this + 7684) )
          sub_419860(
            *(_DWORD **)(this + 7668),
            v19 + *v43,
            v73 + v43[1],
            v43[9],
            v43[2],
            v43[3],
            v43[4],
            v43[5],
            v43[8],
            0);
        sub_409780(&k);
      }
      if ( v69 )
      {
        v44 = v69;
        v45 = v69[2];
        if ( v45 < v69[4] )
        {
          v46 = v69[3];
          v47 = v69[5];
          if ( v46 < v47 )
            sub_419860(*(_DWORD **)(this + 7668), v72, v73, v69[9], v45, v46, v69[4], v47, v69[8], 0);
        }
        v70 = 0;
        v48 = v44 + 47;
        v77 = -188 - (_DWORD)v44;
        do
        {
          if ( v48 != (_DWORD *)-20 )
          {
            if ( *((_WORD *)v48 + 400) )
            {
              if ( *v48 || v48[1] )
              {
                for ( m = 0; m < 3; ++m )
                {
                  v68 = m;
                  if ( !m )
                    v68 = 99;
                  v50 = v69[v70 + 46 + m];
                  if ( v50 > 0 )
                  {
                    v64 = (char *)(v48 + 5);
                    if ( v69[v70 + 49 + m] )
                      sub_419920(
                        *(int **)(this + 7668),
                        *(v48 - 3),
                        *(v48 - 2),
                        v50,
                        (wchar_t *)((char *)v69 + (_DWORD)&v48[130 * m] + v77 + 988),
                        v64,
                        v68,
                        0);
                    else
                      sub_419920(
                        *(int **)(this + 7668),
                        v72 + 2 * *(v48 - 3),
                        v73 + 2 * *(v48 - 2),
                        v50,
                        (wchar_t *)((char *)v69 + (_DWORD)&v48[130 * m] + v77 + 988),
                        v64,
                        v68,
                        0);
                  }
                }
              }
              else
              {
                sub_418210(
                  *(_DWORD **)(this + 7668),
                  v72 + 2 * *(v48 - 3),
                  v73 + 2 * *(v48 - 2),
                  *(v48 - 1),
                  (wchar_t *)v48 + 400,
                  (char *)v48 + 20);
              }
            }
            else if ( *v48 || v48[1] )
            {
              for ( n = 0; n < 3; ++n )
              {
                v68 = n;
                if ( !n )
                  v68 = 99;
                v52 = v69[v70 + 46 + n];
                if ( v52 > 0 )
                {
                  if ( v69[v70 + 49 + n] )
                    sub_4198F0(
                      *(int **)(this + 7668),
                      *(v48 - 3),
                      *(v48 - 2),
                      v52,
                      (char *)v69 + (_DWORD)&v48[65 * n] + v77 + 208,
                      v68,
                      0);
                  else
                    sub_4198F0(
                      *(int **)(this + 7668),
                      v72 + 2 * *(v48 - 3),
                      v73 + 2 * *(v48 - 2),
                      v52,
                      (char *)v69 + (_DWORD)&v48[65 * n] + v77 + 208,
                      v68,
                      0);
                }
              }
            }
            else
            {
              sub_4180A0(
                *(_DWORD **)(this + 7668),
                v72 + 2 * *(v48 - 3),
                v73 + 2 * *(v48 - 2),
                *(v48 - 1),
                (char *)v48 + 20);
            }
          }
          v48 += 593;
          v70 += 593;
        }
        while ( v70 < 1779 );
      }
      ++v76;
      ++v71;
      sub_409710(&i);
      v4 = v83;
    }
    sub_417C60(*(char **)(this + 7668));
    timeGetTime();
    sub_418F20(*(int **)(this + 7668), *(_DWORD *)(this + 7672), 0);
    if ( *(_DWORD *)(this + 7680) )
    {
      sub_444360(**(float ***)(this + 7676), v86);
      v53 = *(_DWORD *)(this + 240);
      v71 = *(_DWORD *)(this + 232);
      v68 = *(_DWORD *)(this + 188) - *(_DWORD *)(this + 92);
      v54 = (double)(v53 - v71) / (double)v68;
      v55 = *(_DWORD *)(this + 228);
      v68 = (v86[3] - v86[1]) / 2;
      v56 = v54 * (double)*(int *)(this + 7684) + (double)v71 - (double)v68;
      v68 = (int)v56;
      v57 = *(float ***)(this + 7676);
      v68 = v55 + (*(_DWORD *)(this + 236) - v55) / 2 - (v86[2] - v86[0]) / 2;
      v67 = (float)(int)v56;
      v66 = (float)v68;
      sub_444260(*v57, v66, v67);
    }
    v58 = sub_412EE0(*(_DWORD **)(this + 7668));
    sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v58);
    sub_414D50(*(_DWORD *)(this + 7668), 1);
    sub_412EA0(*(_DWORD **)(this + 7668));
  }
}

//----- (00436BE0) --------------------------------------------------------
_DWORD *__fastcall sub_436BE0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, _DWORD *a6)
{
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int *v11; // eax
  int i; // esi
  int v13; // ecx
  int *v14; // edx
  int v15; // edx
  int v16; // edx
  int v17; // eax
  _DWORD *v18; // ecx
  int v19; // edx
  _DWORD *v20; // edx
  _DWORD *result; // eax
  int v22; // ecx
  int v23; // [esp+14h] [ebp-50h] BYREF
  char v24; // [esp+18h] [ebp-4Ch]
  int v25; // [esp+28h] [ebp-3Ch]
  int v26; // [esp+2Ch] [ebp-38h]
  int pExceptionObject[13]; // [esp+30h] [ebp-34h] BYREF

  if ( (unsigned int)a1[7] >= 0xCCCCCCB )
  {
    v26 = 15;
    v25 = 0;
    v24 = 0;
    sub_403A30(&v23, a2, "map/set<T> too long", 0x13u);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v23);
    pExceptionObject[0] = (int)&std::length_error::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
  }
  v7 = sub_435D70(a1[6], (int)a5, a1[6], a6, 0);
  v8 = (_DWORD *)a1[6];
  ++a1[7];
  if ( a5 == v8 )
  {
    v8[1] = v7;
    *(_DWORD *)a1[6] = v7;
    *(_DWORD *)(a1[6] + 8) = v7;
  }
  else if ( a4 )
  {
    *a5 = v7;
    v9 = (_DWORD *)a1[6];
    if ( a5 == (_DWORD *)*v9 )
      *v9 = v7;
  }
  else
  {
    a5[2] = v7;
    v10 = a1[6];
    if ( a5 == *(_DWORD **)(v10 + 8) )
      *(_DWORD *)(v10 + 8) = v7;
  }
  v11 = v7 + 1;
  for ( i = (int)v7; !*(_BYTE *)(*(_DWORD *)(i + 4) + 32); v11 = (int *)(i + 4) )
  {
    v13 = *v11;
    v14 = *(int **)(*v11 + 4);
    if ( *v11 == *v14 )
    {
      v15 = v14[2];
      if ( *(_BYTE *)(v15 + 32) )
      {
        if ( i == *(_DWORD *)(v13 + 8) )
        {
          i = *v11;
          sub_409600(a1, *v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 32) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 32) = 0;
        sub_409690(a1, *(_DWORD **)(*(_DWORD *)(i + 4) + 4));
      }
      else
      {
        *(_BYTE *)(v13 + 32) = 1;
        *(_BYTE *)(v15 + 32) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 32) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
    else
    {
      v16 = *v14;
      if ( *(_BYTE *)(v16 + 32) )
      {
        if ( i == *(_DWORD *)v13 )
        {
          i = *v11;
          sub_409690(a1, (_DWORD *)*v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 32) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 32) = 0;
        v17 = *(_DWORD *)(*(_DWORD *)(i + 4) + 4);
        v18 = *(_DWORD **)(v17 + 8);
        *(_DWORD *)(v17 + 8) = *v18;
        if ( !*(_BYTE *)(*v18 + 33) )
          *(_DWORD *)(*v18 + 4) = v17;
        v18[1] = *(_DWORD *)(v17 + 4);
        v19 = a1[6];
        if ( v17 == *(_DWORD *)(v19 + 4) )
        {
          *(_DWORD *)(v19 + 4) = v18;
        }
        else
        {
          v20 = *(_DWORD **)(v17 + 4);
          if ( v17 == *v20 )
            *v20 = v18;
          else
            v20[2] = v18;
        }
        *v18 = v17;
        *(_DWORD *)(v17 + 4) = v18;
      }
      else
      {
        *(_BYTE *)(v13 + 32) = 1;
        *(_BYTE *)(v16 + 32) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 32) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
  }
  *(_BYTE *)(*(_DWORD *)(a1[6] + 4) + 32) = 1;
  result = a3;
  v22 = *a1;
  a3[1] = v7;
  *a3 = v22;
  return result;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (00436DE0) --------------------------------------------------------
_DWORD *__fastcall sub_436DE0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, _DWORD *a6)
{
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int *v11; // eax
  int i; // esi
  int v13; // ecx
  int *v14; // edx
  int v15; // edx
  int v16; // edx
  int v17; // eax
  _DWORD *v18; // ecx
  int v19; // edx
  _DWORD *v20; // edx
  _DWORD *result; // eax
  int v22; // ecx
  int v23; // [esp+14h] [ebp-50h] BYREF
  char v24; // [esp+18h] [ebp-4Ch]
  int v25; // [esp+28h] [ebp-3Ch]
  int v26; // [esp+2Ch] [ebp-38h]
  int pExceptionObject[13]; // [esp+30h] [ebp-34h] BYREF

  if ( (unsigned int)a1[7] >= 0x1FFFFFFE )
  {
    v26 = 15;
    v25 = 0;
    v24 = 0;
    sub_403A30(&v23, a2, "map/set<T> too long", 0x13u);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v23);
    pExceptionObject[0] = (int)&std::length_error::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
  }
  v7 = sub_435DD0(a1[6], (int)a5, a1[6], a6, 0);
  v8 = (_DWORD *)a1[6];
  ++a1[7];
  if ( a5 == v8 )
  {
    v8[1] = v7;
    *(_DWORD *)a1[6] = v7;
    *(_DWORD *)(a1[6] + 8) = v7;
  }
  else if ( a4 )
  {
    *a5 = v7;
    v9 = (_DWORD *)a1[6];
    if ( a5 == (_DWORD *)*v9 )
      *v9 = v7;
  }
  else
  {
    a5[2] = v7;
    v10 = a1[6];
    if ( a5 == *(_DWORD **)(v10 + 8) )
      *(_DWORD *)(v10 + 8) = v7;
  }
  v11 = v7 + 1;
  for ( i = (int)v7; !*(_BYTE *)(*(_DWORD *)(i + 4) + 20); v11 = (int *)(i + 4) )
  {
    v13 = *v11;
    v14 = *(int **)(*v11 + 4);
    if ( *v11 == *v14 )
    {
      v15 = v14[2];
      if ( *(_BYTE *)(v15 + 20) )
      {
        if ( i == *(_DWORD *)(v13 + 8) )
        {
          i = *v11;
          sub_4095B0(a1, *v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 20) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 20) = 0;
        sub_402EE0(a1, *(_DWORD **)(*(_DWORD *)(i + 4) + 4));
      }
      else
      {
        *(_BYTE *)(v13 + 20) = 1;
        *(_BYTE *)(v15 + 20) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 20) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
    else
    {
      v16 = *v14;
      if ( *(_BYTE *)(v16 + 20) )
      {
        if ( i == *(_DWORD *)v13 )
        {
          i = *v11;
          sub_402EE0(a1, (_DWORD *)*v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 20) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 20) = 0;
        v17 = *(_DWORD *)(*(_DWORD *)(i + 4) + 4);
        v18 = *(_DWORD **)(v17 + 8);
        *(_DWORD *)(v17 + 8) = *v18;
        if ( !*(_BYTE *)(*v18 + 21) )
          *(_DWORD *)(*v18 + 4) = v17;
        v18[1] = *(_DWORD *)(v17 + 4);
        v19 = a1[6];
        if ( v17 == *(_DWORD *)(v19 + 4) )
        {
          *(_DWORD *)(v19 + 4) = v18;
        }
        else
        {
          v20 = *(_DWORD **)(v17 + 4);
          if ( v17 == *v20 )
            *v20 = v18;
          else
            v20[2] = v18;
        }
        *v18 = v17;
        *(_DWORD *)(v17 + 4) = v18;
      }
      else
      {
        *(_BYTE *)(v13 + 20) = 1;
        *(_BYTE *)(v16 + 20) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 20) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
  }
  *(_BYTE *)(*(_DWORD *)(a1[6] + 4) + 20) = 1;
  result = a3;
  v22 = *a1;
  a3[1] = v7;
  *a3 = v22;
  return result;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (00436FE0) --------------------------------------------------------
int __thiscall sub_436FE0(int this)
{
  int v2; // edi
  int v3; // edi
  int v4; // edx
  int v5; // eax
  int v6; // ecx
  int v7; // eax
  _DWORD *v8; // ecx
  int v9; // edi
  int v10; // ebp
  int v11; // ecx
  unsigned int v12; // eax
  bool v13; // sf
  int v14; // eax
  int v15; // ecx
  int *v16; // eax
  int *v17; // eax
  int v18; // edx
  char *v19; // eax
  _BYTE *v20; // edx
  char v21; // cl
  int v23; // eax
  int v24; // edx
  double v25; // st7
  int v26; // edi
  double v27; // st7
  float **v28; // edx
  int v29; // edi
  float v30; // [esp+0h] [ebp-3Ch]
  float v31; // [esp+4h] [ebp-38h]
  int v32; // [esp+4h] [ebp-38h]
  int v33[2]; // [esp+14h] [ebp-28h] BYREF
  int v34[2]; // [esp+1Ch] [ebp-20h] BYREF
  int v35[2]; // [esp+24h] [ebp-18h] BYREF
  int v36[4]; // [esp+2Ch] [ebp-10h] BYREF

  v2 = 0;
  if ( *(_DWORD *)(this + 228) <= *sub_442BD0(dword_4C087C, v35)
    && *sub_442BD0(dword_4C087C, v35) <= *(_DWORD *)(this + 236)
    && *(_DWORD *)(this + 232) <= sub_442BD0(dword_4C087C, v35)[1]
    && sub_442BD0(dword_4C087C, v35)[1] <= *(_DWORD *)(this + 240)
    && sub_443000(dword_4C087C, 1) )
  {
    v4 = *(_DWORD *)(this + 240) - *(_DWORD *)(this + 232);
    v35[0] = *(_DWORD *)(this + 188) - *(_DWORD *)(this + 92);
    v3 = v35[0];
    v34[0] = v4;
    v33[0] = sub_442BD0(dword_4C087C, v33)[1] - *(_DWORD *)(this + 232);
    v5 = (int)((double)v33[0] / ((double)v34[0] / ((double)v35[0] + 1.0)));
    *(_DWORD *)(this + 7684) = v5;
    if ( v5 > v3 )
      *(_DWORD *)(this + 7684) = v3;
    if ( *(int *)(this + 7684) < 0 )
      *(_DWORD *)(this + 7684) = 0;
    sub_442D20(v5, (int)dword_4C087C);
    sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, -1);
    v2 = 1;
  }
  if ( sub_443000(dword_4C087C, 16) )
  {
    *(_DWORD *)(this + 7684) += *(_DWORD *)(this + 7692);
    sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, -1);
    sub_412EA0(*(_DWORD **)(this + 7668));
    v6 = *(_DWORD *)(this + 92);
    v7 = *(_DWORD *)(this + 188);
    if ( v7 + 1 <= (unsigned int)(v6 + *(_DWORD *)(this + 7684)) )
    {
      *(_DWORD *)(this + 7684) = v7 - v6;
      *(_DWORD *)(this + 7688) = -2;
    }
  }
  if ( sub_443000(dword_4C087C, 15) )
  {
    *(_DWORD *)(this + 7684) -= *(_DWORD *)(this + 7692);
    sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, -1);
    sub_412EA0(*(_DWORD **)(this + 7668));
    if ( *(int *)(this + 7684) <= 0 )
    {
      *(_DWORD *)(this + 7684) = 0;
      *(_DWORD *)(this + 7688) = -2;
    }
  }
  v8 = *(_DWORD **)(this + 7668);
  if ( !v8 || v2 )
    goto LABEL_44;
  v9 = sub_412EE0(v8);
  v10 = sub_414D50(*(_DWORD *)(this + 7668), 0);
  if ( *(_DWORD *)(*(_DWORD *)(this + 7668) + 32) == sub_412EE0(*(_DWORD **)(this + 7668))
    && (sub_443000(dword_4C087C, 4) || sub_443000(dword_4C087C, 6)) )
  {
    *(_DWORD *)(this + 7684) += *(_DWORD *)(this + 7692);
    if ( *(_DWORD *)(this + 188) > (unsigned int)(*(_DWORD *)(this + 7684) + *(_DWORD *)(this + 92)) )
    {
      sub_43D070((DWORD *)dword_4C08F4, String, 1, 0);
      if ( *(_DWORD *)(this + 7684) != *(_DWORD *)(this + 7688) )
      {
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF6u, *(_DWORD *)(this + 7684));
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, v9);
        sub_412EA0(*(_DWORD **)(this + 7668));
      }
    }
    v11 = *(_DWORD *)(this + 92);
    v12 = *(_DWORD *)(this + 188);
    if ( v12 <= v11 + *(_DWORD *)(this + 7684) )
      *(_DWORD *)(this + 7684) = v12 - v11;
  }
  else if ( !v9 && (sub_443000(dword_4C087C, 3) || sub_443000(dword_4C087C, 5)) )
  {
    *(_DWORD *)(this + 7684) -= *(_DWORD *)(this + 7692);
    v13 = *(int *)(this + 7684) < 0;
    if ( *(int *)(this + 7684) > 0 )
    {
      sub_43D070((DWORD *)dword_4C08F4, String, 1, 0);
      if ( *(_DWORD *)(this + 7684) != *(_DWORD *)(this + 7688) )
      {
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF6u, *(_DWORD *)(this + 7684));
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF5u, 0);
        sub_412EA0(*(_DWORD **)(this + 7668));
      }
      v13 = *(int *)(this + 7684) < 0;
    }
    if ( v13 )
      *(_DWORD *)(this + 7684) = 0;
  }
  if ( v10 == -1 )
  {
LABEL_44:
    if ( *(_DWORD *)(this + 7684) != *(_DWORD *)(this + 7688) )
    {
      sub_444360(**(float ***)(this + 7676), v36);
      v23 = *(_DWORD *)(this + 232);
      v24 = *(_DWORD *)(this + 188) - *(_DWORD *)(this + 92);
      v35[0] = *(_DWORD *)(this + 240) - v23;
      v25 = (double)v35[0];
      v35[0] = v24;
      v26 = *(_DWORD *)(this + 228);
      v34[0] = v23;
      v35[0] = (v36[3] - v36[1]) / 2;
      v27 = v25 / (double)v24 * (double)*(int *)(this + 7684) + (double)v23 - (double)v35[0];
      v35[0] = (int)v27;
      v28 = *(float ***)(this + 7676);
      v35[0] = v26 + (*(_DWORD *)(this + 236) - v26) / 2 - (v36[2] - v36[0]) / 2;
      v31 = (float)(int)v27;
      v30 = (float)v35[0];
      sub_444260(*v28, v30, v31);
      v29 = *(_DWORD *)(this + 7688);
      v32 = *(_DWORD *)(this + 7684);
      *(_DWORD *)(this + 7688) = v32;
      sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xF6u, v32);
      sub_436280(this);
      return (v29 == -1) - 2;
    }
    return -1;
  }
  if ( *(_DWORD *)(*(_DWORD *)(this + 7668) + 32) <= v10 )
    goto LABEL_41;
  v14 = *(_DWORD *)(this + 184);
  v15 = *(_DWORD *)(this + 160);
  v35[0] = v10 + *(_DWORD *)(this + 7684);
  v34[1] = v14;
  v34[0] = v15;
  v16 = sub_4132D0((int *)(this + 160), v33, v35);
  if ( !sub_409580(v16, v34) )
    return -1;
  v35[0] = v10 + *(_DWORD *)(this + 7684);
  v17 = sub_4132D0((int *)(this + 160), v34, v35);
  v18 = *(_DWORD *)(sub_44AC10((int **)v17) + 4);
  if ( *(_DWORD *)(v18 + 7324) == -1 )
    return -1;
  sub_40D2C0((int *)Buf, (unsigned __int8 *)0x63, 0xFEu, *(_DWORD *)(v18 + 7324));
LABEL_41:
  v19 = (char *)sub_412AE0(*(void **)(this + 7668));
  v20 = (_BYTE *)this;
  do
  {
    v21 = *v19;
    *v20++ = *v19++;
  }
  while ( v21 );
  sub_40D2C0((int *)Buf, (unsigned __int8 *)9, 0x3Cu, *(_DWORD *)(this + 7684));
  return v10 + *(_DWORD *)(this + 7684);
}

//----- (00437570) --------------------------------------------------------
int __thiscall sub_437570(int *this, int a2, int *a3)
{
  _DWORD *v4; // esi
  int *v5; // eax
  bool v6; // cl
  int v7; // edx
  int v8; // edx
  int v9; // ebp
  _DWORD *v10; // ebp
  int *v11; // ecx
  int v12; // edx
  int result; // eax
  int *v14; // ecx
  char v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h] BYREF
  _DWORD *v17; // [esp+18h] [ebp-4h]

  v4 = (_DWORD *)this[6];
  v5 = (int *)v4[1];
  v6 = 1;
  v15 = 1;
  if ( !*((_BYTE *)v5 + 33) )
  {
    v7 = *a3;
    do
    {
      v4 = v5;
      v6 = v7 < v5[3];
      v15 = v6;
      if ( v7 >= v5[3] )
        v5 = (int *)v5[2];
      else
        v5 = (int *)*v5;
    }
    while ( !*((_BYTE *)v5 + 33) );
  }
  v8 = *this;
  v9 = (int)v4;
  v17 = v4;
  v16 = v8;
  if ( v6 )
  {
    v10 = *(_DWORD **)this[6];
    if ( !v8 )
      _invalid_parameter_noinfo();
    if ( v4 == v10 )
    {
      v11 = sub_436BE0(this, v8, &v16, 1, v4, a3);
      v12 = *v11;
      result = a2;
      *(_DWORD *)(a2 + 4) = v11[1];
      *(_BYTE *)(a2 + 8) = 1;
      *(_DWORD *)a2 = v12;
      return result;
    }
    sub_435CE0(&v16);
    v9 = (int)v17;
    v8 = v16;
  }
  if ( *(_DWORD *)(v9 + 12) >= *a3 )
  {
    result = a2;
    *(_DWORD *)(a2 + 4) = v9;
    *(_BYTE *)(a2 + 8) = 0;
  }
  else
  {
    v14 = sub_436BE0(this, (int)&v16, &v16, v15, v4, a3);
    v8 = *v14;
    result = a2;
    *(_DWORD *)(a2 + 4) = v14[1];
    *(_BYTE *)(a2 + 8) = 1;
  }
  *(_DWORD *)a2 = v8;
  return result;
}
// 4375DF: variable 'v8' is possibly undefined

//----- (00437660) --------------------------------------------------------
int __thiscall sub_437660(int *this, int a2, int *a3)
{
  _DWORD *v4; // esi
  int *v5; // eax
  bool v6; // cl
  int v7; // edx
  int v8; // edx
  int v9; // ebp
  _DWORD *v10; // ebp
  int *v11; // ecx
  int v12; // edx
  int result; // eax
  int *v14; // ecx
  char v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h] BYREF
  _DWORD *v17; // [esp+18h] [ebp-4h]

  v4 = (_DWORD *)this[6];
  v5 = (int *)v4[1];
  v6 = 1;
  v15 = 1;
  if ( !*((_BYTE *)v5 + 21) )
  {
    v7 = *a3;
    do
    {
      v4 = v5;
      v6 = v7 < v5[3];
      v15 = v6;
      if ( v7 >= v5[3] )
        v5 = (int *)v5[2];
      else
        v5 = (int *)*v5;
    }
    while ( !*((_BYTE *)v5 + 21) );
  }
  v8 = *this;
  v9 = (int)v4;
  v17 = v4;
  v16 = v8;
  if ( v6 )
  {
    v10 = *(_DWORD **)this[6];
    if ( !v8 )
      _invalid_parameter_noinfo();
    if ( v4 == v10 )
    {
      v11 = sub_436DE0(this, v8, &v16, 1, v4, a3);
      v12 = *v11;
      result = a2;
      *(_DWORD *)(a2 + 4) = v11[1];
      *(_BYTE *)(a2 + 8) = 1;
      *(_DWORD *)a2 = v12;
      return result;
    }
    sub_435C50(&v16);
    v9 = (int)v17;
    v8 = v16;
  }
  if ( *(_DWORD *)(v9 + 12) >= *a3 )
  {
    result = a2;
    *(_DWORD *)(a2 + 4) = v9;
    *(_BYTE *)(a2 + 8) = 0;
  }
  else
  {
    v14 = sub_436DE0(this, (int)&v16, &v16, v15, v4, a3);
    v8 = *v14;
    result = a2;
    *(_DWORD *)(a2 + 4) = v14[1];
    *(_BYTE *)(a2 + 8) = 1;
  }
  *(_DWORD *)a2 = v8;
  return result;
}
// 4376CF: variable 'v8' is possibly undefined

//----- (00437750) --------------------------------------------------------
int __thiscall sub_437750(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int *v10; // eax
  int v11; // ecx
  int result; // eax
  int v13[2]; // [esp+4h] [ebp-14h] BYREF
  char v14[12]; // [esp+Ch] [ebp-Ch] BYREF

  if ( this[1915] )
  {
    v10 = (int *)operator new(0x68u);
    qmemcpy(v10, this + 57, 0x68u);
    v11 = this[15];
    v13[1] = (int)v10;
    v13[0] = v11;
    sub_437660(this + 8, (int)v14, v13);
    memset(this + 57, 0, 0x68u);
  }
  this[57] = a2;
  this[58] = a3;
  this[59] = a4;
  result = a7;
  this[60] = a5;
  this[61] = a6;
  this[62] = a7;
  this[63] = a8;
  this[64] = a9;
  this[1915] = 1;
  return result;
}
// 437750:  char var_C[12]

//----- (00437810) --------------------------------------------------------
void __thiscall sub_437810(char *this)
{
  char *v2; // eax
  int v3; // ecx
  char *v4; // esi
  int v5; // eax
  int v6; // edx
  int v7; // ecx
  char *v8; // ecx
  int v9; // [esp+4h] [ebp-14h] BYREF
  char *v10; // [esp+8h] [ebp-10h]
  char v11[12]; // [esp+Ch] [ebp-Ch] BYREF

  if ( *((_DWORD *)this + 61) == *((_DWORD *)this + 63) && *((_DWORD *)this + 62) == *((_DWORD *)this + 64) )
  {
    sub_418F20(*((int **)this + 1917), *((_DWORD *)this + 1918), 0);
  }
  else
  {
    v2 = (char *)operator new(0x68u);
    qmemcpy(v2, this + 228, 0x68u);
    v3 = *((_DWORD *)this + 15);
    v10 = v2;
    v9 = v3;
    sub_437660((int *)this + 8, (int)v11, &v9);
    if ( this[7624] )
    {
      v4 = (char *)operator new(0x1CA0u);
      memcpy(v4, this + 332, 0x1CA0u);
      v9 = *((_DWORD *)this + 47);
      v10 = v4;
      sub_437660((int *)this + 40, (int)v11, &v9);
    }
    v5 = sub_40CCD0(Buf, 99, 246);
    v6 = *((_DWORD *)this + 23);
    v7 = *((_DWORD *)this + 47);
    *((_DWORD *)this + 1921) = v5;
    if ( v7 + 1 <= (unsigned int)(v6 + v5) )
      *((_DWORD *)this + 1921) = v7 - v6;
    *((_DWORD *)this + 1924) = 0;
    *this = 0;
    sub_436280((int)this);
    v8 = (char *)*((_DWORD *)this + 1917);
    *((_DWORD *)this + 1922) = -1;
    sub_417C60(v8);
  }
}

//----- (00437940) --------------------------------------------------------
void *__thiscall sub_437940(int *this, int a2)
{
  void *v3; // edi
  void *result; // eax
  int v5[2]; // [esp+Ch] [ebp-14h] BYREF
  char v6[12]; // [esp+14h] [ebp-Ch] BYREF

  v3 = operator new(0x1CA0u);
  memcpy(v3, this + 83, 0x1CA0u);
  v5[0] = a2;
  v5[1] = (int)v3;
  sub_437660(this + 40, (int)v6, v5);
  result = memset(this + 83, 0, 0x1CA0u);
  this[1924] = 0;
  return result;
}
// 437940:  char var_C[12]

//----- (004379B0) --------------------------------------------------------
int __thiscall sub_4379B0(int *this, int a2, int a3, int a4, int a5)
{
  int v5; // ebx
  char v7[12]; // [esp+Ch] [ebp-20h] BYREF
  int v8[5]; // [esp+18h] [ebp-14h] BYREF

  v5 = this[23];
  v8[1] = a2;
  v8[2] = a3;
  v8[0] = v5;
  v8[3] = a4;
  v8[4] = a5;
  return sub_437570(this + 16, (int)v7, v8);
}
// 4379B0:  char var_20[12]

//----- (00437A00) --------------------------------------------------------
int __thiscall sub_437A00(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  void *v9; // edi
  int result; // eax
  int v11[2]; // [esp+8h] [ebp-14h] BYREF
  char v12[12]; // [esp+10h] [ebp-Ch] BYREF

  if ( this[1916] == 1 && !a8 )
  {
    v9 = operator new(0x1CA0u);
    memcpy(v9, this + 83, 0x1CA0u);
    v11[0] = this[47];
    v11[1] = (int)v9;
    sub_437660(this + 40, (int)v12, v11);
    ++this[1924];
  }
  memset(this + 83, 0, 0x1CA0u);
  this[1914] = a2;
  this[85] = a4;
  this[86] = a5;
  result = a3;
  this[83] = 0;
  this[1924] = 0;
  this[84] = 0;
  this[87] = a6;
  this[88] = a7;
  this[92] = a3;
  this[1916] = 1;
  return result;
}
// 437A00:  char var_C[12]

//----- (00437AE0) --------------------------------------------------------
int __thiscall sub_437AE0(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int result; // eax
  int v11; // [esp+4h] [ebp-40h] BYREF
  int *v12; // [esp+8h] [ebp-3Ch]
  char v13[12]; // [esp+Ch] [ebp-38h] BYREF
  int v14[11]; // [esp+18h] [ebp-2Ch] BYREF

  memset(v14, 0, sizeof(v14));
  result = a4;
  if ( a4 )
  {
    v14[0] = a2;
    v14[1] = a3;
    v14[2] = a5;
    v14[3] = a6;
    v14[4] = a7;
    v14[5] = a8;
    v14[8] = a9;
    v14[9] = a4;
    v12 = (int *)operator new(0x2Cu);
    qmemcpy(v12, v14, 0x2Cu);
    v11 = this[31];
    return sub_437660(this + 24, (int)v13, &v11);
  }
  return result;
}
// 437AE0:  char var_38[12]

//----- (00437B80) --------------------------------------------------------
int __thiscall sub_437B80(int *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int result; // eax
  int *v12; // eax
  int v13; // ecx
  int v14[2]; // [esp+4h] [ebp-40h] BYREF
  char v15[12]; // [esp+Ch] [ebp-38h] BYREF
  int v16[11]; // [esp+18h] [ebp-2Ch] BYREF

  memset(v16, 0, sizeof(v16));
  result = a4;
  if ( a4 )
  {
    v16[0] = a2;
    v16[1] = a3;
    v16[2] = a5;
    v16[3] = a6;
    v16[4] = a7;
    v16[5] = a8;
    v16[8] = a9;
    v16[9] = a4;
    v16[10] = a10;
    v12 = (int *)operator new(0x2Cu);
    qmemcpy(v12, v16, 0x2Cu);
    v13 = this[39];
    v14[1] = (int)v12;
    v14[0] = v13;
    return sub_437660(this + 32, (int)v15, v14);
  }
  return result;
}
// 437B80:  char var_38[12]

//----- (00437C30) --------------------------------------------------------
void __thiscall sub_437C30(int *this, int a2)
{
  _DWORD *v2; // esi
  int v3; // edi
  _DWORD *v4; // ebx
  int v5; // ebp
  void *v6; // ebp
  _DWORD *v7; // eax
  _DWORD *v8; // edi
  _DWORD *v9; // esi
  _DWORD *v10; // ebx
  _DWORD *v11; // eax
  int v12; // eax
  int v13; // edx
  int v14; // ecx
  int v15; // eax
  _DWORD *v16; // esi
  int v17; // ebp
  _DWORD *v18; // ebx
  int v19; // edi
  _DWORD *v20; // eax
  int v21; // edi
  int v22; // ebp
  _DWORD *v23; // ebx
  int v24; // esi
  _DWORD *v25; // eax
  int v26; // ebx
  _DWORD *v27; // esi
  int v28; // ebp
  void *v29; // edi
  _DWORD *v30; // eax
  _DWORD *i; // [esp+14h] [ebp-30h] BYREF
  _DWORD *v33; // [esp+18h] [ebp-2Ch]
  _DWORD *v34; // [esp+1Ch] [ebp-28h] BYREF
  int v35; // [esp+20h] [ebp-24h]
  int v36; // [esp+24h] [ebp-20h] BYREF
  void *v37; // [esp+28h] [ebp-1Ch]
  int v38[5]; // [esp+30h] [ebp-14h] BYREF

  sub_435E10((int)this);
  v2 = (_DWORD *)a2;
  if ( *(_DWORD *)(a2 + 60) )
  {
    v3 = **(_DWORD **)(a2 + 56);
    v4 = *(_DWORD **)(a2 + 32);
    v33 = (_DWORD *)v3;
    i = v4;
    while ( 1 )
    {
      v5 = v2[14];
      if ( !v4 || v4 != (_DWORD *)v2[8] )
        _invalid_parameter_noinfo();
      if ( v3 == v5 )
        break;
      v6 = operator new(0x68u);
      if ( v4 )
      {
        v7 = (_DWORD *)*v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v7 = 0;
      }
      if ( v3 == v7[6] )
        _invalid_parameter_noinfo();
      qmemcpy(v6, (const void *)v33[4], 0x68u);
      if ( v4 )
        v4 = (_DWORD *)*v4;
      else
        _invalid_parameter_noinfo();
      if ( v33 == (_DWORD *)v4[6] )
        _invalid_parameter_noinfo();
      v34 = (_DWORD *)v33[3];
      v35 = (int)v6;
      sub_437660(this + 8, (int)&v36, (int *)&v34);
      sub_409780(&i);
      v4 = i;
      v2 = (_DWORD *)a2;
      v3 = (int)v33;
    }
  }
  if ( v2[23] )
  {
    v8 = **(_DWORD ***)(a2 + 88);
    v9 = *(_DWORD **)(a2 + 64);
    v33 = v8;
    for ( i = v9; ; v9 = i )
    {
      v10 = *(_DWORD **)(a2 + 88);
      if ( !v9 || v9 != *(_DWORD **)(a2 + 64) )
        _invalid_parameter_noinfo();
      if ( v8 == v10 )
        break;
      if ( v9 )
      {
        v11 = (_DWORD *)*v9;
      }
      else
      {
        _invalid_parameter_noinfo();
        v11 = 0;
      }
      if ( v8 == (_DWORD *)v11[6] )
        _invalid_parameter_noinfo();
      if ( v9 )
        v9 = (_DWORD *)*v9;
      else
        _invalid_parameter_noinfo();
      if ( v8 == (_DWORD *)v9[6] )
        _invalid_parameter_noinfo();
      v12 = v8[3];
      v13 = v8[5];
      v38[1] = v8[4];
      v14 = v8[7];
      v38[0] = v12;
      v15 = v8[6];
      v38[2] = v13;
      v38[4] = v14;
      v38[3] = v15;
      sub_437570(this + 16, (int)&v36, v38);
      sub_409710(&i);
      v8 = v33;
    }
  }
  v16 = (_DWORD *)a2;
  if ( *(_DWORD *)(a2 + 124) )
  {
    v17 = **(_DWORD **)(a2 + 120);
    v18 = *(_DWORD **)(a2 + 96);
    v35 = v17;
    v34 = v18;
    while ( 1 )
    {
      v19 = v16[30];
      if ( !v18 || v18 != (_DWORD *)v16[24] )
        _invalid_parameter_noinfo();
      if ( v17 == v19 )
        break;
      i = operator new(0x2Cu);
      if ( v18 )
      {
        v20 = (_DWORD *)*v18;
      }
      else
      {
        _invalid_parameter_noinfo();
        v20 = 0;
      }
      if ( v17 == v20[6] )
        _invalid_parameter_noinfo();
      qmemcpy(i, *(const void **)(v17 + 16), 0x2Cu);
      if ( v18 )
        v18 = (_DWORD *)*v18;
      else
        _invalid_parameter_noinfo();
      if ( v17 == v18[6] )
        _invalid_parameter_noinfo();
      v36 = *(_DWORD *)(v17 + 12);
      v37 = i;
      sub_437660(this + 24, (int)v38, &v36);
      sub_409780(&v34);
      v17 = v35;
      v18 = v34;
      v16 = (_DWORD *)a2;
    }
  }
  v21 = a2;
  if ( v16[39] )
  {
    v22 = **(_DWORD **)(a2 + 152);
    v23 = *(_DWORD **)(a2 + 128);
    v35 = v22;
    v34 = v23;
    while ( 1 )
    {
      v24 = *(_DWORD *)(v21 + 152);
      if ( !v23 || v23 != *(_DWORD **)(v21 + 128) )
        _invalid_parameter_noinfo();
      if ( v22 == v24 )
        break;
      i = operator new(0x2Cu);
      if ( v23 )
      {
        v25 = (_DWORD *)*v23;
      }
      else
      {
        _invalid_parameter_noinfo();
        v25 = 0;
      }
      if ( v22 == v25[6] )
        _invalid_parameter_noinfo();
      qmemcpy(i, *(const void **)(v22 + 16), 0x2Cu);
      if ( v23 )
        v23 = (_DWORD *)*v23;
      else
        _invalid_parameter_noinfo();
      if ( v22 == v23[6] )
        _invalid_parameter_noinfo();
      v36 = *(_DWORD *)(v22 + 12);
      v37 = i;
      sub_437660(this + 32, (int)v38, &v36);
      sub_409780(&v34);
      v22 = v35;
      v23 = v34;
      v21 = a2;
    }
  }
  if ( *(_DWORD *)(v21 + 188) )
  {
    v26 = **(_DWORD **)(v21 + 184);
    v27 = *(_DWORD **)(v21 + 160);
    v35 = v26;
    v34 = v27;
    while ( 1 )
    {
      v28 = *(_DWORD *)(v21 + 184);
      if ( !v27 || v27 != *(_DWORD **)(v21 + 160) )
        _invalid_parameter_noinfo();
      if ( v26 == v28 )
        break;
      v29 = operator new(0x1CA0u);
      if ( v27 )
      {
        v30 = (_DWORD *)*v27;
      }
      else
      {
        _invalid_parameter_noinfo();
        v30 = 0;
      }
      if ( v26 == v30[6] )
        _invalid_parameter_noinfo();
      memcpy(v29, *(const void **)(v26 + 16), 0x1CA0u);
      if ( v27 )
        v27 = (_DWORD *)*v27;
      else
        _invalid_parameter_noinfo();
      if ( v26 == v27[6] )
        _invalid_parameter_noinfo();
      v36 = *(_DWORD *)(v26 + 12);
      v37 = v29;
      sub_437660(this + 40, (int)v38, &v36);
      sub_409780(&v34);
      v26 = v35;
      v27 = v34;
      v21 = a2;
    }
  }
}

//----- (00438040) --------------------------------------------------------
void *__thiscall sub_438040(_DWORD *this)
{
  void *v2; // eax
  int v3; // eax
  void *v4; // eax
  int v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // edi

  this[56] = 0;
  if ( dword_4C0874 )
    this[56] = sub_438B50(dword_4C0874);
  v2 = operator new(0x444u);
  if ( v2 )
    v3 = sub_404260((int)v2);
  else
    v3 = 0;
  this[1917] = v3;
  v4 = operator new(0x444u);
  if ( v4 )
    v5 = sub_404260((int)v4);
  else
    v5 = 0;
  this[1918] = v5;
  v6 = operator new(0x10u);
  v7 = v6;
  if ( v6 )
    sub_40EE30(v6);
  else
    v7 = 0;
  this[1919] = v7;
  return sub_435950(this);
}

//----- (00438140) --------------------------------------------------------
void __thiscall sub_438140(_DWORD *this)
{
  void *v2; // edi
  void *v3; // edi
  void *v4; // edi

  sub_436250((int)this);
  v2 = (void *)this[1919];
  if ( v2 )
  {
    sub_40EFF0((_DWORD *)this[1919]);
    operator delete(v2);
    this[1919] = 0;
  }
  v3 = (void *)this[1918];
  if ( v3 )
  {
    sub_4043B0((_DWORD *)this[1918]);
    operator delete(v3);
    this[1918] = 0;
  }
  v4 = (void *)this[1917];
  if ( v4 )
  {
    sub_4043B0((_DWORD *)this[1917]);
    operator delete(v4);
    this[1917] = 0;
  }
}

//----- (004381C0) --------------------------------------------------------
int __thiscall sub_4381C0(_DWORD *this)
{
  int result; // eax

  result = -1;
  this[673] = -1;
  this[56190] = -1;
  this[56192] = 0;
  return result;
}

//----- (004381E0) --------------------------------------------------------
int __thiscall sub_4381E0(void *this, int a2)
{
  return (int)this + a2 + 115944;
}

//----- (004381F0) --------------------------------------------------------
int __thiscall sub_4381F0(_DWORD *this, int a2)
{
  return this[a2 + 54987];
}

//----- (00438200) --------------------------------------------------------
int __thiscall sub_438200(int *this, int a2, int a3)
{
  int v5; // eax
  bool v6; // zf
  size_t v7; // [esp-20h] [ebp-24h]

  if ( this[673] <= 0 )
    return -1;
  v5 = this[674];
  this[54986] = v5;
  memcpy(this + 54987, this + 675, 4 * v5);
  memcpy(this, &this[this[54986] + 675], 2 * this[54986]);
  v7 = this[673] - 6 * this[54986] - 4;
  this[56187] = v7;
  memcpy(this + 28986, (char *)this + 6 * this[54986] + 2700, v7);
  v6 = *((_BYTE *)this + 115944) == 0xB6;
  this[673] = -1;
  if ( v6 )
  {
    if ( *((unsigned __int8 *)this + 115945) + (*((unsigned __int8 *)this + 115946) << 8) != 170 )
      MessageBoxA(0, &byte_49152C, WindowName, 0x42000u);
    return 0;
  }
  else
  {
    MessageBoxA(0, aMes_0, WindowName, 0x42000u);
    return 0;
  }
}

//----- (00438300) --------------------------------------------------------
int __thiscall sub_438300(int this, int a2, int a3, int a4)
{
  void *v5; // eax
  int v7; // edi
  int v8; // ebx
  CHAR FileName[260]; // [esp+Ch] [ebp-108h] BYREF

  sub_406D20(FileName, (int)&unk_4915A0, a2, ".mes");
  if ( a4 )
  {
    v5 = malloc(0x1BA60u);
    *(_DWORD *)(this + 224752) = v5;
    if ( !v5 )
    {
      MessageBoxA(0, aMes_1, WindowName, 0x42000u);
      return -1;
    }
  }
  else
  {
    *(_DWORD *)(this + 224752) = a3;
  }
  v7 = _open(FileName, 0x8000, 0);
  if ( v7 == -1 )
  {
    if ( a4 )
      free(*(void **)(this + 224752));
    return -1;
  }
  else
  {
    v8 = _read(v7, *(void **)(this + 224752), 0x1BA60u);
    _close(v7);
    *(_DWORD *)(this + 224756) = a3;
    return v8;
  }
}

//----- (00438400) --------------------------------------------------------
int __stdcall sub_438400(unsigned __int8 *a1)
{
  return *a1 | (__int16)(a1[1] << 8);
}

//----- (00438420) --------------------------------------------------------
int __thiscall sub_438420(const char *this, const char *a2)
{
  int result; // eax
  int v3; // edi

  if ( !a2 || !*a2 )
    return -1;
  result = 3;
  do
  {
    v3 = (unsigned __int8)this[result + 115944];
    if ( v3 == 75 )
    {
      if ( !strcmp(&this[result + 115945], a2) )
        return result;
LABEL_14:
      result += strlen(&this[result + 115945]) + 2;
      continue;
    }
    if ( (unsigned __int8)this[result + 115944] >= 0x3Bu )
    {
      if ( (unsigned __int8)this[result + 115944] < 0x48u )
      {
        result += strlen(&this[result + 115946]) + 3;
        continue;
      }
      if ( (unsigned __int8)this[result + 115944] < 0x6Eu )
        goto LABEL_14;
      result += 9;
    }
    else
    {
      if ( !this[result + 115944] )
        return -1;
      result += 3;
    }
  }
  while ( v3 );
  return -1;
}

//----- (004384F0) --------------------------------------------------------
int __thiscall sub_4384F0(const char *this, int a2)
{
  int result; // eax
  int v3; // edi

  if ( !a2 )
    return -1;
  result = 3;
  do
  {
    v3 = (unsigned __int8)this[result + 115944];
    if ( v3 == 3 )
    {
      if ( (unsigned __int8)this[result + 115945] + ((unsigned __int8)this[result + 115946] << 8) == a2 )
        return result;
      result += 3;
    }
    else if ( (unsigned __int8)this[result + 115944] >= 0x3Bu )
    {
      if ( (unsigned __int8)this[result + 115944] >= 0x48u )
      {
        if ( (unsigned __int8)this[result + 115944] >= 0x6Eu )
          result += 9;
        else
          result += strlen(&this[result + 115945]) + 2;
      }
      else
      {
        result += strlen(&this[result + 115946]) + 3;
      }
    }
    else
    {
      if ( !this[result + 115944] )
        return -1;
      result += 3;
    }
  }
  while ( v3 );
  return -1;
}

//----- (004385A0) --------------------------------------------------------
int __thiscall sub_4385A0(const char *this, int a2, int a3, int a4)
{
  int v5; // edi

  do
  {
    v5 = (unsigned __int8)this[a3 + 115944];
    if ( v5 == 32 )
    {
      if ( this[a3 + 115946] == a4 )
        return a3 + 3;
LABEL_5:
      a3 += 3;
      continue;
    }
    if ( (unsigned __int8)this[a3 + 115944] < 0x3Bu )
      goto LABEL_5;
    if ( (unsigned __int8)this[a3 + 115944] >= 0x48u )
    {
      if ( (unsigned __int8)this[a3 + 115944] >= 0x6Eu )
        a3 += 9;
      else
        a3 += strlen(&this[a3 + 115945]) + 2;
    }
    else
    {
      a3 += strlen(&this[a3 + 115946]) + 3;
    }
  }
  while ( v5 );
  MessageBoxA(0, &byte_4915AC, WindowName, 0x42000u);
  return 0;
}

//----- (00438650) --------------------------------------------------------
int __stdcall sub_438650(int a1)
{
  int v1; // eax
  _DWORD *v3; // edx
  char *v4; // esi
  int v5; // edx
  int i; // eax
  unsigned __int16 v7; // cx

  v1 = sub_40CBC0((int *)Buf, (char *)Buf + 19336);
  if ( v1 < 0 )
    return 0;
  v3 = (char *)Buf + 20 * v1 + 2636;
  if ( *v3 )
  {
    v4 = (char *)Buf + 4 * *v3 + 15640;
    v5 = 500 - *v3;
  }
  else
  {
    v4 = (char *)Buf + 20 * v1 + 2640;
    v5 = 4;
  }
  for ( i = 0; i < v5; ++i )
  {
    v7 = *(_WORD *)&v4[4 * i];
    if ( !v7 )
      break;
    if ( v7 <= a1 && a1 <= *(unsigned __int16 *)&v4[4 * i + 2] )
      return 1;
  }
  return 0;
}

//----- (004386F0) --------------------------------------------------------
void *__thiscall sub_4386F0(char *this)
{
  void *result; // eax

  sub_4381C0(this);
  memset(this, 0, 0x960u);
  memset(this + 2432, 0, 0x104u);
  memset(this + 2696, 0, 0x1BA60u);
  memset(this + 115944, 0, 0x19640u);
  result = memset(this + 219948, 0, 0x12C0u);
  *((_DWORD *)this + 54986) = 0;
  *((_DWORD *)this + 56191) = 0;
  *((_DWORD *)this + 56187) = 0;
  *((_DWORD *)this + 56189) = 0;
  *((_DWORD *)this + 56188) = 0;
  return result;
}

//----- (00438790) --------------------------------------------------------
unsigned int __thiscall sub_438790(unsigned __int8 *this, int a2, void *a3)
{
  unsigned int result; // eax
  unsigned int v5; // edi
  int v6; // eax
  int v7; // edx
  unsigned __int8 *v8; // eax
  int v9; // edx
  unsigned __int8 v10; // cl
  unsigned __int8 *v11; // eax
  int v12; // edx
  unsigned __int8 v13; // cl
  unsigned __int8 *v14; // eax
  int v15; // edx
  unsigned __int8 v16; // cl
  int *i; // eax
  int Src[2057]; // [esp+4h] [ebp-2024h] BYREF

  result = -1;
  if ( *((_DWORD *)this + 673) == -1 )
  {
    memset(Src, 0, sizeof(Src));
    v5 = a2;
    v6 = this[a2 + 115944];
    Src[0] = v6;
    *((_DWORD *)this + 56191) = 0;
    if ( v6 >= 59 )
    {
      if ( v6 >= 72 )
      {
        if ( v6 >= 105 )
        {
          if ( v6 >= 110 )
          {
            Src[2049] = sub_438400(&this[a2 + 115945]);
            Src[2050] = sub_438400(&this[a2 + 115947]);
            Src[2051] = sub_438400(&this[a2 + 115949]);
            Src[2052] = sub_438400(&this[a2 + 115951]);
            v5 = a2 + 9;
          }
          else
          {
            v14 = &this[a2 + 115945];
            *((_DWORD *)this + 56192) = v14;
            v15 = (char *)&Src[1] - (char *)v14;
            do
            {
              v16 = *v14;
              v14[v15] = *v14;
              ++v14;
            }
            while ( v16 );
            v5 = a2 + strlen((const char *)&Src[1]) + 2;
            for ( i = &Src[1]; *(_BYTE *)i; i = (int *)((char *)i + 1) )
              ++Src[2050];
            sub_4076B0(&Src[1]);
          }
        }
        else
        {
          v11 = &this[a2 + 115945];
          *((_DWORD *)this + 56192) = v11;
          v12 = (char *)&Src[1] - (char *)v11;
          do
          {
            v13 = *v11;
            v11[v12] = *v11;
            ++v11;
          }
          while ( v13 );
          v5 = a2 + strlen((const char *)&Src[1]) + 2;
        }
      }
      else
      {
        Src[2049] = this[a2 + 115945];
        v8 = &this[a2 + 115946];
        Src[2050] = 0;
        *((_DWORD *)this + 56192) = v8;
        v9 = (char *)&Src[1] - (char *)v8;
        do
        {
          v10 = *v8;
          v8[v9] = *v8;
          ++v8;
        }
        while ( v10 );
        v5 = a2 + strlen((const char *)&Src[1]) + 3;
      }
    }
    else
    {
      v7 = this[a2 + 115946];
      Src[2049] = this[a2 + 115945];
      Src[2050] = v7;
      if ( v6 )
        v5 = a2 + 3;
    }
    if ( this[v5 + 115944] == 119 )
    {
      Src[2053] = sub_438400(&this[v5 + 115945]);
      Src[2054] = sub_438400(&this[v5 + 115947]);
      Src[2055] = sub_438400(&this[v5 + 115949]);
      Src[2056] = sub_438400(&this[v5 + 115951]);
      v5 += 9;
    }
    memcpy(a3, Src, 0x2024u);
    return v5;
  }
  return result;
}

//----- (00438A00) --------------------------------------------------------
int __thiscall sub_438A00(int *this, int a2, int a3)
{
  int v4; // ecx
  int v6; // eax

  sub_4381C0(this);
  if ( this[673] <= 0 )
  {
    v6 = sub_438300(v4, a2, (int)(this + 674), 0);
    this[673] = v6;
    if ( v6 <= 0 )
    {
      return -1;
    }
    else
    {
      sub_438200(this, a2, a3);
      return 0;
    }
  }
  else
  {
    sub_438200(this, a2, a3);
    return 0;
  }
}
// 438A37: variable 'v4' is possibly undefined

//----- (00438A70) --------------------------------------------------------
char sub_438A70(int a1, LPCSTR a2, const CHAR *arglist, ...)
{
  unsigned int v3; // kr00_4
  char result; // al
  char *v5; // edi
  char v6; // [esp+1h] [ebp-105h] BYREF
  CHAR v7[256]; // [esp+2h] [ebp-104h] BYREF
  va_list arglista; // [esp+116h] [ebp+10h] BYREF

  va_start(arglista, arglist);
  wvsprintfA(v7, arglist, arglista);
  v3 = strlen(v7);
  result = v3;
  if ( v7[v3 - 1] != 10 )
  {
    v5 = &v6;
    do
      result = *++v5;
    while ( result );
  }
  return result;
}

//----- (00438AE0) --------------------------------------------------------
int *__thiscall sub_438AE0(_DWORD *this)
{
  int *v2; // eax
  int *result; // eax

  v2 = (int *)operator new(0x100u);
  if ( v2 )
    result = sub_44CB20(v2);
  else
    result = 0;
  this[63] = result;
  return result;
}

//----- (00438B50) --------------------------------------------------------
int __thiscall sub_438B50(_DWORD *this)
{
  return this[8];
}

//----- (00438B60) --------------------------------------------------------
int __thiscall sub_438B60(_DWORD *this)
{
  int v2; // eax
  int v3; // eax
  int v4; // eax

  v2 = this[53];
  if ( v2 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
    this[53] = 0;
  }
  v3 = this[54];
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(this[54]);
    this[54] = 0;
  }
  v4 = this[56];
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(this[56]);
    this[56] = 0;
  }
  return 0;
}

//----- (00438BC0) --------------------------------------------------------
void *__thiscall sub_438BC0(_DWORD *this)
{
  void *result; // eax

  result = memset(this + 413, 0, 0xA0u);
  this[453] = 0;
  return result;
}

//----- (00438BF0) --------------------------------------------------------
int __thiscall sub_438BF0(_DWORD *this, _DWORD *a2)
{
  int v2; // eax

  this[4 * this[453] + 413] = *a2;
  this[4 * this[453] + 415] = a2[2];
  this[4 * this[453] + 414] = a2[1];
  this[4 * this[453] + 416] = a2[3];
  v2 = this[453];
  if ( v2 >= 9 )
    return 0;
  this[453] = v2 + 1;
  return 1;
}

//----- (00438C60) --------------------------------------------------------
void __thiscall sub_438C60(int this, int a2, int a3)
{
  int v3; // ebx
  int v4; // edx
  _DWORD *v5; // eax
  bool v6; // zf

  v3 = *(_DWORD *)(this + 1812);
  v4 = 0;
  if ( v3 > 0 )
  {
    v5 = (_DWORD *)(this + 1660);
    do
    {
      if ( *(v5 - 2) <= a2 && a2 <= *v5 && *(v5 - 1) <= a3 && a3 <= v5[1] )
        break;
      ++v4;
      v5 += 4;
    }
    while ( v4 < v3 );
  }
  if ( v4 == v3 )
    v4 = 0;
  v6 = *(_DWORD *)(this + 8) == 0;
  *(_DWORD *)(this + 1648) = v4;
  if ( v6 )
    GetWindowRect(*(HWND *)this, (LPRECT)(this + 308));
}

//----- (00438CD0) --------------------------------------------------------
int __thiscall sub_438CD0(_DWORD *this, _DWORD *a2, _DWORD *a3)
{
  *a2 = this[4 * this[412] + 415] - this[4 * this[412] + 413];
  *a3 = this[4 * this[412] + 416] - this[4 * this[412] + 414];
  return this[412];
}

//----- (00438D20) --------------------------------------------------------
void __thiscall sub_438D20(int this)
{
  double v2; // st7
  double v3; // st6
  double v4; // st5
  double v5; // st4
  double v6; // st2
  double v7; // st4
  DWORD v8; // edi
  int v9; // edi
  int v10; // ebx
  int v11; // ecx
  int v12; // ebp
  signed int v13; // edi
  signed int v14; // eax
  int right; // ecx
  LONG bottom; // eax
  double v17; // rt0
  double v18; // st4
  double v19; // st7
  double v20; // st4
  float v21; // [esp+Ch] [ebp-30h]
  float v22; // [esp+Ch] [ebp-30h]
  int v23; // [esp+10h] [ebp-2Ch]
  int v24; // [esp+14h] [ebp-28h]
  int v25; // [esp+18h] [ebp-24h]
  struct tagRECT v26; // [esp+1Ch] [ebp-20h] BYREF
  struct tagRECT Rect; // [esp+2Ch] [ebp-10h] BYREF

  *(float *)(this + 240) = 1.0;
  *(float *)(this + 236) = 1.0;
  v2 = 0.0;
  *(float *)(this + 248) = 0.0;
  *(float *)(this + 244) = 0.0;
  v3 = 1280.0;
  *(float *)(this + 236) = (double)*((int *)dword_4C0874 + 57) / 1280.0;
  v4 = 720.0;
  v21 = (double)*((int *)dword_4C0874 + 58) / 720.0;
  v5 = v21;
  *(float *)(this + 240) = v21;
  if ( *((_DWORD *)dword_4C0874 + 4) )
  {
    if ( *(float *)(this + 236) <= v5 )
    {
      v7 = 0.5;
      *(float *)(this + 248) = ((double)*((int *)dword_4C0874 + 58) - *(float *)(this + 236) * 720.0) * 0.5;
      *(float *)(this + 240) = *(float *)(this + 236);
    }
    else
    {
      v6 = v5 * 1280.0;
      v7 = 0.5;
      *(float *)(this + 244) = ((double)*((int *)dword_4C0874 + 57) - v6) * 0.5;
      *(float *)(this + 236) = *(float *)(this + 240);
    }
  }
  else
  {
    v7 = 0.5;
  }
  if ( !*(_DWORD *)(this + 8) )
  {
    v8 = dwNewLong;
    Rect.left = 0;
    Rect.top = 0;
    Rect.right = GetSystemMetrics(5) - 1;
    Rect.bottom = GetSystemMetrics(6) - 1;
    AdjustWindowRect(&Rect, v8, 0);
    v9 = Rect.right - Rect.left;
    v10 = Rect.bottom - Rect.top;
    v23 = Rect.right - Rect.left;
    v25 = Rect.bottom - Rect.top;
    GetWindowRect(*(HWND *)this, &v26);
    v11 = v26.right - v26.left - v9;
    v12 = *(_DWORD *)(this + 428) - v9 - *(_DWORD *)(this + 420);
    v13 = abs32(v26.bottom - v26.top - (*(_DWORD *)(this + 432) - *(_DWORD *)(this + 424)));
    v14 = abs32(v11 - v12);
    v24 = v11;
    if ( v14 >= v13 )
    {
      if ( v14 <= v13 )
        return;
      bottom = (int)((double)v11 * 0.0625 * 9.0 + (double)v26.top + (double)v25);
      right = v26.right;
      v26.bottom = (int)((double)v24 * 0.0625 * 9.0 + (double)v26.top + (double)v25);
    }
    else
    {
      right = (int)((double)(v26.bottom - v26.top - v10) / 9.0 * 16.0 + (double)v26.left + (double)v23);
      bottom = v26.bottom;
      v26.right = right;
    }
    SetWindowPos(*(HWND *)this, (HWND)0xFFFFFFFE, v26.left, v26.top, right - v26.left, bottom - v26.top, 0x40u);
    GetWindowRect(*(HWND *)this, (LPRECT)(this + 308));
    GetWindowRect(*(HWND *)this, (LPRECT)(this + 420));
    v2 = 0.0;
    v3 = 1280.0;
    v7 = 0.5;
    v4 = 720.0;
  }
  v17 = v7;
  v18 = v2;
  v19 = v17;
  *(float *)(this + 248) = v18;
  *(float *)(this + 244) = v18;
  *(float *)(this + 236) = (double)*((int *)dword_4C0874 + 57) / v3;
  v22 = (double)*((int *)dword_4C0874 + 58) / v4;
  v20 = v22;
  *(float *)(this + 240) = v22;
  if ( *((_DWORD *)dword_4C0874 + 4) )
  {
    if ( *(float *)(this + 236) <= v20 )
    {
      *(float *)(this + 248) = v19 * ((double)*((int *)dword_4C0874 + 58) - v4 * *(float *)(this + 236));
      *(float *)(this + 240) = *(float *)(this + 236);
    }
    else
    {
      *(float *)(this + 244) = v19 * ((double)*((int *)dword_4C0874 + 57) - v3 * v20);
      *(float *)(this + 236) = *(float *)(this + 240);
    }
  }
}

//----- (00439020) --------------------------------------------------------
int __thiscall sub_439020(int this, DWORD dwNewLong)
{
  int *v3; // edi

  ::dwNewLong = dwNewLong;
  if ( !*(_DWORD *)(this + 8) )
  {
    v3 = (int *)(this + 388);
    GetWindowRect(*(HWND *)this, (LPRECT)(this + 388));
    SetWindowLongA(*(HWND *)this, -16, dwNewLong);
    SetWindowPos(
      *(HWND *)this,
      (HWND)0xFFFFFFFE,
      *v3,
      *(_DWORD *)(this + 392),
      *(_DWORD *)(this + 396) - *v3,
      *(_DWORD *)(this + 400) - *(_DWORD *)(this + 392),
      0x40u);
  }
  return 0;
}

//----- (00439090) --------------------------------------------------------
int __stdcall sub_439090(int a1, _DWORD *a2)
{
  int v2; // edi

  v2 = D3DXSaveSurfaceToFileA(a1, 3, *a2, 0, 0);
  if ( *a2 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*a2 + 8))(*a2);
    *a2 = 0;
  }
  return v2 >= 0 ? 0 : v2;
}
// 4738D8:  int __stdcall D3DXSaveSurfaceToFileA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD)

//----- (004390D0) --------------------------------------------------------
int __userpurge sub_4390D0@<eax>(
        int a1@<ecx>,
        int a2@<ebx>,
        int a3@<ebp>,
        int a4@<esi>,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13)
{
  int v15; // esi
  int v16; // esi
  int v17; // [esp+64h] [ebp-38h] BYREF
  int v18; // [esp+68h] [ebp-34h] BYREF
  int v19; // [esp+70h] [ebp-2Ch] BYREF
  int v20; // [esp+74h] [ebp-28h]
  int v21[2]; // [esp+78h] [ebp-24h] BYREF
  int v22[2]; // [esp+80h] [ebp-1Ch] BYREF
  int v23[5]; // [esp+88h] [ebp-14h] BYREF

  if ( !*(_DWORD *)(a1 + 28) )
    return 1;
  (*(void (__stdcall **)(_DWORD, _DWORD, int *, int, int, int))(**(_DWORD **)(a1 + 32) + 152))(
    *(_DWORD *)(a1 + 32),
    0,
    &v18,
    a4,
    a3,
    a2);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)v20 + 48))(v20, v23);
  (*(void (__stdcall **)(int))(*(_DWORD *)v20 + 8))(v20);
  (*(void (__stdcall **)(_DWORD, int, int, int, int, int *, _DWORD))(**(_DWORD **)(a1 + 32) + 144))(
    *(_DWORD *)(a1 + 32),
    a9,
    a10,
    v23[0],
    2,
    &v19,
    0);
  v15 = sub_44B000(*(int **)(a1 + 252), a13);
  if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v15 + 76))(v15, 0, v22, 0, 0) < 0
    || (*(int (__stdcall **)(int, int *, _DWORD, int))(*(_DWORD *)v19 + 52))(v19, v21, 0, 16) < 0 )
  {
    (*(void (__cdecl **)(int, _DWORD))(*(_DWORD *)v15 + 80))(v15, 0);
    (*(void (__cdecl **)(int))(*(_DWORD *)v18 + 56))(v18);
    return 0;
  }
  else
  {
    sub_44E610((char *)v22[1], (char *)v21[1], v22[0], v21[0], a11, a12, 10000 * a9 / a11, 10000 * a10 / a12);
    (*(void (__cdecl **)(int, _DWORD))(*(_DWORD *)v15 + 80))(v15, 0);
    (*(void (__cdecl **)(int))(*(_DWORD *)v18 + 56))(v18);
    v16 = sub_439090(a5, &v17);
    if ( v17 )
      (*(void (__stdcall **)(int))(*(_DWORD *)v17 + 8))(v17);
    return v16 >= 0 ? 0 : v16;
  }
}
// 4390D0:  int var_14[5]

//----- (00439240) --------------------------------------------------------
int __thiscall sub_439240(int *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v8; // ecx
  int v9; // edi
  int result; // eax
  int v11; // edx
  int v12; // eax
  int v13; // edi
  int v14; // eax

  memset(this + 9, 0, 0x38u);
  v8 = *this;
  this[12] = 1;
  this[15] = 1;
  this[16] = v8;
  this[17] = 1;
  this[22] = dword_4B4AB8;
  v9 = 0;
  while ( 1 )
  {
    result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)this[7] + 36))(
               this[7],
               a2,
               a3,
               a7,
               dword_4B4A9C[v9],
               1);
    if ( result >= 0 )
      break;
    if ( (unsigned int)++v9 >= 3 )
      goto LABEL_6;
  }
  this[11] = dword_4B4A9C[v9];
LABEL_6:
  if ( result >= 0 )
  {
    memset(this + 23, 0, 0x38u);
    v11 = *this;
    this[26] = 1;
    this[29] = 1;
    this[30] = v11;
    this[31] = 0;
    v12 = dword_4B4AB8;
    this[23] = 1280;
    this[36] = v12;
    this[24] = 720;
    v13 = 0;
    while ( 1 )
    {
      v14 = (*(int (__stdcall **)(int, int, int, int, int, _DWORD))(*(_DWORD *)this[7] + 36))(
              this[7],
              a2,
              a3,
              dword_4B4A9C[v13],
              dword_4B4A9C[v13],
              0);
      if ( v14 >= 0 )
        break;
      if ( (unsigned int)++v13 >= 3 )
        return v14 >= 0 ? 0 : v14;
    }
    this[25] = dword_4B4A9C[v13];
    return v14 >= 0 ? 0 : v14;
  }
  return result;
}
// 4B4A9C:  int dword_4B4A9C[3]
// 4B4AB8:  int dword_4B4AB8

//----- (00439350) --------------------------------------------------------
int __thiscall sub_439350(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax
  int v9; // eax

  result = (*(int (__stdcall **)(_DWORD, int, int, int, int, int, int))(**(_DWORD **)(this + 28) + 40))(
             *(_DWORD *)(this + 28),
             a2,
             a3,
             a7,
             2,
             1,
             dword_4B4AB4);
  if ( result >= 0 )
  {
    result = (*(int (__stdcall **)(_DWORD, int, int, int, _DWORD, int))(**(_DWORD **)(this + 28) + 48))(
               *(_DWORD *)(this + 28),
               a2,
               a3,
               a7,
               *(_DWORD *)(this + 44),
               dword_4B4AB4);
    if ( result >= 0 )
    {
      v9 = *(_DWORD *)(this + 28);
      *(_DWORD *)(this + 72) = 1;
      *(_DWORD *)(this + 76) = dword_4B4AB4;
      result = (*(int (__stdcall **)(int, int, int, _DWORD, int, int, int))(*(_DWORD *)v9 + 40))(
                 v9,
                 a2,
                 a3,
                 *(_DWORD *)(this + 100),
                 2,
                 1,
                 dword_4B4AB4);
      if ( result >= 0 )
      {
        result = (*(int (__stdcall **)(_DWORD, int, int, _DWORD, _DWORD, int))(**(_DWORD **)(this + 28) + 48))(
                   *(_DWORD *)(this + 28),
                   a2,
                   a3,
                   *(_DWORD *)(this + 100),
                   *(_DWORD *)(this + 100),
                   dword_4B4AB4);
        if ( result >= 0 )
        {
          *(_DWORD *)(this + 128) = 1;
          *(_DWORD *)(this + 132) = dword_4B4AB4;
          return 0;
        }
      }
    }
  }
  return result;
}
// 4B4AB4:  int dword_4B4AB4

//----- (00439410) --------------------------------------------------------
int __thiscall sub_439410(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v8; // ebp
  int result; // eax
  int v10; // ebp
  int v11; // eax

  v8 = 0;
  *(_DWORD *)(this + 204) = 0;
  while ( 1 )
  {
    result = (*(int (__stdcall **)(_DWORD, int, int, int, int, int, int))(**(_DWORD **)(this + 28) + 40))(
               *(_DWORD *)(this + 28),
               a2,
               a3,
               a7,
               1,
               3,
               dword_4B4AA8[v8]);
    if ( result >= 0 )
    {
      result = (*(int (__stdcall **)(_DWORD, int, int, int, int, int))(**(_DWORD **)(this + 28) + 48))(
                 *(_DWORD *)(this + 28),
                 a2,
                 a3,
                 a7,
                 dword_4B4AA8[v8],
                 dword_4B4AB4);
      if ( result >= 0 )
        break;
    }
    if ( (unsigned int)++v8 >= 3 )
      goto LABEL_7;
  }
  *(_DWORD *)(this + 204) = dword_4B4AA8[v8];
LABEL_7:
  v10 = 0;
  if ( result >= 0 )
  {
    *(_DWORD *)(this + 208) = 0;
    while ( 1 )
    {
      v11 = (*(int (__stdcall **)(_DWORD, int, int, _DWORD, int, int, int))(**(_DWORD **)(this + 28) + 40))(
              *(_DWORD *)(this + 28),
              a2,
              a3,
              *(_DWORD *)(this + 100),
              1,
              3,
              dword_4B4AA8[v10]);
      if ( v11 >= 0 )
      {
        v11 = (*(int (__stdcall **)(_DWORD, int, int, _DWORD, int, int))(**(_DWORD **)(this + 28) + 48))(
                *(_DWORD *)(this + 28),
                a2,
                a3,
                *(_DWORD *)(this + 100),
                dword_4B4AA8[v10],
                dword_4B4AB4);
        if ( v11 >= 0 )
          break;
      }
      if ( (unsigned int)++v10 >= 3 )
        return v11 >= 0 ? 0 : v11;
    }
    *(_DWORD *)(this + 208) = dword_4B4AA8[v10];
    return v11 >= 0 ? 0 : v11;
  }
  return result;
}
// 4B4AA8:  int dword_4B4AA8[3]
// 4B4AB4:  int dword_4B4AB4

//----- (00439520) --------------------------------------------------------
int __thiscall sub_439520(int this, int a2)
{
  int v3; // ebx
  signed int v4; // esi
  int v6; // [esp+20h] [ebp-2Ch]
  float v7; // [esp+24h] [ebp-28h]
  int v8; // [esp+28h] [ebp-24h]
  unsigned int v9; // [esp+2Ch] [ebp-20h]
  unsigned int v10; // [esp+30h] [ebp-1Ch]
  int v11; // [esp+38h] [ebp-14h]
  unsigned int v12; // [esp+3Ch] [ebp-10h] BYREF
  unsigned int v13; // [esp+40h] [ebp-Ch]
  int v14; // [esp+48h] [ebp-4h]

  v9 = 0;
  v10 = 0;
  v11 = 0;
  v3 = 1000000;
  v8 = (*(int (__stdcall **)(_DWORD, int, _DWORD))(**(_DWORD **)(this + 28) + 24))(
         *(_DWORD *)(this + 28),
         a2,
         *(_DWORD *)(this + 100));
  v6 = 0;
  if ( v8 <= 0 )
    return -2147467259;
  do
  {
    (*(void (__stdcall **)(_DWORD, int, _DWORD, int, unsigned int *))(**(_DWORD **)(this + 28) + 28))(
      *(_DWORD *)(this + 28),
      a2,
      *(_DWORD *)(this + 100),
      v6,
      &v12);
    v7 = (double)v12 / 1280.0;
    v4 = abs32((int)((double)dword_4B4AC0 * v7 - (double)v13)) - (int)(v7 * -10.0);
    if ( v4 < v3 && dword_4B4ABC <= v12 && dword_4B4AC0 <= v13 )
    {
      v10 = v13;
      v9 = v12;
      v11 = v14;
      v3 = v4;
    }
    ++v6;
  }
  while ( v6 < v8 );
  if ( !v11 )
    return -2147467259;
  *(_DWORD *)(this + 96) = v10;
  *(_DWORD *)(this + 92) = v9;
  return 0;
}
// 4B4ABC:  int dword_4B4ABC
// 4B4AC0:  int dword_4B4AC0

//----- (00439660) --------------------------------------------------------
int __thiscall sub_439660(LPCSTR *this, _DWORD *a2)
{
  sub_438A70((int)this, this[109], byte_491DDC, a2[47]);
  if ( a2[47] < 3u || (sub_438A70((int)this, this[109], byte_491D9C, a2[45]), a2[45] < 0xFFFFu) )
  {
    sub_438A70((int)this, this[109], "CheckDeviceCaps MaxPrimitiveCount failed");
    return -2147467259;
  }
  sub_438A70((int)this, this[109], byte_491D88, a2[46]);
  if ( a2[46] < 0xFFF0u )
  {
    sub_438A70((int)this, this[109], byte_491D70);
    return -2147467259;
  }
  sub_438A70((int)this, this[109], byte_491D50, a2[49]);
  sub_438A70((int)this, this[109], byte_491D2C, a2[51]);
  if ( a2[51] >= 0xFFFF0200 )
    return 0;
  sub_438A70((int)this, this[109], byte_491D04);
  return -2147467259;
}

//----- (00439770) --------------------------------------------------------
int __usercall sub_439770@<eax>(_DWORD *a1@<ecx>, int a2@<ebp>)
{
  int *v3; // eax
  int v4; // ecx
  void (__stdcall *v5)(int *, int, _DWORD, _DWORD, int, _DWORD *, _DWORD, int); // edx
  int v6; // eax
  int v7; // eax
  int v9; // eax
  void *v11; // [esp+58h] [ebp-68h] BYREF
  char v12; // [esp+5Ch] [ebp-64h]
  char v13; // [esp+5Dh] [ebp-63h]
  char v14; // [esp+5Eh] [ebp-62h]
  char v15; // [esp+5Fh] [ebp-61h]
  __int16 v16; // [esp+60h] [ebp-60h]
  __int16 v17; // [esp+62h] [ebp-5Eh]
  char v18; // [esp+64h] [ebp-5Ch]
  char v19; // [esp+65h] [ebp-5Bh]
  char v20; // [esp+66h] [ebp-5Ah]
  char v21; // [esp+67h] [ebp-59h]
  __int16 v22; // [esp+68h] [ebp-58h]
  __int16 v23; // [esp+6Ah] [ebp-56h]
  char v24; // [esp+6Ch] [ebp-54h]
  char v25; // [esp+6Dh] [ebp-53h]
  char v26; // [esp+6Eh] [ebp-52h]
  char v27; // [esp+6Fh] [ebp-51h]
  float v28; // [esp+70h] [ebp-50h]
  _BYTE v29[76]; // [esp+74h] [ebp-4Ch] BYREF

  v28 = 0.0;
  *(float *)v29 = 0.0;
  *(float *)&v29[4] = 0.0;
  v3 = (int *)a1[8];
  *(float *)&v29[8] = 0.0;
  v4 = *v3;
  *(float *)&v29[12] = 0.0;
  v5 = *(void (__stdcall **)(int *, int, _DWORD, _DWORD, int, _DWORD *, _DWORD, int))(v4 + 104);
  *(float *)&v29[16] = 1.0;
  *(float *)&v29[28] = 1.0;
  *(float *)&v29[40] = 1.0;
  *(float *)&v29[52] = 1.0;
  *(float *)&v29[56] = 1.0;
  *(float *)&v29[60] = 1.0;
  *(float *)&v29[68] = 1.0;
  *(float *)&v29[72] = 1.0;
  *(float *)&v29[20] = 0.0;
  *(float *)&v29[24] = 0.0;
  *(float *)&v29[32] = 0.0;
  *(float *)&v29[36] = 0.0;
  *(float *)&v29[44] = 0.0;
  *(float *)&v29[48] = 0.0;
  *(float *)&v29[64] = 0.0;
  v5(v3, 80, 0, 0, 1, a1 + 53, 0, a2);
  v6 = a1[53];
  v11 = 0;
  if ( v6 )
  {
    (*(void (__stdcall **)(int, _DWORD, _DWORD, void **, _DWORD))(*(_DWORD *)v6 + 44))(v6, 0, 0, &v11, 0);
    qmemcpy(v11, v29, 0x50u);
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)a1[53] + 48))(a1[53]);
  }
  v7 = D3DXCreateEffectFromResourceA(a1[8], 0, 1000, 0, 0, 0, 0, a1 + 54);
  if ( v7 >= 0 )
  {
    HIWORD(v11) = 0;
    v13 = 0;
    v14 = 0;
    v15 = 0;
    v22 = 255;
    v9 = a1[8];
    a1[55] = 1;
    LOWORD(v11) = 0;
    v16 = 0;
    v19 = 0;
    v21 = 0;
    v23 = 0;
    v25 = 0;
    v26 = 0;
    v27 = 0;
    v17 = 12;
    v12 = 2;
    v18 = 1;
    v20 = 5;
    v24 = 17;
    (*(void (__stdcall **)(int, void **, _DWORD *))(*(_DWORD *)v9 + 344))(v9, &v11, a1 + 56);
    return 1;
  }
  else if ( v7 == -2005530516 )
  {
    MessageBoxA(0, "shader Error D3DERR_INVALIDCALL", WindowName, 0x42000u);
    return 0;
  }
  else if ( v7 == -2005529767 )
  {
    MessageBoxA(0, "shader Error D3DXERR_INVALIDDATA", WindowName, 0x42000u);
    return 0;
  }
  else
  {
    if ( v7 == -2147024882 )
      MessageBoxA(0, "shader Error E_OUTOFMEMORY", WindowName, 0x42000u);
    else
      MessageBoxA(0, "shader Error", WindowName, 0x42000u);
    return 0;
  }
}
// 439770: could not find valid save-restore pair for ebp
// 4738DE:  int __stdcall D3DXCreateEffectFromResourceA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)

//----- (00439960) --------------------------------------------------------
int __thiscall sub_439960(int this, int a2, int a3, int a4, int a5)
{
  int v6; // eax
  int result; // eax
  int v8; // edi
  int v9[6]; // [esp+4h] [ebp-18h] BYREF

  *(float *)&v9[4] = 0.0;
  *(float *)&v9[5] = 1.0;
  v9[0] = a2;
  v6 = *(_DWORD *)(this + 32);
  v9[1] = a3;
  v9[2] = a4;
  v9[3] = a5;
  result = (*(int (__stdcall **)(int, int *))(*(_DWORD *)v6 + 188))(v6, v9);
  v8 = result;
  if ( result >= 0 )
  {
    *(_DWORD *)(this + 228) = a4;
    *(_DWORD *)(this + 232) = a5;
  }
  else
  {
    DestroyWindow(*(HWND *)this);
    return v8;
  }
  return result;
}

//----- (004399E0) --------------------------------------------------------
int __thiscall sub_4399E0(int this)
{
  double v2; // st7
  int v3; // eax
  int v4; // ecx
  int v5; // edx
  int v6; // eax
  int result; // eax
  int v8; // [esp+28h] [ebp-10h] BYREF
  int v9; // [esp+2Ch] [ebp-Ch]
  int v10; // [esp+30h] [ebp-8h]
  int v11; // [esp+34h] [ebp-4h]

  if ( *(_DWORD *)(this + 8) )
  {
    v2 = *(float *)(this + 248);
    v9 = 0;
    v11 = (int)v2;
    v10 = *(_DWORD *)(this + 228);
    v3 = *(_DWORD *)(this + 32);
    v8 = 0;
    (*(void (__stdcall **)(int, int, int *, int, int, _DWORD, _DWORD))(*(_DWORD *)v3 + 172))(
      v3,
      1,
      &v8,
      7,
      -16777216,
      1.0,
      0);
    v4 = *(_DWORD *)(this + 232);
    v5 = *(_DWORD *)(this + 228);
    v9 = (int)(*(float *)(this + 240) * 720.0 + *(float *)(this + 248) + 1.0);
    v6 = *(_DWORD *)(this + 32);
    v10 = v5;
    v11 = v4;
    v8 = 0;
    (*(void (__stdcall **)(int, int, int *, int, int, _DWORD, _DWORD))(*(_DWORD *)v6 + 172))(
      v6,
      1,
      &v8,
      7,
      -16777216,
      1.0,
      0);
  }
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(this + 32) + 168))(*(_DWORD *)(this + 32));
  result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(this + 32) + 68))(
             *(_DWORD *)(this + 32),
             0,
             0,
             0,
             0);
  *(_DWORD *)(this + 292) = result == -2005530520;
  return result;
}

//----- (00439AE0) --------------------------------------------------------
HRESULT __thiscall sub_439AE0(void *this)
{
  HRESULT (__stdcall *DwmIsCompositionEnabled)(BOOL *); // esi
  HRESULT (__stdcall *DwmEnableComposition)(UINT); // eax
  HRESULT (__stdcall *v3)(UINT); // edi
  HRESULT result; // eax
  int v5; // eax
  void *v6; // [esp+4h] [ebp-4h] BYREF

  v6 = this;
  printf("Load dwmapi.dll ... ");
  hModule = LoadLibraryA("dwmapi.dll");
  if ( !hModule )
    return printf("failed.\n");
  printf("OK.\n");
  printf("GetProcAddress ... ");
  DwmIsCompositionEnabled = (HRESULT (__stdcall *)(BOOL *))GetProcAddress(hModule, "DwmIsCompositionEnabled");
  DwmEnableComposition = (HRESULT (__stdcall *)(UINT))GetProcAddress(hModule, "DwmEnableComposition");
  v3 = DwmEnableComposition;
  if ( !DwmIsCompositionEnabled || !DwmEnableComposition )
    return printf("failed.\n");
  printf("OK.\n");
  v6 = 0;
  result = DwmIsCompositionEnabled((BOOL *)&v6);
  if ( !result )
  {
    if ( v6 )
    {
      printf("Disable Aero ... ");
      v5 = v3(0);
      if ( v5 )
        return printf("failed. result=0x%08X \n", v5);
      else
        return printf("OK.\n");
    }
    else
    {
      return printf("Aero is already disabled.\n");
    }
  }
  return result;
}

//----- (00439BE0) --------------------------------------------------------
HFONT __thiscall sub_439BE0(_DWORD *this, const char *a2)
{
  HFONT v3; // eax
  HFONT v4; // eax
  HFONT v5; // eax
  HFONT v6; // eax
  HFONT v7; // eax
  HFONT result; // eax
  int v9[15]; // [esp+14h] [ebp-7Ch] BYREF
  LOGFONTA lf; // [esp+50h] [ebp-40h] BYREF

  this[64] = 400;
  v9[4] = 400;
  v9[0] = 22;
  memset(&v9[1], 0, 12);
  v9[5] = 0x80000000;
  v9[6] = 805437447;
  memset(&v9[7], 0, 32);
  strcpy((char *)&v9[7], a2);
  qmemcpy(&lf, v9, sizeof(lf));
  v3 = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  this[65] = v3;
  lf.lfHeight = 20;
  v4 = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  this[67] = v4;
  lf.lfHeight = 18;
  this[68] = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  lf.lfHeight = 12;
  v5 = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  this[69] = v5;
  lf.lfHeight = 32;
  v6 = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  this[70] = v6;
  lf.lfHeight = 22;
  lf.lfWidth = 44;
  this[66] = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  lf.lfHeight = 16;
  v7 = CreateFontIndirectA(&lf);
  qmemcpy(&lf, v9, sizeof(lf));
  this[71] = v7;
  lf.lfHeight = 10;
  result = CreateFontIndirectA(&lf);
  this[72] = result;
  return result;
}

//----- (00439DD0) --------------------------------------------------------
int __thiscall sub_439DD0(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int result; // eax

  this[101] = a2;
  result = a4;
  this[102] = a3;
  this[103] = a4;
  this[104] = a5;
  return result;
}

//----- (00439E00) --------------------------------------------------------
int __thiscall sub_439E00(int this)
{
  void *v2; // edi
  int v3; // eax
  int v4; // eax
  int v5; // eax
  unsigned int v6; // ebx
  _DWORD *v7; // edi
  int result; // eax

  v2 = *(void **)(this + 252);
  if ( v2 )
  {
    sub_44C4B0(*(void **)(this + 252));
    operator delete(v2);
    *(_DWORD *)(this + 252) = 0;
  }
  v3 = *(_DWORD *)(this + 212);
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(this + 212));
    *(_DWORD *)(this + 212) = 0;
  }
  v4 = *(_DWORD *)(this + 216);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(this + 216));
    *(_DWORD *)(this + 216) = 0;
  }
  v5 = *(_DWORD *)(this + 224);
  if ( v5 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(this + 224));
    *(_DWORD *)(this + 224) = 0;
  }
  v6 = 0;
  if ( *(_DWORD *)(this + 440) )
  {
    v7 = (_DWORD *)(this + 1604);
    do
    {
      if ( *v7 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v7 + 8))(*v7);
        *v7 = 0;
      }
      ++v6;
      ++v7;
    }
    while ( v6 < *(_DWORD *)(this + 440) );
  }
  result = *(_DWORD *)(this + 28);
  if ( result )
  {
    result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)result + 8))(*(_DWORD *)(this + 28));
    *(_DWORD *)(this + 28) = 0;
  }
  return result;
}

//----- (00439ED0) --------------------------------------------------------
#error "439EEE: call analysis failed (funcsize=12)"

//----- (00439F00) --------------------------------------------------------
int __thiscall sub_439F00(int this, int *a2, int *a3)
{
  int result; // eax
  int v5; // eax
  int v6; // [esp+2Ch] [ebp-140h] BYREF
  int v7; // [esp+30h] [ebp-13Ch]
  int v8; // [esp+34h] [ebp-138h]
  int v9; // [esp+38h] [ebp-134h]
  int v10[76]; // [esp+3Ch] [ebp-130h] BYREF

  *a3 = 1;
  if ( (*(int (__stdcall **)(_DWORD, int, int, int *))(**(_DWORD **)(this + 28) + 56))(
         *(_DWORD *)(this + 28),
         *a2,
         1,
         v10) < 0
    || sub_439660((LPCSTR *)this, v10) < 0 )
  {
    *a3 = 2;
    if ( (*(int (__stdcall **)(_DWORD, int, int, int *))(**(_DWORD **)(this + 28) + 56))(
           *(_DWORD *)(this + 28),
           *a2,
           2,
           v10) < 0
      || sub_439660((LPCSTR *)this, v10) < 0 )
    {
      return -2147467259;
    }
  }
  result = (*(int (__stdcall **)(_DWORD, int, int *))(**(_DWORD **)(this + 28) + 32))(*(_DWORD *)(this + 28), *a2, &v6);
  if ( result >= 0 )
  {
    result = sub_439240((int *)this, *a2, *a3, v6, v7, v8, v9);
    if ( result >= 0 )
    {
      if ( !dword_4B4AB4 || (result = sub_439350(this, *a2, *a3, v6, v7, v8, v9), result >= 0) )
      {
        result = sub_439410(this, *a2, *a3, v6, v7, v8, v9);
        if ( result >= 0 )
        {
          v5 = sub_439520(this, *a2);
          return v5 >= 0 ? 0 : v5;
        }
      }
    }
  }
  return result;
}
// 4B4AB4:  int dword_4B4AB4

//----- (0043A070) --------------------------------------------------------
unsigned int __thiscall sub_43A070(int this, int a2)
{
  IDirect3D9 *v3; // eax
  unsigned int v4; // ebp
  unsigned int v6; // eax
  int v7; // eax
  void *v8; // edi
  int v9; // eax
  bool v10; // zf
  int v11; // eax
  int v12; // edx
  int v13; // eax
  int v14; // [esp+38h] [ebp-8h] BYREF
  int v15; // [esp+3Ch] [ebp-4h] BYREF

  v3 = Direct3DCreate9(0x20u);
  v4 = 0;
  *(_DWORD *)(this + 28) = v3;
  if ( !v3 )
    return -2147467259;
  sub_438A70(this, *(LPCSTR *)(this + 436), "Direct3DCreate success\n");
  v6 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(this + 28) + 16))(*(_DWORD *)(this + 28));
  *(_DWORD *)(this + 440) = v6;
  if ( v6 > 0xA )
    *(_DWORD *)(this + 440) = 10;
  *(_DWORD *)(this + 1644) = 0;
  *(_DWORD *)(this + 1648) = 0;
  v15 = 0;
  if ( *(_DWORD *)(this + 440) )
  {
    while ( 1 )
    {
      sub_439F00(this, &v15, &v14);
      v7 = this + 56 * v4;
      qmemcpy((void *)(v7 + 444), (const void *)(this + 36), 0x38u);
      v8 = (void *)(v7 + 1004);
      v9 = v14;
      qmemcpy(v8, (const void *)(this + 92), 0x38u);
      *(_DWORD *)(this + 4 * v4 + 1564) = v9;
      v10 = *(_DWORD *)(this + 8) == 0;
      qmemcpy((void *)(this + 148), (const void *)(this + 36), 0x38u);
      if ( !v10 )
        qmemcpy((void *)(this + 148), (const void *)(this + 92), 0x38u);
      if ( (*(int (__stdcall **)(_DWORD, unsigned int, int, int, int, int, unsigned int))(**(_DWORD **)(this + 28) + 64))(
             *(_DWORD *)(this + 28),
             v4,
             v14,
             a2,
             64,
             this + 148,
             this + 4 * v4 + 1604) < 0
        && (*(int (__stdcall **)(_DWORD, unsigned int, int, int, int, int, unsigned int))(**(_DWORD **)(this + 28) + 64))(
             *(_DWORD *)(this + 28),
             v4,
             v14,
             a2,
             32,
             this + 148,
             this + 4 * v4 + 1604) < 0 )
      {
        break;
      }
      v15 = ++v4;
      if ( v4 >= *(_DWORD *)(this + 440) )
        goto LABEL_11;
    }
    MessageBoxA(0, aDirect3d, WindowName, 0x42000u);
    return -2147467259;
  }
  else
  {
LABEL_11:
    v11 = *(_DWORD *)(this + 1644);
    v12 = this + 56 * v11;
    qmemcpy((void *)(this + 36), (const void *)(v12 + 444), 0x38u);
    qmemcpy((void *)(this + 92), (const void *)(v12 + 1004), 0x38u);
    v13 = *(_DWORD *)(this + 4 * v11 + 1604);
    *(_DWORD *)(this + 32) = v13;
    (*(void (__stdcall **)(int, int))(*(_DWORD *)v13 + 64))(v13, this + 148);
    return sub_439960(this, 0, 0, *(_DWORD *)(this + 148), *(_DWORD *)(this + 152)) >= 0 ? 0 : 0x80004005;
  }
}

//----- (0043A250) --------------------------------------------------------
int __usercall sub_43A250@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  (*(void (__stdcall **)(_DWORD, _DWORD, int, int))(**(_DWORD **)(a1 + 32) + 268))(*(_DWORD *)(a1 + 32), 0, 1, 2);
  (*(void (__stdcall **)(_DWORD, _DWORD, int, int))(**(_DWORD **)(a1 + 32) + 268))(*(_DWORD *)(a1 + 32), 0, 2, 2);
  (*(void (__stdcall **)(_DWORD, int, bool))(**(_DWORD **)(a1 + 32) + 228))(
    *(_DWORD *)(a1 + 32),
    7,
    *(_DWORD *)(a1 + 184) != 0);
  (*(void (__stdcall **)(_DWORD, int, bool))(**(_DWORD **)(a1 + 32) + 228))(
    *(_DWORD *)(a1 + 32),
    161,
    *(_DWORD *)(a1 + 164) != 0);
  (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(a1 + 32) + 228))(*(_DWORD *)(a1 + 32), 9, 2);
  (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(a1 + 32) + 228))(*(_DWORD *)(a1 + 32), 22, 3);
  (*(void (__stdcall **)(_DWORD, _DWORD, int, int))(**(_DWORD **)(a1 + 32) + 276))(*(_DWORD *)(a1 + 32), 0, 6, 2);
  (*(void (__stdcall **)(_DWORD, _DWORD, int, int))(**(_DWORD **)(a1 + 32) + 276))(*(_DWORD *)(a1 + 32), 0, 5, 2);
  (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(a1 + 32) + 228))(*(_DWORD *)(a1 + 32), 27, 1);
  (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(a1 + 32) + 228))(*(_DWORD *)(a1 + 32), 19, 5);
  (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(a1 + 32) + 228))(*(_DWORD *)(a1 + 32), 20, 6);
  sub_439EC0((_DWORD *)a1, a2);
  return 0;
}

//----- (0043A350) --------------------------------------------------------
bool __usercall sub_43A350@<al>(int a1@<ecx>, int a2@<ebp>)
{
  int v3; // eax
  int v4; // eax

  if ( *(_DWORD *)(a1 + 28) && *(_DWORD *)(a1 + 32) )
  {
    if ( !*(_BYTE *)(a1 + 4) )
      return 1;
    Sleep(0x64u);
    v3 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 32) + 12))(*(_DWORD *)(a1 + 32));
    if ( v3 >= 0 )
    {
LABEL_10:
      *(_BYTE *)(a1 + 4) = 0;
      return 1;
    }
    if ( v3 == -2005530520 )
      return 1;
    if ( v3 == -2005530519 )
    {
      sub_438B60((_DWORD *)a1);
      v4 = (*(int (__stdcall **)(_DWORD, int))(**(_DWORD **)(a1 + 32) + 64))(*(_DWORD *)(a1 + 32), a1 + 148);
      if ( v4 < 0 )
        return v4 == -2005530520;
      if ( sub_43A250(a1, a2) >= 0 )
        goto LABEL_10;
    }
  }
  return 0;
}

//----- (0043A3D0) --------------------------------------------------------
int __usercall sub_43A3D0@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  int result; // eax
  int v4; // ebx

  sub_407830(dword_4C08DC);
  sub_438B60((_DWORD *)a1);
  result = (*(int (__stdcall **)(_DWORD, int))(**(_DWORD **)(a1 + 32) + 64))(*(_DWORD *)(a1 + 32), a1 + 148);
  v4 = result;
  if ( result < 0 )
  {
    if ( result == -2005530520 )
    {
      *(_BYTE *)(a1 + 4) = 1;
      return result;
    }
    goto LABEL_6;
  }
  v4 = sub_43A250(a1, a2);
  if ( v4 < 0 )
  {
LABEL_6:
    DestroyWindow(*(HWND *)a1);
    return v4;
  }
  if ( sub_439960(a1, 0, 0, *(_DWORD *)(a1 + 148), *(_DWORD *)(a1 + 152)) < 0 )
    return -2147467259;
  *(_DWORD *)(a1 + 292) = 0;
  return v4;
}

//----- (0043A470) --------------------------------------------------------
int __usercall sub_43A470@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  if ( !sub_43A350(a1, a2) )
    return 0;
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, int, int, _DWORD, _DWORD))(**(_DWORD **)(a1 + 32) + 172))(
    *(_DWORD *)(a1 + 32),
    0,
    0,
    7,
    -16777216,
    1.0,
    0);
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 32) + 164))(*(_DWORD *)(a1 + 32));
  return 1;
}

//----- (0043A4C0) --------------------------------------------------------
int __usercall sub_43A4C0@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  bool v3; // zf
  int *v4; // eax
  int v5; // ecx
  int result; // eax

  v3 = *(_DWORD *)(a1 + 292) == 0;
  v4 = *(int **)(a1 + 32);
  v5 = *v4;
  if ( v3 )
  {
    result = (*(int (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, _DWORD))(v5 + 68))(v4, 0, 0, 0, 0);
    if ( result == -2005530520 )
      *(_DWORD *)(a1 + 292) = 1;
  }
  else
  {
    result = (*(int (__stdcall **)(int *))(v5 + 12))(v4);
    if ( result == -2005530519 )
    {
      result = sub_43A3D0(a1, a2);
      *(_DWORD *)(a1 + 292) = 0;
    }
  }
  return result;
}

//----- (0043A520) --------------------------------------------------------
int __usercall sub_43A520@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  int v3; // eax
  int v4; // ecx
  int v5; // edx
  int v6; // eax
  int v7; // ecx
  int v8; // eax
  int v9; // edx

  *(_DWORD *)a1 = hWnd;
  *(_DWORD *)(a1 + 28) = 0;
  *(_DWORD *)(a1 + 32) = 0;
  *(_DWORD *)(a1 + 1604) = 0;
  *(_DWORD *)(a1 + 1608) = 0;
  *(_DWORD *)(a1 + 1612) = 0;
  *(_DWORD *)(a1 + 1616) = 0;
  *(_DWORD *)(a1 + 1620) = 0;
  *(_DWORD *)(a1 + 1624) = 0;
  *(_DWORD *)(a1 + 1628) = 0;
  *(_DWORD *)(a1 + 1632) = 0;
  *(_DWORD *)(a1 + 1636) = 0;
  *(_DWORD *)(a1 + 1640) = 0;
  *(_BYTE *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 12) = 0;
  *(_DWORD *)(a1 + 24) = 1;
  *(_DWORD *)(a1 + 20) = 1;
  *(_DWORD *)(a1 + 292) = 0;
  *(_DWORD *)(a1 + 296) = 0;
  *(_DWORD *)(a1 + 300) = 0;
  sub_438BC0((_DWORD *)a1);
  *(float *)(a1 + 248) = 0.0;
  *(_DWORD *)(a1 + 1820) = 0;
  *(float *)(a1 + 244) = 0.0;
  *(_DWORD *)(a1 + 1816) = 0;
  *(_DWORD *)(a1 + 1824) = 0;
  *(float *)(a1 + 240) = 1.0;
  *(float *)(a1 + 236) = 1.0;
  sub_43A070(a1, (int)hWnd);
  sub_43A250(a1, a2);
  *(_DWORD *)(a1 + 212) = 0;
  *(_DWORD *)(a1 + 216) = 0;
  *(_DWORD *)(a1 + 224) = 0;
  *(_DWORD *)(a1 + 220) = 0;
  sub_439770((_DWORD *)a1, a2);
  GetWindowRect(*(HWND *)a1, (LPRECT)(a1 + 308));
  GetWindowRect(*(HWND *)a1, (LPRECT)(a1 + 404));
  v3 = *(_DWORD *)(a1 + 312);
  v4 = *(_DWORD *)(a1 + 316);
  *(_DWORD *)(a1 + 388) = *(_DWORD *)(a1 + 308);
  v5 = *(_DWORD *)(a1 + 320);
  *(_DWORD *)(a1 + 392) = v3;
  v6 = *(_DWORD *)(a1 + 308);
  *(_DWORD *)(a1 + 396) = v4;
  v7 = *(_DWORD *)(a1 + 312);
  *(_DWORD *)(a1 + 420) = v6;
  v8 = *(_DWORD *)(a1 + 320);
  *(_DWORD *)(a1 + 400) = v5;
  v9 = *(_DWORD *)(a1 + 316);
  *(_DWORD *)(a1 + 424) = v7;
  *(_DWORD *)(a1 + 428) = v9;
  *(_DWORD *)(a1 + 432) = v8;
  *(_BYTE *)(a1 + 1828) = 0;
  sub_439BE0((_DWORD *)a1, pszFaceName);
  *(_DWORD *)(a1 + 252) = 0;
  return a1;
}

//----- (0043A690) --------------------------------------------------------
int __thiscall sub_43A690(int this, int a2, LONG dwNewLong)
{
  int v3; // esi
  int result; // eax
  LONG v6; // edi
  int v7; // ecx
  _DWORD *v8; // ebx
  int v9; // edi
  void *v10; // ecx
  bool v11; // cc
  HWND v12; // [esp-14h] [ebp-1Ch]
  HWND v13; // [esp-14h] [ebp-1Ch]
  DWORD dwNewLonga; // [esp+10h] [ebp+8h]

  v3 = a2;
  if ( a2 == *(_DWORD *)(this + 8) && !dwNewLong || !*(_DWORD *)(this + 24) || !*(_DWORD *)(this + 1812) )
    return 0;
  *(_DWORD *)(this + 1644) = *(_DWORD *)(this + 1648);
  v6 = ::dwNewLong;
  dwNewLonga = ::dwNewLong;
  if ( sub_43A470((int)dword_4C0874, this) )
    sub_4399E0((int)dword_4C0874);
  if ( *(_DWORD *)(this + 20) )
  {
    if ( a2 )
    {
      if ( a2 != *(_DWORD *)(this + 8) )
        GetWindowRect(*(HWND *)this, (LPRECT)(this + 388));
      v13 = *(HWND *)this;
      *(_DWORD *)(this + 8) = a2;
      SetWindowLongA(v13, -16, -1879048192);
      v7 = 16 * *(_DWORD *)(this + 1644);
      SetWindowPos(
        *(HWND *)this,
        (HWND)0xFFFFFFFE,
        *(_DWORD *)(v7 + this + 1652),
        *(_DWORD *)(v7 + this + 1656),
        *(_DWORD *)(v7 + this + 1660) - *(_DWORD *)(v7 + this + 1652),
        *(_DWORD *)(v7 + this + 1664) - *(_DWORD *)(v7 + this + 1656),
        0x40u);
      v3 = 0;
    }
    else
    {
      v12 = *(HWND *)this;
      *(_DWORD *)(this + 8) = 0;
      SetWindowLongA(v12, -16, v6);
      SetWindowPos(
        *(HWND *)this,
        (HWND)0xFFFFFFFE,
        *(_DWORD *)(this + 388),
        *(_DWORD *)(this + 392),
        *(_DWORD *)(this + 396) - *(_DWORD *)(this + 388),
        *(_DWORD *)(this + 400) - *(_DWORD *)(this + 392),
        0x40u);
    }
    goto LABEL_31;
  }
  sub_438B60((_DWORD *)this);
  v8 = (_DWORD *)(this + 148);
  memset((void *)(this + 148), 0, 0x38u);
  if ( a2 )
  {
    qmemcpy(v8, (const void *)(this + 92), 0x38u);
    v10 = 0;
    v9 = a2;
    if ( a2 != *(_DWORD *)(this + 8) )
      GetWindowRect(*(HWND *)this, (LPRECT)(this + 388));
    v11 = *(_DWORD *)(this + 440) <= 1u;
    *(_DWORD *)(this + 8) = a2;
    if ( !v11 )
      sub_439AE0(v10);
  }
  else
  {
    *(_DWORD *)(this + 8) = 0;
    qmemcpy(v8, (const void *)(this + 36), 0x38u);
    v9 = 0;
  }
  result = (*(int (__stdcall **)(_DWORD, int))(**(_DWORD **)(this + 32) + 64))(*(_DWORD *)(this + 32), this + 148);
  v3 = result;
  if ( result < 0 )
  {
    if ( result == -2005530520 )
    {
      *(_BYTE *)(this + 4) = 1;
      return result;
    }
    goto LABEL_25;
  }
  v3 = sub_43A250(this, this);
  if ( v3 < 0 )
  {
LABEL_25:
    DestroyWindow(*(HWND *)this);
    return v3;
  }
  if ( sub_439960(this, 0, 0, *v8, *(_DWORD *)(this + 152)) < 0 )
    return -2147467259;
  if ( v9 )
  {
    SetWindowLongA(*(HWND *)this, -16, -1879048192);
  }
  else
  {
    SetWindowLongA(*(HWND *)this, -16, dwNewLonga);
    SetWindowPos(
      *(HWND *)this,
      (HWND)0xFFFFFFFE,
      *(_DWORD *)(this + 388),
      *(_DWORD *)(this + 392),
      *(_DWORD *)(this + 396) - *(_DWORD *)(this + 388),
      *(_DWORD *)(this + 400) - *(_DWORD *)(this + 392),
      0x40u);
  }
LABEL_31:
  GetDesktopWindow();
  RedrawWindow(0, 0, 0, 2u);
  InvalidateRect(0, 0, 0);
  sub_438D20(this);
  return v3;
}
// 43A806: variable 'v10' is possibly undefined

//----- (0043A910) --------------------------------------------------------
int __usercall sub_43A910@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  int v3; // eax
  LONG v4; // edi
  int v5; // edx
  int v6; // edx
  int v7; // eax
  int v8; // ecx
  int v9; // edx
  int v10; // ecx
  HWND v12; // [esp-Ch] [ebp-14h]

  v3 = *(_DWORD *)(a1 + 316);
  v4 = dwNewLong;
  if ( *(_DWORD *)(a1 + 8) )
  {
    v9 = *(_DWORD *)(a1 + 312);
    *(_DWORD *)(a1 + 388) = *(_DWORD *)(a1 + 308);
    v10 = *(_DWORD *)(a1 + 320);
    *(_DWORD *)(a1 + 392) = v9;
    *(_DWORD *)(a1 + 396) = v3;
    *(_DWORD *)(a1 + 400) = v10;
LABEL_8:
    sub_438D20(a1);
    RedrawWindow(0, 0, 0, 2u);
    InvalidateRect(0, 0, 0);
    return 0;
  }
  if ( v3 - *(_DWORD *)(a1 + 308) != *(_DWORD *)(a1 + 412) - *(_DWORD *)(a1 + 404)
    || *(_DWORD *)(a1 + 320) - *(_DWORD *)(a1 + 312) != *(_DWORD *)(a1 + 416) - *(_DWORD *)(a1 + 408) )
  {
    if ( sub_43A470((int)dword_4C0874, a2) )
      sub_4399E0((int)dword_4C0874);
    v5 = *(_DWORD *)(a1 + 312) + *(_DWORD *)(a1 + 416) - *(_DWORD *)(a1 + 408);
    v12 = *(HWND *)a1;
    *(_DWORD *)(a1 + 316) = *(_DWORD *)(a1 + 308) + *(_DWORD *)(a1 + 412) - *(_DWORD *)(a1 + 404);
    *(_DWORD *)(a1 + 320) = v5;
    SetWindowLongA(v12, -16, v4);
    v6 = *(_DWORD *)(a1 + 312);
    v7 = *(_DWORD *)(a1 + 316);
    *(_DWORD *)(a1 + 388) = *(_DWORD *)(a1 + 308);
    v8 = *(_DWORD *)(a1 + 320);
    *(_DWORD *)(a1 + 392) = v6;
    *(_DWORD *)(a1 + 396) = v7;
    *(_DWORD *)(a1 + 400) = v8;
    SetWindowPos(
      *(HWND *)a1,
      (HWND)0xFFFFFFFE,
      *(_DWORD *)(a1 + 388),
      *(_DWORD *)(a1 + 392),
      *(_DWORD *)(a1 + 396) - *(_DWORD *)(a1 + 388),
      *(_DWORD *)(a1 + 400) - *(_DWORD *)(a1 + 392),
      0x40u);
    goto LABEL_8;
  }
  return 0;
}

//----- (0043AA70) --------------------------------------------------------
int __thiscall sub_43AA70(int this, int a2, int a3)
{
  LONG v3; // ebp
  int v5; // eax
  int v6; // eax
  int v7; // ecx
  int v8; // edx
  int v9; // edx
  int v10; // eax
  int v11; // ecx
  HWND v13; // [esp-Ch] [ebp-1Ch]

  v3 = dwNewLong;
  if ( *(_DWORD *)(this + 8) )
  {
    v9 = *(_DWORD *)(this + 312);
    v10 = *(_DWORD *)(this + 316);
    *(_DWORD *)(this + 388) = *(_DWORD *)(this + 308);
    v11 = *(_DWORD *)(this + 320);
    *(_DWORD *)(this + 392) = v9;
    *(_DWORD *)(this + 396) = v10;
    *(_DWORD *)(this + 400) = v11;
LABEL_8:
    sub_438D20(this);
    RedrawWindow(0, 0, 0, 2u);
    InvalidateRect(0, 0, 0);
    return 0;
  }
  if ( a2 != *(_DWORD *)(this + 412) - *(_DWORD *)(this + 404)
    || a3 != *(_DWORD *)(this + 416) - *(_DWORD *)(this + 408) )
  {
    if ( sub_43A470((int)dword_4C0874, dwNewLong) )
      sub_4399E0((int)dword_4C0874);
    v5 = a3 + *(_DWORD *)(this + 312);
    v13 = *(HWND *)this;
    *(_DWORD *)(this + 316) = a2 + *(_DWORD *)(this + 308);
    *(_DWORD *)(this + 320) = v5;
    SetWindowLongA(v13, -16, v3);
    v6 = *(_DWORD *)(this + 312);
    v7 = *(_DWORD *)(this + 316);
    *(_DWORD *)(this + 388) = *(_DWORD *)(this + 308);
    v8 = *(_DWORD *)(this + 320);
    *(_DWORD *)(this + 392) = v6;
    *(_DWORD *)(this + 396) = v7;
    *(_DWORD *)(this + 400) = v8;
    SetWindowPos(
      *(HWND *)this,
      (HWND)0xFFFFFFFE,
      *(_DWORD *)(this + 388),
      *(_DWORD *)(this + 392),
      *(_DWORD *)(this + 396) - *(_DWORD *)(this + 388),
      v8 - *(_DWORD *)(this + 392),
      0x40u);
    goto LABEL_8;
  }
  return 0;
}

//----- (0043ABB0) --------------------------------------------------------
int __thiscall sub_43ABB0(_DWORD *this)
{
  int v2; // esi
  int *v3; // ebx
  int v4; // ebx
  int v5; // eax
  int v7; // [esp+1Ch] [ebp-3Ch] BYREF
  int v8; // [esp+20h] [ebp-38h]
  int v9; // [esp+24h] [ebp-34h]
  int v10; // [esp+28h] [ebp-30h]
  int v11; // [esp+2Ch] [ebp-2Ch]
  int v12[9]; // [esp+30h] [ebp-28h] BYREF

  dword_4C092C = (int)hWnd;
  memset(this + 31, 0, 0xF0u);
  memset(this + 91, 0, 0xF0u);
  memset(this + 151, 0, 0x110u);
  memset(this + 7, 0, 0x30u);
  memset(this + 19, 0, 0x30u);
  this[1] = 0;
  this[2] = 0;
  this[3] = 0;
  this[4] = 0;
  this[5] = 0;
  this[6] = 0;
  *this = 0;
  v2 = 0;
  while ( 1 )
  {
    v3 = &dword_4C0968[v2];
    dword_4C0968[v2] = 0;
    dword_4C09C8[v2] = 0;
    dword_4C0934[v2] = 0;
    if ( DirectSoundCreate(0, (LPDIRECTSOUND *)&dword_4C0968[v2], 0) )
    {
      sub_40F510("DirectSound Create Error");
      return 0;
    }
    if ( (*(int (__stdcall **)(int, int, int))(*(_DWORD *)*v3 + 24))(*v3, dword_4C092C, 1) )
    {
      sub_40F510("DirectSound CooperativeLevel Error");
      return 0;
    }
    v4 = *v3;
    v12[0] = 36;
    memset(&v12[2], 0, 28);
    v12[1] = 1;
    if ( (*(int (__stdcall **)(int, int *, int *, _DWORD))(*(_DWORD *)v4 + 12))(v4, v12, &dword_4C09C8[v2], 0) )
      break;
    LOWORD(v10) = 0;
    v8 = 0;
    v9 = 0;
    LOWORD(v11) = 0;
    v7 = 131073;
    v5 = dword_4C09C8[v2];
    v10 = 1048580;
    v8 = 22050;
    v9 = 88200;
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)v5 + 56))(v5, &v7);
    if ( ++v2 >= 12 )
    {
      sub_452590((int)"VOICE.DAT");
      return 1;
    }
  }
  sub_40F510("DirectSound SoundBuffer Error");
  return 0;
}
// 4C092C:  int dword_4C092C
// 4C0934:  int dword_4C0934[]
// 4C0968:  int dword_4C0968[12]
// 4C09C8:  int dword_4C09C8[]

//----- (0043ADC0) --------------------------------------------------------
DWORD __thiscall sub_43ADC0(DWORD *this, int a2, int a3)
{
  DWORD result; // eax

  if ( a3 == 2 )
    *((_DWORD *)Buf + 5528) = a2;
  result = dword_4C0934[a3];
  if ( result )
  {
    result = (*(int (__stdcall **)(DWORD, _DWORD, _DWORD, bool))(*(_DWORD *)result + 48))(result, 0, 0, a2 != 0);
    if ( (unsigned int)(a3 - 8) <= 3 )
    {
      result = timeGetTime();
      *this = result;
    }
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043AE20) --------------------------------------------------------
int __thiscall sub_43AE20(_DWORD *this, int a2, int a3, int a4)
{
  int result; // eax

  result = a2;
  if ( !this[5 * a2 + 35] || a4 )
  {
    result = dword_4C0934[a2];
    if ( result )
      return (*(int (__stdcall **)(int, int))(*(_DWORD *)result + 60))(result, a3);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043AE50) --------------------------------------------------------
int __stdcall sub_43AE50(int a1, int a2)
{
  int result; // eax

  result = dword_4C0934[a1];
  if ( result )
    return (*(int (__stdcall **)(int, int))(*(_DWORD *)result + 64))(dword_4C0934[a1], a2);
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043AE70) --------------------------------------------------------
int __thiscall sub_43AE70(float *this, int a2, int a3, int a4)
{
  int v4; // esi
  float *v6; // ebx
  int result; // eax
  int v8; // ecx
  float *v9; // eax
  double v10; // st6
  float v11; // [esp+Ch] [ebp-4h]

  v4 = a2;
  v6 = &this[5 * a2 + 95];
  if ( *(_DWORD *)v6 )
    sub_43AE50(a2, (int)this[5 * a2 + 92]);
  result = dword_4C0934[v4];
  if ( result )
  {
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)result + 28))(result, &a2);
    v8 = a3 - a2;
    v11 = (float)a2;
    v9 = &this[5 * v4];
    v9[91] = v11;
    *(_DWORD *)v6 = 1;
    v10 = (double)a3;
    a3 = v8;
    v9[94] = 0.0;
    v9[92] = v10;
    v9[93] = (double)a3 / (double)a4;
    return sub_43AE50(v4, (int)v11);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043AF20) --------------------------------------------------------
int __stdcall sub_43AF20(int a1, int a2)
{
  int result; // eax
  int v3; // ecx
  int v4; // eax

  result = a1;
  v3 = dword_4C0934[a1];
  if ( v3 )
  {
    v4 = a2;
    if ( a2 <= 100 )
      v4 = 0;
    return (*(int (__stdcall **)(int, int))(*(_DWORD *)v3 + 68))(v3, 44100 * v4 / 100);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043AF70) --------------------------------------------------------
BOOL __thiscall sub_43AF70(_DWORD *this, int a2)
{
  int v2; // esi
  int v3; // eax
  BOOL result; // eax
  int v6; // [esp+8h] [ebp-4h] BYREF

  v2 = a2;
  v3 = dword_4C0934[a2];
  v6 = 0;
  if ( !v3 )
    return this[5 * v2 + 35] != 0;
  if ( (unsigned int)(a2 - 8) <= 3 )
  {
    if ( !*((_DWORD *)Buf + 19) )
      return 0;
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)v3 + 24))(v3, &v6);
    if ( v6 <= -9999 )
      return 0;
  }
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)dword_4C0934[v2] + 36))(dword_4C0934[v2], &a2);
  result = 1;
  if ( (a2 & 1) == 0 )
    return this[5 * v2 + 35] != 0;
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043AFF0) --------------------------------------------------------
BOOL __thiscall sub_43AFF0(_DWORD *this, int a2)
{
  int v2; // esi
  int v3; // eax
  BOOL result; // eax

  v2 = a2;
  result = 0;
  if ( sub_43AF70(this, a2) )
  {
    v3 = dword_4C0934[v2];
    if ( v3 )
    {
      (*(void (__stdcall **)(int, int *))(*(_DWORD *)v3 + 36))(v3, &a2);
      if ( (a2 & 4) != 0 )
        return 1;
    }
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043B030) --------------------------------------------------------
int __stdcall sub_43B030(int a1, int a2, int a3)
{
  int v3; // ecx
  int v5[9]; // [esp+0h] [ebp-28h] BYREF

  v3 = dword_4C0968[a2];
  dword_4C09FC = a1;
  v5[3] = 0;
  memset(&v5[5], 0, 16);
  v5[0] = 36;
  v5[1] = 49386;
  v5[2] = a3;
  v5[4] = (int)&dword_4C0A40;
  if ( !v3 )
    return 0;
  if ( (*(int (__stdcall **)(int, int *, int, _DWORD))(*(_DWORD *)v3 + 12))(v3, v5, 4 * a2 + 4983092, 0) )
  {
    sub_40F510(&byte_491FC8);
    return 0;
  }
  return 1;
}
// 4C0968:  int dword_4C0968[12]
// 4C09FC:  int dword_4C09FC
// 4C0A40:  int dword_4C0A40

//----- (0043B0F0) --------------------------------------------------------
int __thiscall sub_43B0F0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[6] = a2;
  return result;
}

//----- (0043B100) --------------------------------------------------------
int __thiscall sub_43B100(DWORD *this, int a2)
{
  int result; // eax

  if ( dword_4C0934[a2] )
  {
    sub_43ADC0(this, 0, a2);
    return (*(int (__stdcall **)(int, int))(*(_DWORD *)dword_4C0934[a2] + 52))(dword_4C0934[a2], dword_4C0998[a2]);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]
// 4C0998:  int dword_4C0998[12]

//----- (0043B140) --------------------------------------------------------
int __stdcall sub_43B140(int a1)
{
  int v1; // edi
  int result; // eax
  _DWORD *v3; // esi
  int v4; // esi
  int v5; // [esp+2Ch] [ebp-1Ch] BYREF
  char v6[4]; // [esp+30h] [ebp-18h] BYREF
  char v7[20]; // [esp+34h] [ebp-14h] BYREF

  v1 = a1;
  result = dword_4C0934[a1];
  v3 = (_DWORD *)(4 * a1 + 4983092);
  if ( result )
  {
    (*(void (__stdcall **)(int, _DWORD, _DWORD, int *))(*(_DWORD *)result + 20))(result, 0, 0, &a1);
    (*(void (__stdcall **)(_DWORD, char *, int, _DWORD))(*(_DWORD *)*v3 + 20))(*v3, v7, a1, 0);
    (*(void (__stdcall **)(_DWORD, int *, char *))(*(_DWORD *)*v3 + 16))(*v3, &v5, v6);
    v4 = *v3;
    dword_4C0998[v1] = v5;
    return (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 72))(v4);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]
// 4C0998:  int dword_4C0998[12]
// 43B140:  char var_14[20]
// 43B140:  char var_18[4]

//----- (0043B1C0) --------------------------------------------------------
unsigned int __thiscall sub_43B1C0(_DWORD *this, int a2)
{
  int v2; // esi
  unsigned int result; // eax
  char v5[8]; // [esp+18h] [ebp-14h] BYREF
  unsigned int v6; // [esp+20h] [ebp-Ch]

  v2 = a2;
  result = dword_4C0934[a2];
  if ( result )
  {
    (*(void (__stdcall **)(unsigned int, _DWORD, _DWORD, int *))(*(_DWORD *)result + 20))(result, 0, 0, &a2);
    (*(void (__stdcall **)(int, char *, int, _DWORD))(*(_DWORD *)dword_4C0934[v2] + 20))(dword_4C0934[v2], v5, a2, 0);
    return this[v2 + 19] / v6;
  }
  return result;
}
// 4C0934:  int dword_4C0934[]
// 43B1C0:  char var_14[8]

//----- (0043B220) --------------------------------------------------------
void __cdecl sub_43B220(int a1)
{
  if ( uTimerID != -1 )
    timeKillEvent(uTimerID);
  uTimerID = -1;
  if ( !a1 && dword_4C0A58 )
  {
    do
      Sleep(0xAu);
    while ( dword_4C0A58 );
  }
  if ( !dword_4C0A5C )
    sub_452A10();
}
// 4C0A58:  int dword_4C0A58
// 4C0A5C:  int dword_4C0A5C

//----- (0043B270) --------------------------------------------------------
int __cdecl sub_43B270(char *FileName, void **a2, int a3, size_t ElementCount)
{
  FILE *v4; // eax
  FILE *v5; // esi
  int v6; // edi
  FILE *v8; // [esp-4h] [ebp-50h]
  int v9; // [esp-4h] [ebp-50h]
  int v10; // [esp-4h] [ebp-50h]
  int v11; // [esp-4h] [ebp-50h]
  int Buffer[4]; // [esp+Ch] [ebp-40h] BYREF
  int v14; // [esp+1Ch] [ebp-30h]
  __int16 v15; // [esp+20h] [ebp-2Ch]
  _DWORD v16[6]; // [esp+30h] [ebp-1Ch]

  v4 = fopen(FileName, "rb");
  v5 = v4;
  if ( v4 )
  {
    if ( (int)fread(Buffer, 1u, 0x3Cu, v4) < 44 )
    {
      v8 = v5;
LABEL_5:
      fclose(v8);
      printf(byte_492064, v9);
      return 0;
    }
    if ( Buffer[0] == 1179011410 && Buffer[2] == 1163280727 && Buffer[3] == 544501094 && (v14 == 16 || v14 == 18) )
    {
      if ( v15 != 1 )
      {
        fclose(v5);
        printf(byte_492040, v10);
        return 0;
      }
      if ( v14 != 16 )
      {
        if ( *(_DWORD *)((char *)v16 + 2) == 1952670054 )
        {
          v6 = 58;
        }
        else
        {
          if ( *(_DWORD *)((char *)v16 + 2) != 1635017060 )
            goto LABEL_26;
          v6 = 46;
        }
LABEL_22:
        if ( !*(int *)((char *)&Buffer[-1] + v6) )
          printf(&byte_49201C);
        fseek(v5, a3 + v6, 0);
        v8 = v5;
        if ( fread(*a2, 1u, ElementCount, v5) == ElementCount )
        {
          fclose(v5);
          return 1;
        }
        goto LABEL_5;
      }
      if ( v16[0] == 1952670054 )
      {
        v6 = 56;
        goto LABEL_22;
      }
      if ( v16[0] == 1635017060 )
      {
        v6 = 44;
        goto LABEL_22;
      }
    }
LABEL_26:
    fclose(v5);
    printf(&byte_491FF0, v11);
    return 0;
  }
  printf(byte_4920A0, FileName);
  return 0;
}
// 43B34F: conditional instruction was optimized away because %var_30.4==12
// 43B2CA: variable 'v9' is possibly undefined
// 43B31E: variable 'v10' is possibly undefined
// 43B3D8: variable 'v11' is possibly undefined
// 43B270:  _DWORD var_1C[6]

//----- (0043B400) --------------------------------------------------------
MMRESULT sub_43B400()
{
  int i; // esi
  int v1; // eax
  int v2; // eax
  int v3; // eax
  MMRESULT result; // eax

  dword_4B4ACC = -1;
  sub_43B220(0);
  sub_452550();
  for ( i = 0; i < 12; ++i )
  {
    v1 = dword_4C0934[i];
    if ( v1 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v1 + 8))(dword_4C0934[i]);
      dword_4C0934[i] = 0;
    }
    v2 = dword_4C09C8[i];
    if ( v2 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(dword_4C09C8[i]);
      dword_4C09C8[i] = 0;
    }
    v3 = dword_4C0968[i];
    if ( v3 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 8))(dword_4C0968[i]);
      dword_4C0968[i] = 0;
    }
  }
  result = dword_4B4AD4;
  if ( dword_4B4AD4 != -1 )
    return timeKillEvent(dword_4B4AD4);
  return result;
}
// 4B4ACC:  int dword_4B4ACC
// 4C0934:  int dword_4C0934[]
// 4C0968:  int dword_4C0968[]
// 4C09C8:  int dword_4C09C8[]

//----- (0043B4F0) --------------------------------------------------------
int __thiscall sub_43B4F0(_DWORD *this, int a2)
{
  int result; // eax
  int v4; // esi
  unsigned int v5; // eax
  double v6; // st7
  char v7[8]; // [esp+18h] [ebp-14h] BYREF
  int v8; // [esp+20h] [ebp-Ch]

  result = dword_4C0934[0];
  if ( dword_4C0934[0] )
  {
    v4 = a2;
    if ( a2 )
    {
      if ( a2 <= 100 )
      {
        if ( a2 < 0 )
          v4 = 0;
      }
      else
      {
        v4 = 100;
      }
      (*(void (__stdcall **)(int, _DWORD, _DWORD, int *))(*(_DWORD *)dword_4C0934[0] + 20))(dword_4C0934[0], 0, 0, &a2);
      (*(void (__stdcall **)(int, char *, int, _DWORD))(*(_DWORD *)dword_4C0934[0] + 20))(dword_4C0934[0], v7, a2, 0);
      v5 = sub_43B1C0(this, 0);
      a2 = 100 * this[7];
      v6 = (double)a2 / (double)(int)this[19];
      if ( (int)v6 <= v4 )
        v4 = (int)v6;
      result = v8 * ((int)(v4 * v5) / 100);
      this[4] = result;
    }
  }
  return result;
}
// 4C0934:  int dword_4C0934[]
// 43B4F0:  char var_14[8]

//----- (0043B5A0) --------------------------------------------------------
int __thiscall sub_43B5A0(_DWORD *this, int a2)
{
  int result; // eax
  int v4; // esi
  int v5; // edi

  result = a2;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v4 = 3;
      v5 = 5;
    }
    else
    {
      v4 = 8;
      v5 = 11;
    }
    if ( v4 >= v5 )
    {
      return v5;
    }
    else
    {
      while ( sub_43AF70(this, v4) )
      {
        if ( ++v4 >= v5 )
          return v5;
      }
      return v4;
    }
  }
  return result;
}

//----- (0043B600) --------------------------------------------------------
_DWORD *__thiscall sub_43B600(_DWORD *this, int a2, int a3)
{
  int v3; // eax
  int v5; // edi
  int v7; // eax
  bool v8; // zf
  _DWORD *result; // eax
  int v10; // ecx
  double v11; // st7
  float *v12; // eax
  float v13; // [esp+14h] [ebp+4h]

  v3 = *((_DWORD *)Buf + 32);
  if ( v3 && a3 && *((_DWORD *)Buf + 31) )
    v5 = 5000 * (a3 * v3 / 100) / 100 - 5000;
  else
    v5 = -10000;
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)dword_4C0934[a2] + 24))(dword_4C0934[a2], &a3);
  v7 = 5 * a2 + 35;
  v8 = this[v7] == 0;
  result = &this[v7];
  if ( v8 )
  {
    v10 = a3;
    if ( v5 != a3 )
    {
      v11 = (double)a3;
      *result = 1;
      v12 = (float *)&this[5 * a2];
      v13 = v11;
      v12[31] = v13;
      *((_DWORD *)v12 + 34) = 2;
      v12[32] = (float)v5;
      v12[33] = (double)(v5 - v10) / 30.0;
      return (_DWORD *)sub_43AE20(this, a2, (int)v13, 0);
    }
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043B6F0) --------------------------------------------------------
int __thiscall sub_43B6F0(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v4; // esi
  int v5; // ebp
  int v7; // eax

  result = a2;
  v4 = 0;
  v5 = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v4 = 2;
      v5 = 7;
    }
    else if ( a2 == 2 )
    {
      v4 = 8;
      v5 = 11;
    }
  }
  else
  {
    v5 = 1;
  }
  for ( ; v4 <= v5; ++v4 )
  {
    v7 = *((_DWORD *)Buf + 32);
    if ( v7 && a3 && *((_DWORD *)Buf + 31) )
      result = sub_43AE20(this, v4, 5000 * (a3 * v7 / 100) / 100 - 5000, 0);
    else
      result = sub_43AE20(this, v4, -10000, 0);
  }
  return result;
}

//----- (0043B7A0) --------------------------------------------------------
int __stdcall sub_43B7A0(int a1, int a2)
{
  int result; // eax
  int v3; // esi
  int v4; // edi

  result = a1;
  v3 = 0;
  v4 = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v3 = 2;
      v4 = 7;
    }
    else if ( a1 == 2 )
    {
      v3 = 8;
      v4 = 11;
    }
  }
  else
  {
    v4 = 1;
  }
  for ( ; v3 <= v4; ++v3 )
    result = sub_43AE50(v3, a2);
  return result;
}

//----- (0043B800) --------------------------------------------------------
int __thiscall sub_43B800(float *this, int a2, int a3, int a4)
{
  int result; // eax
  int v5; // esi
  int v6; // edi

  result = a2;
  v5 = 0;
  v6 = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v5 = 2;
      v6 = 7;
    }
    else if ( a2 == 2 )
    {
      v5 = 8;
      v6 = 11;
    }
  }
  else
  {
    v6 = 1;
  }
  for ( ; v5 <= v6; ++v5 )
    result = sub_43AE70(this, v5, a3, a4);
  return result;
}

//----- (0043B860) --------------------------------------------------------
int __stdcall sub_43B860(int a1, int a2)
{
  int result; // eax
  int v3; // esi
  int v4; // edi

  result = a1;
  v3 = 0;
  v4 = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v3 = 2;
      v4 = 7;
    }
    else if ( a1 == 2 )
    {
      v3 = 8;
      v4 = 11;
    }
  }
  else
  {
    v4 = 1;
  }
  for ( ; v3 <= v4; ++v3 )
    result = sub_43AF20(v3, a2);
  return result;
}

//----- (0043B8C0) --------------------------------------------------------
int __thiscall sub_43B8C0(_DWORD *this, int a2)
{
  int v3; // eax
  int result; // eax

  sub_43AE50(a2, 0);
  if ( !a2 )
  {
    dword_4B4ACC = -1;
    sub_43B220(0);
  }
  v3 = dword_4C0934[a2];
  if ( v3 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 8))(dword_4C0934[a2]);
    dword_4C0934[a2] = 0;
  }
  result = 5 * a2 + 35;
  this[result] = 0;
  this[5 * a2 + 95] = 0;
  return result;
}
// 4B4ACC:  int dword_4B4ACC
// 4C0934:  int dword_4C0934[]

//----- (0043B920) --------------------------------------------------------
int __thiscall sub_43B920(_DWORD *this, int a2)
{
  int v2; // ebx
  int v3; // esi
  int v4; // edi
  int v6; // eax

  v2 = 0;
  v3 = 0;
  v4 = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v3 = 2;
      v4 = 5;
    }
    else if ( a2 == 2 )
    {
      v3 = 8;
      v4 = 11;
    }
  }
  for ( ; v3 <= v4; v2 += v6 )
    v6 = sub_43AF70(this, v3++);
  return v2;
}

//----- (0043B970) --------------------------------------------------------
int __thiscall sub_43B970(_DWORD *this)
{
  int v2; // edi
  int i; // esi
  int v4; // eax

  v2 = 0;
  for ( i = 3; i <= 5; ++i )
  {
    v4 = sub_43AF70(this, i);
    v2 += v4;
  }
  return v2;
}

//----- (0043B9A0) --------------------------------------------------------
BOOL __thiscall sub_43B9A0(_DWORD *this)
{
  return sub_43AF70(this, 7);
}

//----- (0043B9B0) --------------------------------------------------------
int __thiscall sub_43B9B0(_DWORD *this, int a2)
{
  int v2; // esi
  int v3; // eax
  signed int v5; // eax
  int result; // eax
  unsigned int v7; // [esp+2Ch] [ebp-1Ch] BYREF
  char v8[4]; // [esp+30h] [ebp-18h] BYREF
  char v9[8]; // [esp+34h] [ebp-14h] BYREF
  unsigned int v10; // [esp+3Ch] [ebp-Ch]

  v2 = a2;
  v3 = dword_4C0934[a2];
  if ( !v3 )
    return 0;
  (*(void (__stdcall **)(int, _DWORD, _DWORD, int *))(*(_DWORD *)v3 + 20))(v3, 0, 0, &a2);
  (*(void (__stdcall **)(int, char *, int, _DWORD))(*(_DWORD *)dword_4C0934[v2] + 20))(dword_4C0934[v2], v9, a2, 0);
  (*(void (__stdcall **)(int, unsigned int *, char *))(*(_DWORD *)dword_4C0934[v2] + 16))(dword_4C0934[v2], &v7, v8);
  v5 = sub_43B1C0(this, v2);
  result = (int)(100 * (v7 / v10)) / v5;
  if ( result > 100 )
    return 100;
  if ( result < 0 )
    return 0;
  return result;
}
// 4C0934:  int dword_4C0934[]
// 43B9B0:  char var_14[8]
// 43B9B0:  char var_18[4]

//----- (0043BA50) --------------------------------------------------------
int __userpurge sub_43BA50@<eax>(_DWORD *a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4, int a5, int a6, int a7)
{
  int v7; // esi
  int result; // eax
  int v10; // ebx
  unsigned int v11; // eax
  double v12; // st7
  char v14[8]; // [esp+20h] [ebp-Ch] BYREF
  int v15; // [esp+28h] [ebp-4h]

  v7 = a5;
  result = dword_4C0934[a5];
  if ( result )
  {
    v10 = a4;
    if ( a4 )
    {
      if ( a4 <= 100 )
      {
        if ( a4 < 0 )
          v10 = 0;
      }
      else
      {
        v10 = 100;
      }
      (*(void (__stdcall **)(int, _DWORD, _DWORD, int *, int, int))(*(_DWORD *)result + 20))(result, 0, 0, &a5, a3, a2);
      (*(void (__stdcall **)(int, char *, int, _DWORD))(*(_DWORD *)dword_4C0934[v7] + 20))(dword_4C0934[v7], v14, a7, 0);
      v11 = sub_43B1C0(a1, v7);
      a6 = 100 * a1[v7 + 7];
      v12 = (double)a6 / (double)(int)a1[v7 + 19];
      if ( (int)v12 <= v10 )
        v10 = (int)v12;
      (*(void (__cdecl **)(int, int))(*(_DWORD *)dword_4C0934[v7] + 52))(
        dword_4C0934[v7],
        v15 * ((int)(v10 * v11) / 100));
      return (*(int (__stdcall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)dword_4C0934[v7] + 48))(
               dword_4C0934[v7],
               0,
               0,
               0);
    }
  }
  return result;
}
// 43BA50: could not find valid save-restore pair for ebx
// 4C0934:  int dword_4C0934[]
// 43BA50:  char var_C[8]

//----- (0043BB30) --------------------------------------------------------
int __usercall sub_43BB30@<eax>(size_t a1@<ebx>, void *a2@<ebp>, size_t a3@<esi>, void *a4, void *a5)
{
  int v5; // eax
  size_t v6; // edx
  size_t v8; // eax
  int v9; // esi
  int v10; // ecx
  size_t v11; // ecx
  void *Block; // [esp+40h] [ebp-18h] BYREF
  char v16[4]; // [esp+44h] [ebp-14h] BYREF
  int v17; // [esp+48h] [ebp-10h] BYREF
  void *Src; // [esp+4Ch] [ebp-Ch] BYREF
  size_t Size; // [esp+50h] [ebp-8h] BYREF
  char v20[4]; // [esp+54h] [ebp-4h] BYREF
  size_t retaddr; // [esp+58h] [ebp+0h]

  if ( dword_4B4ACC == -1 )
    return 1;
  v5 = dword_4C0934[dword_4B4ACC];
  if ( !v5 || dword_4C0928 )
    return 1;
  v6 = dword_4C0930;
  dword_4C0928 = 1;
  if ( a4 && dword_4C0930 )
  {
    if ( (*(int (__stdcall **)(int, int *, _DWORD))(*(_DWORD *)v5 + 16))(v5, &v17, 0)
      || (v6 = dword_4C0930, v17 + 0x10000 < (unsigned int)dword_4C0930) )
    {
      dword_4C0928 = 0;
      return 0;
    }
    if ( dword_4C0928 == 2 )
      return 0;
  }
  else
  {
    v17 = 0;
  }
  v8 = ElementCount;
  while ( 1 )
  {
    if ( dword_4C0A5C )
    {
      if ( dword_4C09F8 < v8 + v6 )
      {
        ElementCount = dword_4C09F8 - v6;
        timeKillEvent(uTimerID);
        v8 = ElementCount;
      }
      Block = malloc(v8);
      sub_43B270(&byte_4C0A00, &Block, dword_4C0930, ElementCount);
    }
    else if ( !sub_452860((int)&Block, (int *)&ElementCount) )
    {
      dword_4C0928 = 2;
      sub_43B220(1);
      return 1;
    }
    v9 = dword_4B4ACC;
    if ( dword_4B4ACC == -1 )
    {
      dword_4C0928 = 0;
      return 1;
    }
    v10 = ElementCount;
    if ( ElementCount > dword_4C09F8 - dword_4C0930 )
    {
      v10 = dword_4C09F8 - dword_4C0930;
      ElementCount = dword_4C09F8 - dword_4C0930;
    }
    (*(void (__stdcall **)(int, int, int, char *, char *, size_t *, void **, _DWORD, size_t, void *, size_t))(*(_DWORD *)dword_4C0934[dword_4B4ACC] + 44))(
      dword_4C0934[dword_4B4ACC],
      dword_4C0930,
      v10,
      v20,
      v16,
      &Size,
      &Src,
      0,
      a3,
      a2,
      a1);
    memcpy(a5, Src, Size);
    v11 = retaddr;
    if ( retaddr )
    {
      memcpy(a4, (char *)Src + Size, retaddr);
      v11 = retaddr;
    }
    a1 = v11;
    a2 = a4;
    a3 = Size;
    (*(void (__stdcall **)(int, void *))(*(_DWORD *)dword_4C0934[v9] + 76))(dword_4C0934[v9], a5);
    v8 = ElementCount;
    v6 = ElementCount + dword_4C0930;
    dword_4C0930 += ElementCount;
    if ( dword_4C0A5C )
    {
      free(Block);
      v6 = dword_4C0930;
      v8 = ElementCount;
    }
    if ( !v8 )
      break;
    if ( v17 + 0x10000 <= v6 )
    {
      dword_4C0928 = 0;
      return 0;
    }
  }
  dword_4C0928 = 2;
  sub_43B220(1);
  dword_4C0A54 = timeGetTime();
  return 1;
}
// 43BB30: could not find valid save-restore pair for ebx
// 43BB30: could not find valid save-restore pair for ebp
// 43BB30: could not find valid save-restore pair for esi
// 4B4ACC:  int dword_4B4ACC
// 4C0928:  int dword_4C0928
// 4C0934:  int dword_4C0934[]
// 4C09F8:  int dword_4C09F8
// 4C0A54:  int dword_4C0A54
// 4C0A5C:  int dword_4C0A5C
// 43BB30:  char var_14[4]
// 43BB30:  char var_4[4]

//----- (0043BDB0) --------------------------------------------------------
int __cdecl sub_43BDB0(_DWORD *a1)
{
  int v1; // ebx
  unsigned int v3; // ecx
  size_t v4; // eax
  size_t v5; // eax
  void *Src; // [esp+20h] [ebp-14h] BYREF
  size_t Size; // [esp+24h] [ebp-10h] BYREF
  size_t v8; // [esp+28h] [ebp-Ch] BYREF
  void *v9; // [esp+2Ch] [ebp-8h] BYREF
  void *v10; // [esp+30h] [ebp-4h] BYREF

  v1 = 0;
  dword_4C0928 = 1;
  dword_4B4ACC = -1;
  if ( dword_4C0A5C )
  {
    if ( dword_4C09F8 < ElementCount + dword_4C0930 )
    {
      ElementCount = dword_4C09F8 - dword_4C0930;
      timeKillEvent(uTimerID);
    }
    Src = malloc(ElementCount);
    sub_43B270(&byte_4C0A00, &Src, dword_4C0930, ElementCount);
    if ( dword_4B4ACC == -1 )
    {
      dword_4C0928 = 0;
      return 1;
    }
    v3 = dword_4C09F8 - dword_4C0930;
    v4 = ElementCount;
    if ( ElementCount <= dword_4C09F8 - dword_4C0930 )
      goto LABEL_15;
    goto LABEL_14;
  }
  if ( !sub_452860((int)&Src, (int *)&ElementCount) || (v4 = ElementCount) == 0 )
  {
    dword_4C0928 = 2;
    return 1;
  }
  v3 = dword_4C09F8 - *a1;
  if ( ElementCount > v3 )
  {
    v1 = 1;
LABEL_14:
    v4 = v3;
    ElementCount = v3;
  }
LABEL_15:
  if ( !dword_4C0934[0] )
    return 1;
  (*(void (__stdcall **)(int, _DWORD, size_t, void **, size_t *, void **, size_t *, _DWORD))(*(_DWORD *)dword_4C0934[0]
                                                                                           + 44))(
    dword_4C0934[0],
    *a1,
    v4,
    &v10,
    &Size,
    &v9,
    &v8,
    0);
  memcpy(v10, Src, Size);
  v5 = v8;
  if ( v8 )
  {
    memcpy(v9, (char *)Src + Size, v8);
    v5 = v8;
  }
  (*(void (__stdcall **)(int, void *, size_t, void *, size_t))(*(_DWORD *)dword_4C0934[0] + 76))(
    dword_4C0934[0],
    v10,
    Size,
    v9,
    v5);
  *a1 += ElementCount;
  return v1;
}
// 4B4ACC:  int dword_4B4ACC
// 4C0928:  int dword_4C0928
// 4C0934:  int dword_4C0934[]
// 4C09F8:  int dword_4C09F8
// 4C0A5C:  int dword_4C0A5C

//----- (0043BF50) --------------------------------------------------------
#error "43BF65: call analysis failed (funcsize=8)"

//----- (0043BF80) --------------------------------------------------------
#error "43BF9F: call analysis failed (funcsize=17)"

//----- (0043BFD0) --------------------------------------------------------
int __thiscall sub_43BFD0(_DWORD *this, int a2)
{
  int result; // eax

  if ( (unsigned int)(a2 - 2) <= 3 && Buf )
    *((_BYTE *)Buf + 32 * a2 + 21920) = 0;
  this[5 * a2 + 35] = 0;
  this[5 * a2 + 95] = 0;
  result = dword_4C0934[a2];
  if ( result )
  {
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)result + 52))(result, 0);
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4C0934[a2] + 72))(dword_4C0934[a2]);
    return sub_43B8C0(this, a2);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043C040) --------------------------------------------------------
void __userpurge sub_43C040(_DWORD *a1@<ecx>, int a2@<ebx>, int a3@<edi>, int a4, int a5, void *a6)
{
  int v7; // ecx
  int v8; // ebx
  int v9; // esi
  int v11; // [esp+88h] [ebp-48h] BYREF
  void *v12; // [esp+8Ch] [ebp-44h] BYREF
  size_t v13; // [esp+90h] [ebp-40h] BYREF
  void *v14; // [esp+94h] [ebp-3Ch] BYREF
  size_t Size; // [esp+98h] [ebp-38h] BYREF
  void *Src; // [esp+9Ch] [ebp-34h] BYREF
  int v17; // [esp+A8h] [ebp-28h] BYREF
  int v18[3]; // [esp+ACh] [ebp-24h] BYREF
  __int16 v19; // [esp+B8h] [ebp-18h]
  int v20[2]; // [esp+BCh] [ebp-14h] BYREF
  int v21; // [esp+C4h] [ebp-Ch]
  int v22; // [esp+C8h] [ebp-8h]
  int v23; // [esp+CCh] [ebp-4h]

  v7 = dword_4C0934[a4];
  if ( v7 )
  {
    v20[1] = 0;
    v21 = 0;
    v22 = 0;
    v23 = 0;
    v20[0] = 20;
    if ( !(*(int (__stdcall **)(int, int *))(*(_DWORD *)v7 + 12))(v7, v20) )
    {
      sub_43B8C0(a1, a5);
      v8 = v21;
      (*(void (__stdcall **)(int, _DWORD, _DWORD, void **))(*(_DWORD *)dword_4C0934[a4] + 20))(
        dword_4C0934[a4],
        0,
        0,
        &Src);
      (*(void (__stdcall **)(int, int *, void *, _DWORD))(*(_DWORD *)dword_4C0934[a4] + 20))(
        dword_4C0934[a4],
        &v17,
        Src,
        0);
      dword_4C0A40 = v17;
      dword_4C0A48 = v18[1];
      dword_4C0A44 = v18[0];
      dword_4C0A4C = v18[2];
      word_4C0A50 = v19;
      if ( sub_43B030(dword_4C092C, a5, v8) )
      {
        (*(void (__stdcall **)(int, _DWORD, int, void **, size_t *, void **, int *, _DWORD, int, int))(*(_DWORD *)dword_4C0934[a4] + 44))(
          dword_4C0934[a4],
          0,
          v8,
          &v14,
          &v13,
          &v12,
          &v11,
          0,
          a3,
          a2);
        (*(void (__stdcall **)(int, _DWORD, int, void **, int *, void **, int *, _DWORD))(*(_DWORD *)dword_4C0934[a5]
                                                                                        + 44))(
          dword_4C0934[a5],
          0,
          v8,
          &v12,
          v18,
          &a6,
          &v17,
          0);
        memcpy(v12, Src, Size);
        if ( v14 )
          memcpy(a6, v14, v13);
        (*(void (__stdcall **)(int, void *, int))(*(_DWORD *)dword_4C0934[a5] + 76))(dword_4C0934[a5], v12, v18[0]);
        (*(void (__stdcall **)(int, void *, size_t, void *, int))(*(_DWORD *)dword_4C0934[a4] + 76))(
          dword_4C0934[a4],
          v14,
          v13,
          v12,
          v11);
        v9 = dword_4C0934[a4];
        Size = 0;
        (*(void (__stdcall **)(int, size_t *))(*(_DWORD *)v9 + 24))(v9, &Size);
        (*(void (__stdcall **)(int, size_t))(*(_DWORD *)dword_4C0934[a5] + 60))(dword_4C0934[a5], Size);
      }
    }
  }
}
// 43C040: could not find valid save-restore pair for ebx
// 43C040: could not find valid save-restore pair for edi
// 4C092C:  int dword_4C092C
// 4C0934:  int dword_4C0934[]
// 4C0A40:  int dword_4C0A40
// 4C0A44:  int dword_4C0A44
// 4C0A48:  int dword_4C0A48
// 4C0A4C:  int dword_4C0A4C
// 4C0A50:  __int16 word_4C0A50

//----- (0043C220) --------------------------------------------------------
int __usercall sub_43C220@<eax>(DWORD *a1@<ecx>, int a2@<ebx>)
{
  int result; // eax
  int i; // esi
  void *v5; // [esp+4h] [ebp-10h]
  int v6; // [esp+8h] [ebp-Ch] BYREF
  int v7; // [esp+Ch] [ebp-8h] BYREF
  char v8[4]; // [esp+10h] [ebp-4h] BYREF

  result = dword_4C0930;
  v6 = dword_4C0930;
  if ( dword_4C0934[0] )
  {
    if ( uTimerID != -1 )
      timeKillEvent(uTimerID);
    uTimerID = -1;
    while ( dword_4C0A58 )
      Sleep(0xAu);
    for ( i = 0; i < 100; ++i )
    {
      if ( sub_43BDB0(&v6) )
        break;
    }
    if ( !dword_4C0A5C )
      sub_452A10();
    sub_43C040(a1, a2, (int)a1, 0, 1, v5);
    (*(void (__stdcall **)(int, int *, char *))(*(_DWORD *)dword_4C0934[0] + 16))(dword_4C0934[0], &v7, v8);
    sub_43ADC0(a1, 0, 1);
    (*(void (__stdcall **)(int, int))(*(_DWORD *)dword_4C0938 + 52))(dword_4C0938, v7);
    return sub_43BFD0(a1, 0);
  }
  return result;
}
// 43C2A4: variable 'v5' is possibly undefined
// 4C0934:  int dword_4C0934[]
// 4C0938:  int dword_4C0938
// 4C0A58:  int dword_4C0A58
// 4C0A5C:  int dword_4C0A5C
// 43C220:  char var_4[4]

//----- (0043C2F0) --------------------------------------------------------
int __thiscall sub_43C2F0(_DWORD *this, int a2)
{
  int v4; // eax
  bool v5; // zf
  _DWORD *v6; // ebx
  int result; // eax
  int v8; // ecx
  float *v9; // eax
  double v10; // st6
  int v11; // [esp+Ch] [ebp-4h] BYREF
  float v12; // [esp+14h] [ebp+4h]

  v4 = 5 * a2 + 35;
  v5 = this[v4] == 0;
  v6 = &this[v4];
  v11 = 0;
  if ( v5 || (result = sub_43AF70(this, a2)) != 0 )
  {
    result = dword_4C0934[a2];
    if ( result )
    {
      (*(void (__stdcall **)(int, int *))(*(_DWORD *)result + 24))(result, &v11);
      v8 = v11;
      if ( v11 == -10000 )
      {
        return sub_43BFD0(this, a2);
      }
      else
      {
        v9 = (float *)&this[5 * a2];
        v12 = (float)v11;
        *v6 = 1;
        v9[34] = 0.0;
        v9[31] = v12;
        if ( v8 >= -3000 )
        {
          v9[33] = (double)(-3000 - v8) / 30.0;
          v10 = -3000.0;
        }
        else
        {
          v9[33] = (double)(-10000 - v8) / 30.0;
          v10 = -10000.0;
        }
        v9[32] = v10;
        return sub_43AE20(this, a2, (int)v12, 0);
      }
    }
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043C3F0) --------------------------------------------------------
int __thiscall sub_43C3F0(_DWORD *this, int a2, int a3)
{
  int v3; // ebx
  int result; // eax
  int v6; // esi
  int v7; // edi
  float *v8; // esi
  double v9; // st7
  int v10; // [esp+10h] [ebp-4h] BYREF

  v3 = 0;
  result = 5 * a2 + 35;
  v6 = 0;
  v10 = 0;
  if ( !this[result] || (result = sub_43B920(this, a2)) != 0 )
  {
    if ( a3 )
    {
      if ( a2 )
      {
        if ( a2 == 1 )
        {
          v6 = 2;
          v3 = 5;
        }
        else if ( a2 == 2 )
        {
          v6 = 8;
          v3 = 11;
        }
      }
      else if ( *((_DWORD *)Buf + 272089) )
      {
        if ( this[218] )
        {
          this[217] = 1;
          return result;
        }
        v6 = 0;
        v3 = 0;
      }
      else
      {
        v6 = 1;
        v3 = 1;
      }
      v7 = v6;
      if ( v6 <= v3 )
      {
        v8 = (float *)&this[5 * v6 + 33];
        do
        {
          result = dword_4C0934[v7];
          if ( result )
          {
            (*(void (__stdcall **)(int, int *))(*(_DWORD *)result + 24))(result, &v10);
            result = v10;
            if ( v10 >= -3000 )
              v9 = (double)(-3000 - v10);
            else
              v9 = (double)(-10000 - v10);
            *v8 = v9 / (double)a3;
          }
          ++v7;
          v8 += 5;
        }
        while ( v7 <= v3 );
      }
    }
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043C4F0) --------------------------------------------------------
_DWORD *__thiscall sub_43C4F0(_DWORD *this, _DWORD *a2, int a3)
{
  _DWORD *result; // eax
  int v4; // esi
  int v5; // edi

  result = a2;
  v4 = 0;
  v5 = 0;
  if ( a2 )
  {
    if ( a2 == (_DWORD *)1 )
    {
      v4 = 2;
      v5 = 5;
    }
    else if ( a2 == (_DWORD *)2 )
    {
      v4 = 8;
      v5 = 11;
    }
  }
  for ( ; v4 <= v5; ++v4 )
  {
    if ( dword_4C0934[v4] )
      result = sub_43B600(this, v4, a3);
  }
  return result;
}
// 4C0934:  int dword_4C0934[]

//----- (0043C550) --------------------------------------------------------
int __thiscall sub_43C550(_DWORD *this, int a2, int a3)
{
  int result; // eax
  int v5; // esi
  int v6; // edi

  result = a3;
  this[a2 + 1] = a3;
  if ( !a3 )
  {
    if ( a2 )
    {
      if ( a2 == 1 )
      {
        v5 = 2;
        v6 = 5;
      }
      else
      {
        v5 = 8;
        v6 = 11;
      }
    }
    else
    {
      v5 = 0;
      v6 = 0;
    }
    for ( ; v5 <= v6; ++v5 )
    {
      result = sub_43AF70(this, v5);
      if ( result )
      {
        if ( a2 != 1 )
          result = sub_43BFD0(this, v5);
      }
    }
  }
  return result;
}

//----- (0043C5C0) --------------------------------------------------------
int __thiscall sub_43C5C0(_DWORD *this, char *String1, signed int fuClose)
{
  int v3; // edi
  int v4; // ebx
  char *v5; // ecx
  _DWORD *v6; // ebp
  int v7; // eax
  HMMIO v8; // eax
  LONG v10; // eax
  int v11; // eax
  char v12; // cl
  char *v13; // esi
  LONG v14; // eax
  void *v15; // ecx
  int v16; // edi
  int v17; // esi
  const char *v18; // ebp
  int v19; // edi
  int v20; // ecx
  int v21; // esi
  int v22; // eax
  _DWORD *v23; // esi
  _DWORD *v24; // ecx
  unsigned __int8 *v25; // edx
  char *v26; // eax
  unsigned __int8 v27; // cl
  int v28; // eax
  int v29; // eax
  void *v30; // eax
  const char *v31; // [esp+Ch] [ebp-4A0h]
  char *v32; // [esp+10h] [ebp-49Ch]
  int v33; // [esp+10h] [ebp-49Ch]
  size_t Size; // [esp+24h] [ebp-488h] BYREF
  size_t v35; // [esp+28h] [ebp-484h] BYREF
  void *v36; // [esp+2Ch] [ebp-480h] BYREF
  void *v37; // [esp+30h] [ebp-47Ch] BYREF
  _DWORD *v38; // [esp+34h] [ebp-478h]
  int v39; // [esp+38h] [ebp-474h]
  unsigned __int8 *v40; // [esp+3Ch] [ebp-470h]
  struct _MMCKINFO v41; // [esp+40h] [ebp-46Ch] BYREF
  char pch[4]; // [esp+54h] [ebp-458h] BYREF
  int v43; // [esp+58h] [ebp-454h]
  int v44; // [esp+5Ch] [ebp-450h]
  int v45; // [esp+60h] [ebp-44Ch]
  __int16 v46; // [esp+64h] [ebp-448h]
  struct _MMCKINFO pmmcki; // [esp+68h] [ebp-444h] BYREF
  int v48[72]; // [esp+7Ch] [ebp-430h] BYREF
  CHAR pszFileName[260]; // [esp+19Ch] [ebp-310h] BYREF
  char String[260]; // [esp+2A0h] [ebp-20Ch] BYREF
  CHAR FileName[260]; // [esp+3A4h] [ebp-108h] BYREF

  v3 = 0;
  v38 = this;
  v40 = (unsigned __int8 *)String1;
  v39 = 0;
  v4 = fuClose;
  if ( fuClose >= 2 && fuClose <= 5 && aSe201[0] )
  {
    v5 = aSe201;
    while ( _strnicmp(String1, v5, strlen(v5)) )
    {
      ++v3;
      v5 = &aSe201[16 * v3];
      if ( !*v5 )
        goto LABEL_10;
    }
    v4 = 6;
    if ( !v3 )
      v4 = 7;
  }
LABEL_10:
  dword_4C0998[v4] = 0;
  memset(v48, 0, sizeof(v48));
  v6 = v38;
  sub_43BFD0(v38, v4);
  v38[v4 + 7] = 0;
  v6[v4 + 19] = 0;
  strcpy(String, String1);
  _strupr(String);
  if ( !_strnicmp(String, "VOICE\\", 6u) )
  {
    v48[65] = sub_4526A0(String1, FileName);
    if ( v48[65] )
    {
      v32 = (char *)Source;
      v31 = "VOICE.DAT";
    }
    else
    {
      v32 = ".PCM";
      v31 = String1;
    }
    sub_406D20(pszFileName, (int)Source, (int)v31, v32);
  }
  else
  {
    sub_406D20(pszFileName, (int)Source, (int)String1, ".PCM");
  }
  if ( !v48[65] && dword_4C0934[v4] )
    sub_43B8C0(v6, v4);
  if ( strstr(pszFileName, ".PCM") || strstr(pszFileName, "VOICE.DAT") )
  {
    v16 = 0;
    if ( !v4 && !v6[6] )
      v39 = 1;
    v33 = v39;
    v6[6] = 0;
    if ( !sub_452A40(pszFileName, (int)v48, v33) )
    {
      if ( !v4 )
      {
        v17 = 0;
        v6[4] = 0;
        if ( byte_4B4AD8 )
        {
          v18 = &byte_4B4AD8;
          while ( v38[5] )
          {
            if ( strstr(pszFileName, v18) )
            {
              v19 = HIWORD(v48[66]);
              v20 = 3 * v17;
              v21 = HIWORD(v48[69]);
              v20 *= 4;
              v38[4] = HIWORD(v48[69]) * HIWORD(v48[66]) * *(int *)((char *)&dword_4B4AE8 + 2 * v20) / 8;
              v16 = v21 * v19 * *(int *)((char *)&dword_4B4AEC + 2 * v20) / 8;
              v22 = v16;
              if ( v16 )
                goto LABEL_60;
              break;
            }
            v18 += 24;
            ++v17;
            if ( !*v18 )
              break;
          }
        }
      }
      v22 = v48[64];
LABEL_60:
      if ( *((_DWORD *)Buf + 272081) && v48[64] > 0x75300u )
      {
        v48[64] = 480000;
        v16 = 480000;
        v22 = 480000;
      }
      v23 = v38;
      dword_4C0A40 = v48[66];
      dword_4C0A44 = v48[67];
      dword_4C0A48 = v48[68];
      dword_4C0A4C = v48[69];
      word_4C0A50 = v48[70];
      if ( sub_43B030(dword_4C092C, v4, v22) )
      {
        switch ( v4 )
        {
          case 0:
            sub_43B6F0(v38, 0, *((_DWORD *)Buf + 15));
            break;
          case 2:
          case 3:
          case 4:
          case 5:
            v24 = Buf;
            if ( Buf )
            {
              v25 = v40;
              v26 = (char *)Buf + 32 * v4 + 21920;
              do
              {
                v27 = *v25;
                *v26++ = *v25++;
              }
              while ( v27 );
              v24 = Buf;
            }
            sub_43B6F0(v23, 1, v24[17]);
            break;
          case 6:
          case 7:
            sub_43B6F0(v38, 1, *((_DWORD *)Buf + 17));
            break;
          case 8:
          case 9:
          case 10:
          case 11:
            v28 = sub_40DDC0((char *)Buf, v40);
            sub_43B6F0(v38, 2, v28);
            sub_43B860(2, *((_DWORD *)Buf + 41) + 100);
            break;
          default:
            break;
        }
        v29 = v48[64];
        if ( v16 )
          v23[v4 + 7] = v16;
        else
          v23[v4 + 7] = v48[64];
        v23[v4 + 19] = v29;
        if ( v39 )
        {
          dword_4C09F8 = v16;
          if ( !v16 )
            dword_4C09F8 = v29;
          dword_4C0A5C = 0;
          sub_43BF80(0);
        }
        else
        {
          if ( !v4 )
            dword_4C0928 = 0;
          if ( !(*(int (__stdcall **)(int, _DWORD, _DWORD, void **, size_t *, void **, size_t *, _DWORD))(*(_DWORD *)dword_4C0934[v4] + 44))(
                  dword_4C0934[v4],
                  0,
                  v23[v4 + 7],
                  &v36,
                  &Size,
                  &v37,
                  &v35,
                  0) )
          {
            memcpy(v36, (const void *)v48[71], Size);
            v30 = v37;
            if ( v37 )
            {
              memcpy(v37, (const void *)(v48[71] + Size), v35);
              v30 = v37;
            }
            (*(void (__stdcall **)(int, void *, size_t, void *, size_t))(*(_DWORD *)dword_4C0934[v4] + 76))(
              dword_4C0934[v4],
              v36,
              Size,
              v30,
              v35);
            free((void *)v48[71]);
          }
        }
        return 1;
      }
      free((void *)v48[71]);
    }
    return 0;
  }
  if ( strstr(pszFileName, ".wav") )
  {
    v7 = dword_4C0934[v4];
    if ( v7 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v7 + 8))(dword_4C0934[v4]);
      dword_4C0934[v4] = 0;
    }
    v8 = mmioOpenA(pszFileName, 0, 0);
    hmmio = v8;
    if ( v8 )
    {
      pmmcki.fccType = 1163280727;
      if ( mmioDescend(v8, &pmmcki, 0, 0x20u) )
      {
        mmioClose(hmmio, 0);
        sub_40F510(aWave);
        return 0;
      }
      v41.ckid = 544501094;
      if ( mmioDescend(hmmio, &v41, &pmmcki, 0x10u) )
      {
        mmioClose(hmmio, 0);
        sub_40F510(aFmt);
        return 0;
      }
      v10 = mmioRead(hmmio, pch, v41.cksize);
      if ( v10 != v41.cksize )
      {
        mmioClose(hmmio, 0);
        sub_40F510(aWaveformatexe);
        return 0;
      }
      mmioAscend(hmmio, &v41, 0);
      v41.ckid = 1635017060;
      if ( mmioDescend(hmmio, &v41, &pmmcki, 0x10u) )
      {
        mmioClose(hmmio, 0);
        sub_40F510(aData);
        return 0;
      }
      if ( v4 )
      {
        v13 = (char *)operator new[](v41.cksize);
        if ( !v13 )
        {
          mmioClose(hmmio, 0);
          sub_40F510("DirectSound Memory Failed");
          return 0;
        }
        v14 = mmioRead(hmmio, v13, v41.cksize);
        if ( v14 != v41.cksize )
        {
          operator delete[](v13);
          mmioClose(hmmio, 0);
          sub_40F510("DirectSound Data Failed");
          return 0;
        }
        mmioClose(hmmio, 0);
        dword_4C0A40 = *(_DWORD *)pch;
        dword_4C0A48 = v44;
        dword_4C0A44 = v43;
        dword_4C0A4C = v45;
        word_4C0A50 = v46;
        if ( !sub_43B030(dword_4C092C, v4, v41.cksize) )
        {
          operator delete[](v13);
          return 0;
        }
        (*(void (__stdcall **)(int, _DWORD, DWORD, void **, size_t *, void **, size_t *, _DWORD))(*(_DWORD *)dword_4C0934[v4]
                                                                                                + 44))(
          dword_4C0934[v4],
          0,
          v41.cksize,
          &v36,
          &Size,
          &v37,
          &v35,
          0);
        memcpy(v36, v13, Size);
        v15 = v37;
        if ( v37 )
        {
          memcpy(v37, &v13[Size], v35);
          v15 = v37;
        }
        (*(void (__stdcall **)(int, void *, size_t, void *, size_t))(*(_DWORD *)dword_4C0934[v4] + 76))(
          dword_4C0934[v4],
          v36,
          Size,
          v15,
          v35);
        operator delete[](v13);
        return 1;
      }
      mmioClose(hmmio, 0);
      dword_4C0A40 = *(_DWORD *)pch;
      dword_4C0A48 = v44;
      dword_4C0A4C = v45;
      dword_4C0A44 = v43;
      word_4C0A50 = v46;
      if ( sub_43B030(dword_4C092C, 0, v41.cksize) )
      {
        dword_4C09F8 = v41.cksize;
        v11 = 0;
        do
        {
          v12 = pszFileName[v11];
          *(&byte_4C0A00 + v11++) = v12;
        }
        while ( v12 );
        dword_4C0A5C = 1;
        sub_43BF80(0);
        return 1;
      }
    }
    return 0;
  }
  return 1;
}
// 43BF80:  _DWORD __cdecl sub_43BF80(_DWORD)
// 4B4AE8:  int dword_4B4AE8
// 4B4AEC:  int dword_4B4AEC
// 4C0928:  int dword_4C0928
// 4C092C:  int dword_4C092C
// 4C0934:  int dword_4C0934[]
// 4C0998:  int dword_4C0998[12]
// 4C09F8:  int dword_4C09F8
// 4C0A40:  int dword_4C0A40
// 4C0A44:  int dword_4C0A44
// 4C0A48:  int dword_4C0A48
// 4C0A4C:  int dword_4C0A4C
// 4C0A50:  __int16 word_4C0A50
// 4C0A5C:  int dword_4C0A5C
// 43C5C0:  CHAR FileName[260]
// 43C5C0:  CHAR pszFileName[260]

//----- (0043CE50) --------------------------------------------------------
void *__thiscall sub_43CE50(_DWORD *this, void *Val)
{
  void *result; // eax
  int v3; // esi
  int v4; // edi

  result = Val;
  v3 = 0;
  v4 = 0;
  if ( Val )
  {
    if ( Val == (void *)1 )
    {
      v3 = 2;
      v4 = 5;
    }
    else if ( Val == (void *)2 )
    {
      v3 = 8;
      v4 = 11;
    }
  }
  else
  {
    result = memset(this + 151, 0, 0x110u);
    v4 = 1;
  }
  for ( ; v3 <= v4; ++v3 )
    result = (void *)sub_43BFD0(this, v3);
  return result;
}

//----- (0043CEC0) --------------------------------------------------------
void *__thiscall sub_43CEC0(DWORD *this, void *a2)
{
  void *result; // eax
  int v3; // esi
  int v4; // edi

  result = a2;
  v3 = 0;
  v4 = 0;
  if ( a2 )
  {
    if ( a2 == (void *)1 )
    {
      v3 = 2;
      v4 = 5;
    }
    else if ( a2 == (void *)2 )
    {
      v3 = 8;
      v4 = 11;
    }
  }
  else
  {
    result = Buf;
    if ( *((_DWORD *)Buf + 272089) )
    {
      if ( this[218] )
      {
        this[217] = 1;
        return result;
      }
      v3 = 0;
      v4 = 0;
    }
    else
    {
      result = (void *)sub_43C220(this, (int)this);
      v3 = 1;
      v4 = 1;
    }
  }
  for ( ; v3 <= v4; ++v3 )
    result = (void *)sub_43C2F0(this, v3);
  return result;
}

//----- (0043CF50) --------------------------------------------------------
void *__thiscall sub_43CF50(DWORD *this, void *a2)
{
  void *result; // eax
  int v3; // esi
  int v4; // edi

  result = a2;
  v3 = 0;
  v4 = 0;
  if ( a2 )
  {
    if ( a2 == (void *)1 )
    {
      v3 = 2;
      v4 = 5;
    }
    else if ( a2 == (void *)2 )
    {
      v3 = 8;
      v4 = 11;
    }
  }
  else
  {
    result = Buf;
    if ( *((_DWORD *)Buf + 272089) )
    {
      if ( this[218] )
      {
        this[217] = 1;
        return result;
      }
      v3 = 0;
      v4 = 0;
    }
    else
    {
      result = (void *)sub_43C220(this, (int)this);
      v3 = 1;
      v4 = 1;
    }
  }
  for ( ; v3 <= v4; ++v3 )
  {
    result = (void *)sub_43AFF0(this, v3);
    if ( result )
      result = (void *)sub_43C2F0(this, v3);
  }
  return result;
}

//----- (0043CFE0) --------------------------------------------------------
int __thiscall sub_43CFE0(_DWORD *this, char *String1, int a3, int *a4)
{
  int v4; // edi
  int v5; // ebx
  char *v6; // ecx

  v4 = 0;
  v5 = sub_43B5A0(this, a3);
  if ( a3 == 1 && aSe201[0] )
  {
    v6 = aSe201;
    while ( _strnicmp(String1, v6, strlen(v6)) )
    {
      ++v4;
      v6 = &aSe201[16 * v4];
      if ( !*v6 )
        goto LABEL_9;
    }
    v5 = 6;
    if ( !v4 )
      v5 = 7;
  }
LABEL_9:
  *a4 = v5;
  return sub_43C5C0(this, String1, v5);
}

//----- (0043D070) --------------------------------------------------------
void __thiscall sub_43D070(DWORD *this, unsigned __int8 *String, int Val, DWORD a4)
{
  int i; // edi
  int j; // edi
  int v7; // [esp+8h] [ebp-10Ch] BYREF
  char Str[260]; // [esp+Ch] [ebp-108h] BYREF

  if ( !*String )
    return;
  strcpy(Str, (const char *)String);
  if ( !this[Val + 1] )
    return;
  if ( Val == 2 )
  {
    if ( !sub_40DC20((const char *)Buf, String) )
      return;
    if ( strstr(Str, "silent") )
    {
      for ( i = 8; i <= 11; ++i )
      {
        if ( sub_43C5C0(this, Str, i) )
          sub_43ADC0(this, a4, i);
      }
    }
    goto LABEL_17;
  }
  if ( !Val )
  {
    if ( sub_43B920(this, 0) )
    {
      if ( *((_DWORD *)Buf + 272089) )
      {
        memset(this + 151, 0, 0x110u);
        strcpy((char *)this + 604, Str);
        sub_43CEC0(this, 0);
        this[218] = 1;
        this[216] = a4;
        return;
      }
      sub_43CEC0(this, 0);
    }
    this[5] = a4;
    goto LABEL_17;
  }
  if ( Val != 1 )
    goto LABEL_17;
  if ( strstr(Str, "silent") )
  {
    for ( j = 2; j <= 7; ++j )
    {
      if ( sub_43C5C0(this, Str, j) )
        sub_43ADC0(this, a4, j);
    }
  }
  if ( !a4 )
  {
LABEL_17:
    if ( sub_43CFE0(this, Str, Val, &v7) )
    {
      if ( v7 )
        sub_43ADC0(this, a4, v7);
      else
        sub_43ADC0(this, 0, 0);
    }
    return;
  }
  if ( sub_43C5C0(this, Str, 2) )
    sub_43ADC0(this, a4, 2);
}

//----- (0043D240) --------------------------------------------------------
void __thiscall sub_43D240(int this)
{
  DWORD *v1; // esi
  int v3; // edi
  int v4; // esi
  double v5; // st7
  double v6; // st7
  float v7; // [esp+10h] [ebp-8h]
  float v8; // [esp+10h] [ebp-8h]
  float v9; // [esp+10h] [ebp-8h]
  float v10; // [esp+14h] [ebp-4h]
  float v11; // [esp+14h] [ebp-4h]
  float v12; // [esp+14h] [ebp-4h]

  v3 = 0;
  v4 = this + 132;
  do
  {
    if ( *(_DWORD *)(v4 + 8) )
    {
      v7 = *(float *)v4 + *(float *)(v4 - 8);
      v5 = v7;
      v10 = v7;
      *(float *)(v4 - 8) = v7;
      v8 = fabs(*(float *)v4);
      if ( *(float *)(v4 - 4) >= v5 - v8 && *(float *)(v4 - 4) <= v8 + v10 )
        *(float *)(v4 - 8) = *(float *)(v4 - 4);
      if ( *(float *)(v4 - 4) == *(float *)(v4 - 8) || 0.0 == *(float *)v4 )
      {
        *(_DWORD *)(v4 + 8) = 0;
        if ( !*(_DWORD *)(v4 + 4) )
        {
          sub_43BFD0((_DWORD *)this, v3);
          goto LABEL_19;
        }
      }
      sub_43AE20((_DWORD *)this, v3, (int)*(float *)(v4 - 8), 1);
    }
    if ( *(_DWORD *)(v4 + 248) )
    {
      v11 = *(float *)(v4 + 232) + *(float *)(v4 + 240);
      v6 = v11;
      v9 = v11;
      *(float *)(v4 + 232) = v11;
      v12 = fabs(*(float *)(v4 + 240));
      if ( *(float *)(v4 + 236) >= v6 - v12 && *(float *)(v4 + 236) <= v12 + v9 )
        *(float *)(v4 + 232) = *(float *)(v4 + 236);
      if ( *(float *)(v4 + 236) == *(float *)(v4 + 232) || 0.0 == *(float *)(v4 + 240) )
        *(_DWORD *)(v4 + 248) = 0;
      sub_43AE50(v3, (int)*(float *)(v4 + 232));
    }
LABEL_19:
    ++v3;
    v4 += 20;
  }
  while ( v3 < 12 );
  if ( *(_DWORD *)(this + 872) && *((_DWORD *)Buf + 272089) )
  {
    if ( !sub_43B920((_DWORD *)this, 0) )
    {
      sub_43D070((DWORD *)this, (unsigned __int8 *)(this + 604), 0, *(_DWORD *)(this + 864));
      if ( *(_DWORD *)(this + 868) )
      {
        *(_DWORD *)(this + 872) = 0;
        sub_43CEC0((DWORD *)this, 0);
      }
      memset((void *)(this + 604), 0, 0x110u);
    }
  }
  else
  {
    v1 = (DWORD *)dword_4C08F4;
    if ( (!*((_DWORD *)dword_4C08F4 + 218) || !*((_DWORD *)Buf + 272089))
      && dword_4C0934[0]
      && !sub_43AF70(dword_4C08F4, 0)
      && dword_4C0928 != 1
      && v1[5] )
    {
      (*(void (__cdecl **)(int, DWORD))(*(_DWORD *)dword_4C0934[0] + 52))(dword_4C0934[0], v1[4]);
      sub_43ADC0(v1, 0, 0);
    }
  }
}
// 4C0928:  int dword_4C0928
// 4C0934:  int dword_4C0934[]

//----- (0043D430) --------------------------------------------------------
int __thiscall sub_43D430(_DWORD *this)
{
  return this[9];
}

//----- (0043D440) --------------------------------------------------------
int __thiscall sub_43D440(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[11] = a2;
  return result;
}

//----- (0043D450) --------------------------------------------------------
int __thiscall sub_43D450(_DWORD *this, int a2)
{
  int result; // eax

  result = 2 * a2 + 8;
  this[28] = result;
  if ( result <= 0 )
    this[28] = 8;
  return result;
}

//----- (0043D470) --------------------------------------------------------
int __thiscall sub_43D470(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[32] = a2;
  return result;
}

//----- (0043D480) --------------------------------------------------------
float *__thiscall sub_43D480(float *this, float *a2, float *a3)
{
  float *result; // eax

  result = a2;
  *a2 = this[16];
  *a3 = this[17];
  return result;
}

//----- (0043D4A0) --------------------------------------------------------
int __thiscall sub_43D4A0(_DWORD *this)
{
  return this[31] / 2;
}

//----- (0043D4B0) --------------------------------------------------------
int __thiscall sub_43D4B0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[41] = a2;
  return result;
}

//----- (0043D4C0) --------------------------------------------------------
int __thiscall sub_43D4C0(_DWORD *this, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4)
{
  int result; // eax

  result = a4 | ((a3 | (a2 << 8)) << 8);
  this[18] = result;
  return result;
}

//----- (0043D4E0) --------------------------------------------------------
unsigned int __thiscall sub_43D4E0(
        _DWORD *this,
        int a2,
        int a3,
        HDC hdc,
        struct tagTEXTMETRICA tm,
        HGDIOBJ h,
        int a7,
        int a8,
        const char *a9,
        int a10,
        int a11,
        int a12,
        const char *a13)
{
  unsigned int v13; // esi
  int v14; // ebx
  int v15; // ebp
  unsigned int result; // eax
  bool v17; // zf
  void (__stdcall *v18)(HDC, HGDIOBJ); // esi
  HDC DC; // edi
  unsigned __int16 v20; // si
  const char *v21; // ecx
  int v22; // eax
  char v23; // al
  HGDIOBJ v24; // eax
  HGDIOBJ v25; // edx
  DWORD GlyphOutlineA; // ebp
  _DWORD *v27; // edi
  int v28; // ebx
  int *v29; // ebp
  int v30; // ecx
  int v31; // ebx
  int v32; // eax
  unsigned int v33; // ebp
  int v34; // esi
  int v35; // ecx
  int v36; // edi
  int v37; // ebx
  int v38; // ecx
  int v39; // esi
  unsigned int *v40; // ecx
  UINT v41; // eax
  unsigned __int8 v42; // [esp+12h] [ebp-6Ah]
  unsigned __int8 v43; // [esp+13h] [ebp-69h]
  char v44; // [esp+14h] [ebp-68h]
  unsigned __int8 v45; // [esp+14h] [ebp-68h]
  unsigned __int8 v46; // [esp+15h] [ebp-67h]
  unsigned __int8 v47; // [esp+15h] [ebp-67h]
  unsigned __int8 v48; // [esp+16h] [ebp-66h]
  char v49; // [esp+16h] [ebp-66h]
  unsigned __int8 v50; // [esp+17h] [ebp-65h]
  char String[4]; // [esp+18h] [ebp-64h] BYREF
  const char *v52; // [esp+1Ch] [ebp-60h]
  UINT v53; // [esp+20h] [ebp-5Ch]
  UINT v54; // [esp+24h] [ebp-58h]
  int v55; // [esp+28h] [ebp-54h]
  int i; // [esp+2Ch] [ebp-50h]
  _DWORD *v57; // [esp+30h] [ebp-4Ch]
  int v58; // [esp+34h] [ebp-48h]
  unsigned __int8 *v59; // [esp+38h] [ebp-44h]
  HGLOBAL hMem; // [esp+3Ch] [ebp-40h]
  unsigned int v61; // [esp+40h] [ebp-3Ch]
  int v62; // [esp+44h] [ebp-38h]
  int v63; // [esp+48h] [ebp-34h]
  int v64; // [esp+4Ch] [ebp-30h]
  int v65; // [esp+50h] [ebp-2Ch]
  int *v66; // [esp+54h] [ebp-28h]
  MAT2 mat2; // [esp+58h] [ebp-24h] BYREF
  struct _GLYPHMETRICS gm; // [esp+68h] [ebp-14h] BYREF

  v13 = 0;
  v14 = (int)this;
  v57 = this;
  v61 = 0;
  v62 = 0;
  if ( a9 )
  {
    v13 = (strlen(a9) - 2) >> 1;
    v62 = v13;
  }
  v15 = a11;
  if ( a13 )
  {
    v61 = (strlen(a13) - 2) >> 1;
    result = a11 * v13;
    if ( (int)(22 * v61) < (int)(a11 * v13) && !a12 )
    {
      result = (int)(result - 22 * v61) / -2;
      a2 += result;
    }
    if ( a2 < 0 )
      a2 = 0;
  }
  else
  {
    result = a12;
    if ( a12 > 0 )
    {
      result = (int)(a12 - a11 * v13) / 2;
      a2 += result;
    }
  }
  v17 = *a9 == 0;
  v52 = a9;
  if ( !v17 )
  {
    v18 = (void (__stdcall *)(HDC, HGDIOBJ))SelectObject;
    DC = hdc;
    do
    {
      if ( _ismbclegal(*((unsigned __int8 *)v52 + 1) | (*(unsigned __int8 *)v52 << 8)) )
      {
        v20 = *((unsigned __int8 *)v52 + 1) | (unsigned __int16)(*v52 << 8);
        v52 += 2;
        v55 = v15;
LABEL_48:
        memset(&mat2.eM12, 0, 10);
        mat2.eM11.value = 1;
        mat2.eM11.fract = 0;
        mat2.eM22.value = 1;
        GlyphOutlineA = GetGlyphOutlineA(DC, v20, *(_DWORD *)(v14 + 96), &gm, 0, 0, &mat2);
        result = (unsigned int)GlobalAlloc(0x40u, GlyphOutlineA);
        hMem = (HGLOBAL)result;
        if ( result )
        {
          GetGlyphOutlineA(DC, v20, *(_DWORD *)(v14 + 96), &gm, GlyphOutlineA, (LPVOID)result, &mat2);
          v65 = (LOWORD(gm.gmBlackBoxX) + 3) & 0xFFFC;
          if ( a13 )
          {
            v55 = (int)(22 * v61) / v62;
            if ( v55 < a11 )
              v55 = a11;
          }
          v54 = 0;
          if ( gm.gmBlackBoxY )
          {
            v59 = (unsigned __int8 *)hMem;
            do
            {
              v53 = 0;
              if ( gm.gmBlackBoxX )
              {
                v27 = v57;
                do
                {
                  v28 = v27[18];
                  v46 = 255 * v59[v53] / v27[25];
                  v29 = (int *)(a8
                              + 4
                              * (a2
                               + v53
                               + gm.gmptGlyphOrigin.x
                               + a7 / 4 * (a3 + v54 + tm.tmAscent - gm.gmptGlyphOrigin.y)
                               + (v55 - gm.gmCellIncX) / 2));
                  v48 = HIBYTE(*v29);
                  v44 = BYTE2(*v29);
                  v50 = BYTE1(*v29);
                  v42 = BYTE1(v27[19]);
                  v30 = v28 >> 16;
                  v31 = v28 >> 8;
                  v32 = (int)v27[19] >> 16;
                  v66 = v29;
                  v43 = v46;
                  if ( v46 )
                  {
                    v63 = (unsigned __int8)v32;
                    v33 = v46;
                    v34 = 255 - v46;
                    v49 = -(char)(v34 * v32 + v46 * v30);
                    v35 = v46 * *((unsigned __int8 *)v27 + 72);
                    v45 = -(char)(v34 * v42 + v46 * v31);
                    v64 = *((unsigned __int8 *)v27 + 76);
                    v47 = (v34 * v64 + v35) / 255;
                    if ( v27[41] )
                    {
                      v43 = -1;
                      for ( i = 0; i < 9; ++i )
                      {
                        switch ( i )
                        {
                          case 0:
                            v36 = -1;
                            v37 = -1;
                            goto LABEL_69;
                          case 1:
                            v36 = 0;
                            v37 = -1;
                            goto LABEL_69;
                          case 2:
                            v36 = 1;
                            v37 = -1;
                            goto LABEL_69;
                          case 3:
                            v36 = -1;
                            v37 = 0;
                            goto LABEL_69;
                          case 4:
                            v36 = 0;
                            v37 = 0;
                            goto LABEL_69;
                          case 5:
                            v36 = 1;
                            v37 = 0;
                            goto LABEL_69;
                          case 6:
                            v36 = -1;
                            v37 = 1;
                            goto LABEL_69;
                          case 7:
                            v36 = 0;
                            v37 = 1;
                            goto LABEL_69;
                          case 8:
                            v36 = 1;
                            v37 = 1;
LABEL_69:
                            if ( (v53 || v36 != -1) && (v54 || v37 != -1) )
                            {
                              if ( v53 >= gm.gmBlackBoxX - 1 && v36 == 1 || v54 >= gm.gmBlackBoxY - 1 && v37 == 1 )
                                v58 = 0;
                              else
                                v58 = 255 * *((unsigned __int8 *)hMem + v53 + v36 + v65 * (v37 + v54)) / v57[25];
                            }
                            else
                            {
                              v58 = 0;
                            }
                            v38 = a2 + v53 + gm.gmptGlyphOrigin.x + v36 + (v55 - gm.gmCellIncX) / 2;
                            v39 = a3 + v54 + tm.tmAscent + v37 - gm.gmptGlyphOrigin.y;
                            if ( (v53 || v36 != -1 || a2) && (v54 || v37 != -1 || a3) && (v38 >= 0 || v39) && v39 >= 0 )
                            {
                              v40 = (unsigned int *)(a8 + 4 * (v38 + v39 * (a7 / 4)));
                              if ( !v58 )
                              {
                                if ( HIBYTE(*v40) <= v33 )
                                  *v40 = v64 | ((v42 | ((v63 | (v33 << 8)) << 8)) << 8);
                                else
                                  *v40 = v64 | *v40 & 0xFF000000 | ((v42 | (v63 << 8)) << 8);
                              }
                            }
                            break;
                          default:
                            continue;
                        }
                      }
                      v27 = v57;
                    }
                    LOBYTE(v30) = v49;
                  }
                  else if ( v48 )
                  {
                    LOBYTE(v30) = v44;
                    v43 = v48;
                    v45 = v50;
                    v47 = *(_BYTE *)v29;
                  }
                  else
                  {
                    v45 = v31;
                    v47 = *((_BYTE *)v27 + 72);
                  }
                  v41 = v53 + 1;
                  *v66 = v47 | ((v45 | (((unsigned __int8)v30 | (v43 << 8)) << 8)) << 8);
                  v53 = v41;
                }
                while ( v41 < gm.gmBlackBoxX );
              }
              v59 += v65;
              ++v54;
            }
            while ( v54 < gm.gmBlackBoxY );
          }
          a2 += v55;
          result = (unsigned int)GlobalFree(hMem);
          DC = hdc;
          v14 = (int)v57;
        }
        v18 = (void (__stdcall *)(HDC, HGDIOBJ))SelectObject;
        v15 = a11;
        continue;
      }
      v21 = v52;
      if ( *v52 != 64 )
      {
        v20 = *(unsigned __int8 *)v52++;
        v55 = v15 / 2;
        goto LABEL_48;
      }
      if ( v52[1] == 99 )
      {
        if ( v52[2] == 114 )
        {
          sub_43D4C0((_DWORD *)v14, 0xFFu, 0, 0);
          v21 = v52;
        }
        if ( v21[2] == 103 )
        {
          sub_43D4C0((_DWORD *)v14, 0, 0xFFu, 0);
          v21 = v52;
        }
        if ( v21[2] == 98 )
        {
          sub_43D4C0((_DWORD *)v14, 0, 0, 0xFFu);
          v21 = v52;
        }
        if ( v21[2] == 119 )
        {
          sub_43D4C0((_DWORD *)v14, 0xFFu, 0xFFu, 0xFFu);
          v21 = v52;
        }
        if ( v21[2] == 98 )
          sub_43D4C0((_DWORD *)v14, 0, 0, 0);
        result = isdigit(*((unsigned __int8 *)v52 + 2));
        if ( result )
        {
          String[0] = v52[2];
          String[1] = 0;
          v22 = atoi(String);
          result = sub_43D4C0((_DWORD *)v14, byte_4B31B1[4 * v22], byte_4B31B0[4 * v22], byte_4B31B2[4 * v22]);
        }
        v52 += 3;
        continue;
      }
      v18(DC, h);
      ReleaseDC(hWnd, DC);
      DC = GetDC(hWnd);
      v23 = v52[1];
      hdc = DC;
      switch ( v23 )
      {
        case 'l':
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, *(HGDIOBJ *)(v14 + 24));
          v15 = 32;
          break;
        case 's':
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, *(HGDIOBJ *)(v14 + 12));
          v15 = 20;
          break;
        case 'i':
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, *(HGDIOBJ *)(v14 + 16));
          v15 = 18;
          break;
        case 'r':
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, *(HGDIOBJ *)(v14 + 20));
          v15 = 12;
          break;
        case 'w':
          v25 = *(HGDIOBJ *)(v14 + 8);
LABEL_45:
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, v25);
          v15 = 22;
          break;
        case 'y':
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, *(HGDIOBJ *)(v14 + 28));
          v15 = 16;
          break;
        case 'z':
          v24 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v18)(DC, *(HGDIOBJ *)(v14 + 32));
          v15 = 10;
          break;
        default:
          v25 = *(HGDIOBJ *)(v14 + 4);
          goto LABEL_45;
      }
      h = v24;
      a11 = v15;
      result = GetTextMetricsA(DC, &tm);
      v52 += 2;
    }
    while ( *v52 );
  }
  return result;
}

//----- (0043DD00) --------------------------------------------------------
unsigned int __thiscall sub_43DD00(
        _DWORD *this,
        int a2,
        int a3,
        HDC hdc,
        struct tagTEXTMETRICA tm,
        HGDIOBJ h,
        int a7,
        int a8,
        const unsigned __int16 *a9,
        int a10,
        int a11,
        int a12,
        _WORD *a13)
{
  unsigned int v13; // edx
  _DWORD *v14; // ebx
  _WORD *v15; // eax
  int v16; // ebp
  unsigned int result; // eax
  void (__stdcall *v19)(HDC, HGDIOBJ); // esi
  HDC DC; // edi
  unsigned __int16 v21; // si
  const unsigned __int16 *v22; // ecx
  int v23; // eax
  unsigned __int16 v24; // ax
  HGDIOBJ v25; // eax
  HGDIOBJ v26; // edx
  DWORD GlyphOutlineW; // ebp
  _DWORD *v28; // edi
  int v29; // ebx
  int *v30; // ebp
  int v31; // ecx
  int v32; // ebx
  int v33; // eax
  unsigned int v34; // ebp
  int v35; // esi
  int v36; // ecx
  int v37; // edi
  int v38; // ebx
  int v39; // ecx
  int v40; // esi
  unsigned int *v41; // ecx
  unsigned __int8 v42; // [esp+12h] [ebp-6Ah]
  unsigned __int8 v43; // [esp+13h] [ebp-69h]
  char v44; // [esp+14h] [ebp-68h]
  unsigned __int8 v45; // [esp+14h] [ebp-68h]
  unsigned __int8 v46; // [esp+15h] [ebp-67h]
  unsigned __int8 v47; // [esp+15h] [ebp-67h]
  unsigned __int8 v48; // [esp+16h] [ebp-66h]
  char v49; // [esp+16h] [ebp-66h]
  unsigned __int8 v50; // [esp+17h] [ebp-65h]
  const unsigned __int16 *v51; // [esp+18h] [ebp-64h]
  UINT v52; // [esp+1Ch] [ebp-60h]
  UINT v53; // [esp+20h] [ebp-5Ch]
  int v54; // [esp+24h] [ebp-58h]
  int i; // [esp+28h] [ebp-54h]
  int v57; // [esp+30h] [ebp-4Ch]
  unsigned __int8 *v58; // [esp+34h] [ebp-48h]
  unsigned __int8 *hMem; // [esp+38h] [ebp-44h]
  wchar_t String[2]; // [esp+3Ch] [ebp-40h] BYREF
  unsigned int v61; // [esp+40h] [ebp-3Ch]
  int v62; // [esp+44h] [ebp-38h]
  int v63; // [esp+48h] [ebp-34h]
  int v64; // [esp+4Ch] [ebp-30h]
  int v65; // [esp+50h] [ebp-2Ch]
  int *v66; // [esp+54h] [ebp-28h]
  MAT2 mat2; // [esp+58h] [ebp-24h] BYREF
  struct _GLYPHMETRICS gm; // [esp+68h] [ebp-14h] BYREF

  v13 = 0;
  v14 = this;
  v61 = 0;
  v62 = 0;
  if ( a9 )
  {
    v13 = (wcslen(a9) - 2) >> 1;
    v62 = v13;
  }
  v15 = a13;
  v16 = a11;
  if ( a13 )
  {
    while ( *v15++ )
      ;
    v61 = (unsigned int)(v15 - (a13 + 1) - 2) >> 1;
    result = a11 * v13;
    if ( (int)(22 * v61) < (int)(a11 * v13) && !a12 )
    {
      result = (int)(result - 22 * v61) / -2;
      a2 += result;
    }
    if ( a2 < 0 )
      a2 = 0;
  }
  else
  {
    result = a12;
    if ( a12 > 0 )
    {
      result = (int)(a12 - a11 * v13) / 2;
      a2 += result;
    }
  }
  v51 = a9;
  if ( *a9 )
  {
    v19 = (void (__stdcall *)(HDC, HGDIOBJ))SelectObject;
    DC = hdc;
    do
    {
      if ( _ismbclegal(*((unsigned __int8 *)v51 + 2) | (*(unsigned __int8 *)v51 << 8)) )
      {
        v21 = (unsigned __int8)v51[1] | (unsigned __int16)(*v51 << 8);
        v51 += 2;
        v54 = v16;
LABEL_49:
        memset(&mat2.eM12, 0, 10);
        mat2.eM11.value = 1;
        mat2.eM11.fract = 0;
        mat2.eM22.value = 1;
        GlyphOutlineW = GetGlyphOutlineW(DC, v21, v14[24], &gm, 0, 0, &mat2);
        result = (unsigned int)GlobalAlloc(0x40u, GlyphOutlineW);
        hMem = (unsigned __int8 *)result;
        if ( result )
        {
          GetGlyphOutlineW(DC, v21, v14[24], &gm, GlyphOutlineW, (LPVOID)result, &mat2);
          v65 = (LOWORD(gm.gmBlackBoxX) + 3) & 0xFFFC;
          if ( a13 )
          {
            v54 = (int)(22 * v61) / v62;
            if ( v54 < a11 )
              v54 = a11;
          }
          v53 = 0;
          if ( gm.gmBlackBoxY )
          {
            v58 = hMem;
            do
            {
              v52 = 0;
              if ( gm.gmBlackBoxX )
              {
                v28 = this;
                do
                {
                  v29 = v28[18];
                  v46 = 255 * v58[v52] / v28[25];
                  v30 = (int *)(a8
                              + 4
                              * (a2
                               + v52
                               + gm.gmptGlyphOrigin.x
                               + a7 / 4 * (a3 + v53 + tm.tmAscent - gm.gmptGlyphOrigin.y)
                               + (v54 - gm.gmCellIncX) / 2));
                  v48 = HIBYTE(*v30);
                  v44 = BYTE2(*v30);
                  v50 = BYTE1(*v30);
                  v42 = BYTE1(v28[19]);
                  v31 = v29 >> 16;
                  v32 = v29 >> 8;
                  v33 = (int)v28[19] >> 16;
                  v66 = v30;
                  v43 = v46;
                  if ( v46 )
                  {
                    v63 = (unsigned __int8)v33;
                    v34 = v46;
                    v35 = 255 - v46;
                    v49 = -(char)(v35 * v33 + v46 * v31);
                    v36 = v46 * *((unsigned __int8 *)v28 + 72);
                    v45 = -(char)(v35 * v42 + v46 * v32);
                    v64 = *((unsigned __int8 *)v28 + 76);
                    v47 = (v35 * v64 + v36) / 255;
                    if ( v28[41] )
                    {
                      v43 = -1;
                      for ( i = 0; i < 9; ++i )
                      {
                        switch ( i )
                        {
                          case 0:
                            v37 = -1;
                            v38 = -1;
                            goto LABEL_70;
                          case 1:
                            v37 = 0;
                            v38 = -1;
                            goto LABEL_70;
                          case 2:
                            v37 = 1;
                            v38 = -1;
                            goto LABEL_70;
                          case 3:
                            v37 = -1;
                            v38 = 0;
                            goto LABEL_70;
                          case 4:
                            v37 = 0;
                            v38 = 0;
                            goto LABEL_70;
                          case 5:
                            v37 = 1;
                            v38 = 0;
                            goto LABEL_70;
                          case 6:
                            v37 = -1;
                            v38 = 1;
                            goto LABEL_70;
                          case 7:
                            v37 = 0;
                            v38 = 1;
                            goto LABEL_70;
                          case 8:
                            v37 = 1;
                            v38 = 1;
LABEL_70:
                            if ( (v52 || v37 != -1) && (v53 || v38 != -1) )
                            {
                              if ( v52 >= gm.gmBlackBoxX - 1 && v37 == 1 || v53 >= gm.gmBlackBoxY - 1 && v38 == 1 )
                                v57 = 0;
                              else
                                v57 = 255 * hMem[v52 + v37 + v65 * (v38 + v53)] / this[25];
                            }
                            else
                            {
                              v57 = 0;
                            }
                            v39 = a2 + v52 + gm.gmptGlyphOrigin.x + v37 + (v54 - gm.gmCellIncX) / 2;
                            v40 = a3 + v53 + tm.tmAscent + v38 - gm.gmptGlyphOrigin.y;
                            if ( (v52 || v37 != -1 || a2) && (v53 || v38 != -1 || a3) && (v39 >= 0 || v40) && v40 >= 0 )
                            {
                              v41 = (unsigned int *)(a8 + 4 * (v39 + v40 * (a7 / 4)));
                              if ( !v57 )
                              {
                                if ( HIBYTE(*v41) <= v34 )
                                  *v41 = v64 | ((v42 | ((v63 | (v34 << 8)) << 8)) << 8);
                                else
                                  *v41 = v64 | *v41 & 0xFF000000 | ((v42 | (v63 << 8)) << 8);
                              }
                            }
                            break;
                          default:
                            continue;
                        }
                      }
                      v28 = this;
                    }
                    LOBYTE(v31) = v49;
                  }
                  else if ( v48 )
                  {
                    LOBYTE(v31) = v44;
                    v43 = v48;
                    v45 = v50;
                    v47 = *(_BYTE *)v30;
                  }
                  else
                  {
                    v45 = v32;
                    v47 = *((_BYTE *)v28 + 72);
                  }
                  *v66 = v47 | ((v45 | (((unsigned __int8)v31 | (v43 << 8)) << 8)) << 8);
                  ++v52;
                }
                while ( v52 < gm.gmBlackBoxX );
              }
              v58 += v65;
              ++v53;
            }
            while ( v53 < gm.gmBlackBoxY );
          }
          a2 += v54;
          result = (unsigned int)GlobalFree(hMem);
          v14 = this;
          DC = hdc;
        }
        v16 = a11;
        v19 = (void (__stdcall *)(HDC, HGDIOBJ))SelectObject;
        continue;
      }
      v22 = v51;
      if ( *v51 != 64 )
      {
        v21 = (unsigned __int8)*v51++;
        v54 = v16 / 2;
        goto LABEL_49;
      }
      if ( v51[1] == 99 )
      {
        if ( v51[2] == 114 )
        {
          sub_43D4C0(v14, 0xFFu, 0, 0);
          v22 = v51;
        }
        if ( v22[2] == 103 )
        {
          sub_43D4C0(v14, 0, 0xFFu, 0);
          v22 = v51;
        }
        if ( v22[2] == 98 )
        {
          sub_43D4C0(v14, 0, 0, 0xFFu);
          v22 = v51;
        }
        if ( v22[2] == 119 )
        {
          sub_43D4C0(v14, 0xFFu, 0xFFu, 0xFFu);
          v22 = v51;
        }
        if ( v22[2] == 98 )
          sub_43D4C0(v14, 0, 0, 0);
        result = isdigit(*((unsigned __int8 *)v51 + 4));
        if ( result )
        {
          String[0] = v51[2];
          String[1] = 0;
          v23 = _wtoi(String);
          result = sub_43D4C0(v14, byte_4B31B1[4 * v23], byte_4B31B0[4 * v23], byte_4B31B2[4 * v23]);
        }
        v51 += 3;
        continue;
      }
      v19(DC, h);
      ReleaseDC(hWnd, DC);
      DC = GetDC(hWnd);
      v24 = v51[1];
      hdc = DC;
      switch ( v24 )
      {
        case 'l':
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, (HGDIOBJ)v14[6]);
          v16 = 32;
          break;
        case 's':
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, (HGDIOBJ)v14[3]);
          v16 = 20;
          break;
        case 'i':
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, (HGDIOBJ)v14[4]);
          v16 = 18;
          break;
        case 'r':
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, (HGDIOBJ)v14[5]);
          v16 = 12;
          break;
        case 'w':
          v26 = (HGDIOBJ)v14[2];
LABEL_46:
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, v26);
          v16 = 22;
          break;
        case 'y':
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, (HGDIOBJ)v14[7]);
          v16 = 16;
          break;
        case 'z':
          v25 = ((HGDIOBJ (__stdcall *)(HDC, HGDIOBJ))v19)(DC, (HGDIOBJ)v14[8]);
          v16 = 10;
          break;
        default:
          v26 = (HGDIOBJ)v14[1];
          goto LABEL_46;
      }
      h = v25;
      a11 = v16;
      result = GetTextMetricsA(DC, &tm);
      v51 += 2;
    }
    while ( *v51 );
  }
  return result;
}

//----- (0043E550) --------------------------------------------------------
int __userpurge sub_43E550@<eax>(int a1@<ebx>, int a2@<edi>, int a3, int a4, int a5, int a6, int a7)
{
  int *v7; // esi
  int v9; // eax
  int v10; // edi
  int v11; // ebx
  int v12; // esi
  size_t v13; // ebp
  int v16[3]; // [esp+24h] [ebp-14h] BYREF
  int v17; // [esp+30h] [ebp-8h] BYREF
  void *v18; // [esp+34h] [ebp-4h]
  void *retaddr; // [esp+38h] [ebp+0h]

  v7 = (int *)a5;
  if ( !*(_DWORD *)a5 )
    return 0;
  if ( *(_DWORD *)(a5 + 4) )
  {
    sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(a5 + 4));
    v7[1] = 0;
  }
  sub_44B090(*((int **)dword_4C0874 + 63), v16, &a5, *v7);
  v9 = sub_44C200(*((int **)dword_4C0874 + 63), v16[0], a5, 1);
  v7[1] = v9;
  if ( !v9 )
    return 0;
  v10 = sub_44B000(*((int **)dword_4C0874 + 63), *v7);
  v11 = sub_44B000(*((int **)dword_4C0874 + 63), v7[1]);
  if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD, int, int))(*(_DWORD *)v10 + 76))(
         v10,
         0,
         &v17,
         0,
         0,
         a2,
         a1) < 0
    || (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v11 + 76))(v11, 0, &v17, 0, 0) < 0 )
  {
    (*(void (**)(void))(*(_DWORD *)v10 + 80))();
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v11 + 80))(v11, 0);
    return 0;
  }
  else
  {
    memset(v18, 0, a7 * v17);
    v12 = 0;
    if ( a6 > 0 )
    {
      v13 = 4 * a5;
      do
      {
        memcpy((char *)v18 + v17 * v12, (const void *)(a3 + v12 * (_DWORD)retaddr), v13);
        ++v12;
      }
      while ( v12 < a6 );
    }
    (*(void (**)(void))(*(_DWORD *)v10 + 80))();
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v11 + 80))(v11, 0);
    return 1;
  }
}
// 43E550: could not find valid save-restore pair for ebx
// 43E550: could not find valid save-restore pair for edi
// 43E550:  int var_14[3]

//----- (0043E6C0) --------------------------------------------------------
char *__thiscall sub_43E6C0(int this, char **a2, char *Str)
{
  char *v3; // esi
  bool v4; // zf
  int v6; // eax
  int v7; // edi
  char *v8; // ebx
  const char *v9; // esi
  const char *i; // esi
  char v11; // al
  int v12; // eax
  int *v13; // edi
  int v14; // ecx
  char *v15; // eax
  int v16; // edx
  char v17; // cl
  int v18; // eax
  int v19; // esi
  int (__stdcall *v20)(int, _DWORD, int *, _DWORD, _DWORD); // edx
  HDC DC; // ebx
  HGDIOBJ v23; // edi
  int v24; // eax
  HGDIOBJ v25; // eax
  char *v26; // eax
  int v27; // edx
  char v28; // cl
  char *v29; // esi
  int v30; // edi
  char *v31; // esi
  char v32; // dl
  int v33; // eax
  int v34; // ecx
  unsigned __int16 v35; // di
  int v36; // eax
  char v37; // dl
  int v38; // eax
  int v39; // eax
  char v40; // al
  int v41; // eax
  void *v42; // edx
  DWORD GlyphOutlineA; // esi
  HGLOBAL v44; // eax
  int v45; // edx
  int v46; // ebx
  int v47; // esi
  int *v48; // edi
  int v49; // eax
  int v50; // ecx
  int v51; // ebx
  int v52; // eax
  unsigned int v53; // edi
  int v54; // esi
  int v55; // ecx
  int v56; // ebx
  int v57; // ecx
  int v58; // ecx
  int v59; // esi
  unsigned int *v60; // ecx
  UINT v61; // eax
  HGDIOBJ v62; // edi
  unsigned __int8 v63; // dl
  unsigned __int8 v64; // al
  int v65; // ebp
  struct tagTEXTMETRICA v66; // [esp-56h] [ebp-544h] BYREF
  char *v67; // [esp-Ah] [ebp-4F8h]
  const char *v68; // [esp-6h] [ebp-4F4h]
  size_t v69; // [esp-2h] [ebp-4F0h]
  int v70; // [esp+2h] [ebp-4ECh]
  int v71; // [esp+6h] [ebp-4E8h]
  unsigned __int8 v72; // [esp+14h] [ebp-4DAh]
  unsigned __int8 v73; // [esp+15h] [ebp-4D9h]
  HGDIOBJ h; // [esp+16h] [ebp-4D8h]
  int v75; // [esp+1Ah] [ebp-4D4h]
  int v76; // [esp+1Eh] [ebp-4D0h]
  unsigned __int8 v77; // [esp+24h] [ebp-4CAh]
  unsigned __int8 v78; // [esp+25h] [ebp-4C9h]
  int v79; // [esp+26h] [ebp-4C8h]
  char *Str1; // [esp+2Ah] [ebp-4C4h]
  int v81; // [esp+2Eh] [ebp-4C0h]
  char String[4]; // [esp+32h] [ebp-4BCh] BYREF
  HDC v83; // [esp+36h] [ebp-4B8h]
  int v84; // [esp+3Ah] [ebp-4B4h]
  int v85; // [esp+3Eh] [ebp-4B0h]
  int v86; // [esp+42h] [ebp-4ACh]
  UINT v87; // [esp+46h] [ebp-4A8h]
  UINT v88; // [esp+4Ah] [ebp-4A4h]
  HGLOBAL hMem; // [esp+4Eh] [ebp-4A0h]
  int j; // [esp+52h] [ebp-49Ch]
  int v91; // [esp+56h] [ebp-498h]
  int v92; // [esp+5Ah] [ebp-494h] BYREF
  int v93; // [esp+5Eh] [ebp-490h]
  int v94; // [esp+62h] [ebp-48Ch]
  char **v95; // [esp+66h] [ebp-488h]
  int v96; // [esp+6Ah] [ebp-484h]
  struct _GLYPHMETRICS gm; // [esp+6Eh] [ebp-480h] BYREF
  int v98; // [esp+82h] [ebp-46Ch]
  int v99; // [esp+86h] [ebp-468h]
  MAT2 mat2; // [esp+8Ah] [ebp-464h] BYREF
  int v101; // [esp+9Ah] [ebp-454h]
  int *v102; // [esp+9Eh] [ebp-450h]
  struct tagTEXTMETRICA tm; // [esp+A2h] [ebp-44Ch] BYREF
  char v104[260]; // [esp+DAh] [ebp-414h] BYREF
  char v105[260]; // [esp+1DEh] [ebp-310h] BYREF
  char v106[520]; // [esp+2E2h] [ebp-20Ch] BYREF

  v3 = Str;
  v4 = *Str == 0;
  v95 = a2;
  v81 = (int)Str;
  v83 = 0;
  if ( v4 )
    return 0;
  memset(a2, 0, 0x10Cu);
  *(_DWORD *)(this + 124) += strlen(Str);
  v6 = *(_DWORD *)(this + 92);
  v69 = (size_t)word_4921C8;
  v68 = Str;
  *(_DWORD *)(this + 88) = v6;
  if ( strstr(v68, (const char *)v69) )
    *(_DWORD *)(this + 88) = 32;
  v91 = v106 - Str;
  strcpy(v106, Str);
  v7 = *(_DWORD *)(this + 92);
  v8 = v106;
  *(_DWORD *)(this + 84) = 0;
  v85 = 0;
  while ( *v8 )
  {
    if ( _ismbclegal((unsigned __int8)v8[1] | ((unsigned __int8)*v8 << 8)) )
    {
      if ( !strncmp(v8, &byte_48B80C, 2u) )
      {
        memset(v105, 0, sizeof(v105));
        strcpy(v104, v8);
        v9 = strstr(v104, &byte_48B80C) + 2;
        *strstr(v104, &byte_48B494) = 0;
        strcpy(v105, v9);
        if ( v85 < 12 * strlen(v105) )
          v85 = 12 * (strlen(v105) >> 1);
        for ( i = strstr(v8, &byte_48B494) + 2; strncmp(i, &byte_48B490, 2u); ++i )
          *(_DWORD *)(this + 84) += v7 / 2;
        v8 = (char *)(i + 2);
        v3 = (char *)v81;
      }
      else
      {
        *(_DWORD *)(this + 84) += v7;
        v8 += 2;
      }
      continue;
    }
    if ( *v8 != 64 )
    {
      if ( v83 )
        *(_DWORD *)(this + 84) += v7 / 2;
      *(_DWORD *)(this + 84) += v7 / 2;
      ++v8;
      continue;
    }
    v11 = v8[1];
    v83 = 0;
    if ( v11 == 109 )
    {
      if ( v7 >= 22 )
        goto LABEL_39;
      v7 = 22;
      v8 += 2;
    }
    else if ( v11 == 108 )
    {
      if ( v7 >= 32 )
        goto LABEL_39;
      v7 = 32;
      v8 += 2;
    }
    else if ( v11 == 115 )
    {
      if ( v7 >= 20 )
        goto LABEL_39;
      v7 = 20;
      v8 += 2;
    }
    else if ( v11 == 105 )
    {
      if ( v7 >= 18 )
        goto LABEL_39;
      v7 = 18;
      v8 += 2;
    }
    else if ( v11 == 114 )
    {
      if ( v7 >= 12 )
        goto LABEL_39;
      v7 = 12;
      v8 += 2;
    }
    else if ( v11 == 121 )
    {
      if ( v7 >= 16 )
        goto LABEL_39;
      v7 = 16;
      v8 += 2;
    }
    else
    {
      if ( v11 != 122 )
      {
        if ( v11 == 119 )
        {
          if ( v7 < 22 )
            v7 = 22;
          v83 = (HDC)1;
        }
LABEL_39:
        v8 += 2;
        continue;
      }
      if ( v7 >= 10 )
        goto LABEL_39;
      v7 = 10;
      v8 += 2;
    }
  }
  if ( v85 <= *(_DWORD *)(this + 84) )
    v85 = 0;
  else
    *(_DWORD *)(this + 84) = v85;
  v12 = sub_44C2B0(
          *((int **)dword_4C0874 + 63),
          *(_DWORD *)(this + 84) + 4,
          *(_DWORD *)(this + 88) + 12,
          v3,
          *(_DWORD *)(this + 172),
          1);
  v13 = (int *)v95;
  v14 = (char *)v95 - v3;
  *v95 = (char *)v12;
  v15 = v3;
  v16 = v14 + 8;
  do
  {
    v17 = *v15;
    v15[v16] = *v15;
    ++v15;
  }
  while ( v17 );
  if ( !*v13 )
    return 0;
  v18 = sub_44B000(*((int **)dword_4C0874 + 63), *v13);
  v69 = 0;
  v68 = 0;
  v19 = v18;
  v20 = *(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v18 + 76);
  v101 = v18;
  if ( v20(v18, 0, &v92, 0, 0) < 0 )
  {
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v19 + 80))(v19, 0);
    printf(aFont);
    return 0;
  }
  v79 = 2;
  DC = GetDC(hWnd);
  v69 = *(_DWORD *)(this + 4);
  v83 = DC;
  v23 = SelectObject(DC, (HGDIOBJ)v69);
  h = v23;
  GetTextMetricsA(DC, &tm);
  v76 = *(_DWORD *)(this + 92);
  if ( v76 == 22 )
    goto LABEL_70;
  SelectObject(DC, v23);
  ReleaseDC(hWnd, DC);
  DC = GetDC(hWnd);
  v83 = DC;
  v24 = *(_DWORD *)(this + 92);
  switch ( v24 )
  {
    case 32:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 24));
      v76 = 32;
LABEL_68:
      h = v25;
      break;
    case 20:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 12));
      v76 = 20;
      goto LABEL_68;
    case 18:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 16));
      v76 = 18;
      goto LABEL_68;
    case 12:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 20));
      v76 = 12;
      goto LABEL_68;
    case 22:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 8));
      v76 = 22;
      goto LABEL_68;
    case 16:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 28));
      v76 = 16;
      goto LABEL_68;
    case 10:
      v25 = SelectObject(DC, *(HGDIOBJ *)(this + 32));
      v76 = 10;
      goto LABEL_68;
  }
  GetTextMetricsA(DC, &tm);
LABEL_70:
  v26 = (char *)v81;
  v27 = v91;
  do
  {
    v28 = *v26;
    v26[v27] = *v26;
    ++v26;
  }
  while ( v28 );
  Str1 = v106;
  if ( !v106[0] )
    goto LABEL_167;
  do
  {
    v29 = Str1;
    if ( !_ismbclegal((unsigned __int8)Str1[1] | ((unsigned __int8)*Str1 << 8)) )
    {
      if ( *v29 != 64 )
      {
        v35 = (unsigned __int8)*v29;
        Str1 = v29 + 1;
        v36 = v76 / 2;
        v94 = v76;
        goto LABEL_121;
      }
      if ( v29[1] == 99 )
      {
        if ( v29[2] == 114 )
          sub_43D4C0((_DWORD *)this, 0xFFu, 0, 0);
        if ( v29[2] == 103 )
          sub_43D4C0((_DWORD *)this, 0, 0xFFu, 0);
        if ( v29[2] == 98 )
          sub_43D4C0((_DWORD *)this, 0, 0, 0xFFu);
        if ( v29[2] == 119 )
          sub_43D4C0((_DWORD *)this, 0xFFu, 0xFFu, 0xFFu);
        if ( v29[2] == 107 )
          sub_43D4C0((_DWORD *)this, 0, 0, 0);
        if ( isdigit((unsigned __int8)v29[2]) && isdigit((unsigned __int8)v29[3]) )
        {
          v37 = v29[3];
          String[0] = v29[2];
          String[1] = v37;
          String[2] = 0;
          v38 = atoi(String);
          sub_43D4C0((_DWORD *)this, byte_4B31B1[4 * v38], byte_4B31B0[4 * v38], byte_4B31B2[4 * v38]);
          Str1 = v29 + 4;
        }
        else
        {
          if ( isdigit((unsigned __int8)v29[2]) )
          {
            String[0] = v29[2];
            String[1] = 0;
            v39 = atoi(String);
            sub_43D4C0((_DWORD *)this, byte_4B31B1[4 * v39], byte_4B31B0[4 * v39], byte_4B31B2[4 * v39]);
          }
          Str1 = v29 + 3;
        }
        continue;
      }
      SelectObject(DC, h);
      ReleaseDC(hWnd, DC);
      DC = GetDC(hWnd);
      v40 = v29[1];
      v83 = DC;
      switch ( v40 )
      {
        case 'l':
          h = SelectObject(DC, *(HGDIOBJ *)(this + 24));
          v41 = 32;
          break;
        case 's':
          h = SelectObject(DC, *(HGDIOBJ *)(this + 12));
          v41 = 20;
          break;
        case 'i':
          h = SelectObject(DC, *(HGDIOBJ *)(this + 16));
          v41 = 18;
          break;
        case 'r':
          h = SelectObject(DC, *(HGDIOBJ *)(this + 20));
          v41 = 12;
          break;
        default:
          switch ( v40 )
          {
            case 'w':
              v42 = *(void **)(this + 8);
              break;
            case 'y':
              h = SelectObject(DC, *(HGDIOBJ *)(this + 28));
              v41 = 16;
              goto LABEL_119;
            case 'z':
              h = SelectObject(DC, *(HGDIOBJ *)(this + 32));
              v41 = 10;
              goto LABEL_119;
            default:
              v42 = *(void **)(this + 4);
              break;
          }
          h = SelectObject(DC, v42);
          v41 = 22;
          break;
      }
LABEL_119:
      v76 = v41;
      *(_DWORD *)(this + 92) = v41;
      GetTextMetricsA(DC, &tm);
      Str1 = v29 + 2;
      continue;
    }
    if ( strncmp(v29, &byte_48B80C, 2u) )
    {
      v35 = (*v29 << 8) | (unsigned __int8)v29[1];
      Str1 = v29 + 2;
      strlen(v29 + 2);
      v36 = v76;
      v94 = v76;
LABEL_121:
      v86 = v36;
      memset(&mat2.eM12, 0, 10);
      mat2.eM11.value = 1;
      mat2.eM11.fract = 0;
      mat2.eM22.value = 1;
      GlyphOutlineA = GetGlyphOutlineA(DC, v35, *(_DWORD *)(this + 96), &gm, 0, 0, &mat2);
      v44 = GlobalAlloc(0x40u, GlyphOutlineA);
      hMem = v44;
      if ( v44 )
        goto LABEL_124;
      ReleaseDC(hWnd, DC);
      DC = GetDC(hWnd);
      v69 = *(_DWORD *)(this + 4);
      v83 = DC;
      h = SelectObject(DC, (HGDIOBJ)v69);
      v76 = *(_DWORD *)(this + 92);
      GetTextMetricsA(DC, &tm);
      GlyphOutlineA = GetGlyphOutlineA(DC, v35, *(_DWORD *)(this + 96), &gm, 0, 0, &mat2);
      v44 = GlobalAlloc(0x40u, GlyphOutlineA);
      hMem = v44;
      if ( v44 )
      {
LABEL_124:
        GetGlyphOutlineA(DC, v35, *(_DWORD *)(this + 96), &gm, GlyphOutlineA, v44, &mat2);
        v91 = (LOWORD(gm.gmBlackBoxX) + 3) & 0xFFFC;
        v87 = 0;
        if ( gm.gmBlackBoxY )
        {
          v81 = (int)hMem;
          do
          {
            v88 = 0;
            if ( gm.gmBlackBoxX )
            {
              do
              {
                v45 = *(_DWORD *)(this + 88);
                v46 = *(_DWORD *)(this + 72);
                v72 = 255 * *(unsigned __int8 *)(v88 + v81) / *(_DWORD *)(this + 100);
                v47 = *(_DWORD *)(this + 76);
                v48 = (int *)(v93
                            + 4
                            * (v79
                             + v88
                             + gm.gmptGlyphOrigin.x
                             + v92 / 4 * (v87 + tm.tmAscent - gm.gmptGlyphOrigin.y - v94 + v45 + 10)
                             + (v86 - gm.gmCellIncX) / 2));
                v49 = *v48;
                HIBYTE(v75) = HIBYTE(*v48);
                v73 = BYTE2(v49);
                HIBYTE(v84) = BYTE1(v49);
                v78 = BYTE1(v47);
                v50 = v46 >> 16;
                v51 = v46 >> 8;
                v52 = v47 >> 16;
                v102 = v48;
                v77 = v72;
                if ( v72 )
                {
                  v99 = BYTE2(v47);
                  v53 = v72;
                  v54 = 255 - v72;
                  HIBYTE(v75) = -(char)(v54 * v52 + v72 * v50);
                  v55 = v72 * *(unsigned __int8 *)(this + 72);
                  v73 = -(char)(v54 * v78 + v72 * v51);
                  v98 = *(unsigned __int8 *)(this + 76);
                  v4 = *(_DWORD *)(this + 164) == 0;
                  v72 = (v54 * v98 + v55) / 255;
                  if ( !v4 )
                  {
                    v77 = -1;
                    for ( j = 0; j < 9; ++j )
                    {
                      switch ( j )
                      {
                        case 0:
                          v56 = -1;
                          v57 = -1;
                          goto LABEL_140;
                        case 1:
                          v56 = 0;
                          v57 = -1;
                          goto LABEL_140;
                        case 2:
                          v56 = 1;
                          v57 = -1;
                          goto LABEL_140;
                        case 3:
                          v56 = -1;
                          v57 = 0;
                          goto LABEL_140;
                        case 4:
                          v56 = 0;
                          v57 = 0;
                          goto LABEL_140;
                        case 5:
                          v56 = 1;
                          v57 = 0;
                          goto LABEL_140;
                        case 6:
                          v56 = -1;
                          v57 = 1;
                          goto LABEL_140;
                        case 7:
                          v56 = 0;
                          v57 = 1;
                          goto LABEL_140;
                        case 8:
                          v56 = 1;
                          v57 = 1;
LABEL_140:
                          if ( (v88 || v56 != -1) && (v87 || v57 != -1) )
                          {
                            if ( v88 >= gm.gmBlackBoxX - 1 && v56 == 1 || v87 >= gm.gmBlackBoxY - 1 && v57 == 1 )
                              v96 = 0;
                            else
                              v96 = 255
                                  * *((unsigned __int8 *)hMem + v88 + v56 + v91 * (v57 + v87))
                                  / *(_DWORD *)(this + 100);
                          }
                          else
                          {
                            v96 = 0;
                          }
                          v58 = v87 + tm.tmAscent + v57 - gm.gmptGlyphOrigin.y - v94 + *(_DWORD *)(this + 88) + 10;
                          v59 = v79 + v88 + gm.gmptGlyphOrigin.x + v56 + (v86 - gm.gmCellIncX) / 2;
                          if ( (v88 || v56 != -1 || v79) && (v59 >= 0 || v58) && v58 >= 0 )
                          {
                            v60 = (unsigned int *)(v93 + 4 * (v59 + v58 * (v92 / 4)));
                            if ( !v96 )
                            {
                              if ( HIBYTE(*v60) <= v53 )
                                *v60 = v98 | ((v78 | ((v99 | (v53 << 8)) << 8)) << 8);
                              else
                                *v60 = v98 | *v60 & 0xFF000000 | ((v78 | (v99 << 8)) << 8);
                            }
                          }
                          break;
                        default:
                          continue;
                      }
                    }
                  }
                  LOBYTE(v50) = HIBYTE(v75);
                }
                else if ( HIBYTE(v75) )
                {
                  v63 = *(_BYTE *)v48;
                  LOBYTE(v50) = v73;
                  v77 = HIBYTE(v75);
                  v73 = HIBYTE(v84);
                  v72 = v63;
                }
                else
                {
                  v64 = *(_BYTE *)(this + 72);
                  v73 = v51;
                  v72 = v64;
                }
                v61 = v88 + 1;
                *v102 = v72 | ((v73 | (((unsigned __int8)v50 | (v77 << 8)) << 8)) << 8);
                v88 = v61;
              }
              while ( v61 < gm.gmBlackBoxX );
            }
            v81 += v91;
            ++v87;
          }
          while ( v87 < gm.gmBlackBoxY );
        }
        v79 += v86;
        GlobalFree(hMem);
        DC = v83;
      }
      else
      {
        v79 += v86;
      }
      continue;
    }
    v81 = 1;
    memset(v105, 0, sizeof(v105));
    memset(v104, 0, sizeof(v104));
    v30 = 2;
    strcpy(v105, "@r");
    v31 = v29 + 2;
    strcpy(v104, "@m");
    Str1 = v31;
    if ( !strncmp(v31, &byte_48B490, 2u) )
      goto LABEL_83;
    do
    {
      if ( v81 )
      {
        v32 = *v31;
        v69 = 2;
        ++v31;
        v68 = &byte_48B494;
        v67 = v31;
        v105[v30] = v32;
        if ( !strncmp(v67, v68, v69) )
        {
          v30 = 2;
          v81 = 0;
          v31 += 2;
          continue;
        }
      }
      else
      {
        v104[v30] = *v31++;
      }
      ++v30;
    }
    while ( strncmp(v31, &byte_48B490, 2u) );
    Str1 = v31;
LABEL_83:
    v33 = *(_DWORD *)(this + 72);
    qmemcpy(&v66, &tm, sizeof(v66));
    sub_43D4E0((_DWORD *)this, v79, 1, DC, v66, h, v92, v93, v105, v33, 12, v85, v104);
    v34 = *(_DWORD *)(this + 72);
    qmemcpy(&v66, &tm, sizeof(v66));
    sub_43D4E0((_DWORD *)this, v79, 10, DC, v66, h, v92, v93, v104, v34, 22, v85, 0);
    v79 += 11 * (strlen(v104) - 2);
    Str1 += 2;
  }
  while ( *Str1 );
LABEL_167:
  if ( v76 == 22 )
  {
    v62 = h;
  }
  else
  {
    SelectObject(DC, h);
    ReleaseDC(hWnd, DC);
    DC = GetDC(hWnd);
    v62 = SelectObject(DC, *(HGDIOBJ *)(this + 4));
    GetTextMetricsA(DC, &tm);
  }
  SelectObject(DC, v62);
  ReleaseDC(hWnd, DC);
  (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v101 + 80))(v101, 0);
  v65 = *(_DWORD *)(this + 168);
  if ( v65 > 0 )
    sub_44B460(*((_DWORD *)dword_4C0874 + 63), v65, (int)v62, *v95, v65, 0, v70, v71);
  return *v95;
}
// 43E6C0:  char var_310[260]

//----- (0043F620) --------------------------------------------------------
char *__thiscall sub_43F620(int this, char **a2, wchar_t *Str, char *a4)
{
  bool v4; // zf
  wchar_t *v6; // eax
  int v8; // edx
  int v9; // eax
  wchar_t *v10; // eax
  wchar_t v11; // cx
  int v12; // ebx
  wchar_t *v13; // edi
  wchar_t *v14; // eax
  wchar_t v15; // cx
  wchar_t *v16; // esi
  wchar_t *v17; // eax
  wchar_t v18; // cx
  const wchar_t *i; // esi
  wchar_t v20; // ax
  int v21; // esi
  int v22; // eax
  int *v23; // edi
  char *v24; // ecx
  int v25; // eax
  char *v26; // edx
  char v27; // cl
  int v28; // eax
  int v29; // esi
  int (__stdcall *v30)(int, _DWORD, int *, _DWORD, _DWORD); // edx
  HDC DC; // ebx
  HGDIOBJ v33; // edi
  int v34; // eax
  HGDIOBJ v35; // eax
  __int16 *v36; // eax
  int v37; // edx
  __int16 v38; // cx
  wchar_t *v39; // edi
  int v40; // eax
  unsigned __int16 v41; // cx
  int v42; // eax
  __int16 v43; // cx
  int v44; // esi
  wchar_t *v45; // edi
  wchar_t v46; // ax
  int v47; // ecx
  int v48; // edx
  wchar_t v49; // ax
  wchar_t v50; // si
  __int16 v51; // dx
  int v52; // eax
  int v53; // eax
  wchar_t v54; // ax
  int v55; // eax
  void *v56; // edx
  UINT v57; // esi
  DWORD GlyphOutlineW; // edi
  HGLOBAL v59; // eax
  int v60; // edx
  int v61; // ebx
  int v62; // esi
  int *v63; // edi
  int v64; // eax
  int v65; // ecx
  int v66; // ebx
  int v67; // eax
  unsigned int v68; // edi
  int v69; // esi
  int v70; // ecx
  int v71; // esi
  int v72; // ecx
  int v73; // ebx
  unsigned int *v74; // ecx
  UINT v75; // eax
  HGDIOBJ v76; // edi
  unsigned __int8 v77; // dl
  unsigned __int8 v78; // al
  int v79; // eax
  struct tagTEXTMETRICA v80; // [esp-56h] [ebp-74Ch] BYREF
  UINT v81; // [esp-12h] [ebp-708h]
  struct _GLYPHMETRICS *p_gm; // [esp-Eh] [ebp-704h]
  wchar_t *v83; // [esp-Ah] [ebp-700h]
  const wchar_t *v84; // [esp-6h] [ebp-6FCh]
  size_t p_mat2; // [esp-2h] [ebp-6F8h]
  int v86; // [esp+2h] [ebp-6F4h]
  int v87; // [esp+6h] [ebp-6F0h]
  unsigned __int8 v88; // [esp+14h] [ebp-6E2h]
  unsigned __int8 v89; // [esp+15h] [ebp-6E1h]
  HGDIOBJ h; // [esp+16h] [ebp-6E0h]
  int v91; // [esp+1Ah] [ebp-6DCh]
  int v92; // [esp+1Eh] [ebp-6D8h]
  unsigned __int8 v93; // [esp+24h] [ebp-6D2h]
  unsigned __int8 v94; // [esp+25h] [ebp-6D1h]
  int v95; // [esp+26h] [ebp-6D0h]
  wchar_t *v96; // [esp+2Ah] [ebp-6CCh]
  HDC v97; // [esp+2Eh] [ebp-6C8h]
  int v98; // [esp+32h] [ebp-6C4h]
  UINT v99; // [esp+36h] [ebp-6C0h]
  UINT v100; // [esp+3Ah] [ebp-6BCh]
  int v101; // [esp+3Eh] [ebp-6B8h]
  int v102; // [esp+42h] [ebp-6B4h]
  signed int v103; // [esp+46h] [ebp-6B0h]
  int v104; // [esp+4Ah] [ebp-6ACh]
  HGLOBAL hMem; // [esp+4Eh] [ebp-6A8h]
  int v106; // [esp+52h] [ebp-6A4h]
  int v107; // [esp+56h] [ebp-6A0h]
  int j; // [esp+5Ah] [ebp-69Ch]
  int v109; // [esp+5Eh] [ebp-698h] BYREF
  int v110; // [esp+62h] [ebp-694h]
  char **v111; // [esp+66h] [ebp-690h]
  struct _GLYPHMETRICS gm; // [esp+6Ah] [ebp-68Ch] BYREF
  int v113; // [esp+7Eh] [ebp-678h]
  MAT2 mat2; // [esp+82h] [ebp-674h] BYREF
  int v115; // [esp+92h] [ebp-664h]
  int *v116; // [esp+96h] [ebp-660h]
  struct tagTEXTMETRICA tm; // [esp+9Ah] [ebp-65Ch] BYREF
  wchar_t String; // [esp+D2h] [ebp-624h] BYREF
  __int16 v119; // [esp+D4h] [ebp-622h]
  __int16 v120; // [esp+D6h] [ebp-620h]
  wchar_t v121[260]; // [esp+DAh] [ebp-61Ch] BYREF
  unsigned __int16 v122[260]; // [esp+2E2h] [ebp-414h] BYREF
  wchar_t String1[260]; // [esp+4EAh] [ebp-20Ch] BYREF

  v4 = *Str == 0;
  v111 = a2;
  v103 = (signed int)Str;
  v107 = (int)a4;
  v97 = 0;
  if ( v4 )
    return 0;
  memset(a2, 0, 0x10Cu);
  v6 = Str;
  while ( *v6++ )
    ;
  v8 = 2 * (v6 - (Str + 1));
  v9 = *(_DWORD *)(this + 92);
  *(_DWORD *)(this + 124) += v8;
  p_mat2 = (size_t)L"@l";
  v84 = Str;
  *(_DWORD *)(this + 88) = v9;
  if ( wcsstr(v84, (const wchar_t *)p_mat2) )
    *(_DWORD *)(this + 88) = 32;
  v10 = Str;
  v104 = (char *)String1 - (char *)Str;
  do
  {
    v11 = *v10;
    *(wchar_t *)((char *)v10 + (char *)String1 - (char *)Str) = *v10;
    ++v10;
  }
  while ( v11 );
  v12 = *(_DWORD *)(this + 92);
  v13 = String1;
  *(_DWORD *)(this + 84) = 0;
  v101 = 0;
  while ( *v13 )
  {
    if ( !wcsncmp(v13, &word_4921DC, 1u) )
    {
      memset(v122, 0, sizeof(v122));
      v14 = v13;
      do
      {
        v15 = *v14;
        *(wchar_t *)((char *)v14 + (char *)v121 - (char *)v13) = *v14;
        ++v14;
      }
      while ( v15 );
      v16 = wcsstr(v121, &word_4921DC) + 1;
      *wcsstr(v121, &word_4921D8) = 0;
      v17 = v16;
      do
      {
        v18 = *v17;
        *(wchar_t *)((char *)v17 + (char *)v122 - (char *)v16) = *v17;
        ++v17;
      }
      while ( v18 );
      if ( v101 < 12 * wcslen(v122) )
        v101 = 12 * (wcslen(v122) >> 1);
      for ( i = wcsstr(v13, &word_4921D8) + 1; wcsncmp(i, &word_4921D4, 1u); ++i )
        *(_DWORD *)(this + 84) += v12;
      v13 = (wchar_t *)(i + 1);
      continue;
    }
    *(_DWORD *)(this + 84) += v12;
    if ( *v13 != 64 )
    {
      if ( v97 )
        *(_DWORD *)(this + 84) += v12;
      *(_DWORD *)(this + 84) += v12;
      ++v13;
      continue;
    }
    v20 = v13[1];
    v97 = 0;
    if ( v20 == 109 )
    {
      if ( v12 >= 22 )
        goto LABEL_45;
      v12 = 22;
      v13 += 2;
    }
    else if ( v20 == 108 )
    {
      if ( v12 >= 32 )
        goto LABEL_45;
      v12 = 32;
      v13 += 2;
    }
    else if ( v20 == 115 )
    {
      if ( v12 >= 20 )
        goto LABEL_45;
      v12 = 20;
      v13 += 2;
    }
    else if ( v20 == 105 )
    {
      if ( v12 >= 18 )
        goto LABEL_45;
      v12 = 18;
      v13 += 2;
    }
    else if ( v20 == 114 )
    {
      if ( v12 >= 12 )
        goto LABEL_45;
      v12 = 12;
      v13 += 2;
    }
    else if ( v20 == 121 )
    {
      if ( v12 >= 16 )
        goto LABEL_45;
      v12 = 16;
      v13 += 2;
    }
    else
    {
      if ( v20 != 122 )
      {
        if ( v20 == 119 )
        {
          if ( v12 < 22 )
            v12 = 22;
          v97 = (HDC)1;
        }
LABEL_45:
        v13 += 2;
        continue;
      }
      if ( v12 >= 10 )
        goto LABEL_45;
      v12 = 10;
      v13 += 2;
    }
  }
  if ( v101 <= *(_DWORD *)(this + 84) )
    v101 = 0;
  else
    *(_DWORD *)(this + 84) = v101;
  v21 = v107;
  v22 = sub_44C2B0(
          *((int **)dword_4C0874 + 63),
          *(_DWORD *)(this + 84) + 2,
          *(_DWORD *)(this + 88) + 12,
          (char *)v107,
          *(_DWORD *)(this + 172),
          1);
  v23 = (int *)v111;
  v24 = (char *)v111 - v107;
  *v111 = (char *)v22;
  v25 = v21;
  v26 = v24 + 8;
  do
  {
    v27 = *(_BYTE *)v25;
    v26[v25] = *(_BYTE *)v25;
    ++v25;
  }
  while ( v27 );
  if ( !*v23 )
    return 0;
  v28 = sub_44B000(*((int **)dword_4C0874 + 63), *v23);
  p_mat2 = 0;
  v84 = 0;
  v29 = v28;
  v30 = *(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v28 + 76);
  v115 = v28;
  if ( v30(v28, 0, &v109, 0, 0) < 0 )
  {
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v29 + 80))(v29, 0);
    printf(aFont);
    return 0;
  }
  v95 = 2;
  DC = GetDC(hWnd);
  p_mat2 = *(_DWORD *)(this + 4);
  v97 = DC;
  v33 = SelectObject(DC, (HGDIOBJ)p_mat2);
  h = v33;
  GetTextMetricsA(DC, &tm);
  v92 = *(_DWORD *)(this + 92);
  if ( v92 != 22 )
  {
    SelectObject(DC, v33);
    ReleaseDC(hWnd, DC);
    DC = GetDC(hWnd);
    v97 = DC;
    v34 = *(_DWORD *)(this + 92);
    switch ( v34 )
    {
      case 32:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 24));
        v92 = 32;
        break;
      case 20:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 12));
        v92 = 20;
        break;
      case 18:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 16));
        v92 = 18;
        break;
      case 12:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 20));
        v92 = 12;
        break;
      case 22:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 8));
        v92 = 22;
        break;
      case 16:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 28));
        v92 = 16;
        break;
      case 10:
        v35 = SelectObject(DC, *(HGDIOBJ *)(this + 32));
        v92 = 10;
        break;
      default:
LABEL_75:
        GetTextMetricsA(DC, &tm);
        goto LABEL_76;
    }
    h = v35;
    goto LABEL_75;
  }
LABEL_76:
  v36 = (__int16 *)v103;
  v37 = v104;
  do
  {
    v38 = *v36;
    *(__int16 *)((char *)v36 + v37) = *v36;
    ++v36;
  }
  while ( v38 );
  v96 = String1;
  if ( String1[0] )
  {
    while ( 1 )
    {
      v39 = v96;
      if ( wcsncmp(v96, &word_4921DC, 1u) )
        break;
      v102 = 1;
      memset(v122, 0, sizeof(v122));
      memset(v121, 0, sizeof(v121));
      v40 = 0;
      do
      {
        v41 = *(_WORD *)((char *)&dword_48B620 + v40 * 2);
        v122[v40++] = v41;
      }
      while ( v41 );
      v42 = 0;
      do
      {
        v43 = word_4921CC[v42];
        v121[v42++] = v43;
      }
      while ( v43 );
      v44 = 2;
      v45 = v39 + 2;
      v96 = v45;
      if ( wcsncmp(v45, &word_4921D4, 2u) )
      {
        while ( v102 )
        {
          v46 = *v45;
          p_mat2 = 2;
          ++v45;
          v84 = &word_4921D8;
          v83 = v45;
          v122[v44] = v46;
          if ( wcsncmp(v83, v84, p_mat2) )
            goto LABEL_89;
          v102 = 0;
          v44 = 2;
          v45 += 2;
LABEL_90:
          if ( !wcsncmp(v45, &word_4921D4, 2u) )
          {
            v96 = v45;
            goto LABEL_92;
          }
        }
        v121[v44] = *v45++;
LABEL_89:
        ++v44;
        goto LABEL_90;
      }
LABEL_92:
      v47 = *(_DWORD *)(this + 72);
      qmemcpy(&v80, &tm, sizeof(v80));
      sub_43DD00((_DWORD *)this, v95, 1, DC, v80, h, v109, v110, v122, v47, 12, v101, v121);
      v48 = *(_DWORD *)(this + 72);
      qmemcpy(&v80, &tm, sizeof(v80));
      sub_43DD00((_DWORD *)this, v95, 10, DC, v80, h, v109, v110, v121, v48, 22, v101, 0);
      v95 += 11 * (wcslen(v121) - 2);
      v96 += 2;
LABEL_167:
      if ( !*v96 )
        goto LABEL_168;
    }
    v49 = *v39;
    if ( *v39 != 64 )
    {
      v106 = v92;
      v113 = v92;
      memset(&mat2.eM12, 0, 10);
      mat2.eM11.value = 1;
      p_mat2 = (size_t)&mat2;
      v84 = 0;
      v83 = 0;
      mat2.eM11.fract = 0;
      p_gm = &gm;
      mat2.eM22.value = 1;
      v81 = *(_DWORD *)(this + 96);
      v57 = v49;
      v96 = v39 + 1;
      GlyphOutlineW = GetGlyphOutlineW(DC, v49, v81, &gm, 0, 0, &mat2);
      v59 = GlobalAlloc(0x40u, GlyphOutlineW);
      hMem = v59;
      if ( v59 )
        goto LABEL_131;
      ReleaseDC(hWnd, DC);
      DC = GetDC(hWnd);
      p_mat2 = *(_DWORD *)(this + 4);
      v97 = DC;
      h = SelectObject(DC, (HGDIOBJ)p_mat2);
      v92 = *(_DWORD *)(this + 92);
      GetTextMetricsA(DC, &tm);
      GlyphOutlineW = GetGlyphOutlineW(DC, v57, *(_DWORD *)(this + 96), &gm, 0, 0, &mat2);
      v59 = GlobalAlloc(0x40u, GlyphOutlineW);
      hMem = v59;
      if ( v59 )
      {
LABEL_131:
        GetGlyphOutlineW(DC, v57, *(_DWORD *)(this + 96), &gm, GlyphOutlineW, v59, &mat2);
        v107 = (LOWORD(gm.gmBlackBoxX) + 3) & 0xFFFC;
        v99 = 0;
        if ( gm.gmBlackBoxY )
        {
          v102 = (int)hMem;
          do
          {
            v100 = 0;
            if ( gm.gmBlackBoxX )
            {
              do
              {
                v60 = *(_DWORD *)(this + 88);
                v61 = *(_DWORD *)(this + 72);
                v88 = 255 * *(unsigned __int8 *)(v100 + v102) / *(_DWORD *)(this + 100);
                v62 = *(_DWORD *)(this + 76);
                v63 = (int *)(v110
                            + 4
                            * (v95
                             + v100
                             + gm.gmptGlyphOrigin.x
                             + v109 / 4 * (v99 + tm.tmAscent - gm.gmptGlyphOrigin.y - v113 + v60 + 10)
                             + (v106 - gm.gmCellIncX) / 2));
                v64 = *v63;
                HIBYTE(v91) = HIBYTE(*v63);
                v89 = BYTE2(v64);
                HIBYTE(v98) = BYTE1(v64);
                v93 = BYTE1(v62);
                v65 = v61 >> 16;
                v66 = v61 >> 8;
                v67 = v62 >> 16;
                v116 = v63;
                v94 = v88;
                if ( v88 )
                {
                  v104 = BYTE2(v62);
                  v68 = v88;
                  v69 = 255 - v88;
                  HIBYTE(v91) = -(char)(v69 * v67 + v88 * v65);
                  v70 = v88 * *(unsigned __int8 *)(this + 72);
                  v89 = -(char)(v69 * v93 + v88 * v66);
                  v103 = *(unsigned __int8 *)(this + 76);
                  v4 = *(_DWORD *)(this + 164) == 0;
                  v88 = (v69 * v103 + v70) / 255;
                  if ( !v4 )
                  {
                    v94 = -1;
                    for ( j = 0; j < 9; ++j )
                    {
                      switch ( j )
                      {
                        case 0:
                          v71 = -1;
                          v72 = -1;
                          goto LABEL_147;
                        case 1:
                          v71 = 0;
                          v72 = -1;
                          goto LABEL_147;
                        case 2:
                          v71 = 1;
                          v72 = -1;
                          goto LABEL_147;
                        case 3:
                          v71 = -1;
                          v72 = 0;
                          goto LABEL_147;
                        case 4:
                          v71 = 0;
                          v72 = 0;
                          goto LABEL_147;
                        case 5:
                          v71 = 1;
                          v72 = 0;
                          goto LABEL_147;
                        case 6:
                          v71 = -1;
                          v72 = 1;
                          goto LABEL_147;
                        case 7:
                          v71 = 0;
                          v72 = 1;
                          goto LABEL_147;
                        case 8:
                          v71 = 1;
                          v72 = 1;
LABEL_147:
                          if ( (v100 || v71 != -1) && (v99 || v72 != -1) )
                          {
                            if ( v100 >= gm.gmBlackBoxX - 1 && v71 == 1 || v99 >= gm.gmBlackBoxY - 1 && v72 == 1 )
                              v73 = 0;
                            else
                              v73 = 255
                                  * *((unsigned __int8 *)hMem + v100 + v71 + v107 * (v72 + v99))
                                  / *(_DWORD *)(this + 100);
                          }
                          else
                          {
                            v73 = 0;
                          }
                          v74 = (unsigned int *)(v110
                                               + 4
                                               * (v95
                                                + v100
                                                + gm.gmptGlyphOrigin.x
                                                + v71
                                                + v109
                                                / 4
                                                * (v99
                                                 + tm.tmAscent
                                                 + v72
                                                 - gm.gmptGlyphOrigin.y
                                                 - v113
                                                 + *(_DWORD *)(this + 88)
                                                 + 10)
                                                + (v106 - gm.gmCellIncX) / 2));
                          if ( !v73 )
                          {
                            if ( HIBYTE(*v74) <= v68 )
                              *v74 = v103 | ((v93 | ((v104 | (v68 << 8)) << 8)) << 8);
                            else
                              *v74 = v103 | *v74 & 0xFF000000 | ((v93 | (v104 << 8)) << 8);
                          }
                          break;
                        default:
                          continue;
                      }
                    }
                  }
                  LOBYTE(v65) = HIBYTE(v91);
                }
                else if ( HIBYTE(v91) )
                {
                  v77 = *(_BYTE *)v63;
                  LOBYTE(v65) = v89;
                  v94 = HIBYTE(v91);
                  v89 = HIBYTE(v98);
                  v88 = v77;
                }
                else
                {
                  v78 = *(_BYTE *)(this + 72);
                  v89 = v66;
                  v88 = v78;
                }
                v75 = v100 + 1;
                *v116 = v88 | ((v89 | (((unsigned __int8)v65 | (v94 << 8)) << 8)) << 8);
                v100 = v75;
              }
              while ( v75 < gm.gmBlackBoxX );
            }
            v102 += v107;
            ++v99;
          }
          while ( v99 < gm.gmBlackBoxY );
        }
        v95 += v106;
        GlobalFree(hMem);
        DC = v97;
      }
      else
      {
        v95 += v106;
      }
      goto LABEL_167;
    }
    if ( v39[1] == 99 )
    {
      v50 = v39[2];
      if ( v50 == 114 )
        sub_43D4C0((_DWORD *)this, 0xFFu, 0, 0);
      if ( v50 == 103 )
        sub_43D4C0((_DWORD *)this, 0, 0xFFu, 0);
      if ( v50 == 98 )
        sub_43D4C0((_DWORD *)this, 0, 0, 0xFFu);
      if ( v50 == 119 )
        sub_43D4C0((_DWORD *)this, 0xFFu, 0xFFu, 0xFFu);
      if ( v50 == 107 )
        sub_43D4C0((_DWORD *)this, 0, 0, 0);
      if ( isdigit(*((unsigned __int8 *)v39 + 4)) && isdigit(*((unsigned __int8 *)v39 + 6)) )
      {
        v51 = v39[3];
        String = v39[2];
        v119 = v51;
        v120 = 0;
        v52 = _wtoi(&String);
        sub_43D4C0((_DWORD *)this, byte_4B31B1[4 * v52], byte_4B31B0[4 * v52], byte_4B31B2[4 * v52]);
        v96 = v39 + 4;
      }
      else
      {
        if ( isdigit(*((unsigned __int8 *)v39 + 4)) )
        {
          String = v39[2];
          v119 = 0;
          v53 = _wtoi(&String);
          sub_43D4C0((_DWORD *)this, byte_4B31B1[4 * v53], byte_4B31B0[4 * v53], byte_4B31B2[4 * v53]);
        }
        v96 = v39 + 3;
      }
      goto LABEL_167;
    }
    SelectObject(DC, h);
    ReleaseDC(hWnd, DC);
    DC = GetDC(hWnd);
    v54 = v39[1];
    v97 = DC;
    switch ( v54 )
    {
      case 'l':
        h = SelectObject(DC, *(HGDIOBJ *)(this + 24));
        v55 = 32;
        break;
      case 's':
        h = SelectObject(DC, *(HGDIOBJ *)(this + 12));
        v55 = 20;
        break;
      case 'i':
        h = SelectObject(DC, *(HGDIOBJ *)(this + 16));
        v55 = 18;
        break;
      case 'r':
        h = SelectObject(DC, *(HGDIOBJ *)(this + 20));
        v55 = 12;
        break;
      default:
        switch ( v54 )
        {
          case 'w':
            v56 = *(void **)(this + 8);
            break;
          case 'y':
            h = SelectObject(DC, *(HGDIOBJ *)(this + 28));
            v55 = 16;
            goto LABEL_127;
          case 'z':
            h = SelectObject(DC, *(HGDIOBJ *)(this + 32));
            v55 = 10;
            goto LABEL_127;
          default:
            v56 = *(void **)(this + 4);
            break;
        }
        h = SelectObject(DC, v56);
        v55 = 22;
        break;
    }
LABEL_127:
    v92 = v55;
    *(_DWORD *)(this + 92) = v55;
    GetTextMetricsA(DC, &tm);
    v96 = v39 + 2;
    goto LABEL_167;
  }
LABEL_168:
  if ( v92 == 22 )
  {
    v76 = h;
  }
  else
  {
    SelectObject(DC, h);
    ReleaseDC(hWnd, DC);
    DC = GetDC(hWnd);
    v76 = SelectObject(DC, *(HGDIOBJ *)(this + 4));
    GetTextMetricsA(DC, &tm);
  }
  SelectObject(DC, v76);
  ReleaseDC(hWnd, DC);
  (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v115 + 80))(v115, 0);
  v79 = *(_DWORD *)(this + 168);
  if ( v79 > 0 )
    sub_44B460(*((_DWORD *)dword_4C0874 + 63), this, (int)v76, *v111, v79, *(_DWORD *)(this + 76), v86, v87);
  return *v111;
}
// 48B620:  int dword_48B620
// 4921CC:  __int16 word_4921CC[]
// 43F620:  unsigned __int16 var_414[260]
// 43F620:  wchar_t var_61C[260]

//----- (00440550) --------------------------------------------------------
_DWORD *__cdecl sub_440550(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 285) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 285) );
  }
  return result;
}

//----- (00440570) --------------------------------------------------------
int __cdecl sub_440570(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 285); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (00440590) --------------------------------------------------------
_DWORD *__thiscall sub_440590(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 285) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (004405F0) --------------------------------------------------------
int __thiscall sub_4405F0(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 285) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (00440650) --------------------------------------------------------
void __thiscall sub_440650(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 285) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 285) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 285); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 285); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (004406D0) --------------------------------------------------------
void __thiscall sub_4406D0(_DWORD *this)
{
  int *v2; // eax
  int v3; // eax
  int v4; // ecx
  int j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = (int *)this[1];
  if ( *((_BYTE *)v2 + 285) )
  {
    v3 = v2[2];
    this[1] = v3;
    if ( !*(_BYTE *)(v3 + 285) )
      return;
    goto LABEL_5;
  }
  v4 = *v2;
  if ( *(_BYTE *)(*v2 + 285) )
  {
    for ( i = v2[1]; !*(_BYTE *)(i + 285); i = *(_DWORD *)(i + 4) )
    {
      if ( this[1] != *(_DWORD *)i )
        break;
      this[1] = i;
    }
    if ( *(_BYTE *)(this[1] + 285) )
    {
LABEL_5:
      _invalid_parameter_noinfo();
      return;
    }
    this[1] = i;
  }
  else
  {
    for ( j = *(_DWORD *)(v4 + 8); !*(_BYTE *)(j + 285); j = *(_DWORD *)(j + 8) )
      v4 = j;
    this[1] = v4;
  }
}

//----- (00440770) --------------------------------------------------------
void __stdcall sub_440770(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 285); v1 = i )
  {
    sub_440770(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (004407B0) --------------------------------------------------------
_DWORD *__stdcall sub_4407B0(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *result; // eax

  result = operator new(0x120u);
  if ( result )
  {
    *result = a1;
    result[2] = a3;
    result[1] = a2;
    qmemcpy(result + 3, a4, 0x110u);
    *((_BYTE *)result + 284) = a5;
    *((_BYTE *)result + 285) = 0;
  }
  return result;
}

//----- (00440800) --------------------------------------------------------
_DWORD *sub_440800()
{
  _DWORD *result; // eax

  result = operator new(0x120u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 284) = 1;
  *((_BYTE *)result + 285) = 0;
  return result;
}

//----- (00440840) --------------------------------------------------------
_DWORD *__thiscall sub_440840(int *this, _DWORD *a2, _DWORD *a3)
{
  int *v3; // edx
  int *v4; // eax
  _DWORD *result; // eax
  int v6; // ecx

  v3 = (int *)this[6];
  v4 = (int *)v3[1];
  while ( !*((_BYTE *)v4 + 285) )
  {
    if ( v4[3] >= *a3 )
    {
      v3 = v4;
      v4 = (int *)*v4;
    }
    else
    {
      v4 = (int *)v4[2];
    }
  }
  result = a2;
  v6 = *this;
  a2[1] = v3;
  *a2 = v6;
  return result;
}

//----- (00440880) --------------------------------------------------------
int __fastcall sub_440880(int a1)
{
  int v1; // ebp
  _DWORD *v2; // esi
  int v3; // edi
  int v4; // ebx
  _DWORD *v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  char *v10; // eax
  char *v11; // edx
  char v12; // cl
  int v13; // eax
  int v14; // eax
  size_t v15; // edi
  int v16; // eax
  unsigned int v17; // kr00_4
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // eax
  void *v24; // edi
  void ***v25; // edi
  void ***v26; // esi
  _DWORD *v27; // eax
  int result; // eax
  int v29; // [esp+10h] [ebp-110h]
  _DWORD *v30; // [esp+14h] [ebp-10Ch] BYREF
  int v31; // [esp+18h] [ebp-108h]
  char String1[256]; // [esp+1Ch] [ebp-104h] BYREF

  v1 = **(_DWORD **)(a1 + 156);
  v2 = *(_DWORD **)(a1 + 132);
  v29 = a1;
  v31 = v1;
  v30 = v2;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 156);
    v4 = a1 + 132;
    if ( !v2 || v2 != *(_DWORD **)(a1 + 132) )
    {
      _invalid_parameter_noinfo();
      a1 = v29;
    }
    if ( v1 == v3 )
      break;
    if ( v2 )
    {
      v5 = (_DWORD *)*v2;
    }
    else
    {
      _invalid_parameter_noinfo();
      v5 = 0;
    }
    if ( v1 == v5[6] )
      _invalid_parameter_noinfo();
    if ( *(_DWORD *)(v1 + 20) )
    {
      if ( v2 )
      {
        v6 = *v2;
      }
      else
      {
        _invalid_parameter_noinfo();
        v6 = 0;
      }
      if ( v1 == *(_DWORD *)(v6 + 24) )
        _invalid_parameter_noinfo();
      sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(v1 + 20));
      if ( v2 )
      {
        v7 = *v2;
      }
      else
      {
        _invalid_parameter_noinfo();
        v7 = 0;
      }
      if ( v1 == *(_DWORD *)(v7 + 24) )
        _invalid_parameter_noinfo();
      *(_DWORD *)(v1 + 20) = 0;
    }
    if ( v2 )
    {
      v8 = *v2;
    }
    else
    {
      _invalid_parameter_noinfo();
      v8 = 0;
    }
    if ( v1 == *(_DWORD *)(v8 + 24) )
      _invalid_parameter_noinfo();
    if ( *(_DWORD *)(v1 + 16) )
    {
      if ( v2 )
      {
        v9 = *v2;
      }
      else
      {
        _invalid_parameter_noinfo();
        v9 = 0;
      }
      if ( v1 == *(_DWORD *)(v9 + 24) )
        _invalid_parameter_noinfo();
      v10 = (char *)sub_44AF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(v1 + 16));
      v11 = String1;
      do
      {
        v12 = *v10;
        *v11++ = *v10++;
      }
      while ( v12 );
      if ( String1[0] )
      {
        if ( v2 )
        {
          v13 = *v2;
        }
        else
        {
          _invalid_parameter_noinfo();
          v13 = 0;
        }
        if ( v1 == *(_DWORD *)(v13 + 24) )
          _invalid_parameter_noinfo();
        if ( *(_BYTE *)(v1 + 24) )
        {
          if ( v2 )
          {
            v14 = *v2;
          }
          else
          {
            _invalid_parameter_noinfo();
            v14 = 0;
          }
          if ( v1 == *(_DWORD *)(v14 + 24) )
            _invalid_parameter_noinfo();
          v15 = strlen((const char *)(v1 + 24));
          if ( v2 )
          {
            v16 = *v2;
          }
          else
          {
            _invalid_parameter_noinfo();
            v16 = 0;
          }
          if ( v1 == *(_DWORD *)(v16 + 24) )
            _invalid_parameter_noinfo();
          if ( !_strnicmp(String1, (const char *)(v1 + 24), v15) )
          {
            v17 = strlen(String1);
            if ( v2 )
            {
              v18 = *v2;
            }
            else
            {
              _invalid_parameter_noinfo();
              v18 = 0;
            }
            if ( v1 == *(_DWORD *)(v18 + 24) )
              _invalid_parameter_noinfo();
            if ( v17 == strlen((const char *)(v1 + 24)) )
            {
              if ( v2 )
              {
                v19 = *v2;
              }
              else
              {
                _invalid_parameter_noinfo();
                v19 = 0;
              }
              if ( v1 == *(_DWORD *)(v19 + 24) )
                _invalid_parameter_noinfo();
              sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(v1 + 16));
              if ( v2 )
              {
                v20 = *v2;
              }
              else
              {
                _invalid_parameter_noinfo();
                v20 = 0;
              }
              if ( v1 == *(_DWORD *)(v20 + 24) )
                _invalid_parameter_noinfo();
              *(_DWORD *)(v1 + 16) = 0;
              if ( v2 )
              {
                v21 = *v2;
              }
              else
              {
                _invalid_parameter_noinfo();
                v21 = 0;
              }
              if ( v1 == *(_DWORD *)(v21 + 24) )
                _invalid_parameter_noinfo();
              *(_BYTE *)(v1 + 24) = 0;
            }
          }
        }
      }
    }
    if ( v2 )
    {
      v22 = *v2;
    }
    else
    {
      _invalid_parameter_noinfo();
      v22 = 0;
    }
    if ( v1 == *(_DWORD *)(v22 + 24) )
      _invalid_parameter_noinfo();
    if ( *(_DWORD *)(v1 + 280) )
    {
      if ( v2 )
      {
        v23 = *v2;
      }
      else
      {
        _invalid_parameter_noinfo();
        v23 = 0;
      }
      if ( v1 == *(_DWORD *)(v23 + 24) )
        _invalid_parameter_noinfo();
      v24 = *(void **)(v1 + 280);
      if ( v24 )
      {
        sub_4470C0(*(_DWORD **)(v1 + 280));
        operator delete(v24);
      }
      if ( v2 )
        v2 = (_DWORD *)*v2;
      else
        _invalid_parameter_noinfo();
      if ( v1 == v2[6] )
        _invalid_parameter_noinfo();
      *(_DWORD *)(v1 + 280) = 0;
    }
    sub_440650(&v30);
    v1 = v31;
    v2 = v30;
    a1 = v29;
  }
  v25 = *(void ****)(*(_DWORD *)(v4 + 24) + 4);
  v26 = v25;
  if ( !*((_BYTE *)v25 + 285) )
  {
    do
    {
      sub_440770(v26[2]);
      v26 = (void ***)*v26;
      operator delete(v25);
      v25 = v26;
    }
    while ( !*((_BYTE *)v26 + 285) );
    a1 = v29;
  }
  *(_DWORD *)(*(_DWORD *)(v4 + 24) + 4) = *(_DWORD *)(v4 + 24);
  v27 = *(_DWORD **)(v4 + 24);
  *(_DWORD *)(v4 + 28) = 0;
  *v27 = v27;
  result = *(_DWORD *)(v4 + 24);
  *(_DWORD *)(result + 8) = result;
  *(_DWORD *)(a1 + 124) = 0;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 172) = 0;
  return result;
}

//----- (00440C60) --------------------------------------------------------
void __thiscall sub_440C60(int this)
{
  int v2; // ebp
  _DWORD *v3; // esi
  int v4; // ebx
  _DWORD *i; // [esp+10h] [ebp-8h] BYREF
  int v6; // [esp+14h] [ebp-4h]

  v2 = **(_DWORD **)(this + 156);
  v3 = *(_DWORD **)(this + 132);
  v6 = v2;
  for ( i = v3; ; v3 = i )
  {
    v4 = *(_DWORD *)(this + 156);
    if ( !v3 || v3 != *(_DWORD **)(this + 132) )
      _invalid_parameter_noinfo();
    if ( v2 == v4 )
      break;
    if ( v3 )
      v3 = (_DWORD *)*v3;
    else
      _invalid_parameter_noinfo();
    if ( v2 == v3[6] )
      _invalid_parameter_noinfo();
    sub_444D20(*(_DWORD *)(v2 + 280));
    sub_440650(&i);
    v2 = v6;
  }
}

//----- (00440CE0) --------------------------------------------------------
void __thiscall sub_440CE0(int this)
{
  int v2; // ebp
  _DWORD *v3; // esi
  int v4; // ebx
  _DWORD *i; // [esp+10h] [ebp-8h] BYREF
  int v6; // [esp+14h] [ebp-4h]

  v2 = **(_DWORD **)(this + 156);
  v3 = *(_DWORD **)(this + 132);
  v6 = v2;
  for ( i = v3; ; v3 = i )
  {
    v4 = *(_DWORD *)(this + 156);
    if ( !v3 || v3 != *(_DWORD **)(this + 132) )
      _invalid_parameter_noinfo();
    if ( v2 == v4 )
      break;
    if ( v3 )
      v3 = (_DWORD *)*v3;
    else
      _invalid_parameter_noinfo();
    if ( v2 == v3[6] )
      _invalid_parameter_noinfo();
    sub_44A6E0(*(_DWORD **)(v2 + 280));
    sub_440650(&i);
    v2 = v6;
  }
}

//----- (00440D60) --------------------------------------------------------
void __thiscall sub_440D60(int this, float a2)
{
  int v3; // ebp
  _DWORD *v4; // esi
  int v5; // ebx
  _DWORD *i; // [esp+14h] [ebp-8h] BYREF
  int v7; // [esp+18h] [ebp-4h]

  v3 = **(_DWORD **)(this + 156);
  v4 = *(_DWORD **)(this + 132);
  v7 = v3;
  for ( i = v4; ; v4 = i )
  {
    v5 = *(_DWORD *)(this + 156);
    if ( !v4 || v4 != *(_DWORD **)(this + 132) )
      _invalid_parameter_noinfo();
    if ( v3 == v5 )
      break;
    if ( v4 )
      v4 = (_DWORD *)*v4;
    else
      _invalid_parameter_noinfo();
    if ( v3 == v4[6] )
      _invalid_parameter_noinfo();
    sub_444470(*(float **)(v3 + 280), a2);
    sub_440650(&i);
    v3 = v7;
  }
}

//----- (00440DF0) --------------------------------------------------------
void __thiscall sub_440DF0(int this, _DWORD *a2, _DWORD *a3)
{
  _DWORD *v4; // esi
  int v5; // edi
  int v6; // ebx
  _DWORD *v7; // eax
  double v8; // st7
  float v9; // [esp+4h] [ebp-18h] BYREF
  int v10; // [esp+8h] [ebp-14h] BYREF
  float v11; // [esp+Ch] [ebp-10h] BYREF
  int v12; // [esp+10h] [ebp-Ch] BYREF
  _DWORD *i; // [esp+14h] [ebp-8h] BYREF
  int v14; // [esp+18h] [ebp-4h]

  *a3 = 0;
  *a2 = 0;
  if ( *(_DWORD *)(this + 160) )
  {
    v4 = *(_DWORD **)(this + 132);
    v5 = **(_DWORD **)(this + 156);
    v14 = v5;
    for ( i = v4; ; v4 = i )
    {
      v6 = *(_DWORD *)(this + 156);
      if ( !v4 || v4 != *(_DWORD **)(this + 132) )
        _invalid_parameter_noinfo();
      if ( v5 == v6 )
        break;
      if ( v4 )
      {
        v7 = (_DWORD *)*v4;
      }
      else
      {
        _invalid_parameter_noinfo();
        v7 = 0;
      }
      if ( v5 == v7[6] )
        _invalid_parameter_noinfo();
      sub_4444D0(*(float **)(v5 + 280), &v10, &v12);
      if ( v4 )
        v4 = (_DWORD *)*v4;
      else
        _invalid_parameter_noinfo();
      if ( v5 == v4[6] )
        _invalid_parameter_noinfo();
      sub_4442C0(*(float **)(v5 + 280), &v9, &v11);
      v8 = v11;
      *a2 = v10 + (int)v9;
      *a3 = v12 + (int)v8;
      sub_440650(&i);
      v5 = v14;
    }
  }
}

//----- (00440F00) --------------------------------------------------------
void __thiscall sub_440F00(int this, float a2, float a3)
{
  int v4; // ebp
  _DWORD *v5; // edi
  int v6; // ebx
  double v7; // st7
  float v8; // [esp+4h] [ebp-28h]
  int v9; // [esp+18h] [ebp-14h]
  int v10; // [esp+1Ch] [ebp-10h]
  float v11; // [esp+20h] [ebp-Ch]
  float v12; // [esp+20h] [ebp-Ch]
  _DWORD *v13; // [esp+24h] [ebp-8h] BYREF
  int v14; // [esp+28h] [ebp-4h]

  *(float *)(this + 64) = a2;
  *(float *)(this + 68) = a3;
  v4 = **(_DWORD **)(this + 156);
  v5 = *(_DWORD **)(this + 132);
  v9 = 0;
  v14 = v4;
  v13 = v5;
  v10 = 0;
  while ( 1 )
  {
    v6 = *(_DWORD *)(this + 156);
    if ( !v5 || v5 != *(_DWORD **)(this + 132) )
      _invalid_parameter_noinfo();
    if ( v4 == v6 )
      break;
    if ( *(int *)(this + 56) >= 32 )
    {
      if ( v5 )
        v5 = (_DWORD *)*v5;
      else
        _invalid_parameter_noinfo();
      if ( v4 == v5[6] )
        _invalid_parameter_noinfo();
      v12 = (double)(v9 * *(_DWORD *)(this + 56)) + a3;
      v7 = v12;
    }
    else
    {
      if ( v5 )
        v5 = (_DWORD *)*v5;
      else
        _invalid_parameter_noinfo();
      if ( v4 == v5[6] )
        _invalid_parameter_noinfo();
      v11 = (double)v10 + a3;
      v7 = v11;
    }
    v8 = v7;
    sub_444260(*(float **)(v4 + 280), a2, v8);
    ++v9;
    v10 += 32;
    sub_440650(&v13);
    v4 = v14;
    v5 = v13;
  }
}

//----- (00441010) --------------------------------------------------------
int __thiscall sub_441010(int this)
{
  int v1; // ebx
  int v2; // ebp
  _DWORD *v3; // esi
  int v4; // edi
  _DWORD *v5; // eax
  int v6; // eax
  char *v7; // eax
  char *v8; // edx
  char v9; // cl
  int v10; // eax
  int v11; // eax
  size_t v12; // edi
  int v13; // eax
  unsigned int v14; // kr00_4
  _DWORD *i; // [esp+10h] [ebp-110h] BYREF
  int v17; // [esp+14h] [ebp-10Ch]
  int v18; // [esp+18h] [ebp-108h]
  char String1[256]; // [esp+1Ch] [ebp-104h] BYREF

  v1 = this;
  v2 = **(_DWORD **)(this + 156);
  v3 = *(_DWORD **)(this + 132);
  v18 = this;
  v17 = v2;
  for ( i = v3; ; v3 = i )
  {
    v4 = *(_DWORD *)(v1 + 156);
    if ( !v3 || v3 != *(_DWORD **)(v1 + 132) )
      _invalid_parameter_noinfo();
    if ( v2 == v4 )
      break;
    if ( v3 )
    {
      v5 = (_DWORD *)*v3;
    }
    else
    {
      _invalid_parameter_noinfo();
      v5 = 0;
    }
    if ( v2 == v5[6] )
      _invalid_parameter_noinfo();
    if ( !*(_DWORD *)(v2 + 16) )
      return 1;
    if ( v3 )
    {
      v6 = *v3;
    }
    else
    {
      _invalid_parameter_noinfo();
      v6 = 0;
    }
    if ( v2 == *(_DWORD *)(v6 + 24) )
      _invalid_parameter_noinfo();
    v7 = (char *)sub_44AF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(v2 + 16));
    v8 = String1;
    do
    {
      v9 = *v7;
      *v8++ = *v7++;
    }
    while ( v9 );
    if ( String1[0] )
    {
      if ( v3 )
      {
        v10 = *v3;
      }
      else
      {
        _invalid_parameter_noinfo();
        v10 = 0;
      }
      if ( v2 == *(_DWORD *)(v10 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_BYTE *)(v2 + 24) )
      {
        if ( v3 )
        {
          v11 = *v3;
        }
        else
        {
          _invalid_parameter_noinfo();
          v11 = 0;
        }
        if ( v2 == *(_DWORD *)(v11 + 24) )
          _invalid_parameter_noinfo();
        v12 = strlen((const char *)(v2 + 24));
        if ( v3 )
        {
          v13 = *v3;
        }
        else
        {
          _invalid_parameter_noinfo();
          v13 = 0;
        }
        if ( v2 == *(_DWORD *)(v13 + 24) )
          _invalid_parameter_noinfo();
        if ( !_strnicmp(String1, (const char *)(v2 + 24), v12) )
        {
          v14 = strlen(String1);
          if ( v3 )
            v3 = (_DWORD *)*v3;
          else
            _invalid_parameter_noinfo();
          if ( v2 == v3[6] )
            _invalid_parameter_noinfo();
          if ( v14 == strlen((const char *)(v2 + 24)) )
            return 1;
        }
      }
      v1 = v18;
    }
    sub_440650(&i);
    v2 = v17;
  }
  return 0;
}

//----- (00441200) --------------------------------------------------------
int *__thiscall sub_441200(int *this, int *a2, _DWORD *a3)
{
  int v4; // edi
  int *v5; // ecx
  int v6; // eax
  int v7; // edx
  int *result; // eax
  int v9; // ecx
  int v10; // [esp+Ch] [ebp-10h] BYREF
  int v11; // [esp+10h] [ebp-Ch]
  int v12[2]; // [esp+14h] [ebp-8h] BYREF

  sub_440840(this, &v10, a3);
  v4 = this[6];
  if ( !v10 || v10 != *this )
    _invalid_parameter_noinfo();
  if ( v11 == v4 || *a3 < *(_DWORD *)(v11 + 12) )
  {
    v6 = *this;
    v12[1] = this[6];
    v12[0] = v6;
    v5 = v12;
  }
  else
  {
    v5 = &v10;
  }
  v7 = *v5;
  result = a2;
  v9 = v5[1];
  *a2 = v7;
  a2[1] = v9;
  return result;
}

//----- (00441270) --------------------------------------------------------
void __thiscall sub_441270(_DWORD *this, int a2)
{
  _DWORD *v3; // esi
  int v4; // edx
  int *v5; // ebp
  int *v6; // eax
  int v7; // eax
  int v8; // edx
  _DWORD *v9; // ebx
  int v10; // ebp
  int v11; // [esp+4h] [ebp-18h] BYREF
  int v12; // [esp+8h] [ebp-14h] BYREF
  _DWORD *i; // [esp+Ch] [ebp-10h] BYREF
  int v14; // [esp+10h] [ebp-Ch]
  int v15[2]; // [esp+14h] [ebp-8h] BYREF

  if ( this[40] && sub_40CCD0(Buf, 99, 26) < 11 )
  {
    this[10] = a2;
    v3 = this + 33;
    this[27] = 0;
    v4 = this[33];
    v14 = this[39];
    i = (_DWORD *)v4;
    v5 = sub_441200(this + 33, v15, this + 27);
    if ( !*v5 || (_DWORD *)*v5 != i )
      _invalid_parameter_noinfo();
    if ( v5[1] == v14 )
    {
      this[9] = 0;
      this[11] = 0;
    }
    else
    {
      v6 = sub_441200(this + 33, v15, this + 27);
      v7 = sub_44AC10((int **)v6);
      sub_44B190(*((int **)dword_4C0874 + 63), &v11, &v12, *(_DWORD *)(v7 + 4));
      v8 = v12;
      this[13] = v11;
      this[14] = v8;
      this[15] = 0;
      this[9] = 1;
      this[12] = timeGetTime();
      v9 = (_DWORD *)*v3;
      v14 = *(_DWORD *)this[39];
      for ( i = v9; ; v9 = i )
      {
        v10 = this[39];
        if ( !v9 || v9 != (_DWORD *)*v3 )
          _invalid_parameter_noinfo();
        if ( v14 == v10 )
          break;
        if ( v9 )
          v9 = (_DWORD *)*v9;
        else
          _invalid_parameter_noinfo();
        if ( v14 == v9[6] )
          _invalid_parameter_noinfo();
        sub_444340(*(float **)(v14 + 280), 0, 0, 0, this[14]);
        sub_440650(&i);
      }
    }
  }
}

//----- (004413D0) --------------------------------------------------------
void __thiscall sub_4413D0(int *this)
{
  _DWORD *v1; // ebp
  int v2; // ebx
  int v3; // edi
  int *v4; // esi
  int *v5; // edi
  _DWORD *v6; // esi
  int *v7; // ebx
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // [esp+0h] [ebp-10h] BYREF
  int v15; // [esp+4h] [ebp-Ch] BYREF
  _DWORD *i; // [esp+8h] [ebp-8h] BYREF
  int *v17; // [esp+Ch] [ebp-4h]

  if ( this[40] )
  {
    this[27] = 0;
    v1 = this + 33;
    this[9] = 0;
    this[11] = 0;
    v2 = this[39];
    v3 = this[33];
    v4 = sub_441200(this + 33, (int *)&i, this + 27);
    if ( !*v4 || *v4 != v3 )
      _invalid_parameter_noinfo();
    if ( v4[1] != v2 )
    {
      v5 = *(int **)v1[6];
      v6 = (_DWORD *)*v1;
      v17 = v5;
      for ( i = v6; ; v6 = i )
      {
        v7 = (int *)v1[6];
        if ( !v6 || v6 != (_DWORD *)*v1 )
          _invalid_parameter_noinfo();
        if ( v5 == v7 )
          break;
        if ( v6 )
        {
          v8 = (_DWORD *)*v6;
        }
        else
        {
          _invalid_parameter_noinfo();
          v8 = 0;
        }
        if ( v5 == (int *)v8[6] )
          _invalid_parameter_noinfo();
        if ( v6 )
        {
          v9 = *v6;
        }
        else
        {
          _invalid_parameter_noinfo();
          v9 = 0;
        }
        if ( v5 == *(int **)(v9 + 24) )
          _invalid_parameter_noinfo();
        sub_4440C0(v5[70], v5[4]);
        if ( v6 )
        {
          v10 = *v6;
        }
        else
        {
          _invalid_parameter_noinfo();
          v10 = 0;
        }
        if ( v5 == *(int **)(v10 + 24) )
          _invalid_parameter_noinfo();
        if ( v5[5] )
        {
          if ( v6 )
          {
            v11 = *v6;
          }
          else
          {
            _invalid_parameter_noinfo();
            v11 = 0;
          }
          if ( v5 == *(int **)(v11 + 24) )
            _invalid_parameter_noinfo();
          sub_44BF60(*((int **)dword_4C0874 + 63), v5[5]);
          if ( v6 )
          {
            v12 = *v6;
          }
          else
          {
            _invalid_parameter_noinfo();
            v12 = 0;
          }
          if ( v5 == *(int **)(v12 + 24) )
            _invalid_parameter_noinfo();
          v5[5] = 0;
        }
        if ( v6 )
        {
          v13 = *v6;
        }
        else
        {
          _invalid_parameter_noinfo();
          v13 = 0;
        }
        if ( v5 == *(int **)(v13 + 24) )
          _invalid_parameter_noinfo();
        sub_4444A0((float *)v5[70], &v15, &v14);
        if ( v6 )
          v6 = (_DWORD *)*v6;
        else
          _invalid_parameter_noinfo();
        if ( v5 == (int *)v6[6] )
          _invalid_parameter_noinfo();
        sub_444340((float *)v5[70], 0, 0, v15, v14);
        sub_440650(&i);
        v5 = v17;
      }
    }
  }
}

//----- (004415B0) --------------------------------------------------------
void __thiscall sub_4415B0(void *this, int a2, int a3)
{
  float v3; // [esp+0h] [ebp-8h]
  float v4; // [esp+4h] [ebp-4h]

  v4 = (float)a3;
  v3 = (float)a2;
  sub_440F00((int)this, v3, v4);
}

//----- (004415D0) --------------------------------------------------------
_DWORD *__fastcall sub_4415D0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6)
{
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int *v11; // eax
  int i; // esi
  int v13; // ecx
  int *v14; // edx
  int v15; // edx
  int v16; // eax
  _DWORD *v17; // ecx
  int v18; // edx
  _DWORD *v19; // edx
  _DWORD *result; // eax
  int v21; // ecx
  int v22; // [esp+14h] [ebp-50h] BYREF
  char v23; // [esp+18h] [ebp-4Ch]
  int v24; // [esp+28h] [ebp-3Ch]
  int v25; // [esp+2Ch] [ebp-38h]
  int pExceptionObject[13]; // [esp+30h] [ebp-34h] BYREF

  if ( (unsigned int)a1[7] >= 0xF0F0EF )
  {
    v25 = 15;
    v24 = 0;
    v23 = 0;
    sub_403A30(&v22, a2, "map/set<T> too long", 0x13u);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v22);
    pExceptionObject[0] = (int)&std::length_error::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
  }
  v7 = sub_4407B0(a1[6], (int)a5, a1[6], a6, 0);
  v8 = (_DWORD *)a1[6];
  ++a1[7];
  if ( a5 == v8 )
  {
    v8[1] = v7;
    *(_DWORD *)a1[6] = v7;
    *(_DWORD *)(a1[6] + 8) = v7;
  }
  else if ( a4 )
  {
    *a5 = v7;
    v9 = (_DWORD *)a1[6];
    if ( a5 == (_DWORD *)*v9 )
      *v9 = v7;
  }
  else
  {
    a5[2] = v7;
    v10 = a1[6];
    if ( a5 == *(_DWORD **)(v10 + 8) )
      *(_DWORD *)(v10 + 8) = v7;
  }
  v11 = v7 + 1;
  for ( i = (int)v7; !*(_BYTE *)(*(_DWORD *)(i + 4) + 284); v11 = (int *)(i + 4) )
  {
    v13 = *v11;
    v14 = *(int **)(*v11 + 4);
    if ( *v11 == *v14 )
    {
      v15 = v14[2];
      if ( *(_BYTE *)(v15 + 284) )
      {
        if ( i == *(_DWORD *)(v13 + 8) )
        {
          i = *v11;
          sub_440590(a1, *v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 284) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 284) = 0;
        sub_4405F0(a1, *(_DWORD **)(*(_DWORD *)(i + 4) + 4));
        continue;
      }
    }
    else
    {
      v15 = *v14;
      if ( *(_BYTE *)(v15 + 284) )
      {
        if ( i == *(_DWORD *)v13 )
        {
          i = *v11;
          sub_4405F0(a1, (_DWORD *)*v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 284) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 284) = 0;
        v16 = *(_DWORD *)(*(_DWORD *)(i + 4) + 4);
        v17 = *(_DWORD **)(v16 + 8);
        *(_DWORD *)(v16 + 8) = *v17;
        if ( !*(_BYTE *)(*v17 + 285) )
          *(_DWORD *)(*v17 + 4) = v16;
        v17[1] = *(_DWORD *)(v16 + 4);
        v18 = a1[6];
        if ( v16 == *(_DWORD *)(v18 + 4) )
        {
          *(_DWORD *)(v18 + 4) = v17;
        }
        else
        {
          v19 = *(_DWORD **)(v16 + 4);
          if ( v16 == *v19 )
            *v19 = v17;
          else
            v19[2] = v17;
        }
        *v17 = v16;
        *(_DWORD *)(v16 + 4) = v17;
        continue;
      }
    }
    *(_BYTE *)(v13 + 284) = 1;
    *(_BYTE *)(v15 + 284) = 1;
    *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 284) = 0;
    i = *(_DWORD *)(*v11 + 4);
  }
  *(_BYTE *)(*(_DWORD *)(a1[6] + 4) + 284) = 1;
  result = a3;
  v21 = *a1;
  a3[1] = v7;
  *a3 = v21;
  return result;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (004417E0) --------------------------------------------------------
_DWORD *__fastcall sub_4417E0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 285) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_440650(&a4);
  if ( *(_BYTE *)(*v6 + 285) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 285) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 285) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_440550((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 285) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_440570(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 285) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 285) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 71);
  v18 = (char *)(v8 + 71);
  if ( v18 != (char *)(v6 + 71) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[284] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 284) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[284] )
        {
          v20[284] = 1;
          *(_BYTE *)(v10 + 284) = 0;
          sub_440590(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[285] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 284) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 284) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 284) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 284) = 1;
            v20[284] = 0;
            sub_4405F0(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[284] = *(_BYTE *)(v10 + 284);
          *(_BYTE *)(v10 + 284) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 284) = 1;
          sub_440590(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[284] )
        {
          v20[284] = 1;
          *(_BYTE *)(v10 + 284) = 0;
          sub_4405F0(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[285] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 284) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 284) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 284) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 284) = 1;
            v20[284] = 0;
            sub_440590(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[284] = *(_BYTE *)(v10 + 284);
          *(_BYTE *)(v10 + 284) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 284) = 1;
          sub_4405F0(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[284] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 284) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (00441B30) --------------------------------------------------------
int __thiscall sub_441B30(int this)
{
  _DWORD *v2; // ebx
  int *v3; // edi
  int v4; // ebp
  int result; // eax
  int v6; // edx
  _DWORD *v7; // ebx
  int *v8; // ebp
  int *v9; // ebp
  int *v10; // eax
  int v11; // eax
  int v12; // ebp
  int v13; // eax
  int *v14; // ebp
  int v15; // eax
  int *v16; // ebp
  int *v17; // eax
  int v18; // eax
  int v19; // edx
  int v20; // [esp+0h] [ebp-28h]
  int v21; // [esp+4h] [ebp-24h]
  int v22; // [esp+10h] [ebp-18h] BYREF
  int v23; // [esp+14h] [ebp-14h] BYREF
  _DWORD *i; // [esp+18h] [ebp-10h] BYREF
  int v25; // [esp+1Ch] [ebp-Ch]
  int v26[2]; // [esp+20h] [ebp-8h] BYREF

  v2 = *(_DWORD **)(this + 132);
  v3 = (int *)(this + 132);
  v25 = **(_DWORD **)(this + 156);
  for ( i = v2; ; v2 = i )
  {
    v4 = *(_DWORD *)(this + 156);
    if ( !v2 || v2 != (_DWORD *)*v3 )
      _invalid_parameter_noinfo();
    if ( v25 == v4 )
      break;
    if ( v2 )
      v2 = (_DWORD *)*v2;
    else
      _invalid_parameter_noinfo();
    if ( v25 == v2[6] )
      _invalid_parameter_noinfo();
    sub_448F00(*(_DWORD *)(v25 + 280));
    sub_440650(&i);
  }
  if ( !*(_DWORD *)(this + 36) )
    return *(_DWORD *)(this + 36);
  if ( *(int *)(this + 112) >= 50 )
  {
    sub_4413D0((int *)this);
    return 0;
  }
  v6 = *v3;
  v7 = (_DWORD *)(this + 108);
  v25 = *(_DWORD *)(this + 156);
  i = (_DWORD *)v6;
  v8 = sub_441200((int *)(this + 132), v26, (_DWORD *)(this + 108));
  if ( !*v8 || (_DWORD *)*v8 != i )
    _invalid_parameter_noinfo();
  if ( v8[1] == v25 )
  {
    if ( !*(_DWORD *)(this + 40) )
    {
LABEL_46:
      *(_DWORD *)(this + 44) = 0;
      *(_DWORD *)(this + 36) = 0;
      return *(_DWORD *)(this + 36);
    }
    if ( *(int *)(this + 44) > 0 )
    {
      if ( timeGetTime() - *(_DWORD *)(this + 48) <= *(_DWORD *)(this + 44) )
        return 1;
      *(_DWORD *)(this + 48) = timeGetTime();
    }
    sub_441270((_DWORD *)this, 1);
    return 1;
  }
  v9 = sub_441200((int *)(this + 132), v26, (_DWORD *)(this + 108));
  v10 = (int *)*v9;
  if ( *v9 || (_invalid_parameter_noinfo(), (v10 = (int *)*v9) != 0) )
    v11 = *v10;
  else
    v11 = 0;
  if ( v9[1] == *(_DWORD *)(v11 + 24) )
    _invalid_parameter_noinfo();
  v12 = v9[1];
  *(_DWORD *)(this + 60) += *(_DWORD *)(this + 112);
  v13 = *(_DWORD *)(this + 60);
  v14 = (int *)(v12 + 16);
  if ( v13 >= *(_DWORD *)(this + 52) )
  {
    sub_4440C0(v14[66], *v14);
    if ( v14[1] )
    {
      sub_44BF60(*((int **)dword_4C0874 + 63), v14[1]);
      v14[1] = 0;
    }
    ++*v7;
    *(_DWORD *)(this + 60) = 0;
    v15 = *v3;
    v25 = *(_DWORD *)(this + 156);
    i = (_DWORD *)v15;
    v16 = sub_441200((int *)(this + 132), v26, (_DWORD *)(this + 108));
    if ( !*v16 || (_DWORD *)*v16 != i )
      _invalid_parameter_noinfo();
    if ( v16[1] != v25 )
    {
      v17 = sub_441200((int *)(this + 132), v26, (_DWORD *)(this + 108));
      v18 = sub_44AC10((int **)v17);
      sub_44B190(*((int **)dword_4C0874 + 63), &v22, &v23, *(_DWORD *)(v18 + 4));
      v19 = v22;
      *(_DWORD *)(this + 56) = v23;
      result = *(_DWORD *)(this + 36);
      *(_DWORD *)(this + 52) = v19;
      *(_DWORD *)(this + 60) = 0;
      return result;
    }
    if ( *(_DWORD *)(this + 40) )
    {
      if ( !*(_DWORD *)(this + 44) )
      {
        sub_441270((_DWORD *)this, 1);
        return 1;
      }
      return 1;
    }
    goto LABEL_46;
  }
  if ( sub_43E550((int)v7, (int)v3, v13, *(_DWORD *)(this + 56), (int)v14, v20, v21) )
  {
    sub_4440C0(v14[66], v14[1]);
  }
  else
  {
    sub_4440C0(v14[66], *v14);
    *(_DWORD *)(this + 60) = *(_DWORD *)(this + 52);
  }
  return *(_DWORD *)(this + 36);
}
// 441D49: variable 'v20' is possibly undefined
// 441D49: variable 'v21' is possibly undefined

//----- (00441DE0) --------------------------------------------------------
int __thiscall sub_441DE0(int *this, int a2, int *a3)
{
  _DWORD *v4; // esi
  int *v5; // eax
  bool v6; // cl
  int v7; // edx
  int v8; // edx
  int v9; // ebp
  _DWORD *v10; // ebp
  int *v11; // ecx
  int v12; // edx
  int result; // eax
  int *v14; // ecx
  char v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h] BYREF
  _DWORD *v17; // [esp+18h] [ebp-4h]

  v4 = (_DWORD *)this[6];
  v5 = (int *)v4[1];
  v6 = 1;
  v15 = 1;
  if ( !*((_BYTE *)v5 + 285) )
  {
    v7 = *a3;
    do
    {
      v4 = v5;
      v6 = v7 < v5[3];
      v15 = v6;
      if ( v7 >= v5[3] )
        v5 = (int *)v5[2];
      else
        v5 = (int *)*v5;
    }
    while ( !*((_BYTE *)v5 + 285) );
  }
  v8 = *this;
  v9 = (int)v4;
  v17 = v4;
  v16 = v8;
  if ( v6 )
  {
    v10 = *(_DWORD **)this[6];
    if ( !v8 )
      _invalid_parameter_noinfo();
    if ( v4 == v10 )
    {
      v11 = sub_4415D0(this, v8, &v16, 1, v4, a3);
      v12 = *v11;
      result = a2;
      *(_DWORD *)(a2 + 4) = v11[1];
      *(_BYTE *)(a2 + 8) = 1;
      *(_DWORD *)a2 = v12;
      return result;
    }
    sub_4406D0(&v16);
    v9 = (int)v17;
    v8 = v16;
  }
  if ( *(_DWORD *)(v9 + 12) >= *a3 )
  {
    result = a2;
    *(_DWORD *)(a2 + 4) = v9;
    *(_BYTE *)(a2 + 8) = 0;
  }
  else
  {
    v14 = sub_4415D0(this, (int)&v16, &v16, v15, v4, a3);
    v8 = *v14;
    result = a2;
    *(_DWORD *)(a2 + 4) = v14[1];
    *(_BYTE *)(a2 + 8) = 1;
  }
  *(_DWORD *)a2 = v8;
  return result;
}
// 441E55: variable 'v8' is possibly undefined

//----- (00441EE0) --------------------------------------------------------
_DWORD *__thiscall sub_441EE0(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_440800();
  this[6] = v5;
  *((_BYTE *)v5 + 285) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (00441F70) --------------------------------------------------------
int *__thiscall sub_441F70(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_440770(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_440650(&a3);
      sub_4417E0(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 44202F: variable 'v14' is possibly undefined

//----- (00442050) --------------------------------------------------------
char *__thiscall sub_442050(int this, char *Str)
{
  char *result; // eax
  int v4; // esi
  float *v5; // edi
  _DWORD *v6; // eax
  _DWORD *v7; // esi
  int v8; // edi
  int v9; // eax
  int v10; // eax
  int v11; // edx
  int v12; // [esp+18h] [ebp-254h]
  float v13; // [esp+18h] [ebp-254h]
  float *v14; // [esp+1Ch] [ebp-250h]
  _DWORD *v15; // [esp+20h] [ebp-24Ch] BYREF
  int v16; // [esp+24h] [ebp-248h]
  int v17; // [esp+2Ch] [ebp-240h] BYREF
  int v18; // [esp+30h] [ebp-23Ch] BYREF
  int v19; // [esp+34h] [ebp-238h] BYREF
  char v20[268]; // [esp+38h] [ebp-234h] BYREF
  char *v21[69]; // [esp+144h] [ebp-128h] BYREF
  int v22; // [esp+268h] [ebp-4h]

  result = sub_43E6C0(this, v21, Str);
  v4 = (int)result;
  v5 = 0;
  if ( result )
  {
    v6 = operator new(0x784u);
    v22 = 0;
    if ( v6 )
    {
      v5 = (float *)sub_448B00(v6);
      v14 = v5;
    }
    else
    {
      v14 = 0;
    }
    v22 = -1;
    sub_445250(v5, v4);
    sub_444240(v5, 1);
    v7 = *(_DWORD **)(this + 132);
    v16 = **(_DWORD **)(this + 156);
    v15 = v7;
    v12 = 0;
    while ( 1 )
    {
      v8 = *(_DWORD *)(this + 156);
      if ( !v7 || v7 != *(_DWORD **)(this + 132) )
        _invalid_parameter_noinfo();
      if ( v16 == v8 )
        break;
      v9 = *(_DWORD *)(this + 128);
      if ( v9 )
      {
        v12 += v9;
        sub_440650(&v15);
        v7 = v15;
      }
      else
      {
        if ( v7 )
          v7 = (_DWORD *)*v7;
        else
          _invalid_parameter_noinfo();
        if ( v16 == v7[6] )
          _invalid_parameter_noinfo();
        sub_4444D0(*(float **)(v16 + 280), &v18, &v17);
        v12 += v17;
        sub_440650(&v15);
        v7 = v15;
      }
    }
    v13 = *(float *)(this + 68) + (double)v12;
    sub_444260(v14, *(float *)(this + 64), v13);
    v10 = *(_DWORD *)(this + 104);
    v11 = *(_DWORD *)(this + 88);
    v21[66] = (char *)v14;
    v19 = v10;
    qmemcpy(v20, v21, sizeof(v20));
    *(_DWORD *)(this + 120) = v11;
    *(_DWORD *)(this + 116) = 0;
    result = (char *)sub_441DE0((int *)(this + 132), (int)&v15, &v19);
    ++*(_DWORD *)(this + 104);
  }
  return result;
}

//----- (00442240) --------------------------------------------------------
char *__thiscall sub_442240(int this, wchar_t *Str, char *a3)
{
  char *result; // eax
  int v5; // esi
  float *v6; // edi
  _DWORD *v7; // eax
  _DWORD *v8; // esi
  int v9; // edi
  int v10; // eax
  int v11; // eax
  int v12; // edx
  int v13; // [esp+18h] [ebp-254h]
  float v14; // [esp+18h] [ebp-254h]
  float *v15; // [esp+1Ch] [ebp-250h]
  _DWORD *v16; // [esp+20h] [ebp-24Ch] BYREF
  int v17; // [esp+24h] [ebp-248h]
  int v18; // [esp+2Ch] [ebp-240h] BYREF
  int v19; // [esp+30h] [ebp-23Ch] BYREF
  int v20; // [esp+34h] [ebp-238h] BYREF
  char v21[268]; // [esp+38h] [ebp-234h] BYREF
  char *v22[69]; // [esp+144h] [ebp-128h] BYREF
  int v23; // [esp+268h] [ebp-4h]

  result = sub_43F620(this, v22, Str, a3);
  v5 = (int)result;
  v6 = 0;
  if ( result )
  {
    v7 = operator new(0x784u);
    v23 = 0;
    if ( v7 )
    {
      v6 = (float *)sub_448B00(v7);
      v15 = v6;
    }
    else
    {
      v15 = 0;
    }
    v23 = -1;
    sub_445250(v6, v5);
    sub_444240(v6, 1);
    v8 = *(_DWORD **)(this + 132);
    v17 = **(_DWORD **)(this + 156);
    v16 = v8;
    v13 = 0;
    while ( 1 )
    {
      v9 = *(_DWORD *)(this + 156);
      if ( !v8 || v8 != *(_DWORD **)(this + 132) )
        _invalid_parameter_noinfo();
      if ( v17 == v9 )
        break;
      v10 = *(_DWORD *)(this + 128);
      if ( v10 )
      {
        v13 += v10;
        sub_440650(&v16);
        v8 = v16;
      }
      else
      {
        if ( v8 )
          v8 = (_DWORD *)*v8;
        else
          _invalid_parameter_noinfo();
        if ( v17 == v8[6] )
          _invalid_parameter_noinfo();
        sub_4444D0(*(float **)(v17 + 280), &v19, &v18);
        v13 += v18;
        sub_440650(&v16);
        v8 = v16;
      }
    }
    v14 = *(float *)(this + 68) + (double)v13;
    sub_444260(v15, *(float *)(this + 64), v14);
    v11 = *(_DWORD *)(this + 104);
    v12 = *(_DWORD *)(this + 88);
    v22[66] = (char *)v15;
    v20 = v11;
    qmemcpy(v21, v22, sizeof(v21));
    *(_DWORD *)(this + 120) = v12;
    *(_DWORD *)(this + 116) = 0;
    result = (char *)sub_441DE0((int *)(this + 132), (int)&v16, &v20);
    ++*(_DWORD *)(this + 104);
  }
  return result;
}

//----- (00442430) --------------------------------------------------------
char *__thiscall sub_442430(_DWORD *this, char *Str)
{
  char *v2; // esi
  char *result; // eax
  int v5; // ebp
  char *v6; // edi
  char v7[260]; // [esp+8h] [ebp-108h] BYREF

  v2 = Str;
  if ( strlen(Str) > 0x104 )
    return (char *)MessageBoxA(0, "SetStr overflow", WindowName, 0x42000u);
  v5 = this[18];
  this[23] = 22;
  if ( strstr(Str, word_48B810) )
  {
    strcpy(v7, Str);
    v2 = v7;
    if ( strstr(v7, word_48B810) )
    {
      do
      {
        v6 = strstr(v2, word_48B810);
        *v6 = 0;
        sub_442050((int)this, v2);
        v2 = v6 + 1;
      }
      while ( strstr(v6 + 1, word_48B810) );
    }
  }
  result = sub_442050((int)this, v2);
  this[18] = v5;
  this[32] = 0;
  return result;
}

//----- (00442530) --------------------------------------------------------
char *__thiscall sub_442530(_DWORD *this, wchar_t *a2, char *a3)
{
  wchar_t *v3; // ebx
  const char *v4; // esi
  char *result; // eax
  wchar_t *v7; // eax
  wchar_t v8; // cx
  wchar_t *v9; // edi
  wchar_t v10; // ax
  wchar_t *v11; // eax
  wchar_t v12; // cx
  wchar_t *v13; // esi
  char *v14; // eax
  const wchar_t *v15; // esi
  char *v16; // [esp+Ch] [ebp-524h]
  int v17; // [esp+10h] [ebp-520h]
  char Str[260]; // [esp+18h] [ebp-518h] BYREF
  wchar_t v19[260]; // [esp+11Ch] [ebp-414h] BYREF
  unsigned __int16 v20[260]; // [esp+324h] [ebp-20Ch] BYREF

  v3 = a2;
  v4 = a3;
  if ( wcslen(a2) > 0x104 )
    return (char *)MessageBoxA(0, "SetStr overflow", WindowName, 0x42000u);
  v17 = this[18];
  v16 = a3;
  this[23] = 22;
  if ( a2[wcslen(a2) - 1] == 10 )
    a2[wcslen(a2) - 1] = 0;
  if ( !wcsstr(a2, asc_4921F8) && wcslen(a2) > 0x1E )
  {
    v7 = a2 + 30;
    do
    {
      v8 = *v7;
      *(wchar_t *)((char *)v7 + (char *)v20 - (char *)(a2 + 30)) = *v7;
      ++v7;
    }
    while ( v8 );
    a2[30] = 0;
    v9 = a2 - 1;
    do
    {
      v10 = v9[1];
      ++v9;
    }
    while ( v10 );
    *(_DWORD *)v9 = *(_DWORD *)asc_4921F8;
    wcscat(a2, v20);
    v4 = a3;
  }
  if ( wcsstr(a2, asc_4921F8) )
  {
    v11 = a2;
    do
    {
      v12 = *v11;
      *(wchar_t *)((char *)v11 + (char *)v19 - (char *)a2) = *v11;
      ++v11;
    }
    while ( v12 );
    v3 = v19;
    strcpy(Str, v4);
    v16 = Str;
    if ( wcsstr(v19, asc_4921F8) )
    {
      do
      {
        v13 = wcsstr(v3, asc_4921F8);
        v14 = strstr(Str, word_48B810);
        *v13 = 0;
        v15 = v13 + 1;
        if ( v14 )
          *v14 = 0;
        sub_442240((int)this, v3, Str);
        v3 = (wchar_t *)v15;
      }
      while ( wcsstr(v15, asc_4921F8) );
    }
  }
  result = sub_442240((int)this, v3, v16);
  this[18] = v17;
  this[32] = 0;
  return result;
}
// 442530:  unsigned __int16 var_20C[260]

//----- (00442790) --------------------------------------------------------
void __thiscall sub_442790(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_441F70((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (00442820) --------------------------------------------------------
void __thiscall sub_442820(_DWORD *this)
{
  sub_440880((int)this);
  *this = 0;
  sub_442790((int)(this + 33));
}

//----- (00442880) --------------------------------------------------------
int *__thiscall sub_442880(int *this)
{
  int v2; // eax
  char v4; // [esp+Fh] [ebp-11h] BYREF
  int *v5; // [esp+10h] [ebp-10h]
  int v6; // [esp+1Ch] [ebp-4h]

  v5 = this;
  sub_441EE0(this + 33, (int)&v4, (int)&v4);
  v6 = 0;
  v2 = sub_438B50(dword_4C0874);
  *((float *)this + 17) = 0.0;
  *this = v2;
  *((float *)this + 16) = 0.0;
  this[22] = 0;
  this[21] = 0;
  this[31] = 0;
  this[26] = 0;
  this[28] = 8;
  this[1] = *((_DWORD *)dword_4C0874 + 65);
  this[2] = *((_DWORD *)dword_4C0874 + 66);
  this[3] = *((_DWORD *)dword_4C0874 + 67);
  this[4] = *((_DWORD *)dword_4C0874 + 68);
  this[5] = *((_DWORD *)dword_4C0874 + 69);
  this[6] = *((_DWORD *)dword_4C0874 + 70);
  this[7] = *((_DWORD *)dword_4C0874 + 71);
  this[8] = *((_DWORD *)dword_4C0874 + 72);
  this[20] = *((_DWORD *)dword_4C0874 + 64);
  this[24] = 5;
  this[25] = 16;
  this[9] = 0;
  this[10] = 0;
  this[11] = 0;
  this[18] = 0xFFFFFF;
  this[19] = 0;
  this[42] = 0;
  this[41] = 0;
  this[12] = 0;
  this[14] = 0;
  this[13] = 0;
  this[15] = 0;
  this[27] = 0;
  this[30] = 0;
  this[29] = 0;
  this[32] = 0;
  this[43] = 0;
  setlocale(0, "japanese");
  return this;
}

//----- (004429F0) --------------------------------------------------------
DWORD __thiscall sub_4429F0(DWORD *this, int a2, int a3)
{
  DWORD result; // eax

  result = a2 == 0;
  this[3] = 0;
  this[2] = 0;
  this[1] = 0;
  this[7] = 0;
  this[6] = 0;
  this[5] = 0;
  this[4] = 0;
  if ( ((unsigned __int8)result & (a3 == 0)) == 0 )
  {
    result = timeGetTime();
    *this = result;
    this[2] = a2;
    this[3] = a3;
    this[1] = 0;
    flt_4C0A60 = (double)a2 / (double)a3;
  }
  return result;
}
// 4C0A60:  float flt_4C0A60

//----- (00442A50) --------------------------------------------------------
BOOL __thiscall sub_442A50(_DWORD *this)
{
  int v2; // edi
  DWORD Time; // eax
  int v4; // ebp
  int v5; // ecx

  v2 = 0;
  Time = timeGetTime();
  v4 = this[2];
  v5 = this[3];
  while ( (int)(Time - v4 * (this[1] + 1) / v5 - *this) >= 0 )
  {
    ++this[1];
    ++v2;
    if ( this[1] >= v5 )
    {
      *this += v4;
      this[1] = 0;
    }
  }
  ++this[5];
  return v2 > 0;
}

//----- (00442AB0) --------------------------------------------------------
int __thiscall sub_442AB0(_DWORD *this, int a2)
{
  return this[a2 + 17];
}

//----- (00442AC0) --------------------------------------------------------
BOOL __thiscall sub_442AC0(_DWORD *this, int a2)
{
  return this[a2 + 17] == 1;
}

//----- (00442AE0) --------------------------------------------------------
BOOL __thiscall sub_442AE0(_DWORD *this, int a2)
{
  return this[a2 + 17] == 2;
}

//----- (00442B00) --------------------------------------------------------
BOOL __thiscall sub_442B00(_DWORD *this, int a2)
{
  return this[a2 + 17] == 4;
}

//----- (00442B20) --------------------------------------------------------
BOOL __thiscall sub_442B20(_DWORD *this, int a2)
{
  return this[a2 + 17] == 3;
}

//----- (00442B40) --------------------------------------------------------
int __thiscall sub_442B40(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[a2 + 17] = 0;
  return result;
}

//----- (00442B50) --------------------------------------------------------
void *__thiscall sub_442B50(_DWORD *this, int a2, int a3, int a4)
{
  void *result; // eax
  float v5; // [esp+10h] [ebp+Ch]
  float v6; // [esp+10h] [ebp+Ch]

  this[2] = a2;
  this[3] = a3;
  if ( a4 != -1 )
    this[12] = a4;
  result = dword_4C0874;
  if ( *((_DWORD *)dword_4C0874 + 5) )
  {
    v5 = (double)a2 - *((float *)dword_4C0874 + 61);
    this[2] = (int)(v5 / *((float *)dword_4C0874 + 59));
    v6 = (double)a3 - *((float *)dword_4C0874 + 62);
    result = (void *)(int)(v6 / *((float *)dword_4C0874 + 60));
    this[3] = result;
  }
  return result;
}

//----- (00442BD0) --------------------------------------------------------
_DWORD *__thiscall sub_442BD0(_DWORD *this, _DWORD *a2)
{
  int v2; // edx
  _DWORD *result; // eax
  int v4; // ecx

  v2 = this[2];
  result = a2;
  v4 = this[3];
  *a2 = v2;
  a2[1] = v4;
  return result;
}

//----- (00442BF0) --------------------------------------------------------
void *__thiscall sub_442BF0(int this, int a2, int a3, int a4)
{
  void *result; // eax
  int v5; // edx
  double v6; // st7
  double v7; // rt0
  int v8; // [esp+4h] [ebp-8h]
  int v9; // [esp+8h] [ebp-4h]
  float v10; // [esp+10h] [ebp+4h]
  float v11; // [esp+10h] [ebp+4h]
  float v12; // [esp+10h] [ebp+4h]
  float v13; // [esp+10h] [ebp+4h]
  float v14; // [esp+14h] [ebp+8h]

  result = Buf;
  if ( *((_DWORD *)Buf + 33) )
  {
    v5 = *(_DWORD *)(this + 12);
    result = (void *)a2;
    *(float *)(this + 328) = (float)*(int *)(this + 8);
    v8 = a2;
    v9 = a3;
    *(float *)(this + 332) = (float)v5;
    if ( *((_DWORD *)dword_4C0874 + 5) )
    {
      v8 = (int)((double)(int)(*((float *)dword_4C0874 + 59) * (double)a2) + *((float *)dword_4C0874 + 61));
      result = (void *)(int)((double)(int)(*((float *)dword_4C0874 + 60) * (double)a3) + *((float *)dword_4C0874 + 62));
      v9 = (int)result;
    }
    *(_DWORD *)(this + 344) = 1;
    v10 = (float)v8;
    v6 = v10;
    *(float *)(this + 336) = v10;
    v11 = (float)v9;
    *(float *)(this + 340) = v11;
    v14 = (float)a4;
    v7 = v11;
    v12 = v6 - *(float *)(this + 328);
    *(float *)(this + 320) = v12 / v14;
    v13 = v7 - *(float *)(this + 332);
    *(float *)(this + 324) = v13 / v14;
  }
  return result;
}

//----- (00442D10) --------------------------------------------------------
void __thiscall sub_442D10(_DWORD *this)
{
  this[1] = 1;
}

//----- (00442D20) --------------------------------------------------------
int __usercall sub_442D20@<eax>(int result@<eax>, int a2@<ecx>)
{
  int v2; // edx
  int v3; // eax
  bool v4; // zf
  _DWORD *v5; // eax

  v2 = 0;
  *(_DWORD *)(a2 + 4) = 1;
  if ( vKey != -1 )
  {
    result = 0;
    do
    {
      v3 = dword_4B4EF4[result];
      v4 = *(_DWORD *)(a2 + 4 * v3 + 68) == 2;
      v5 = (_DWORD *)(a2 + 4 * v3 + 68);
      if ( !v4 )
        *v5 = 0;
      ++v2;
      result = 2 * v2;
    }
    while ( *(&vKey + 2 * v2) != -1 );
  }
  return result * 4;
}
// 4B4EF4:  int dword_4B4EF4[]

//----- (00442D70) --------------------------------------------------------
int __thiscall sub_442D70(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  *this = a2;
  return result;
}

//----- (00442D80) --------------------------------------------------------
int __thiscall sub_442D80(void *this)
{
  return *(_DWORD *)this;
}

//----- (00442D90) --------------------------------------------------------
void *__thiscall sub_442D90(_DWORD *this, void *a2)
{
  void *result; // eax
  bool v3; // zf

  result = Buf;
  if ( Buf )
  {
    if ( *((_DWORD *)Buf + 25) )
    {
      result = a2;
      if ( (void *)this[13] != a2 )
      {
        v3 = *this == 0;
        this[13] = a2;
        if ( v3 )
        {
          this[79] = timeGetTime();
          do
            result = (void *)ShowCursor(1);
          while ( (int)result < 0 );
        }
        else if ( a2 )
        {
          this[79] = timeGetTime();
          do
            result = (void *)ShowCursor(1);
          while ( (int)result < 0 );
        }
        else
        {
          do
            result = (void *)ShowCursor(0);
          while ( (int)result >= 0 );
        }
      }
    }
  }
  return result;
}

//----- (00442E10) --------------------------------------------------------
DWORD __thiscall sub_442E10(_DWORD *this, int a2)
{
  if ( this[a2 + 17] == 2 )
    return timeGetTime() - this[a2 + 48];
  else
    return 0;
}

//----- (00442E40) --------------------------------------------------------
DWORD __thiscall sub_442E40(_DWORD *this, int a2)
{
  DWORD result; // eax

  result = timeGetTime();
  this[a2 + 48] = result;
  return result;
}

//----- (00442E60) --------------------------------------------------------
int __thiscall sub_442E60(_DWORD *this)
{
  sub_442D90(this, (void *)1);
  this[79] = timeGetTime();
  return sub_442D70(this, 1);
}

//----- (00442E90) --------------------------------------------------------
DWORD __thiscall sub_442E90(_DWORD *this, int a2)
{
  DWORD result; // eax

  this[14] = a2;
  result = timeGetTime();
  this[15] = result;
  return result;
}

//----- (00442EB0) --------------------------------------------------------
BOOL __thiscall sub_442EB0(_DWORD *this)
{
  return sub_442D80(this) && this[16] && this[16] < timeGetTime() - this[79];
}

//----- (00442EE0) --------------------------------------------------------
DWORD __thiscall sub_442EE0(_DWORD *this, int a2)
{
  DWORD result; // eax

  this[16] = a2;
  result = timeGetTime();
  this[79] = result;
  return result;
}

//----- (00442F00) --------------------------------------------------------
void *__thiscall sub_442F00(_DWORD *this)
{
  memset(this + 2, 0, 0x3Cu);
  memset(this + 17, 0, 0x7Cu);
  this[80] = 0;
  this[81] = 0;
  this[82] = 0;
  this[83] = 0;
  this[84] = 0;
  this[85] = 0;
  this[86] = 0;
  *this = 1;
  this[1] = 0;
  this[79] = timeGetTime();
  sub_442D70(this, 1);
  return memset(this + 48, 0, 0x7Cu);
}

//----- (00442F80) --------------------------------------------------------
BOOL __thiscall sub_442F80(_DWORD *this)
{
  _DWORD *v1; // ecx
  _DWORD *v2; // ecx
  BOOL result; // eax

  if ( sub_442B00(this, 1) )
    return 1;
  if ( sub_442B00(v1, 7) )
    return 1;
  result = sub_442B00(v2, 16);
  if ( result )
    return 1;
  return result;
}
// 442F8D: variable 'v1' is possibly undefined
// 442F98: variable 'v2' is possibly undefined

//----- (00442FB0) --------------------------------------------------------
BOOL __thiscall sub_442FB0(_DWORD *this)
{
  _DWORD *v1; // ecx
  BOOL result; // eax

  if ( sub_442B00(this, 2) )
    return 1;
  result = sub_442B00(v1, 12);
  if ( result )
    return 1;
  return result;
}
// 442FBD: variable 'v1' is possibly undefined

//----- (00442FD0) --------------------------------------------------------
BOOL __thiscall sub_442FD0(_DWORD *this, int a2)
{
  _DWORD *v2; // ecx
  BOOL result; // eax

  if ( sub_442AC0(this, a2) )
    return 1;
  result = sub_442AE0(v2, a2);
  if ( result )
    return 1;
  return result;
}
// 442FE0: variable 'v2' is possibly undefined

//----- (00443000) --------------------------------------------------------
BOOL __thiscall sub_443000(_DWORD *this, int a2)
{
  _DWORD *v2; // ecx
  BOOL result; // eax

  if ( sub_442B00(this, a2) )
    return 1;
  result = sub_442AE0(v2, a2);
  if ( result )
    return 1;
  return result;
}
// 443010: variable 'v2' is possibly undefined

//----- (00443030) --------------------------------------------------------
void *__thiscall sub_443030(_DWORD *this, int a2, int a3, int a4)
{
  void *result; // eax
  float v6; // [esp+10h] [ebp+Ch]
  float v7; // [esp+10h] [ebp+Ch]

  sub_442D90(this, (void *)1);
  this[2] = a2;
  this[3] = a3;
  if ( a4 != -1 )
    this[12] = a4;
  result = dword_4C0874;
  if ( *((_DWORD *)dword_4C0874 + 5) )
  {
    v6 = (double)a2 - *((float *)dword_4C0874 + 61);
    this[2] = (int)(v6 / *((float *)dword_4C0874 + 59));
    v7 = (double)a3 - *((float *)dword_4C0874 + 62);
    result = (void *)(int)(v7 / *((float *)dword_4C0874 + 60));
    this[3] = result;
  }
  return result;
}

//----- (004430B0) --------------------------------------------------------
_DWORD *__thiscall sub_4430B0(void *this, _DWORD *a2)
{
  bool v2; // zf
  int v3; // ecx
  _DWORD *result; // eax
  int v5; // edx

  v2 = sub_442D80(this) == 0;
  result = a2;
  if ( v2 )
  {
    a2[1] = -1;
    *a2 = -1;
  }
  else
  {
    v5 = *(_DWORD *)(v3 + 8);
    a2[1] = *(_DWORD *)(v3 + 12);
    *a2 = v5;
  }
  return result;
}
// 4430CA: variable 'v3' is possibly undefined

//----- (004430E0) --------------------------------------------------------
void *__thiscall sub_4430E0(_DWORD *this, int vKey, int a3)
{
  void *result; // eax
  bool v5; // zf
  struct tagPOINT Point; // [esp+8h] [ebp-8h] BYREF

  if ( *this )
  {
    if ( (a3 == 1 || a3 == 2)
      && ((GetCursorPos(&Point), result = (void *)ScreenToClient(hWnd, &Point), Point.y < 0)
       || Point.x < 0
       || (result = dword_4C0874, Point.y > *((_DWORD *)dword_4C0874 + 58))
       || Point.x > *((_DWORD *)dword_4C0874 + 57)) )
    {
      this[a3 + 17] = 0;
    }
    else
    {
      v5 = GetAsyncKeyState(vKey) >= 0;
      result = (void *)this[a3 + 17];
      if ( v5 )
      {
        if ( result == (void *)3 || result == (void *)2 || result == (void *)1 )
          this[a3 + 17] = 4;
        else
          this[a3 + 17] = 0;
      }
      else if ( !result || result == (void *)4 )
      {
        this[a3 + 17] = 1;
        result = (void *)timeGetTime();
        this[a3 + 48] = result;
      }
      else if ( result != (void *)2 )
      {
        this[a3 + 17] = 3;
        result = (void *)(timeGetTime() - this[a3 + 48]);
        if ( (unsigned int)result > 0xC8 )
          this[a3 + 17] = 2;
      }
      if ( a3 == 1 || a3 == 2 )
      {
        if ( this[a3 + 17] )
          return sub_442D90(this, (void *)1);
      }
    }
  }
  else
  {
    result = (void *)a3;
    this[a3 + 17] = 0;
  }
  return result;
}

//----- (00443210) --------------------------------------------------------
void *__thiscall sub_443210(int this)
{
  int x; // eax
  int v3; // ecx
  int v4; // edi
  int v5; // eax
  DWORD (__stdcall *v6)(); // ebp
  void *result; // eax
  int v8; // ecx
  int v9; // edx
  int v10; // ecx
  int v11; // eax
  _DWORD *v12; // ecx
  float *v13; // ecx
  long double v14; // st7
  float *v15; // edi
  long double v16; // st7
  double v17; // st7
  struct tagPOINT v18; // [esp+10h] [ebp-10h] BYREF
  struct tagPOINT Point; // [esp+18h] [ebp-8h] BYREF

  GetCursorPos(&Point);
  x = Point.x;
  if ( Point.x != *(_DWORD *)(this + 32) || Point.y != *(_DWORD *)(this + 36) )
  {
    *(_DWORD *)(this + 36) = Point.y;
    v3 = *(_DWORD *)(this + 8) - 1;
    *(_DWORD *)(this + 32) = x;
    *(_DWORD *)(this + 16) = v3;
  }
  v4 = 0;
  if ( *(_DWORD *)(this + 4) )
  {
    sub_442D20(x, this);
    *(_DWORD *)(this + 4) = 0;
  }
  v5 = *(_DWORD *)(this + 8);
  if ( v5 == *(_DWORD *)(this + 16) && *(_DWORD *)(this + 12) == *(_DWORD *)(this + 20) )
  {
    v6 = timeGetTime;
    result = (void *)(timeGetTime() - *(_DWORD *)(this + 316));
    if ( (unsigned int)result > 0x1388 )
      result = sub_442D90((_DWORD *)this, 0);
    *(_DWORD *)(this + 40) = 0;
  }
  else
  {
    v6 = timeGetTime;
    *(_DWORD *)(this + 16) = v5;
    *(_DWORD *)(this + 20) = *(_DWORD *)(this + 12);
    *(_DWORD *)(this + 316) = timeGetTime();
    result = sub_442D90((_DWORD *)this, (void *)1);
    *(_DWORD *)(this + 40) = 1;
  }
  if ( !*(_DWORD *)this )
  {
    v8 = 0;
    *(_DWORD *)(this + 8) = -1;
    *(_DWORD *)(this + 12) = -1;
    if ( vKey != -1 )
    {
      result = 0;
      do
      {
        v9 = *(int *)((char *)dword_4B4EF4 + (_DWORD)result);
        ++v8;
        result = (void *)(8 * v8);
        *(_DWORD *)(this + 4 * v9 + 68) = 0;
      }
      while ( *(&vKey + 2 * v8) != -1 );
    }
    return result;
  }
  v10 = vKey;
  if ( vKey != -1 )
  {
    v11 = 0;
    do
    {
      sub_4430E0((_DWORD *)this, v10, dword_4B4EF4[v11]);
      ++v4;
      v11 = 2 * v4;
      v10 = *(&vKey + 2 * v4);
    }
    while ( v10 != -1 );
  }
  if ( sub_442FD0((_DWORD *)this, 8) && sub_442B00(v12, 7) )
    *(_DWORD *)(this + 96) = 0;
  if ( !*(_DWORD *)(this + 56) )
    goto LABEL_26;
  result = (void *)(v6() - *(_DWORD *)(this + 60));
  if ( (unsigned int)result > *(_DWORD *)(this + 56) )
  {
    *(_DWORD *)(this + 56) = 0;
LABEL_26:
    result = *(void **)(this + 48);
    if ( result == (void *)34 )
      *(_DWORD *)(this + 132) = 4;
    if ( result == (void *)33 )
      *(_DWORD *)(this + 128) = 4;
    goto LABEL_31;
  }
  *(_DWORD *)(this + 132) = 0;
  *(_DWORD *)(this + 128) = 0;
LABEL_31:
  *(_DWORD *)(this + 48) = 0;
  if ( *(_DWORD *)(this + 344) )
  {
    v13 = (float *)(this + 328);
    v14 = *(float *)(this + 320);
    *(float *)(this + 328) = *(float *)(this + 328) + v14;
    *(float *)&v18.x = fabs(v14);
    if ( *(float *)(this + 328) >= *(float *)(this + 336) - *(float *)&v18.x
      && *v13 <= *(float *)&v18.x + *(float *)(this + 336) )
    {
      *v13 = *(float *)(this + 336);
    }
    v15 = (float *)(this + 332);
    v16 = *(float *)(this + 324);
    *(float *)(this + 332) = *(float *)(this + 332) + v16;
    *(float *)&v18.x = fabs(v16);
    if ( *(float *)(this + 332) >= *(float *)(this + 340) - *(float *)&v18.x
      && *v15 <= *(float *)&v18.x + *(float *)(this + 340) )
    {
      *v15 = *(float *)(this + 340);
    }
    if ( *(float *)(this + 336) == *v13 && *(float *)(this + 340) == *v15 )
      *(_DWORD *)(this + 344) = 0;
    v17 = *v15;
    v18.x = (int)*v13;
    v18.y = (int)v17;
    ClientToScreen(hWnd, &v18);
    return (void *)SetCursorPos(v18.x, v18.y);
  }
  return result;
}
// 443330: variable 'v12' is possibly undefined
// 4B4EF4:  int dword_4B4EF4[]

//----- (004434D0) --------------------------------------------------------
BOOL __thiscall sub_4434D0(_DWORD *this)
{
  _DWORD *v2; // ecx
  BOOL result; // eax

  sub_443210((int)this);
  if ( sub_442FD0(this, 8) )
    return 1;
  result = sub_443000(v2, 8);
  if ( result )
    return 1;
  return result;
}
// 4434E7: variable 'v2' is possibly undefined

//----- (00443500) --------------------------------------------------------
void __userpurge sub_443500(
        int a1@<ecx>,
        int a2,
        int a3,
        int a4,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  double v65; // st6
  bool v66; // zf
  float v67; // edx
  double v68; // st5
  double v69; // st4
  bool v70; // c0
  double v71; // st5
  bool v72; // c0
  double v73; // st4
  double v74; // st2
  double v75; // st1
  double v76; // st6
  double v77; // st3
  double v78; // st7
  double v79; // st3
  double v80; // st6
  double v81; // st7
  int v82; // eax
  double v83; // st6
  double v84; // st5
  bool v85; // c0
  bool v86; // c3
  double v87; // st4
  double v88; // st4
  _DWORD *v89; // ecx
  int v90; // eax
  int v91; // esi
  int v92; // eax
  int v93; // eax
  void (__stdcall *v94)(int, const char *, _DWORD); // edx
  int v95; // eax
  void (__stdcall *v96)(int, const char *, _DWORD); // edx
  _DWORD *v97; // eax
  int v98; // ecx
  void (__stdcall *v99)(_DWORD *, int, _DWORD, int, int, float *, _DWORD); // eax
  float v100; // ecx
  int v101; // esi
  int v102; // eax
  int v103; // eax
  _DWORD *v104; // [esp+FCh] [ebp-5B4h]
  float v105; // [esp+110h] [ebp-5A0h]
  float v106; // [esp+110h] [ebp-5A0h]
  float v107; // [esp+114h] [ebp-59Ch]
  float v108; // [esp+128h] [ebp-588h] BYREF
  float v109; // [esp+12Ch] [ebp-584h]
  float v110; // [esp+130h] [ebp-580h] BYREF
  float v111; // [esp+134h] [ebp-57Ch]
  float v112; // [esp+138h] [ebp-578h]
  float v113; // [esp+13Ch] [ebp-574h]
  float v114; // [esp+140h] [ebp-570h]
  float v115; // [esp+144h] [ebp-56Ch]
  float v116[16]; // [esp+148h] [ebp-568h] BYREF
  float v117[5]; // [esp+188h] [ebp-528h] BYREF
  float v118; // [esp+19Ch] [ebp-514h]
  float v119; // [esp+1A0h] [ebp-510h]
  float v120; // [esp+1A4h] [ebp-50Ch]
  float v121; // [esp+1A8h] [ebp-508h]
  float v122; // [esp+1ACh] [ebp-504h]
  float v123; // [esp+1B0h] [ebp-500h]
  float v124; // [esp+1B4h] [ebp-4FCh]
  float v125; // [esp+1B8h] [ebp-4F8h]
  float v126; // [esp+1BCh] [ebp-4F4h]
  float v127; // [esp+1C0h] [ebp-4F0h]
  float v128; // [esp+1C4h] [ebp-4ECh]
  float v129[16]; // [esp+1C8h] [ebp-4E8h] BYREF
  float v130[24]; // [esp+208h] [ebp-4A8h] BYREF
  char v131[64]; // [esp+268h] [ebp-448h] BYREF
  float v132[16]; // [esp+2A8h] [ebp-408h] BYREF
  float v133[240]; // [esp+2E8h] [ebp-3C8h] BYREF

  qmemcpy(v133, &a2, sizeof(v133));
  if ( !LODWORD(v133[45]) )
    return;
  v127 = 0.0;
  v124 = 0.0;
  v122 = 0.0;
  v121 = 0.0;
  v120 = 0.0;
  v119 = 0.0;
  v117[4] = 0.0;
  v117[3] = 0.0;
  v117[2] = 0.0;
  v117[1] = 0.0;
  v65 = 1.0;
  v128 = 1.0;
  v123 = 1.0;
  v118 = 1.0;
  v117[0] = 1.0;
  v125 = -1.0;
  v126 = 1.0;
  v66 = *((_DWORD *)dword_4C0874 + 2) == 0;
  v67 = *((float *)dword_4C0874 + 58);
  v114 = *((float *)dword_4C0874 + 57);
  v113 = v67;
  if ( !v66 && *((_DWORD *)dword_4C0874 + 3) )
  {
    LODWORD(v114) = 1280;
    LODWORD(v113) = 720;
  }
  v117[0] = 2.0 / (double)SLODWORD(v114);
  v118 = -2.0 / (double)SLODWORD(v113);
  v68 = v133[24];
  v109 = v133[24];
  v69 = v133[25];
  v108 = v133[25];
  v115 = v133[36];
  if ( 0.0 == v133[36] )
    v115 = (v68 - v133[22]) * 0.5;
  v110 = v133[37];
  if ( 0.0 == v133[37] )
  {
    v110 = (v69 - v133[23]) * 0.5;
    v65 = 1.0;
  }
  v70 = *(float *)(a1 + 176) < v68;
  v71 = v133[23];
  if ( v70 )
    v109 = *(float *)(a1 + 176);
  v72 = *(float *)(a1 + 180) < v69;
  v73 = v133[22];
  if ( v72 )
    v108 = *(float *)(a1 + 180);
  v74 = v109;
  v75 = v108;
  if ( *(float *)(a1 + 72) != v109 - v73 )
    goto LABEL_17;
  if ( *(float *)(a1 + 76) != v75 - v71 )
  {
    v75 = v108;
    v65 = 1.0;
LABEL_17:
    v109 = v74 - 0.5;
    v108 = v75 - 0.5;
    v77 = v65;
    v76 = 0.5;
    goto LABEL_18;
  }
  v109 = v74 + 0.5;
  v76 = 0.5;
  v108 = v108 + 0.5;
  v77 = 1.0;
LABEL_18:
  v111 = v73 + v76;
  v112 = v76 + v71;
  v133[38] = v109 - v111;
  v133[39] = v108 - v112;
  if ( v133[38] <= 0.0 || v133[39] <= 0.0 )
    return;
  v113 = v111 / *(float *)(a1 + 176);
  v114 = v112 / *(float *)(a1 + 180);
  v112 = v109 / *(float *)(a1 + 176);
  v111 = v108 / *(float *)(a1 + 180);
  v107 = v77;
  D3DXMatrixScaling(v116, LODWORD(v133[38]), LODWORD(v133[39]), LODWORD(v107));
  v78 = v133[30];
  v79 = v133[31];
  if ( v133[30] < 1000.0 )
  {
    v80 = v133[31];
  }
  else
  {
    v80 = v133[31];
    if ( v79 >= 1000.0 )
    {
      v108 = v79 / 10000.0;
      v105 = v108;
      v108 = v78 / 10000.0;
      D3DXMatrixScaling(v131, LODWORD(v108), LODWORD(v105), 1.0);
      goto LABEL_25;
    }
  }
  v108 = v80 / 100.0;
  v106 = v108;
  v108 = v78 / 100.0;
  D3DXMatrixScaling(v131, LODWORD(v108), LODWORD(v106), 1.0);
LABEL_25:
  v108 = v133[34] * 0.01745329238474369;
  D3DXMatrixRotationZ(v132, LODWORD(v108));
  v116[12] = v116[12] - v115;
  v116[13] = v116[13] - v110;
  D3DXMatrixMultiply(v130, v116, v131);
  D3DXMatrixMultiply(v129, v130, v132);
  v81 = v133[0];
  v82 = *(_DWORD *)(a1 + 964);
  v108 = v133[0];
  v83 = v133[1];
  v109 = v133[1];
  qmemcpy(v116, v129, sizeof(v116));
  if ( v82 )
  {
    v108 = v133[24] - v133[22];
    v109 = v133[25] - v133[23];
    v84 = v133[30];
    v85 = v133[30] > 1000.0;
    v86 = 1000.0 == v133[30];
    if ( v82 != 2 )
    {
      if ( v85 || v86 )
      {
        v88 = v133[31];
        if ( v133[31] >= 1000.0 )
        {
          v108 = v81 - (1280.0 - v84 * v108 / 10000.0) * 0.5;
          v109 = v83 - 0.5 * (720.0 - v88 * v109 / 10000.0);
          goto LABEL_37;
        }
      }
      else
      {
        v88 = v133[31];
      }
      v108 = v81 - (1280.0 - v84 * v108 / 100.0) * 0.5;
      v109 = v83 - 0.5 * (720.0 - v88 * v109 / 100.0);
      goto LABEL_37;
    }
    if ( v85 || v86 )
    {
      v87 = v133[31];
      if ( v133[31] >= 1000.0 )
      {
        v108 = v81 - (v108 - v84 * v108 / 10000.0) * 0.5;
        v109 = v83 - 0.5 * (v109 - v87 * v109 / 10000.0);
        goto LABEL_37;
      }
    }
    else
    {
      v87 = v133[31];
    }
    v108 = v81 - (v108 - v84 * v108 / 100.0) * 0.5;
    v109 = v83 - 0.5 * (v109 - v87 * v109 / 100.0);
  }
LABEL_37:
  v116[12] = v133[3] + v108 + v115 + v129[12];
  v116[13] = v133[4] + v109 + v110 + v116[13];
  if ( LODWORD(v133[11]) )
  {
    v116[12] = v116[12] - v133[9];
    v116[13] = v116[13] - v133[10];
    D3DXMatrixScaling(v131, LODWORD(v133[7]), LODWORD(v133[8]), 1.0);
    D3DXMatrixMultiply(v116, v116, v131);
    v116[12] = v133[9] + v116[12];
    v116[13] = v133[10] + v116[13];
  }
  v89 = dword_4C0874;
  if ( !*((_DWORD *)dword_4C0874 + 3) )
  {
    D3DXMatrixScaling(v131, *((float *)dword_4C0874 + 59), *((float *)dword_4C0874 + 60), 1.0);
    D3DXMatrixMultiply(v116, v116, v131);
    v89 = dword_4C0874;
    v116[12] = *((float *)dword_4C0874 + 61) + v116[12];
    v116[13] = *((float *)dword_4C0874 + 62) + v116[13];
  }
  v90 = *(_DWORD *)(a1 + 996);
  if ( v89[55] )
  {
    (*(void (__stdcall **)(int, _DWORD, _DWORD, _DWORD, int))(*(_DWORD *)v90 + 400))(v90, 0, v89[53], 0, 20);
    v110 = 0.0;
    (*(void (__stdcall **)(_DWORD, const char *))(**((_DWORD **)dword_4C0874 + 54) + 232))(
      *((_DWORD *)dword_4C0874 + 54),
      "Tech");
    (*(void (__stdcall **)(_DWORD, float *, _DWORD))(**((_DWORD **)dword_4C0874 + 54) + 252))(
      *((_DWORD *)dword_4C0874 + 54),
      &v110,
      0);
    (*(void (__stdcall **)(_DWORD, _DWORD))(**((_DWORD **)dword_4C0874 + 54) + 256))(
      *((_DWORD *)dword_4C0874 + 54),
      LODWORD(v133[238]));
    (*(void (__stdcall **)(_DWORD, const char *, float *))(**((_DWORD **)dword_4C0874 + 54) + 152))(
      *((_DWORD *)dword_4C0874 + 54),
      "world",
      v116);
    (*(void (__stdcall **)(_DWORD, const char *, float *))(**((_DWORD **)dword_4C0874 + 54) + 152))(
      *((_DWORD *)dword_4C0874 + 54),
      "proj",
      v117);
    v91 = **((_DWORD **)dword_4C0874 + 54);
    v92 = sub_44B000(*((int **)dword_4C0874 + 63), SLODWORD(v133[45]));
    (*(void (__stdcall **)(_DWORD, const char *, int))(v91 + 208))(*((_DWORD *)dword_4C0874 + 54), "tex", v92);
    (*(void (__stdcall **)(_DWORD, const char *, float))(**((_DWORD **)dword_4C0874 + 54) + 120))(
      *((_DWORD *)dword_4C0874 + 54),
      "uv_left",
      COERCE_FLOAT(LODWORD(v113)));
    (*(void (__stdcall **)(_DWORD, const char *, float))(**((_DWORD **)dword_4C0874 + 54) + 120))(
      *((_DWORD *)dword_4C0874 + 54),
      "uv_top",
      COERCE_FLOAT(LODWORD(v114)));
    v93 = *((_DWORD *)dword_4C0874 + 54);
    v94 = *(void (__stdcall **)(int, const char *, _DWORD))(*(_DWORD *)v93 + 120);
    v112 = v112 - v113;
    v94(v93, "uv_width", LODWORD(v112));
    v95 = *((_DWORD *)dword_4C0874 + 54);
    v96 = *(void (__stdcall **)(int, const char *, _DWORD))(*(_DWORD *)v95 + 120);
    v111 = v111 - v114;
    v96(v95, "uv_height", LODWORD(v111));
    (*(void (__stdcall **)(_DWORD, const char *, _DWORD))(**((_DWORD **)dword_4C0874 + 54) + 120))(
      *((_DWORD *)dword_4C0874 + 54),
      "alpha",
      LODWORD(v133[26]));
    (*(void (__stdcall **)(_DWORD, const char *, _DWORD))(**((_DWORD **)dword_4C0874 + 54) + 120))(
      *((_DWORD *)dword_4C0874 + 54),
      "m_TU",
      LODWORD(v133[27]));
    (*(void (__stdcall **)(_DWORD, const char *, _DWORD))(**((_DWORD **)dword_4C0874 + 54) + 120))(
      *((_DWORD *)dword_4C0874 + 54),
      "m_TV",
      LODWORD(v133[28]));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)dword_4C0874 + 54) + 260))(*((_DWORD *)dword_4C0874 + 54));
    (*(void (__stdcall **)(_DWORD, int, _DWORD, int))(**(_DWORD **)(a1 + 996) + 324))(*(_DWORD *)(a1 + 996), 5, 0, 2);
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)dword_4C0874 + 54) + 264))(*((_DWORD *)dword_4C0874 + 54));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)dword_4C0874 + 54) + 268))(*((_DWORD *)dword_4C0874 + 54));
  }
  else
  {
    v108 = 0.0;
    (*(void (__stdcall **)(int, int))(*(_DWORD *)v90 + 356))(v90, 322);
    v130[0] = 0.0;
    v130[1] = 0.0;
    v130[2] = 0.0;
    v130[4] = v113;
    v130[5] = v114;
    LODWORD(v130[3]) = ((int)(0.0 * 255.0) << 24) | 0xFFFFFF;
    v130[6] = 1.0;
    v130[9] = v130[3];
    v130[15] = v130[3];
    v130[7] = 0.0;
    v130[21] = v130[3];
    v130[8] = 0.0;
    v97 = *(_DWORD **)(a1 + 996);
    v98 = *v97;
    v130[10] = v112;
    v130[11] = v114;
    v104 = v97;
    v99 = *(void (__stdcall **)(_DWORD *, int, _DWORD, int, int, float *, _DWORD))(v98 + 104);
    v130[12] = 0.0;
    v130[14] = 0.0;
    v130[13] = 1.0;
    v130[16] = v113;
    v130[17] = v111;
    v130[18] = 1.0;
    v130[19] = 1.0;
    v130[20] = 0.0;
    v130[22] = v112;
    v130[23] = v111;
    v99(v104, 96, 0, 322, 1, &v108, 0);
    v100 = v108;
    v110 = 0.0;
    if ( v108 != 0.0 )
    {
      (*(void (__stdcall **)(float, _DWORD, _DWORD, float *, _DWORD))(*(_DWORD *)LODWORD(v108) + 44))(
        COERCE_FLOAT(LODWORD(v108)),
        0,
        0,
        &v110,
        0);
      qmemcpy((void *)LODWORD(v110), v130, 0x60u);
      (*(void (__stdcall **)(float))(*(_DWORD *)LODWORD(v108) + 48))(COERCE_FLOAT(LODWORD(v108)));
      v100 = v108;
    }
    (*(void (__stdcall **)(_DWORD, _DWORD, float, _DWORD, int))(**(_DWORD **)(a1 + 996) + 400))(
      *(_DWORD *)(a1 + 996),
      0,
      COERCE_FLOAT(LODWORD(v100)),
      0,
      24);
    v101 = **(_DWORD **)(a1 + 996);
    v102 = sub_44B000(*((int **)dword_4C0874 + 63), SLODWORD(v133[45]));
    (*(void (__stdcall **)(_DWORD, _DWORD, int))(v101 + 260))(*(_DWORD *)(a1 + 996), 0, v102);
    (*(void (__stdcall **)(_DWORD, int, float *))(**(_DWORD **)(a1 + 996) + 176))(*(_DWORD *)(a1 + 996), 256, v116);
    v103 = *(_DWORD *)(a1 + 996);
    v129[14] = 0.0;
    v129[13] = 0.0;
    v129[12] = 0.0;
    v129[11] = 0.0;
    v129[9] = 0.0;
    v129[8] = 0.0;
    v129[7] = 0.0;
    v129[6] = 0.0;
    v129[4] = 0.0;
    v129[3] = 0.0;
    v129[2] = 0.0;
    v129[1] = 0.0;
    v129[15] = 1.0;
    v129[10] = 1.0;
    v129[5] = 1.0;
    v129[0] = 1.0;
    (*(void (__stdcall **)(int, int, float *))(*(_DWORD *)v103 + 176))(v103, 2, v129);
    (*(void (__stdcall **)(_DWORD, int, float *))(**(_DWORD **)(a1 + 996) + 176))(*(_DWORD *)(a1 + 996), 3, v117);
    (*(void (__stdcall **)(_DWORD, int, _DWORD, int))(**(_DWORD **)(a1 + 996) + 324))(*(_DWORD *)(a1 + 996), 5, 0, 2);
    (*(void (__stdcall **)(float))(*(_DWORD *)LODWORD(v108) + 8))(COERCE_FLOAT(LODWORD(v108)));
  }
}
// 443500: too many input arguments, some ignored
// 4738E4:  int __stdcall D3DXMatrixMultiply(_DWORD, _DWORD, _DWORD)
// 4738EA:  int __stdcall D3DXMatrixRotationZ(_DWORD, _DWORD)
// 4738F0:  int __stdcall D3DXMatrixScaling(_DWORD, _DWORD, _DWORD, _DWORD)

//----- (004440C0) --------------------------------------------------------
int __thiscall sub_4440C0(int this, int a2)
{
  int v2; // edi
  int result; // eax
  bool v5; // zf
  double v6; // st7
  double v7; // st7
  int v8; // [esp-4h] [ebp-20h]
  int v9; // [esp+8h] [ebp-14h] BYREF
  int v10; // [esp+Ch] [ebp-10h] BYREF
  int v11; // [esp+10h] [ebp-Ch] BYREF
  int v12; // [esp+14h] [ebp-8h] BYREF
  int v13; // [esp+18h] [ebp-4h] BYREF

  v2 = a2;
  v8 = a2;
  *(_DWORD *)(this + 188) = a2;
  sub_44B090(*((int **)dword_4C0874 + 63), &a2, &v9, v8);
  *(float *)(this + 168) = (float)a2;
  *(float *)(this + 172) = (float)v9;
  result = sub_44B190(*((int **)dword_4C0874 + 63), &a2, &v9, v2);
  v5 = *(_DWORD *)(this + 188) == 0;
  *(float *)(this + 72) = (float)a2;
  *(float *)(this + 76) = (float)v9;
  if ( !v5 )
  {
    v6 = 0.0;
    if ( *(float *)(this + 104) == *(float *)(this + 96) || *(float *)(this + 108) == *(float *)(this + 100) )
    {
      *(float *)(this + 96) = 0.0;
      *(float *)(this + 100) = 0.0;
      sub_44B190(*((int **)dword_4C0874 + 63), &v10, &v11, v2);
      *(float *)(this + 104) = (float)v10;
      *(float *)(this + 108) = (float)v11;
      v6 = 0.0;
    }
    if ( v6 == *(float *)(this + 64) )
      *(float *)(this + 64) = *(float *)(this + 168);
    if ( v6 == *(float *)(this + 68) )
      *(float *)(this + 68) = *(float *)(this + 172);
    result = sub_44B090(*((int **)dword_4C0874 + 63), &v12, &v13, *(_DWORD *)(this + 188));
    v7 = (double)v12;
    *(_DWORD *)(this + 184) = 1;
    *(float *)(this + 176) = v7;
    *(float *)(this + 180) = (float)v13;
  }
  return result;
}

//----- (00444200) --------------------------------------------------------
int __thiscall sub_444200(_DWORD *this)
{
  return this[47];
}

//----- (00444210) --------------------------------------------------------
int __thiscall sub_444210(int this, int a2)
{
  int result; // eax

  result = *(_DWORD *)(this + 188);
  if ( result == a2 )
  {
    result = 0;
    *(float *)(this + 64) = 0.0;
    *(_DWORD *)(this + 188) = 0;
    *(float *)(this + 68) = 0.0;
    *(_DWORD *)(this + 184) = 0;
  }
  return result;
}

//----- (00444240) --------------------------------------------------------
int __thiscall sub_444240(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[46] = a2;
  return result;
}

//----- (00444250) --------------------------------------------------------
int __thiscall sub_444250(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[241] = a2;
  return result;
}

//----- (00444260) --------------------------------------------------------
void __thiscall sub_444260(float *this, float a2, float a3)
{
  this[2] = a2;
  this[3] = a3;
  this[15] = a3;
  this[14] = a2;
}

//----- (00444280) --------------------------------------------------------
void __thiscall sub_444280(float *this, float a2)
{
  this[2] = a2;
  this[14] = a2;
}

//----- (00444290) --------------------------------------------------------
void __thiscall sub_444290(float *this, float a2)
{
  this[3] = a2;
  this[15] = a2;
}

//----- (004442A0) --------------------------------------------------------
void __thiscall sub_4442A0(float *this, float a2, float a3)
{
  this[5] = a2;
  this[6] = a3;
}

//----- (004442C0) --------------------------------------------------------
float *__thiscall sub_4442C0(float *this, float *a2, float *a3)
{
  float *result; // eax

  result = a2;
  *a2 = this[2];
  *a3 = this[3];
  return result;
}

//----- (004442E0) --------------------------------------------------------
float *__thiscall sub_4442E0(float *this, float *a2, float *a3)
{
  float *result; // eax

  result = a2;
  *a2 = this[14];
  *a3 = this[15];
  return result;
}

//----- (00444300) --------------------------------------------------------
void __thiscall sub_444300(float *this)
{
  this[242] = this[2];
  this[243] = this[3];
}

//----- (00444320) --------------------------------------------------------
float *__thiscall sub_444320(float *this, float *a2, float *a3)
{
  float *result; // eax

  result = a2;
  *a2 = this[242];
  *a3 = this[243];
  return result;
}

//----- (00444340) --------------------------------------------------------
void __thiscall sub_444340(float *this, int a2, int a3, int a4, int a5)
{
  this[24] = (float)a2;
  this[25] = (float)a3;
  this[26] = (float)a4;
  this[27] = (float)a5;
}

//----- (00444360) --------------------------------------------------------
int __thiscall sub_444360(float *this, _DWORD *a2)
{
  int result; // eax

  *a2 = (int)this[24];
  a2[1] = (int)this[25];
  a2[2] = (int)this[26];
  result = (int)this[27];
  a2[3] = result;
  return result;
}

//----- (004443A0) --------------------------------------------------------
int __thiscall sub_4443A0(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int result; // eax

  this[20] = a2;
  result = a4;
  this[21] = a3;
  this[22] = a4;
  this[23] = a5;
  return result;
}

//----- (004443C0) --------------------------------------------------------
void __thiscall sub_4443C0(float *this, float a2, float a3)
{
  this[32] = a2;
  this[33] = a3;
}

//----- (004443E0) --------------------------------------------------------
void __thiscall sub_4443E0(float *this)
{
  this[246] = this[32];
  this[247] = this[33];
}

//----- (00444400) --------------------------------------------------------
float *__thiscall sub_444400(float *this, float *a2, float *a3)
{
  float *result; // eax

  result = a2;
  *a2 = this[246];
  *a3 = this[247];
  return result;
}

//----- (00444420) --------------------------------------------------------
float *__thiscall sub_444420(float *this, float *a2, float *a3)
{
  float *result; // eax

  result = a2;
  *a2 = this[32];
  *a3 = this[33];
  return result;
}

//----- (00444440) --------------------------------------------------------
void __thiscall sub_444440(float *this, float a2)
{
  this[36] = a2;
}

//----- (00444450) --------------------------------------------------------
void __thiscall sub_444450(float *this, float a2, float a3)
{
  this[38] = a2;
  this[39] = a3;
}

//----- (00444470) --------------------------------------------------------
void __thiscall sub_444470(float *this, float a2)
{
  this[28] = a2;
}

//----- (00444480) --------------------------------------------------------
double __thiscall sub_444480(float *this)
{
  return this[28];
}

//----- (00444490) --------------------------------------------------------
int __thiscall sub_444490(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[240] = a2;
  return result;
}

//----- (004444A0) --------------------------------------------------------
int __thiscall sub_4444A0(float *this, _DWORD *a2, int *a3)
{
  int result; // eax

  *a2 = (int)this[16];
  result = (int)this[17];
  *a3 = result;
  return result;
}

//----- (004444D0) --------------------------------------------------------
int __thiscall sub_4444D0(float *this, _DWORD *a2, int *a3)
{
  int result; // eax

  *a2 = (int)this[18];
  result = (int)this[19];
  *a3 = result;
  return result;
}

//----- (00444500) --------------------------------------------------------
int __thiscall sub_444500(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[479] = a2;
  return result;
}

//----- (00444510) --------------------------------------------------------
int __thiscall sub_444510(int this, int a2)
{
  int v2; // ebx
  double v3; // st7
  double v5; // st7
  int v7; // esi
  int *v8; // ecx
  int v9; // edi
  _BYTE *v10; // eax
  int v11; // ebp
  int v12; // edx
  int v13; // edi
  _BYTE *i; // esi
  int v15; // ecx
  _BYTE *v16; // eax
  int v17; // eax
  int v18; // ebp
  double v19; // st6
  unsigned __int8 *v20; // edi
  _BYTE *v21; // esi
  unsigned __int8 *v22; // ebx
  unsigned __int8 *v23; // esi
  int v24; // eax
  unsigned __int8 v25; // cl
  double v26; // st4
  double v27; // rt0
  double v28; // st4
  double v29; // st6
  double v30; // st3
  double v31; // st3
  double v32; // rt0
  int v33; // ecx
  int v34; // edi
  int v35; // edx
  _BYTE *v36; // eax
  _BYTE *v37; // ecx
  int v38; // esi
  _BYTE *v39; // eax
  int v40; // [esp+20h] [ebp-54h]
  int v41; // [esp+34h] [ebp-40h]
  float v42; // [esp+34h] [ebp-40h]
  float v43; // [esp+34h] [ebp-40h]
  int v44; // [esp+38h] [ebp-3Ch] BYREF
  int v45; // [esp+3Ch] [ebp-38h] BYREF
  int v46; // [esp+40h] [ebp-34h]
  int v47; // [esp+44h] [ebp-30h]
  int v48; // [esp+48h] [ebp-2Ch]
  int v49; // [esp+4Ch] [ebp-28h]
  int v50; // [esp+50h] [ebp-24h]
  int v51; // [esp+54h] [ebp-20h] BYREF
  int v52; // [esp+58h] [ebp-1Ch] BYREF
  int v53; // [esp+5Ch] [ebp-18h]
  int v54; // [esp+60h] [ebp-14h]
  int v55; // [esp+64h] [ebp-10h] BYREF
  int v56; // [esp+68h] [ebp-Ch]
  int v57[2]; // [esp+6Ch] [ebp-8h] BYREF

  v2 = a2;
  v3 = *(float *)(a2 + 48) + *(float *)(a2 + 24);
  v54 = this;
  *(float *)&v50 = v3;
  v5 = *(float *)&v50;
  *(float *)(a2 + 24) = *(float *)&v50;
  if ( 0.0 == *(float *)(a2 + 48) )
    return 1;
  if ( (int)*(float *)(a2 + 28) == (int)v5 )
    return 0;
  v7 = sub_44B000(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 188));
  v8 = (int *)*((_DWORD *)dword_4C0874 + 63);
  v40 = *(_DWORD *)(a2 + 64);
  v48 = v7;
  v9 = sub_44B000(v8, v40);
  v49 = v9;
  if ( !v9 || !v7 )
    return 1;
  sub_44B090(*((int **)dword_4C0874 + 63), &v44, &v45, *(_DWORD *)(this + 188));
  sub_44B090(*((int **)dword_4C0874 + 63), &v51, &v52, *(_DWORD *)(a2 + 64));
  if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v7 + 76))(v7, 0, &v55, 0, 0) < 0
    || (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v9 + 76))(v9, 0, v57, 0, 0) < 0 )
  {
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v7 + 80))(v7, 0);
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v9 + 80))(v9, 0);
    return 1;
  }
  if ( *(_DWORD *)(a2 + 60) )
  {
    v11 = v45;
    v12 = v44;
    goto LABEL_21;
  }
  if ( *(_DWORD *)(a2 + 68) )
    *(float *)(this + 112) = *(float *)(a2 + 52);
  v10 = malloc(v45 * v44 + 1);
  *(_DWORD *)(a2 + 60) = v10;
  if ( !v10 )
    return 1;
  v11 = v45;
  v12 = v44;
  v13 = 0;
  for ( i = v10; v13 < v11; ++v13 )
  {
    v15 = 0;
    if ( v12 > 0 )
    {
      v16 = (_BYTE *)(v56 + v13 * v55 + 3);
      do
      {
        *i = *v16;
        v12 = v44;
        ++v15;
        ++i;
        v16 += 4;
      }
      while ( v15 < v44 );
      v11 = v45;
    }
  }
  v7 = v48;
  v9 = v49;
LABEL_21:
  v17 = v12;
  v46 = v12;
  v47 = v11;
  if ( v12 > v51 )
  {
    v46 = v51;
    v17 = v51;
  }
  if ( v11 > v52 )
    v47 = v52;
  v18 = 0;
  if ( v47 > 0 )
  {
    v19 = 255.0;
    while ( 1 )
    {
      v20 = (unsigned __int8 *)(v57[1] + v18 * v57[0]);
      v21 = (_BYTE *)(v56 + v55 * v18);
      v22 = (unsigned __int8 *)(*(_DWORD *)(a2 + 60) + v12 * v18);
      if ( v17 <= 0 )
        goto LABEL_48;
      v50 = v17;
      do
      {
        v23 = v21 + 3;
        v24 = (int)((double)*v20 + *(float *)(a2 + 24));
        v41 = v24;
        if ( v24 <= 255 )
        {
          if ( v24 >= 0 )
            goto LABEL_34;
          v24 = 0;
        }
        else
        {
          v24 = 255;
        }
        v41 = v24;
LABEL_34:
        v25 = *v22;
        if ( !*v22 )
          goto LABEL_46;
        if ( v25 != 0xFF && v24 )
        {
          v53 = v25;
          v26 = (double)v25;
          v42 = v26 / 255.0 * (double)v41;
          if ( v42 <= 255.0 )
          {
            v31 = v19;
            v29 = v26;
            if ( v42 >= 0.0 )
            {
              v32 = v31;
              v30 = v42;
              v28 = v32;
            }
            else
            {
              v28 = v31;
              v30 = (float)0.0;
            }
          }
          else
          {
            v27 = v26;
            v28 = v19;
            v29 = v27;
            v43 = v28;
            v30 = v43;
          }
          if ( v30 > v29 )
          {
            v19 = v28;
            *v23 = v25;
            goto LABEL_46;
          }
          v19 = v28;
          v53 = (int)v30;
          LOBYTE(v24) = (int)v30;
LABEL_45:
          *v23 = v24;
          goto LABEL_46;
        }
        if ( v25 >= v24 )
          goto LABEL_45;
        *v23 = v25;
LABEL_46:
        v21 = v23 + 1;
        v20 += 4;
        ++v22;
        --v50;
      }
      while ( *(float *)&v50 != 0.0 );
      v12 = v44;
      v17 = v46;
LABEL_48:
      if ( ++v18 >= v47 )
      {
        v2 = a2;
        v7 = v48;
        v9 = v49;
        break;
      }
    }
  }
  (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v7 + 80))(v7, 0);
  (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v9 + 80))(v9, 0);
  v33 = *(_DWORD *)(v2 + 68);
  *(float *)(v2 + 28) = *(float *)(v2 + 24);
  if ( (v33 || *(float *)(v2 + 24) > -255.0) && (v33 != 1 || *(float *)(v2 + 24) < 255.0) && !*(_DWORD *)(v54 + 1192) )
    return 0;
  if ( !v33 )
    return 1;
  v34 = 0;
  if ( v45 <= 0 )
    return 1;
  v35 = v44;
  do
  {
    v36 = (_BYTE *)(v56 + v55 * v34);
    v37 = (_BYTE *)(*(_DWORD *)(v2 + 60) + v35 * v34);
    v38 = 0;
    if ( v35 > 0 )
    {
      do
      {
        v39 = v36 + 3;
        *v39 = *v37;
        v35 = v44;
        ++v38;
        v36 = v39 + 1;
        ++v37;
      }
      while ( v38 < v44 );
    }
    ++v34;
  }
  while ( v34 < v45 );
  return 1;
}

//----- (00444930) --------------------------------------------------------
int __userpurge sub_444930@<eax>(int a1@<esi>, int a2, int a3)
{
  int v3; // eax

  v3 = sub_44F760(a2, a3, -1);
  if ( v3 == -1 )
    return 0;
  else
    return sub_44C510(*((int **)dword_4C0874 + 63), a1, v3, 0);
}

//----- (00444970) --------------------------------------------------------
void *__thiscall sub_444970(int this)
{
  return memset((void *)(this + 912), 0, 0x30u);
}

//----- (00444990) --------------------------------------------------------
void __thiscall sub_444990(int this, void *a2)
{
  qmemcpy(a2, (const void *)(this + 8), 0x3C0u);
}

//----- (004449B0) --------------------------------------------------------
int __thiscall sub_4449B0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  if ( a2 >= 0 )
  {
    if ( a2 <= 100 )
      this[226] = a2;
    else
      this[226] = 100;
  }
  else
  {
    this[226] = 0;
  }
  return result;
}

//----- (004449E0) --------------------------------------------------------
int __thiscall sub_4449E0(_DWORD *this)
{
  return this[226];
}

//----- (004449F0) --------------------------------------------------------
int __thiscall sub_4449F0(int this)
{
  int result; // eax

  if ( *(float *)(this + 736) != 100.0 )
    return 1;
  result = 1;
  if ( 1.0 == *(float *)(this + 36) )
    return *(_DWORD *)(this + 740);
  return result;
}

//----- (00444A30) --------------------------------------------------------
int __thiscall sub_444A30(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[185] = a2;
  return result;
}

//----- (00444A40) --------------------------------------------------------
int __thiscall sub_444A40(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[227] = a2;
  return result;
}

//----- (00444A50) --------------------------------------------------------
int __thiscall sub_444A50(int this, float a2, float a3, float a4, float a5, int a6)
{
  int result; // eax

  result = a6;
  *(_DWORD *)(this + 52) = a6;
  *(float *)(this + 36) = a2 / 100.0;
  *(float *)(this + 40) = a3 / 100.0;
  *(float *)(this + 44) = a4;
  *(float *)(this + 48) = a5;
  return result;
}

//----- (00444A80) --------------------------------------------------------
int __thiscall sub_444A80(char *this)
{
  int *v2; // edi
  int v3; // edx
  char *v4; // eax
  char *v5; // edx
  char v6; // cl
  int result; // eax
  char Str[64]; // [esp+Ch] [ebp-44h] BYREF

  *(_DWORD *)this = 100
                  * ((int)*((float *)this + 2) + ((int)*((float *)this + 26) - (int)*((float *)this + 24)) / 2 - 640)
                  / 640;
  v2 = (int *)(this + 4);
  v3 = *((_DWORD *)this + 47);
  *((_DWORD *)this + 1) = (int)*((float *)this + 32);
  v4 = (char *)sub_44AF60(*((int **)dword_4C0874 + 63), v3);
  v5 = Str;
  do
  {
    v6 = *v4;
    *v5++ = *v4++;
  }
  while ( v6 );
  if ( strstr(Str, "_B,") )
    *v2 += 34;
  result = (int)(*((float *)this + 9) * (double)*v2);
  *v2 = result;
  return result;
}

//----- (00444B70) --------------------------------------------------------
void __thiscall sub_444B70(float *this, float a2)
{
  this[8] = a2;
}

//----- (00444B80) --------------------------------------------------------
int __cdecl sub_444B80(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 101); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (00444BA0) --------------------------------------------------------
_DWORD *__cdecl sub_444BA0(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 101) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 101) );
  }
  return result;
}

//----- (00444BC0) --------------------------------------------------------
int __cdecl sub_444BC0(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 65); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (00444BE0) --------------------------------------------------------
_DWORD *__cdecl sub_444BE0(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 65) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 65) );
  }
  return result;
}

//----- (00444C00) --------------------------------------------------------
void __thiscall sub_444C00(_DWORD *this)
{
  int *v2; // eax
  int v3; // eax
  int v4; // ecx
  int j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = (int *)this[1];
  if ( *((_BYTE *)v2 + 101) )
  {
    v3 = v2[2];
    this[1] = v3;
    if ( !*(_BYTE *)(v3 + 101) )
      return;
    goto LABEL_5;
  }
  v4 = *v2;
  if ( *(_BYTE *)(*v2 + 101) )
  {
    for ( i = v2[1]; !*(_BYTE *)(i + 101); i = *(_DWORD *)(i + 4) )
    {
      if ( this[1] != *(_DWORD *)i )
        break;
      this[1] = i;
    }
    if ( *(_BYTE *)(this[1] + 101) )
    {
LABEL_5:
      _invalid_parameter_noinfo();
      return;
    }
    this[1] = i;
  }
  else
  {
    for ( j = *(_DWORD *)(v4 + 8); !*(_BYTE *)(j + 101); j = *(_DWORD *)(j + 8) )
      v4 = j;
    this[1] = v4;
  }
}

//----- (00444C90) --------------------------------------------------------
void __thiscall sub_444C90(_DWORD *this)
{
  int *v2; // eax
  int v3; // eax
  int v4; // ecx
  int j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = (int *)this[1];
  if ( *((_BYTE *)v2 + 65) )
  {
    v3 = v2[2];
    this[1] = v3;
    if ( !*(_BYTE *)(v3 + 65) )
      return;
    goto LABEL_5;
  }
  v4 = *v2;
  if ( *(_BYTE *)(*v2 + 65) )
  {
    for ( i = v2[1]; !*(_BYTE *)(i + 65); i = *(_DWORD *)(i + 4) )
    {
      if ( this[1] != *(_DWORD *)i )
        break;
      this[1] = i;
    }
    if ( *(_BYTE *)(this[1] + 65) )
    {
LABEL_5:
      _invalid_parameter_noinfo();
      return;
    }
    this[1] = i;
  }
  else
  {
    for ( j = *(_DWORD *)(v4 + 8); !*(_BYTE *)(j + 65); j = *(_DWORD *)(j + 8) )
      v4 = j;
    this[1] = v4;
  }
}

//----- (00444D20) --------------------------------------------------------
void *__thiscall sub_444D20(int this)
{
  int v2; // ecx
  void *result; // eax
  int v4[240]; // [esp-3C0h] [ebp-798h] BYREF
  int v5; // [esp+Ch] [ebp-3CCh]
  char v6[960]; // [esp+10h] [ebp-3C8h] BYREF

  if ( *(_DWORD *)(this + 184) && *(_DWORD *)(this + 188) )
  {
    qmemcpy(v6, (const void *)(this + 8), sizeof(v6));
    v2 = *((_DWORD *)dword_4C0874 + 56);
    v5 = *((_DWORD *)dword_4C0874 + 2);
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(this + 996) + 348))(*(_DWORD *)(this + 996), v2);
    if ( *((_DWORD *)dword_4C0874 + 3) )
    {
      if ( *((_DWORD *)dword_4C0874 + 2) )
        *((_DWORD *)dword_4C0874 + 2) = 0;
    }
    qmemcpy(v4, v6, sizeof(v4));
    sub_443500(
      this,
      v4[0],
      v4[1],
      v4[2],
      v4[3],
      v4[4],
      v4[5],
      v4[6],
      v4[7],
      v4[8],
      v4[9],
      v4[10],
      v4[11],
      v4[12],
      v4[13],
      v4[14],
      v4[15],
      v4[16],
      v4[17],
      v4[18],
      v4[19],
      v4[20],
      v4[21],
      v4[22],
      v4[23],
      v4[24],
      v4[25],
      v4[26],
      v4[27],
      v4[28],
      v4[29],
      v4[30],
      v4[31],
      v4[32],
      v4[33],
      v4[34],
      v4[35],
      v4[36],
      v4[37],
      v4[38],
      v4[39],
      v4[40],
      v4[41],
      v4[42],
      v4[43],
      v4[44],
      v4[45],
      v4[46],
      v4[47],
      v4[48],
      v4[49],
      v4[50],
      v4[51],
      v4[52],
      v4[53],
      v4[54],
      v4[55],
      v4[56],
      v4[57],
      v4[58],
      v4[59],
      v4[60],
      v4[61]);
    result = dword_4C0874;
    *((_DWORD *)dword_4C0874 + 2) = v5;
  }
  return result;
}

//----- (00444DE0) --------------------------------------------------------
int __thiscall sub_444DE0(int this)
{
  double v2; // st6

  memset((void *)(this + 8), 0, 0x3C0u);
  *(_DWORD *)(this + 968) = 0;
  *(_DWORD *)(this + 972) = 0;
  *(_DWORD *)(this + 976) = 0;
  *(_DWORD *)(this + 992) = 0;
  *(float *)(this + 112) = 1.0;
  *(float *)(this + 980) = 1.0;
  *(_DWORD *)(this + 960) = 0;
  *(float *)(this + 120) = 1.0;
  *(float *)(this + 116) = 1.0;
  *(float *)(this + 40) = 1.0;
  *(float *)(this + 36) = 1.0;
  *(float *)(this + 132) = 100.0;
  *(float *)(this + 128) = 100.0;
  *(float *)(this + 988) = 100.0;
  *(float *)(this + 984) = 100.0;
  *(float *)(this + 736) = 100.0;
  *(float *)(this + 160) = (float)*((int *)dword_4C0874 + 57);
  v2 = (double)*((int *)dword_4C0874 + 58);
  *(_DWORD *)(this + 184) = 1;
  *(_DWORD *)(this + 904) = 50;
  *(_DWORD *)(this + 964) = 0;
  *(float *)(this + 164) = v2;
  *(float *)(this + 32) = 1.0;
  return sub_4443A0((_DWORD *)this, 0, 0, 1280, 720);
}

//----- (00444EB0) --------------------------------------------------------
int __thiscall sub_444EB0(_DWORD *this)
{
  int result; // eax
  int v2; // ecx

  result = sub_444200(this);
  if ( result )
    return *(_DWORD *)(v2 + 184);
  return result;
}
// 444EBA: variable 'v2' is possibly undefined

//----- (00444ED0) --------------------------------------------------------
void __thiscall sub_444ED0(int this, float a2, float a3)
{
  double v3; // st6
  double v4; // st7

  v3 = a2;
  if ( a2 == 0.0 || (v4 = a3, a3 == 0.0) || 1000.0 == v3 || v4 == 1000.0 )
  {
    sub_444490((_DWORD *)this, 0);
  }
  else
  {
    *(float *)(this + 116) = 1.0 / v3;
    *(float *)(this + 120) = 1.0 / v4;
  }
}

//----- (00444F50) --------------------------------------------------------
BOOL __thiscall sub_444F50(_DWORD *this)
{
  BOOL result; // eax
  _DWORD *v2; // ecx
  int v3; // edx

  result = this[307] != 0;
  if ( this[315] )
    result = 1;
  if ( this[323] )
    result = 1;
  if ( this[331] )
    result = 1;
  if ( this[339] )
    result = 1;
  if ( this[347] )
    result = 1;
  if ( this[355] )
    result = 1;
  if ( this[387] )
    result = 1;
  v2 = this + 158;
  v3 = 11;
  do
  {
    if ( *v2 )
      result = 1;
    ++v2;
    --v3;
  }
  while ( v3 );
  return result;
}

//----- (00444FF0) --------------------------------------------------------
_DWORD *__thiscall sub_444FF0(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 101) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (00445040) --------------------------------------------------------
int __thiscall sub_445040(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 101) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (004450A0) --------------------------------------------------------
_DWORD *__thiscall sub_4450A0(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 65) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (004450F0) --------------------------------------------------------
int __thiscall sub_4450F0(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 65) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (00445150) --------------------------------------------------------
void __thiscall sub_445150(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 101) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 101) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 101); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 101); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (004451C0) --------------------------------------------------------
void __thiscall sub_4451C0(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 65) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 65) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 65); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 65); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (00445230) --------------------------------------------------------
int __thiscall sub_445230(int this)
{
  memset((void *)(this + 676), 0, 0x2Cu);
  return sub_444DE0(this);
}

//----- (00445250) --------------------------------------------------------
int __thiscall sub_445250(void *this, int a2)
{
  sub_444DE0((int)this);
  return sub_4440C0((int)this, a2);
}

//----- (00445270) --------------------------------------------------------
void __stdcall sub_445270(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 101); v1 = i )
  {
    sub_445270(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (004452B0) --------------------------------------------------------
void __stdcall sub_4452B0(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 65); v1 = i )
  {
    sub_4452B0(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (004452F0) --------------------------------------------------------
_DWORD *__thiscall sub_4452F0(int *this, _DWORD *a2, int *a3)
{
  int *v3; // edx
  int *v4; // eax
  int *v5; // ebx
  int v6; // edi
  int v7; // esi
  int *v8; // eax
  _DWORD *result; // eax
  int v10; // ecx

  v3 = (int *)this[6];
  v4 = (int *)v3[1];
  v5 = v3;
  if ( !*((_BYTE *)v4 + 101) )
  {
    v6 = *a3;
    do
    {
      v7 = v4[3];
      if ( v7 >= v6 )
      {
        if ( *((_BYTE *)v3 + 101) && v6 < v7 )
          v3 = v4;
        v5 = v4;
        v4 = (int *)*v4;
      }
      else
      {
        v4 = (int *)v4[2];
      }
    }
    while ( !*((_BYTE *)v4 + 101) );
  }
  if ( *((_BYTE *)v3 + 101) )
    v8 = *(int **)(this[6] + 4);
  else
    v8 = (int *)*v3;
  while ( !*((_BYTE *)v8 + 101) )
  {
    if ( *a3 >= v8[3] )
    {
      v8 = (int *)v8[2];
    }
    else
    {
      v3 = v8;
      v8 = (int *)*v8;
    }
  }
  result = a2;
  v10 = *this;
  a2[1] = v5;
  *a2 = v10;
  a2[2] = v10;
  a2[3] = v3;
  return result;
}

//----- (00445380) --------------------------------------------------------
_DWORD *__stdcall sub_445380(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *result; // eax

  result = operator new(0x68u);
  if ( result )
  {
    *result = a1;
    result[2] = a3;
    result[1] = a2;
    qmemcpy(result + 3, a4, 0x58u);
    *((_BYTE *)result + 100) = a5;
    *((_BYTE *)result + 101) = 0;
  }
  return result;
}

//----- (004453D0) --------------------------------------------------------
_DWORD *__stdcall sub_4453D0(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *result; // eax

  result = operator new(0x44u);
  if ( result )
  {
    *result = a1;
    result[2] = a3;
    result[1] = a2;
    qmemcpy(result + 3, a4, 0x34u);
    *((_BYTE *)result + 64) = a5;
    *((_BYTE *)result + 65) = 0;
  }
  return result;
}

//----- (00445420) --------------------------------------------------------
_DWORD *sub_445420()
{
  _DWORD *result; // eax

  result = operator new(0x68u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 100) = 1;
  *((_BYTE *)result + 101) = 0;
  return result;
}

//----- (00445460) --------------------------------------------------------
_DWORD *sub_445460()
{
  _DWORD *result; // eax

  result = operator new(0x44u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 64) = 1;
  *((_BYTE *)result + 65) = 0;
  return result;
}

//----- (004454A0) --------------------------------------------------------
int __cdecl sub_4454A0(int a1, int a2, int a3, int a4, _DWORD *a5)
{
  _DWORD *v5; // esi
  int result; // eax

  v5 = a5;
  while ( 1 )
  {
    if ( !a1 || a1 != a3 )
      _invalid_parameter_noinfo();
    result = a2;
    if ( a2 == a4 )
      break;
    ++*v5;
    sub_445150(&a1);
  }
  return result;
}

//----- (004454E0) --------------------------------------------------------
_DWORD *__thiscall sub_4454E0(int *this, _DWORD *a2, int *a3)
{
  int *v3; // edx
  int *v4; // eax
  int *v5; // ebx
  int v6; // edi
  int v7; // esi
  int *v8; // eax
  _DWORD *result; // eax
  int v10; // ecx

  v3 = (int *)this[6];
  v4 = (int *)v3[1];
  v5 = v3;
  if ( !*((_BYTE *)v4 + 65) )
  {
    v6 = *a3;
    do
    {
      v7 = v4[3];
      if ( v7 >= v6 )
      {
        if ( *((_BYTE *)v3 + 65) && v6 < v7 )
          v3 = v4;
        v5 = v4;
        v4 = (int *)*v4;
      }
      else
      {
        v4 = (int *)v4[2];
      }
    }
    while ( !*((_BYTE *)v4 + 65) );
  }
  if ( *((_BYTE *)v3 + 65) )
    v8 = *(int **)(this[6] + 4);
  else
    v8 = (int *)*v3;
  while ( !*((_BYTE *)v8 + 65) )
  {
    if ( *a3 >= v8[3] )
    {
      v8 = (int *)v8[2];
    }
    else
    {
      v3 = v8;
      v8 = (int *)*v8;
    }
  }
  result = a2;
  v10 = *this;
  a2[1] = v5;
  *a2 = v10;
  a2[2] = v10;
  a2[3] = v3;
  return result;
}

//----- (00445570) --------------------------------------------------------
int __cdecl sub_445570(int a1, int a2, int a3, int a4, _DWORD *a5)
{
  _DWORD *v5; // esi
  int result; // eax

  v5 = a5;
  while ( 1 )
  {
    if ( !a1 || a1 != a3 )
      _invalid_parameter_noinfo();
    result = a2;
    if ( a2 == a4 )
      break;
    ++*v5;
    sub_4451C0(&a1);
  }
  return result;
}

//----- (004455B0) --------------------------------------------------------
_DWORD *__thiscall sub_4455B0(int this)
{
  int v2; // esi
  _DWORD *result; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  _DWORD *v11; // ebp
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // ebp
  _DWORD *v16; // eax
  _DWORD *v17; // ebp
  _DWORD *v18; // eax
  _DWORD *v19; // ebp
  _DWORD *v20; // eax
  _DWORD *v21; // ebp
  _DWORD *v22; // eax
  _DWORD *v23; // ebp
  _DWORD *v24; // eax
  _DWORD *v25; // ebp
  _DWORD *v26; // eax
  _DWORD *v27; // ebp
  _DWORD *v28; // eax
  _DWORD *v29; // ebp
  _DWORD *v30; // eax
  _DWORD *v31; // ebp
  _DWORD *v32; // eax
  int v33; // eax
  _DWORD *v34; // ebp
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int v38; // ebp
  _DWORD *v39; // ebp
  _DWORD *v40; // eax
  _DWORD *v41; // ebp
  _DWORD *v42; // eax
  _DWORD *v43; // ebp
  void *i; // [esp+10h] [ebp-10h]
  void *j; // [esp+10h] [ebp-10h]
  void *k; // [esp+10h] [ebp-10h]
  void *m; // [esp+10h] [ebp-10h]
  void *n; // [esp+10h] [ebp-10h]
  void *ii; // [esp+10h] [ebp-10h]
  void *jj; // [esp+10h] [ebp-10h]
  void *kk; // [esp+10h] [ebp-10h]
  void *mm; // [esp+10h] [ebp-10h]
  void *nn; // [esp+10h] [ebp-10h]
  void *i1; // [esp+10h] [ebp-10h]
  int v55; // [esp+14h] [ebp-Ch]
  int v56; // [esp+14h] [ebp-Ch]
  _DWORD *v57; // [esp+18h] [ebp-8h] BYREF
  int v58; // [esp+1Ch] [ebp-4h]

  v2 = this + 1200;
  sub_445270(*(void ***)(*(_DWORD *)(this + 1224) + 4));
  *(_DWORD *)(*(_DWORD *)(v2 + 24) + 4) = *(_DWORD *)(v2 + 24);
  result = *(_DWORD **)(v2 + 24);
  *(_DWORD *)(v2 + 28) = 0;
  *result = result;
  *(_DWORD *)(*(_DWORD *)(v2 + 24) + 8) = *(_DWORD *)(v2 + 24);
  if ( !*(_DWORD *)(this + 1196) )
  {
    sub_445270(*(void ***)(*(_DWORD *)(this + 1256) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1256) + 4) = *(_DWORD *)(this + 1256);
    v4 = *(_DWORD **)(this + 1256);
    *(_DWORD *)(this + 1260) = 0;
    *v4 = v4;
    *(_DWORD *)(*(_DWORD *)(this + 1256) + 8) = *(_DWORD *)(this + 1256);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1288) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1288) + 4) = *(_DWORD *)(this + 1288);
    v5 = *(_DWORD **)(this + 1288);
    *(_DWORD *)(this + 1292) = 0;
    *v5 = v5;
    *(_DWORD *)(*(_DWORD *)(this + 1288) + 8) = *(_DWORD *)(this + 1288);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1320) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1320) + 4) = *(_DWORD *)(this + 1320);
    v6 = *(_DWORD **)(this + 1320);
    *(_DWORD *)(this + 1324) = 0;
    *v6 = v6;
    *(_DWORD *)(*(_DWORD *)(this + 1320) + 8) = *(_DWORD *)(this + 1320);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1352) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1352) + 4) = *(_DWORD *)(this + 1352);
    v7 = *(_DWORD **)(this + 1352);
    *(_DWORD *)(this + 1356) = 0;
    *v7 = v7;
    *(_DWORD *)(*(_DWORD *)(this + 1352) + 8) = *(_DWORD *)(this + 1352);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1384) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1384) + 4) = *(_DWORD *)(this + 1384);
    v8 = *(_DWORD **)(this + 1384);
    *(_DWORD *)(this + 1388) = 0;
    *v8 = v8;
    *(_DWORD *)(*(_DWORD *)(this + 1384) + 8) = *(_DWORD *)(this + 1384);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1416) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1416) + 4) = *(_DWORD *)(this + 1416);
    v9 = *(_DWORD **)(this + 1416);
    *(_DWORD *)(this + 1420) = 0;
    *v9 = v9;
    *(_DWORD *)(*(_DWORD *)(this + 1416) + 8) = *(_DWORD *)(this + 1416);
    v10 = **(_DWORD **)(this + 1448);
    v11 = *(_DWORD **)(this + 1424);
    v57 = v11;
    v58 = v10;
    while ( 1 )
    {
      v55 = *(_DWORD *)(this + 1448);
      if ( !v11 || v11 != *(_DWORD **)(this + 1424) )
        _invalid_parameter_noinfo();
      if ( v58 == v55 )
        break;
      if ( v11 )
      {
        v12 = *v11;
      }
      else
      {
        _invalid_parameter_noinfo();
        v12 = 0;
      }
      if ( v58 == *(_DWORD *)(v12 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v58 + 76) )
      {
        if ( v11 )
        {
          v13 = *v11;
        }
        else
        {
          _invalid_parameter_noinfo();
          v13 = 0;
        }
        if ( v58 == *(_DWORD *)(v13 + 24) )
          _invalid_parameter_noinfo();
        free(*(void **)(v58 + 76));
        if ( v11 )
        {
          v14 = *v11;
        }
        else
        {
          _invalid_parameter_noinfo();
          v14 = 0;
        }
        v15 = v58;
        if ( v58 == *(_DWORD *)(v14 + 24) )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v15 + 76) = 0;
      }
      sub_445150(&v57);
      v11 = v57;
    }
    if ( *(_DWORD *)(this + 1452) )
    {
      sub_445270(*(void ***)(*(_DWORD *)(this + 1448) + 4));
      *(_DWORD *)(*(_DWORD *)(this + 1448) + 4) = *(_DWORD *)(this + 1448);
      v16 = *(_DWORD **)(this + 1448);
      *(_DWORD *)(this + 1452) = 0;
      *v16 = v16;
      *(_DWORD *)(*(_DWORD *)(this + 1448) + 8) = *(_DWORD *)(this + 1448);
    }
    v17 = *(_DWORD **)(*(_DWORD *)(this + 1512) + 4);
    for ( i = v17; !*((_BYTE *)v17 + 65); i = v17 )
    {
      sub_4452B0((void **)v17[2]);
      v17 = (_DWORD *)*v17;
      operator delete(i);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1512) + 4) = *(_DWORD *)(this + 1512);
    v18 = *(_DWORD **)(this + 1512);
    *(_DWORD *)(this + 1516) = 0;
    *v18 = v18;
    *(_DWORD *)(*(_DWORD *)(this + 1512) + 8) = *(_DWORD *)(this + 1512);
    v19 = *(_DWORD **)(*(_DWORD *)(this + 1480) + 4);
    for ( j = v19; !*((_BYTE *)v19 + 65); j = v19 )
    {
      sub_4452B0((void **)v19[2]);
      v19 = (_DWORD *)*v19;
      operator delete(j);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1480) + 4) = *(_DWORD *)(this + 1480);
    v20 = *(_DWORD **)(this + 1480);
    *(_DWORD *)(this + 1484) = 0;
    *v20 = v20;
    *(_DWORD *)(*(_DWORD *)(this + 1480) + 8) = *(_DWORD *)(this + 1480);
    v21 = *(_DWORD **)(*(_DWORD *)(this + 1544) + 4);
    for ( k = v21; !*((_BYTE *)v21 + 101); k = v21 )
    {
      sub_445270((void **)v21[2]);
      v21 = (_DWORD *)*v21;
      operator delete(k);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1544) + 4) = *(_DWORD *)(this + 1544);
    v22 = *(_DWORD **)(this + 1544);
    *(_DWORD *)(this + 1548) = 0;
    *v22 = v22;
    *(_DWORD *)(*(_DWORD *)(this + 1544) + 8) = *(_DWORD *)(this + 1544);
    v23 = *(_DWORD **)(*(_DWORD *)(this + 1576) + 4);
    for ( m = v23; !*((_BYTE *)v23 + 101); m = v23 )
    {
      sub_445270((void **)v23[2]);
      v23 = (_DWORD *)*v23;
      operator delete(m);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1576) + 4) = *(_DWORD *)(this + 1576);
    v24 = *(_DWORD **)(this + 1576);
    *(_DWORD *)(this + 1580) = 0;
    *v24 = v24;
    *(_DWORD *)(*(_DWORD *)(this + 1576) + 8) = *(_DWORD *)(this + 1576);
    v25 = *(_DWORD **)(*(_DWORD *)(this + 1672) + 4);
    for ( n = v25; !*((_BYTE *)v25 + 101); n = v25 )
    {
      sub_445270((void **)v25[2]);
      v25 = (_DWORD *)*v25;
      operator delete(n);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1672) + 4) = *(_DWORD *)(this + 1672);
    v26 = *(_DWORD **)(this + 1672);
    *(_DWORD *)(this + 1676) = 0;
    *v26 = v26;
    *(_DWORD *)(*(_DWORD *)(this + 1672) + 8) = *(_DWORD *)(this + 1672);
    v27 = *(_DWORD **)(*(_DWORD *)(this + 1704) + 4);
    for ( ii = v27; !*((_BYTE *)v27 + 101); ii = v27 )
    {
      sub_445270((void **)v27[2]);
      v27 = (_DWORD *)*v27;
      operator delete(ii);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1704) + 4) = *(_DWORD *)(this + 1704);
    v28 = *(_DWORD **)(this + 1704);
    *(_DWORD *)(this + 1708) = 0;
    *v28 = v28;
    *(_DWORD *)(*(_DWORD *)(this + 1704) + 8) = *(_DWORD *)(this + 1704);
    v29 = *(_DWORD **)(*(_DWORD *)(this + 1736) + 4);
    for ( jj = v29; !*((_BYTE *)v29 + 101); jj = v29 )
    {
      sub_445270((void **)v29[2]);
      v29 = (_DWORD *)*v29;
      operator delete(jj);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1736) + 4) = *(_DWORD *)(this + 1736);
    v30 = *(_DWORD **)(this + 1736);
    *(_DWORD *)(this + 1740) = 0;
    *v30 = v30;
    *(_DWORD *)(*(_DWORD *)(this + 1736) + 8) = *(_DWORD *)(this + 1736);
    v31 = *(_DWORD **)(*(_DWORD *)(this + 1768) + 4);
    for ( kk = v31; !*((_BYTE *)v31 + 101); kk = v31 )
    {
      sub_445270((void **)v31[2]);
      v31 = (_DWORD *)*v31;
      operator delete(kk);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1768) + 4) = *(_DWORD *)(this + 1768);
    v32 = *(_DWORD **)(this + 1768);
    *(_DWORD *)(this + 1772) = 0;
    *v32 = v32;
    *(_DWORD *)(*(_DWORD *)(this + 1768) + 8) = *(_DWORD *)(this + 1768);
    v33 = **(_DWORD **)(this + 1800);
    v34 = *(_DWORD **)(this + 1776);
    v57 = v34;
    v58 = v33;
    while ( 1 )
    {
      v56 = *(_DWORD *)(this + 1800);
      if ( !v34 || v34 != *(_DWORD **)(this + 1776) )
        _invalid_parameter_noinfo();
      if ( v58 == v56 )
        break;
      if ( v34 )
      {
        v35 = *v34;
      }
      else
      {
        _invalid_parameter_noinfo();
        v35 = 0;
      }
      if ( v58 == *(_DWORD *)(v35 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v58 + 76) )
      {
        if ( v34 )
        {
          v36 = *v34;
        }
        else
        {
          _invalid_parameter_noinfo();
          v36 = 0;
        }
        if ( v58 == *(_DWORD *)(v36 + 24) )
          _invalid_parameter_noinfo();
        free(*(void **)(v58 + 76));
        if ( v34 )
        {
          v37 = *v34;
        }
        else
        {
          _invalid_parameter_noinfo();
          v37 = 0;
        }
        v38 = v58;
        if ( v58 == *(_DWORD *)(v37 + 24) )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v38 + 76) = 0;
      }
      sub_445150(&v57);
      v34 = v57;
    }
    if ( *(_DWORD *)(this + 1804) )
    {
      v39 = *(_DWORD **)(*(_DWORD *)(this + 1800) + 4);
      for ( mm = v39; !*((_BYTE *)v39 + 101); mm = v39 )
      {
        sub_445270((void **)v39[2]);
        v39 = (_DWORD *)*v39;
        operator delete(mm);
      }
      *(_DWORD *)(*(_DWORD *)(this + 1800) + 4) = *(_DWORD *)(this + 1800);
      v40 = *(_DWORD **)(this + 1800);
      *(_DWORD *)(this + 1804) = 0;
      *v40 = v40;
      *(_DWORD *)(*(_DWORD *)(this + 1800) + 8) = *(_DWORD *)(this + 1800);
    }
    v41 = *(_DWORD **)(*(_DWORD *)(this + 1832) + 4);
    for ( nn = v41; !*((_BYTE *)v41 + 65); nn = v41 )
    {
      sub_4452B0((void **)v41[2]);
      v41 = (_DWORD *)*v41;
      operator delete(nn);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1832) + 4) = *(_DWORD *)(this + 1832);
    v42 = *(_DWORD **)(this + 1832);
    *(_DWORD *)(this + 1836) = 0;
    *v42 = v42;
    *(_DWORD *)(*(_DWORD *)(this + 1832) + 8) = *(_DWORD *)(this + 1832);
    v43 = *(_DWORD **)(*(_DWORD *)(this + 1896) + 4);
    for ( i1 = v43; !*((_BYTE *)v43 + 101); i1 = v43 )
    {
      sub_445270((void **)v43[2]);
      v43 = (_DWORD *)*v43;
      operator delete(i1);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1896) + 4) = *(_DWORD *)(this + 1896);
    result = *(_DWORD **)(this + 1896);
    *(_DWORD *)(this + 1900) = 0;
    *result = result;
    *(_DWORD *)(*(_DWORD *)(this + 1896) + 8) = *(_DWORD *)(this + 1896);
    *(_DWORD *)(this + 1908) = 0;
  }
  return result;
}

//----- (00445C30) --------------------------------------------------------
int __thiscall sub_445C30(int this)
{
  int result; // eax

  sub_4455B0(this);
  *(float *)(this + 64) = 0.0;
  result = 0;
  *(float *)(this + 68) = 0.0;
  *(_DWORD *)(this + 188) = 0;
  *(float *)(this + 152) = 0.0;
  *(_DWORD *)(this + 184) = 0;
  *(float *)(this + 156) = 0.0;
  *(_DWORD *)(this + 960) = 0;
  *(float *)(this + 120) = 1.0;
  *(float *)(this + 116) = 1.0;
  return result;
}

//----- (00445C70) --------------------------------------------------------
_DWORD *__thiscall sub_445C70(_DWORD *this)
{
  _DWORD *v1; // esi
  _DWORD *result; // eax

  if ( this[339] )
  {
    v1 = this + 332;
    this[162] = 0;
    sub_445270(*(void ***)(this[338] + 4));
    *(_DWORD *)(v1[6] + 4) = v1[6];
    result = (_DWORD *)v1[6];
    v1[7] = 0;
    *result = result;
    *(_DWORD *)(v1[6] + 8) = v1[6];
  }
  return result;
}

//----- (00445CC0) --------------------------------------------------------
int __thiscall sub_445CC0(int this, void *a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  _DWORD *v10; // ebp
  _DWORD *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // ebp
  _DWORD *v16; // eax
  _DWORD *v17; // esi
  _DWORD *v18; // eax
  int result; // eax
  _DWORD *v20; // [esp+8h] [ebp-10h] BYREF
  int v21; // [esp+Ch] [ebp-Ch]
  int v22; // [esp+14h] [ebp-4h]
  void *i; // [esp+1Ch] [ebp+4h]

  *(_DWORD *)(this + 1904) = a2;
  if ( a2 )
  {
    sub_445270(*(void ***)(*(_DWORD *)(this + 1576) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1576) + 4) = *(_DWORD *)(this + 1576);
    v4 = *(_DWORD **)(this + 1576);
    *(_DWORD *)(this + 1580) = 0;
    *v4 = v4;
    *(_DWORD *)(*(_DWORD *)(this + 1576) + 8) = *(_DWORD *)(this + 1576);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1672) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1672) + 4) = *(_DWORD *)(this + 1672);
    v5 = *(_DWORD **)(this + 1672);
    *(_DWORD *)(this + 1676) = 0;
    *v5 = v5;
    *(_DWORD *)(*(_DWORD *)(this + 1672) + 8) = *(_DWORD *)(this + 1672);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1704) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1704) + 4) = *(_DWORD *)(this + 1704);
    v6 = *(_DWORD **)(this + 1704);
    *(_DWORD *)(this + 1708) = 0;
    *v6 = v6;
    *(_DWORD *)(*(_DWORD *)(this + 1704) + 8) = *(_DWORD *)(this + 1704);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1736) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1736) + 4) = *(_DWORD *)(this + 1736);
    v7 = *(_DWORD **)(this + 1736);
    *(_DWORD *)(this + 1740) = 0;
    *v7 = v7;
    *(_DWORD *)(*(_DWORD *)(this + 1736) + 8) = *(_DWORD *)(this + 1736);
    sub_445270(*(void ***)(*(_DWORD *)(this + 1768) + 4));
    *(_DWORD *)(*(_DWORD *)(this + 1768) + 4) = *(_DWORD *)(this + 1768);
    v8 = *(_DWORD **)(this + 1768);
    *(_DWORD *)(this + 1772) = 0;
    *v8 = v8;
    *(_DWORD *)(*(_DWORD *)(this + 1768) + 8) = *(_DWORD *)(this + 1768);
    v9 = **(_DWORD **)(this + 1800);
    v10 = *(_DWORD **)(this + 1776);
    v20 = v10;
    v21 = v9;
    while ( 1 )
    {
      v11 = *(_DWORD **)(this + 1776);
      v22 = *(_DWORD *)(this + 1800);
      if ( !v10 || v10 != v11 )
        _invalid_parameter_noinfo();
      if ( v21 == v22 )
        break;
      if ( v10 )
      {
        v12 = *v10;
      }
      else
      {
        _invalid_parameter_noinfo();
        v12 = 0;
      }
      if ( v21 == *(_DWORD *)(v12 + 24) )
        _invalid_parameter_noinfo();
      if ( *(_DWORD *)(v21 + 76) )
      {
        if ( v10 )
        {
          v13 = *v10;
        }
        else
        {
          _invalid_parameter_noinfo();
          v13 = 0;
        }
        if ( v21 == *(_DWORD *)(v13 + 24) )
          _invalid_parameter_noinfo();
        free(*(void **)(v21 + 76));
        if ( v10 )
        {
          v14 = *v10;
        }
        else
        {
          _invalid_parameter_noinfo();
          v14 = 0;
        }
        v15 = v21;
        if ( v21 == *(_DWORD *)(v14 + 24) )
          _invalid_parameter_noinfo();
        *(_DWORD *)(v15 + 76) = 0;
      }
      sub_445150(&v20);
      v10 = v20;
    }
    if ( *(_DWORD *)(this + 1804) )
    {
      sub_445270(*(void ***)(*(_DWORD *)(this + 1800) + 4));
      *(_DWORD *)(*(_DWORD *)(this + 1800) + 4) = *(_DWORD *)(this + 1800);
      v16 = *(_DWORD **)(this + 1800);
      *(_DWORD *)(this + 1804) = 0;
      *v16 = v16;
      *(_DWORD *)(*(_DWORD *)(this + 1800) + 8) = *(_DWORD *)(this + 1800);
    }
    v17 = *(_DWORD **)(*(_DWORD *)(this + 1832) + 4);
    for ( i = v17; !*((_BYTE *)v17 + 65); i = v17 )
    {
      sub_4452B0((void **)v17[2]);
      v17 = (_DWORD *)*v17;
      operator delete(i);
    }
    *(_DWORD *)(*(_DWORD *)(this + 1832) + 4) = *(_DWORD *)(this + 1832);
    v18 = *(_DWORD **)(this + 1832);
    *(_DWORD *)(this + 1836) = 0;
    *v18 = v18;
    *(_DWORD *)(*(_DWORD *)(this + 1832) + 8) = *(_DWORD *)(this + 1832);
    *(_DWORD *)(this + 1908) = 0;
  }
  result = a3;
  *(_DWORD *)(this + 1908) = a3;
  if ( a3 == 255 )
  {
    result = 1;
    *(_DWORD *)(this + 1912) = 1;
    *(_DWORD *)(this + 1908) = 1;
  }
  return result;
}

//----- (00445F30) --------------------------------------------------------
int *__thiscall sub_445F30(int *this, int *a2, _DWORD *a3)
{
  int v4; // ecx
  int v5; // eax
  int v6; // edi
  int v7; // eax
  int v8; // ebx
  int *v9; // ecx
  int v10; // edx
  int v11; // edx
  int *result; // eax
  int v13; // ecx
  int v14[2]; // [esp+Ch] [ebp-10h] BYREF
  int v15[2]; // [esp+14h] [ebp-8h] BYREF

  v4 = this[6];
  v5 = *(_DWORD *)(v4 + 4);
  v6 = v4;
  while ( !*(_BYTE *)(v5 + 101) )
  {
    if ( *(_DWORD *)(v5 + 12) >= *a3 )
    {
      v6 = v5;
      v5 = *(_DWORD *)v5;
    }
    else
    {
      v5 = *(_DWORD *)(v5 + 8);
    }
  }
  v7 = *this;
  v8 = this[6];
  v14[1] = v6;
  v14[0] = v7;
  if ( !v7 )
    _invalid_parameter_noinfo();
  if ( v6 == v8 || *a3 < *(_DWORD *)(v6 + 12) )
  {
    v10 = *this;
    v15[1] = this[6];
    v15[0] = v10;
    v9 = v15;
  }
  else
  {
    v9 = v14;
  }
  v11 = *v9;
  result = a2;
  v13 = v9[1];
  *a2 = v11;
  a2[1] = v13;
  return result;
}

//----- (00445FC0) --------------------------------------------------------
int *__thiscall sub_445FC0(int *this, int *a2)
{
  int v3[4]; // [esp+0h] [ebp-10h] BYREF

  sub_4452F0(this, v3, a2);
  a2 = 0;
  sub_4454A0(v3[0], v3[1], v3[2], v3[3], &a2);
  return a2;
}

//----- (00446010) --------------------------------------------------------
int *__thiscall sub_446010(int *this, int *a2)
{
  int v3[4]; // [esp+0h] [ebp-10h] BYREF

  sub_4454E0(this, v3, a2);
  a2 = 0;
  sub_445570(v3[0], v3[1], v3[2], v3[3], &a2);
  return a2;
}

//----- (00446060) --------------------------------------------------------
_DWORD *__fastcall sub_446060(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 101) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_445150(&a4);
  if ( *(_BYTE *)(*v6 + 101) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 101) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 101) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_444BA0((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 101) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_444B80(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 101) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 101) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 25);
  v18 = (char *)(v8 + 25);
  if ( v18 != (char *)(v6 + 25) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[100] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 100) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[100] )
        {
          v20[100] = 1;
          *(_BYTE *)(v10 + 100) = 0;
          sub_444FF0(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[101] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 100) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 100) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 100) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 100) = 1;
            v20[100] = 0;
            sub_445040(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[100] = *(_BYTE *)(v10 + 100);
          *(_BYTE *)(v10 + 100) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 100) = 1;
          sub_444FF0(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[100] )
        {
          v20[100] = 1;
          *(_BYTE *)(v10 + 100) = 0;
          sub_445040(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[101] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 100) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 100) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 100) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 100) = 1;
            v20[100] = 0;
            sub_444FF0(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[100] = *(_BYTE *)(v10 + 100);
          *(_BYTE *)(v10 + 100) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 100) = 1;
          sub_445040(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[100] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 100) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (00446330) --------------------------------------------------------
_DWORD *__fastcall sub_446330(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 65) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_4451C0(&a4);
  if ( *(_BYTE *)(*v6 + 65) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 65) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 65) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_444BE0((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 65) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_444BC0(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 65) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 65) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 16);
  v18 = (char *)(v8 + 16);
  if ( v18 != (char *)(v6 + 16) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[64] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 64) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[64] )
        {
          v20[64] = 1;
          *(_BYTE *)(v10 + 64) = 0;
          sub_4450A0(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[65] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 64) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 64) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 64) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 64) = 1;
            v20[64] = 0;
            sub_4450F0(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[64] = *(_BYTE *)(v10 + 64);
          *(_BYTE *)(v10 + 64) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 64) = 1;
          sub_4450A0(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[64] )
        {
          v20[64] = 1;
          *(_BYTE *)(v10 + 64) = 0;
          sub_4450F0(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[65] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 64) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 64) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 64) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 64) = 1;
            v20[64] = 0;
            sub_4450A0(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[64] = *(_BYTE *)(v10 + 64);
          *(_BYTE *)(v10 + 64) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 64) = 1;
          sub_4450F0(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[64] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 64) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (00446600) --------------------------------------------------------
_DWORD *__thiscall sub_446600(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_445420();
  this[6] = v5;
  *((_BYTE *)v5 + 101) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (00446690) --------------------------------------------------------
int *__thiscall sub_446690(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_445270(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_445150(&a3);
      sub_446060(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 44674F: variable 'v14' is possibly undefined

//----- (00446770) --------------------------------------------------------
_DWORD *__fastcall sub_446770(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6)
{
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int *v11; // eax
  int i; // esi
  int v13; // ecx
  int *v14; // edx
  int v15; // edx
  int v16; // edx
  int v17; // eax
  _DWORD *v18; // ecx
  int v19; // edx
  _DWORD *v20; // edx
  _DWORD *result; // eax
  int v22; // ecx
  int v23; // [esp+14h] [ebp-50h] BYREF
  char v24; // [esp+18h] [ebp-4Ch]
  int v25; // [esp+28h] [ebp-3Ch]
  int v26; // [esp+2Ch] [ebp-38h]
  int pExceptionObject[13]; // [esp+30h] [ebp-34h] BYREF

  if ( (unsigned int)a1[7] >= 0x2E8BA2D )
  {
    v26 = 15;
    v25 = 0;
    v24 = 0;
    sub_403A30(&v23, a2, "map/set<T> too long", 0x13u);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v23);
    pExceptionObject[0] = (int)&std::length_error::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
  }
  v7 = sub_445380(a1[6], (int)a5, a1[6], a6, 0);
  v8 = (_DWORD *)a1[6];
  ++a1[7];
  if ( a5 == v8 )
  {
    v8[1] = v7;
    *(_DWORD *)a1[6] = v7;
    *(_DWORD *)(a1[6] + 8) = v7;
  }
  else if ( a4 )
  {
    *a5 = v7;
    v9 = (_DWORD *)a1[6];
    if ( a5 == (_DWORD *)*v9 )
      *v9 = v7;
  }
  else
  {
    a5[2] = v7;
    v10 = a1[6];
    if ( a5 == *(_DWORD **)(v10 + 8) )
      *(_DWORD *)(v10 + 8) = v7;
  }
  v11 = v7 + 1;
  for ( i = (int)v7; !*(_BYTE *)(*(_DWORD *)(i + 4) + 100); v11 = (int *)(i + 4) )
  {
    v13 = *v11;
    v14 = *(int **)(*v11 + 4);
    if ( *v11 == *v14 )
    {
      v15 = v14[2];
      if ( *(_BYTE *)(v15 + 100) )
      {
        if ( i == *(_DWORD *)(v13 + 8) )
        {
          i = *v11;
          sub_444FF0(a1, *v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 100) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 100) = 0;
        sub_445040(a1, *(_DWORD **)(*(_DWORD *)(i + 4) + 4));
      }
      else
      {
        *(_BYTE *)(v13 + 100) = 1;
        *(_BYTE *)(v15 + 100) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 100) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
    else
    {
      v16 = *v14;
      if ( *(_BYTE *)(v16 + 100) )
      {
        if ( i == *(_DWORD *)v13 )
        {
          i = *v11;
          sub_445040(a1, (_DWORD *)*v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 100) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 100) = 0;
        v17 = *(_DWORD *)(*(_DWORD *)(i + 4) + 4);
        v18 = *(_DWORD **)(v17 + 8);
        *(_DWORD *)(v17 + 8) = *v18;
        if ( !*(_BYTE *)(*v18 + 101) )
          *(_DWORD *)(*v18 + 4) = v17;
        v18[1] = *(_DWORD *)(v17 + 4);
        v19 = a1[6];
        if ( v17 == *(_DWORD *)(v19 + 4) )
        {
          *(_DWORD *)(v19 + 4) = v18;
        }
        else
        {
          v20 = *(_DWORD **)(v17 + 4);
          if ( v17 == *v20 )
            *v20 = v18;
          else
            v20[2] = v18;
        }
        *v18 = v17;
        *(_DWORD *)(v17 + 4) = v18;
      }
      else
      {
        *(_BYTE *)(v13 + 100) = 1;
        *(_BYTE *)(v16 + 100) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 100) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
  }
  *(_BYTE *)(*(_DWORD *)(a1[6] + 4) + 100) = 1;
  result = a3;
  v22 = *a1;
  a3[1] = v7;
  *a3 = v22;
  return result;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (00446970) --------------------------------------------------------
_DWORD *__thiscall sub_446970(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_445460();
  this[6] = v5;
  *((_BYTE *)v5 + 65) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (00446A00) --------------------------------------------------------
int *__thiscall sub_446A00(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_4452B0(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_4451C0(&a3);
      sub_446330(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 446ABF: variable 'v14' is possibly undefined

//----- (00446AE0) --------------------------------------------------------
_DWORD *__fastcall sub_446AE0(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6)
{
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int *v11; // eax
  int i; // esi
  int v13; // ecx
  int *v14; // edx
  int v15; // edx
  int v16; // edx
  int v17; // eax
  _DWORD *v18; // ecx
  int v19; // edx
  _DWORD *v20; // edx
  _DWORD *result; // eax
  int v22; // ecx
  int v23; // [esp+14h] [ebp-50h] BYREF
  char v24; // [esp+18h] [ebp-4Ch]
  int v25; // [esp+28h] [ebp-3Ch]
  int v26; // [esp+2Ch] [ebp-38h]
  int pExceptionObject[13]; // [esp+30h] [ebp-34h] BYREF

  if ( (unsigned int)a1[7] >= 0x4EC4EC3 )
  {
    v26 = 15;
    v25 = 0;
    v24 = 0;
    sub_403A30(&v23, a2, "map/set<T> too long", 0x13u);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v23);
    pExceptionObject[0] = (int)&std::length_error::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
  }
  v7 = sub_4453D0(a1[6], (int)a5, a1[6], a6, 0);
  v8 = (_DWORD *)a1[6];
  ++a1[7];
  if ( a5 == v8 )
  {
    v8[1] = v7;
    *(_DWORD *)a1[6] = v7;
    *(_DWORD *)(a1[6] + 8) = v7;
  }
  else if ( a4 )
  {
    *a5 = v7;
    v9 = (_DWORD *)a1[6];
    if ( a5 == (_DWORD *)*v9 )
      *v9 = v7;
  }
  else
  {
    a5[2] = v7;
    v10 = a1[6];
    if ( a5 == *(_DWORD **)(v10 + 8) )
      *(_DWORD *)(v10 + 8) = v7;
  }
  v11 = v7 + 1;
  for ( i = (int)v7; !*(_BYTE *)(*(_DWORD *)(i + 4) + 64); v11 = (int *)(i + 4) )
  {
    v13 = *v11;
    v14 = *(int **)(*v11 + 4);
    if ( *v11 == *v14 )
    {
      v15 = v14[2];
      if ( *(_BYTE *)(v15 + 64) )
      {
        if ( i == *(_DWORD *)(v13 + 8) )
        {
          i = *v11;
          sub_4450A0(a1, *v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 64) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 64) = 0;
        sub_4450F0(a1, *(_DWORD **)(*(_DWORD *)(i + 4) + 4));
      }
      else
      {
        *(_BYTE *)(v13 + 64) = 1;
        *(_BYTE *)(v15 + 64) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 64) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
    else
    {
      v16 = *v14;
      if ( *(_BYTE *)(v16 + 64) )
      {
        if ( i == *(_DWORD *)v13 )
        {
          i = *v11;
          sub_4450F0(a1, (_DWORD *)*v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 64) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 64) = 0;
        v17 = *(_DWORD *)(*(_DWORD *)(i + 4) + 4);
        v18 = *(_DWORD **)(v17 + 8);
        *(_DWORD *)(v17 + 8) = *v18;
        if ( !*(_BYTE *)(*v18 + 65) )
          *(_DWORD *)(*v18 + 4) = v17;
        v18[1] = *(_DWORD *)(v17 + 4);
        v19 = a1[6];
        if ( v17 == *(_DWORD *)(v19 + 4) )
        {
          *(_DWORD *)(v19 + 4) = v18;
        }
        else
        {
          v20 = *(_DWORD **)(v17 + 4);
          if ( v17 == *v20 )
            *v20 = v18;
          else
            v20[2] = v18;
        }
        *v18 = v17;
        *(_DWORD *)(v17 + 4) = v18;
      }
      else
      {
        *(_BYTE *)(v13 + 64) = 1;
        *(_BYTE *)(v16 + 64) = 1;
        *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 64) = 0;
        i = *(_DWORD *)(*v11 + 4);
      }
    }
  }
  *(_BYTE *)(*(_DWORD *)(a1[6] + 4) + 64) = 1;
  result = a3;
  v22 = *a1;
  a3[1] = v7;
  *a3 = v22;
  return result;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (00446CE0) --------------------------------------------------------
void __thiscall sub_446CE0(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_446690((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (00446D60) --------------------------------------------------------
int __thiscall sub_446D60(int *this, int a2, int *a3)
{
  _DWORD *v4; // esi
  int *v5; // eax
  bool v6; // cl
  int v7; // edx
  int v8; // edx
  int v9; // ebp
  _DWORD *v10; // ebp
  int *v11; // ecx
  int v12; // edx
  int result; // eax
  int *v14; // ecx
  char v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h] BYREF
  _DWORD *v17; // [esp+18h] [ebp-4h]

  v4 = (_DWORD *)this[6];
  v5 = (int *)v4[1];
  v6 = 1;
  v15 = 1;
  if ( !*((_BYTE *)v5 + 101) )
  {
    v7 = *a3;
    do
    {
      v4 = v5;
      v6 = v7 < v5[3];
      v15 = v6;
      if ( v7 >= v5[3] )
        v5 = (int *)v5[2];
      else
        v5 = (int *)*v5;
    }
    while ( !*((_BYTE *)v5 + 101) );
  }
  v8 = *this;
  v9 = (int)v4;
  v17 = v4;
  v16 = v8;
  if ( v6 )
  {
    v10 = *(_DWORD **)this[6];
    if ( !v8 )
      _invalid_parameter_noinfo();
    if ( v4 == v10 )
    {
      v11 = sub_446770(this, v8, &v16, 1, v4, a3);
      v12 = *v11;
      result = a2;
      *(_DWORD *)(a2 + 4) = v11[1];
      *(_BYTE *)(a2 + 8) = 1;
      *(_DWORD *)a2 = v12;
      return result;
    }
    sub_444C00(&v16);
    v9 = (int)v17;
    v8 = v16;
  }
  if ( *(_DWORD *)(v9 + 12) >= *a3 )
  {
    result = a2;
    *(_DWORD *)(a2 + 4) = v9;
    *(_BYTE *)(a2 + 8) = 0;
  }
  else
  {
    v14 = sub_446770(this, (int)&v16, &v16, v15, v4, a3);
    v8 = *v14;
    result = a2;
    *(_DWORD *)(a2 + 4) = v14[1];
    *(_BYTE *)(a2 + 8) = 1;
  }
  *(_DWORD *)a2 = v8;
  return result;
}
// 446DCF: variable 'v8' is possibly undefined

//----- (00446E50) --------------------------------------------------------
int *__thiscall sub_446E50(int *this, int *a2)
{
  int v3; // edi
  int v4; // ebx
  int v5; // ebp
  int v7; // [esp+10h] [ebp-10h] BYREF
  int v8; // [esp+14h] [ebp-Ch]
  int v9; // [esp+18h] [ebp-8h]
  int v10; // [esp+1Ch] [ebp-4h]

  sub_4452F0(this, &v7, a2);
  v3 = v10;
  v4 = v9;
  v5 = v8;
  a2 = 0;
  sub_4454A0(v7, v8, v9, v10, &a2);
  sub_446690(this, &v7, v7, v5, v4, v3);
  return a2;
}

//----- (00446EC0) --------------------------------------------------------
void __thiscall sub_446EC0(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_446A00((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (00446F40) --------------------------------------------------------
int __thiscall sub_446F40(int *this, int a2, int *a3)
{
  _DWORD *v4; // esi
  int *v5; // eax
  bool v6; // cl
  int v7; // edx
  int v8; // edx
  int v9; // ebp
  _DWORD *v10; // ebp
  int *v11; // ecx
  int v12; // edx
  int result; // eax
  int *v14; // ecx
  char v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h] BYREF
  _DWORD *v17; // [esp+18h] [ebp-4h]

  v4 = (_DWORD *)this[6];
  v5 = (int *)v4[1];
  v6 = 1;
  v15 = 1;
  if ( !*((_BYTE *)v5 + 65) )
  {
    v7 = *a3;
    do
    {
      v4 = v5;
      v6 = v7 < v5[3];
      v15 = v6;
      if ( v7 >= v5[3] )
        v5 = (int *)v5[2];
      else
        v5 = (int *)*v5;
    }
    while ( !*((_BYTE *)v5 + 65) );
  }
  v8 = *this;
  v9 = (int)v4;
  v17 = v4;
  v16 = v8;
  if ( v6 )
  {
    v10 = *(_DWORD **)this[6];
    if ( !v8 )
      _invalid_parameter_noinfo();
    if ( v4 == v10 )
    {
      v11 = sub_446AE0(this, v8, &v16, 1, v4, a3);
      v12 = *v11;
      result = a2;
      *(_DWORD *)(a2 + 4) = v11[1];
      *(_BYTE *)(a2 + 8) = 1;
      *(_DWORD *)a2 = v12;
      return result;
    }
    sub_444C90(&v16);
    v9 = (int)v17;
    v8 = v16;
  }
  if ( *(_DWORD *)(v9 + 12) >= *a3 )
  {
    result = a2;
    *(_DWORD *)(a2 + 4) = v9;
    *(_BYTE *)(a2 + 8) = 0;
  }
  else
  {
    v14 = sub_446AE0(this, (int)&v16, &v16, v15, v4, a3);
    v8 = *v14;
    result = a2;
    *(_DWORD *)(a2 + 4) = v14[1];
    *(_BYTE *)(a2 + 8) = 1;
  }
  *(_DWORD *)a2 = v8;
  return result;
}
// 446FAF: variable 'v8' is possibly undefined

//----- (00447030) --------------------------------------------------------
int *__thiscall sub_447030(int *this, int *a2)
{
  int v3; // edi
  int v4; // ebx
  int v5; // ebp
  int v7; // [esp+10h] [ebp-10h] BYREF
  int v8; // [esp+14h] [ebp-Ch]
  int v9; // [esp+18h] [ebp-8h]
  int v10; // [esp+1Ch] [ebp-4h]

  sub_4454E0(this, &v7, a2);
  v3 = v10;
  v4 = v9;
  v5 = v8;
  a2 = 0;
  sub_445570(v7, v8, v9, v10, &a2);
  sub_446A00(this, &v7, v7, v5, v4, v3);
  return a2;
}

//----- (004470C0) --------------------------------------------------------
void __thiscall sub_4470C0(_DWORD *this)
{
  this[249] = 0;
  sub_4455B0((int)this);
  sub_446CE0((int)(this + 468));
  sub_446EC0((int)(this + 460));
  sub_446EC0((int)(this + 452));
  sub_446CE0((int)(this + 444));
  sub_446CE0((int)(this + 436));
  sub_446CE0((int)(this + 428));
  sub_446CE0((int)(this + 420));
  sub_446CE0((int)(this + 412));
  sub_446CE0((int)(this + 404));
  sub_446CE0((int)(this + 396));
  sub_446CE0((int)(this + 388));
  sub_446CE0((int)(this + 380));
  sub_446EC0((int)(this + 372));
  sub_446EC0((int)(this + 364));
  sub_446CE0((int)(this + 356));
  sub_446CE0((int)(this + 348));
  sub_446CE0((int)(this + 340));
  sub_446CE0((int)(this + 332));
  sub_446CE0((int)(this + 324));
  sub_446CE0((int)(this + 316));
  sub_446CE0((int)(this + 308));
  sub_446CE0((int)(this + 300));
}

//----- (00447280) --------------------------------------------------------
void __thiscall sub_447280(_DWORD *this)
{
  _DWORD *v1; // ebx
  bool v2; // zf
  int *v3; // edi
  int *v4; // ebx
  int v5; // eax
  int v6; // ebp
  int v7; // esi
  int *v8; // esi
  int *v9; // eax
  int v10; // eax
  int *v11; // esi
  int *v12; // eax
  int v13; // eax
  int v14; // edx
  int v15; // eax
  int v16; // edi
  int v17; // ebx
  int v18; // esi
  _DWORD *v19; // edi
  int v20; // eax
  int v21; // ebp
  int v22; // esi
  int *v23; // [esp-4h] [ebp-74h]
  int v25; // [esp+18h] [ebp-58h] BYREF
  int v26; // [esp+1Ch] [ebp-54h]
  int v27; // [esp+20h] [ebp-50h] BYREF
  int v28; // [esp+24h] [ebp-4Ch]
  int v29; // [esp+28h] [ebp-48h] BYREF
  int v30; // [esp+2Ch] [ebp-44h]
  int v31; // [esp+30h] [ebp-40h] BYREF
  int v32; // [esp+38h] [ebp-38h] BYREF
  int v33[4]; // [esp+40h] [ebp-30h] BYREF
  int v34[4]; // [esp+50h] [ebp-20h] BYREF
  int v35[4]; // [esp+60h] [ebp-10h] BYREF

  v1 = this;
  v2 = this[165] == 0;
  this[298] = 1;
  if ( !v2 )
  {
    while ( 1 )
    {
LABEL_4:
      while ( v1[165] )
      {
        v3 = v1 + 176;
        v23 = v1 + 176;
        v4 = v1 + 356;
        sub_4452F0(v4, v33, v23);
        v5 = v33[0];
        v6 = v33[3];
        v7 = 0;
        v25 = v33[0];
        v26 = v33[1];
        while ( 1 )
        {
          if ( !v5 || v5 != v33[2] )
            _invalid_parameter_noinfo();
          if ( v26 == v6 )
            break;
          ++v7;
          sub_445150(&v25);
          v5 = v25;
        }
        if ( v7 )
        {
          v8 = sub_445F30(v4, &v31, v3);
          v9 = (int *)*v8;
          if ( *v8 || (_invalid_parameter_noinfo(), (v9 = (int *)*v8) != 0) )
            v10 = *v9;
          else
            v10 = 0;
          if ( v8[1] == *(_DWORD *)(v10 + 24) )
            _invalid_parameter_noinfo();
          if ( sub_444510((int)this, v8[1] + 16) )
          {
            v11 = sub_445F30(v4, &v32, v3);
            v12 = (int *)*v11;
            if ( *v11 || (_invalid_parameter_noinfo(), (v12 = (int *)*v11) != 0) )
              v13 = *v12;
            else
              v13 = 0;
            if ( v11[1] == *(_DWORD *)(v13 + 24) )
              _invalid_parameter_noinfo();
            v14 = v11[1];
            if ( *(_DWORD *)(v14 + 76) )
              free(*(void **)(v14 + 76));
            sub_446E50(v4, v3);
          }
        }
        sub_4452F0(v4, v34, v3);
        v15 = v34[0];
        v16 = v34[3];
        v17 = v34[2];
        v18 = 0;
        v27 = v34[0];
        v28 = v34[1];
        while ( 1 )
        {
          if ( !v15 || v15 != v17 )
            _invalid_parameter_noinfo();
          if ( v28 == v16 )
            break;
          ++v18;
          sub_445150(&v27);
          v15 = v27;
        }
        if ( !v18 )
          this[165] = 0;
        v1 = this;
      }
      if ( !v1[363] )
        break;
      v19 = v1 + 176;
      v1[176] = 0;
      while ( 1 )
      {
        sub_4452F0(v1 + 356, v35, v1 + 176);
        v20 = v35[0];
        v21 = v35[3];
        v22 = 0;
        v29 = v35[0];
        v30 = v35[1];
        while ( 1 )
        {
          if ( !v20 || v20 != v35[2] )
            _invalid_parameter_noinfo();
          if ( v30 == v21 )
            break;
          ++v22;
          sub_445150(&v29);
          v20 = v29;
        }
        if ( v22 )
          break;
        if ( (int)++*v19 >= 100 )
          goto LABEL_4;
      }
      v1[165] = 1;
    }
  }
  v1[298] = 0;
}

//----- (004474C0) --------------------------------------------------------
void __thiscall sub_4474C0(int this, int a2, int a3, int a4, float a5, int a6)
{
  int v7; // ecx
  int v8; // eax
  double v9; // st7
  double v10; // st6
  double v11; // st7
  double v12; // st6
  double v13; // rt2
  double v14; // st6
  double v15; // st7
  double v16; // st7
  float v17; // [esp+Ch] [ebp-C4h]
  float v18; // [esp+Ch] [ebp-C4h]
  float v19; // [esp+Ch] [ebp-C4h]
  float v20; // [esp+10h] [ebp-C0h]
  float v21; // [esp+10h] [ebp-C0h]
  char v22[12]; // [esp+14h] [ebp-BCh] BYREF
  float v23[21]; // [esp+20h] [ebp-B0h] BYREF
  int v24; // [esp+78h] [ebp-58h] BYREF
  char v25[84]; // [esp+7Ch] [ebp-54h] BYREF

  memset(v23, 0, sizeof(v23));
  v7 = a6;
  if ( a6 == -1 )
  {
    if ( *(_DWORD *)(this + 1904) )
      v7 = *(_DWORD *)(this + 1580);
    else
      v7 = *(_DWORD *)(this + 1228);
  }
  v8 = *(_DWORD *)(this + 1904);
  v20 = (float)a2;
  v9 = v20;
  v23[0] = v20;
  v17 = (float)a4;
  v21 = v20 - *(float *)(this + 56);
  v23[8] = v21 / v17;
  if ( v8 )
  {
    v11 = v17;
  }
  else
  {
    v10 = v9;
    v11 = v17;
    *(float *)(this + 56) = v10;
  }
  v23[2] = *(float *)(this + 8);
  v18 = (float)a3;
  v12 = v18;
  v23[1] = v18;
  v19 = v18 - *(float *)(this + 60);
  v13 = v12;
  v14 = v19 / v11;
  v15 = v13;
  v23[9] = v14;
  if ( !v8 )
    *(float *)(this + 60) = v15;
  v16 = *(float *)(this + 12);
  v23[18] = a5;
  v23[3] = v16;
  LODWORD(v23[20]) = a4;
  if ( v8 )
  {
    v24 = v7;
    qmemcpy(v25, v23, sizeof(v25));
    sub_446D60((int *)(this + 1552), (int)v22, &v24);
  }
  else if ( 0.0 != v23[8] || 0.0 != v23[9] )
  {
    v24 = v7;
    qmemcpy(v25, v23, sizeof(v25));
    sub_446D60((int *)(this + 1200), (int)v22, &v24);
  }
}

//----- (00447620) --------------------------------------------------------
void __thiscall sub_447620(int *this, int a2, int a3, int a4, int a5, float a6, int a7)
{
  int v8; // ecx
  bool v9; // zf
  char v10[12]; // [esp+14h] [ebp-BCh] BYREF
  float v11[21]; // [esp+20h] [ebp-B0h] BYREF
  int v12; // [esp+78h] [ebp-58h] BYREF
  char v13[84]; // [esp+7Ch] [ebp-54h] BYREF

  memset(v11, 0, sizeof(v11));
  v8 = a7;
  if ( a7 == -1 )
  {
    if ( this[476] )
      v8 = this[403];
    else
      v8 = this[315];
  }
  v11[0] = (float)a2;
  v11[18] = a6;
  LODWORD(v11[20]) = a5;
  v11[2] = (float)a3;
  v11[4] = (float)a4;
  v11[12] = (double)(a4 - a3) / (double)a5;
  if ( 0.0 != v11[12] )
  {
    v9 = this[476] == 0;
    v12 = v8;
    qmemcpy(v13, v11, sizeof(v13));
    if ( v9 )
      sub_446D60(this + 308, (int)v10, &v12);
    else
      sub_446D60(this + 396, (int)v10, &v12);
  }
}

//----- (00447700) --------------------------------------------------------
void __thiscall sub_447700(int *this, int a2, int a3, int a4, int a5, float a6, int a7)
{
  int v8; // ecx
  bool v9; // zf
  char v10[12]; // [esp+14h] [ebp-BCh] BYREF
  float v11[21]; // [esp+20h] [ebp-B0h] BYREF
  int v12; // [esp+78h] [ebp-58h] BYREF
  char v13[84]; // [esp+7Ch] [ebp-54h] BYREF

  memset(v11, 0, sizeof(v11));
  v8 = a7;
  if ( a7 == -1 )
  {
    if ( this[476] )
      v8 = this[411];
    else
      v8 = this[323];
  }
  v11[1] = (float)a2;
  v11[18] = a6;
  LODWORD(v11[20]) = a5;
  v11[3] = (float)a3;
  v11[5] = (float)a4;
  v11[12] = (double)(a4 - a3) / (double)a5;
  if ( 0.0 != v11[12] )
  {
    v9 = this[476] == 0;
    v12 = v8;
    qmemcpy(v13, v11, sizeof(v13));
    if ( v9 )
      sub_446D60(this + 316, (int)v10, &v12);
    else
      sub_446D60(this + 404, (int)v10, &v12);
  }
}

//----- (004477E0) --------------------------------------------------------
void __thiscall sub_4477E0(int this, float a2, int a3, int a4, int a5)
{
  int v6; // ecx
  double v7; // st6
  int v8; // eax
  float v9; // [esp+8h] [ebp-C0h]
  char v10[12]; // [esp+Ch] [ebp-BCh] BYREF
  float v11[21]; // [esp+18h] [ebp-B0h] BYREF
  int v12; // [esp+70h] [ebp-58h] BYREF
  char v13[84]; // [esp+74h] [ebp-54h] BYREF

  v6 = a5;
  if ( a5 == -1 )
  {
    if ( *(_DWORD *)(this + 1904) )
      v6 = *(_DWORD *)(this + 1676);
    else
      v6 = *(_DWORD *)(this + 1324);
  }
  v11[6] = a2;
  v7 = a2;
  if ( v6 )
    v9 = v7 - *(float *)(this + 124);
  else
    v9 = v7 - *(float *)(this + 112);
  v8 = *(_DWORD *)(this + 1904);
  v11[12] = v9 / (double)a3;
  v11[3] = *(float *)(this + 112);
  v11[2] = v11[3];
  if ( !v8 )
    *(float *)(this + 124) = a2;
  LODWORD(v11[18]) = a4;
  LODWORD(v11[20]) = a3;
  if ( v8 )
  {
    v12 = v6;
    qmemcpy(v13, v11, sizeof(v13));
    sub_446D60((int *)(this + 1648), (int)v10, &v12);
  }
  else if ( 0.0 != v11[12] )
  {
    v12 = v6;
    qmemcpy(v13, v11, sizeof(v13));
    sub_446D60((int *)(this + 1296), (int)v10, &v12);
  }
}

//----- (004478E0) --------------------------------------------------------
void __thiscall sub_4478E0(int this, float a2, int a3, int a4, int a5)
{
  int v6; // ecx
  double v7; // st6
  int v8; // eax
  float v9; // [esp+8h] [ebp-C0h]
  char v10[12]; // [esp+Ch] [ebp-BCh] BYREF
  float v11[21]; // [esp+18h] [ebp-B0h] BYREF
  int v12; // [esp+70h] [ebp-58h] BYREF
  char v13[84]; // [esp+74h] [ebp-54h] BYREF

  v6 = a5;
  if ( a5 == -1 )
  {
    if ( *(_DWORD *)(this + 1904) )
      v6 = *(_DWORD *)(this + 1708);
    else
      v6 = *(_DWORD *)(this + 1356);
  }
  v11[6] = a2;
  v7 = a2;
  if ( v6 )
    v9 = v7 - *(float *)(this + 136);
  else
    v9 = v7 - *(float *)(this + 128);
  v8 = *(_DWORD *)(this + 1904);
  v11[12] = v9 / (double)a3;
  v11[3] = *(float *)(this + 128);
  v11[2] = v11[3];
  if ( !v8 )
    *(float *)(this + 136) = a2;
  LODWORD(v11[18]) = a4;
  LODWORD(v11[20]) = a3;
  if ( v8 )
  {
    v12 = v6;
    qmemcpy(v13, v11, sizeof(v13));
    sub_446D60((int *)(this + 1680), (int)v10, &v12);
  }
  else if ( 0.0 != v11[12] )
  {
    v12 = v6;
    qmemcpy(v13, v11, sizeof(v13));
    sub_446D60((int *)(this + 1328), (int)v10, &v12);
  }
}

//----- (004479F0) --------------------------------------------------------
void __thiscall sub_4479F0(int this, int a2, int a3, float a4, int a5)
{
  int v6; // ecx
  double v7; // st7
  double v8; // st6
  int v9; // eax
  float v10; // [esp+8h] [ebp-C0h]
  float v11; // [esp+8h] [ebp-C0h]
  char v12[12]; // [esp+Ch] [ebp-BCh] BYREF
  float v13[21]; // [esp+18h] [ebp-B0h] BYREF
  int v14; // [esp+70h] [ebp-58h] BYREF
  char v15[84]; // [esp+74h] [ebp-54h] BYREF

  v6 = a5;
  if ( a5 == -1 )
  {
    if ( *(_DWORD *)(this + 1904) )
      v6 = *(_DWORD *)(this + 1772);
    else
      v6 = *(_DWORD *)(this + 1420);
  }
  v10 = (float)a2;
  v7 = v10;
  v13[6] = v10;
  v8 = v10;
  if ( v6 )
    v11 = v8 - *(float *)(this + 148);
  else
    v11 = v8 - *(float *)(this + 144);
  v9 = *(_DWORD *)(this + 1904);
  v13[12] = v11 / (double)a3;
  v13[3] = *(float *)(this + 144);
  v13[2] = v13[3];
  if ( !v9 )
    *(float *)(this + 148) = v7;
  v13[18] = a4;
  LODWORD(v13[20]) = a3;
  if ( v9 )
  {
    v14 = v6;
    qmemcpy(v15, v13, sizeof(v15));
    sub_446D60((int *)(this + 1744), (int)v12, &v14);
  }
  else if ( 0.0 != v13[12] )
  {
    v14 = v6;
    qmemcpy(v15, v13, sizeof(v15));
    sub_446D60((int *)(this + 1392), (int)v12, &v14);
  }
}

//----- (00447B00) --------------------------------------------------------
void __thiscall sub_447B00(int this, float a2, float a3, int a4, int a5, int a6)
{
  int v7; // ecx
  bool v8; // zf
  int *v9; // ecx
  float v10[21]; // [esp+8h] [ebp-C0h] BYREF
  char v11[12]; // [esp+64h] [ebp-64h] BYREF
  int v12; // [esp+70h] [ebp-58h] BYREF
  char v13[84]; // [esp+74h] [ebp-54h] BYREF

  v7 = a6;
  if ( a2 != 0.0 && !*(_DWORD *)(this + 1452) )
  {
    if ( a6 == -1 )
    {
      if ( *(_DWORD *)(this + 1904) )
        v7 = *(_DWORD *)(this + 1804);
      else
        v7 = 0;
    }
    v10[6] = 255.0;
    v10[16] = a2;
    v10[7] = 0.0;
    v10[17] = a3;
    v10[15] = 0.0;
    LODWORD(v10[20]) = a4;
    v10[12] = -510.0 / (double)a4;
    v10[13] = *(float *)(this + 112);
    if ( a3 != 0.0 )
    {
      *(float *)(this + 112) = 0.0;
      v10[6] = -255.0;
      v10[12] = v10[12] * -1.0;
    }
    v10[18] = 0.0;
    if ( 0.0 != v10[12] )
    {
      v8 = *(_DWORD *)(this + 1904) == 0;
      v12 = v7;
      qmemcpy(v13, v10, sizeof(v13));
      v9 = (int *)(this + 1776);
      if ( v8 )
        v9 = (int *)(this + 1424);
      sub_446D60(v9, (int)v11, &v12);
    }
  }
}
// 447B00:  char var_64[12]

//----- (00447BF0) --------------------------------------------------------
int __thiscall sub_447BF0(int this, __int16 a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi
  int result; // eax
  double v9; // st7
  double v10; // st7
  char v11[12]; // [esp+Ch] [ebp-70h] BYREF
  int v12[12]; // [esp+18h] [ebp-64h] BYREF
  int v13; // [esp+48h] [ebp-34h] BYREF
  char v14[48]; // [esp+4Ch] [ebp-30h] BYREF

  v6 = a6;
  memset(v12, 0, sizeof(v12));
  if ( a6 == -1 )
    v6 = *(_DWORD *)(this + 1484);
  v12[11] = (a2 & 0xF00) != 0;
  if ( (a2 & 0xF) != 0 )
  {
    if ( (a2 & 0xF) == 1 )
    {
      v12[1] = a4;
    }
    else
    {
      result = (a2 & 0xF) - 6;
      if ( (a2 & 0xF) != 6 )
        return result;
      v12[1] = 1024;
    }
  }
  else
  {
    v12[0] = a4;
  }
  v12[6] = *(int *)(this + 96);
  v12[8] = *(int *)(this + 104);
  v12[3] = 2 * a3;
  v9 = *(float *)(this + 100);
  v13 = v6;
  *(float *)&v12[7] = v9;
  v12[4] = 0;
  v10 = *(float *)(this + 108);
  v12[10] = 0;
  v12[5] = a5;
  *(float *)&v12[9] = v10;
  qmemcpy(v14, v12, sizeof(v14));
  return sub_446F40((int *)(this + 1456), (int)v11, &v13);
}
// 447BF0:  char var_70[12]

//----- (00447CE0) --------------------------------------------------------
int __thiscall sub_447CE0(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v8; // esi
  int result; // eax
  int v10; // eax
  float *v11; // ecx
  float v12; // [esp+0h] [ebp-8Ch]
  float v13; // [esp+4h] [ebp-88h]
  int v14; // [esp+18h] [ebp-74h]
  char v15[12]; // [esp+1Ch] [ebp-70h] BYREF
  int v16[12]; // [esp+28h] [ebp-64h] BYREF
  int v17; // [esp+58h] [ebp-34h] BYREF
  char v18[48]; // [esp+5Ch] [ebp-30h] BYREF

  v14 = a7;
  memset(v16, 0, sizeof(v16));
  if ( a7 == -1 )
    v14 = *(_DWORD *)(this + 1516);
  v8 = 0;
  v16[2] = a5;
  v16[11] = a6;
  v16[3] = a4;
  v16[4] = 0;
  result = sub_44E340(a5, 0);
  if ( result != -1 )
  {
    do
      result = sub_44E340(a5, ++v8);
    while ( result != -1 );
    v16[5] = v8;
    if ( v8 )
    {
      if ( *(_DWORD *)(this + 188) )
        sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 188));
      v10 = sub_444930(v8, a5, 0);
      sub_4440C0(this, v10);
      v13 = (float)a3;
      v16[10] = 0;
      v12 = (float)a2;
      sub_444260((float *)this, v12, v13);
      sub_4442A0(v11, 0.0, 0.0);
      *(float *)&v16[9] = 0.0;
      *(float *)&v16[7] = 0.0;
      if ( a6 )
        qmemcpy((void *)(this + 912), v16, 0x30u);
      v17 = v14;
      qmemcpy(v18, v16, sizeof(v18));
      return sub_446F40((int *)(this + 1488), (int)v15, &v17);
    }
  }
  return result;
}
// 447DCC: variable 'v11' is possibly undefined
// 447CE0:  char var_70[12]

//----- (00447E30) --------------------------------------------------------
void __thiscall sub_447E30(int *this, int a2, int a3, int a4, float a5, int a6)
{
  int v7; // ecx
  double v8; // st7
  double v9; // st5
  bool v10; // zf
  float v11; // [esp+Ch] [ebp-C4h]
  float v12; // [esp+Ch] [ebp-C4h]
  float v13; // [esp+10h] [ebp-C0h]
  float v14; // [esp+10h] [ebp-C0h]
  char v15[12]; // [esp+14h] [ebp-BCh] BYREF
  float v16[21]; // [esp+20h] [ebp-B0h] BYREF
  int v17; // [esp+78h] [ebp-58h] BYREF
  char v18[84]; // [esp+7Ch] [ebp-54h] BYREF

  memset(v16, 0, sizeof(v16));
  v7 = a6;
  if ( a6 == -1 )
  {
    if ( this[476] )
      v7 = this[475];
    else
      v7 = this[387];
  }
  LODWORD(v16[20]) = a4;
  v16[18] = a5;
  v13 = 1.0 / (double)a2;
  v11 = (float)a3;
  v8 = v11;
  v12 = 1.0 / v11;
  v9 = v13;
  v14 = v12 - v13;
  v16[12] = v14 / (double)a4;
  v16[2] = v9;
  v16[4] = v12;
  v16[5] = v8;
  if ( 0.0 != v16[12] )
  {
    v10 = this[476] == 0;
    v17 = v7;
    qmemcpy(v18, v16, sizeof(v18));
    if ( v10 )
      sub_446D60(this + 380, (int)v15, &v17);
    else
      sub_446D60(this + 468, (int)v15, &v17);
  }
}

//----- (00447F40) --------------------------------------------------------
int __userpurge sub_447F40@<eax>(
        int a1@<ecx>,
        int a2,
        int a3,
        int a4,
        int a5,
        int a6,
        int a7,
        int a8,
        int a9,
        int a10,
        int a11,
        int a12,
        int a13,
        int a14,
        int a15,
        int a16,
        int a17,
        int a18,
        int a19,
        int a20,
        int a21,
        int a22,
        int a23,
        int a24,
        int a25,
        int a26,
        int a27,
        int a28,
        int a29,
        int a30,
        int a31,
        int a32,
        int a33,
        int a34,
        int a35,
        int a36,
        int a37,
        int a38,
        int a39,
        int a40,
        int a41,
        int a42,
        int a43,
        int a44,
        int a45,
        int a46,
        int a47,
        int a48,
        int a49,
        int a50,
        int a51,
        int a52,
        int a53,
        int a54,
        int a55,
        int a56,
        int a57,
        int a58,
        int a59,
        int a60,
        int a61,
        int a62,
        int a63)
{
  int result; // eax
  char v66[12]; // [esp+Ch] [ebp-4B4h] BYREF
  int v67; // [esp+18h] [ebp-4A8h] BYREF
  char v68[84]; // [esp+1Ch] [ebp-4A4h] BYREF
  char v69[84]; // [esp+70h] [ebp-450h] BYREF
  char v70[48]; // [esp+C8h] [ebp-3F8h] BYREF
  char v71[960]; // [esp+F8h] [ebp-3C8h] BYREF

  qmemcpy(v71, &a2, sizeof(v71));
  memset(v69, 0, sizeof(v69));
  memset(v70, 0, sizeof(v70));
  qmemcpy((void *)(a1 + 8), v71, 0x3C0u);
  if ( *(_DWORD *)(a1 + 632) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1200), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 636) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1232), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 640) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1264), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 644) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1296), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 648) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1328), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 652) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1360), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 656) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1392), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 660) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1424), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 664) )
  {
    v67 = 0;
    qmemcpy(v68, v70, 0x30u);
    sub_446F40((int *)(a1 + 1456), (int)v66, &v67);
  }
  if ( *(_DWORD *)(a1 + 672) )
  {
    v67 = 0;
    qmemcpy(v68, v69, sizeof(v68));
    sub_446D60((int *)(a1 + 1520), (int)v66, &v67);
  }
  result = *(_DWORD *)(a1 + 956);
  if ( result )
    return sub_447CE0(
             a1,
             (int)*(float *)(a1 + 8),
             (int)*(float *)(a1 + 12),
             *(_DWORD *)(a1 + 924),
             STACK[0x888],
             result,
             -1);
  return result;
}
// 447F40: too many input arguments, some ignored
// 447F40:  _DWORD arg_0

//----- (00448210) --------------------------------------------------------
void __thiscall sub_448210(int this, float a2, float a3, float a4, int a5, int a6, int a7)
{
  int v8; // ecx
  double v9; // st7
  double v10; // st6
  double v11; // st4
  double v12; // st3
  double v13; // st5
  int v14; // eax
  int *v15; // edi
  int *v16; // eax
  int *v17; // eax
  int *v18; // eax
  int *v19; // eax
  bool v20; // zf
  int *v21; // ecx
  float v22; // [esp+4h] [ebp-D0h]
  float v23; // [esp+4h] [ebp-D0h]
  float v24; // [esp+4h] [ebp-D0h]
  int v25; // [esp+4h] [ebp-D0h]
  float v26; // [esp+4h] [ebp-D0h]
  float v27; // [esp+4h] [ebp-D0h]
  float v28; // [esp+4h] [ebp-D0h]
  int v29; // [esp+8h] [ebp-CCh]
  int v30; // [esp+Ch] [ebp-C8h]
  float v31[2]; // [esp+10h] [ebp-C4h] BYREF
  int v32[3]; // [esp+18h] [ebp-BCh] BYREF
  float v33[21]; // [esp+24h] [ebp-B0h] BYREF
  int v34; // [esp+7Ch] [ebp-58h] BYREF
  char v35[84]; // [esp+80h] [ebp-54h] BYREF
  float v36; // [esp+E4h] [ebp+10h]

  v8 = a7;
  v30 = a7;
  v36 = a4 / 100.0;
  v9 = 0.0;
  v10 = 1.0;
  if ( 0.0 == *(float *)(this + 36) )
    *(float *)(this + 36) = 1.0;
  if ( 0.0 == *(float *)(this + 40) )
    *(float *)(this + 40) = 1.0;
  if ( 0.0 == *(float *)(this + 44) )
    *(float *)(this + 44) = 640.0;
  if ( 0.0 == *(float *)(this + 48) )
    *(float *)(this + 48) = 360.0;
  v11 = a3;
  if ( *(float *)(this + 36) != v36 || a2 != *(float *)(this + 44) || v11 != *(float *)(this + 48) )
  {
    if ( v8 == -1 )
    {
      if ( *(_DWORD *)(this + 1904) )
        v30 = *(_DWORD *)(this + 1740);
      else
        v30 = *(_DWORD *)(this + 1388);
    }
    v12 = v36;
    v13 = a2;
    v33[6] = v36;
    if ( !v30 )
    {
      v31[0] = (float)a5;
      v22 = v12 - *(float *)(this + 36);
      v33[12] = v22 / v31[0];
      v23 = v13 - *(float *)(this + 44);
      v33[8] = v23 / v31[0];
      v24 = v11 - *(float *)(this + 48);
      v33[9] = v24 / v31[0];
      v33[3] = *(float *)(this + 36);
      v33[2] = v33[3];
LABEL_24:
      v33[6] = v12;
      v33[10] = v13;
      LODWORD(v33[18]) = a6;
      LODWORD(v33[20]) = a5;
      v33[11] = v11;
      if ( v10 == v12 )
      {
        v33[10] = *(float *)(this + 44);
        v33[11] = *(float *)(this + 48);
        v33[8] = v9;
        v33[9] = v9;
      }
      else if ( v10 == *(float *)(this + 36) )
      {
        *(float *)(this + 44) = v13;
        *(float *)(this + 48) = v11;
        v33[8] = v9;
        v33[9] = v9;
      }
      v20 = *(_DWORD *)(this + 1904) == 0;
      v34 = v30;
      qmemcpy(v35, v33, sizeof(v35));
      v21 = (int *)(this + 1712);
      if ( v20 )
        v21 = (int *)(this + 1360);
      sub_446D60(v21, (int)v32, &v34);
      *(_DWORD *)(this + 52) = 1;
      return;
    }
    v14 = *(_DWORD *)(this + 1388);
    if ( v14 )
    {
      v29 = *(_DWORD *)(this + 1384);
      a7 = v14 - 1;
      v25 = *(_DWORD *)(this + 1360);
      v15 = sub_445F30((int *)(this + 1360), (int *)v31, &a7);
      if ( !*v15 || *v15 != v25 )
        _invalid_parameter_noinfo();
      if ( v15[1] != v29 )
      {
        v31[0] = (float)a5;
        v16 = sub_445F30((int *)(this + 1360), v32, &a7);
        v26 = v36 - *(float *)(sub_44AC10((int **)v16) + 28);
        v33[12] = v26 / v31[0];
        v17 = sub_445F30((int *)(this + 1360), v32, &a7);
        v27 = a2 - *(float *)(sub_44AC10((int **)v17) + 44);
        v33[8] = v27 / v31[0];
        v18 = sub_445F30((int *)(this + 1360), v32, &a7);
        v28 = a3 - *(float *)(sub_44AC10((int **)v18) + 48);
        v33[9] = v28 / v31[0];
        v19 = sub_445F30((int *)(this + 1360), v32, &a7);
        v33[3] = *(float *)(sub_44AC10((int **)v19) + 28);
        v33[2] = v33[3];
        v13 = a2;
        v11 = a3;
        v9 = 0.0;
        v12 = v36;
        v10 = 1.0;
        goto LABEL_24;
      }
    }
  }
}
// 448210:  float var_C4[2]
// 448210:  int var_BC[3]

//----- (00448560) --------------------------------------------------------
int __thiscall sub_448560(int this)
{
  int v2; // ecx
  int result; // eax
  int v4; // ebx
  _DWORD *v5; // edi
  int v6; // ebp
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // ebx
  _DWORD *v11; // edi
  int v12; // ebp
  _DWORD *v13; // eax
  int v14; // eax
  int v15; // ebx
  _DWORD *v16; // edi
  int v17; // ebp
  _DWORD *v18; // eax
  int v19; // eax
  int v20; // ebx
  _DWORD *v21; // edi
  int v22; // ebp
  _DWORD *v23; // eax
  int v24; // eax
  int v25; // eax
  int v26; // eax
  int v27; // ebx
  _DWORD *v28; // edi
  int v29; // ebp
  _DWORD *v30; // eax
  int v31; // eax
  int v32; // ebx
  _DWORD *v33; // edi
  int v34; // ebp
  _DWORD *v35; // eax
  int v36; // eax
  int v37; // eax
  int v38; // [esp+2Ch] [ebp-Ch]
  _DWORD *v39; // [esp+30h] [ebp-8h] BYREF
  int v40; // [esp+34h] [ebp-4h]

  v2 = *(_DWORD *)(this + 1192);
  result = 0;
  if ( v2 )
    *(_DWORD *)(this + 1908) = 0;
  if ( *(int *)(this + 1908) > 0 && !v2 )
  {
    if ( *(_DWORD *)(this + 1580) )
      result = 1;
    if ( *(_DWORD *)(this + 1676) )
      ++result;
    if ( *(_DWORD *)(this + 1708) )
      ++result;
    if ( *(_DWORD *)(this + 1740) )
      ++result;
    if ( *(_DWORD *)(this + 1772) )
      ++result;
    if ( *(_DWORD *)(this + 1804) )
      ++result;
    if ( result )
    {
      v38 = 0;
      do
      {
        *(_DWORD *)(this + 1904) = 0;
        v4 = **(_DWORD **)(this + 1576);
        v5 = *(_DWORD **)(this + 1552);
        v39 = v5;
        v40 = v4;
        while ( 1 )
        {
          v6 = *(_DWORD *)(this + 1576);
          if ( !v5 || v5 != *(_DWORD **)(this + 1552) )
            _invalid_parameter_noinfo();
          if ( v4 == v6 )
            break;
          if ( v5 )
          {
            v7 = (_DWORD *)*v5;
          }
          else
          {
            _invalid_parameter_noinfo();
            v7 = 0;
          }
          if ( v4 == v7[6] )
            _invalid_parameter_noinfo();
          if ( v5 )
          {
            v8 = *v5;
          }
          else
          {
            _invalid_parameter_noinfo();
            v8 = 0;
          }
          if ( v4 == *(_DWORD *)(v8 + 24) )
            _invalid_parameter_noinfo();
          if ( v5 )
          {
            v9 = *v5;
          }
          else
          {
            _invalid_parameter_noinfo();
            v9 = 0;
          }
          if ( v4 == *(_DWORD *)(v9 + 24) )
            _invalid_parameter_noinfo();
          if ( v5 )
            v5 = (_DWORD *)*v5;
          else
            _invalid_parameter_noinfo();
          if ( v4 == v5[6] )
            _invalid_parameter_noinfo();
          sub_4474C0(
            this,
            (int)*(float *)(v4 + 16),
            (int)*(float *)(v4 + 20),
            *(_DWORD *)(v4 + 96),
            *(float *)(v4 + 88),
            -1);
          sub_445150(&v39);
          v4 = v40;
          v5 = v39;
        }
        v10 = **(_DWORD **)(this + 1672);
        v11 = *(_DWORD **)(this + 1648);
        v39 = v11;
        v40 = v10;
        while ( 1 )
        {
          v12 = *(_DWORD *)(this + 1672);
          if ( !v11 || v11 != *(_DWORD **)(this + 1648) )
            _invalid_parameter_noinfo();
          if ( v10 == v12 )
            break;
          if ( v11 )
          {
            v13 = (_DWORD *)*v11;
          }
          else
          {
            _invalid_parameter_noinfo();
            v13 = 0;
          }
          if ( v10 == v13[6] )
            _invalid_parameter_noinfo();
          if ( v11 )
          {
            v14 = *v11;
          }
          else
          {
            _invalid_parameter_noinfo();
            v14 = 0;
          }
          if ( v10 == *(_DWORD *)(v14 + 24) )
            _invalid_parameter_noinfo();
          if ( v11 )
            v11 = (_DWORD *)*v11;
          else
            _invalid_parameter_noinfo();
          if ( v10 == v11[6] )
            _invalid_parameter_noinfo();
          sub_4477E0(this, *(float *)(v10 + 40), *(_DWORD *)(v10 + 96), *(_DWORD *)(v10 + 88), -1);
          sub_445150(&v39);
          v10 = v40;
          v11 = v39;
        }
        v15 = **(_DWORD **)(this + 1704);
        v16 = *(_DWORD **)(this + 1680);
        v39 = v16;
        v40 = v15;
        while ( 1 )
        {
          v17 = *(_DWORD *)(this + 1704);
          if ( !v16 || v16 != *(_DWORD **)(this + 1680) )
            _invalid_parameter_noinfo();
          if ( v15 == v17 )
            break;
          if ( v16 )
          {
            v18 = (_DWORD *)*v16;
          }
          else
          {
            _invalid_parameter_noinfo();
            v18 = 0;
          }
          if ( v15 == v18[6] )
            _invalid_parameter_noinfo();
          if ( v16 )
          {
            v19 = *v16;
          }
          else
          {
            _invalid_parameter_noinfo();
            v19 = 0;
          }
          if ( v15 == *(_DWORD *)(v19 + 24) )
            _invalid_parameter_noinfo();
          if ( v16 )
            v16 = (_DWORD *)*v16;
          else
            _invalid_parameter_noinfo();
          if ( v15 == v16[6] )
            _invalid_parameter_noinfo();
          sub_4478E0(this, *(float *)(v15 + 40), *(_DWORD *)(v15 + 96), *(_DWORD *)(v15 + 88), -1);
          sub_445150(&v39);
          v15 = v40;
          v16 = v39;
        }
        v20 = **(_DWORD **)(this + 1736);
        v21 = *(_DWORD **)(this + 1712);
        v39 = v21;
        v40 = v20;
        while ( 1 )
        {
          v22 = *(_DWORD *)(this + 1736);
          if ( !v21 || v21 != *(_DWORD **)(this + 1712) )
            _invalid_parameter_noinfo();
          if ( v20 == v22 )
            break;
          if ( v21 )
          {
            v23 = (_DWORD *)*v21;
          }
          else
          {
            _invalid_parameter_noinfo();
            v23 = 0;
          }
          if ( v20 == v23[6] )
            _invalid_parameter_noinfo();
          if ( v21 )
          {
            v24 = *v21;
          }
          else
          {
            _invalid_parameter_noinfo();
            v24 = 0;
          }
          if ( v20 == *(_DWORD *)(v24 + 24) )
            _invalid_parameter_noinfo();
          if ( v21 )
          {
            v25 = *v21;
          }
          else
          {
            _invalid_parameter_noinfo();
            v25 = 0;
          }
          if ( v20 == *(_DWORD *)(v25 + 24) )
            _invalid_parameter_noinfo();
          if ( v21 )
          {
            v26 = *v21;
          }
          else
          {
            _invalid_parameter_noinfo();
            v26 = 0;
          }
          if ( v20 == *(_DWORD *)(v26 + 24) )
            _invalid_parameter_noinfo();
          if ( v21 )
            v21 = (_DWORD *)*v21;
          else
            _invalid_parameter_noinfo();
          if ( v20 == v21[6] )
            _invalid_parameter_noinfo();
          sub_448210(
            this,
            *(float *)(v20 + 56),
            *(float *)(v20 + 60),
            *(float *)(v20 + 40),
            *(_DWORD *)(v20 + 96),
            *(_DWORD *)(v20 + 88),
            -1);
          sub_445150(&v39);
          v20 = v40;
          v21 = v39;
        }
        v27 = **(_DWORD **)(this + 1768);
        v28 = *(_DWORD **)(this + 1744);
        v39 = v28;
        v40 = v27;
        while ( 1 )
        {
          v29 = *(_DWORD *)(this + 1768);
          if ( !v28 || v28 != *(_DWORD **)(this + 1744) )
            _invalid_parameter_noinfo();
          if ( v27 == v29 )
            break;
          if ( v28 )
          {
            v30 = (_DWORD *)*v28;
          }
          else
          {
            _invalid_parameter_noinfo();
            v30 = 0;
          }
          if ( v27 == v30[6] )
            _invalid_parameter_noinfo();
          if ( v28 )
          {
            v31 = *v28;
          }
          else
          {
            _invalid_parameter_noinfo();
            v31 = 0;
          }
          if ( v27 == *(_DWORD *)(v31 + 24) )
            _invalid_parameter_noinfo();
          if ( v28 )
            v28 = (_DWORD *)*v28;
          else
            _invalid_parameter_noinfo();
          if ( v27 == v28[6] )
            _invalid_parameter_noinfo();
          sub_4479F0(this, (int)*(float *)(v27 + 40), *(_DWORD *)(v27 + 96), *(float *)(v27 + 88), -1);
          sub_445150(&v39);
          v27 = v40;
          v28 = v39;
        }
        v32 = **(_DWORD **)(this + 1800);
        v33 = *(_DWORD **)(this + 1776);
        v39 = v33;
        v40 = v32;
        while ( 1 )
        {
          v34 = *(_DWORD *)(this + 1800);
          if ( !v33 || v33 != *(_DWORD **)(this + 1776) )
            _invalid_parameter_noinfo();
          if ( v32 == v34 )
            break;
          if ( v33 )
          {
            v35 = (_DWORD *)*v33;
          }
          else
          {
            _invalid_parameter_noinfo();
            v35 = 0;
          }
          if ( v32 == v35[6] )
            _invalid_parameter_noinfo();
          if ( v33 )
          {
            v36 = *v33;
          }
          else
          {
            _invalid_parameter_noinfo();
            v36 = 0;
          }
          if ( v32 == *(_DWORD *)(v36 + 24) )
            _invalid_parameter_noinfo();
          if ( v33 )
          {
            v37 = *v33;
          }
          else
          {
            _invalid_parameter_noinfo();
            v37 = 0;
          }
          if ( v32 == *(_DWORD *)(v37 + 24) )
            _invalid_parameter_noinfo();
          if ( v33 )
            v33 = (_DWORD *)*v33;
          else
            _invalid_parameter_noinfo();
          if ( v32 == v33[6] )
            _invalid_parameter_noinfo();
          sub_447B00(this, *(float *)(v32 + 80), *(float *)(v32 + 84), *(_DWORD *)(v32 + 96), *(_DWORD *)(v32 + 88), -1);
          sub_445150(&v39);
          v32 = v40;
          v33 = v39;
        }
        result = ++v38;
      }
      while ( v38 < *(_DWORD *)(this + 1908) );
      *(_DWORD *)(this + 1908) = 0;
    }
    else
    {
      *(_DWORD *)(this + 1908) = 0;
    }
  }
  return result;
}
// 4485EB: conditional instruction was optimized away because edi.4>=1

//----- (00448B00) --------------------------------------------------------
_DWORD *__thiscall sub_448B00(_DWORD *this)
{
  char v3; // [esp+Fh] [ebp-11h] BYREF
  _DWORD *v4; // [esp+10h] [ebp-10h]
  int v5; // [esp+1Ch] [ebp-4h]

  v4 = this;
  sub_446600(this + 300, (int)&v3, (int)&v3);
  v5 = 0;
  sub_446600(this + 308, (int)&v3, (int)&v3);
  LOBYTE(v5) = 1;
  sub_446600(this + 316, (int)&v3, (int)&v3);
  LOBYTE(v5) = 2;
  sub_446600(this + 324, (int)&v3, (int)&v3);
  LOBYTE(v5) = 3;
  sub_446600(this + 332, (int)&v3, (int)&v3);
  LOBYTE(v5) = 4;
  sub_446600(this + 340, (int)&v3, (int)&v3);
  LOBYTE(v5) = 5;
  sub_446600(this + 348, (int)&v3, (int)&v3);
  LOBYTE(v5) = 6;
  sub_446600(this + 356, (int)&v3, (int)&v3);
  LOBYTE(v5) = 7;
  sub_446970(this + 364, (int)&v3, (int)&v3);
  LOBYTE(v5) = 8;
  sub_446970(this + 372, (int)&v3, (int)&v3);
  LOBYTE(v5) = 9;
  sub_446600(this + 380, (int)&v3, (int)&v3);
  LOBYTE(v5) = 10;
  sub_446600(this + 388, (int)&v3, (int)&v3);
  LOBYTE(v5) = 11;
  sub_446600(this + 396, (int)&v3, (int)&v3);
  LOBYTE(v5) = 12;
  sub_446600(this + 404, (int)&v3, (int)&v3);
  LOBYTE(v5) = 13;
  sub_446600(this + 412, (int)&v3, (int)&v3);
  LOBYTE(v5) = 14;
  sub_446600(this + 420, (int)&v3, (int)&v3);
  LOBYTE(v5) = 15;
  sub_446600(this + 428, (int)&v3, (int)&v3);
  LOBYTE(v5) = 16;
  sub_446600(this + 436, (int)&v3, (int)&v3);
  LOBYTE(v5) = 17;
  sub_446600(this + 444, (int)&v3, (int)&v3);
  LOBYTE(v5) = 18;
  sub_446970(this + 452, (int)&v3, (int)&v3);
  LOBYTE(v5) = 19;
  sub_446970(this + 460, (int)&v3, (int)&v3);
  LOBYTE(v5) = 20;
  sub_446600(this + 468, (int)&v3, (int)&v3);
  this[249] = 0;
  LOBYTE(v5) = 21;
  if ( dword_4C0874 )
    this[249] = sub_438B50(dword_4C0874);
  this[158] = 0;
  this[159] = 0;
  this[160] = 0;
  this[161] = 0;
  this[162] = 0;
  this[163] = 0;
  this[164] = 0;
  this[165] = 0;
  this[166] = 0;
  this[167] = 0;
  this[168] = 0;
  this[479] = 0;
  this[298] = 0;
  this[299] = 0;
  this[480] = 0;
  this[227] = 0;
  this[226] = 50;
  this[476] = 0;
  this[478] = 0;
  this[477] = 0;
  this[241] = 0;
  sub_445230((int)this);
  return this;
}

//----- (00448E30) --------------------------------------------------------
BOOL __thiscall sub_448E30(_DWORD *this)
{
  BOOL v2; // eax
  int v3; // edx
  int v5; // ecx

  v2 = sub_444F50(this);
  v3 = 0;
  if ( this[480] )
    return 0;
  v5 = this[307];
  if ( v5
    || this[315]
    || this[323]
    || this[331]
    || this[339]
    || this[347]
    || this[355]
    || this[363]
    || this[371]
    || this[379]
    || this[387] )
  {
    v3 = 1;
  }
  if ( this[298] && !v2 )
    v2 = v3 != 0;
  if ( this[299] && !v5 )
    return 0;
  if ( !this[478] || v3 )
    return v2;
  this[477] = 1;
  sub_448560((int)this);
  return 1;
}

//----- (00448F00) --------------------------------------------------------
BOOL __thiscall sub_448F00(int this)
{
  int v2; // edi
  _DWORD *v3; // esi
  double v5; // st7
  long double v6; // st7
  double v7; // st7
  long double v8; // st7
  float *v9; // ecx
  int *v10; // eax
  int v11; // eax
  bool v12; // zf
  _DWORD *v13; // esi
  int *v14; // eax
  double v15; // st7
  double v16; // st7
  int *v17; // eax
  int v18; // eax
  double v19; // st7
  double v20; // st7
  double v21; // st7
  _DWORD *v22; // esi
  int *v23; // eax
  int *v24; // eax
  int v25; // eax
  double v26; // st7
  double v27; // st7
  long double v28; // st7
  _DWORD *v29; // esi
  int *v30; // eax
  int *v31; // eax
  int v32; // eax
  double v33; // st7
  long double v34; // st7
  double v35; // st7
  _DWORD *v36; // esi
  int *v37; // eax
  int *v38; // eax
  int v39; // eax
  int v40; // ecx
  double v41; // st7
  long double v42; // st7
  double v43; // st7
  _DWORD *v44; // esi
  int *v45; // eax
  double v46; // st7
  long double v47; // st7
  double v48; // st7
  long double v49; // st7
  int *v50; // eax
  int v51; // eax
  double v52; // st7
  double v53; // st7
  double v54; // st7
  long double v55; // st7
  _DWORD *v56; // esi
  int *v57; // eax
  int *v58; // eax
  int v59; // eax
  _DWORD *v60; // esi
  int *v61; // eax
  int v62; // eax
  int *v63; // eax
  void *v64; // eax
  int *v65; // esi
  int *v66; // eax
  int v67; // edi
  int v68; // esi
  int v69; // eax
  int v70; // esi
  bool v71; // cc
  _DWORD *v72; // esi
  int *v73; // eax
  int v74; // eax
  double v75; // st7
  int v76; // ebp
  int v77; // edi
  int **v78; // edi
  int *v79; // eax
  int v80; // esi
  int v81; // esi
  int v82; // eax
  int *v83; // esi
  _DWORD *v84; // esi
  _DWORD *v85; // esi
  double v86; // st7
  long double v87; // st7
  int *v88; // eax
  int v89; // eax
  double v90; // st7
  _DWORD *v91; // esi
  int *v92; // eax
  double v93; // st7
  float v94; // [esp+18h] [ebp-70h] BYREF
  int v95; // [esp+1Ch] [ebp-6Ch] BYREF
  float i; // [esp+20h] [ebp-68h] BYREF
  int v97; // [esp+24h] [ebp-64h]
  int v98; // [esp+28h] [ebp-60h]
  int v99; // [esp+2Ch] [ebp-5Ch]
  float v100[21]; // [esp+30h] [ebp-58h] BYREF

  v2 = 0;
  v3 = (_DWORD *)(this + 632);
  v95 = 0;
  if ( this == -632 || *(_DWORD *)(this + 908) )
    return 0;
  if ( *(_DWORD *)(this + 188) && !sub_44B000(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 188)) )
    sub_445C30(this);
  if ( *(_DWORD *)(this + 1228) )
  {
    if ( *v3 )
    {
      if ( sub_445FC0((int *)(this + 1200), (int *)(this + 676)) )
      {
        v94 = *(float *)(this + 228) * *(float *)(this + 216);
        v5 = v94;
        *(float *)(this + 216) = v94;
        v94 = v5;
        if ( *(_DWORD *)(this + 1916) )
          v94 = v94 * 4.0;
        v6 = v94;
        *(float *)(this + 8) = v94 + *(float *)(this + 8);
        v94 = fabs(v6);
        if ( *(float *)(this + 8) >= *(float *)(this + 208) - v94
          && *(float *)(this + 8) <= v94 + *(float *)(this + 208) )
        {
          *(float *)(this + 8) = *(float *)(this + 208);
        }
        v94 = *(float *)(this + 228) * *(float *)(this + 220);
        v7 = v94;
        *(float *)(this + 220) = v94;
        v94 = v7;
        if ( *(_DWORD *)(this + 1916) )
          v94 = v94 * 4.0;
        v8 = v94;
        *(float *)(this + 12) = v94 + *(float *)(this + 12);
        v94 = fabs(v8);
        if ( *(float *)(this + 12) >= *(float *)(this + 212) - v94
          && *(float *)(this + 12) <= v94 + *(float *)(this + 212) )
        {
          *(float *)(this + 12) = *(float *)(this + 212);
        }
        if ( 0.0 == *(float *)(this + 216) && 0.0 == *(float *)(this + 220) )
          v2 = 1;
        if ( *(float *)(this + 208) == *(float *)(this + 8) && *(float *)(this + 212) == *(float *)(this + 12)
          || *(_DWORD *)(this + 1192)
          || *(_DWORD *)(this + 1196)
          || v2 )
        {
          sub_444280((float *)this, *(float *)(this + 208));
          sub_444290(v9, *(float *)(this + 212));
          v10 = sub_445F30((int *)(this + 1200), (int *)&i, (_DWORD *)(this + 676));
          v11 = sub_44AC10((int **)v10);
          v12 = *(_DWORD *)(this + 1192) == 0;
          qmemcpy(v100, (const void *)(v11 + 4), sizeof(v100));
          if ( v12 && !*(_DWORD *)(this + 1196) && LODWORD(v100[18]) )
          {
            *(float *)(this + 8) = v100[2];
            *(float *)(this + 12) = v100[3];
          }
          else
          {
            sub_446E50((int *)(this + 1200), (int *)(this + 676));
          }
        }
      }
      if ( !sub_445FC0((int *)(this + 1200), (int *)(this + 676)) )
        *(_DWORD *)(this + 632) = 0;
    }
    else
    {
      v13 = (_DWORD *)(this + 676);
      *(_DWORD *)(this + 676) = 0;
      while ( 1 )
      {
        sub_4452F0((int *)(this + 1200), &i, (int *)(this + 676));
        v94 = 0.0;
        sub_4454A0(SLODWORD(i), v97, v98, v99, &v94);
        if ( v94 != 0.0 )
          break;
        if ( (int)++*v13 >= 100 )
          goto LABEL_41;
      }
      v14 = sub_445F30((int *)(this + 1200), (int *)&i, (_DWORD *)(this + 676));
      qmemcpy(v100, (const void *)(sub_44AC10((int **)v14) + 4), sizeof(v100));
      *(float *)(this + 208) = v100[0];
      *(float *)(this + 216) = v100[8];
      *(float *)(this + 212) = v100[1];
      *(float *)(this + 220) = v100[9];
      *(float *)(this + 228) = *(float *)(this + 32);
      *(_DWORD *)(this + 632) = 1;
    }
  }
  else
  {
    *v3 = 0;
  }
LABEL_41:
  if ( *(_DWORD *)(this + 1196) )
    return sub_448E30((_DWORD *)this);
  if ( !*(_DWORD *)(this + 1260) )
    goto LABEL_57;
  if ( *(_DWORD *)(this + 636) )
  {
    if ( sub_445FC0((int *)(this + 1232), (int *)(this + 680)) )
    {
      v94 = *(float *)(this + 268) * *(float *)(this + 256);
      v15 = v94;
      *(float *)(this + 256) = v94;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v15;
      if ( !v12 )
        v94 = v94 * 4.0;
      i = *(float *)(this + 232) + v94;
      v16 = i;
      *(float *)(this + 232) = i;
      i = v16 * 0.01745327777777778;
      i = sin(i);
      *(float *)(this + 8) = i * *(float *)(this + 260) + *(float *)(this + 248);
      i = fabs(v94);
      v94 = i;
      if ( *(float *)(this + 232) >= *(float *)(this + 236) - i && *(float *)(this + 232) <= i + *(float *)(this + 236) )
        *(float *)(this + 232) = *(float *)(this + 236);
      if ( *(float *)(this + 236) == *(float *)(this + 232) || *(_DWORD *)(this + 1192) )
      {
        *(float *)(this + 8) = *(float *)(this + 248);
        v17 = sub_445F30((int *)(this + 1232), (int *)&i, (_DWORD *)(this + 680));
        v18 = sub_44AC10((int **)v17);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v18 + 4), sizeof(v100));
        if ( v12 && LODWORD(v100[18]) )
        {
          v19 = v100[2];
          *(float *)(this + 232) = v100[2];
          *(float *)(this + 236) = v100[4];
          i = v19 * 0.01745327777777778;
          i = sin(i);
          *(float *)(this + 8) = i * *(float *)(this + 260) + *(float *)(this + 248);
        }
        else
        {
          sub_446E50((int *)(this + 1232), (int *)(this + 680));
        }
      }
    }
    if ( !sub_445FC0((int *)(this + 1232), (int *)(this + 680)) )
LABEL_57:
      *(_DWORD *)(this + 636) = 0;
  }
  else
  {
    v22 = (_DWORD *)(this + 680);
    *(_DWORD *)(this + 680) = 0;
    while ( !sub_445FC0((int *)(this + 1232), (int *)(this + 680)) )
    {
      if ( (int)++*v22 >= 100 )
        goto LABEL_58;
    }
    v23 = sub_445F30((int *)(this + 1232), (int *)&i, (_DWORD *)(this + 680));
    qmemcpy(v100, (const void *)(sub_44AC10((int **)v23) + 4), sizeof(v100));
    *(float *)(this + 260) = v100[0];
    *(float *)(this + 232) = v100[2];
    *(float *)(this + 236) = v100[4];
    *(float *)(this + 256) = v100[12];
    *(float *)(this + 248) = *(float *)(this + 8);
    *(float *)(this + 268) = *(float *)(this + 32);
    *(_DWORD *)(this + 636) = 1;
  }
LABEL_58:
  if ( !*(_DWORD *)(this + 1292) )
  {
LABEL_78:
    *(_DWORD *)(this + 640) = 0;
    goto LABEL_79;
  }
  if ( *(_DWORD *)(this + 640) )
  {
    if ( sub_445FC0((int *)(this + 1264), (int *)(this + 684)) )
    {
      i = *(float *)(this + 308) * *(float *)(this + 300);
      v20 = i;
      *(float *)(this + 300) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v20;
      if ( !v12 )
        v94 = v94 * 4.0;
      i = *(float *)(this + 272) + v94;
      v21 = i;
      *(float *)(this + 272) = i;
      i = v21 * 0.01745327777777778;
      i = cos(i);
      *(float *)(this + 12) = i * *(float *)(this + 296) + *(float *)(this + 292);
      i = fabs(v94);
      v94 = i;
      if ( *(float *)(this + 272) >= *(float *)(this + 276) - i && *(float *)(this + 272) <= i + *(float *)(this + 276) )
        *(float *)(this + 272) = *(float *)(this + 276);
      if ( *(float *)(this + 276) == *(float *)(this + 272) || *(_DWORD *)(this + 1192) )
      {
        *(float *)(this + 12) = *(float *)(this + 292);
        v24 = sub_445F30((int *)(this + 1264), (int *)&i, (_DWORD *)(this + 684));
        v25 = sub_44AC10((int **)v24);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v25 + 4), sizeof(v100));
        if ( v12 && LODWORD(v100[18]) )
        {
          v26 = v100[3];
          *(float *)(this + 272) = v100[3];
          *(float *)(this + 276) = v100[5];
          i = v26 * 0.01745327777777778;
          i = cos(i);
          *(float *)(this + 12) = i * *(float *)(this + 296) + *(float *)(this + 292);
        }
        else
        {
          sub_446E50((int *)(this + 1264), (int *)(this + 684));
        }
      }
    }
    if ( !sub_445FC0((int *)(this + 1264), (int *)(this + 684)) )
      goto LABEL_78;
  }
  else
  {
    v29 = (_DWORD *)(this + 684);
    *(_DWORD *)(this + 684) = 0;
    while ( !sub_445FC0((int *)(this + 1264), (int *)(this + 684)) )
    {
      if ( (int)++*v29 >= 100 )
        goto LABEL_79;
    }
    v30 = sub_445F30((int *)(this + 1264), (int *)&i, (_DWORD *)(this + 684));
    qmemcpy(v100, (const void *)(sub_44AC10((int **)v30) + 4), sizeof(v100));
    *(float *)(this + 296) = v100[1];
    *(float *)(this + 272) = v100[3];
    *(float *)(this + 276) = v100[5];
    *(float *)(this + 300) = v100[12];
    *(float *)(this + 292) = *(float *)(this + 12);
    *(float *)(this + 308) = *(float *)(this + 32);
    *(_DWORD *)(this + 640) = 1;
  }
LABEL_79:
  if ( !*(_DWORD *)(this + 1324) )
  {
LABEL_99:
    *(_DWORD *)(this + 644) = 0;
    goto LABEL_100;
  }
  if ( *(_DWORD *)(this + 644) )
  {
    if ( sub_445FC0((int *)(this + 1296), (int *)(this + 688)) )
    {
      i = *(float *)(this + 348) * *(float *)(this + 344);
      v27 = i;
      *(float *)(this + 344) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v27;
      if ( !v12 )
        v94 = v94 * 4.0;
      v28 = v94;
      *(float *)(this + 112) = *(float *)(this + 112) + v94;
      i = fabs(v28);
      v94 = i;
      if ( *(float *)(this + 112) >= *(float *)(this + 316) - i && *(float *)(this + 112) <= i + *(float *)(this + 316) )
        *(float *)(this + 112) = *(float *)(this + 316);
      if ( *(float *)(this + 316) == *(float *)(this + 112) || *(_DWORD *)(this + 1192) )
      {
        sub_444470((float *)this, *(float *)(this + 316));
        v31 = sub_445F30((int *)(this + 1296), (int *)&i, (_DWORD *)(this + 688));
        v32 = sub_44AC10((int **)v31);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v32 + 4), sizeof(v100));
        if ( v12 && LODWORD(v100[18]) )
          *(float *)(this + 112) = v100[2];
        else
          sub_446E50((int *)(this + 1296), (int *)(this + 688));
      }
    }
    if ( !sub_445FC0((int *)(this + 1296), (int *)(this + 688)) )
      goto LABEL_99;
  }
  else
  {
    v36 = (_DWORD *)(this + 688);
    *(_DWORD *)(this + 688) = 0;
    while ( !sub_445FC0((int *)(this + 1296), (int *)(this + 688)) )
    {
      if ( (int)++*v36 >= 100 )
        goto LABEL_100;
    }
    v37 = sub_445F30((int *)(this + 1296), (int *)&i, (_DWORD *)(this + 688));
    qmemcpy(v100, (const void *)(sub_44AC10((int **)v37) + 4), sizeof(v100));
    *(float *)(this + 316) = v100[6];
    *(float *)(this + 344) = v100[12];
    *(float *)(this + 348) = *(float *)(this + 32);
    *(_DWORD *)(this + 644) = 1;
  }
LABEL_100:
  if ( !*(_DWORD *)(this + 1356) )
  {
LABEL_123:
    *(_DWORD *)(this + 648) = 0;
    goto LABEL_124;
  }
  if ( *(_DWORD *)(this + 648) )
  {
    if ( sub_445FC0((int *)(this + 1328), (int *)(this + 692)) )
    {
      i = *(float *)(this + 388) * *(float *)(this + 384);
      v33 = i;
      *(float *)(this + 384) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v33;
      if ( !v12 )
        v94 = v94 * 4.0;
      v34 = v94;
      *(float *)(this + 128) = *(float *)(this + 128) + v94;
      *(float *)(this + 132) = *(float *)(this + 132) + v34;
      i = fabs(v34);
      v94 = i;
      v35 = i;
      if ( *(float *)(this + 128) >= *(float *)(this + 356) - i
        && *(float *)(this + 356) + v35 >= *(float *)(this + 128) )
      {
        *(float *)(this + 128) = *(float *)(this + 356);
      }
      if ( *(float *)(this + 132) >= *(float *)(this + 356) - v35
        && *(float *)(this + 132) <= v35 + *(float *)(this + 356) )
      {
        *(float *)(this + 132) = *(float *)(this + 356);
      }
      if ( *(float *)(this + 356) == *(float *)(this + 128) || *(_DWORD *)(this + 1192) )
      {
        sub_4443C0((float *)this, *(float *)(this + 356), *(float *)(this + 356));
        v38 = sub_445F30((int *)(this + 1328), (int *)&i, (_DWORD *)(this + 692));
        v39 = sub_44AC10((int **)v38);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v39 + 4), sizeof(v100));
        if ( v12 && LODWORD(v100[18]) )
        {
          *(float *)(this + 128) = v100[2];
          *(float *)(this + 132) = v100[3];
        }
        else
        {
          sub_446E50((int *)(this + 1328), (int *)(this + 692));
        }
      }
    }
    if ( !sub_445FC0((int *)(this + 1328), (int *)(this + 692)) )
      goto LABEL_123;
  }
  else
  {
    v44 = (_DWORD *)(this + 692);
    *(_DWORD *)(this + 692) = 0;
    while ( !sub_445FC0((int *)(this + 1328), (int *)(this + 692)) )
    {
      if ( (int)++*v44 >= 100 )
        goto LABEL_124;
    }
    v45 = sub_445F30((int *)(this + 1328), (int *)&i, (_DWORD *)(this + 692));
    qmemcpy(v100, (const void *)(sub_44AC10((int **)v45) + 4), sizeof(v100));
    *(float *)(this + 356) = v100[6];
    *(float *)(this + 384) = v100[12];
    *(float *)(this + 388) = *(float *)(this + 32);
    *(_DWORD *)(this + 648) = 1;
  }
LABEL_124:
  if ( !*(_DWORD *)(this + 1388) )
  {
LABEL_155:
    *(_DWORD *)(this + 652) = 0;
    goto LABEL_156;
  }
  if ( *(_DWORD *)(this + 652) )
  {
    if ( sub_445FC0((int *)(this + 1360), (int *)(this + 696)) )
    {
      v40 = 0;
      i = *(float *)(this + 424) * *(float *)(this + 428);
      v41 = i;
      *(float *)(this + 424) = i;
      v94 = v41;
      v42 = v94;
      *(float *)(this + 36) = v94 + *(float *)(this + 36);
      *(float *)(this + 40) = *(float *)(this + 40) + v42;
      i = fabs(v42);
      v94 = i;
      v43 = i;
      if ( *(float *)(this + 36) >= *(float *)(this + 396) - i && *(float *)(this + 396) + v43 >= *(float *)(this + 36) )
      {
        v40 = 1;
        *(float *)(this + 36) = *(float *)(this + 396);
      }
      if ( *(float *)(this + 40) >= *(float *)(this + 396) - v43
        && *(float *)(this + 40) <= v43 + *(float *)(this + 396) )
      {
        ++v40;
        *(float *)(this + 40) = *(float *)(this + 396);
      }
      i = *(float *)(this + 428) * *(float *)(this + 416);
      v46 = i;
      *(float *)(this + 416) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v46;
      if ( !v12 )
        v94 = v94 * 4.0;
      v47 = v94;
      *(float *)(this + 44) = *(float *)(this + 44) + v94;
      i = fabs(v47);
      v94 = i;
      if ( *(float *)(this + 44) >= *(float *)(this + 408) - i && *(float *)(this + 44) <= i + *(float *)(this + 408) )
      {
        ++v40;
        *(float *)(this + 44) = *(float *)(this + 408);
      }
      i = *(float *)(this + 428) * *(float *)(this + 420);
      v48 = i;
      *(float *)(this + 420) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v48;
      if ( !v12 )
        v94 = v94 * 4.0;
      v49 = v94;
      *(float *)(this + 48) = *(float *)(this + 48) + v94;
      i = fabs(v49);
      v94 = i;
      if ( *(float *)(this + 48) >= *(float *)(this + 412) - i && *(float *)(this + 48) <= i + *(float *)(this + 412) )
      {
        ++v40;
        *(float *)(this + 48) = *(float *)(this + 412);
      }
      if ( v40 == 4 || *(_DWORD *)(this + 1192) )
      {
        v50 = sub_445F30((int *)(this + 1360), (int *)&i, (_DWORD *)(this + 696));
        v51 = sub_44AC10((int **)v50);
        v52 = *(float *)(this + 396);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v51 + 4), sizeof(v100));
        *(float *)(this + 36) = v52;
        *(float *)(this + 40) = *(float *)(this + 396);
        *(float *)(this + 44) = *(float *)(this + 408);
        *(float *)(this + 48) = *(float *)(this + 412);
        if ( v12 && LODWORD(v100[18]) )
        {
          *(float *)(this + 36) = v100[2];
          *(float *)(this + 40) = v100[3];
          v53 = v100[10];
          *(float *)(this + 44) = v100[10];
          *(float *)(this + 48) = v53;
        }
        else
        {
          sub_446E50((int *)(this + 1360), (int *)(this + 696));
        }
      }
    }
    if ( !sub_445FC0((int *)(this + 1360), (int *)(this + 696)) )
      goto LABEL_155;
  }
  else
  {
    v56 = (_DWORD *)(this + 696);
    *(_DWORD *)(this + 696) = 0;
    while ( !sub_445FC0((int *)(this + 1360), (int *)(this + 696)) )
    {
      if ( (int)++*v56 >= 100 )
        goto LABEL_156;
    }
    v57 = sub_445F30((int *)(this + 1360), (int *)&i, (_DWORD *)(this + 696));
    qmemcpy(v100, (const void *)(sub_44AC10((int **)v57) + 4), sizeof(v100));
    *(float *)(this + 396) = v100[6];
    *(float *)(this + 408) = v100[10];
    *(float *)(this + 412) = v100[11];
    *(float *)(this + 424) = v100[12];
    *(float *)(this + 416) = v100[8];
    *(float *)(this + 420) = v100[9];
    *(float *)(this + 428) = *(float *)(this + 32);
    *(_DWORD *)(this + 652) = 1;
  }
LABEL_156:
  if ( !*(_DWORD *)(this + 1420) )
  {
LABEL_176:
    *(_DWORD *)(this + 656) = 0;
    goto LABEL_177;
  }
  if ( *(_DWORD *)(this + 656) )
  {
    if ( sub_445FC0((int *)(this + 1392), (int *)(this + 700)) )
    {
      i = *(float *)(this + 468) * *(float *)(this + 464);
      v54 = i;
      *(float *)(this + 464) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v54;
      if ( !v12 )
        v94 = v94 * 4.0;
      v55 = v94;
      *(float *)(this + 144) = *(float *)(this + 144) + v94;
      i = fabs(v55);
      v94 = i;
      if ( *(float *)(this + 144) >= *(float *)(this + 436) - i && *(float *)(this + 144) <= i + *(float *)(this + 436) )
        *(float *)(this + 144) = *(float *)(this + 436);
      if ( *(float *)(this + 436) == *(float *)(this + 144) || *(_DWORD *)(this + 1192) )
      {
        sub_444440((float *)this, *(float *)(this + 436));
        v58 = sub_445F30((int *)(this + 1392), (int *)&i, (_DWORD *)(this + 700));
        v59 = sub_44AC10((int **)v58);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v59 + 4), sizeof(v100));
        if ( v12 && LODWORD(v100[18]) )
          *(float *)(this + 144) = v100[2];
        else
          sub_446E50((int *)(this + 1392), (int *)(this + 700));
      }
    }
    if ( !sub_445FC0((int *)(this + 1392), (int *)(this + 700)) )
      goto LABEL_176;
  }
  else
  {
    v72 = (_DWORD *)(this + 700);
    *(_DWORD *)(this + 700) = 0;
    while ( !sub_445FC0((int *)(this + 1392), (int *)(this + 700)) )
    {
      if ( (int)++*v72 >= 100 )
        goto LABEL_177;
    }
    v73 = sub_445F30((int *)(this + 1392), (int *)&i, (_DWORD *)(this + 700));
    qmemcpy(v100, (const void *)(sub_44AC10((int **)v73) + 4), sizeof(v100));
    *(float *)(this + 436) = v100[6];
    *(float *)(this + 464) = v100[12];
    *(float *)(this + 468) = *(float *)(this + 32);
    *(_DWORD *)(this + 656) = 1;
  }
LABEL_177:
  if ( !*(_DWORD *)(this + 1452) )
  {
LABEL_185:
    *(_DWORD *)(this + 660) = 0;
    goto LABEL_186;
  }
  v60 = (_DWORD *)(this + 704);
  if ( *(_DWORD *)(this + 660) )
  {
    if ( sub_445FC0((int *)(this + 1424), (int *)(this + 704)) )
    {
      v61 = sub_445F30((int *)(this + 1424), (int *)&i, (_DWORD *)(this + 704));
      v62 = sub_44AC10((int **)v61);
      if ( sub_444510(this, v62 + 4) )
      {
        v63 = sub_445F30((int *)(this + 1424), (int *)&i, (_DWORD *)(this + 704));
        v64 = *(void **)(sub_44AC10((int **)v63) + 64);
        if ( v64 )
          free(v64);
        sub_446E50((int *)(this + 1424), (int *)(this + 704));
      }
    }
    if ( !sub_445FC0((int *)(this + 1424), (int *)(this + 704)) )
      goto LABEL_185;
  }
  else
  {
    *v60 = 0;
    while ( !sub_445FC0((int *)(this + 1424), (int *)(this + 704)) )
    {
      if ( (int)++*v60 >= 100 )
        goto LABEL_186;
    }
    *(_DWORD *)(this + 660) = 1;
  }
LABEL_186:
  if ( !*(_DWORD *)(this + 1484) )
  {
LABEL_216:
    *(_DWORD *)(this + 664) = 0;
    goto LABEL_217;
  }
  if ( *(_DWORD *)(this + 664) )
  {
    v65 = (int *)(this + 1456);
    if ( sub_446010((int *)(this + 1456), (int *)(this + 708)) )
    {
      v97 = **(_DWORD **)(this + 1480);
      v66 = (int *)*v65;
      for ( i = *(float *)v65; ; v66 = (int *)LODWORD(i) )
      {
        v67 = *(_DWORD *)(this + 1480);
        v65 = (int *)(this + 1456);
        if ( !v66 || v66 != *(int **)(this + 1456) )
          _invalid_parameter_noinfo();
        if ( v97 == v67 )
          break;
        v68 = sub_44AC10((int **)&i);
        v69 = *(_DWORD *)(v68 + 24);
        v70 = v68 + 4;
        if ( v69 )
        {
          if ( *(_DWORD *)(v70 + 40) > *(_DWORD *)(v70 + 12) )
          {
            v71 = ++*(_DWORD *)(v70 + 16) < v69;
            *(_DWORD *)(v70 + 40) = 0;
            if ( !v71 )
            {
              if ( !*(_DWORD *)(v70 + 44) || *(_DWORD *)(this + 1192) )
              {
                *(_DWORD *)(v70 + 20) = 0;
                v95 = 1;
              }
              else
              {
                *(_DWORD *)(v70 + 16) = 0;
              }
            }
          }
          v74 = *(_DWORD *)(v70 + 16);
          v75 = *(float *)(v70 + 36);
          v76 = *(_DWORD *)(v70 + 4);
          v77 = v74 * *(_DWORD *)v70;
          ++*(_DWORD *)(v70 + 40);
          sub_444340(
            (float *)this,
            v77 + (int)*(float *)(v70 + 24),
            v74 * v76 + (int)*(float *)(v70 + 28),
            v77 + (int)*(float *)(v70 + 32),
            v74 * v76 + (int)v75);
        }
        sub_4451C0(&i);
      }
      if ( v95 )
        sub_447030((int *)(this + 1456), (int *)(this + 708));
    }
    if ( !sub_446010(v65, (int *)(this + 708)) )
      goto LABEL_216;
  }
  else
  {
    v84 = (_DWORD *)(this + 708);
    *(_DWORD *)(this + 708) = 0;
    while ( !sub_446010((int *)(this + 1456), (int *)(this + 708)) )
    {
      if ( (int)++*v84 >= 100 )
        goto LABEL_217;
    }
    *(_DWORD *)(this + 664) = 1;
  }
LABEL_217:
  if ( *(_DWORD *)(this + 1516) )
  {
    v78 = (int **)(this + 1488);
    if ( *(_DWORD *)(this + 668) )
    {
      if ( sub_446010((int *)(this + 1488), (int *)(this + 712)) )
      {
        v97 = **(_DWORD **)(this + 1512);
        v79 = *v78;
        for ( i = *(float *)v78; ; v79 = (int *)LODWORD(i) )
        {
          v80 = *(_DWORD *)(this + 1512);
          if ( !v79 || v79 != *v78 )
            _invalid_parameter_noinfo();
          if ( v97 == v80 )
            break;
          v81 = sub_44AC10((int **)&i);
          v82 = *(_DWORD *)(v81 + 24);
          v83 = (int *)(v81 + 4);
          if ( v82 )
          {
            if ( v83[10] > v83[3] )
            {
              v71 = ++v83[4] < v82;
              v83[10] = 0;
              if ( !v71 )
              {
                if ( !v83[11] || *(_DWORD *)(this + 1192) )
                {
                  if ( *(_DWORD *)(this + 188) )
                    sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 188));
                  *(_DWORD *)(this + 188) = 0;
                  goto LABEL_245;
                }
                v83[4] = 0;
              }
              if ( *(_DWORD *)(this + 188) )
                sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 188));
              *(_DWORD *)(this + 188) = sub_444930((int)v83, v83[2], v83[4]);
            }
            ++v83[10];
          }
          sub_4451C0(&i);
        }
        if ( !v95 )
          goto LABEL_246;
LABEL_245:
        sub_447030((int *)(this + 1488), (int *)(this + 712));
      }
LABEL_246:
      if ( !sub_446010((int *)(this + 1488), (int *)(this + 712)) )
        *(_DWORD *)(this + 668) = 0;
    }
    else
    {
      v85 = (_DWORD *)(this + 712);
      *(_DWORD *)(this + 712) = 0;
      while ( !sub_446010((int *)(this + 1488), (int *)(this + 712)) )
      {
        if ( (int)++*v85 >= 100 )
          goto LABEL_254;
      }
      *(_DWORD *)(this + 668) = 1;
    }
  }
  else
  {
    *(_DWORD *)(this + 668) = 0;
  }
LABEL_254:
  if ( !*(_DWORD *)(this + 1548) )
  {
LABEL_271:
    *(_DWORD *)(this + 672) = 0;
    return sub_448E30((_DWORD *)this);
  }
  if ( *(_DWORD *)(this + 672) )
  {
    if ( sub_445FC0((int *)(this + 1520), (int *)(this + 716)) )
    {
      i = *(float *)(this + 628) * *(float *)(this + 624);
      v86 = i;
      *(float *)(this + 624) = i;
      v12 = *(_DWORD *)(this + 1916) == 0;
      v94 = v86;
      if ( !v12 )
        v94 = v94 * 4.0;
      v87 = v94;
      *(float *)(this + 116) = *(float *)(this + 116) + v94;
      *(float *)(this + 120) = *(float *)(this + 120) + v87;
      i = fabs(v87);
      v94 = i;
      if ( *(float *)(this + 116) >= *(float *)(this + 596) - i && *(float *)(this + 116) <= i + *(float *)(this + 596) )
      {
        *(float *)(this + 116) = *(float *)(this + 596);
        *(float *)(this + 120) = *(float *)(this + 596);
      }
      if ( *(float *)(this + 596) == *(float *)(this + 116) || *(_DWORD *)(this + 1192) )
      {
        if ( *(float *)(this + 612) == 1000.0 )
          sub_444ED0(this, 0.0, 0.0);
        v88 = sub_445F30((int *)(this + 1520), (int *)&i, (_DWORD *)(this + 716));
        v89 = sub_44AC10((int **)v88);
        v12 = *(_DWORD *)(this + 1192) == 0;
        qmemcpy(v100, (const void *)(v89 + 4), sizeof(v100));
        if ( v12 && LODWORD(v100[18]) )
        {
          v90 = v100[2];
          *(float *)(this + 116) = v100[2];
          *(float *)(this + 120) = v90;
          sub_444490((_DWORD *)this, 1);
        }
        else
        {
          sub_446E50((int *)(this + 1520), (int *)(this + 716));
        }
      }
    }
    if ( sub_445FC0((int *)(this + 1520), (int *)(this + 716)) )
      return sub_448E30((_DWORD *)this);
    goto LABEL_271;
  }
  v91 = (_DWORD *)(this + 716);
  *(_DWORD *)(this + 716) = 0;
  sub_444490((_DWORD *)this, 4);
  if ( *(int *)(this + 716) >= 100 )
    return sub_448E30((_DWORD *)this);
  while ( 1 )
  {
    sub_4452F0((int *)(this + 1520), &i, (int *)(this + 716));
    v95 = 0;
    sub_4454A0(SLODWORD(i), v97, v98, v99, &v95);
    if ( v95 )
      break;
    if ( (int)++*v91 >= 100 )
      return sub_448E30((_DWORD *)this);
  }
  v92 = sub_445F30((int *)(this + 1520), (int *)&i, (_DWORD *)(this + 716));
  qmemcpy(v100, (const void *)(sub_44AC10((int **)v92) + 4), sizeof(v100));
  v93 = v100[2];
  *(float *)(this + 116) = v100[2];
  *(float *)(this + 120) = v93;
  *(float *)(this + 596) = v100[4];
  *(float *)(this + 612) = v100[5];
  *(float *)(this + 624) = v100[12];
  *(float *)(this + 628) = *(float *)(this + 32);
  *(_DWORD *)(this + 672) = 1;
  return sub_448E30((_DWORD *)this);
}
// 449117: variable 'v9' is possibly undefined

//----- (0044A6E0) --------------------------------------------------------
void __thiscall sub_44A6E0(_DWORD *this)
{
  if ( !this[227] )
  {
    this[478] = 0;
    this[298] = 1;
    sub_448F00((int)this);
    if ( sub_444F50(this) )
    {
      while ( sub_448F00((int)this) )
        ;
    }
    this[298] = 0;
    sub_4455B0((int)this);
  }
}

//----- (0044A730) --------------------------------------------------------
void __thiscall sub_44A730(_DWORD *this)
{
  if ( !this[227] )
  {
    this[478] = 0;
    this[299] = 1;
    sub_448F00((int)this);
    if ( sub_444F50(this) )
    {
      while ( sub_448F00((int)this) )
        ;
    }
    sub_4455B0((int)this);
    this[299] = 0;
  }
}

//----- (0044A780) --------------------------------------------------------
int __stdcall sub_44A780(int a1)
{
  int result; // eax

  result = a1;
  dword_4B4FF0 = a1;
  if ( a1 >= 0 )
  {
    if ( a1 > 255 )
      dword_4B4FF0 = 255;
  }
  else
  {
    dword_4B4FF0 = 0;
  }
  return result;
}
// 4B4FF0:  int dword_4B4FF0

//----- (0044A7B0) --------------------------------------------------------
int __stdcall sub_44A7B0(int *a1)
{
  int result; // eax

  for ( result = 2; result < *a1; result *= 2 )
    ;
  *a1 = result;
  return result;
}

//----- (0044A7D0) --------------------------------------------------------
int __cdecl sub_44A7D0(int a1)
{
  int result; // eax
  int i; // ecx

  result = a1;
  for ( i = *(_DWORD *)(a1 + 8); !*(_BYTE *)(i + 209); i = *(_DWORD *)(i + 8) )
    result = i;
  return result;
}

//----- (0044A7F0) --------------------------------------------------------
_DWORD *__cdecl sub_44A7F0(_DWORD *a1)
{
  _DWORD *result; // eax
  int *v2; // ecx

  result = a1;
  v2 = (int *)*a1;
  if ( !*(_BYTE *)(*a1 + 209) )
  {
    do
    {
      result = v2;
      v2 = (int *)*v2;
    }
    while ( !*((_BYTE *)v2 + 209) );
  }
  return result;
}

//----- (0044A810) --------------------------------------------------------
int __thiscall sub_44A810(_DWORD *this, _DWORD *a2)
{
  int result; // eax
  int v3; // esi
  int v4; // ecx
  _DWORD *v5; // ecx

  result = *a2;
  *a2 = *(_DWORD *)(*a2 + 8);
  v3 = *(_DWORD *)(result + 8);
  if ( !*(_BYTE *)(v3 + 209) )
    *(_DWORD *)(v3 + 4) = a2;
  *(_DWORD *)(result + 4) = a2[1];
  v4 = this[6];
  if ( a2 == *(_DWORD **)(v4 + 4) )
  {
    *(_DWORD *)(v4 + 4) = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  else
  {
    v5 = (_DWORD *)a2[1];
    if ( a2 == (_DWORD *)v5[2] )
      v5[2] = result;
    else
      *v5 = result;
    *(_DWORD *)(result + 8) = a2;
    a2[1] = result;
  }
  return result;
}

//----- (0044A870) --------------------------------------------------------
void __thiscall sub_44A870(_DWORD *this)
{
  int v2; // eax
  int **v3; // ecx
  int *j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = this[1];
  if ( *(_BYTE *)(v2 + 209) )
  {
    _invalid_parameter_noinfo();
  }
  else
  {
    v3 = *(int ***)(v2 + 8);
    if ( *((_BYTE *)v3 + 209) )
    {
      for ( i = *(_DWORD *)(v2 + 4); !*(_BYTE *)(i + 209); i = *(_DWORD *)(i + 4) )
      {
        if ( this[1] != *(_DWORD *)(i + 8) )
          break;
        this[1] = i;
      }
      this[1] = i;
    }
    else
    {
      for ( j = *v3; !*((_BYTE *)j + 209); j = (int *)*j )
        v3 = (int **)j;
      this[1] = v3;
    }
  }
}

//----- (0044A8F0) --------------------------------------------------------
void __thiscall sub_44A8F0(_DWORD *this)
{
  int *v2; // eax
  int v3; // eax
  int v4; // ecx
  int j; // eax
  int i; // eax

  if ( !*this )
    _invalid_parameter_noinfo();
  v2 = (int *)this[1];
  if ( *((_BYTE *)v2 + 209) )
  {
    v3 = v2[2];
    this[1] = v3;
    if ( !*(_BYTE *)(v3 + 209) )
      return;
    goto LABEL_5;
  }
  v4 = *v2;
  if ( *(_BYTE *)(*v2 + 209) )
  {
    for ( i = v2[1]; !*(_BYTE *)(i + 209); i = *(_DWORD *)(i + 4) )
    {
      if ( this[1] != *(_DWORD *)i )
        break;
      this[1] = i;
    }
    if ( *(_BYTE *)(this[1] + 209) )
    {
LABEL_5:
      _invalid_parameter_noinfo();
      return;
    }
    this[1] = i;
  }
  else
  {
    for ( j = *(_DWORD *)(v4 + 8); !*(_BYTE *)(j + 209); j = *(_DWORD *)(j + 8) )
      v4 = j;
    this[1] = v4;
  }
}

//----- (0044A990) --------------------------------------------------------
int __thiscall sub_44A990(_DWORD *this)
{
  _DWORD *v2; // ebp
  _DWORD *v3; // edi
  _DWORD *v4; // ebx
  int v5; // edx
  int v6; // ebx
  int v7; // edi
  int result; // eax
  int v9; // eax
  int v10; // [esp+90h] [ebp-10h] BYREF
  int v11; // [esp+94h] [ebp-Ch] BYREF
  int v12; // [esp+98h] [ebp-8h] BYREF
  int v13; // [esp+9Ch] [ebp-4h] BYREF

  this[17] = 720;
  v10 = 720;
  this[16] = 1280;
  v11 = 1280;
  v2 = this + 2;
  v3 = this + 3;
  v4 = this + 4;
  this[1] = 0;
  this[2] = 0;
  this[3] = 0;
  this[4] = 0;
  sub_44A7B0(&v11);
  sub_44A7B0(&v10);
  v5 = v11;
  this[15] = v10;
  this[14] = v5;
  dword_4B4FF4 = *((_DWORD *)dword_4C0874 + 6);
  *((_DWORD *)dword_4C0874 + 6) = 0;
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD *))(*(_DWORD *)*this + 152))(*this, 0, v3);
  (*(void (__stdcall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 160))(*this, v4);
  v6 = v10;
  v7 = v11;
  if ( D3DXCreateTexture(*this, v11, v10, 0, 1, 21, 0, &v13) < 0 )
    return MessageBoxA(0, "CreateScreenTexureBegin:texture error", WindowName, 0x42000u);
  if ( (*(int (__stdcall **)(_DWORD, int, int, int, _DWORD, _DWORD, int, _DWORD *, _DWORD))(*(_DWORD *)*this + 116))(
         *this,
         v7,
         v6,
         80,
         0,
         0,
         1,
         v2,
         0) < 0 )
    return MessageBoxA(0, "CreateScreenTexureBegin:Stencil error", WindowName, 0x42000u);
  (*(void (__stdcall **)(_DWORD, _DWORD))(*(_DWORD *)*this + 156))(*this, *v2);
  if ( (*(int (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)v13 + 72))(v13, 0, &v12) < 0 )
    return MessageBoxA(0, "CreateScreenTexureBegin:Surface error", WindowName, 0x42000u);
  (*(void (__stdcall **)(_DWORD, _DWORD, int))(*(_DWORD *)*this + 148))(*this, 0, v12);
  v9 = *this;
  this[1] = v12;
  (*(void (__stdcall **)(int, _DWORD, _DWORD, int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v9 + 172))(
    v9,
    0,
    0,
    3,
    0,
    1.0,
    0);
  sub_439960((int)dword_4C0874, 0, 0, 1280, 720);
  *((_DWORD *)dword_4C0874 + 3) = 1;
  result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)*this + 164))(*this);
  this[21] = v13;
  return result;
}
// 4738F6:  int __stdcall D3DXCreateTexture(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 4B4FF4:  int dword_4B4FF4

//----- (0044AB70) --------------------------------------------------------
_DWORD *__thiscall sub_44AB70(_DWORD *this, int a2)
{
  _DWORD *result; // eax
  int v3; // ecx
  _DWORD *v4; // ecx

  result = *(_DWORD **)(a2 + 8);
  *(_DWORD *)(a2 + 8) = *result;
  if ( !*(_BYTE *)(*result + 209) )
    *(_DWORD *)(*result + 4) = a2;
  result[1] = *(_DWORD *)(a2 + 4);
  v3 = this[6];
  if ( a2 == *(_DWORD *)(v3 + 4) )
  {
    *(_DWORD *)(v3 + 4) = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  else
  {
    v4 = *(_DWORD **)(a2 + 4);
    if ( a2 == *v4 )
      *v4 = result;
    else
      v4[2] = result;
    *result = a2;
    *(_DWORD *)(a2 + 4) = result;
  }
  return result;
}

//----- (0044ABD0) --------------------------------------------------------
int __cdecl sub_44ABD0(int a1, int a2, int a3, int a4, _DWORD *a5)
{
  _DWORD *v5; // esi
  int result; // eax

  v5 = a5;
  while ( 1 )
  {
    if ( !a1 || a1 != a3 )
      _invalid_parameter_noinfo();
    result = a2;
    if ( a2 == a4 )
      break;
    ++*v5;
    sub_44A870(&a1);
  }
  return result;
}

//----- (0044AC10) --------------------------------------------------------
int __thiscall sub_44AC10(int **this)
{
  int *v2; // eax
  int v3; // eax

  v2 = *this;
  if ( *this || (_invalid_parameter_noinfo(), (v2 = *this) != 0) )
    v3 = *v2;
  else
    v3 = 0;
  if ( this[1] == *(int **)(v3 + 24) )
    _invalid_parameter_noinfo();
  return (int)(this[1] + 3);
}

//----- (0044AC40) --------------------------------------------------------
void __stdcall sub_44AC40(void **a1)
{
  void **v1; // edi
  void **i; // esi

  v1 = a1;
  for ( i = a1; !*((_BYTE *)i + 209); v1 = i )
  {
    sub_44AC40(i[2]);
    i = (void **)*i;
    operator delete(v1);
  }
}

//----- (0044AC80) --------------------------------------------------------
_DWORD *__thiscall sub_44AC80(int *this, _DWORD *a2, int *a3)
{
  int *v3; // edx
  int *v4; // eax
  int *v5; // ebx
  int v6; // edi
  int v7; // esi
  int *v8; // eax
  _DWORD *result; // eax
  int v10; // ecx

  v3 = (int *)this[6];
  v4 = (int *)v3[1];
  v5 = v3;
  if ( !*((_BYTE *)v4 + 209) )
  {
    v6 = *a3;
    do
    {
      v7 = v4[3];
      if ( v7 >= v6 )
      {
        if ( *((_BYTE *)v3 + 209) && v6 < v7 )
          v3 = v4;
        v5 = v4;
        v4 = (int *)*v4;
      }
      else
      {
        v4 = (int *)v4[2];
      }
    }
    while ( !*((_BYTE *)v4 + 209) );
  }
  if ( *((_BYTE *)v3 + 209) )
    v8 = *(int **)(this[6] + 4);
  else
    v8 = (int *)*v3;
  while ( !*((_BYTE *)v8 + 209) )
  {
    if ( *a3 >= v8[3] )
    {
      v8 = (int *)v8[2];
    }
    else
    {
      v3 = v8;
      v8 = (int *)*v8;
    }
  }
  result = a2;
  v10 = *this;
  a2[1] = v5;
  *a2 = v10;
  a2[2] = v10;
  a2[3] = v3;
  return result;
}

//----- (0044AD20) --------------------------------------------------------
_DWORD *__stdcall sub_44AD20(int a1, int a2, int a3, const void *a4, char a5)
{
  _DWORD *result; // eax

  result = operator new(0xD4u);
  if ( result )
  {
    *result = a1;
    result[2] = a3;
    result[1] = a2;
    qmemcpy(result + 3, a4, 0xC4u);
    *((_BYTE *)result + 208) = a5;
    *((_BYTE *)result + 209) = 0;
  }
  return result;
}

//----- (0044AD70) --------------------------------------------------------
_DWORD *sub_44AD70()
{
  _DWORD *result; // eax

  result = operator new(0xD4u);
  if ( result )
    *result = 0;
  if ( result != (_DWORD *)-4 )
    result[1] = 0;
  if ( result != (_DWORD *)-8 )
    result[2] = 0;
  *((_BYTE *)result + 208) = 1;
  *((_BYTE *)result + 209) = 0;
  return result;
}

//----- (0044ADB0) --------------------------------------------------------
_DWORD *__thiscall sub_44ADB0(int *this, _DWORD *a2, _DWORD *a3)
{
  int *v3; // edx
  int *v4; // eax
  _DWORD *result; // eax
  int v6; // ecx

  v3 = (int *)this[6];
  v4 = (int *)v3[1];
  while ( !*((_BYTE *)v4 + 209) )
  {
    if ( v4[3] >= *a3 )
    {
      v3 = v4;
      v4 = (int *)*v4;
    }
    else
    {
      v4 = (int *)v4[2];
    }
  }
  result = a2;
  v6 = *this;
  a2[1] = v3;
  *a2 = v6;
  return result;
}

//----- (0044ADF0) --------------------------------------------------------
void __thiscall sub_44ADF0(int this)
{
  int v1; // ebp
  _DWORD *v2; // esi
  _DWORD *v3; // edi
  int v4; // ebx
  int v5; // eax
  _DWORD *v6; // ebx
  _DWORD *i; // edi
  _DWORD *v8; // eax
  int v9; // esi
  void **v10; // edi
  int v11; // [esp+0h] [ebp-18h]
  int v12; // [esp+4h] [ebp-14h]
  _DWORD *v13; // [esp+Ch] [ebp-Ch] BYREF
  _DWORD *v14; // [esp+10h] [ebp-8h]
  int v15; // [esp+14h] [ebp-4h]

  v1 = **(_DWORD **)(this + 48);
  v2 = (_DWORD *)(this + 24);
  v3 = *(_DWORD **)(this + 24);
  v15 = v1;
  v14 = v3;
  while ( 1 )
  {
    v4 = v2[6];
    if ( !v3 || v3 != (_DWORD *)*v2 )
      _invalid_parameter_noinfo();
    if ( v1 == v4 )
      break;
    if ( v3 )
      v3 = (_DWORD *)*v3;
    else
      _invalid_parameter_noinfo();
    if ( v1 == v3[6] )
      _invalid_parameter_noinfo();
    v5 = *(_DWORD *)(v1 + 44);
    if ( v5 )
      (*(void (__cdecl **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(v1 + 44));
    sub_44A870(&v13);
    v1 = (int)v14;
    v3 = v13;
  }
  v6 = *(_DWORD **)(v2[6] + 4);
  for ( i = v6; !*((_BYTE *)i + 209); v6 = i )
  {
    sub_44AC40((void **)i[2]);
    i = (_DWORD *)*i;
    operator delete(v6);
  }
  *(_DWORD *)(v2[6] + 4) = v2[6];
  v8 = (_DWORD *)v2[6];
  v2[7] = 0;
  *v8 = v8;
  *(_DWORD *)(v2[6] + 8) = v2[6];
  v15 = v12;
  v9 = 0;
  if ( dword_4C24C0 <= 0 )
  {
    dword_4C24C0 = 0;
  }
  else
  {
    v14 = (_DWORD *)v11;
    v10 = (void **)&dword_4C11E8;
    do
    {
      free(*v10);
      ++v9;
      v10 += 9;
    }
    while ( v9 < dword_4C24C0 );
    dword_4C24C0 = 0;
  }
}
// 44DF90: variable 'v12' is possibly undefined
// 44DF9B: variable 'v11' is possibly undefined
// 4C11E8:  int dword_4C11E8
// 4C24C0:  int dword_4C24C0

//----- (0044AEC0) --------------------------------------------------------
int *__thiscall sub_44AEC0(int *this, int *a2, _DWORD *a3)
{
  int v4; // edi
  int *v5; // ecx
  int v6; // eax
  int v7; // edx
  int *result; // eax
  int v9; // ecx
  int v10; // [esp+Ch] [ebp-10h] BYREF
  int v11; // [esp+10h] [ebp-Ch]
  int v12[2]; // [esp+14h] [ebp-8h] BYREF

  sub_44ADB0(this, &v10, a3);
  v4 = this[6];
  if ( !v10 || v10 != *this )
    _invalid_parameter_noinfo();
  if ( v11 == v4 || *a3 < *(_DWORD *)(v11 + 12) )
  {
    v6 = *this;
    v12[1] = this[6];
    v12[0] = v6;
    v5 = v12;
  }
  else
  {
    v5 = &v10;
  }
  v7 = *v5;
  result = a2;
  v9 = v5[1];
  *a2 = v7;
  a2[1] = v9;
  return result;
}

//----- (0044AF30) --------------------------------------------------------
void *__thiscall sub_44AF30(_DWORD *this)
{
  void *result; // eax

  if ( this[13] )
    sub_44ADF0((int)this);
  result = memset(this + 14, 0, 0xC0u);
  this[5] = 0;
  return result;
}

//----- (0044AF60) --------------------------------------------------------
void *__thiscall sub_44AF60(int *this, int a2)
{
  int *v2; // esi
  int *v3; // eax
  int v4; // esi
  int v5; // ecx
  int v7[2]; // [esp+4h] [ebp-18h] BYREF
  int v8[4]; // [esp+Ch] [ebp-10h] BYREF

  v2 = this + 6;
  sub_44AC80(this + 6, v8, &a2);
  v7[0] = 0;
  sub_44ABD0(v8[0], v8[1], v8[2], v8[3], v7);
  if ( !v7[0] )
    return &unk_492304;
  v3 = sub_44AEC0(v2, v7, &a2);
  v4 = v3[1];
  if ( *v3 )
  {
    v5 = *(_DWORD *)*v3;
  }
  else
  {
    _invalid_parameter_noinfo();
    v5 = 0;
  }
  if ( v4 == *(_DWORD *)(v5 + 24) )
    _invalid_parameter_noinfo();
  return (void *)(v4 + 48);
}

//----- (0044B000) --------------------------------------------------------
int __thiscall sub_44B000(int *this, int a2)
{
  int *v2; // esi
  int *v3; // eax
  int v4; // esi
  int v5; // ecx
  int v7[2]; // [esp+4h] [ebp-18h] BYREF
  int v8[4]; // [esp+Ch] [ebp-10h] BYREF

  v2 = this + 6;
  sub_44AC80(this + 6, v8, &a2);
  v7[0] = 0;
  sub_44ABD0(v8[0], v8[1], v8[2], v8[3], v7);
  if ( !v7[0] )
    return 0;
  v3 = sub_44AEC0(v2, v7, &a2);
  v4 = v3[1];
  if ( *v3 )
  {
    v5 = *(_DWORD *)*v3;
  }
  else
  {
    _invalid_parameter_noinfo();
    v5 = 0;
  }
  if ( v4 == *(_DWORD *)(v5 + 24) )
    _invalid_parameter_noinfo();
  return *(_DWORD *)(v4 + 44);
}

//----- (0044B090) --------------------------------------------------------
int __thiscall sub_44B090(int *this, _DWORD *a2, int *a3, int a4)
{
  int *v4; // esi
  int result; // eax
  int *v6; // esi
  int *v7; // eax
  int v8; // eax
  int v9[2]; // [esp+10h] [ebp-E0h] BYREF
  int v10[4]; // [esp+18h] [ebp-D8h] BYREF
  int v11[48]; // [esp+28h] [ebp-C8h] BYREF

  v4 = this + 6;
  sub_44AC80(this + 6, v10, &a4);
  v9[0] = 0;
  result = sub_44ABD0(v10[0], v10[1], v10[2], v10[3], v9);
  if ( v9[0] )
  {
    v6 = sub_44AEC0(v4, v9, &a4);
    v7 = (int *)*v6;
    if ( *v6 || (_invalid_parameter_noinfo(), (v7 = (int *)*v6) != 0) )
      v8 = *v7;
    else
      v8 = 0;
    if ( v6[1] == *(_DWORD *)(v8 + 24) )
      _invalid_parameter_noinfo();
    qmemcpy(v11, (const void *)(v6[1] + 16), sizeof(v11));
    result = v11[1];
    *a2 = v11[0];
    *a3 = result;
  }
  else
  {
    *a3 = 0;
    *a2 = 0;
  }
  return result;
}

//----- (0044B190) --------------------------------------------------------
int __thiscall sub_44B190(int *this, _DWORD *a2, int *a3, int a4)
{
  int *v4; // esi
  int result; // eax
  int *v6; // esi
  int *v7; // eax
  int v8; // eax
  int v9[2]; // [esp+10h] [ebp-E0h] BYREF
  int v10[4]; // [esp+18h] [ebp-D8h] BYREF
  int v11[48]; // [esp+28h] [ebp-C8h] BYREF

  v4 = this + 6;
  sub_44AC80(this + 6, v10, &a4);
  v9[0] = 0;
  result = sub_44ABD0(v10[0], v10[1], v10[2], v10[3], v9);
  if ( v9[0] )
  {
    v6 = sub_44AEC0(v4, v9, &a4);
    v7 = (int *)*v6;
    if ( *v6 || (_invalid_parameter_noinfo(), (v7 = (int *)*v6) != 0) )
      v8 = *v7;
    else
      v8 = 0;
    if ( v6[1] == *(_DWORD *)(v8 + 24) )
      _invalid_parameter_noinfo();
    qmemcpy(v11, (const void *)(v6[1] + 16), sizeof(v11));
    result = v11[3];
    *a2 = v11[2];
    *a3 = result;
  }
  else
  {
    *a3 = 0;
    *a2 = 0;
  }
  return result;
}

//----- (0044B290) --------------------------------------------------------
int __thiscall sub_44B290(int *this, _DWORD *a2, int *a3, int a4)
{
  int *v4; // esi
  int result; // eax
  int *v6; // esi
  int *v7; // eax
  int v8; // eax
  int v9[2]; // [esp+10h] [ebp-E0h] BYREF
  int v10[4]; // [esp+18h] [ebp-D8h] BYREF
  int v11[48]; // [esp+28h] [ebp-C8h] BYREF

  v4 = this + 6;
  sub_44AC80(this + 6, v10, &a4);
  v9[0] = 0;
  result = sub_44ABD0(v10[0], v10[1], v10[2], v10[3], v9);
  if ( v9[0] )
  {
    v6 = sub_44AEC0(v4, v9, &a4);
    v7 = (int *)*v6;
    if ( *v6 || (_invalid_parameter_noinfo(), (v7 = (int *)*v6) != 0) )
      v8 = *v7;
    else
      v8 = 0;
    if ( v6[1] == *(_DWORD *)(v8 + 24) )
      _invalid_parameter_noinfo();
    qmemcpy(v11, (const void *)(v6[1] + 16), sizeof(v11));
    result = v11[5];
    *a2 = v11[4];
    *a3 = result;
  }
  else
  {
    *a3 = 0;
    *a2 = 0;
  }
  return result;
}

//----- (0044B390) --------------------------------------------------------
int __thiscall sub_44B390(int *this, int a2)
{
  int v2; // eax
  int v3; // edi
  int v4; // ebx
  int v5; // esi
  int *v6; // eax
  int v7; // esi
  int v8; // ecx
  int result; // eax
  int v10; // [esp+10h] [ebp-28h] BYREF
  int *v11; // [esp+14h] [ebp-24h]
  int v12; // [esp+18h] [ebp-20h] BYREF
  int v13; // [esp+1Ch] [ebp-1Ch]
  int v14; // [esp+20h] [ebp-18h] BYREF
  int v15[4]; // [esp+28h] [ebp-10h] BYREF

  v10 = 0;
  v11 = this + 6;
  do
  {
    sub_44AC80(v11, v15, &v10);
    v2 = v15[0];
    v3 = v15[3];
    v4 = v15[2];
    v5 = 0;
    v12 = v15[0];
    v13 = v15[1];
    while ( 1 )
    {
      if ( !v2 || v2 != v4 )
        _invalid_parameter_noinfo();
      if ( v13 == v3 )
        break;
      ++v5;
      sub_44A870(&v12);
      v2 = v12;
    }
    if ( v5 )
    {
      v6 = sub_44AEC0(v11, &v14, &v10);
      v7 = v6[1];
      if ( *v6 )
      {
        v8 = *(_DWORD *)*v6;
      }
      else
      {
        _invalid_parameter_noinfo();
        v8 = 0;
      }
      if ( v7 == *(_DWORD *)(v8 + 24) )
        _invalid_parameter_noinfo();
      *(_DWORD *)(v7 + 40) = a2;
    }
    result = ++v10;
  }
  while ( v10 < 200 );
  return result;
}

//----- (0044B460) --------------------------------------------------------
int __userpurge sub_44B460@<eax>(int a1@<ecx>, int a2@<ebp>, int a3@<edi>, char *Src, int a5, int a6, int a7, int a8)
{
  int v8; // ebx
  int *v9; // esi
  int v11; // edi
  int (__stdcall *v12)(int, _DWORD, int *, _DWORD, _DWORD, int, int); // edx
  unsigned int v13; // ebp
  size_t v14; // esi
  char *v15; // ebx
  unsigned int v16; // ecx
  char *v17; // esi
  char *v18; // ebp
  int v19; // edx
  unsigned __int8 v20; // al
  unsigned __int8 v21; // bl
  int v22; // esi
  int v23; // edi
  int v24; // edx
  char v25; // al
  int v26; // ecx
  char v27; // bl
  int v28; // edx
  int v29; // edx
  int v30; // eax
  int v31; // eax
  int v32; // ecx
  int v33; // ecx
  char *v34; // eax
  char v37; // [esp+12h] [ebp-32h]
  unsigned __int8 v38; // [esp+13h] [ebp-31h]
  char *v39; // [esp+18h] [ebp-2Ch]
  unsigned int v40; // [esp+1Ch] [ebp-28h]
  unsigned int v41; // [esp+20h] [ebp-24h] BYREF
  unsigned int v42; // [esp+24h] [ebp-20h]
  unsigned int v43; // [esp+28h] [ebp-1Ch] BYREF
  int i; // [esp+2Ch] [ebp-18h]
  char *v45; // [esp+30h] [ebp-14h]
  int v46; // [esp+38h] [ebp-Ch]
  int v47[2]; // [esp+3Ch] [ebp-8h] BYREF
  void *retaddr; // [esp+44h] [ebp+0h]

  v8 = (int)Src;
  v9 = (int *)a1;
  v45 = (char *)a1;
  if ( !Src )
    return 0;
  i = 0;
  if ( a5 <= 0 )
    return 1;
  while ( 1 )
  {
    v11 = sub_44B000(v9, v8);
    v12 = *(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD, int, int))(*(_DWORD *)v11 + 76);
    v46 = v11;
    if ( v12(v11, 0, v47, 0, 0, a3, a2) < 0 )
      break;
    sub_44B290(v9, &v41, (int *)&v43, v8);
    v13 = v43;
    v14 = v43 * (_DWORD)retaddr;
    v15 = (char *)malloc(v43 * (_DWORD)retaddr);
    v45 = v15;
    memcpy(v15, Src, v14);
    v16 = 0;
    v42 = 0;
    if ( v13 )
    {
      do
      {
        v17 = &v15[(_DWORD)retaddr * v16];
        v18 = &Src[(_DWORD)retaddr * v16];
        v39 = v17;
        v40 = 0;
        if ( v41 )
        {
          v19 = a8 >> 16;
          v47[0] = a8 >> 8;
          do
          {
            v20 = v17[3];
            v21 = v17[1];
            v38 = v20;
            v37 = v17[2];
            if ( v20 )
            {
              v22 = v20;
              v23 = 255 - v20;
              v24 = (int)((unsigned __int64)(2155905153i64 * (v23 * (unsigned __int8)v19 + v20 * (unsigned __int8)*v39)) >> 32) >> 7;
              v25 = v24 + (v24 < 0);
              v26 = v21;
              v27 = v47[0];
              v28 = v23 * LOBYTE(v47[0]);
              *v18 = v25;
              v29 = (unsigned __int64)(2155905153i64 * (v28 + v22 * v26)) >> 32;
              v18[1] = (v29 >> 7) + (v29 >> 7 < 0);
              v18[2] = -(char)(v23 * a8 + v22 * v37);
              v30 = 0;
              v18[3] = -1;
              for ( i = 0; i < 9; ++i )
              {
                switch ( v30 )
                {
                  case 0:
                    v31 = -1;
                    v32 = -1;
                    goto LABEL_21;
                  case 1:
                    v31 = 0;
                    v32 = -1;
                    goto LABEL_21;
                  case 2:
                    v31 = 1;
                    v32 = -1;
                    goto LABEL_21;
                  case 3:
                    v31 = -1;
                    v32 = 0;
                    goto LABEL_21;
                  case 5:
                    v31 = 1;
                    v32 = 0;
                    goto LABEL_21;
                  case 6:
                    v31 = -1;
                    v32 = 1;
                    goto LABEL_21;
                  case 7:
                    v31 = 0;
                    v32 = 1;
                    goto LABEL_21;
                  case 8:
                    v31 = 1;
                    v32 = 1;
LABEL_21:
                    if ( (v40 || v31 != -1)
                      && (v42 || v32 != -1)
                      && (v40 < v41 - 1 || v31 != 1)
                      && (v42 < v43 - 1 || v32 != 1) )
                    {
                      v33 = (_DWORD)retaddr * (v42 + v32) + 4 * (v40 + v31);
                      v34 = &Src[v33];
                      if ( !v45[v33 + 3] )
                      {
                        v34[1] = v27;
                        if ( (unsigned __int8)v34[3] <= v38 )
                        {
                          *v34 = BYTE2(a8);
                          v34[3] = v38;
                        }
                        else
                        {
                          *v34 = BYTE2(a8);
                        }
                        v34[2] = a8;
                      }
                    }
                    break;
                  default:
                    break;
                }
                v30 = i + 1;
              }
              LOBYTE(v19) = BYTE2(a8);
              v11 = v47[1];
              v17 = v39;
            }
            v17 += 4;
            v18 += 4;
            v39 = v17;
            ++v40;
          }
          while ( v40 < v41 );
          v16 = v42;
          v15 = v45;
        }
        v42 = ++v16;
      }
      while ( v16 < v43 );
    }
    a2 = 0;
    a3 = v11;
    (*(void (**)(void))(*(_DWORD *)v11 + 80))();
    free(v15);
    if ( ++i >= a5 )
      return 1;
    v8 = (int)Src;
    v9 = (int *)v45;
  }
  (*(void (**)(void))(*(_DWORD *)v11 + 80))();
  return 0;
}
// 44B460: could not find valid save-restore pair for ebp
// 44B460: could not find valid save-restore pair for edi

//----- (0044B790) --------------------------------------------------------
_DWORD *__fastcall sub_44B790(int *a1, int a2, _DWORD *a3, char a4, _DWORD *a5, const void *a6)
{
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int v10; // eax
  int *v11; // eax
  int i; // esi
  int v13; // ecx
  int *v14; // edx
  int v15; // edx
  int v16; // eax
  _DWORD *v17; // ecx
  int v18; // edx
  _DWORD *v19; // edx
  _DWORD *result; // eax
  int v21; // ecx
  int v22; // [esp+14h] [ebp-50h] BYREF
  char v23; // [esp+18h] [ebp-4Ch]
  int v24; // [esp+28h] [ebp-3Ch]
  int v25; // [esp+2Ch] [ebp-38h]
  int pExceptionObject[13]; // [esp+30h] [ebp-34h] BYREF

  if ( (unsigned int)a1[7] >= 0x14E5E09 )
  {
    v25 = 15;
    v24 = 0;
    v23 = 0;
    sub_403A30(&v22, a2, "map/set<T> too long", 0x13u);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v22);
    pExceptionObject[0] = (int)&std::length_error::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
  }
  v7 = sub_44AD20(a1[6], (int)a5, a1[6], a6, 0);
  v8 = (_DWORD *)a1[6];
  ++a1[7];
  if ( a5 == v8 )
  {
    v8[1] = v7;
    *(_DWORD *)a1[6] = v7;
    *(_DWORD *)(a1[6] + 8) = v7;
  }
  else if ( a4 )
  {
    *a5 = v7;
    v9 = (_DWORD *)a1[6];
    if ( a5 == (_DWORD *)*v9 )
      *v9 = v7;
  }
  else
  {
    a5[2] = v7;
    v10 = a1[6];
    if ( a5 == *(_DWORD **)(v10 + 8) )
      *(_DWORD *)(v10 + 8) = v7;
  }
  v11 = v7 + 1;
  for ( i = (int)v7; !*(_BYTE *)(*(_DWORD *)(i + 4) + 208); v11 = (int *)(i + 4) )
  {
    v13 = *v11;
    v14 = *(int **)(*v11 + 4);
    if ( *v11 == *v14 )
    {
      v15 = v14[2];
      if ( *(_BYTE *)(v15 + 208) )
      {
        if ( i == *(_DWORD *)(v13 + 8) )
        {
          i = *v11;
          sub_44AB70(a1, *v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 208) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 208) = 0;
        sub_44A810(a1, *(_DWORD **)(*(_DWORD *)(i + 4) + 4));
        continue;
      }
    }
    else
    {
      v15 = *v14;
      if ( *(_BYTE *)(v15 + 208) )
      {
        if ( i == *(_DWORD *)v13 )
        {
          i = *v11;
          sub_44A810(a1, (_DWORD *)*v11);
        }
        *(_BYTE *)(*(_DWORD *)(i + 4) + 208) = 1;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(i + 4) + 4) + 208) = 0;
        v16 = *(_DWORD *)(*(_DWORD *)(i + 4) + 4);
        v17 = *(_DWORD **)(v16 + 8);
        *(_DWORD *)(v16 + 8) = *v17;
        if ( !*(_BYTE *)(*v17 + 209) )
          *(_DWORD *)(*v17 + 4) = v16;
        v17[1] = *(_DWORD *)(v16 + 4);
        v18 = a1[6];
        if ( v16 == *(_DWORD *)(v18 + 4) )
        {
          *(_DWORD *)(v18 + 4) = v17;
        }
        else
        {
          v19 = *(_DWORD **)(v16 + 4);
          if ( v16 == *v19 )
            *v19 = v17;
          else
            v19[2] = v17;
        }
        *v17 = v16;
        *(_DWORD *)(v16 + 4) = v17;
        continue;
      }
    }
    *(_BYTE *)(v13 + 208) = 1;
    *(_BYTE *)(v15 + 208) = 1;
    *(_BYTE *)(*(_DWORD *)(*v11 + 4) + 208) = 0;
    i = *(_DWORD *)(*v11 + 4);
  }
  *(_BYTE *)(*(_DWORD *)(a1[6] + 4) + 208) = 1;
  result = a3;
  v21 = *a1;
  a3[1] = v7;
  *a3 = v21;
  return result;
}
// 48C5E4:  void *std::length_error::`vftable'

//----- (0044B9A0) --------------------------------------------------------
int __thiscall sub_44B9A0(int *this, int a2, int *a3)
{
  _DWORD *v4; // esi
  int *v5; // eax
  bool v6; // cl
  int v7; // edx
  int v8; // edx
  int v9; // ebp
  _DWORD *v10; // ebp
  int *v11; // ecx
  int v12; // edx
  int result; // eax
  int *v14; // ecx
  char v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h] BYREF
  _DWORD *v17; // [esp+18h] [ebp-4h]

  v4 = (_DWORD *)this[6];
  v5 = (int *)v4[1];
  v6 = 1;
  v15 = 1;
  if ( !*((_BYTE *)v5 + 209) )
  {
    v7 = *a3;
    do
    {
      v4 = v5;
      v6 = v7 < v5[3];
      v15 = v6;
      if ( v7 >= v5[3] )
        v5 = (int *)v5[2];
      else
        v5 = (int *)*v5;
    }
    while ( !*((_BYTE *)v5 + 209) );
  }
  v8 = *this;
  v9 = (int)v4;
  v17 = v4;
  v16 = v8;
  if ( v6 )
  {
    v10 = *(_DWORD **)this[6];
    if ( !v8 )
      _invalid_parameter_noinfo();
    if ( v4 == v10 )
    {
      v11 = sub_44B790(this, v8, &v16, 1, v4, a3);
      v12 = *v11;
      result = a2;
      *(_DWORD *)(a2 + 4) = v11[1];
      *(_BYTE *)(a2 + 8) = 1;
      *(_DWORD *)a2 = v12;
      return result;
    }
    sub_44A8F0(&v16);
    v9 = (int)v17;
    v8 = v16;
  }
  if ( *(_DWORD *)(v9 + 12) >= *a3 )
  {
    result = a2;
    *(_DWORD *)(a2 + 4) = v9;
    *(_BYTE *)(a2 + 8) = 0;
  }
  else
  {
    v14 = sub_44B790(this, (int)&v16, &v16, v15, v4, a3);
    v8 = *v14;
    result = a2;
    *(_DWORD *)(a2 + 4) = v14[1];
    *(_BYTE *)(a2 + 8) = 1;
  }
  *(_DWORD *)a2 = v8;
  return result;
}
// 44BA15: variable 'v8' is possibly undefined

//----- (0044BAA0) --------------------------------------------------------
_DWORD *__fastcall sub_44BAA0(_DWORD *a1, int a2, _DWORD *a3, int a4, int a5)
{
  _DWORD *v6; // ebx
  int v7; // edi
  _DWORD *v8; // eax
  _DWORD *v9; // edx
  int v10; // esi
  int v11; // eax
  _DWORD *v12; // ebx
  _DWORD *v13; // eax
  int v14; // ebx
  int v15; // ecx
  _DWORD *v16; // ecx
  char *v17; // ecx
  char *v18; // eax
  char v19; // dl
  _BYTE *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // ecx
  _BYTE *v24; // [esp+14h] [ebp-54h]
  int v25; // [esp+18h] [ebp-50h] BYREF
  char v26; // [esp+1Ch] [ebp-4Ch]
  int v27; // [esp+2Ch] [ebp-3Ch]
  int v28; // [esp+30h] [ebp-38h]
  int pExceptionObject[13]; // [esp+34h] [ebp-34h] BYREF

  if ( *(_BYTE *)(a5 + 209) )
  {
    v28 = 15;
    v27 = 0;
    v26 = 0;
    sub_403A30(&v25, a2, "invalid map/set<T> iterator", 0x1Bu);
    pExceptionObject[12] = 0;
    sub_403B10((int)pExceptionObject, (int)&v25);
    pExceptionObject[0] = (int)&std::out_of_range::`vftable';
    _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
  }
  v6 = (_DWORD *)a5;
  v24 = (_BYTE *)a5;
  sub_44A870(&a4);
  if ( *(_BYTE *)(*v6 + 209) )
  {
    v7 = v6[2];
LABEL_8:
    v10 = v6[1];
    if ( !*(_BYTE *)(v7 + 209) )
      *(_DWORD *)(v7 + 4) = v10;
    v11 = a1[6];
    if ( *(_DWORD **)(v11 + 4) == v6 )
    {
      *(_DWORD *)(v11 + 4) = v7;
    }
    else if ( *(_DWORD **)v10 == v6 )
    {
      *(_DWORD *)v10 = v7;
    }
    else
    {
      *(_DWORD *)(v10 + 8) = v7;
    }
    v12 = (_DWORD *)a1[6];
    if ( (_BYTE *)*v12 == v24 )
    {
      if ( *(_BYTE *)(v7 + 209) )
        v13 = (_DWORD *)v10;
      else
        v13 = sub_44A7F0((_DWORD *)v7);
      *v12 = v13;
    }
    v14 = a1[6];
    if ( *(_BYTE **)(v14 + 8) == v24 )
    {
      if ( *(_BYTE *)(v7 + 209) )
        *(_DWORD *)(v14 + 8) = v10;
      else
        *(_DWORD *)(v14 + 8) = sub_44A7D0(v7);
    }
    goto LABEL_36;
  }
  if ( *(_BYTE *)(v6[2] + 209) )
  {
    v7 = *v6;
    goto LABEL_8;
  }
  v8 = (_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v9 = (_DWORD *)(a5 + 8);
  if ( (_DWORD *)a5 == v6 )
    goto LABEL_8;
  *(_DWORD *)(*v6 + 4) = a5;
  *v8 = *v6;
  if ( v8 == (_DWORD *)v6[2] )
  {
    v10 = (int)v8;
  }
  else
  {
    v10 = v8[1];
    if ( !*(_BYTE *)(v7 + 209) )
      *(_DWORD *)(v7 + 4) = v10;
    *(_DWORD *)v10 = v7;
    *v9 = v6[2];
    *(_DWORD *)(v6[2] + 4) = v8;
  }
  v15 = a1[6];
  if ( *(_DWORD **)(v15 + 4) == v6 )
  {
    *(_DWORD *)(v15 + 4) = v8;
  }
  else
  {
    v16 = (_DWORD *)v6[1];
    if ( (_DWORD *)*v16 == v6 )
      *v16 = v8;
    else
      v16[2] = v8;
  }
  v8[1] = v6[1];
  v17 = (char *)(v6 + 52);
  v18 = (char *)(v8 + 52);
  if ( v18 != (char *)(v6 + 52) )
  {
    v19 = *v18;
    *v18 = *v17;
    *v17 = v19;
  }
LABEL_36:
  if ( v24[208] == 1 )
  {
    for ( ; v7 != *(_DWORD *)(a1[6] + 4); v10 = *(_DWORD *)(v10 + 4) )
    {
      if ( *(_BYTE *)(v7 + 208) != 1 )
        break;
      v20 = *(_BYTE **)v10;
      if ( v7 == *(_DWORD *)v10 )
      {
        v20 = *(_BYTE **)(v10 + 8);
        if ( !v20[208] )
        {
          v20[208] = 1;
          *(_BYTE *)(v10 + 208) = 0;
          sub_44AB70(a1, v10);
          v20 = *(_BYTE **)(v10 + 8);
        }
        if ( v20[209] )
          goto LABEL_54;
        if ( *(_BYTE *)(*(_DWORD *)v20 + 208) != 1 || *(_BYTE *)(*((_DWORD *)v20 + 2) + 208) != 1 )
        {
          if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 208) == 1 )
          {
            *(_BYTE *)(*(_DWORD *)v20 + 208) = 1;
            v20[208] = 0;
            sub_44A810(a1, v20);
            v20 = *(_BYTE **)(v10 + 8);
          }
          v20[208] = *(_BYTE *)(v10 + 208);
          *(_BYTE *)(v10 + 208) = 1;
          *(_BYTE *)(*((_DWORD *)v20 + 2) + 208) = 1;
          sub_44AB70(a1, v10);
          break;
        }
      }
      else
      {
        if ( !v20[208] )
        {
          v20[208] = 1;
          *(_BYTE *)(v10 + 208) = 0;
          sub_44A810(a1, (_DWORD *)v10);
          v20 = *(_BYTE **)v10;
        }
        if ( v20[209] )
          goto LABEL_54;
        if ( *(_BYTE *)(*((_DWORD *)v20 + 2) + 208) != 1 || *(_BYTE *)(*(_DWORD *)v20 + 208) != 1 )
        {
          if ( *(_BYTE *)(*(_DWORD *)v20 + 208) == 1 )
          {
            *(_BYTE *)(*((_DWORD *)v20 + 2) + 208) = 1;
            v20[208] = 0;
            sub_44AB70(a1, (int)v20);
            v20 = *(_BYTE **)v10;
          }
          v20[208] = *(_BYTE *)(v10 + 208);
          *(_BYTE *)(v10 + 208) = 1;
          *(_BYTE *)(*(_DWORD *)v20 + 208) = 1;
          sub_44A810(a1, (_DWORD *)v10);
          break;
        }
      }
      v20[208] = 0;
LABEL_54:
      v7 = v10;
    }
    *(_BYTE *)(v7 + 208) = 1;
  }
  operator delete(v24);
  v21 = a1[7];
  if ( v21 )
    a1[7] = v21 - 1;
  result = a3;
  v23 = a5;
  *a3 = *a1;
  a3[1] = v23;
  return result;
}
// 48B5D4:  void *std::out_of_range::`vftable'

//----- (0044BDF0) --------------------------------------------------------
_DWORD *__thiscall sub_44BDF0(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  v4 = operator new(4u);
  if ( v4 )
    *v4 = this;
  else
    v4 = 0;
  *this = v4;
  v5 = sub_44AD70();
  this[6] = v5;
  *((_BYTE *)v5 + 209) = 1;
  *(_DWORD *)(this[6] + 4) = this[6];
  *(_DWORD *)this[6] = this[6];
  *(_DWORD *)(this[6] + 8) = this[6];
  this[7] = 0;
  return this;
}

//----- (0044BE80) --------------------------------------------------------
int *__thiscall sub_44BE80(int *this, int *a2, int a3, int a4, int a5, int a6)
{
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  _DWORD *v10; // eax
  int v11; // edx
  int *result; // eax
  int v13; // ebx
  int v14; // edx
  int v15; // [esp+Ch] [ebp-8h] BYREF

  v7 = *(_DWORD *)this[6];
  v8 = a3;
  if ( !a3 || a3 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a4 != v7 )
    goto LABEL_18;
  v9 = this[6];
  if ( !a5 || a5 != *this )
  {
    _invalid_parameter_noinfo();
    v8 = a3;
  }
  if ( a6 == v9 )
  {
    sub_44AC40(*(void ***)(this[6] + 4));
    *(_DWORD *)(this[6] + 4) = this[6];
    v10 = (_DWORD *)this[6];
    this[7] = 0;
    *v10 = v10;
    *(_DWORD *)(this[6] + 8) = this[6];
    v11 = *this;
    result = a2;
    a2[1] = *(_DWORD *)this[6];
    *a2 = v11;
  }
  else
  {
LABEL_18:
    while ( 1 )
    {
      if ( !v8 || v8 != a5 )
      {
        _invalid_parameter_noinfo();
        v8 = a3;
      }
      v13 = a4;
      if ( a4 == a6 )
        break;
      sub_44A870(&a3);
      sub_44BAA0(this, v14, &v15, v8, v13);
      v8 = a3;
    }
    result = a2;
    *a2 = *this;
    a2[1] = v13;
  }
  return result;
}
// 44BF3F: variable 'v14' is possibly undefined

//----- (0044BF60) --------------------------------------------------------
void __thiscall sub_44BF60(int *this, int a2)
{
  int *v2; // ebx
  int *v3; // eax
  int v4; // edx
  int *v5; // esi
  int *v6; // edi
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int *v10[2]; // [esp+4h] [ebp-18h] BYREF
  int v11[4]; // [esp+Ch] [ebp-10h] BYREF

  v2 = this + 6;
  sub_44AC80(this + 6, v11, &a2);
  v10[0] = 0;
  sub_44ABD0(v11[0], v11[1], v11[2], v11[3], v10);
  if ( v10[0] )
  {
    v3 = sub_44AEC0(v2, v11, &a2);
    v5 = (int *)*v3;
    v6 = (int *)v3[1];
    v10[0] = v5;
    v10[1] = v6;
    if ( v5 )
    {
      v7 = *v5;
    }
    else
    {
      _invalid_parameter_noinfo();
      v7 = 0;
    }
    if ( v6 == *(int **)(v7 + 24) )
      _invalid_parameter_noinfo();
    if ( !v6[10] )
    {
      if ( v5 )
      {
        v8 = *v5;
      }
      else
      {
        _invalid_parameter_noinfo();
        v8 = 0;
      }
      if ( v6 == *(int **)(v8 + 24) )
        _invalid_parameter_noinfo();
      if ( v6[11] )
      {
        v9 = sub_44AC10(v10);
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v9 + 32) + 8))(*(_DWORD *)(v9 + 32));
        *(_DWORD *)(sub_44AC10(v10) + 32) = 0;
      }
      sub_44BAA0(v2, v4, v11, (int)v5, (int)v6);
    }
  }
}
// 44C034: variable 'v4' is possibly undefined

//----- (0044C080) --------------------------------------------------------
int __thiscall sub_44C080(int *this, int a2)
{
  int *v2; // ebx
  _DWORD *v3; // esi
  int v4; // edi
  int v6; // [esp+Ch] [ebp-DCh]
  int v8; // [esp+14h] [ebp-D4h]
  _DWORD *i; // [esp+18h] [ebp-D0h] BYREF
  int v10; // [esp+1Ch] [ebp-CCh]
  int v11; // [esp+24h] [ebp-C4h] BYREF
  char v12[192]; // [esp+28h] [ebp-C0h] BYREF

  if ( !this[21] )
    return 0;
  v6 = 1;
  if ( a2 )
    v6 = 201;
  v2 = this + 6;
  while ( 1 )
  {
    v3 = (_DWORD *)*v2;
    v8 = 0;
    v10 = *(_DWORD *)v2[6];
    for ( i = v3; ; v3 = i )
    {
      v4 = v2[6];
      if ( !v3 || v3 != (_DWORD *)*v2 )
        _invalid_parameter_noinfo();
      if ( v10 == v4 )
        break;
      if ( v3 )
        v3 = (_DWORD *)*v3;
      else
        _invalid_parameter_noinfo();
      if ( v10 == v3[6] )
        _invalid_parameter_noinfo();
      if ( v6 == *(_DWORD *)(v10 + 12) )
        v8 = 1;
      sub_44A870(&i);
    }
    if ( !v8 )
      break;
    if ( ++v6 >= 400 )
      return 0;
  }
  if ( v6 >= 200 && !a2 )
  {
    MessageBoxA(0, "tex overflow", WindowName, 0x42000u);
    return 0;
  }
  v11 = v6;
  qmemcpy(v12, this + 14, sizeof(v12));
  sub_44B9A0(v2, (int)&i, &v11);
  memset(this + 14, 0, 0xC0u);
  return v6;
}
// 44C181: conditional instruction was optimized away because %var_DC.4<190

//----- (0044C200) --------------------------------------------------------
int __thiscall sub_44C200(int *this, int a2, int a3, int a4)
{
  int v5; // ecx
  int v6; // eax
  int v7; // ecx
  int v8; // eax
  int v9; // eax
  int v11; // [esp-4h] [ebp-2Ch]
  int v12; // [esp+Ch] [ebp-1Ch]
  int v13; // [esp+24h] [ebp-4h] BYREF

  v5 = a2;
  v13 = 0;
  if ( !a2 )
    return 0;
  v6 = a3;
  if ( !a3 )
    return 0;
  this[17] = a3;
  this[19] = v6;
  this[16] = v5;
  this[18] = v5;
  sub_44A7B0(&a2);
  sub_44A7B0(&a3);
  v7 = a2;
  v8 = *this;
  v12 = a4;
  v11 = a3;
  this[15] = a3;
  this[14] = v7;
  v9 = (*(int (__stdcall **)(int, int, int, _DWORD, _DWORD, int, int, int *, _DWORD))(*(_DWORD *)v8 + 92))(
         v8,
         v7,
         v11,
         0,
         0,
         21,
         v12,
         &v13,
         0);
  if ( v9 )
  {
    if ( v9 == -2005530516 || v9 == -2005532292 || v9 == -2147024882 )
      return 0;
  }
  this[21] = v13;
  return sub_44C080(this, 0);
}

//----- (0044C2B0) --------------------------------------------------------
int __thiscall sub_44C2B0(int *this, int a2, int a3, char *a4, int a5, int a6)
{
  int v7; // ecx
  int v8; // eax
  int v9; // edi
  int v10; // ebx
  char *v11; // eax
  int v12; // edx
  char v13; // cl
  int v14; // eax
  int v16; // [esp+1Ch] [ebp-Ch]
  int v17; // [esp+24h] [ebp-4h] BYREF

  v7 = a2;
  v17 = 0;
  if ( !a2 )
    return 0;
  v8 = a3;
  if ( !a3 )
    return 0;
  this[17] = a3;
  this[19] = v8;
  this[16] = v7;
  this[18] = v7;
  sub_44A7B0(&a2);
  sub_44A7B0(&a3);
  v9 = a2;
  v10 = a3;
  v11 = a4;
  this[14] = a2;
  this[15] = v10;
  v12 = (char *)(this + 22) - v11;
  do
  {
    v13 = *v11;
    v11[v12] = *v11;
    ++v11;
  }
  while ( v13 );
  v14 = (*(int (__stdcall **)(int, int, int, _DWORD, _DWORD, int, int, int *, _DWORD))(*(_DWORD *)*this + 92))(
          *this,
          v9,
          v10,
          0,
          0,
          21,
          a6,
          &v17,
          0);
  if ( v14 )
  {
    if ( v14 == -2005530516 || v14 == -2005532292 || v14 == -2147024882 )
      return 0;
  }
  v16 = a5;
  this[21] = v17;
  return sub_44C080(this, v16);
}

//----- (0044C380) --------------------------------------------------------
int __thiscall sub_44C380(int *this, int a2, int a3, int a4)
{
  int v5; // ecx
  int v6; // ecx
  int v7; // eax
  int v8; // eax
  int v10; // [esp-8h] [ebp-28h]
  int v11; // [esp+8h] [ebp-18h]

  v5 = a2;
  if ( !a2 )
    return 0;
  if ( !a3 )
    return 0;
  this[17] = a3;
  this[16] = v5;
  sub_44A7B0(&a2);
  sub_44A7B0(&a3);
  v6 = a2;
  v7 = *this;
  v11 = a4;
  v10 = a3;
  this[15] = a3;
  this[14] = v6;
  v8 = (*(int (__stdcall **)(int, int, int, _DWORD, _DWORD, int, int, int *, _DWORD))(*(_DWORD *)v7 + 92))(
         v7,
         v6,
         v10,
         0,
         0,
         21,
         v11,
         &a2,
         0);
  if ( v8 )
  {
    if ( v8 == -2005530516 || v8 == -2005532292 || v8 == -2147024882 )
      return 0;
  }
  this[21] = a2;
  return sub_44C080(this, 1);
}

//----- (0044C420) --------------------------------------------------------
void __thiscall sub_44C420(int this)
{
  int *v2; // eax
  int v3; // [esp-10h] [ebp-30h]
  int v4; // [esp-Ch] [ebp-2Ch]
  void *v5; // [esp-8h] [ebp-28h]
  int v6[5]; // [esp+Ch] [ebp-14h] BYREF

  v2 = *(int **)(this + 24);
  v4 = *v2;
  v3 = *(_DWORD *)this;
  v6[4] = 0;
  sub_44BE80((int *)this, v6, v3, v4, v3, (int)v2);
  operator delete(*(void **)(this + 24));
  v5 = *(void **)this;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  operator delete(v5);
}

//----- (0044C4B0) --------------------------------------------------------
void __thiscall sub_44C4B0(void *this)
{
  sub_44E8F0();
  sub_44ADF0((int)this);
  sub_44C420((int)this + 24);
}

//----- (0044C510) --------------------------------------------------------
int __userpurge sub_44C510@<eax>(int *a1@<ecx>, int a2@<esi>, int a3, int a4)
{
  int result; // eax
  int v6; // esi
  int v7; // eax
  int v8; // ebx
  int v9; // edx
  int v10; // edi
  int v11; // esi
  char *v12; // ecx
  char *v13; // eax
  int v14; // edx
  _BYTE *v15; // eax
  _BYTE *v16; // eax
  _BYTE *v17; // eax
  char v18; // bl
  _BYTE *v19; // ecx
  char *v20; // eax
  _BYTE *v21; // eax
  _BYTE *v22; // eax
  int v23; // [esp-8h] [ebp-2Ch]
  int v25; // [esp+18h] [ebp-Ch]
  int i; // [esp+1Ch] [ebp-8h] BYREF
  int v27; // [esp+20h] [ebp-4h]
  char *retaddr; // [esp+24h] [ebp+0h]
  int v29; // [esp+2Ch] [ebp+8h]

  if ( !dword_4C24E0[439 * a3] )
    return 0;
  v6 = dword_4C24F0[439 * a3];
  v23 = dword_4C24EC[439 * a3];
  if ( a4 )
    v7 = sub_44C380(a1, v23, v6, 1);
  else
    v7 = sub_44C200(a1, v23, v6, 1);
  v29 = v7;
  if ( v7 )
  {
    v8 = sub_44B000(a1, v7);
    if ( (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD, int))(*(_DWORD *)v8 + 76))(v8, 0, &i, 0, 0, a2) >= 0 )
    {
      memset(retaddr, 0, v6 * v27);
      v9 = dword_4C24F0[439 * a3];
      v10 = dword_4C24EC[439 * a3];
      v11 = 0;
      for ( i = v9; v11 < v9; ++v11 )
      {
        v12 = (char *)(dword_4C24E4[439 * a3] - v11 * dword_4C24E8[439 * a3]);
        v13 = &retaddr[v27 * v11];
        if ( v10 > 0 )
        {
          v14 = v10;
          do
          {
            if ( dword_4C24F4[439 * a3] )
            {
              if ( *v12 == -1 )
              {
                *v13 = dword_4B4FF0;
                v15 = v13 + 1;
                *v15++ = dword_4B4FF0;
                *v15 = dword_4B4FF0;
                v16 = v15 + 1;
                *v16 = 0;
              }
              else
              {
                *v13 = v12[1];
                v13[1] = v12[2];
                v17 = v13 + 2;
                *v17 = v12[3];
                v16 = v17 + 1;
                *v16 = -1 - *v12;
              }
              v13 = v16 + 1;
              v12 += 4;
            }
            else
            {
              if ( (*(_DWORD *)v12 & 0xFFFFFF) == 16711935 )
              {
                v13[3] = 0;
                *v13 = dword_4B4FF0;
                v22 = v13 + 1;
                *v22++ = dword_4B4FF0;
                *v22 = dword_4B4FF0;
                v21 = v22 + 1;
                v12 += 3;
              }
              else
              {
                v13[3] = -1;
                *v13 = *v12;
                v18 = v12[1];
                v19 = v12 + 1;
                v20 = v13 + 1;
                *v20++ = v18;
                *v20 = v19[1];
                v21 = v20 + 1;
                v12 = v19 + 2;
              }
              v13 = v21 + 1;
            }
            --v14;
          }
          while ( v14 );
          v8 = v25;
          v9 = i;
        }
      }
      (*(void (__stdcall **)(int))(*(_DWORD *)v8 + 80))(v8);
      sub_44D910(a3);
      result = v29;
      dword_4B4FF0 = 255;
    }
    else
    {
      sub_44D910(v29);
      (*(void (__stdcall **)(int))(*(_DWORD *)v8 + 80))(v8);
      result = 0;
      dword_4B4FF0 = 255;
    }
  }
  else
  {
    sub_44D910(a3);
    result = 0;
    dword_4B4FF0 = 255;
  }
  return result;
}
// 44C510: could not find valid save-restore pair for esi
// 44C6EA: variable 'v25' is possibly undefined
// 4B4FF0:  int dword_4B4FF0
// 4C24E0:  int dword_4C24E0[]
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]

//----- (0044C730) --------------------------------------------------------
int __userpurge sub_44C730@<eax>(int *a1@<ecx>, int a2@<esi>, int a3, int a4)
{
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v10; // eax
  int v11; // eax
  int v12; // esi
  int (__stdcall *v13)(int, char *, _DWORD, int, int); // eax
  unsigned int i; // edx
  char *v16; // ecx
  char *v17; // eax
  char v18; // bl
  _BYTE *v19; // ecx
  char *v20; // eax
  _BYTE *v21; // eax
  _BYTE *v22; // ecx
  char v23; // bl
  _BYTE *v24; // ecx
  _BYTE *v25; // eax
  char v26; // bl
  _BYTE *v27; // eax
  _BYTE *v28; // ecx
  char v29; // bl
  _BYTE *v30; // ecx
  _BYTE *v31; // eax
  char v32; // bl
  _BYTE *v33; // eax
  _BYTE *v34; // ecx
  char v35; // bl
  _BYTE *v36; // ecx
  _BYTE *v37; // eax
  char v38; // bl
  _BYTE *v39; // eax
  _BYTE *v40; // ecx
  char v41; // bl
  _BYTE *v42; // ecx
  _BYTE *v43; // eax
  char v44; // bl
  _BYTE *v45; // eax
  _BYTE *v46; // ecx
  int v48; // [esp+98h] [ebp-20h] BYREF
  int v49[2]; // [esp+9Ch] [ebp-1Ch] BYREF
  int v50; // [esp+A4h] [ebp-14h]
  char v51[4]; // [esp+A8h] [ebp-10h] BYREF
  int v52; // [esp+ACh] [ebp-Ch]
  int v53; // [esp+B0h] [ebp-8h]
  int v54; // [esp+B4h] [ebp-4h] BYREF
  char *retaddr; // [esp+B8h] [ebp+0h]
  int v56; // [esp+C0h] [ebp+8h]

  (*(void (__stdcall **)(int))(*(_DWORD *)*a1 + 168))(*a1);
  (*(void (__stdcall **)(int, _DWORD, int))(*(_DWORD *)*a1 + 148))(*a1, 0, a1[3]);
  (*(void (__stdcall **)(int, int))(*(_DWORD *)*a1 + 156))(*a1, a1[4]);
  sub_439960((int)dword_4C0874, 0, 0, *((_DWORD *)dword_4C0874 + 37), *((_DWORD *)dword_4C0874 + 38));
  v5 = a1[3];
  if ( v5 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v5 + 8))(a1[3]);
    a1[3] = 0;
  }
  v6 = a1[4];
  if ( v6 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v6 + 8))(a1[4]);
    a1[4] = 0;
  }
  v7 = a1[1];
  if ( v7 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v7 + 8))(a1[1]);
    a1[1] = 0;
  }
  v8 = a1[2];
  if ( v8 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v8 + 8))(a1[2]);
    a1[2] = 0;
  }
  if ( (*(int (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a1[21] + 72))(a1[21], 0, v49) < 0 )
  {
    MessageBoxA(0, "CreateScreenTexureBegin:Surface error", WindowName, 0x42000u);
    return 0;
  }
  (*(void (__stdcall **)(int, int, int, int, int, int *, _DWORD))(*(_DWORD *)*a1 + 144))(
    *a1,
    a1[14],
    a1[15],
    21,
    2,
    &v48,
    0);
  (*(void (__stdcall **)(int, int, int))(*(_DWORD *)*a1 + 128))(*a1, v49[0], v48);
  if ( v49[0] )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v49[0] + 8))(v49[0]);
    v49[0] = 0;
  }
  v10 = a1[21];
  if ( v10 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v10 + 8))(a1[21]);
    a1[21] = 0;
  }
  v11 = sub_44C380(a1, 1280, 720, 1);
  v50 = v11;
  if ( !v11 )
    return 0;
  v12 = sub_44B000(a1, v11);
  v13 = *(int (__stdcall **)(int, char *, _DWORD, int, int))(*(_DWORD *)v48 + 52);
  v49[1] = v12;
  if ( v13(v48, v51, 0, 16, a2) < 0
    || (*(int (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)v12 + 76))(v12, 0, &v54, 0, 0) < 0 )
  {
    (*(void (__cdecl **)(int))(*(_DWORD *)v49[0] + 56))(v49[0]);
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v12 + 80))(v12, 0);
    (*(void (__stdcall **)(int))(*(_DWORD *)v48 + 8))(v48);
    return 0;
  }
  else
  {
    for ( i = 0; i < 0x2D0; ++i )
    {
      v16 = (char *)(v53 + i * v52);
      v17 = &retaddr[i * v54];
      v56 = 256;
      do
      {
        *v17 = *v16;
        v18 = v16[1];
        v19 = v16 + 1;
        v20 = v17 + 1;
        *v20++ = v18;
        *v20 = v19[1];
        v21 = v20 + 1;
        v22 = v19 + 2;
        if ( a4 )
          *v21 = *v22;
        else
          *v21 = -1;
        v23 = v22[1];
        v24 = v22 + 1;
        v25 = v21 + 1;
        *v25 = v23;
        v26 = *++v24;
        *++v25 = v26;
        *++v25 = v24[1];
        v27 = v25 + 1;
        v28 = v24 + 2;
        if ( a4 )
          *v27 = *v28;
        else
          *v27 = -1;
        v29 = v28[1];
        v30 = v28 + 1;
        v31 = v27 + 1;
        *v31 = v29;
        v32 = *++v30;
        *++v31 = v32;
        *++v31 = v30[1];
        v33 = v31 + 1;
        v34 = v30 + 2;
        if ( a4 )
          *v33 = *v34;
        else
          *v33 = -1;
        v35 = v34[1];
        v36 = v34 + 1;
        v37 = v33 + 1;
        *v37 = v35;
        v38 = *++v36;
        *++v37 = v38;
        *++v37 = v36[1];
        v39 = v37 + 1;
        v40 = v36 + 2;
        if ( a4 )
          *v39 = *v40;
        else
          *v39 = -1;
        v41 = v40[1];
        v42 = v40 + 1;
        v43 = v39 + 1;
        *v43 = v41;
        v44 = *++v42;
        *++v43 = v44;
        *++v43 = v42[1];
        v45 = v43 + 1;
        v46 = v42 + 2;
        if ( a4 )
          *v45 = *v46;
        else
          *v45 = -1;
        v17 = v45 + 1;
        v16 = v46 + 1;
        --v56;
      }
      while ( v56 );
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)v49[0] + 56))(v49[0]);
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v50 + 80))(v50, 0);
    if ( v49[0] )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v49[0] + 8))(v49[0]);
      v49[0] = 0;
    }
    *((_DWORD *)dword_4C0874 + 3) = 0;
    *((_DWORD *)dword_4C0874 + 6) = dword_4B4FF4;
    (*(void (__cdecl **)(int))(*(_DWORD *)*a1 + 164))(*a1);
    return v50;
  }
}
// 44C730: could not find valid save-restore pair for esi
// 4B4FF4:  int dword_4B4FF4
// 44C730:  char var_10[4]

//----- (0044CA60) --------------------------------------------------------
int __userpurge sub_44CA60@<eax>(int *a1@<ecx>, int a2@<edi>, int a3, char a4, char a5, char a6)
{
  int result; // eax
  int v8; // ebp
  int v9; // edi
  int i; // esi
  char *v11; // eax
  int v12; // ecx
  _BYTE *v13; // eax
  char v15[4]; // [esp+14h] [ebp-8h] BYREF
  int v16; // [esp+18h] [ebp-4h]
  char *retaddr; // [esp+1Ch] [ebp+0h]

  result = sub_44C380(a1, 1281, 721, 1);
  v8 = result;
  if ( result )
  {
    v9 = sub_44B000(a1, result);
    if ( (*(int (__stdcall **)(int, _DWORD, char *, _DWORD, _DWORD, int))(*(_DWORD *)v9 + 76))(v9, 0, v15, 0, 0, a2) >= 0 )
    {
      for ( i = 0; i < 721; ++i )
      {
        v11 = &retaddr[i * v16];
        v12 = 1281;
        do
        {
          *v11 = a4;
          v13 = v11 + 1;
          *v13++ = a5;
          *v13++ = a6;
          *v13 = -1;
          v11 = v13 + 1;
          --v12;
        }
        while ( v12 );
      }
      (*(void (__stdcall **)(int))(*(_DWORD *)v9 + 80))(v9);
      return v8;
    }
    else
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v9 + 80))(v9);
      sub_44BF60(a1, v8);
      return 0;
    }
  }
  return result;
}
// 44CA60: could not find valid save-restore pair for ebx
// 44CA60: could not find valid save-restore pair for edi
// 44CA60:  char var_8[4]

//----- (0044CB20) --------------------------------------------------------
int *__thiscall sub_44CB20(int *this)
{
  char v3; // [esp+Bh] [ebp-11h] BYREF
  int *v4; // [esp+Ch] [ebp-10h]
  int v5; // [esp+18h] [ebp-4h]

  v4 = this;
  sub_44BDF0(this + 6, (int)&v3, (int)&v3);
  v5 = 0;
  *this = sub_438B50(dword_4C0874);
  sub_44E8C0();
  sub_44AF30(this);
  return this;
}

//----- (0044CB90) --------------------------------------------------------
int __thiscall sub_44CB90(char *this, char *a2, int a3, int a4)
{
  int v6; // eax
  int v7; // eax
  int v8; // ecx
  int v9; // eax
  int v10; // [esp+44h] [ebp-12Ch] BYREF
  char v11[24]; // [esp+48h] [ebp-128h] BYREF
  int v12; // [esp+60h] [ebp-110h]
  int v13; // [esp+64h] [ebp-10Ch]
  char Str[260]; // [esp+68h] [ebp-108h] BYREF

  v10 = 0;
  strcpy(Str, a2);
  memset(this + 56, 0, 0xC0u);
  if ( *((_DWORD *)this + 13) >= 0x190u )
    return 0;
  _strupr(Str);
  strcpy(this + 88, a2);
  if ( !strstr(Str, ".PNG") && !strstr(Str, ".BMP") && !strstr(Str, ".JPG") )
  {
    if ( *a2 )
    {
      v6 = sub_44FDF0(a2, 0, a3);
      if ( v6 > 0 )
        return sub_44C510((int *)this, (int)this, v6, a4);
    }
    return 0;
  }
  if ( !sub_407200(Str) )
    return 0;
  D3DXCreateTextureFromFileExA(*(_DWORD *)this, a2, -1, -1, -1, 0, 21, 1, 1, -1, 0, 0, 0, &v10);
  if ( !v10 || (*(int (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v10 + 68))(v10, 0, v11) < 0 )
    return 0;
  v7 = v12;
  v8 = v10;
  *((_DWORD *)this + 14) = v12;
  *((_DWORD *)this + 16) = v7;
  *((_DWORD *)this + 18) = v7;
  v9 = v13;
  *((_DWORD *)this + 21) = v8;
  *((_DWORD *)this + 15) = v9;
  *((_DWORD *)this + 17) = v9;
  *((_DWORD *)this + 19) = v9;
  return sub_44C080((int *)this, a4);
}
// 4738FC:  int __stdcall D3DXCreateTextureFromFileExA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 44CB90:  char var_128[24]

//----- (0044CD30) --------------------------------------------------------
BOOL __stdcall sub_44CD30(HKEY hKey, LPCSTR lpString2, LPCSTR lpValueName, LPBYTE lpData)
{
  BOOL v4; // ebp
  HKEY phkResult; // [esp+10h] [ebp-114h] BYREF
  DWORD cbData; // [esp+14h] [ebp-110h] BYREF
  DWORD Type; // [esp+18h] [ebp-10Ch] BYREF
  CHAR String1[260]; // [esp+1Ch] [ebp-108h] BYREF

  phkResult = 0;
  v4 = 1;
  lstrcpyA(String1, lpString2);
  *lpData = 0;
  if ( !RegOpenKeyExA(hKey, String1, 0, 0x20019u, &phkResult) )
  {
    cbData = 260;
    Type = 1;
    v4 = RegQueryValueExA(phkResult, lpValueName, 0, &Type, lpData, &cbData) == 0;
    RegCloseKey(phkResult);
  }
  return v4;
}

//----- (0044CDF0) --------------------------------------------------------
BOOL __stdcall sub_44CDF0(LPCSTR lpValueName, LPBYTE lpData)
{
  BOOL v2; // ebx
  HKEY phkResult; // [esp+Ch] [ebp-114h] BYREF
  DWORD cbData; // [esp+10h] [ebp-110h] BYREF
  DWORD Type; // [esp+14h] [ebp-10Ch] BYREF
  CHAR String1[260]; // [esp+18h] [ebp-108h] BYREF

  phkResult = 0;
  v2 = 1;
  lstrcpyA(String1, "Software\\CIRCUS\\DC4");
  *lpData = 0;
  if ( !RegOpenKeyExA(HKEY_CURRENT_USER, String1, 0, 0x20019u, &phkResult) )
  {
    cbData = 260;
    Type = 1;
    v2 = RegQueryValueExA(phkResult, lpValueName, 0, &Type, lpData, &cbData) == 0;
    RegCloseKey(phkResult);
  }
  return v2;
}

//----- (0044CEB0) --------------------------------------------------------
int __stdcall sub_44CEB0(LPCSTR lpValueName, LPBYTE lpData)
{
  int v2; // edi
  HKEY phkResult; // [esp+Ch] [ebp-114h] BYREF
  DWORD cbData; // [esp+10h] [ebp-110h] BYREF
  DWORD Type; // [esp+14h] [ebp-10Ch] BYREF
  CHAR String1[260]; // [esp+18h] [ebp-108h] BYREF

  phkResult = 0;
  v2 = 1;
  *(_DWORD *)lpData = 0;
  lstrcpyA(String1, "Software\\CIRCUS\\DC4");
  if ( !RegOpenKeyExA(HKEY_CURRENT_USER, String1, 0, 0x20019u, &phkResult) )
  {
    cbData = 260;
    Type = 4;
    if ( RegQueryValueExA(phkResult, lpValueName, 0, &Type, lpData, &cbData) )
    {
      *(_DWORD *)lpData = 0;
      v2 = 0;
    }
    RegCloseKey(phkResult);
  }
  return v2;
}

//----- (0044CF80) --------------------------------------------------------
int __stdcall sub_44CF80(LPCSTR lpValueName, BYTE *lpData)
{
  HKEY phkResult; // [esp+Ch] [ebp-110h] BYREF
  DWORD dwDisposition; // [esp+10h] [ebp-10Ch] BYREF
  CHAR String1[260]; // [esp+14h] [ebp-108h] BYREF

  phkResult = 0;
  lstrcpyA(String1, "Software\\CIRCUS\\DC4");
  if ( RegCreateKeyExA(HKEY_CURRENT_USER, String1, 0, (LPSTR)Source, 0, 0xF003Fu, 0, &phkResult, &dwDisposition) )
  {
    *lpData = 0;
    return 0;
  }
  else
  {
    RegCloseKey(phkResult);
    lstrcpyA(String1, "Software\\CIRCUS\\DC4");
    if ( RegOpenKeyExA(HKEY_CURRENT_USER, String1, 0, 0x2001Fu, &phkResult) )
    {
      *lpData = 0;
      return 0;
    }
    else
    {
      if ( phkResult )
      {
        RegSetValueExA(phkResult, lpValueName, 0, 1u, lpData, strlen((const char *)lpData));
        RegCloseKey(phkResult);
      }
      return 1;
    }
  }
}

//----- (0044D080) --------------------------------------------------------
int __stdcall sub_44D080(LPCSTR lpValueName, BYTE *lpData)
{
  HKEY phkResult; // [esp+Ch] [ebp-110h] BYREF
  DWORD dwDisposition; // [esp+10h] [ebp-10Ch] BYREF
  CHAR String1[260]; // [esp+14h] [ebp-108h] BYREF

  phkResult = 0;
  lstrcpyA(String1, "Software\\CIRCUS\\DC4");
  if ( RegCreateKeyExA(HKEY_CURRENT_USER, String1, 0, (LPSTR)Source, 0, 0xF003Fu, 0, &phkResult, &dwDisposition) )
    return 0;
  RegCloseKey(phkResult);
  lstrcpyA(String1, "Software\\CIRCUS\\DC4");
  if ( RegOpenKeyExA(HKEY_CURRENT_USER, String1, 0, 0x2001Fu, &phkResult) )
    return 0;
  if ( phkResult )
  {
    RegSetValueExA(phkResult, lpValueName, 0, 4u, lpData, 4u);
    RegCloseKey(phkResult);
  }
  return 1;
}

//----- (0044D170) --------------------------------------------------------
int __thiscall sub_44D170(_DWORD *this, int a2, int a3, int a4, int a5)
{
  int result; // eax

  this[2] = a2;
  result = a4;
  this[3] = a3;
  this[4] = a4;
  this[5] = a5;
  return result;
}

//----- (0044D190) --------------------------------------------------------
_DWORD *__thiscall sub_44D190(_DWORD *this, _DWORD *a2)
{
  _DWORD *result; // eax
  int v3; // edx
  int v4; // ecx

  result = a2;
  *a2 = this[2];
  a2[1] = this[3];
  v3 = this[4];
  v4 = this[5];
  a2[2] = v3;
  a2[3] = v4;
  return result;
}

//----- (0044D1B0) --------------------------------------------------------
int __thiscall sub_44D1B0(_DWORD *this, int a2, int a3)
{
  int result; // eax

  result = a2;
  *this = a2;
  this[1] = a3;
  return result;
}

//----- (0044D1C0) --------------------------------------------------------
HCURSOR __thiscall sub_44D1C0(HCURSOR *this, const char *a2)
{
  HMODULE ModuleHandleA; // eax
  HCURSOR ImageA; // eax
  CHAR name[260]; // [esp+8h] [ebp-108h] BYREF

  if ( this[6] )
  {
    DestroyCursor(this[6]);
    this[6] = 0;
  }
  sprintf(name, "%s\\Advdata\\GRP\\CURSOR\\%s", PathName, a2);
  ModuleHandleA = GetModuleHandleA(0);
  ImageA = (HCURSOR)LoadImageA(ModuleHandleA, name, 2u, 0, 0, 0x50u);
  this[6] = ImageA;
  return SetCursor(ImageA);
}

//----- (0044D250) --------------------------------------------------------
HCURSOR __thiscall sub_44D250(HCURSOR *this)
{
  HCURSOR result; // eax

  result = this[6];
  if ( result )
    return SetCursor(this[6]);
  return result;
}

//----- (0044D260) --------------------------------------------------------
HCURSOR __thiscall sub_44D260(HCURSOR *this)
{
  HCURSOR CursorA; // eax

  if ( this[6] )
  {
    DestroyCursor(this[6]);
    this[6] = 0;
  }
  CursorA = LoadCursorA(0, (LPCSTR)0x7F00);
  this[6] = CursorA;
  return SetCursor(CursorA);
}

//----- (0044D2A0) --------------------------------------------------------
__int16 __cdecl sub_44D2A0(unsigned __int8 *a1, int a2)
{
  int v3; // edx
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v13; // [esp+0h] [ebp-4h]

  v13 = 0;
  if ( a2 > 0 )
  {
    v3 = a2;
    do
    {
      LOWORD(v13) = (*a1 << 8) ^ v13;
      if ( (v13 & 0x8000) != 0 )
        v4 = (unsigned __int16)(2 * v13) ^ 0x1021;
      else
        v4 = 2 * v13;
      if ( (v4 & 0x8000) != 0 )
        v5 = (unsigned __int16)(2 * v4) ^ 0x1021;
      else
        v5 = 2 * v4;
      if ( (v5 & 0x8000) != 0 )
        v6 = (unsigned __int16)(2 * v5) ^ 0x1021;
      else
        v6 = 2 * v5;
      if ( (v6 & 0x8000) != 0 )
        v7 = (unsigned __int16)(2 * v6) ^ 0x1021;
      else
        v7 = 2 * v6;
      if ( (v7 & 0x8000) != 0 )
        v8 = (unsigned __int16)(2 * v7) ^ 0x1021;
      else
        v8 = 2 * v7;
      if ( (v8 & 0x8000) != 0 )
        v9 = (unsigned __int16)(2 * v8) ^ 0x1021;
      else
        v9 = 2 * v8;
      if ( (v9 & 0x8000) != 0 )
        v10 = (unsigned __int16)(2 * v9) ^ 0x1021;
      else
        v10 = 2 * v9;
      if ( (v10 & 0x8000) != 0 )
        v11 = (unsigned __int16)(2 * v10) ^ 0x1021;
      else
        v11 = 2 * v10;
      ++a1;
      --v3;
      v13 = v11;
    }
    while ( v3 );
  }
  return v13;
}

//----- (0044D390) --------------------------------------------------------
int __cdecl sub_44D390(char *a1, int a2)
{
  int v2; // esi
  int v4; // ebx

  v2 = 0;
  if ( a2 > 0 )
  {
    v4 = a2;
    do
    {
      if ( isdigit(*a1) )
        v2 = *a1 + 36 * v2 - 22;
      else
        v2 = toupper(*a1) + 36 * v2 - 65;
      ++a1;
      --v4;
    }
    while ( v4 );
  }
  return v2;
}

//----- (0044D3E0) --------------------------------------------------------
int __cdecl sub_44D3E0(const char *a1)
{
  int result; // eax
  char v2[20]; // [esp+4h] [ebp-18h] BYREF

  strcpy(v2, a1);
  for ( result = 0; result < 11; ++result )
    a1[result] = v2[dword_4B4FFC[result]];
  return result;
}
// 4B4FFC:  int dword_4B4FFC[16]
// 44D3E0:  char var_18[20]

//----- (0044D440) --------------------------------------------------------
int __cdecl sub_44D440(const char *a1, int a2)
{
  char *v2; // edi
  int result; // eax
  char v4; // al
  unsigned __int8 *v5; // esi
  int v6; // ebx
  int v7; // esi
  int v8; // edi
  unsigned __int16 v9; // ax
  unsigned __int8 v10[2]; // [esp+4h] [ebp-18h] BYREF
  char v11[5]; // [esp+6h] [ebp-16h] BYREF
  char v12[13]; // [esp+Bh] [ebp-11h] BYREF

  v2 = (char *)a1;
  if ( strlen(a1) != 11 )
    return -4;
  v4 = *a1;
  v5 = v10;
  if ( *a1 )
  {
    do
    {
      ++v2;
      *v5 = toupper(v4);
      v4 = *v2;
      ++v5;
    }
    while ( *v2 );
  }
  *v5 = 0;
  sub_44D3E0((const char *)v10);
  v6 = sub_44D390((char *)v10, 2);
  v7 = sub_44D390(v11, 5);
  v8 = sub_44D390(v12, 4);
  v9 = sub_44D2A0(v10, 7);
  if ( v9 + 25 * (v9 - v9 / 0x19u) != v8 )
    return -1;
  if ( 10000001 * (v7 % 10000000) - 60000000 * (v7 % 10000000 / 6) != v7 )
    return -2;
  result = -3;
  if ( v6 == a2 )
    return v7 % 10000000;
  return result;
}
// 44D440:  char var_16[5]
// 44D440:  char var_11[13]

//----- (0044D590) --------------------------------------------------------
BOOL __cdecl sub_44D590(int a1, char *a2, const char *a3)
{
  char *v3; // ebx
  const char *v4; // esi
  int v5; // ecx
  int v7; // ebp
  int v8; // edi
  int v9; // eax
  int v10; // ecx
  int v11; // ebp
  int v12; // edi
  int v13; // eax
  int v14; // eax
  int v15; // edx
  int v16; // ebp
  int v17; // ecx
  char v18; // al
  unsigned __int8 *v19; // esi
  unsigned __int8 *i; // edi
  unsigned __int8 v21; // al
  char *v22; // eax
  int v24; // esi
  int v25; // ecx
  int v26; // [esp+8h] [ebp-408h] BYREF
  unsigned __int8 v27[1024]; // [esp+Ch] [ebp-404h] BYREF

  v3 = a2;
  v4 = a3;
  if ( isspace(*a3) )
  {
    do
      v5 = *++v4;
    while ( isspace(v5) );
  }
  if ( strlen(v4) < 0x10 )
    return 0;
  v7 = 0;
  v8 = 0;
  while ( 1 )
  {
    if ( isspace(*v4) )
    {
      do
        v9 = *++v4;
      while ( isspace(v9) );
    }
    if ( !isdigit(*v4) )
      break;
    ++v8;
    v10 = *v4++ + 10 * v7 - 48;
    v26 = v10;
    if ( v8 >= 8 )
    {
      v26 -= 10000000;
      v11 = 0;
      v12 = 0;
      while ( 1 )
      {
        if ( isspace(*v4) )
        {
          do
            v13 = *++v4;
          while ( isspace(v13) );
        }
        if ( !isdigit(*v4) )
          break;
        v14 = *v4;
        ++v12;
        ++v4;
        v11 = v14 + 10 * v11 - 48;
        if ( v12 >= 8 )
        {
          if ( isspace(*v4) )
          {
            do
              v15 = *++v4;
            while ( isspace(v15) );
          }
          if ( !*v4 )
          {
            v16 = v11 - 10000000;
            if ( isspace(*a2) )
            {
              do
                v17 = *++v3;
              while ( isspace(v17) );
            }
            v18 = *v3;
            v19 = v27;
            for ( i = v27; *v3; ++v19 )
            {
              if ( !isspace(v18) )
                i = v19;
              v21 = tolower(*v3++);
              *v19 = v21;
              v18 = *v3;
            }
            *v19 = 0;
            if ( *i && isspace((char)i[1]) )
              i[1] = 0;
            v22 = (char *)&v26 + 3;
            while ( *++v22 )
              ;
            strcpy(v22, "[^_^]");
            v24 = (unsigned __int16)sub_44D2A0(v27, strlen((const char *)v27));
            v25 = (v26 ^ (65537 * v24) & 0x3FFFFFF) - 1357 * a1;
            if ( v25 == 5 * (v25 / 5) )
              return (v16 ^ (1025 * v24) & 0x3FFFFFF) - 797 * v24 - v25 / 5 == 17 * a1;
          }
          return 0;
        }
      }
      return 0;
    }
    v7 = v26;
  }
  return 0;
}

//----- (0044D830) --------------------------------------------------------
void __cdecl sub_44D830(int a1, int a2, int a3)
{
  dword_4C24EC = a1;
  dword_4C24F0 = a2;
  dword_4C24E0 = a3;
  dword_4C24E8 = 4 * ((3 * a1 + 3) / 4);
  dword_4C24F4 = 0;
  dword_4C24E4 = a3 + dword_4C24E8 * (a2 - 1);
  dword_4C2500 = 0;
  dword_4C2504 = 0;
  LOBYTE(dword_4C2520) = 0;
  dword_4C2510 = 0;
  dword_4C2514 = 0;
  InitializeCriticalSection(&CriticalSection);
}
// 4C24E0:  int dword_4C24E0
// 4C24E4:  int dword_4C24E4
// 4C24E8:  int dword_4C24E8
// 4C24EC:  int dword_4C24EC
// 4C24F0:  int dword_4C24F0
// 4C24F4:  int dword_4C24F4
// 4C2500:  int dword_4C2500
// 4C2504:  int dword_4C2504
// 4C2510:  int dword_4C2510
// 4C2514:  int dword_4C2514
// 4C2520:  int dword_4C2520

//----- (0044D8B0) --------------------------------------------------------
int __cdecl sub_44D8B0(int a1)
{
  int result; // eax
  __int16 v2; // cx
  __int16 v3; // dx

  result = 439 * a1;
  LOWORD(dword_4C257C[result]) = 0;
  HIWORD(dword_4C257C[result]) = 0;
  LOWORD(dword_4C2584[result]) = 0;
  v2 = dword_4C24EC[439 * a1];
  HIWORD(dword_4C2584[result]) = 0;
  v3 = dword_4C24F0[439 * a1];
  LOWORD(dword_4C2580[result]) = v2;
  HIWORD(dword_4C2580[result]) = v3;
  LOWORD(dword_4C2588[result]) = v2;
  HIWORD(dword_4C2588[result]) = v3;
  return result * 4;
}
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C257C:  int dword_4C257C[]
// 4C2580:  int dword_4C2580[]
// 4C2584:  int dword_4C2584[]
// 4C2588:  int dword_4C2588[]

//----- (0044D910) --------------------------------------------------------
void __cdecl sub_44D910(int a1)
{
  if ( (unsigned int)(a1 - 1) <= 0x21 )
  {
    if ( dword_4C24E0[439 * a1] )
    {
      free((void *)dword_4C24E0[439 * a1]);
      dword_4C24E0[439 * a1] = 0;
      dword_4C24E4[439 * a1] = 0;
      LeaveCriticalSection(&CriticalSection);
    }
  }
}
// 4C24E0:  int dword_4C24E0[]
// 4C24E4:  int dword_4C24E4[]

//----- (0044D960) --------------------------------------------------------
_BYTE *__cdecl sub_44D960(int a1, int a2, int a3)
{
  int v3; // ebp
  bool v4; // cc
  unsigned __int8 *v5; // esi
  _BYTE *result; // eax
  int v7; // ecx
  int v8; // edi
  int v9; // edx
  _BYTE *v10; // ecx
  _BYTE *v11; // eax
  int v12; // [esp+8h] [ebp-8h]
  int v13; // [esp+Ch] [ebp-4h]
  _BYTE *v14; // [esp+14h] [ebp+4h]
  unsigned __int8 *v15; // [esp+18h] [ebp+8h]

  v3 = 439 * a2;
  v4 = dword_4C24F0[439 * a2] <= 0;
  v5 = (unsigned __int8 *)dword_4C24E4[439 * a2];
  v13 = 439 * a1;
  result = (_BYTE *)dword_4C24E4[439 * a1];
  v15 = v5;
  v14 = result;
  v12 = 0;
  if ( !v4 )
  {
    v7 = dword_4C24EC[v3];
    do
    {
      v8 = 0;
      if ( v7 > 0 )
      {
        do
        {
          v9 = *v5;
          *result = 0;
          v10 = (_BYTE *)(v9 + a3 + 2 * v9);
          result[1] = v10[2];
          v11 = result + 2;
          *v11++ = v10[1];
          *v11 = *v10;
          v7 = dword_4C24EC[v3];
          ++v8;
          result = v11 + 1;
          ++v5;
        }
        while ( v8 < v7 );
        v5 = v15;
      }
      result = &v14[-dword_4C24E8[v13]];
      v5 -= dword_4C24E8[v3];
      v4 = v12 + 1 < dword_4C24F0[v3];
      v15 = v5;
      v14 = result;
      ++v12;
    }
    while ( v4 );
  }
  return result;
}
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]

//----- (0044DA20) --------------------------------------------------------
int __cdecl sub_44DA20(int a1, int a2, int a3)
{
  int v3; // ebp
  bool v4; // cc
  int v5; // edx
  int result; // eax
  int v7; // ecx
  int v8; // edi
  unsigned __int8 *v9; // esi
  _BYTE *v10; // ecx
  _BYTE *v11; // eax
  int v12; // [esp+4h] [ebp-4h]
  int v13; // [esp+Ch] [ebp+4h]
  int v14; // [esp+10h] [ebp+8h]

  v3 = 439 * a2;
  v4 = dword_4C24F0[439 * a2] <= 0;
  v5 = dword_4C24E4[439 * a2];
  v12 = 439 * a1;
  result = dword_4C24E4[439 * a1];
  v14 = result;
  v13 = 0;
  if ( !v4 )
  {
    v7 = dword_4C24EC[v3];
    do
    {
      v8 = 0;
      v9 = (unsigned __int8 *)v5;
      if ( v7 > 0 )
      {
        do
        {
          v10 = (_BYTE *)(a3 + 4 * *v9);
          v11 = (_BYTE *)(result + 1);
          *(v11 - 1) = -1 - v10[3];
          *v11++ = *v10;
          *v11++ = v10[1];
          *v11 = v10[2];
          v7 = dword_4C24EC[v3];
          ++v8;
          result = (int)(v11 + 1);
          ++v9;
        }
        while ( v8 < v7 );
        result = v14;
      }
      result -= dword_4C24E8[v12];
      v5 -= dword_4C24E8[v3];
      v4 = v13 + 1 < dword_4C24F0[v3];
      v14 = result;
      ++v13;
    }
    while ( v4 );
  }
  return result;
}
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]

//----- (0044DAE0) --------------------------------------------------------
_BYTE *__cdecl sub_44DAE0(int a1, int a2, int a3)
{
  int v3; // ebp
  bool v4; // cc
  int v5; // ebx
  _BYTE *result; // eax
  int v7; // ecx
  int v8; // edi
  _BYTE *v9; // esi
  _BYTE *v10; // ecx
  _BYTE *v11; // eax
  int v12; // [esp+8h] [ebp-4h]
  int v13; // [esp+10h] [ebp+4h]
  _BYTE *v14; // [esp+14h] [ebp+8h]

  v3 = 439 * a2;
  v4 = dword_4C24F0[439 * a2] <= 0;
  v5 = dword_4C24E4[439 * a2];
  v12 = 439 * a1;
  result = (_BYTE *)dword_4C24E4[439 * a1];
  v14 = result;
  v13 = 0;
  if ( !v4 )
  {
    v7 = dword_4C24EC[v3];
    do
    {
      v8 = 0;
      v9 = (_BYTE *)v5;
      if ( v7 > 0 )
      {
        do
        {
          *result = *v9;
          v10 = (_BYTE *)((unsigned __int8)v9[1] + a3 + 2 * (unsigned __int8)v9[1]);
          result[1] = v10[2];
          v11 = result + 2;
          *v11++ = v10[1];
          *v11 = *v10;
          v7 = dword_4C24EC[v3];
          ++v8;
          result = v11 + 1;
          v9 += 2;
        }
        while ( v8 < v7 );
        result = v14;
      }
      result -= dword_4C24E8[v12];
      v5 -= dword_4C24E8[v3];
      v4 = v13 + 1 < dword_4C24F0[v3];
      v14 = result;
      ++v13;
    }
    while ( v4 );
  }
  return result;
}
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]

//----- (0044DBA0) --------------------------------------------------------
_BYTE *__cdecl sub_44DBA0(_BYTE *a1, _BYTE *a2, int a3)
{
  _BYTE *result; // eax
  _BYTE *v4; // ecx
  int v5; // esi
  char v6; // dl
  _BYTE *v7; // eax
  char v8; // dl
  _BYTE *v9; // ecx
  char v10; // dl

  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  result = a1 + 3;
  v4 = a2 + 3;
  if ( a3 > 1 )
  {
    v5 = a3 - 1;
    do
    {
      v6 = *v4 + *(result - 3);
      v7 = result + 1;
      *(v7 - 1) = v6;
      v8 = v4[1] + *(v7 - 3);
      v9 = v4 + 1;
      *v7 = v8;
      v10 = v9[1] + *(v7 - 2);
      *++v7 = v10;
      result = v7 + 1;
      v4 = v9 + 2;
      --v5;
    }
    while ( v5 );
  }
  return result;
}

//----- (0044DC00) --------------------------------------------------------
_BYTE *__cdecl sub_44DC00(_BYTE *a1, _BYTE *a2, _BYTE *a3, _BYTE *a4)
{
  _BYTE *result; // eax
  int v5; // edi

  result = a4;
  v5 = 3 * (_DWORD)a4;
  if ( 3 * (int)a4 > 0 )
  {
    result = a1;
    do
    {
      *result++ = *a3++ + *a2++;
      --v5;
    }
    while ( v5 );
  }
  return result;
}

//----- (0044DC40) --------------------------------------------------------
_BYTE *__cdecl sub_44DC40(_BYTE *a1, _BYTE *a2, _BYTE *a3, int a4)
{
  _BYTE *result; // eax
  _BYTE *v5; // ecx
  int v7; // edi
  char v8; // dl
  _BYTE *v9; // ecx
  char v10; // dl
  _BYTE *v11; // esi
  _BYTE *v12; // eax

  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  result = a1 + 3;
  v5 = a2 + 3;
  if ( a4 > 1 )
  {
    v7 = a4 - 1;
    do
    {
      v8 = *a3 + *v5;
      v9 = v5 + 1;
      *result = v8;
      v10 = a3[1] + *v9;
      v11 = a3 + 1;
      v12 = result + 1;
      *v12++ = v10;
      *v12 = v11[1] + v9[1];
      result = v12 + 1;
      v5 = v9 + 2;
      a3 = v11 + 2;
      --v7;
    }
    while ( v7 );
  }
  return result;
}

//----- (0044DCA0) --------------------------------------------------------
_BYTE *__cdecl sub_44DCA0(_BYTE *a1, _BYTE *a2, int a3, int a4)
{
  int v6; // edi
  _BYTE *v7; // esi
  char v8; // dl
  _BYTE *v9; // ecx
  char v10; // dl
  _BYTE *v11; // esi
  _BYTE *v12; // eax
  _BYTE *result; // eax

  v6 = a4 - 1;
  v7 = (_BYTE *)(a3 + 3);
  if ( a4 - 1 > 0 )
  {
    do
    {
      v8 = *v7 + *a2;
      v9 = a2 + 1;
      *a1 = v8;
      v10 = v7[1] + *v9;
      v11 = v7 + 1;
      v12 = a1 + 1;
      *v12++ = v10;
      *v12 = v11[1] + v9[1];
      a1 = v12 + 1;
      a2 = v9 + 2;
      v7 = v11 + 2;
      --v6;
    }
    while ( v6 );
  }
  *a1 = *a2;
  result = a1 + 1;
  *result = a2[1];
  result[1] = a2[2];
  return result;
}

//----- (0044DD00) --------------------------------------------------------
char *__cdecl sub_44DD00(_BYTE *a1, char *a2, int a3, int a4)
{
  char *result; // eax
  int v6; // ebp
  int v7; // esi
  char v8; // bl
  int v9; // ecx

  result = a2;
  v6 = 3;
  do
  {
    v7 = a4;
    while ( v7 > 0 )
    {
      v8 = *result;
      *a1 = *result++;
      a1 += 3;
      if ( !--v7 )
        break;
      if ( v8 == *result )
      {
        v9 = (unsigned __int8)result[1];
        result += 2;
        v7 -= v9;
        if ( v9 )
        {
          do
          {
            *a1 = v8;
            --v9;
            a1 += 3;
          }
          while ( v9 > 0 );
        }
      }
    }
    a1 += 1 - 3 * a4;
    --v6;
  }
  while ( v6 );
  return result;
}

//----- (0044DD70) --------------------------------------------------------
_BYTE *__cdecl sub_44DD70(_BYTE *a1, _BYTE *a2, int a3)
{
  _BYTE *result; // eax
  _BYTE *v4; // ecx
  int v5; // esi
  char v6; // dl
  _BYTE *v7; // eax
  char v8; // dl
  _BYTE *v9; // ecx
  char v10; // dl
  char v11; // dl

  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  result = a1 + 4;
  v4 = a2 + 4;
  if ( a3 > 1 )
  {
    v5 = a3 - 1;
    do
    {
      v6 = *v4 + *(result - 4);
      v7 = result + 1;
      *(v7 - 1) = v6;
      v8 = v4[1] + *(v7 - 4);
      v9 = v4 + 1;
      *v7 = v8;
      v10 = v9[1] + *(v7 - 3);
      ++v7;
      ++v9;
      *v7 = v10;
      v11 = v9[1] + *(v7 - 3);
      *++v7 = v11;
      result = v7 + 1;
      v4 = v9 + 2;
      --v5;
    }
    while ( v5 );
  }
  return result;
}

//----- (0044DDE0) --------------------------------------------------------
void __cdecl sub_44DDE0(_BYTE *a1, _BYTE *a2, _BYTE *a3, int a4)
{
  int v4; // edi

  v4 = 4 * a4;
  if ( 4 * a4 > 0 )
  {
    do
    {
      *a1++ = *a3++ + *a2++;
      --v4;
    }
    while ( v4 );
  }
}

//----- (0044DE20) --------------------------------------------------------
_BYTE *__cdecl sub_44DE20(_BYTE *a1, _BYTE *a2, _BYTE *a3, int a4)
{
  _BYTE *result; // eax
  _BYTE *v5; // ecx
  int v7; // edi
  char v8; // dl
  _BYTE *v9; // ecx
  char v10; // dl
  _BYTE *v11; // esi
  char v12; // dl
  _BYTE *v13; // eax

  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  result = a1 + 4;
  v5 = a2 + 4;
  if ( a4 > 1 )
  {
    v7 = a4 - 1;
    do
    {
      v8 = *a3 + *v5;
      v9 = v5 + 1;
      *result = v8;
      v10 = a3[1] + *v9;
      v11 = a3 + 1;
      result[1] = v10;
      v12 = *++v11 + *++v9;
      v13 = result + 2;
      *v13++ = v12;
      *v13 = v11[1] + v9[1];
      result = v13 + 1;
      v5 = v9 + 2;
      a3 = v11 + 2;
      --v7;
    }
    while ( v7 );
  }
  return result;
}

//----- (0044DEA0) --------------------------------------------------------
_BYTE *__cdecl sub_44DEA0(_BYTE *a1, _BYTE *a2, int a3, int a4)
{
  int v6; // edi
  _BYTE *v7; // esi
  char v8; // dl
  _BYTE *v9; // ecx
  char v10; // dl
  _BYTE *v11; // esi
  char v12; // dl
  _BYTE *v13; // eax
  char v14; // dl
  _BYTE *v15; // ecx
  _BYTE *result; // eax

  v6 = a4 - 1;
  v7 = (_BYTE *)(a3 + 4);
  if ( a4 - 1 > 0 )
  {
    do
    {
      v8 = *v7 + *a2;
      v9 = a2 + 1;
      *a1 = v8;
      v10 = v7[1] + *v9;
      v11 = v7 + 1;
      a1[1] = v10;
      v12 = *++v11 + *++v9;
      v13 = a1 + 2;
      *v13++ = v12;
      *v13 = v11[1] + v9[1];
      a1 = v13 + 1;
      a2 = v9 + 2;
      v7 = v11 + 2;
      --v6;
    }
    while ( v6 );
  }
  *a1 = *a2;
  v14 = a2[1];
  v15 = a2 + 1;
  a1[1] = v14;
  result = a1 + 2;
  *result = v15[1];
  result[1] = v15[2];
  return result;
}

//----- (0044DF20) --------------------------------------------------------
char *__cdecl sub_44DF20(_BYTE *a1, char *a2, int a3, int a4)
{
  char *result; // eax
  int v6; // ebp
  int v7; // esi
  char v8; // bl
  int v9; // ecx

  result = a2;
  v6 = 4;
  do
  {
    v7 = a4;
    while ( v7 > 0 )
    {
      v8 = *result;
      *a1 = *result++;
      a1 += 4;
      if ( !--v7 )
        break;
      if ( v8 == *result )
      {
        v9 = (unsigned __int8)result[1];
        result += 2;
        v7 -= v9;
        if ( v9 )
        {
          do
          {
            *a1 = v8;
            --v9;
            a1 += 4;
          }
          while ( v9 > 0 );
        }
      }
    }
    a1 += 1 - 4 * a4;
    --v6;
  }
  while ( v6 );
  return result;
}

//----- (0044DFD0) --------------------------------------------------------
void *__cdecl sub_44DFD0(int a1)
{
  int v1; // esi
  void *result; // eax
  int v3; // ebp
  int v4; // ebx
  int v5; // eax
  char *v6; // edx
  char *v7; // edi
  int v8; // eax
  char *v9; // ecx
  int v10; // edx
  char v11; // al
  CHAR FileName[260]; // [esp+4h] [ebp-108h] BYREF

  sub_406D20(FileName, (int)&off_48B9AC, a1, ".crm");
  v1 = _open(FileName, 0x8000, 0);
  if ( v1 == -1 )
    return 0;
  result = malloc(MaxCharCount);
  v3 = (int)result;
  if ( result )
  {
    MaxCharCount = _read(v1, result, MaxCharCount);
    _close(v1);
    v4 = dword_4C24C0;
    if ( dword_4C24C0 >= 12 )
    {
      free(*(&Block + 9 * dword_4C24C0));
      v4 = dword_4C24C0 - 1;
    }
    v5 = v4;
    if ( v4 > 0 )
    {
      v6 = (char *)(36 * v4 + 4985288);
      do
      {
        v7 = v6;
        --v5;
        v6 -= 36;
        qmemcpy(v7, v6, 0x24u);
      }
      while ( v5 > 0 );
    }
    v8 = 9 * v5;
    v9 = &byte_4C1378;
    dword_4C24C0 = v4 + 1;
    dword_4C11E8[v8] = v3;
    v10 = (_UNKNOWN *)((char *)&unk_4C11C8 + v8 * 4) - (_UNKNOWN *)&byte_4C1378;
    do
    {
      v11 = *v9;
      v9[v10] = *v9;
      ++v9;
    }
    while ( v11 );
    return (void *)v3;
  }
  return result;
}
// 48B9AC:  void *off_48B9AC
// 4C11E8:  int dword_4C11E8[]
// 4C1378:  char byte_4C1378
// 4C24C0:  int dword_4C24C0

//----- (0044E120) --------------------------------------------------------
int __cdecl sub_44E120(const char *a1)
{
  int v1; // ebx
  const char *i; // esi
  int result; // eax
  char *v4; // eax
  int j; // edx
  char *v6; // edi
  int v7[9]; // [esp+10h] [ebp-28h] BYREF

  v1 = 0;
  if ( dword_4C24C0 <= 0 )
    return 0;
  for ( i = (const char *)&unk_4C11C8; strcmp(i, a1); i += 36 )
  {
    if ( ++v1 >= dword_4C24C0 )
      return 0;
  }
  v4 = (char *)(36 * v1 + 4985288);
  qmemcpy(v7, v4, sizeof(v7));
  for ( j = v1; j > 0; --j )
  {
    v6 = v4;
    v4 -= 36;
    qmemcpy(v6, v4, 0x24u);
  }
  result = v7[8];
  qmemcpy(&unk_4C11C8, v7, 0x24u);
  return result;
}
// 4C24C0:  int dword_4C24C0

//----- (0044E1F0) --------------------------------------------------------
char *__cdecl sub_44E1F0(char *a1, _BYTE *a2)
{
  char *result; // eax
  char v3; // cl
  _BYTE *v4; // edx

  result = a1;
  if ( *a1 )
  {
    while ( *result != 44 )
    {
      if ( !*++result )
        goto LABEL_4;
    }
  }
  else
  {
LABEL_4:
    if ( *result != 44 )
    {
      *a2 = 0;
      return result;
    }
  }
  *result = 0;
  v3 = *++result;
  if ( v3 )
  {
    v4 = a2;
    do
    {
      ++result;
      *v4 = v3;
      v3 = *result;
      ++v4;
    }
    while ( *result );
    *v4 = 0;
  }
  else
  {
    result = a2;
    *a2 = 0;
  }
  return result;
}

//----- (0044E240) --------------------------------------------------------
int __cdecl sub_44E240(int a1)
{
  int result; // eax
  __int16 v2; // si
  __int16 v3; // di
  signed int v4; // ecx
  signed int v5; // edx
  __int16 v6; // si
  __int16 v7; // di

  result = a1;
  if ( a1 != -1 )
  {
    result = 1756 * a1;
    if ( dword_4C2578[439 * a1] >= 1 )
    {
      v2 = dword_4C2584[439 * a1];
      v3 = HIWORD(dword_4C2584[439 * a1]);
      v4 = (SLOWORD(dword_4C2588[439 * a1]) + v2 + 3) & 0xFFFFFFFC;
      v5 = (v3 + SHIWORD(dword_4C2588[439 * a1]) + 3) & 0xFFFFFFFC;
      if ( v4 > SLOWORD(dword_4C2580[439 * a1]) )
        LOWORD(v4) = dword_4C2580[439 * a1];
      if ( v5 > SHIWORD(dword_4C2580[439 * a1]) )
        LOWORD(v5) = HIWORD(dword_4C2580[439 * a1]);
      v6 = v2 & 0xFFFC;
      v7 = v3 & 0xFFFC;
      HIWORD(dword_4C2584[439 * a1]) = v7;
      LOWORD(dword_4C2584[439 * a1]) = v6;
      LOWORD(dword_4C2588[439 * a1]) = v4 - v6;
      HIWORD(dword_4C2588[439 * a1]) = v5 - v7;
    }
  }
  return result;
}
// 4C2578:  int dword_4C2578[]
// 4C2580:  int dword_4C2580[]
// 4C2584:  int dword_4C2584[]
// 4C2588:  int dword_4C2588[]

//----- (0044E2E0) --------------------------------------------------------
int __cdecl sub_44E2E0(char *a1)
{
  char *v1; // esi
  char v2; // al
  int i; // edi

  v1 = a1;
  v2 = *a1;
  for ( i = 0; v2; ++v1 )
  {
    if ( isdigit(v2) )
    {
      i = *v1 + 10 * i - 48;
    }
    else if ( isalpha(*v1) )
    {
      i = (*v1 & 3) + 4 * i;
    }
    else
    {
      i = (*v1 & 1) + 2 * i;
    }
    v2 = v1[1];
  }
  return i;
}

//----- (0044E340) --------------------------------------------------------
int __cdecl sub_44E340(int a1, int a2)
{
  _DWORD *v2; // eax
  int v3; // eax

  if ( a1 == -1 )
    return -1;
  v2 = (_DWORD *)dword_4C24E0[439 * a1];
  if ( !v2 )
    return -1;
  v3 = *v2 == 1113084483 ? v2[2] : *v2;
  if ( a2 < 0 || a2 >= v3 )
    return -1;
  else
    return 0;
}
// 4C24E0:  int dword_4C24E0[]

//----- (0044E380) --------------------------------------------------------
char __cdecl sub_44E380(int a1)
{
  int v1; // eax
  bool v2; // zf
  int v3; // ecx
  int v4; // ebx
  int v5; // ebp
  _BYTE *v6; // ecx
  int v7; // esi
  int v8; // eax
  _BYTE *v9; // ecx
  int v10; // eax
  int v11; // eax
  int v12; // ebp
  _BYTE *v13; // ecx
  int v14; // esi
  int v15; // eax
  _BYTE *v16; // ecx
  int v17; // eax
  int v19; // [esp+14h] [ebp+4h]

  LOBYTE(v1) = -36 * a1;
  v2 = dword_4C24F4[439 * a1] == 1;
  v3 = dword_4C24F0[439 * a1];
  v4 = dword_4C24EC[439 * a1];
  v19 = dword_4C24E0[439 * a1];
  if ( v2 )
  {
    if ( v3 > 0 )
    {
      v5 = v3;
      do
      {
        v6 = (_BYTE *)v19;
        if ( v4 > 0 )
        {
          v7 = v4;
          do
          {
            if ( *v6 == 0xFF )
            {
              v6 += 4;
            }
            else
            {
              v8 = 3 * (unsigned __int8)v6[1];
              v9 = v6 + 1;
              *v9 = v8 / 4 + 16;
              v10 = (unsigned __int8)*++v9;
              *v9 = 3 * v10 / 4;
              v11 = (unsigned __int8)*++v9;
              v1 = 3 * v11 / 4;
              *v9 = v1;
              v6 = v9 + 1;
            }
            --v7;
          }
          while ( v7 );
        }
        v19 += (4 * v4 + 3) & 0xFFFFFFFC;
        --v5;
      }
      while ( v5 );
    }
  }
  else if ( v3 > 0 )
  {
    v12 = v3;
    do
    {
      v13 = (_BYTE *)v19;
      if ( v4 > 0 )
      {
        v14 = v4;
        do
        {
          LOBYTE(v1) = *v13;
          if ( *v13 == 0xFF && !v13[1] && v13[2] == 0xFF )
          {
            v13 += 3;
          }
          else
          {
            *v13 = 3 * (unsigned __int8)v1 / 4 + 16;
            v15 = (unsigned __int8)v13[1];
            v16 = v13 + 1;
            *v16 = 3 * v15 / 4;
            v17 = (unsigned __int8)*++v16;
            v1 = 3 * v17 / 4;
            *v16 = v1;
            v13 = v16 + 1;
          }
          --v14;
        }
        while ( v14 );
      }
      v19 += (3 * v4 + 3) & 0xFFFFFFFC;
      --v12;
    }
    while ( v12 );
  }
  return v1;
}
// 4C24E0:  int dword_4C24E0[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]

//----- (0044E4B0) --------------------------------------------------------
unsigned __int8 __cdecl sub_44E4B0(int a1)
{
  unsigned __int8 result; // al
  bool v2; // zf
  int v3; // ecx
  int v4; // ebx
  int v5; // ebp
  _BYTE *v6; // ecx
  int v7; // esi
  int v8; // edx
  unsigned __int8 *v9; // ecx
  int v10; // edx
  int v11; // edx
  int v12; // ebp
  unsigned __int8 *v13; // ecx
  int v14; // esi
  int v15; // edx
  unsigned __int8 *v16; // ecx
  int v17; // edx
  int v18; // [esp+14h] [ebp+4h]

  result = -36 * a1;
  v2 = dword_4C24F4[439 * a1] == 1;
  v3 = dword_4C24F0[439 * a1];
  v4 = dword_4C24EC[439 * a1];
  v18 = dword_4C24E0[439 * a1];
  if ( v2 )
  {
    if ( v3 > 0 )
    {
      v5 = v3;
      do
      {
        v6 = (_BYTE *)v18;
        if ( v4 > 0 )
        {
          v7 = v4;
          do
          {
            if ( *v6 == 0xFF )
            {
              v6 += 4;
            }
            else
            {
              v8 = (unsigned __int8)v6[1];
              v9 = v6 + 1;
              *v9 = 7 * v8 / 8;
              v10 = *++v9;
              *v9 = 7 * v10 / 8 + 8;
              v11 = *++v9;
              result = 7 * v11 / 8 + 32;
              *v9 = result;
              v6 = v9 + 1;
            }
            --v7;
          }
          while ( v7 );
        }
        v18 += (4 * v4 + 3) & 0xFFFFFFFC;
        --v5;
      }
      while ( v5 );
    }
  }
  else if ( v3 > 0 )
  {
    v12 = v3;
    do
    {
      v13 = (unsigned __int8 *)v18;
      if ( v4 > 0 )
      {
        v14 = v4;
        do
        {
          result = *v13;
          if ( *v13 == 0xFF && !v13[1] && v13[2] == 0xFF )
          {
            v13 += 3;
          }
          else
          {
            *v13 = 7 * result / 8;
            v15 = v13[1];
            v16 = v13 + 1;
            *v16 = 7 * v15 / 8 + 8;
            v17 = *++v16;
            result = 7 * v17 / 8 + 32;
            *v16 = result;
            v13 = v16 + 1;
          }
          --v14;
        }
        while ( v14 );
      }
      v18 += (3 * v4 + 3) & 0xFFFFFFFC;
      --v12;
    }
    while ( v12 );
  }
  return result;
}
// 4C24E0:  int dword_4C24E0[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]

//----- (0044E610) --------------------------------------------------------
int __cdecl sub_44E610(char *Src, char *a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  __int64 v8; // rax
  int v9; // esi
  int v10; // edi
  int v11; // ecx
  int v12; // ebx
  int v13; // eax
  int v14; // edx
  int v15; // ecx
  int v16; // ecx
  int v17; // ebp
  int v18; // ebx
  int v19; // ecx
  int v20; // edi
  int v21; // eax
  int v22; // eax
  bool v23; // zf
  unsigned __int8 *v24; // edx
  int v25; // esi
  int v26; // ecx
  int v28; // [esp+4h] [ebp-54h]
  int v29; // [esp+8h] [ebp-50h]
  int v30; // [esp+Ch] [ebp-4Ch]
  int v31; // [esp+10h] [ebp-48h]
  int v32; // [esp+14h] [ebp-44h]
  int v33; // [esp+18h] [ebp-40h]
  int v34; // [esp+1Ch] [ebp-3Ch]
  int v35; // [esp+20h] [ebp-38h]
  int v36; // [esp+24h] [ebp-34h]
  int v37; // [esp+28h] [ebp-30h]
  int v38; // [esp+2Ch] [ebp-2Ch]
  int v39; // [esp+30h] [ebp-28h]
  int v40; // [esp+34h] [ebp-24h]
  char *v41; // [esp+38h] [ebp-20h]
  int v42; // [esp+3Ch] [ebp-1Ch]
  int v43; // [esp+40h] [ebp-18h]
  int v44; // [esp+44h] [ebp-14h]
  int v45; // [esp+48h] [ebp-10h]
  int v46; // [esp+4Ch] [ebp-Ch]
  int v47; // [esp+50h] [ebp-8h]
  int v48; // [esp+54h] [ebp-4h]
  int v49; // [esp+74h] [ebp+1Ch]

  if ( a7 == 10000 && a8 == 10000 )
  {
    LODWORD(v8) = memcpy(a2, Src, a6 * a3);
  }
  else
  {
    v9 = a7 * a5 / 10000;
    v8 = 1759218605i64 * a8 * a6;
    SHIDWORD(v8) >>= 12;
    v10 = HIDWORD(v8) + (HIDWORD(v8) >> 31);
    v28 = v9;
    v40 = v10;
    if ( v10 > 0 )
    {
      LODWORD(v8) = a2;
      v11 = 0;
      v41 = a2;
      v42 = HIDWORD(v8) + (HIDWORD(v8) >> 31);
      do
      {
        v38 = v8;
        v12 = v11 + a6;
        v13 = (v11 + a6) / v10;
        v49 = v11 / v10;
        v14 = v10 * (v11 / v10 + 1) - v11;
        v48 = v11 + a6;
        v35 = v14;
        v15 = (v11 + a6) % v10;
        v30 = v13;
        v43 = v15;
        if ( v49 == v13 )
          v35 = v15 - v10 + v14;
        if ( v9 > 0 )
        {
          v16 = 0;
          v39 = v9;
          do
          {
            v47 = v16 + a5;
            v17 = v16 / v9;
            v45 = v16 / v9;
            v18 = (v16 + a5) / v9;
            v46 = v18;
            v36 = v9 * (v16 / v9 + 1) - v16;
            v44 = v16 + a5 - v9 * v18;
            if ( v16 / v9 == v18 )
              v36 = a5 - v9 * v18 - v9 + v9 * (v16 / v9 + 1);
            v19 = v49;
            v20 = 0;
            v32 = 0;
            v33 = 0;
            v34 = 0;
            v31 = 0;
            v37 = v49;
            if ( v49 <= v30 )
            {
              v29 = a3 * v49;
              v21 = v30;
              do
              {
                if ( v19 == v49 )
                {
                  v22 = v35;
                }
                else
                {
                  v23 = v19 == v21;
                  v22 = v43;
                  if ( !v23 )
                    v22 = v40;
                }
                if ( v22 )
                {
                  if ( v22 > 4096 )
                    v22 /= 16;
                  v24 = (unsigned __int8 *)&Src[4 * v17 + v29];
                  v25 = v17;
                  if ( v17 <= v18 )
                  {
                    do
                    {
                      if ( v25 == v17 )
                      {
                        v26 = v36;
                      }
                      else
                      {
                        v26 = v44;
                        if ( v25 != v18 )
                          v26 = v28;
                      }
                      if ( v26 )
                      {
                        v20 += v22 * v26;
                        v31 += v22 * v26 * *v24;
                        v32 += v22 * v26 * v24[1];
                        v33 += v22 * v26 * v24[2];
                        v17 = v45;
                        v34 += v22 * v26 * v24[3];
                        v18 = v46;
                      }
                      ++v25;
                      v24 += 4;
                    }
                    while ( v25 <= v18 );
                    v19 = v37;
                  }
                  v9 = v28;
                }
                v29 += a3;
                v21 = v30;
                v37 = ++v19;
              }
              while ( v19 <= v30 );
            }
            v38 += 4;
            *(_BYTE *)(v38 - 4) = v31 / v20;
            *(_BYTE *)(v38 - 3) = v32 / v20;
            *(_BYTE *)(v38 - 2) = v33 / v20;
            v23 = v39-- == 1;
            *(_BYTE *)(v38 - 1) = v34 / v20;
            v16 = v47;
          }
          while ( !v23 );
          v10 = v40;
          v12 = v48;
        }
        LODWORD(v8) = &v41[a4];
        v23 = v42-- == 1;
        v41 += a4;
        v11 = v12;
      }
      while ( !v23 );
    }
  }
  return v8;
}

//----- (0044E8C0) --------------------------------------------------------
void *sub_44E8C0()
{
  void *result; // eax

  memset(&byte_4C1588, 0, 0xF30u);
  result = malloc(0x700000u);
  dword_4C24D0 = result;
  dword_4C24D4 = 0;
  return result;
}
// 4C1588:  char byte_4C1588
// 4C24D4:  int dword_4C24D4

//----- (0044E8F0) --------------------------------------------------------
void sub_44E8F0()
{
  if ( dword_4C24D0 )
    free(dword_4C24D0);
}

//----- (0044E910) --------------------------------------------------------
int __cdecl sub_44E910(const char *a1)
{
  int result; // eax
  const char *i; // esi

  result = 0;
  if ( dword_4C24D4 <= 0 )
    return -1;
  for ( i = &byte_4C1588; strcmp(a1, i); i += 48 )
  {
    if ( ++result >= dword_4C24D4 )
      return -1;
  }
  return result;
}
// 4C1588:  char byte_4C1588
// 4C24D4:  int dword_4C24D4

//----- (0044E970) --------------------------------------------------------
void sub_44E970()
{
  int v0; // ebx
  int v1; // esi
  int *v2; // edi

  v0 = 0;
  v1 = 0;
  if ( dword_4C24D4 > 0 )
  {
    v2 = &dword_4C15A8;
    do
    {
      if ( v1 != *v2 )
      {
        memcpy((char *)dword_4C24D0 + v1, (char *)dword_4C24D0 + *v2, v2[2]);
        *v2 = v1;
      }
      v1 += v2[2];
      ++v0;
      v2 += 12;
    }
    while ( v0 < dword_4C24D4 );
  }
}
// 4C15A8:  int dword_4C15A8
// 4C24D4:  int dword_4C24D4

//----- (0044E9C0) --------------------------------------------------------
char *__cdecl sub_44E9C0(int a1, _DWORD *a2)
{
  int v2; // edi
  int v3; // esi
  int *v4; // eax

  sub_44E970();
  *a2 = dword_4C15AC[12 * a1];
  v2 = dword_4C15B4[12 * a1];
  if ( v2 )
  {
    v3 = dword_4C24D4;
    if ( dword_4C24D4 > 0 )
    {
      v4 = dword_4C15B4;
      do
      {
        if ( *v4 <= v2 )
          ++*v4;
        v4 += 12;
        --v3;
      }
      while ( v3 );
    }
    dword_4C15B4[12 * a1] = 0;
  }
  return (char *)dword_4C24D0 + dword_4C15A8[12 * a1];
}
// 4C15A8:  int dword_4C15A8[]
// 4C15AC:  int dword_4C15AC[]
// 4C15B4:  int dword_4C15B4[]
// 4C24D4:  int dword_4C24D4

//----- (0044EA20) --------------------------------------------------------
int sub_44EA20()
{
  int result; // eax
  int v1; // edi
  int v2; // edx
  int v3; // ecx
  int *v4; // ebp

  result = dword_4C24D4;
  if ( dword_4C24D4 )
  {
    v1 = 0;
    v2 = 0;
    v3 = 0;
    if ( dword_4C24D4 > 0 )
    {
      v4 = &dword_4C15B4;
      do
      {
        if ( *v4 >= v1 )
        {
          v1 = *v4;
          v2 = v3;
        }
        ++v3;
        v4 += 12;
      }
      while ( v3 < dword_4C24D4 );
      if ( v2 < dword_4C24D4 )
        qmemcpy(
          &byte_4C1588[48 * v2],
          (char *)&unk_4C15B8 + 48 * v2,
          4 * ((unsigned int)(48 * (dword_4C24D4 - v2)) >> 2));
    }
    dword_4C24D4 = result - 1;
    result = 48 * (result - 1);
    *(int *)((char *)&dword_4C15A8 + result) = 0;
    *(int *)((char *)&dword_4C15AC + result) = 0;
    *(int *)((char *)&dword_4C15B0 + result) = 0;
    *(int *)((char *)&dword_4C15B4 + result) = 0;
    byte_4C1588[result] = 0;
  }
  return result;
}
// 4C15A8:  int dword_4C15A8
// 4C15AC:  int dword_4C15AC
// 4C15B0:  int dword_4C15B0
// 4C15B4:  int dword_4C15B4
// 4C24D4:  int dword_4C24D4

//----- (0044EAB0) --------------------------------------------------------
int __cdecl sub_44EAB0(int a1)
{
  int v1; // esi
  int v2; // eax
  int v3; // edx
  int *v4; // ecx

  v1 = 0;
  v2 = ((a1 + 127) / 128) << 7;
  v3 = 0;
  if ( dword_4C24D4 > 0 )
  {
    v4 = &dword_4C15A8;
    do
    {
      v1 = *v4 + v4[2];
      if ( !v4[14] )
        break;
      if ( v1 + v2 < v4[12] )
        return v1;
      ++v3;
      v4 += 12;
    }
    while ( v3 < dword_4C24D4 );
  }
  if ( v1 + v2 < 7340032 )
    return v1;
  else
    return -1;
}
// 4C15A8:  int dword_4C15A8
// 4C24D4:  int dword_4C24D4

//----- (0044EB20) --------------------------------------------------------
char *__cdecl sub_44EB20(const char *a1, int a2)
{
  int v2; // ebx
  int v3; // esi
  int v4; // edi
  int v5; // eax
  int v6; // eax
  int *v7; // ecx
  char *v8; // edi
  int v9; // ebp
  int v10; // ebx
  int *v11; // ecx
  int v12; // ecx
  char *result; // eax
  int v14; // [esp+Ch] [ebp-4h]

  v2 = dword_4C24D4;
  if ( dword_4C24D4 >= 80 )
  {
    sub_44EA20();
    v2 = dword_4C24D4;
  }
  v3 = a2;
  v4 = sub_44EAB0(a2);
  v14 = v4;
  if ( v4 == -1 )
  {
    do
    {
      sub_44EA20();
      v5 = sub_44EAB0(a2);
      v14 = v5;
    }
    while ( v5 == -1 );
    v2 = dword_4C24D4;
    v4 = v5;
  }
  v6 = 0;
  if ( v2 > 0 )
  {
    v7 = dword_4C15A8;
    do
    {
      if ( *v7 > v4 )
        break;
      ++v6;
      v7 += 12;
    }
    while ( v6 < v2 );
  }
  if ( v2 >= v6 )
  {
    v8 = (char *)&unk_4C15B8 + 48 * v2;
    v9 = v2 - v6 + 1;
    do
    {
      --v9;
      qmemcpy(v8, v8 - 48, 0x30u);
      v8 -= 48;
    }
    while ( v9 );
    v3 = a2;
    v4 = v14;
  }
  v10 = v2 + 1;
  dword_4C24D4 = v10;
  if ( v10 > 0 )
  {
    v11 = dword_4C15B4;
    do
    {
      ++*v11;
      v11 += 12;
      --v10;
    }
    while ( v10 );
  }
  v12 = 12 * v6;
  dword_4C15AC[v12] = v3;
  dword_4C15B0[v12] = ((v3 + 127) / 128) << 7;
  dword_4C15A8[v12] = v4;
  strcpy(&byte_4C1588[48 * v6], a1);
  result = (char *)dword_4C24D0 + v4;
  dword_4C15B4[v12] = 0;
  return result;
}
// 4C15A8:  int dword_4C15A8[]
// 4C15AC:  int dword_4C15AC[]
// 4C15B0:  int dword_4C15B0[]
// 4C15B4:  int dword_4C15B4[]
// 4C24D4:  int dword_4C24D4

//----- (0044EC30) --------------------------------------------------------
BOOL __cdecl sub_44EC30(int a1, int a2)
{
  return a2 <= 1024000;
}

//----- (0044EC50) --------------------------------------------------------
int __cdecl sub_44EC50(int a1, int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // edi
  int v6; // ebp
  int v8; // ebp
  _DWORD *v9; // eax
  _DWORD *v10; // eax
  void *v11; // eax
  int v12; // ecx
  int v13; // [esp+20h] [ebp+10h]

  if ( a3 )
  {
    if ( a3 == 1 )
    {
      v4 = 4 * a1 + 3;
    }
    else if ( a3 == 257 )
    {
      v4 = 2 * a1 + 3;
    }
    else
    {
      v4 = a1 + 3;
    }
  }
  else
  {
    v4 = 3 * a1 + 3;
  }
  v5 = 4 * (v4 / 4);
  if ( a4 > 4096 )
  {
    v6 = a4 - 4096;
    v13 = dword_4C24E0[439 * a4 - 1798144];
    if ( v13 )
    {
      if ( dword_4C24F0[439 * v6] * dword_4C24E8[439 * v6] >= a2 * v5 )
      {
        dword_4C24F0[439 * v6] = a2;
        dword_4C24EC[439 * v6] = a1;
        dword_4C24E8[439 * v6] = v5;
        dword_4C24F4[439 * v6] = a3;
        dword_4C2500[439 * v6] = 0;
        dword_4C2504[439 * v6] = 0;
        dword_4C24E4[439 * v6] = v13 + v5 * (a2 - 1);
        dword_4C2578[439 * v6] = 0;
        dword_4C2510[439 * v6] = 0;
        dword_4C2514[439 * v6] = 0;
        dword_4C2574[439 * v6] = 0;
        sub_44D8B0(v6);
        LeaveCriticalSection(&CriticalSection);
        return v6;
      }
      sub_44EC40(v6);
    }
    if ( v6 >= 10 )
      goto LABEL_14;
LABEL_19:
    v8 = 1;
    v10 = &unk_4C2BBC;
    while ( *v10 )
    {
      v10 += 439;
      ++v8;
      if ( (int)v10 >= (int)&unk_4C6978 )
        goto LABEL_22;
    }
    goto LABEL_23;
  }
  if ( a4 )
    goto LABEL_19;
LABEL_14:
  v8 = 10;
  v9 = &unk_4C6978;
  while ( *v9 )
  {
    v9 += 439;
    ++v8;
    if ( (int)v9 >= (int)&dword_4D14F4 )
      goto LABEL_22;
  }
LABEL_23:
  v11 = malloc(a2 * v5 + 5);
  if ( v11 )
  {
    v12 = 439 * v8;
    dword_4C24E0[v12] = (int)v11;
    dword_4C24EC[v12] = a1;
    dword_4C24E8[v12] = v5;
    dword_4C24F0[v12] = a2;
    dword_4C24F4[v12] = a3;
    dword_4C2500[v12] = 0;
    dword_4C2504[v12] = 0;
    dword_4C24E4[v12] = (int)v11 + v5 * (a2 - 1);
    dword_4C2578[v12] = 0;
    dword_4C2510[v12] = 0;
    dword_4C2514[v12] = 0;
    dword_4C2574[v12] = 0;
    sub_44D8B0(v8);
    LeaveCriticalSection(&CriticalSection);
    return v8;
  }
  else
  {
LABEL_22:
    LeaveCriticalSection(&CriticalSection);
    return -1;
  }
}
// 44ED5B: conditional instruction was optimized away because %arg_C.4!=0
// 4C24E0:  int dword_4C24E0[]
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]
// 4C2500:  int dword_4C2500[]
// 4C2504:  int dword_4C2504[]
// 4C2510:  int dword_4C2510[]
// 4C2514:  int dword_4C2514[]
// 4C2574:  int dword_4C2574[]
// 4C2578:  int dword_4C2578[]
// 4D14F4:  int dword_4D14F4

//----- (0044EE60) --------------------------------------------------------
int __cdecl sub_44EE60(_DWORD *a1, int a2, int a3, int a4)
{
  int v4; // edx
  int v5; // ecx
  int v6; // eax
  int v7; // edx
  char *v8; // ebx
  int result; // eax
  int *v10; // ebx
  int v11; // ebx
  int v12; // eax
  int v13; // edi
  int v14; // esi
  _BYTE *v15; // edi
  unsigned __int8 *v16; // eax
  char *v17; // esi
  _BYTE *v18; // eax
  int v19; // ecx
  int v20; // ecx
  int v21; // esi
  int v22; // ebx
  int v23; // edx
  int v24; // ebx
  bool v25; // zf
  __int16 v26; // cx
  __int16 v27; // dx
  __int16 v28; // ax
  int v29; // [esp-8h] [ebp-458h]
  int v30; // [esp-4h] [ebp-454h]
  int *Src; // [esp+Ch] [ebp-444h]
  char *Srca; // [esp+Ch] [ebp-444h]
  void *Srcb; // [esp+Ch] [ebp-444h]
  void *Srcc; // [esp+Ch] [ebp-444h]
  void *Srcd; // [esp+Ch] [ebp-444h]
  int Size; // [esp+10h] [ebp-440h]
  int v37; // [esp+14h] [ebp-43Ch]
  int v38; // [esp+18h] [ebp-438h]
  unsigned __int8 *Block; // [esp+1Ch] [ebp-434h]
  unsigned __int8 *v40; // [esp+20h] [ebp-430h] BYREF
  int v41; // [esp+24h] [ebp-42Ch] BYREF
  int v42; // [esp+28h] [ebp-428h] BYREF
  int v43; // [esp+2Ch] [ebp-424h] BYREF
  int v44; // [esp+30h] [ebp-420h] BYREF
  int v45; // [esp+38h] [ebp-418h]
  int v46; // [esp+3Ch] [ebp-414h]
  int v47; // [esp+40h] [ebp-410h]
  int v48; // [esp+44h] [ebp-40Ch]
  char v49[1028]; // [esp+48h] [ebp-408h] BYREF
  unsigned __int8 *v50; // [esp+460h] [ebp+10h]

  v50 = (unsigned __int8 *)(a3 - 20);
  v4 = a1[2];
  v5 = *a1;
  v45 = a1[1];
  v6 = a1[3];
  v46 = v4;
  v7 = a1[4];
  v8 = (char *)(a1 + 5);
  v47 = v6;
  v48 = v7;
  Src = a1 + 5;
  if ( v5 != 1196970563 || (_WORD)v6 == 1 || (_WORD)v6 != 2 && (_WORD)v6 != 3 )
    return -1;
  if ( (BYTE2(v6) & 0xFu) > 1 )
    return -1;
  if ( (_WORD)v7 == 258 )
  {
    qmemcpy(v49, v8, 0x400u);
    v10 = a1 + 261;
LABEL_13:
    Src = v10;
    goto LABEL_14;
  }
  if ( (_WORD)v7 == 257 )
  {
    qmemcpy(v49, v8, 0x300u);
    v10 = a1 + 197;
    goto LABEL_13;
  }
  if ( (__int16)v7 > 1 )
  {
    memcpy(v49, a1 + 5, 3 * (__int16)v48);
    v7 = v48;
    v10 = (int *)&v8[3 * (__int16)v48];
    goto LABEL_13;
  }
LABEL_14:
  if ( a4 > 0
    && (dword_4C24EC[439 * a4] < (__int16)v46
     || dword_4C24F0[439 * a4] < SHIWORD(v46)
     || dword_4C24F4[439 * a4] != (__int16)v7
     || HIWORD(v7) != 2) )
  {
    sub_44D910(a4);
    LOWORD(v7) = v48;
    a4 = -1;
  }
  if ( (__int16)v7 <= 1 )
  {
    v30 = a2;
    if ( (_WORD)v7 == 1 )
      v29 = 1;
    else
      v29 = (__int16)v48;
  }
  else
  {
    v30 = 0;
    v29 = (__int16)v48;
  }
  v11 = (__int16)v46;
  v37 = sub_44EC50((__int16)v46, SHIWORD(v46), v29, v30);
  result = -1;
  if ( v37 != -1 )
  {
    if ( (_WORD)v48 )
    {
      if ( (_WORD)v48 == 1 )
      {
        v12 = 4 * (__int16)v46 + 3;
        Size = 4 * (__int16)v46;
      }
      else if ( (_WORD)v48 == 257 )
      {
        v12 = 2 * (__int16)v46 + 3;
        Size = 2 * (__int16)v46;
      }
      else
      {
        v12 = (__int16)v46 + 3;
        Size = (__int16)v46;
      }
    }
    else
    {
      v12 = 3 * (__int16)v46 + 3;
      Size = 3 * (__int16)v46;
    }
    v13 = v12 / 4;
    if ( (__int16)v47 >= 3 )
    {
      v14 = *Src;
      Srca = (char *)(Src + 1);
      dword_4C2578[439 * v37] = v14;
      if ( v14 > 100 )
        dword_4C2578[439 * v37] = 100;
      memcpy(&dword_4C257C[439 * v37], Srca, 16 * dword_4C2578[439 * v37]);
      Src = (int *)&Srca[16 * v14];
    }
    v38 = 4 * v13;
    v15 = (_BYTE *)(dword_4C24E0[439 * v37] + 4 * v13 * (SHIWORD(v46) - 1));
    Block = (unsigned __int8 *)malloc(SHIWORD(v46) * (Size + 1) + 100);
    if ( Block )
    {
      v16 = (unsigned __int8 *)Src;
      v40 = (unsigned __int8 *)(SHIWORD(v46) * (Size + 1) + 100);
      if ( (v47 & 0x100000) != 0 )
      {
        v50 = (unsigned __int8 *)*Src;
        v16 = (unsigned __int8 *)(Src + 1);
      }
      v17 = (char *)Block;
      sub_473920(Block, &v40, v16, v50);
      v18 = 0;
      if ( (_WORD)v48 )
      {
        if ( (_WORD)v48 == 1 )
        {
          if ( SHIWORD(v46) > 0 )
          {
            Srcc = (void *)SHIWORD(v46);
            do
            {
              v20 = (unsigned __int8)*v17++;
              if ( v20 )
              {
                switch ( v20 )
                {
                  case 1:
                    sub_44DDE0(v15, v17, v18, v11);
                    v17 += Size;
                    break;
                  case 2:
                    sub_44DE20(v15, v17, v18, v11);
                    v17 += Size;
                    break;
                  case 3:
                    sub_44DEA0(v15, v17, (int)v18, v11);
                    v17 += Size;
                    break;
                  case 4:
                    v17 = sub_44DF20(v15, v17, (int)v18, v11);
                    break;
                }
              }
              else
              {
                sub_44DD70(v15, v17, v11);
                v17 += Size;
              }
              v18 = v15;
              v15 -= v38;
              Srcc = (char *)Srcc - 1;
            }
            while ( Srcc );
          }
        }
        else if ( SHIWORD(v46) > 0 )
        {
          Srcd = (void *)SHIWORD(v46);
          do
          {
            memcpy(v15, v17, Size);
            v15 -= v38;
            v17 += Size;
            Srcd = (char *)Srcd - 1;
          }
          while ( Srcd );
        }
      }
      else if ( SHIWORD(v46) > 0 )
      {
        Srcb = (void *)SHIWORD(v46);
        do
        {
          v19 = (unsigned __int8)*v17++;
          if ( v19 )
          {
            switch ( v19 )
            {
              case 1:
                sub_44DC00(v15, v17, v18, (_BYTE *)v11);
                v17 += Size;
                break;
              case 2:
                sub_44DC40(v15, v17, v18, v11);
                v17 += Size;
                break;
              case 3:
                sub_44DCA0(v15, v17, (int)v18, v11);
                v17 += Size;
                break;
              case 4:
                v17 = sub_44DD00(v15, v17, (int)v18, v11);
                break;
            }
          }
          else
          {
            sub_44DBA0(v15, v17, v11);
            v17 += Size;
          }
          v18 = v15;
          v15 -= v38;
          Srcb = (char *)Srcb - 1;
        }
        while ( Srcb );
      }
      free(Block);
      v21 = a4;
      if ( a4 != -1 )
      {
        if ( HIWORD(v48) == 2 )
        {
          sub_450980(a4, v37, (__int16)v45, SHIWORD(v45));
          sub_44D910(v37);
          goto LABEL_78;
        }
        sub_44D910(a4);
      }
      v21 = v37;
LABEL_78:
      if ( (_WORD)v48 == 258 )
      {
        v22 = sub_44EC50(v11, SHIWORD(v46), 1, a2);
        sub_44DA20(v22, v21, (int)v49);
      }
      else if ( (_WORD)v48 == 257 )
      {
        v22 = sub_44EC50(v11, SHIWORD(v46), 1, a2);
        sub_44DAE0(v22, v21, (int)v49);
      }
      else
      {
        if ( (__int16)v48 <= 1 )
        {
LABEL_85:
          v23 = SHIWORD(v45);
          v24 = 439 * v21;
          v25 = dword_4C2578[439 * v21] == 0;
          dword_4C2510[v24] = (__int16)v45;
          dword_4C2514[v24] = v23;
          if ( v25 )
          {
            sub_4503B0(v21, &v44, &v43, &v41, &v42);
            v26 = v43;
            v27 = v41 - v44;
            LOWORD(dword_4C2584[439 * v21]) = v44;
            v28 = v42 - v26;
            HIWORD(dword_4C2584[439 * v21]) = v26;
            LOWORD(dword_4C2588[439 * v21]) = v27;
            HIWORD(dword_4C2588[439 * v21]) = v28;
            dword_4C2578[439 * v21] = 1;
          }
          return v21;
        }
        v22 = sub_44EC50(v11, SHIWORD(v46), 1, a2);
        sub_44D960(v22, v21, (int)v49);
      }
      sub_44EC40(v21);
      v21 = v22;
      goto LABEL_85;
    }
    return -1;
  }
  return result;
}
// 4C24E0:  int dword_4C24E0[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]
// 4C2510:  int dword_4C2510[]
// 4C2514:  int dword_4C2514[]
// 4C2578:  int dword_4C2578[]
// 4C257C:  int dword_4C257C[]
// 4C2584:  int dword_4C2584[]
// 4C2588:  int dword_4C2588[]

//----- (0044F420) --------------------------------------------------------
int __cdecl sub_44F420(char *a1, int a2, int a3)
{
  void *v3; // ebp
  char v5; // dl
  char *v6; // eax
  char *i; // ecx
  char *v8; // edx
  char v9; // cl
  char *v10; // eax
  int v12; // edi
  int v13; // esi
  const char *v14; // ebx
  char *v15; // ebx
  int v16; // ebp
  _DWORD *v17; // ebx
  int v18; // edi
  int v19; // eax
  int v20; // esi
  int v21; // ebx
  int v22; // eax
  void *Block; // [esp+4h] [ebp-28h] BYREF
  char v24[32]; // [esp+8h] [ebp-24h] BYREF

  v3 = a1;
  Block = a1;
  if ( !a1 )
    return -1;
  if ( *(_DWORD *)a1 == 1113084483 )
  {
    v5 = byte_4C0B68;
    v6 = &byte_4C0B68;
    for ( i = &byte_4C0B68; v5; ++i )
    {
      if ( v5 == 92 )
        v6 = i + 1;
      v5 = i[1];
    }
    v8 = (char *)(v24 - v6);
    do
    {
      v9 = *v6;
      v6[(_DWORD)v8] = *v6;
      ++v6;
    }
    while ( v9 );
    v10 = (char *)&Block + 3;
    while ( *++v10 )
      ;
    strcpy(v10, ".CRX");
    sub_44E2E0(v24);
    v12 = *((_DWORD *)a1 + 2);
    v13 = 0;
    if ( v12 > 0 )
    {
      v14 = a1 + 24;
      do
      {
        if ( !strcmp(v24, v14) )
          break;
        ++v13;
        v14 += 32;
      }
      while ( v13 < v12 );
    }
    if ( v13 >= v12 )
      return -1;
    v15 = &a1[*(_DWORD *)&a1[32 * v13 + 16]];
    if ( *(_DWORD *)v15 == 1146638915 )
    {
      v16 = sub_44EE60(&a1[*((_DWORD *)v15 + 2)], 1, 0, -1);
      v17 = v15 + 32;
      v18 = sub_44EC50(SLOWORD(dword_4C2580[439 * v16]), SHIWORD(dword_4C2580[439 * v16]), dword_4C24F4[439 * v16], a2);
      v19 = 439 * v18;
      dword_4C257C[v19] = dword_4C257C[439 * v16];
      dword_4C2580[v19] = dword_4C2580[439 * v16];
      dword_4C2584[v19] = dword_4C2584[439 * v16];
      dword_4C2588[v19] = dword_4C2588[439 * v16];
      dword_4C2578[v19] = 1;
      sub_450770(v18, -16711681);
      sub_450840(v18, v16, dword_4C2510[439 * v16], dword_4C2514[439 * v16]);
      sub_44EC40(v16);
      if ( *v17 == 1247302211 )
        v17 = (char *)Block + v17[2] + 32;
      v20 = sub_44EE60(v17, 1, 0, -1);
      sub_450980(v18, v20, dword_4C2510[439 * v20], dword_4C2514[439 * v20]);
      sub_44EC40(v20);
      v3 = Block;
    }
    else
    {
      v21 = sub_44EE60(v15, 1, 0, -1);
      v18 = sub_44EC50(SLOWORD(dword_4C2580[439 * v21]), SHIWORD(dword_4C2580[439 * v21]), dword_4C24F4[439 * v21], a2);
      v22 = 439 * v18;
      dword_4C257C[v22] = dword_4C257C[439 * v21];
      dword_4C2580[v22] = dword_4C2580[439 * v21];
      dword_4C2584[v22] = dword_4C2584[439 * v21];
      dword_4C2588[v22] = dword_4C2588[439 * v21];
      dword_4C2578[v22] = 1;
      sub_450770(v18, -16711681);
      sub_450840(v18, v21, dword_4C2510[439 * v21], dword_4C2514[439 * v21]);
      sub_44EC40(v21);
    }
  }
  else
  {
    v18 = sub_44EE60(a1, a2, MaxCharCount, -1);
  }
  if ( !a3 )
    free(v3);
  if ( v18 != -1 )
  {
    sub_44E240(v18);
    if ( dword_4C24B8 == 1 )
    {
      sub_44E380(v18);
    }
    else if ( dword_4C24B8 == 2 )
    {
      sub_44E4B0(v18);
    }
    strcpy((char *)&dword_4C2520[439 * v18], "_UNPACKED");
  }
  return v18;
}
// 4C0B68:  char byte_4C0B68
// 4C24B8:  int dword_4C24B8
// 4C24F4:  int dword_4C24F4[]
// 4C2510:  int dword_4C2510[]
// 4C2514:  int dword_4C2514[]
// 4C2520:  int dword_4C2520[]
// 4C2578:  int dword_4C2578[]
// 4C257C:  int dword_4C257C[]
// 4C2580:  int dword_4C2580[]
// 4C2584:  int dword_4C2584[]
// 4C2588:  int dword_4C2588[]

//----- (0044F760) --------------------------------------------------------
int __cdecl sub_44F760(int a1, int a2, int a3)
{
  int *v3; // esi
  _DWORD *v4; // eax
  int result; // eax
  int v6; // ecx
  int v7; // ecx
  int v8; // [esp-8h] [ebp-Ch]

  if ( a1 == -1 )
    return -1;
  v3 = (int *)dword_4C24E0[439 * a1];
  if ( !v3 )
    return -1;
  if ( *v3 == 1113084483 )
  {
    if ( a2 >= 0 && a2 < v3[2] )
    {
      dword_4C24B8 = 0;
      v4 = (int *)((char *)v3 + v3[8 * a2 + 4]);
      if ( *v4 == 1146638915 )
        v4 += 8;
      if ( *v4 == 1247302211 )
        v4 = (int *)((char *)v3 + v4[2] + 32);
      result = sub_44EE60(v4, 0, 0, a3);
      goto LABEL_16;
    }
    return -1;
  }
  if ( a3 > 0 )
    sub_44EC40(a3);
  if ( a2 < 0 || a2 >= *v3 )
    return -1;
  v6 = v3[2 * a2 + 1];
  v8 = v3[2 * a2 + 2];
  dword_4C24B8 = 0;
  result = sub_44EE60((int *)((char *)v3 + v6), 0, v8, -1);
LABEL_16:
  if ( result != -1 )
  {
    v7 = 439 * result;
    dword_4C2520[v7] = 1347310943;
    dword_4C2524[v7] = (int)&unk_4B4341;
  }
  return result;
}
// 4C24B8:  int dword_4C24B8
// 4C24E0:  int dword_4C24E0[]
// 4C2520:  int dword_4C2520[]
// 4C2524:  int dword_4C2524[]

//----- (0044F850) --------------------------------------------------------
int __cdecl sub_44F850(const char *a1, int a2, int a3)
{
  int result; // eax
  int v4; // ebp
  int v5; // edi
  _off_t MaxCharCount; // [esp+4h] [ebp-13Ch]
  struct _stat64i32 Stat; // [esp+8h] [ebp-138h] BYREF
  CHAR FileName[260]; // [esp+38h] [ebp-108h] BYREF

  dword_4B5044 = -1;
  if ( !*a1 )
    return -1;
  sub_406D20(FileName, (int)&off_48B9AC, (int)a1, ".pck");
  if ( sub_45D5CC((unsigned __int8 *)FileName, &Stat) == -1 )
    return -1;
  MaxCharCount = Stat.st_size;
  result = sub_44EC50(1, Stat.st_size / 4, 1, a2);
  v4 = result;
  if ( result != -1 )
  {
    result = _open(FileName, 0x8000, 0);
    v5 = result;
    if ( result != -1 )
    {
      _read(result, (void *)dword_4C24E0[439 * v4], MaxCharCount);
      _close(v5);
      strcpy((char *)&dword_4C2520[439 * v4], a1);
      if ( a3 )
      {
        dword_4B5044 = v4;
        return 0;
      }
      else
      {
        return v4;
      }
    }
  }
  return result;
}
// 48B9AC:  void *off_48B9AC
// 4B5044:  int dword_4B5044
// 4C24E0:  int dword_4C24E0[]
// 4C2520:  int dword_4C2520[]

//----- (0044F9C0) --------------------------------------------------------
int sub_44F9C0()
{
  int result; // eax
  char *v1; // eax
  int v2; // esi
  size_t v3; // ecx
  void *v4; // eax
  CHAR FileName[260]; // [esp+8h] [ebp-108h] BYREF

  if ( dword_4B503C != -1 )
  {
    dword_4C1188 = (int)sub_44E9C0(dword_4B503C, &MaxCharCount);
    dword_4C147C = 1;
    result = sub_44F420((char *)dword_4C1188, dword_4C0C6C, 1);
    dword_4B5040 = result;
    if ( result != -1 )
      strcpy((char *)&dword_4C2520[439 * result], &byte_4C0B68);
    goto LABEL_22;
  }
  v1 = (char *)dword_4C1188;
  if ( !byte_4C1378 )
  {
LABEL_8:
    if ( v1 )
    {
LABEL_9:
      dword_4C147C = 1;
      result = sub_44F420(v1, dword_4C0C6C, 1);
      dword_4B5040 = result;
      if ( result != -1 )
        strcpy((char *)&dword_4C2520[439 * result], &byte_4C0B68);
      goto LABEL_22;
    }
    goto LABEL_11;
  }
  if ( dword_4C1188 )
    goto LABEL_9;
  v1 = (char *)sub_44DFD0((int)&byte_4C1378);
  dword_4C1188 = (int)v1;
  if ( v1 )
  {
    dword_4C147C = 1;
    goto LABEL_8;
  }
LABEL_11:
  sub_406D20(FileName, (int)&off_48B9AC, (int)&byte_4C0B68, ".crx");
  v2 = _open(FileName, 0x8000, 0);
  if ( v2 == -1 )
  {
LABEL_17:
    dword_4B5040 = -1;
    result = -1;
    goto LABEL_22;
  }
  if ( sub_44EC30((int)&byte_4C0B68, MaxCharCount) )
  {
    v4 = sub_44EB20(&byte_4C0B68, v3);
    v3 = MaxCharCount;
    dword_4C1188 = (int)v4;
  }
  else
  {
    v4 = (void *)dword_4C1188;
  }
  if ( v4 )
  {
    dword_4C147C = 1;
  }
  else
  {
    v4 = malloc(v3);
    dword_4C1188 = (int)v4;
    if ( !v4 )
      goto LABEL_17;
    v3 = MaxCharCount;
  }
  MaxCharCount = _read(v2, v4, v3);
  _close(v2);
  result = sub_44F420((char *)dword_4C1188, dword_4C0C6C, dword_4C147C);
  dword_4B5040 = result;
  if ( result != -1 )
    strcpy((char *)&dword_4C2520[439 * result], &byte_4C0B68);
LABEL_22:
  dword_4C24BC = 0;
  return result;
}
// 44FB20: variable 'v3' is possibly undefined
// 48B9AC:  void *off_48B9AC
// 4B503C:  int dword_4B503C
// 4B5040:  int dword_4B5040
// 4C0B68:  char byte_4C0B68
// 4C0C6C:  int dword_4C0C6C
// 4C1188:  int dword_4C1188
// 4C1378:  char byte_4C1378
// 4C147C:  int dword_4C147C
// 4C24BC:  int dword_4C24BC
// 4C2520:  int dword_4C2520[]

//----- (0044FBF0) --------------------------------------------------------
int sub_44FBF0()
{
  char *v0; // eax
  int result; // eax
  int v2; // esi
  void *v3; // eax
  CHAR FileName[260]; // [esp+8h] [ebp-108h] BYREF

  v0 = (char *)dword_4C1188;
  if ( !byte_4C1378[0] )
  {
LABEL_5:
    if ( v0 )
    {
LABEL_6:
      dword_4C147C = 1;
      result = sub_44F420(v0, dword_4C0C6C, 1);
      dword_4B5040 = result;
      if ( result != -1 )
        strcpy((char *)&dword_4C2520[439 * result], byte_4C0B68);
      goto LABEL_15;
    }
    goto LABEL_8;
  }
  if ( dword_4C1188 )
    goto LABEL_6;
  v0 = (char *)sub_44DFD0((int)byte_4C1378);
  dword_4C1188 = (int)v0;
  if ( v0 )
  {
    dword_4C147C = 1;
    goto LABEL_5;
  }
LABEL_8:
  sub_406D20(FileName, (int)&off_48B9AC, (int)byte_4C0B68, ".crx");
  v2 = _open(FileName, 0x8000, 0);
  if ( v2 == -1 )
  {
LABEL_11:
    dword_4B5040 = -1;
    result = -1;
    goto LABEL_15;
  }
  v3 = (void *)dword_4C1188;
  if ( dword_4C1188 )
  {
    dword_4C147C = 1;
  }
  else
  {
    v3 = malloc(MaxCharCount);
    dword_4C1188 = (int)v3;
    if ( !v3 )
      goto LABEL_11;
  }
  MaxCharCount = _read(v2, v3, MaxCharCount);
  _close(v2);
  result = sub_44F420((char *)dword_4C1188, dword_4C0C6C, dword_4C147C);
  dword_4B5040 = result;
  if ( result != -1 )
    strcpy((char *)&dword_4C2520[439 * result], byte_4C0B68);
LABEL_15:
  dword_4C24BC = 0;
  return result;
}
// 48B9AC:  void *off_48B9AC
// 4B5040:  int dword_4B5040
// 4C0C6C:  int dword_4C0C6C
// 4C1188:  int dword_4C1188
// 4C147C:  int dword_4C147C
// 4C24BC:  int dword_4C24BC
// 4C2520:  int dword_4C2520[]

//----- (0044FD80) --------------------------------------------------------
void __cdecl __noreturn sub_44FD80()
{
  do
  {
    WaitForSingleObject(hEvent, 0xFFFFFFFF);
    if ( dword_4C24C4 == 2 )
      break;
    sub_44F9C0();
  }
  while ( dword_4C24C4 == 1 );
  dword_4C24C4 = 0;
  _endthread();
}
// 4C24C4:  int dword_4C24C4

//----- (0044FDC0) --------------------------------------------------------
uintptr_t sub_44FDC0()
{
  dword_4C24C4 = 1;
  hEvent = CreateEventA(0, 0, 0, 0);
  return _beginthread((_beginthread_proc_type)sub_44FD80, 0, 0);
}
// 4C24C4:  int dword_4C24C4

//----- (0044FDF0) --------------------------------------------------------
int __cdecl sub_44FDF0(char *a1, int a2, int a3)
{
  char *v3; // eax
  char v4; // cl
  char v5; // al
  char *v6; // ecx
  char *i; // edx
  char v8; // al
  char *v9; // eax
  char v10; // cl
  char *v11; // eax
  char v12; // cl
  char *v13; // eax
  char v14; // cl
  struct _stat64i32 Stat; // [esp+4h] [ebp-138h] BYREF
  CHAR FileName[260]; // [esp+34h] [ebp-108h] BYREF

  if ( !dword_4C24C4 )
    sub_44FDC0();
  v3 = a1;
  if ( !*a1 )
    return -1;
  dword_4C24BC = 1;
  do
  {
    v4 = *v3;
    v3[byte_4C0B68 - a1] = *v3;
    ++v3;
  }
  while ( v4 );
  sub_44E1F0(byte_4C0B68, byte_4C1378);
  dword_4C0C6C = a2;
  v5 = byte_4C0B68[0];
  v6 = byte_4C0B68;
  dword_4C147C = 0;
  dword_4C24B8 = 0;
  dword_4C1188 = 0;
  for ( i = byte_4C0B68; v5; ++v6 )
  {
    if ( v5 == 46 || v5 == 92 || v5 == 47 )
      i = v6;
    v5 = v6[1];
  }
  if ( *i != 46 )
    i = v6;
  v8 = *(i - 1);
  switch ( v8 )
  {
    case '@':
      v9 = i;
      do
      {
        v10 = *v9;
        *(v9 - 1) = *v9;
        ++v9;
      }
      while ( v10 );
      dword_4C24B8 = 1;
      break;
    case '*':
      v11 = i;
      do
      {
        v12 = *v11;
        *(v11 - 1) = *v11;
        ++v11;
      }
      while ( v12 );
      dword_4C24B8 = 2;
      break;
    case '?':
      v13 = i;
      do
      {
        v14 = *v13;
        *(v13 - 1) = *v13;
        ++v13;
      }
      while ( v14 );
      dword_4C24B8 = 3;
      break;
  }
  dword_4B503C = sub_44E910(byte_4C0B68);
  if ( dword_4B503C != -1 )
    goto LABEL_38;
  if ( byte_4C1378[0] )
    sub_406FB0(FileName, (char *)&off_48B9AC, (unsigned int)byte_4C0B68, ".crx");
  else
    sub_406D20(FileName, (int)&off_48B9AC, (int)byte_4C0B68, ".crx");
  if ( !sub_45D5CC((unsigned __int8 *)FileName, &Stat) )
  {
    byte_4C1378[0] = 0;
    MaxCharCount = Stat.st_size;
    goto LABEL_38;
  }
  if ( !byte_4C1378[0] )
  {
LABEL_33:
    dword_4B5040 = -1;
    dword_4C24BC = 0;
    return -1;
  }
  dword_4C1188 = sub_44E120(byte_4C1378);
  if ( !dword_4C1188 )
  {
    sub_406D20(FileName, (int)&off_48B9AC, (int)byte_4C1378, ".crm");
    if ( sub_45D5CC((unsigned __int8 *)FileName, &Stat) )
      goto LABEL_33;
    MaxCharCount = Stat.st_size;
  }
LABEL_38:
  if ( !a3 )
    return sub_44F9C0();
  SetEvent(hEvent);
  return 0;
}
// 48B9AC:  void *off_48B9AC
// 4B503C:  int dword_4B503C
// 4B5040:  int dword_4B5040
// 4C0C6C:  int dword_4C0C6C
// 4C1188:  int dword_4C1188
// 4C147C:  int dword_4C147C
// 4C24B8:  int dword_4C24B8
// 4C24BC:  int dword_4C24BC
// 4C24C4:  int dword_4C24C4

//----- (00450040) --------------------------------------------------------
int __cdecl sub_450040(char *a1, int a2, int a3)
{
  char *v3; // eax
  int result; // eax
  char v5; // cl
  char v6; // al
  char *v7; // ecx
  char *i; // edx
  char v9; // al
  char *v10; // eax
  char v11; // cl
  char *v12; // eax
  char v13; // cl
  char *v14; // eax
  char v15; // cl
  struct _stat64i32 Stat; // [esp+4h] [ebp-138h] BYREF
  CHAR FileName[260]; // [esp+34h] [ebp-108h] BYREF

  if ( !dword_4C24C4 )
    sub_44FDC0();
  v3 = a1;
  if ( !*a1 )
    return -1;
  dword_4C24BC = 1;
  do
  {
    v5 = *v3;
    v3[byte_4C0B68 - a1] = *v3;
    ++v3;
  }
  while ( v5 );
  sub_44E1F0(byte_4C0B68, byte_4C1378);
  dword_4C0C6C = a2;
  v6 = byte_4C0B68[0];
  v7 = byte_4C0B68;
  dword_4C147C = 0;
  dword_4C24B8 = 0;
  dword_4C1188 = 0;
  for ( i = byte_4C0B68; v6; ++v7 )
  {
    if ( v6 == 46 || v6 == 92 || v6 == 47 )
      i = v7;
    v6 = v7[1];
  }
  if ( *i != 46 )
    i = v7;
  v9 = *(i - 1);
  switch ( v9 )
  {
    case '@':
      v10 = i;
      do
      {
        v11 = *v10;
        *(v10 - 1) = *v10;
        ++v10;
      }
      while ( v11 );
      dword_4C24B8 = 1;
      break;
    case '*':
      v12 = i;
      do
      {
        v13 = *v12;
        *(v12 - 1) = *v12;
        ++v12;
      }
      while ( v13 );
      dword_4C24B8 = 2;
      break;
    case '?':
      v14 = i;
      do
      {
        v15 = *v14;
        *(v14 - 1) = *v14;
        ++v14;
      }
      while ( v15 );
      dword_4C24B8 = 3;
      break;
  }
  dword_4B503C = -1;
  if ( byte_4C1378[0] )
    sub_406FB0(FileName, (char *)&off_48B9AC, (unsigned int)byte_4C0B68, ".crx");
  else
    sub_406D20(FileName, (int)&off_48B9AC, (int)byte_4C0B68, ".crx");
  if ( !sub_45D5CC((unsigned __int8 *)FileName, &Stat) )
  {
    byte_4C1378[0] = 0;
    MaxCharCount = Stat.st_size;
    goto LABEL_37;
  }
  if ( !byte_4C1378[0] )
  {
LABEL_35:
    dword_4B5040 = -1;
    result = -1;
    dword_4C24BC = 0;
    return result;
  }
  dword_4C1188 = sub_44E120(byte_4C1378);
  if ( !dword_4C1188 )
  {
    sub_406D20(FileName, (int)&off_48B9AC, (int)byte_4C1378, ".crm");
    if ( sub_45D5CC((unsigned __int8 *)FileName, &Stat) )
      goto LABEL_35;
    MaxCharCount = Stat.st_size;
  }
LABEL_37:
  if ( !a3 )
    return sub_44FBF0();
  SetEvent(hEvent);
  return 0;
}
// 48B9AC:  void *off_48B9AC
// 4B503C:  int dword_4B503C
// 4B5040:  int dword_4B5040
// 4C0C6C:  int dword_4C0C6C
// 4C1188:  int dword_4C1188
// 4C147C:  int dword_4C147C
// 4C24B8:  int dword_4C24B8
// 4C24BC:  int dword_4C24BC
// 4C24C4:  int dword_4C24C4

//----- (00450290) --------------------------------------------------------
int __cdecl sub_450290(int a1, int a2, int a3, int a4)
{
  int result; // eax

  if ( !dword_4D14F4 )
  {
    if ( dword_4BA190 > a1 )
      dword_4BA190 = a1;
    if ( dword_4BA198 < a3 )
      dword_4BA198 = a3;
    if ( dword_4BA194 > a2 )
      dword_4BA194 = a2;
    result = a4;
    if ( dword_4BA19C < a4 )
      dword_4BA19C = a4;
  }
  return result;
}
// 4BA190:  int dword_4BA190
// 4BA194:  int dword_4BA194
// 4BA198:  int dword_4BA198
// 4BA19C:  int dword_4BA19C
// 4D14F4:  int dword_4D14F4

//----- (00450330) --------------------------------------------------------
int __cdecl sub_450330(int a1, int a2, int a3, int a4)
{
  int v4; // edi
  int v5; // esi
  int v6; // edx
  int result; // eax
  int v8; // ecx

  v4 = a1;
  if ( a1 < 0 )
    v4 = 0;
  v5 = a2;
  if ( a2 < 0 )
    v5 = 0;
  v6 = a3;
  if ( a3 > dword_4C24EC[439 * dword_4D14F4] )
    v6 = dword_4C24EC[439 * dword_4D14F4];
  result = dword_4C24F0[439 * dword_4D14F4];
  v8 = a4;
  if ( a4 > result )
    v8 = dword_4C24F0[439 * dword_4D14F4];
  dword_5158D4 = v4;
  dword_5158E8 = v4;
  dword_5158D0 = v5;
  dword_5158DC = v5;
  dword_5158EC = v6;
  dword_5158E4 = v8;
  dword_5158E0 = v6;
  dword_5158D8 = v8;
  return result;
}
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4D14F4:  int dword_4D14F4
// 5158D0:  int dword_5158D0
// 5158D4:  int dword_5158D4
// 5158D8:  int dword_5158D8
// 5158DC:  int dword_5158DC
// 5158E0:  int dword_5158E0
// 5158E4:  int dword_5158E4
// 5158E8:  int dword_5158E8
// 5158EC:  int dword_5158EC

//----- (004503B0) --------------------------------------------------------
int __cdecl sub_4503B0(int a1, int *a2, int *a3, int *a4, int *a5)
{
  int *v5; // ecx
  int result; // eax
  int *v9; // edi
  int v10; // edx
  _BYTE *v11; // ecx
  int v12; // edi
  int i; // eax
  int j; // ebp
  int v15; // ebp
  int v16; // [esp+0h] [ebp-4h]
  int v17; // [esp+8h] [ebp+4h]
  _BYTE *v18; // [esp+14h] [ebp+10h]
  int v19; // [esp+18h] [ebp+14h]

  v5 = a2;
  result = a1;
  v9 = a3;
  *a2 = 0;
  *a3 = 0;
  *a4 = 0;
  *a5 = 0;
  if ( a1 != -1 )
  {
    result = 1756 * a1;
    v17 = result;
    if ( *(int *)((char *)dword_4C24E4 + result) )
    {
      *a4 = *(int *)((char *)dword_4C24EC + result);
      *a5 = *(int *)((char *)dword_4C24F0 + result);
      if ( *(int *)((char *)dword_4C24F4 + result) == 1 )
      {
        v18 = *(_BYTE **)((char *)dword_4C24E4 + result);
        v10 = *(int *)((char *)dword_4C24EC + result);
        result = *(int *)((char *)dword_4C24F0 + result);
        *a2 = v10;
        *a4 = 0;
        *a3 = result;
        v16 = result;
        *a5 = 0;
        v19 = 0;
        if ( result > 0 )
        {
          do
          {
            v11 = v18;
            v12 = -1;
            for ( i = 0; i < v10; v11 += 4 )
            {
              if ( *v11 != 0xFF )
                break;
              ++i;
            }
            for ( j = i; i < v10; v11 += 4 )
            {
              if ( *v11 != 0xFF )
                v12 = i;
              ++i;
            }
            v18 -= *(int *)((char *)dword_4C24E8 + v17);
            v5 = a2;
            if ( v12 == -1 )
            {
              v9 = a3;
              v15 = v19;
            }
            else
            {
              if ( *a2 > j )
                *a2 = j;
              if ( *a4 < v12 )
                *a4 = v12;
              v15 = v19;
              v9 = a3;
              if ( *a3 > v19 )
                *a3 = v19;
              if ( *a5 < v19 )
                *a5 = v19;
            }
            result = v16;
            v19 = v15 + 1;
          }
          while ( v15 + 1 < v16 );
        }
        ++*a4;
        ++*a5;
        *v5 &= 0xFFFFFFFC;
        *v9 &= 0xFFFFFFFC;
        *a4 = (*a4 + 3) & 0xFFFFFFFC;
        *a5 = (*a5 + 3) & 0xFFFFFFFC;
        if ( *a4 > v10 )
          *a4 = v10;
        if ( *a5 > result )
          *a5 = result;
      }
    }
  }
  return result;
}
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]

//----- (00450510) --------------------------------------------------------
void __cdecl sub_450510(int a1, int a2, int a3)
{
  int v3; // ebx
  int v4; // ecx
  int v5; // edi
  int v6; // ebp
  int v7; // edx
  int v8; // edx
  int v9; // ecx
  int v10; // ebp
  int v11; // esi
  _BYTE *v12; // eax
  _BYTE *v13; // ecx
  int v14; // edi
  char v15; // dl
  _BYTE *v16; // eax
  _BYTE *v17; // ecx
  int v18; // [esp+0h] [ebp-4h]
  int v19; // [esp+10h] [ebp+Ch]

  if ( a3 != -1 )
  {
    v3 = dword_4C24E4[439 * a3];
    v18 = 439 * a3;
    if ( v3 )
    {
      if ( dword_4C24F4[439 * a3] == 1 )
      {
        sub_450BB0(a1, a2, a3);
      }
      else
      {
        v4 = a1;
        v5 = a2;
        v6 = a1 + dword_4C24EC[439 * a3];
        v7 = a2 + dword_4C24F0[439 * a3];
        if ( a1 < dword_5158E8 )
        {
          v3 += dword_5158E8 - a1 + 2 * (dword_5158E8 - a1);
          v4 = dword_5158E8;
        }
        if ( a2 < dword_5158DC )
        {
          v3 += dword_4C24E8[439 * a3] * (a2 - dword_5158DC);
          v5 = dword_5158DC;
        }
        if ( v6 > dword_5158E0 )
          v6 = dword_5158E0;
        if ( v7 > dword_5158D8 )
          v7 = dword_5158D8;
        sub_450290(v4, v5, v6, v7);
        v10 = v6 - v9;
        v11 = 3 * v9 + dword_4C24E4[439 * dword_4D14F4] - v5 * dword_4C24E8[439 * dword_4D14F4];
        if ( v10 > 0 && v5 < v8 )
        {
          v19 = v8 - v5;
          do
          {
            v12 = (_BYTE *)v3;
            v13 = (_BYTE *)v11;
            v14 = v10;
            do
            {
              if ( (*(_DWORD *)v12 & 0xFFFFFF) == 16711935 )
              {
                v13 += 3;
                v12 += 3;
              }
              else
              {
                *v13 = *v12;
                v15 = v12[1];
                v16 = v12 + 1;
                v17 = v13 + 1;
                *v17++ = v15;
                *v17 = v16[1];
                v13 = v17 + 1;
                v12 = v16 + 2;
              }
              --v14;
            }
            while ( v14 );
            v11 -= dword_4C24E8[439 * dword_4D14F4];
            v3 -= dword_4C24E8[v18];
            --v19;
          }
          while ( v19 );
        }
      }
    }
  }
}
// 4505F9: conditional instruction was optimized away because ebp.4>=1
// 4505DE: variable 'v9' is possibly undefined
// 4505EB: variable 'v8' is possibly undefined
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]
// 4D14F4:  int dword_4D14F4
// 5158D8:  int dword_5158D8
// 5158DC:  int dword_5158DC
// 5158E0:  int dword_5158E0
// 5158E8:  int dword_5158E8

//----- (00450660) --------------------------------------------------------
int __cdecl sub_450660(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ecx
  int v6; // ebx
  int v7; // edi
  int v8; // edx
  int v9; // edx
  int v10; // ecx
  int result; // eax
  int v12; // edi
  int v13; // esi
  int v14; // edx
  int v15; // ecx
  _BYTE *v16; // eax

  v5 = a1;
  if ( a1 < dword_5158E8 )
    v5 = dword_5158E8;
  v6 = a2;
  if ( a2 < dword_5158DC )
    v6 = dword_5158DC;
  v7 = a3;
  if ( a3 > dword_5158E0 )
    v7 = dword_5158E0;
  v8 = a4;
  if ( a4 > dword_5158D8 )
    v8 = dword_5158D8;
  sub_450290(v5, v6, v7, v8);
  result = 3 * v10;
  v12 = v7 - v10;
  v13 = 3 * v10 + dword_4C24E4[439 * dword_4D14F4] - v6 * dword_4C24E8[439 * dword_4D14F4];
  if ( v12 > 0 && v6 < v9 )
  {
    v14 = v9 - v6;
    do
    {
      result = v13;
      v15 = v12;
      do
      {
        *(_BYTE *)result = byte_4BA1A2[4 * a5];
        v16 = (_BYTE *)(result + 1);
        *v16++ = byte_4BA1A0[4 * a5];
        *v16 = byte_4BA1A1[4 * a5];
        result = (int)(v16 + 1);
        --v15;
      }
      while ( v15 );
      v13 -= dword_4C24E8[439 * dword_4D14F4];
      --v14;
    }
    while ( v14 );
  }
  return result;
}
// 4506E4: conditional instruction was optimized away because edi.4>=1
// 4506C5: variable 'v10' is possibly undefined
// 4506D5: variable 'v9' is possibly undefined
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4D14F4:  int dword_4D14F4
// 5158D8:  int dword_5158D8
// 5158DC:  int dword_5158DC
// 5158E0:  int dword_5158E0
// 5158E8:  int dword_5158E8

//----- (00450740) --------------------------------------------------------
int __cdecl sub_450740(int a1)
{
  int v1; // ecx
  int result; // eax

  result = a1;
  if ( a1 != -1 )
  {
    dword_4D14F4 = dword_4C24E0[439 * a1] != 0 ? a1 : 0;
    v1 = dword_4C24EC[439 * dword_4D14F4];
    result = dword_4C24F0[439 * dword_4D14F4];
    dword_5158D4 = 0;
    dword_5158D0 = 0;
    dword_5158EC = v1;
    dword_5158E4 = result;
    dword_5158E8 = 0;
    dword_5158DC = 0;
    dword_5158E0 = v1;
    dword_5158D8 = result;
  }
  return result;
}
// 4C24E0:  int dword_4C24E0[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4D14F4:  int dword_4D14F4
// 5158D0:  int dword_5158D0
// 5158D4:  int dword_5158D4
// 5158D8:  int dword_5158D8
// 5158DC:  int dword_5158DC
// 5158E0:  int dword_5158E0
// 5158E4:  int dword_5158E4
// 5158E8:  int dword_5158E8
// 5158EC:  int dword_5158EC

//----- (00450770) --------------------------------------------------------
void __cdecl sub_450770(int a1, int a2)
{
  int v2; // eax
  _DWORD *v3; // eax
  int i; // edx
  int v5; // edi
  int v6; // edx
  _BYTE *v7; // eax
  int j; // esi
  _BYTE *v9; // eax

  if ( a1 >= 0 && dword_4C24E4[439 * a1] )
  {
    v2 = dword_4C24F4[439 * a1];
    if ( v2 == 1 )
    {
      v3 = (_DWORD *)dword_4C24E0[439 * a1];
      for ( i = 0; i < dword_4C24EC[439 * a1] * dword_4C24F0[439 * a1]; ++v3 )
      {
        *v3 = a2;
        ++i;
      }
    }
    else if ( !v2 )
    {
      v5 = 0;
      if ( dword_4C24F0[439 * a1] > 0 )
      {
        v6 = dword_4C24EC[439 * a1];
        do
        {
          v7 = (_BYTE *)(dword_4C24E0[439 * a1] + v5 * dword_4C24E8[439 * a1]);
          for ( j = 0; j < v6; v7 = v9 + 1 )
          {
            *v7 = BYTE1(a2);
            v9 = v7 + 1;
            *v9++ = BYTE2(a2);
            *v9 = HIBYTE(a2);
            v6 = dword_4C24EC[439 * a1];
            ++j;
          }
          ++v5;
        }
        while ( v5 < dword_4C24F0[439 * a1] );
      }
    }
  }
}
// 4C24E0:  int dword_4C24E0[]
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]

//----- (00450840) --------------------------------------------------------
void __cdecl sub_450840(int a1, int a2, int a3, int a4)
{
  int v4; // edi
  int v5; // ebx
  int v6; // edx
  int v7; // ecx
  int v8; // eax
  int v9; // ecx
  char *v10; // esi
  int v11; // ebx
  int v12; // ecx
  char *v13; // ebx
  char *v14; // ebx
  int Size; // [esp+4h] [ebp-4h]
  int Sizea; // [esp+4h] [ebp-4h]
  int v17; // [esp+Ch] [ebp+4h]
  int v18; // [esp+Ch] [ebp+4h]

  if ( a1 >= 0 )
  {
    v4 = 439 * a1;
    v5 = dword_4C24E4[439 * a1];
    if ( v5 )
    {
      if ( a2 >= 0 && dword_4C24E4[439 * a2] && dword_4C24F4[439 * a1] == dword_4C24F4[439 * a2] )
      {
        v6 = dword_4C24EC[439 * a2];
        v7 = dword_4C24EC[439 * a1];
        v8 = dword_4C24F0[439 * a2];
        if ( v6 + a3 > v7 )
          v6 = v7 - a3;
        v9 = dword_4C24F0[439 * a1];
        if ( v8 + a4 > v9 )
          v8 = v9 - a4;
        if ( v6 > 0 && v8 > 0 )
        {
          v10 = (char *)dword_4C24E4[439 * a2];
          v11 = v5 - a4 * dword_4C24E8[439 * a1];
          v12 = dword_4C24F4[439 * a1];
          if ( v12 == 1 )
          {
            v13 = (char *)(v11 + 4 * a3);
            Size = 4 * v6;
            v17 = v8;
            do
            {
              memcpy(v13, v10, Size);
              v13 -= dword_4C24E8[v4];
              v10 -= dword_4C24E8[439 * a2];
              --v17;
            }
            while ( v17 );
          }
          else if ( !v12 )
          {
            v14 = (char *)(a3 + v11 + 2 * a3);
            Sizea = 3 * v6;
            v18 = v8;
            do
            {
              memcpy(v14, v10, Sizea);
              v14 -= dword_4C24E8[v4];
              v10 -= dword_4C24E8[439 * a2];
              --v18;
            }
            while ( v18 );
          }
        }
      }
    }
  }
}
// 450905: conditional instruction was optimized away because eax.4>=1
// 45094A: conditional instruction was optimized away because eax.4>=1
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]

//----- (00450980) --------------------------------------------------------
void __cdecl sub_450980(int a1, int a2, int a3, int a4)
{
  int v4; // edi
  int v5; // edx
  int v6; // eax
  int v7; // ebx
  int v8; // ebp
  int v9; // esi
  int v10; // eax
  int v11; // edx
  int v12; // esi
  int v13; // ecx
  int v14; // eax
  int v15; // ebx
  __int16 v16; // cx
  __int16 v17; // ax
  int v18; // eax
  int v19; // esi
  int v20; // ecx
  int v21; // eax
  _BYTE *v22; // ebp
  _BYTE *v23; // eax
  _BYTE *v24; // ecx
  int v25; // edx
  _BYTE *v26; // ecx
  _BYTE *v27; // eax
  int v28; // ebp
  _BYTE *v29; // eax
  _BYTE *v30; // ecx
  int v31; // edx
  _BYTE *v32; // ecx
  _BYTE *v33; // eax
  int v34; // [esp+4h] [ebp-Ch]
  int v35; // [esp+14h] [ebp+4h]

  if ( a1 >= 0 )
  {
    v4 = 439 * a1;
    if ( dword_4C24E4[439 * a1] )
    {
      if ( a2 >= 0 )
      {
        v5 = 439 * a2;
        if ( dword_4C24E4[439 * a2] )
        {
          if ( dword_4C24F4[439 * a1] == dword_4C24F4[439 * a2] )
          {
            v6 = dword_4C24EC[439 * a1];
            v7 = dword_4C24EC[439 * a2];
            v8 = a3;
            v34 = v7;
            v35 = dword_4C24F0[439 * a2];
            if ( v7 + a3 > v6 )
            {
              v7 = v6 - a3;
              v34 = v6 - a3;
            }
            v9 = a4;
            v10 = dword_4C24F0[v4];
            if ( a4 + dword_4C24F0[439 * a2] > v10 )
              v35 = v10 - a4;
            if ( v7 > 0 && v35 > 0 )
            {
              if ( dword_4C2578[v4] > 0 )
              {
                v11 = SLOWORD(dword_4C2584[v4]);
                v12 = *(__int16 *)(v4 * 4 + 4990342);
                v13 = v11 + SLOWORD(dword_4C2588[v4]);
                v14 = v12 + *(__int16 *)(v4 * 4 + 4990346);
                if ( v11 > a3 )
                  LOWORD(v11) = a3;
                if ( v12 > a4 )
                  LOWORD(v12) = a4;
                v15 = a3 + v7;
                if ( v13 < v15 )
                  LOWORD(v13) = v15;
                if ( v14 < v35 + a4 )
                  LOWORD(v14) = v35 + a4;
                v7 = v34;
                v8 = a3;
                v16 = v13 - v11;
                v17 = v14 - v12;
                LOWORD(dword_4C2584[v4]) = v11;
                v5 = 439 * a2;
                *(_WORD *)(v4 * 4 + 4990342) = v12;
                v9 = a4;
                LOWORD(dword_4C2588[v4]) = v16;
                *(_WORD *)(v4 * 4 + 4990346) = v17;
              }
              v18 = v9 * dword_4C24E8[v4];
              v19 = dword_4C24E4[v5];
              v20 = dword_4C24E4[v4] - v18;
              v21 = dword_4C24F4[v4];
              if ( v21 == 1 )
              {
                v22 = (_BYTE *)(v20 + 4 * v8);
                do
                {
                  v23 = v22;
                  v24 = (_BYTE *)v19;
                  if ( v7 > 0 )
                  {
                    v25 = v7;
                    do
                    {
                      *v23 += *v24;
                      v23[1] += v24[1];
                      v26 = v24 + 1;
                      v27 = v23 + 1;
                      v27[1] += *++v26;
                      (++v27)[1] += v26[1];
                      v24 = v26 + 2;
                      v23 = v27 + 2;
                      --v25;
                    }
                    while ( v25 );
                    v7 = v34;
                    v5 = 439 * a2;
                  }
                  v22 -= dword_4C24E8[v4];
                  v19 -= dword_4C24E8[v5];
                  --v35;
                }
                while ( v35 );
              }
              else if ( !v21 )
              {
                v28 = v8 + v20 + 2 * v8;
                do
                {
                  v29 = (_BYTE *)v28;
                  v30 = (_BYTE *)v19;
                  if ( v7 > 0 )
                  {
                    v31 = v7;
                    do
                    {
                      *v29 += *v30;
                      v29[1] += v30[1];
                      v32 = v30 + 1;
                      v33 = v29 + 1;
                      v33[1] += v32[1];
                      v30 = v32 + 2;
                      v29 = v33 + 2;
                      --v31;
                    }
                    while ( v31 );
                    v5 = 439 * a2;
                    v7 = v34;
                  }
                  v28 -= dword_4C24E8[v4];
                  v19 -= dword_4C24E8[v5];
                  --v35;
                }
                while ( v35 );
              }
            }
          }
        }
      }
    }
  }
}
// 450ADE: conditional instruction was optimized away because %arg_0.4>=1
// 450B4B: conditional instruction was optimized away because %arg_0.4>=1
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]
// 4C2578:  int dword_4C2578[]
// 4C2584:  int dword_4C2584[]
// 4C2588:  int dword_4C2588[]

//----- (00450BB0) --------------------------------------------------------
void __cdecl sub_450BB0(int a1, int a2, int a3)
{
  int v3; // ebp
  int v4; // eax
  int v5; // ecx
  int v6; // esi
  int v7; // ebx
  int v8; // edx
  int v9; // edx
  int v10; // ecx
  int v11; // ebx
  int v12; // edi
  unsigned __int8 *v13; // esi
  _BYTE *v14; // ecx
  unsigned __int8 v15; // al
  _BYTE *v16; // esi
  char v17; // al
  _BYTE *v18; // esi
  _BYTE *v19; // ecx
  char v20; // dl
  _BYTE *v21; // ecx
  _BYTE *v22; // esi
  int v23; // ebx
  char v24; // di
  char v25; // al
  _BYTE *v26; // ecx
  _BYTE *v27; // esi
  int v28; // edi
  int v29; // eax
  int v30; // edx
  bool v31; // zf
  int v32; // [esp+0h] [ebp-18h]
  int v33; // [esp+4h] [ebp-14h]
  int v34; // [esp+8h] [ebp-10h]
  int v35; // [esp+Ch] [ebp-Ch]
  int v36; // [esp+10h] [ebp-8h]
  int v37; // [esp+14h] [ebp-4h]
  int v38; // [esp+24h] [ebp+Ch]

  if ( a3 != -1 )
  {
    v3 = 1756 * a3;
    v4 = dword_4C24E4[439 * a3];
    v37 = 1756 * a3;
    if ( v4 )
    {
      if ( dword_4C24F4[439 * a3] == 1 )
      {
        v5 = a1;
        v6 = a2;
        v38 = dword_4C24E4[439 * a3];
        v7 = a1 + *(int *)((char *)dword_4C24EC + v3);
        v8 = a2 + *(int *)((char *)dword_4C24F0 + v3);
        if ( a1 < dword_5158E8 )
        {
          v38 = v4 + 4 * (dword_5158E8 - a1);
          v5 = dword_5158E8;
        }
        if ( a2 < dword_5158DC )
        {
          v38 += *(int *)((char *)dword_4C24E8 + v3) * (a2 - dword_5158DC);
          v6 = dword_5158DC;
        }
        if ( v7 > dword_5158E0 )
          v7 = dword_5158E0;
        if ( v8 > dword_5158D8 )
          v8 = dword_5158D8;
        sub_450290(v5, v6, v7, v8);
        v11 = v7 - v10;
        v12 = 3 * v10 + dword_4C24E4[439 * dword_4D14F4] - v6 * dword_4C24E8[439 * dword_4D14F4];
        v35 = v12;
        v32 = v11;
        if ( v11 > 0 && v6 < v9 )
        {
          v36 = v9 - v6;
          do
          {
            v13 = (unsigned __int8 *)v38;
            v14 = (_BYTE *)v12;
            v34 = v11;
            do
            {
              v15 = *v13;
              if ( *v13 == 0xFF )
              {
                v14 += 3;
                v13 += 4;
              }
              else
              {
                v16 = v13 + 1;
                if ( v15 )
                {
                  v33 = v15;
                  v23 = 255 - v15;
                  *v14 = -(char)(v23 * *v16 + v15 * *v14);
                  v24 = v15 * v14[1];
                  v25 = v23 * v16[1];
                  v26 = v14 + 1;
                  v27 = v16 + 1;
                  *v26 = -(char)(v25 + v24);
                  v28 = v33 * (unsigned __int8)v26[1];
                  v21 = v26 + 1;
                  v29 = v23 * (unsigned __int8)v27[1];
                  v22 = v27 + 1;
                  v11 = v32;
                  v3 = v37;
                  v30 = (unsigned __int64)(2155905153i64 * (v29 + v28)) >> 32;
                  v12 = v35;
                  *v21 = (v30 >> 7) + (v30 < 0);
                }
                else
                {
                  *v14 = *v16;
                  v17 = v16[1];
                  v18 = v16 + 1;
                  v19 = v14 + 1;
                  *v19 = v17;
                  v20 = v18[1];
                  v21 = v19 + 1;
                  v22 = v18 + 1;
                  *v21 = v20;
                }
                v14 = v21 + 1;
                v13 = v22 + 1;
              }
              --v34;
            }
            while ( v34 );
            v12 -= dword_4C24E8[439 * dword_4D14F4];
            v38 -= *(int *)((char *)dword_4C24E8 + v3);
            v31 = v36-- == 1;
            v35 = v12;
          }
          while ( !v31 );
        }
      }
      else
      {
        sub_450510(a1, a2, a3);
      }
    }
  }
}
// 450C88: variable 'v10' is possibly undefined
// 450CA1: variable 'v9' is possibly undefined
// 450510:  _DWORD __cdecl sub_450510(_DWORD, _DWORD, _DWORD)
// 4C24E4:  int dword_4C24E4[]
// 4C24E8:  int dword_4C24E8[]
// 4C24EC:  int dword_4C24EC[]
// 4C24F0:  int dword_4C24F0[]
// 4C24F4:  int dword_4C24F4[]
// 4D14F4:  int dword_4D14F4
// 5158D8:  int dword_5158D8
// 5158DC:  int dword_5158DC
// 5158E0:  int dword_5158E0
// 5158E8:  int dword_5158E8

//----- (00450DD0) --------------------------------------------------------
int __cdecl sub_450DD0(int a1, _DWORD *a2, int a3)
{
  int v3; // edx
  int v4; // eax
  int v5; // ebx
  int v6; // ebp
  int v7; // ecx
  int v8; // edx
  int *v9; // eax
  int v10; // ebp
  _DWORD *v11; // ebx
  int v12; // edx
  int v13; // ecx
  int v14; // eax
  int v15; // eax
  _DWORD *v16; // ecx
  _DWORD *v17; // ebx
  _DWORD *v18; // ebp
  int v19; // ecx
  int v20; // eax
  int v21; // ecx
  int v22; // edx
  int v23; // eax
  bool v24; // zf
  int v25; // ebp
  int v26; // ecx
  _DWORD *v27; // edx
  int *v28; // eax
  int v29; // ebp
  char *v30; // ecx
  int v31; // ebp
  int v32; // ebx
  int v33; // ecx
  int v34; // ebp
  int *v35; // eax
  int v36; // ebp
  int v37; // ebx
  int v38; // edx
  int v39; // ebx
  int result; // eax
  int v41; // ecx
  _DWORD *v42; // ebx
  int v43; // ebp
  int v44; // eax
  int v45; // eax
  int v46; // [esp+10h] [ebp-54h]
  int v47; // [esp+10h] [ebp-54h]
  int v48; // [esp+10h] [ebp-54h]
  int v49; // [esp+10h] [ebp-54h]
  int v50; // [esp+10h] [ebp-54h]
  int v51; // [esp+10h] [ebp-54h]
  int v52; // [esp+10h] [ebp-54h]
  int v53; // [esp+14h] [ebp-50h]
  int v54; // [esp+14h] [ebp-50h]
  int v55; // [esp+14h] [ebp-50h]
  int v56; // [esp+14h] [ebp-50h]
  int v57; // [esp+14h] [ebp-50h]
  int v58; // [esp+14h] [ebp-50h]
  int v59; // [esp+18h] [ebp-4Ch]
  int v60; // [esp+18h] [ebp-4Ch]
  int v61; // [esp+1Ch] [ebp-48h]
  int v62; // [esp+1Ch] [ebp-48h]
  int v63; // [esp+20h] [ebp-44h]
  int v64; // [esp+20h] [ebp-44h]
  int v65; // [esp+24h] [ebp-40h]
  _DWORD *v66; // [esp+28h] [ebp-3Ch]
  int v67; // [esp+2Ch] [ebp-38h]
  _DWORD *v68; // [esp+2Ch] [ebp-38h]
  _DWORD *v69; // [esp+30h] [ebp-34h]
  int v70; // [esp+30h] [ebp-34h]
  _DWORD *v71; // [esp+34h] [ebp-30h]
  int v72; // [esp+34h] [ebp-30h]
  int v73; // [esp+38h] [ebp-2Ch]
  int v74; // [esp+38h] [ebp-2Ch]
  int v75; // [esp+3Ch] [ebp-28h]
  int v76; // [esp+40h] [ebp-24h]
  int *v77; // [esp+44h] [ebp-20h]
  int v78; // [esp+44h] [ebp-20h]
  int v79; // [esp+48h] [ebp-1Ch]
  int v80; // [esp+48h] [ebp-1Ch]
  int v81; // [esp+4Ch] [ebp-18h]
  int v82; // [esp+4Ch] [ebp-18h]
  int v83; // [esp+50h] [ebp-14h]
  int v84; // [esp+50h] [ebp-14h]
  int v85; // [esp+54h] [ebp-10h]
  int v86; // [esp+58h] [ebp-Ch]
  unsigned int v87; // [esp+58h] [ebp-Ch]
  int v88; // [esp+60h] [ebp-4h]
  int v89; // [esp+60h] [ebp-4h]
  char v90; // [esp+68h] [ebp+4h]
  int v91; // [esp+68h] [ebp+4h]

  v3 = a1;
  v4 = 1 << a1;
  v5 = 1 << a1;
  v6 = 1;
  v65 = 1 << a1;
  v76 = 1;
  if ( a1 >= 3 )
  {
    v7 = v4 >> 1;
    v86 = a1 - 2;
    while ( 1 )
    {
      v85 = v4;
      v8 = v7 >> 1;
      v59 = dword_4B6048[v6];
      v73 = v7;
      v75 = v7 >> 1;
      v61 = dword_4B5048[v6];
      if ( v5 > 0 )
      {
        v83 = v7 >> 1;
        v63 = v7 + v8;
        v81 = v7 + 1;
        v71 = (_DWORD *)(a3 + v63 * 4);
        v79 = v8;
        v67 = v7;
        v9 = (int *)(a3 + 4 * v7);
        v10 = (int)a2 - a3;
        v66 = (_DWORD *)(a3 + 4 * v8);
        v69 = a2;
        v11 = (_DWORD *)(a3 + 4);
        v77 = v9;
        v88 = -1 - v7;
        while ( 1 )
        {
          v12 = *(int *)((char *)v9 + v10);
          v53 = *v69 - v12;
          v46 = *(v11 - 1) - *v9;
          *v69 += v12;
          *(v11 - 1) += *v9;
          *(int *)((char *)v9 + v10) = v53;
          *v9 = v46;
          v13 = a2[v67 + 1];
          v54 = *(_DWORD *)((char *)v11 + v10) - v13;
          v47 = *v11 - *(_DWORD *)(v67 * 4 + a3 + 4);
          *(_DWORD *)((char *)v11 + v10) += v13;
          *v11 += *(_DWORD *)(v67 * 4 + a3 + 4);
          a2[v67 + 1] = ((unsigned __int64)(v54 * (__int64)v59) >> 12) + ((unsigned __int64)(v47 * (__int64)v61) >> 12);
          *(_DWORD *)(v67 * 4 + a3 + 4) = ((unsigned __int64)(v47 * (__int64)v59) >> 12)
                                        - ((unsigned __int64)(v54 * (__int64)v61) >> 12);
          v14 = *(_DWORD *)((char *)v66 + v10) - *(_DWORD *)((char *)v71 + v10);
          v48 = *v66 - *v71;
          *(_DWORD *)((char *)v66 + v10) += *(_DWORD *)((char *)v71 + v10);
          *v66 += *v71;
          *(_DWORD *)((char *)v71 + v10) = v48;
          *v71 = -v14;
          v55 = a2[v79 + 1] - a2[v63 + 1];
          v49 = *(_DWORD *)(v79 * 4 + a3 + 4) - *(_DWORD *)(v63 * 4 + a3 + 4);
          a2[v79 + 1] += a2[v63 + 1];
          *(_DWORD *)(v79 * 4 + a3 + 4) += *(_DWORD *)(v63 * 4 + a3 + 4);
          a2[v63 + 1] = ((unsigned __int64)(v49 * (__int64)v59) >> 12) - ((unsigned __int64)(v55 * (__int64)v61) >> 12);
          v81 += v85;
          v83 += v85;
          *(_DWORD *)(v63 * 4 + a3 + 4) = -(((unsigned __int64)(v55 * (__int64)v59) >> 12)
                                          + ((unsigned __int64)(v49 * (__int64)v61) >> 12));
          v67 += v85;
          v77 += v85;
          v69 += v85;
          v79 += v85;
          v63 += v85;
          v71 += v85;
          v66 += v85;
          v11 += v85;
          if ( v81 + v88 >= v65 )
            break;
          v9 = v77;
        }
        v7 = v73;
        v5 = 1 << a1;
        v6 = v76;
        v8 = v75;
      }
      v15 = 2;
      v70 = 2;
      if ( v8 > 2 )
      {
        v78 = a3 + 4 * v7 + 8;
        v16 = (_DWORD *)(8 * v6 + 4935752);
        v68 = v16;
        do
        {
          v60 = v16[1024];
          v62 = *v16;
          v80 = 0;
          if ( v65 > 0 )
          {
            v17 = (_DWORD *)v78;
            v82 = 4 * v15;
            v18 = (_DWORD *)(a3 + 4 * v15);
            v19 = (int)a2 - a3;
            v84 = v15;
            v64 = (int)a2 - a3;
            while ( 1 )
            {
              v20 = *(_DWORD *)((char *)v18 + v19);
              v21 = *(_DWORD *)((char *)v17 + v19);
              v22 = *v18 - *v17;
              *(_DWORD *)((char *)v18 + v64) = v21 + v20;
              *v18 += *v17;
              *(_DWORD *)((char *)v17 + v64) = ((unsigned __int64)((v20 - v21) * (__int64)v60) >> 12)
                                             + ((unsigned __int64)(v22 * (__int64)v62) >> 12);
              *v17 = ((unsigned __int64)(v22 * (__int64)v60) >> 12)
                   - ((unsigned __int64)((v20 - v21) * (__int64)v62) >> 12);
              v23 = v82 + 4 * v75;
              v72 = v23 + 4 * v73;
              v56 = *(_DWORD *)((char *)a2 + v23) - *(_DWORD *)((char *)a2 + v72);
              v50 = *(_DWORD *)(v23 + a3) - *(_DWORD *)(v72 + a3);
              *(_DWORD *)((char *)a2 + v23) += *(_DWORD *)((char *)a2 + v72);
              *(_DWORD *)(v23 + a3) += *(_DWORD *)(v72 + a3);
              *(_DWORD *)((char *)a2 + v72) = ((unsigned __int64)(v50 * (__int64)v60) >> 12)
                                            - ((unsigned __int64)(v56 * (__int64)v62) >> 12);
              *(_DWORD *)(v72 + a3) = -(((unsigned __int64)(v56 * (__int64)v60) >> 12)
                                      + ((unsigned __int64)(v50 * (__int64)v62) >> 12));
              v80 += v85;
              v84 += v85;
              v82 += 4 * v85;
              v17 += v85;
              v18 += v85;
              if ( v80 >= v65 )
                break;
              v19 = (int)a2 - a3;
            }
            v16 = v68;
            v15 = v70;
            v6 = v76;
            v8 = v75;
          }
          v78 += 4;
          ++v15;
          v16 += v6;
          v70 = v15;
          v68 = v16;
        }
        while ( v15 < v8 );
        v5 = 1 << a1;
      }
      v24 = v86-- == 1;
      v76 = 2 * v6;
      if ( v24 )
        break;
      v7 = v75;
      v4 = v73;
      v6 *= 2;
    }
    v3 = a1;
  }
  if ( v3 >= 2 && v5 > 0 )
  {
    v25 = (int)a2 - a3;
    v26 = 4 - (_DWORD)a2;
    v90 = 2;
    v27 = a2 + 1;
    v28 = (int *)(a3 + 8);
    v87 = ((unsigned int)(v5 - 1) >> 2) + 1;
    while ( 1 )
    {
      v29 = *(int *)((char *)v28 + v25);
      v57 = *(v27 - 1) - v29;
      v90 += 4;
      v51 = *(v28 - 2) - *v28;
      *(v27 - 1) += v29;
      *(v28 - 2) += *v28;
      *(_DWORD *)((char *)a2 + (_DWORD)v28 - a3) = v57;
      *v28 = v51;
      v30 = (char *)v27 + v26;
      v31 = *(_DWORD *)((char *)a2 + (_DWORD)v30 + 4);
      v30 += 4;
      v58 = *v27 - v31;
      v32 = *(v28 - 1) - *(_DWORD *)&v30[a3];
      v28 += 4;
      *v27 += v31;
      *(v28 - 5) += *(_DWORD *)&v30[a3];
      *(_DWORD *)((char *)a2 + (_DWORD)v30) = v32;
      v27 += 4;
      v24 = v87-- == 1;
      *(_DWORD *)&v30[a3] = -v58;
      if ( v24 )
        break;
      v25 = (int)a2 - a3;
      v26 = 4 - (_DWORD)a2;
    }
    v5 = v65;
  }
  v33 = 0;
  if ( v5 > 0 )
  {
    v34 = (int)a2 - a3;
    v35 = (int *)(a3 + 4);
    do
    {
      v36 = *(int *)((char *)v35 + v34);
      v37 = a2[v33];
      v38 = v37 - v36;
      v33 += 2;
      v52 = *(v35 - 1) - *v35;
      v39 = v36 + v37;
      v34 = (int)a2 - a3;
      a2[v33 - 2] = v39;
      *(v35 - 1) += *v35;
      v5 = v65;
      *(_DWORD *)((char *)a2 + (_DWORD)v35 - a3) = v38;
      *v35 = v52;
      v35 += 2;
    }
    while ( v33 < v65 );
  }
  result = v5 / 2;
  v41 = 0;
  v74 = v5 / 2;
  v91 = 1;
  v89 = v5 - 1;
  if ( v5 - 1 > 1 )
  {
    v42 = (_DWORD *)(a3 + 4);
    v43 = (int)a2 - a3;
    while ( 1 )
    {
      for ( ; result <= v41; result /= 2 )
        v41 -= result;
      v41 += result;
      if ( v91 < v41 )
      {
        v44 = a2[v41];
        a2[v41] = *(_DWORD *)((char *)v42 + v43);
        *(_DWORD *)((char *)v42 + v43) = v44;
        v45 = *(_DWORD *)(a3 + 4 * v41);
        *(_DWORD *)(a3 + 4 * v41) = *v42;
        *v42 = v45;
      }
      result = v91 + 1;
      ++v42;
      if ( ++v91 >= v89 )
        break;
      result = v74;
    }
  }
  return result;
}
// 4B5048:  int dword_4B5048[1024]
// 4B6048:  int dword_4B6048[4178]

//----- (00451420) --------------------------------------------------------
int __cdecl sub_451420(char *a1, int a2, _DWORD *a3, _DWORD *a4)
{
  char *v7; // eax
  int v8; // esi
  char *v9; // esi
  unsigned __int8 v10; // cl
  char v11; // al
  _BYTE *v12; // esi
  char *v13; // ecx
  int v14; // esi
  int v15; // eax
  unsigned __int16 *v16; // ecx
  int v17; // eax
  int v18; // edx
  int v19; // edx
  int v20; // eax
  int v21; // edx
  int v22; // edx
  int v23; // eax
  int result; // eax
  int v25; // [esp+10h] [ebp-4008h]
  char v26; // [esp+14h] [ebp-4004h] BYREF
  char v27; // [esp+15h] [ebp-4003h] BYREF

  v7 = &v27;
  v8 = 4096;
  do
  {
    *v7 = *a1++;
    v7 += 2;
    --v8;
  }
  while ( v8 );
  v9 = &v26;
  v25 = 2048;
  do
  {
    v10 = a1[2048];
    v11 = *a1;
    *v9 = *a1 ^ (*a1 ^ ((int)v10 >> 4)) & 0xF;
    v12 = v9 + 2;
    *v12 = (16 * v11) | v10 & 0xF;
    v9 = v12 + 2;
    ++a1;
    --v25;
  }
  while ( v25 );
  v13 = &v26;
  v14 = 32;
  do
  {
    v15 = *(_DWORD *)(a2 + 4 * ((v14 - 32) / 4096));
    *a3 = v15 * word_4D1500[*(unsigned __int16 *)v13];
    *a4 = v15 * word_4D1500[*((unsigned __int16 *)v13 + 1)];
    v16 = (unsigned __int16 *)(v13 + 4);
    v17 = *(_DWORD *)(a2 + 4 * ((v14 - 16) / 4096));
    a3[1] = v17 * word_4D1500[*v16];
    v18 = v17 * word_4D1500[v16[1]];
    ++v16;
    a4[1] = v18;
    v19 = word_4D1500[v16[1]];
    ++v16;
    v20 = *(_DWORD *)(a2 + 4 * (v14 / 4096));
    a3[2] = v20 * v19;
    v21 = word_4D1500[v16[1]];
    ++v16;
    a4[2] = v20 * v21;
    v22 = word_4D1500[v16[1]];
    ++v16;
    v23 = *(_DWORD *)(a2 + 4 * ((v14 + 16) / 4096));
    a3[3] = v23 * v22;
    a4[3] = v23 * word_4D1500[v16[1]];
    v14 += 64;
    v13 = (char *)(v16 + 2);
    a3 += 4;
    a4 += 4;
  }
  while ( v14 < 32800 );
  result = 2048;
  do
  {
    *a3 = 0;
    *a4 = 0;
    ++a3;
    ++a4;
    --result;
  }
  while ( result );
  return result;
}
// 4D1500:  __int16 word_4D1500[30121]

//----- (00451600) --------------------------------------------------------
int __cdecl sub_451600(__int16 *a1, char *a2, int a3, char a4, int *a5)
{
  int result; // eax
  int v6; // esi
  int v7; // edi
  int *v8; // ebx
  int v9; // ebp
  int v10; // eax
  int v11; // ebp
  int v12; // ecx
  int v13; // ecx
  int v14; // eax
  int v15; // eax
  int v16; // ecx
  int v17; // ecx
  int v18; // eax
  int v19; // eax
  int v20; // ebp
  int v21; // ecx
  int v22; // ecx
  int v23; // eax
  int v24; // eax
  int v25; // ebp
  int v26; // ecx
  int v27; // ecx
  int v28; // eax
  int i; // [esp+8h] [ebp-20h]
  int v30; // [esp+Ch] [ebp-1Ch]
  int v31; // [esp+10h] [ebp-18h]
  int v32; // [esp+14h] [ebp-14h]
  int v33; // [esp+18h] [ebp-10h]
  __int16 *v36; // [esp+34h] [ebp+Ch]

  result = a3 / 2;
  v6 = 0;
  v7 = 0;
  v31 = a3 / 2;
  for ( i = 0; i < v31; i += 4064 )
  {
    sub_451420(a2, (int)&unk_4BA560 + 64 * (a4 & 0xF), a5, a5 + 4096);
    a2 += 0x2000;
    sub_450DD0(12, a5, (int)(a5 + 4096));
    v8 = a5;
    v9 = 1;
    v33 = i + 3;
    v32 = 1;
    v30 = 31;
    v36 = a1;
    do
    {
      if ( i + v9 - 1 < v31 )
      {
        v10 = *v8;
        if ( (a4 & 0x10) != 0 )
          v10 = 3 * v10 / 2;
        v11 = v9 - 1;
        v12 = v10 / 1024;
        ++v8;
        if ( v11 < 32 && i )
        {
          v13 = ((v6 << 14) + 6144 * (v7 + 7 * v12)) / 0x10000;
          v7 = v6;
          v6 = v13;
          v14 = (v13 * v11 + *v36 * (v30 + 1)) / 32;
        }
        else
        {
          v14 = ((v6 << 14) + 6144 * (v7 + 7 * v12)) / 0x10000;
          v7 = v6;
          v6 = v14;
        }
        if ( v14 <= 0x7FFF )
        {
          if ( v14 < -32768 )
            LOWORD(v14) = 0x8000;
        }
        else
        {
          LOWORD(v14) = 0x7FFF;
        }
        v9 = v32;
        *v36 = v14;
      }
      if ( i + v9 < v31 )
      {
        v15 = *v8;
        if ( (a4 & 0x10) != 0 )
          v15 = 3 * v15 / 2;
        v16 = v15 / 1024;
        ++v8;
        if ( v9 < 32 && i )
        {
          v17 = ((v6 << 14) + 6144 * (v7 + 7 * v16)) / 0x10000;
          v7 = v6;
          v6 = v17;
          v18 = (v17 * v9 + v30 * v36[1]) / 32;
        }
        else
        {
          v18 = ((v6 << 14) + 6144 * (v7 + 7 * v16)) / 0x10000;
          v7 = v6;
          v6 = v18;
        }
        if ( v18 <= 0x7FFF )
        {
          if ( v18 < -32768 )
            LOWORD(v18) = 0x8000;
        }
        else
        {
          LOWORD(v18) = 0x7FFF;
        }
        v36[1] = v18;
      }
      if ( v33 - 1 < v31 )
      {
        v19 = *v8;
        if ( (a4 & 0x10) != 0 )
          v19 = 3 * v19 / 2;
        v20 = v9 + 1;
        v21 = v19 / 1024;
        ++v8;
        if ( v20 < 32 && i )
        {
          v22 = ((v6 << 14) + 6144 * (v7 + 7 * v21)) / 0x10000;
          v7 = v6;
          v6 = v22;
          v23 = (v22 * v20 + (v30 - 1) * v36[2]) / 32;
        }
        else
        {
          v23 = ((v6 << 14) + 6144 * (v7 + 7 * v21)) / 0x10000;
          v7 = v6;
          v6 = v23;
        }
        if ( v23 <= 0x7FFF )
        {
          if ( v23 < -32768 )
            LOWORD(v23) = 0x8000;
        }
        else
        {
          LOWORD(v23) = 0x7FFF;
        }
        v9 = v32;
        v36[2] = v23;
      }
      if ( v33 < v31 )
      {
        v24 = *v8;
        if ( (a4 & 0x10) != 0 )
          v24 = 3 * v24 / 2;
        v25 = v9 + 2;
        v26 = v24 / 1024;
        ++v8;
        if ( v25 < 32 && i )
        {
          v27 = ((v6 << 14) + 6144 * (v7 + 7 * v26)) / 0x10000;
          v7 = v6;
          v6 = v27;
          v28 = (v27 * v25 + (v30 - 2) * v36[3]) / 32;
        }
        else
        {
          v28 = ((v6 << 14) + 6144 * (v7 + 7 * v26)) / 0x10000;
          v7 = v6;
          v6 = v28;
        }
        if ( v28 <= 0x7FFF )
        {
          if ( v28 < -32768 )
            LOWORD(v28) = 0x8000;
        }
        else
        {
          LOWORD(v28) = 0x7FFF;
        }
        v9 = v32;
        v36[3] = v28;
      }
      v36 += 4;
      v30 -= 4;
      v33 += 4;
      v9 += 4;
      v32 = v9;
    }
    while ( v9 - 1 < 4096 );
    a1 += 4064;
    result = i + 4064;
  }
  return result;
}

//----- (00451A60) --------------------------------------------------------
int __cdecl sub_451A60(unsigned __int8 *a1, int a2, _BYTE *a3)
{
  int v3; // edi
  int v4; // esi
  int result; // eax
  int v8; // ebx
  int v9; // esi
  int v10; // edx
  int v11; // edx
  int v12; // ebx
  int v13; // ebx
  int v14; // ebx
  int v15; // edx
  unsigned __int16 *v16; // ecx
  int v17; // ebx
  int v18; // esi
  _BYTE *v19; // esi
  int v20; // [esp+8h] [ebp-4h]

  v3 = a2;
  v4 = 0;
  result = 0;
  v20 = 0;
  if ( a2 > 0 )
  {
    while ( 1 )
    {
      result >>= 1;
      if ( (result & 0x100) == 0 )
      {
        result = *a1++ | 0xFF00;
        --v3;
      }
      if ( (result & 1) == 0 )
        break;
      ++v4;
      *a3++ = *a1++;
      v20 = v4;
      --v3;
LABEL_20:
      if ( v3 <= 0 )
        return v4;
    }
    if ( !v3 )
      return v4;
    v8 = *a1++;
    --v3;
    if ( v8 < 192 )
    {
      if ( (v8 & 0x80u) != 0 )
      {
        v11 = v8 & 0x1F;
        v12 = (v8 >> 5) & 3;
        if ( !v11 )
        {
          v11 = *a1++;
          --v3;
        }
        v13 = v12 + 2;
        goto LABEL_17;
      }
      if ( v8 == 127 )
      {
        v14 = *a1;
        v15 = a1[1];
        v16 = (unsigned __int16 *)(a1 + 2);
        v17 = (v15 << 8) | v14;
        v11 = *v16;
        a1 = (unsigned __int8 *)(v16 + 1);
        v3 -= 4;
        v13 = v17 + 2;
        goto LABEL_17;
      }
      v10 = *a1;
      v18 = *++a1;
      v9 = v18 << 8;
      v3 -= 2;
    }
    else
    {
      v9 = *a1;
      v10 = (v8 & 3) << 8;
      --v3;
      v8 = (v8 >> 2) & 0xF;
    }
    v11 = v9 | v10;
    ++a1;
    v13 = v8 + 4;
LABEL_17:
    v19 = &a3[-v11];
    v20 += v13;
    do
    {
      *a3++ = *v19++;
      --v13;
    }
    while ( v13 );
    v4 = v20;
    goto LABEL_20;
  }
  return result;
}

//----- (00451B60) --------------------------------------------------------
int __cdecl sub_451B60(__int16 *a1, char a2)
{
  int v3; // eax
  int v4; // edi
  int *v5; // esi
  int v6; // ebp
  bool v7; // zf
  int v8; // eax
  int v9; // ecx
  int *v10; // esi
  int v11; // eax
  int v12; // eax
  int v13; // ecx
  int *v14; // esi
  int v15; // eax
  int v16; // ecx
  int *v17; // esi
  int v18; // eax
  int v19; // ecx
  int v20; // eax
  int result; // eax
  int v22; // [esp+10h] [ebp-4h]
  int v23; // [esp+1Ch] [ebp+8h]

  sub_451420(&byte_5058C0[dword_5158CC], (int)&unk_4BA560 + 64 * (a2 & 0xF), dword_4F1500, dword_4F5500);
  dword_5158CC += 0x2000;
  HIWORD(dword_5158CC) = 0;
  sub_450DD0(12, dword_4F1500, (int)dword_4F5500);
  v3 = a2 & 0x10;
  v4 = 31;
  v5 = dword_4F1500;
  v23 = v3;
  v6 = 2;
  v22 = 31;
  while ( 1 )
  {
    v7 = v3 == 0;
    v8 = *v5;
    if ( v7 )
      v9 = 16 * v8 / 0x4000;
    else
      v9 = 48 * v8 / 0x4000 / 2;
    v10 = v5 + 1;
    if ( v6 - 2 < 32 )
    {
      v11 = *a1 * (v4 + 1);
      v4 = v22;
      v9 = (v9 * (v6 - 2) + v11) / 32;
    }
    if ( v9 <= 0x7FFF )
    {
      if ( v9 < -32768 )
        LOWORD(v9) = 0x8000;
    }
    else
    {
      LOWORD(v9) = 0x7FFF;
    }
    *a1 = v9;
    v12 = *v10;
    if ( v23 )
      v13 = 48 * v12 / 0x4000 / 2;
    else
      v13 = 16 * v12 / 0x4000;
    v14 = v10 + 1;
    if ( v6 - 1 < 32 )
      v13 = (v13 * (v6 - 1) + v4 * a1[1]) / 32;
    if ( v13 <= 0x7FFF )
    {
      if ( v13 < -32768 )
        LOWORD(v13) = 0x8000;
    }
    else
    {
      LOWORD(v13) = 0x7FFF;
    }
    a1[1] = v13;
    v15 = *v14;
    if ( v23 )
      v16 = 48 * v15 / 0x4000 / 2;
    else
      v16 = 16 * v15 / 0x4000;
    v17 = v14 + 1;
    if ( v6 < 32 )
      v16 = (v16 * v6 + (v4 - 1) * a1[2]) / 32;
    if ( v16 <= 0x7FFF )
    {
      if ( v16 < -32768 )
        LOWORD(v16) = 0x8000;
    }
    else
    {
      LOWORD(v16) = 0x7FFF;
    }
    a1[2] = v16;
    v18 = *v17;
    if ( v23 )
      v19 = 48 * v18 / 0x4000 / 2;
    else
      v19 = 16 * v18 / 0x4000;
    v5 = v17 + 1;
    if ( v6 + 1 < 32 )
    {
      v20 = (v4 - 2) * a1[3];
      v4 = v22;
      v19 = (v19 * (v6 + 1) + v20) / 32;
    }
    if ( v19 <= 0x7FFF )
    {
      if ( v19 < -32768 )
        LOWORD(v19) = 0x8000;
    }
    else
    {
      LOWORD(v19) = 0x7FFF;
    }
    v6 += 4;
    a1[3] = v19;
    v4 -= 4;
    result = v6 - 2;
    a1 += 4;
    v22 = v4;
    if ( v6 - 2 >= 4096 )
      break;
    v3 = v23;
  }
  return result;
}
// 4F1500:  _DWORD dword_4F1500[4096]
// 4F5500:  _DWORD dword_4F5500[4097]
// 5158CC:  int dword_5158CC

//----- (00451DF0) --------------------------------------------------------
char sub_451DF0()
{
  char result; // al

  if ( !NumberOfBytesRead )
  {
    ReadFile(FileHandle, &unk_5018A0, 0x4000u, &NumberOfBytesRead, 0);
    off_4BA55C = &unk_5018A0;
  }
  --NumberOfBytesRead;
  result = *(_BYTE *)off_4BA55C;
  off_4BA55C = (char *)off_4BA55C + 1;
  return result;
}
// 4BA55C:  void *off_4BA55C

//----- (00451E40) --------------------------------------------------------
int __cdecl sub_451E40(int a1)
{
  int result; // eax

  result = 0;
  NumberOfBytesRead = 0;
  dword_5158C8 = 0;
  dword_501894 = a1;
  dword_5158C4 = 0;
  dword_5158C0 = 0;
  dword_5158CC = 0;
  return result;
}
// 501894:  int dword_501894
// 5158C0:  int dword_5158C0
// 5158C4:  int dword_5158C4
// 5158C8:  int dword_5158C8
// 5158CC:  int dword_5158CC

//----- (00451E70) --------------------------------------------------------
int sub_451E70()
{
  int v0; // eax
  char v1; // al
  int v2; // ecx
  unsigned __int8 v3; // al
  int v4; // ebx
  unsigned __int8 v5; // al
  __int16 v6; // cx
  __int16 v7; // si
  __int16 v8; // si
  int v9; // ebx
  unsigned __int8 v10; // al
  int v11; // ebx
  unsigned __int8 v12; // al
  int v13; // ebx
  __int16 v14; // si
  unsigned __int8 v15; // al
  unsigned __int8 v16; // al
  int v17; // eax
  int v18; // esi

  if ( dword_501894 > 0 )
  {
    while ( 1 )
    {
      v0 = dword_5158C0 >> 1;
      dword_5158C0 = v0;
      if ( (v0 & 0x100) == 0 )
      {
        v0 = (unsigned __int8)sub_451DF0() | 0xFF00;
        --dword_501894;
        dword_5158C0 = v0;
      }
      if ( (v0 & 1) == 0 )
        break;
      v1 = sub_451DF0();
      v2 = dword_5158C4;
      ++dword_5158C8;
      byte_5058C0[dword_5158C4] = v1;
      --dword_501894;
      dword_5158C4 = v2 + 1;
      HIWORD(dword_5158C4) = 0;
LABEL_19:
      if ( dword_5158C8 > 0x2000 || dword_501894 <= 0 )
        goto LABEL_21;
    }
    if ( !dword_501894 )
      goto LABEL_21;
    v3 = sub_451DF0();
    --dword_501894;
    v4 = v3;
    if ( v3 < 0xC0u )
    {
      if ( (v3 & 0x80u) != 0 )
      {
        v8 = v3 & 0x1F;
        v9 = ((int)v3 >> 5) & 3;
        if ( (v3 & 0x1F) == 0 )
        {
          v10 = sub_451DF0();
          --dword_501894;
          v8 = v10;
        }
        v11 = v9 + 2;
        goto LABEL_17;
      }
      v12 = sub_451DF0();
      if ( v4 == 127 )
      {
        v13 = ((unsigned __int8)sub_451DF0() << 8) | v12;
        v14 = (unsigned __int8)sub_451DF0();
        v15 = sub_451DF0();
        dword_501894 -= 4;
        v8 = (v15 << 8) | v14;
        v11 = v13 + 2;
        goto LABEL_17;
      }
      v7 = v12;
      v16 = sub_451DF0();
      dword_501894 -= 2;
      v6 = v16;
    }
    else
    {
      v5 = sub_451DF0();
      --dword_501894;
      v6 = v4 & 3;
      v7 = v5;
      v4 = (v4 >> 2) & 0xF;
    }
    v8 = (v6 << 8) | v7;
    v11 = v4 + 4;
LABEL_17:
    v17 = (unsigned __int16)(dword_5158C4 - v8);
    dword_5158C8 += v11;
    do
    {
      v18 = dword_5158C4;
      byte_5058C0[dword_5158C4] = byte_5058C0[v17];
      v17 = (unsigned __int16)(v17 + 1);
      --v11;
      dword_5158C4 = v18 + 1;
      HIWORD(dword_5158C4) = 0;
    }
    while ( v11 );
    goto LABEL_19;
  }
LABEL_21:
  dword_5158C8 -= 0x2000;
  return dword_501894 + dword_5158C8;
}
// 501894:  int dword_501894
// 5158C0:  int dword_5158C0
// 5158C4:  int dword_5158C4
// 5158C8:  int dword_5158C8

//----- (00452050) --------------------------------------------------------
int __cdecl sub_452050(int a1, int a2)
{
  int v2; // edi
  int v3; // esi
  int v4; // kr00_4
  int result; // eax

  v2 = sub_478030((_DWORD *)(a1 + 8), -1);
  v3 = *(_DWORD *)(v2 + 4) * sub_477810((_DWORD *)(a1 + 8), -1);
  *(_WORD *)a2 = 1;
  *(_WORD *)(a2 + 2) = *(_WORD *)(v2 + 4);
  *(_DWORD *)(a2 + 4) = *(_DWORD *)(v2 + 8);
  *(_WORD *)(a2 + 14) = 16;
  v4 = 16 * *(_DWORD *)(v2 + 4);
  *(_WORD *)(a2 + 12) = v4 / 8;
  *(_DWORD *)(a2 + 8) = *(_DWORD *)(a2 + 4) * (unsigned __int16)(v4 / 8);
  result = 2 * v3;
  *(_WORD *)(a2 + 16) = 0;
  return result;
}

//----- (004520D0) --------------------------------------------------------
int __cdecl sub_4520D0(int a1)
{
  return sub_4765F0((void **)(a1 + 8));
}

//----- (004520E0) --------------------------------------------------------
int __cdecl sub_4520E0(int a1, void **a2, int Size, _DWORD *a4)
{
  int v4; // edi
  int v5; // esi
  int v6; // ebx
  int v7; // eax

  v4 = Size;
  v5 = 4096;
  if ( Size < 4096 )
    v5 = Size;
  memset(*a2, 0, Size);
  v6 = 0;
  while ( 1 )
  {
    v7 = sub_478420((_DWORD *)(a1 + 8), (int)*a2 + v6, v5, 0, 2, 1, 0);
    if ( !v7 )
    {
LABEL_8:
      *a4 = v6;
      return v6;
    }
    if ( v7 < 0 )
      break;
    v4 -= v7;
    v5 = 4096;
    v6 += v7;
    if ( v4 < 4096 )
    {
      v5 = v4;
      if ( v4 <= 0 )
        goto LABEL_8;
    }
  }
  *a4 = 0;
  return -1;
}

//----- (00452170) --------------------------------------------------------
void *__cdecl sub_452170(int FileHandle, _off_t Size, void ***a3, int a4)
{
  void **v4; // esi
  _off_t v5; // eax
  void *v6; // eax

  *a3 = 0;
  v4 = (void **)&unk_4F9510;
  if ( !a4 )
    v4 = (void **)&unk_4F9504;
  v5 = Size;
  v4[2] = 0;
  if ( !Size )
    v5 = sub_4527A0(FileHandle);
  v4[1] = (void *)v5;
  v6 = malloc(v5);
  *v4 = v6;
  if ( v6 )
  {
    if ( (void *)_read(FileHandle, v6, (unsigned int)v4[1]) == v4[1] )
    {
      _close(FileHandle);
      *a3 = v4;
      return v4[1];
    }
    else
    {
      free(*v4);
      _close(FileHandle);
      return 0;
    }
  }
  else
  {
    _close(FileHandle);
    return 0;
  }
}

//----- (00452210) --------------------------------------------------------
unsigned int __cdecl sub_452210(void *a1, unsigned int a2, int a3, _DWORD *a4)
{
  unsigned int result; // eax
  signed int v5; // ecx
  unsigned int v6; // eax
  const void *v7; // edx

  if ( !a4 )
    return -1;
  v5 = a4[2];
  v6 = a4[1];
  if ( v5 >= (int)v6 || !*a4 || v5 == -1 )
    return 0;
  v7 = (const void *)(v5 + *a4);
  if ( v5 + a3 * a2 < v6 )
  {
    memcpy(a1, v7, a3 * a2);
    a4[2] += a3 * a2;
    return a3;
  }
  else
  {
    memcpy(a1, v7, v6 - v5);
    result = (a4[1] - a4[2]) / a2;
    a4[2] = a4[1];
  }
  return result;
}

//----- (00452300) --------------------------------------------------------
int __cdecl sub_452300(_DWORD *a1)
{
  if ( a1 && *a1 )
    return a1[2];
  else
    return -1;
}

//----- (00452320) --------------------------------------------------------
int __cdecl sub_452320(void **a1)
{
  if ( !a1 || !*a1 )
    return -1;
  free(*a1);
  *a1 = 0;
  return 0;
}

//----- (00452350) --------------------------------------------------------
int __cdecl sub_452350(int a1, void *a2)
{
  *(_DWORD *)a1 = a2;
  return sub_4766F0(
           a2,
           (void **)(a1 + 8),
           0,
           0,
           sub_452210,
           (int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD))sub_452290,
           sub_452320,
           sub_452300);
}
// 452290:  int sub_452290()

//----- (004523A0) --------------------------------------------------------
int __cdecl sub_4523A0(void *a1, int a2, _DWORD *a3)
{
  int v4; // ebx
  int v5; // edi
  int v6; // kr00_4
  int v7; // edx
  size_t v8; // edi
  void *v9; // ebx
  int v10; // esi
  int v11; // eax
  void *Block[180]; // [esp+14h] [ebp-2D4h] BYREF

  if ( !a1 )
    return -1;
  *a3 = 0;
  switch ( sub_4766F0(
             a1,
             Block,
             0,
             0,
             sub_452210,
             (int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD))sub_452290,
             sub_452320,
             sub_452300) )
  {
    case -134:
    case -133:
    case -132:
    case -129:
    case -128:
      return -1;
    default:
      v4 = sub_478030(Block, -1);
      v5 = *(_DWORD *)(v4 + 4) * sub_477810(Block, -1);
      *(_WORD *)a2 = 1;
      *(_WORD *)(a2 + 2) = *(_WORD *)(v4 + 4);
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(v4 + 8);
      *(_WORD *)(a2 + 14) = 16;
      v6 = 16 * *(_DWORD *)(v4 + 4);
      v7 = *(_DWORD *)(a2 + 4) * (unsigned __int16)(v6 / 8);
      *(_WORD *)(a2 + 12) = v6 / 8;
      v8 = 2 * v5;
      *(_DWORD *)(a2 + 8) = v7;
      *(_WORD *)(a2 + 16) = 0;
      v9 = malloc(v8);
      if ( !v9 )
      {
        sub_4765F0(Block);
        return -1;
      }
      v10 = 0;
      break;
  }
  while ( 1 )
  {
    v11 = sub_478420(Block, (int)v9 + v10, v8 - v10, 0, 2, 1, 0);
    if ( !v11 )
      break;
    if ( v11 < 0 )
    {
      sub_4765F0(Block);
      free(v9);
      return -1;
    }
    v10 += v11;
  }
  sub_4765F0(Block);
  *a3 = v9;
  return v8;
}
// 452290:  int sub_452290()

//----- (00452550) --------------------------------------------------------
void sub_452550()
{
  if ( Base )
  {
    free(Base);
    Base = 0;
  }
  if ( dword_4F9524 )
  {
    free(dword_4F9524);
    dword_4F9524 = 0;
  }
}

//----- (00452590) --------------------------------------------------------
void __cdecl sub_452590(int a1)
{
  int v1; // eax
  int v2; // esi
  void *v3; // eax
  CHAR FileName[256]; // [esp+4h] [ebp-104h] BYREF

  sub_452550();
  if ( !Base )
  {
    sub_4076E0(a1, FileName);
    v1 = _open(FileName, 0x8000, 0);
    v2 = v1;
    if ( v1 != -1 )
    {
      _read(v1, &NumOfElements, 4u);
      v3 = malloc(NumOfElements << 6);
      Base = v3;
      if ( v3 )
      {
        _read(v2, v3, 8 * NumOfElements);
        _read(v2, Base, NumOfElements << 6);
        _close(v2);
        qsort(Base, NumOfElements, 0x40u, CompareFunction);
      }
      else
      {
        _close(v2);
        NumOfElements = 0;
      }
    }
  }
}

//----- (004526A0) --------------------------------------------------------
int __cdecl sub_4526A0(char *a1, char *lpFileName)
{
  int v3; // eax
  char v4; // cl
  char *v5; // edx
  char v6; // cl
  signed int v7; // ebx
  int v8; // edi
  int v9; // esi
  int v10; // eax
  char String1[80]; // [esp+4h] [ebp-54h] BYREF

  if ( !Base )
    return 0;
  v3 = (int)a1;
  v4 = *a1;
  if ( *a1 )
  {
    while ( v4 != 92 )
    {
      v4 = *(_BYTE *)++v3;
      if ( !v4 )
        goto LABEL_6;
    }
    goto LABEL_7;
  }
LABEL_6:
  if ( *(_BYTE *)v3 == 92 )
LABEL_7:
    ++v3;
  v5 = &String1[-v3];
  do
  {
    v6 = *(_BYTE *)v3;
    v5[v3] = *(_BYTE *)v3;
    ++v3;
  }
  while ( v6 );
  sub_406CC0(String1, ".pcm");
  v7 = NumOfElements;
  v8 = 0;
  if ( (NumOfElements & 0x80000000) != 0 )
    return 0;
  while ( 1 )
  {
    v9 = v8 + (v7 - v8) / 2;
    v10 = _stricmp(String1, (const char *)Base + 64 * v9);
    if ( !v10 )
      break;
    if ( v10 <= 0 )
      v7 = v9 - 1;
    else
      v8 = v9 + 1;
    if ( v7 < v8 )
      return 0;
  }
  sub_4076E0((int)"VOICE.DAT", lpFileName);
  return *((_DWORD *)Base + 16 * v9 + 14);
}

//----- (004527A0) --------------------------------------------------------
_off_t __cdecl sub_4527A0(int FileHandle)
{
  struct _stat64i32 Stat; // [esp+0h] [ebp-30h] BYREF

  _fstat64i32(FileHandle, &Stat);
  return Stat.st_size;
}

//----- (004527C0) --------------------------------------------------------
void *__cdecl sub_4527C0(signed int Size)
{
  size_t v1; // eax

  v1 = Size;
  if ( Size < 0x4000 )
    v1 = 0x4000;
  return malloc(v1);
}

//----- (004527E0) --------------------------------------------------------
void __cdecl sub_4527E0(_WORD *a1, int a2, char *a3, int a4, int a5)
{
  int v5; // ebx
  int v6; // esi
  int v8; // edx
  _DWORD *v9; // eax
  int v10; // ecx
  int v11; // ecx

  v5 = a2;
  v6 = 0;
  if ( a2 )
  {
    while ( 1 )
    {
      v8 = *a3;
      v9 = (_DWORD *)(a4 + 12 * v6);
      v10 = v9[1];
      --v5;
      ++a3;
      *v9 += v8 << v10;
      if ( v8 )
        break;
      if ( v10 )
      {
        v11 = v10 - 1;
LABEL_9:
        v9[1] = v11;
      }
LABEL_10:
      *a1++ = *(_WORD *)v9;
      if ( a5 == 2 )
        v6 = 1 - v6;
      if ( !v5 )
        return;
    }
    if ( v8 != 127 && v8 != -128 || v10 == 8 )
      goto LABEL_10;
    v11 = v10 + 1;
    goto LABEL_9;
  }
}

//----- (00452860) --------------------------------------------------------
int __cdecl sub_452860(int a1, int *a2)
{
  void **v2; // esi
  unsigned int v3; // eax
  _DWORD *v5; // ebx
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // esi
  unsigned int v11; // eax
  _WORD *v12; // [esp-24h] [ebp-28h]

  v2 = (void **)a1;
  *(_DWORD *)a1 = &unk_4F9658;
  v3 = Val;
  if ( Val )
  {
    v5 = a2;
    if ( dword_4F9654 )
    {
      if ( dword_4F9654 == 2 )
      {
        v7 = (int)Val / 2;
        if ( (int)Val / 2 > 0x2000 )
          v7 = 0x2000;
        v8 = _read((int)FileHandle, byte_4FB658, v7);
        v12 = *v2;
        a1 = v8;
        sub_4527E0(v12, v8, byte_4FB658, (int)&dword_4FD658, dword_4FD670);
        Val -= 2 * a1;
        *v5 = 2 * a1;
        return 1;
      }
      else if ( dword_4F9654 == 5 )
      {
        v9 = *a2;
        if ( *a2 > 0x4000 || !v9 )
          v9 = 0x4000;
        sub_4520E0((int)&unk_4FD678, v2, v9, &a1);
        Val -= a1;
        *v5 = a1;
        return 1;
      }
      else
      {
        if ( dword_4FD670 )
          qmemcpy(&unk_4F9658, (char *)&unk_4F9658 + dword_4FD670, 0x40u);
        a1 = 0;
        do
        {
          v10 = sub_451E70();
          sub_451B60((__int16 *)((char *)&unk_4F9658 + a1), dword_4BA720);
          v11 = a1 + 8128;
          a1 += 8128;
        }
        while ( v10 && v11 < 0x2000 );
        dword_4FD670 = v11;
        if ( v11 > Val )
          v11 = Val;
        Val -= v11;
        *v5 = v11;
        return 1;
      }
    }
    else
    {
      if ( (int)Val > 0x4000 )
        v3 = 0x4000;
      v6 = _read((int)FileHandle, &unk_4F9658, v3);
      Val -= v6;
      *v5 = v6;
      return 1;
    }
  }
  else
  {
    memset(&unk_4F9658, 0, 0x4000u);
    *a2 = 0;
    if ( FileHandle != (HANDLE)-1 )
      _close((int)FileHandle);
    FileHandle = (HANDLE)-1;
    return 0;
  }
}
// 4BA720:  int dword_4BA720
// 4F9654:  int dword_4F9654
// 4FD658:  int dword_4FD658
// 4FD670:  int dword_4FD670

//----- (00452A10) --------------------------------------------------------
int sub_452A10()
{
  if ( FileHandle != (HANDLE)-1 )
  {
    _close((int)FileHandle);
    FileHandle = (HANDLE)-1;
  }
  return sub_4520D0((int)&unk_4FD678);
}

//----- (00452A40) --------------------------------------------------------
int __cdecl sub_452A40(char *a1, int a2, int a3)
{
  int v3; // ebp
  bool v4; // zf
  _DWORD *v5; // ebx
  void *v6; // esi
  int v7; // eax
  int result; // eax
  int v9; // eax
  int v10; // ebx
  void *v11; // eax
  void *v12; // edi
  void *v13; // eax
  void *v14; // eax
  unsigned __int8 *v15; // edi
  unsigned __int8 *v16; // eax
  char v17; // bl
  int *v18; // ebp
  signed int v19; // edi
  signed int v20; // eax
  size_t v21; // eax
  void *v22; // eax
  unsigned int v23; // eax
  void **v24; // esi
  unsigned int v25; // [esp-18h] [ebp-978h]
  unsigned int MaxCharCount; // [esp+10h] [ebp-950h] BYREF
  unsigned __int8 *v27; // [esp+14h] [ebp-94Ch] BYREF
  void **v28; // [esp+18h] [ebp-948h]
  int v29; // [esp+1Ch] [ebp-944h] BYREF
  int v30; // [esp+20h] [ebp-940h]
  unsigned int v31; // [esp+24h] [ebp-93Ch] BYREF
  int v32; // [esp+28h] [ebp-938h]
  int v33[6]; // [esp+2Ch] [ebp-934h] BYREF
  int v34; // [esp+44h] [ebp-91Ch] BYREF
  size_t v35; // [esp+48h] [ebp-918h]
  int DstBuf; // [esp+4Ch] [ebp-914h] BYREF
  size_t Size; // [esp+50h] [ebp-910h]
  int v38; // [esp+54h] [ebp-90Ch]
  char v39[260]; // [esp+58h] [ebp-908h] BYREF
  char v40[2048]; // [esp+15Ch] [ebp-804h] BYREF

  v3 = a2;
  v4 = *(_DWORD *)(a2 + 260) == 0;
  v5 = (_DWORD *)(a2 + 284);
  v32 = a2;
  v28 = (void **)(a2 + 284);
  *(_DWORD *)(a2 + 284) = 0;
  if ( !v4 )
  {
    v6 = (void *)_open(a1, 0x8000, 0);
    if ( v6 != (void *)-1 )
    {
      _lseek((int)v6, *(_DWORD *)(a2 + 260), 0);
      off_4BA724 = (char (*)[4])a1;
      goto LABEL_17;
    }
    return 1;
  }
  strcpy(v39, a1);
  sub_406CC0(v39, ".pcm");
  v6 = (void *)_open(v39, 0x8000, 0);
  if ( v6 == (void *)-1 )
  {
    sub_406CC0(v39, ".wav");
    v6 = (void *)_open(v39, 0x8000, 0);
    if ( v6 == (void *)-1 )
    {
      sub_406CC0(v39, ".ogg");
      v7 = _open(v39, 0x8000, 0);
      if ( v7 != -1 )
      {
        off_4BA724 = (char (*)[4])v39;
        if ( (int)sub_452170(v7, *(_DWORD *)(a2 + 256), (void ***)&v29, a3) > 0 )
        {
          if ( a3 )
          {
            switch ( sub_452350((int)&unk_4FD678, (void *)v29) )
            {
              case -134:
              case -133:
              case -132:
              case -129:
              case -128:
                return 1;
              default:
                v9 = sub_452050((int)&unk_4FD678, a2 + 264);
                if ( v9 < 0 )
                  return 1;
LABEL_12:
                Val = v9;
                FileHandle = (HANDLE)-1;
                dword_4F9654 = 5;
                break;
            }
          }
          else
          {
            v9 = sub_4523A0((void *)v29, a2 + 264, v5);
          }
          goto LABEL_14;
        }
      }
      return 1;
    }
  }
  off_4BA724 = (char (*)[4])v39;
LABEL_17:
  v30 = 1;
  v27 = (unsigned __int8 *)_read((int)v6, &DstBuf, 0xCu);
  if ( v27 != (unsigned __int8 *)12 )
    goto LABEL_78;
  if ( DstBuf != 1296257112 )
  {
    if ( DstBuf != 1179011410 && v38 != 1163280727 )
      goto LABEL_77;
    v19 = Size - 4;
    while ( 1 )
    {
      v27 = (unsigned __int8 *)_read((int)v6, &v34, 8u);
      if ( v27 != (unsigned __int8 *)8 )
        goto LABEL_77;
      v19 -= 8;
      if ( v34 == 544501094 )
      {
        v27 = (unsigned __int8 *)_read((int)v6, (void *)(a2 + 264), 0x10u);
        if ( v27 != (unsigned __int8 *)16 )
          goto LABEL_77;
        v19 -= 16;
        v20 = v35 - 16;
        v35 = v20;
        if ( (unsigned int)v20 > 0x800 )
          goto LABEL_77;
        if ( v20 > 0 )
        {
          v27 = (unsigned __int8 *)_read((int)v6, v40, v20);
          if ( v27 != (unsigned __int8 *)v35 )
            goto LABEL_77;
        }
      }
      else
      {
        v21 = v35;
        if ( v34 == 1635017060 )
        {
          MaxCharCount = v35;
          if ( a3 )
          {
            Val = v35;
            FileHandle = v6;
            dword_4F9654 = 0;
LABEL_76:
            v30 = 0;
            goto LABEL_77;
          }
          v22 = sub_4527C0(v35);
          *v5 = v22;
          if ( v22 )
          {
            v27 = (unsigned __int8 *)_read((int)v6, v22, MaxCharCount);
            if ( v27 == (unsigned __int8 *)MaxCharCount )
              goto LABEL_76;
          }
LABEL_77:
          v23 = MaxCharCount;
          *(_WORD *)(v3 + 280) = 0;
          *(_DWORD *)(v3 + 256) = v23;
LABEL_78:
          if ( !a3 )
LABEL_79:
            _close((int)v6);
          if ( v30 )
          {
            v24 = v28;
            if ( *v28 )
            {
              free(*v28);
              *v24 = 0;
            }
            return 1;
          }
          return 0;
        }
        if ( v35 > 0x800 )
        {
          do
          {
            v27 = (unsigned __int8 *)_read((int)v6, v40, 0x800u);
            v21 = v35 - 2048;
            v35 = v21;
          }
          while ( v21 > 0x800 );
        }
        v27 = (unsigned __int8 *)_read((int)v6, v40, v21);
      }
      if ( v19 <= 0 )
        goto LABEL_77;
    }
  }
  v10 = (char)v38;
  if ( (char)v38 == 1 || (char)v38 == 3 )
  {
    MaxCharCount = Size;
    v27 = (unsigned __int8 *)_read((int)v6, (void *)(a2 + 264), 0x10u);
    if ( v27 != (unsigned __int8 *)16 )
      goto LABEL_78;
    v27 = (unsigned __int8 *)_read((int)v6, &v31, 4u);
    if ( v27 != (unsigned __int8 *)4 )
      goto LABEL_78;
    if ( a3 )
    {
      Val = MaxCharCount;
      FileHandle = v6;
      dword_4F9654 = 1;
      dword_4FD670 = 0;
      dword_4BA720 = SBYTE1(v38);
      sub_451E40(v31);
      memset(&unk_4F9658, 0, 0x40u);
      v30 = 0;
      goto LABEL_77;
    }
    v14 = sub_4527C0(MaxCharCount + 0x2000);
    *v28 = v14;
    if ( !v14 )
      goto LABEL_79;
    v15 = (unsigned __int8 *)malloc((((int)MaxCharCount / 4064) << 12) + 16386);
    if ( !v15 )
      goto LABEL_79;
    v27 = (unsigned __int8 *)_read((int)v6, *v28, v31);
    if ( v27 != (unsigned __int8 *)v31 )
      goto LABEL_79;
    if ( v10 == 3 )
    {
      v16 = (unsigned __int8 *)*v28;
      v27 = (unsigned __int8 *)((((int)MaxCharCount / 4064) << 12) + 16386);
      sub_473920(v15, &v27, v16, (unsigned __int8 *)v31);
    }
    else
    {
      sub_451A60((unsigned __int8 *)*v28, v31, v15);
    }
    v17 = BYTE1(v38);
    v18 = (int *)malloc(0x8000u);
    if ( !v18 )
    {
      free(v15);
      goto LABEL_79;
    }
    sub_451600((__int16 *)*v28, (char *)v15, MaxCharCount, v17, v18);
    free(v18);
    free(v15);
    v3 = v32;
LABEL_55:
    v30 = 0;
    goto LABEL_77;
  }
  if ( (char)v38 == 2 )
  {
    MaxCharCount = Size;
    v27 = (unsigned __int8 *)_read((int)v6, (void *)(a2 + 264), 0x10u);
    if ( v27 != (unsigned __int8 *)16 )
      goto LABEL_78;
    if ( a3 )
    {
      Val = MaxCharCount;
      FileHandle = v6;
      dword_4F9654 = 2;
      dword_4FD670 = *(unsigned __int16 *)(a2 + 266);
      dword_4FD658 = 0;
      dword_4FD65C = 0;
      dword_4FD664 = 0;
      dword_4FD668 = 0;
      v30 = 0;
      goto LABEL_77;
    }
    v11 = sub_4527C0(MaxCharCount);
    *v28 = v11;
    if ( v11 )
    {
      v12 = malloc((int)MaxCharCount / 2);
      if ( v12 )
      {
        v27 = (unsigned __int8 *)_read((int)v6, v12, (int)MaxCharCount / 2);
        if ( v27 == (unsigned __int8 *)((int)MaxCharCount / 2) )
        {
          v33[0] = 0;
          v33[1] = 0;
          v33[3] = 0;
          v33[4] = 0;
          sub_4527E0(*v28, (int)MaxCharCount / 2, (char *)v12, (int)v33, *(unsigned __int16 *)(a2 + 266));
          free(v12);
          v30 = 0;
          goto LABEL_77;
        }
      }
    }
    goto LABEL_79;
  }
  if ( (char)v38 != 5 )
  {
    v27 = (unsigned __int8 *)_read((int)v6, (void *)(a2 + 264), 0x10u);
    if ( v27 != (unsigned __int8 *)16 )
      goto LABEL_78;
    MaxCharCount = Size;
    if ( a3 )
    {
      Val = Size;
      FileHandle = v6;
      dword_4F9654 = 0;
      v30 = 0;
      goto LABEL_77;
    }
    v13 = sub_4527C0(Size);
    *v28 = v13;
    if ( !v13 )
      goto LABEL_79;
    v27 = (unsigned __int8 *)_read((int)v6, v13, MaxCharCount);
    if ( v27 != (unsigned __int8 *)MaxCharCount )
      goto LABEL_79;
    goto LABEL_55;
  }
  v27 = (unsigned __int8 *)_read((int)v6, &MaxCharCount, 4u);
  v25 = MaxCharCount;
  *(_DWORD *)(a2 + 256) = MaxCharCount;
  if ( (int)sub_452170((int)v6, v25, (void ***)&v29, a3) <= 0 )
    return 1;
  if ( !a3 )
  {
    v9 = sub_4523A0((void *)v29, a2 + 264, v28);
LABEL_14:
    *(_DWORD *)(a2 + 256) = v9;
    return 0;
  }
  switch ( sub_452350((int)&unk_4FD678, (void *)v29) )
  {
    case -134:
    case -133:
    case -132:
    case -129:
    case -128:
      return 1;
    default:
      v9 = sub_452050((int)&unk_4FD678, a2 + 264);
      if ( v9 >= 0 )
        goto LABEL_12;
      result = 1;
      break;
  }
  return result;
}
// 4BA720:  int dword_4BA720
// 4BA724:  char (*off_4BA724)[4]
// 4F9654:  int dword_4F9654
// 4FD658:  int dword_4FD658
// 4FD65C:  int dword_4FD65C
// 4FD664:  int dword_4FD664
// 4FD668:  int dword_4FD668
// 4FD670:  int dword_4FD670

//----- (00453250) --------------------------------------------------------
LPVOID sub_453250()
{
  LPVOID result; // eax

  if ( dword_4FDA80 )
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_4FDA80 + 76))(dword_4FDA80, 0);
  if ( dword_4FDA98 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA98 + 8))(dword_4FDA98);
  dword_4FDA98 = 0;
  if ( dword_4FDA94 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA94 + 8))(dword_4FDA94);
  dword_4FDA94 = 0;
  if ( dword_4FDA90 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA90 + 8))(dword_4FDA90);
  dword_4FDA90 = 0;
  if ( dword_4FDA7C )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA7C + 8))(dword_4FDA7C);
  dword_4FDA7C = 0;
  if ( dword_4FDA8C )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA8C + 8))(dword_4FDA8C);
  dword_4FDA8C = 0;
  if ( dword_4FDA78 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA78 + 8))(dword_4FDA78);
  dword_4FDA78 = 0;
  if ( dword_4FDA84 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA84 + 8))(dword_4FDA84);
  dword_4FDA84 = 0;
  if ( dword_4FDA88 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA88 + 8))(dword_4FDA88);
  dword_4FDA88 = 0;
  if ( dword_4FDA80 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA80 + 8))(dword_4FDA80);
  result = ppv;
  dword_4FDA80 = 0;
  if ( ppv )
    result = (LPVOID)(*(int (__stdcall **)(LPVOID))(*(_DWORD *)ppv + 8))(ppv);
  ppv = 0;
  return result;
}
// 4FDA78:  int dword_4FDA78
// 4FDA7C:  int dword_4FDA7C
// 4FDA80:  int dword_4FDA80
// 4FDA84:  int dword_4FDA84
// 4FDA88:  int dword_4FDA88
// 4FDA8C:  int dword_4FDA8C
// 4FDA90:  int dword_4FDA90
// 4FDA94:  int dword_4FDA94
// 4FDA98:  int dword_4FDA98

//----- (00453350) --------------------------------------------------------
int sub_453350()
{
  int result; // eax
  int v1; // esi
  int v2; // [esp+24h] [ebp-Ch] BYREF
  int v3; // [esp+28h] [ebp-8h] BYREF
  int v4; // [esp+2Ch] [ebp-4h] BYREF

  result = dword_4FDA7C;
  v1 = 0;
  if ( dword_4FDA7C )
  {
    if ( (*(int (__stdcall **)(int, int *, int *, int *, _DWORD))(*(_DWORD *)dword_4FDA7C + 32))(
           dword_4FDA7C,
           &v2,
           &v4,
           &v3,
           0) >= 0 )
    {
      do
      {
        v1 = (*(int (__stdcall **)(int, int, int, int))(*(_DWORD *)dword_4FDA7C + 48))(dword_4FDA7C, v2, v4, v3);
        if ( v2 == 1 )
          dword_4FD954 = 1;
      }
      while ( dword_4FDA7C
           && (*(int (__stdcall **)(int, int *, int *, int *, _DWORD))(*(_DWORD *)dword_4FDA7C + 32))(
                dword_4FDA7C,
                &v2,
                &v4,
                &v3,
                0) >= 0 );
    }
    return v1;
  }
  return result;
}
// 4FD954:  int dword_4FD954
// 4FDA7C:  int dword_4FDA7C

//----- (004533F0) --------------------------------------------------------
HWND sub_4533F0()
{
  HWND result; // eax

  result = dword_4FDA70;
  if ( dword_4FDA70 )
  {
    InvalidateRect(dword_4FDA70, 0, 0);
    return (HWND)UpdateWindow(dword_4FDA70);
  }
  return result;
}

//----- (00453420) --------------------------------------------------------
int sub_453420()
{
  float v1; // [esp+0h] [ebp-10h]
  float v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h] BYREF
  int v4; // [esp+Ch] [ebp-4h] BYREF

  if ( *((_DWORD *)dword_4C0874 + 3) )
    return (*(int (__stdcall **)(int, _DWORD, _DWORD, int, int))(*(_DWORD *)dword_4FDA80 + 156))(
             dword_4FDA80,
             0,
             0,
             1280,
             720);
  sub_438CD0(dword_4C0874, &v4, &v3);
  v2 = *((float *)dword_4C0874 + 59) * 1280.0;
  v1 = *((float *)dword_4C0874 + 60) * 720.0;
  return (*(int (__stdcall **)(int, int, int, int, int))(*(_DWORD *)dword_4FDA80 + 156))(
           dword_4FDA80,
           (int)*((float *)dword_4C0874 + 61),
           (int)*((float *)dword_4C0874 + 62),
           (int)v2,
           (int)v1);
}
// 4FDA80:  int dword_4FDA80

//----- (004534D0) --------------------------------------------------------
int __thiscall sub_4534D0(void *this)
{
  int result; // eax
  void *v2; // [esp+0h] [ebp-4h] BYREF

  v2 = this;
  result = dword_4FDA80;
  dword_4FD95C = 0;
  if ( !dword_4FDA80
    || !dword_4FDA88
    || (result = (*(int (__stdcall **)(int, void **))(*(_DWORD *)dword_4FDA80 + 80))(dword_4FDA80, &v2),
        result == -2147467262) )
  {
    dword_4FD95C = 1;
  }
  return result;
}
// 4FD95C:  int dword_4FD95C
// 4FDA80:  int dword_4FDA80
// 4FDA88:  int dword_4FDA88

//----- (00453510) --------------------------------------------------------
LPVOID sub_453510()
{
  LPVOID result; // eax

  if ( dword_4FDA78 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4FDA78 + 36))(dword_4FDA78);
  dword_4FDA6C = 0;
  dword_4FD95C = 1;
  result = sub_453250();
  String1 = 0;
  dword_4FDA6C = 3;
  return result;
}
// 4FD95C:  int dword_4FD95C
// 4FDA6C:  int dword_4FDA6C
// 4FDA78:  int dword_4FDA78

//----- (00453550) --------------------------------------------------------
int sub_453550()
{
  sub_453420();
  return 0;
}

//----- (00453560) --------------------------------------------------------
HRESULT __cdecl sub_453560(LPCCH lpMultiByteStr)
{
  HRESULT result; // eax
  void *v2; // ecx
  int v3; // eax
  int v4; // esi
  WCHAR WideCharStr[260]; // [esp+4h] [ebp-20Ch] BYREF

  UpdateWindow(dword_4FD958);
  MultiByteToWideChar(0, 0, lpMultiByteStr, -1, WideCharStr, 260);
  result = CoCreateInstance(&stru_4A45FC, 0, 1u, &stru_4A466C, &ppv);
  if ( result < 0 )
    return result;
  result = (*(int (__stdcall **)(LPVOID, WCHAR *, _DWORD))(*(_DWORD *)ppv + 52))(ppv, WideCharStr, 0);
  if ( result < 0 )
    return result;
  result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_4A460C, &dword_4FDA78);
  if ( result < 0 )
    return result;
  result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_4A461C, &dword_4FDA7C);
  if ( result < 0 )
    return result;
  result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_4A465C, &dword_4FDA8C);
  if ( result < 0 )
    return result;
  result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_4A463C, &dword_4FDA80);
  if ( result < 0 )
    return result;
  result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_4A464C, &dword_4FDA88);
  if ( result < 0 )
    return result;
  result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_4A462C, &dword_4FDA84);
  if ( result < 0 )
    return result;
  sub_4534D0(v2);
  if ( !dword_4FD95C )
  {
    result = (*(int (__stdcall **)(int, HWND))(*(_DWORD *)dword_4FDA80 + 116))(dword_4FDA80, dword_4FD958);
    if ( result < 0 )
      return result;
    result = (*(int (__stdcall **)(int, int))(*(_DWORD *)dword_4FDA80 + 36))(dword_4FDA80, 1174405120);
    if ( result < 0 )
      return result;
    result = (*(int (__stdcall **)(int, HWND))(*(_DWORD *)dword_4FDA80 + 124))(dword_4FDA80, dword_4FD958);
    if ( result < 0 )
      return result;
  }
  result = (*(int (__stdcall **)(int, HWND, int, _DWORD))(*(_DWORD *)dword_4FDA7C + 52))(
             dword_4FDA7C,
             dword_4FD958,
             1037,
             0);
  if ( result < 0 )
    return result;
  if ( dword_4FD95C )
  {
    result = sub_454640();
    if ( result < 0 )
      return result;
  }
  else
  {
    result = sub_453550();
    if ( result < 0 )
      return result;
  }
  v3 = 50 * *((_DWORD *)Buf + 22) * *((_DWORD *)Buf + 32) / 100 - 5000;
  if ( !*((_DWORD *)Buf + 31) || !*((_DWORD *)Buf + 22) )
    goto LABEL_23;
  if ( v3 <= 0 )
  {
    if ( v3 >= -10000 )
      goto LABEL_24;
LABEL_23:
    v3 = -10000;
    goto LABEL_24;
  }
  v3 = 0;
LABEL_24:
  if ( !*((_DWORD *)Buf + 37) )
    v3 = -10000;
  if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)dword_4FDA84 + 28))(dword_4FDA84, v3)
    || (result = (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_4FDA84 + 28))(dword_4FDA84, 0), result >= 0) )
  {
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_4FDA80 + 148))(dword_4FDA80, 0);
    v4 = (*(int (__stdcall **)(int))(*(_DWORD *)dword_4FDA78 + 28))(dword_4FDA78);
    if ( v4 >= 0 )
    {
      dword_4FDA70 = GetWindow(hWnd, 5u);
      dword_4FDA6C = 2;
    }
    return v4;
  }
  return result;
}
// 453690: variable 'v2' is possibly undefined
// 4FD95C:  int dword_4FD95C
// 4FDA6C:  int dword_4FDA6C
// 4FDA78:  int dword_4FDA78
// 4FDA7C:  int dword_4FDA7C
// 4FDA80:  int dword_4FDA80
// 4FDA84:  int dword_4FDA84
// 4FDA88:  int dword_4FDA88
// 4FDA8C:  int dword_4FDA8C

//----- (00453830) --------------------------------------------------------
int sub_453830()
{
  dword_4FDA6C = 0;
  dword_4FDA64 = 0;
  if ( sub_453560(&String1) >= 0 )
    return 0;
  sub_453510();
  return -1;
}
// 4FDA64:  int dword_4FDA64
// 4FDA6C:  int dword_4FDA6C

//----- (00453860) --------------------------------------------------------
LPVOID __cdecl sub_453860(LPCSTR lpString2, HWND hWnd)
{
  int v2; // esi
  int v4; // esi
  int v5; // esi

  v2 = *((_DWORD *)dword_4C0874 + 76);
  sub_439020((int)dword_4C0874, dwNewLong);
  *((_DWORD *)dword_4C0874 + 76) = v2;
  lstrcpyA(&String1, lpString2);
  dword_4FDA6C = 3;
  dword_4FD958 = hWnd;
  if ( sub_453830() )
    return (LPVOID)sub_439020((int)dword_4C0874, dwNewLong);
  v4 = 0;
  dword_4FD954 = 0;
  dword_4C0898 = 1;
  sub_442D70(dword_4C087C, 1);
  do
  {
    Sleep(0xAu);
    sub_443210((int)dword_4C087C);
    if ( sub_442FB0(dword_4C087C) )
      v4 = 1;
  }
  while ( !sub_40F070(hWnd) && !v4 && !dword_4FD954 );
  v5 = *((_DWORD *)dword_4C0874 + 76);
  sub_439020((int)dword_4C0874, dwNewLong);
  *((_DWORD *)dword_4C0874 + 76) = v5;
  sub_442D70(dword_4C087C, *((_DWORD *)dword_4C0874 + 76));
  dword_4FDA70 = 0;
  dword_4C0898 = 0;
  return sub_453510();
}
// 4C0898:  int dword_4C0898
// 4FD954:  int dword_4FD954
// 4FDA6C:  int dword_4FDA6C

//----- (00453990) --------------------------------------------------------
void __thiscall sub_453990(_DWORD *this)
{
  int v2; // eax
  char v3[4]; // [esp+4h] [ebp-4h] BYREF

  std::_Lockit::_Lockit((std::_Lockit *)v3, 0);
  v2 = this[1];
  if ( v2 != -1 )
    this[1] = v2 + 1;
  std::_Lockit::~_Lockit((std::_Lockit *)v3);
}
// 453990:  char var_4[4]

//----- (004539C0) --------------------------------------------------------
int __fastcall sub_4539C0(int a1)
{
  int v2; // eax
  int v3; // esi
  char v5[4]; // [esp+8h] [ebp-4h] BYREF

  std::_Lockit::_Lockit((std::_Lockit *)v5, 0);
  v2 = *(_DWORD *)(a1 + 4);
  if ( v2 && v2 != -1 )
    *(_DWORD *)(a1 + 4) = v2 - 1;
  v3 = *(_DWORD *)(a1 + 4) == 0 ? a1 : 0;
  std::_Lockit::~_Lockit((std::_Lockit *)v5);
  return v3;
}
// 4539C0:  char var_4[4]

//----- (00453A00) --------------------------------------------------------
void __thiscall sub_453A00(_DWORD *this)
{
  *this = &std::locale::facet::`vftable';
}
// 492454:  void *std::locale::facet::`vftable'

//----- (00453A60) --------------------------------------------------------
_DWORD *__thiscall sub_453A60(_DWORD *this, char a2)
{
  *this = &std::locale::facet::`vftable';
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 492454:  void *std::locale::facet::`vftable'

//----- (00453A80) --------------------------------------------------------
_DWORD *__thiscall sub_453A80(_DWORD **this, _DWORD *a2)
{
  int v2; // esi
  _DWORD *v3; // edi
  int v4; // eax

  v2 = *this[9];
  v3 = a2;
  *a2 = v2;
  std::_Lockit::_Lockit((std::_Lockit *)&a2, 0);
  v4 = *(_DWORD *)(v2 + 4);
  if ( v4 != -1 )
    *(_DWORD *)(v2 + 4) = v4 + 1;
  std::_Lockit::~_Lockit((std::_Lockit *)&a2);
  return v3;
}

//----- (00453AC0) --------------------------------------------------------
struct std::ios_base *__thiscall sub_453AC0(struct std::ios_base *this, char a2)
{
  *(_DWORD *)this = &std::ios_base::`vftable';
  std::ios_base::_Ios_base_dtor(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 49245C:  void *std::ios_base::`vftable'

//----- (00453B00) --------------------------------------------------------
const char *sub_453B00()
{
  return "https://circus-co.jp/product/dc4/clear_bonus_mf/index.php";
}

//----- (00453B10) --------------------------------------------------------
BOOL __stdcall sub_453B10(BYTE *pbData, BYTE *a2, ALG_ID Algid)
{
  BOOL HashParam; // ebp
  HCRYPTHASH phHash; // [esp+8h] [ebp-Ch] BYREF
  HCRYPTPROV phProv; // [esp+Ch] [ebp-8h] BYREF
  DWORD pdwDataLen; // [esp+10h] [ebp-4h] BYREF

  *(_DWORD *)a2 = 0;
  *((_DWORD *)a2 + 1) = 0;
  *((_DWORD *)a2 + 2) = 0;
  *((_DWORD *)a2 + 3) = 0;
  HashParam = 0;
  phProv = 0;
  phHash = 0;
  pdwDataLen = 16;
  if ( CryptAcquireContextA(&phProv, 0, 0, 1u, 0xF0000020) )
  {
    if ( CryptCreateHash(phProv, Algid, 0, 0, &phHash) )
    {
      if ( CryptHashData(phHash, pbData, strlen((const char *)pbData), 0) )
        HashParam = CryptGetHashParam(phHash, 2u, a2, &pdwDataLen, 0);
      CryptDestroyHash(phHash);
    }
    CryptReleaseContext(phProv, 0);
  }
  return HashParam;
}

//----- (00453BE0) --------------------------------------------------------
char *__stdcall sub_453BE0(int Value)
{
  if ( Value < 10 )
    return _itoa(Value, (char *)&Value, 10);
  switch ( Value )
  {
    case 10:
      return (char *)&word_48B7E4;
    case 11:
      return (char *)&word_48B7E8;
    case 12:
      return "c";
    case 13:
      return "d";
    case 14:
      return "e";
    case 15:
      return "f";
    case 16:
      return "g";
    case 17:
      return "h";
    case 18:
      return "i";
    case 19:
      return "j";
    case 20:
      return "k";
    case 21:
      return "l";
    case 22:
      return "m";
    case 23:
      return (char *)&word_48B7E0;
    case 24:
      return "o";
    case 25:
      return "p";
    case 26:
      return "q";
    case 27:
      return "r";
    case 28:
      return "s";
    case 29:
      return "t";
    case 30:
      return "u";
    case 31:
      return "v";
    case 32:
      return "w";
    case 33:
      return "x";
    case 34:
      return "y";
  }
  return Value != 35 ? 0 : "z";
}
// 48B7E0:  __int16 word_48B7E0
// 48B7E4:  __int16 word_48B7E4
// 48B7E8:  __int16 word_48B7E8

//----- (00453D60) --------------------------------------------------------
unsigned int __stdcall sub_453D60(char *a1, int a2, int Value)
{
  __int64 v3; // rcx
  unsigned int result; // eax
  __int64 v5; // rdi
  signed __int64 v6; // rax
  __int64 v7; // rax
  int v8; // ebx
  int v9; // ebp
  __int64 v10; // rax
  __int64 v11; // kr00_8
  __int64 v12; // kr08_8
  char *v13; // ecx
  unsigned int v14; // [esp+1Ch] [ebp-10h]
  int Valuea; // [esp+38h] [ebp+Ch]

  v3 = a2;
  result = (unsigned int)a1;
  v5 = a2;
  *a1 = 0;
  if ( a2 <= 35 )
  {
    if ( Value / (__int64)a2 > 0 )
    {
      do
      {
        v6 = __PAIR64__(HIDWORD(v5), a2) * __PAIR64__(HIDWORD(v3), v5);
        HIDWORD(v3) = (__PAIR64__(HIDWORD(v5), a2) * __PAIR64__(HIDWORD(v3), v5)) >> 32;
        LODWORD(v5) = v6;
      }
      while ( Value / v6 > 0 );
    }
    v7 = __SPAIR64__(HIDWORD(v3), v5) / __SPAIR64__(HIDWORD(v5), a2);
    v8 = Value;
    v9 = HIDWORD(v7);
    LODWORD(v5) = v7;
    if ( v7 >= __SPAIR64__(HIDWORD(v5), a2) )
    {
      while ( 1 )
      {
        if ( v8 / a2 <= 0 )
        {
          v12 = __SPAIR64__(v9, v5) / __SPAIR64__(HIDWORD(v5), a2);
          v9 = (unsigned __int64)(__SPAIR64__(v9, v5) / __SPAIR64__(HIDWORD(v5), a2)) >> 32;
          v14 = v12;
          *(_WORD *)&a1[strlen(a1)] = 48;
        }
        else
        {
          v10 = v8 / __SPAIR64__(v9, v5);
          Valuea = v8 % __SPAIR64__(v9, v5);
          v11 = __SPAIR64__(v9, v5) / __SPAIR64__(HIDWORD(v5), a2);
          v9 = (unsigned __int64)(__SPAIR64__(v9, v5) / __SPAIR64__(HIDWORD(v5), a2)) >> 32;
          v14 = v11;
          v8 = Valuea;
          strcat(a1, sub_453BE0(v10));
          HIDWORD(v5) = a2 >> 31;
        }
        if ( v9 <= SHIDWORD(v5) && (v9 < SHIDWORD(v5) || v14 < a2) )
          break;
        LODWORD(v5) = v14;
      }
    }
    v13 = sub_453BE0(v8);
    result = strlen(v13) + 1;
    qmemcpy(&a1[strlen(a1)], v13, result);
  }
  return result;
}

//----- (00453F00) --------------------------------------------------------
unsigned int __stdcall sub_453F00(const char *a1, BYTE *pbData)
{
  int i; // ebx
  unsigned int result; // eax
  char Buffer[4]; // [esp+10h] [ebp-18h] BYREF
  BYTE v5[16]; // [esp+14h] [ebp-14h] BYREF

  *a1 = 0;
  sub_453B10(pbData, v5, 0x8003u);
  for ( i = 0; i < 16; ++i )
  {
    sprintf(Buffer, "%02x", v5[i]);
    result = strlen(Buffer) + 1;
    qmemcpy((void *)&a1[strlen(a1)], Buffer, result);
  }
  return result;
}
// 453F00:  BYTE var_14[16]
// 453F00:  char Buffer[4]

//----- (00453FA0) --------------------------------------------------------
unsigned int __stdcall sub_453FA0(const char *a1, int Value)
{
  char Buffer[16]; // [esp+8h] [ebp-14h] BYREF

  _itoa(Value, Buffer, 10);
  return sub_453F00(a1, (BYTE *)Buffer);
}

//----- (00453FF0) --------------------------------------------------------
char *__stdcall sub_453FF0(char *Source)
{
  if ( Source )
    return _strdup(Source);
  else
    return _strdup(::Source);
}

//----- (00454020) --------------------------------------------------------
char *__stdcall sub_454020(LPCWCH lpWideCharStr)
{
  LPCWCH v2; // eax
  int v4; // esi
  CHAR *v5; // edi

  if ( !lpWideCharStr )
    return _strdup(Source);
  v2 = lpWideCharStr;
  while ( *v2++ )
    ;
  v4 = 2 * (v2 - (lpWideCharStr + 1)) + 2;
  v5 = (CHAR *)malloc(v4);
  WideCharToMultiByte(0, 0, lpWideCharStr, -1, v5, v4, 0, 0);
  return v5;
}

//----- (00454090) --------------------------------------------------------
int __thiscall sub_454090(_DWORD *this)
{
  int result; // eax

  result = *(this - 2);
  *(_DWORD *)((char *)this + *(_DWORD *)(result + 4) - 8) = &std::istream::`vftable';
  return result;
}
// 492508:  void *std::istream::`vftable'

//----- (004540D0) --------------------------------------------------------
int *__thiscall sub_4540D0(int *this, char a2)
{
  int v3; // edi
  int v4; // eax
  void (__thiscall ***v5)(_DWORD, int); // esi
  char v7[4]; // [esp+8h] [ebp-4h] BYREF

  v3 = *this;
  if ( *this )
  {
    std::_Lockit::_Lockit((std::_Lockit *)v7, 0);
    v4 = *(_DWORD *)(v3 + 4);
    if ( v4 && v4 != -1 )
      *(_DWORD *)(v3 + 4) = v4 - 1;
    v5 = *(_DWORD *)(v3 + 4) == 0 ? (void (__thiscall ***)(_DWORD, int))v3 : 0;
    std::_Lockit::~_Lockit((std::_Lockit *)v7);
    if ( v5 )
      (**v5)(v5, 1);
  }
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 4540D0:  char var_4[4]

//----- (00454140) --------------------------------------------------------
int __thiscall sub_454140(_DWORD **this)
{
  if ( *this[9] )
    return *this[13];
  else
    return 0;
}

//----- (00454160) --------------------------------------------------------
_DWORD *__thiscall sub_454160(int this)
{
  _DWORD *result; // eax

  if ( (*(_BYTE *)(this + 64) & 1) != 0 )
    operator delete(**(void ***)(this + 16));
  **(_DWORD **)(this + 16) = 0;
  **(_DWORD **)(this + 32) = 0;
  **(_DWORD **)(this + 48) = 0;
  **(_DWORD **)(this + 20) = 0;
  result = *(_DWORD **)(this + 36);
  *result = 0;
  **(_DWORD **)(this + 52) = 0;
  *(_DWORD *)(this + 64) &= ~1u;
  *(_DWORD *)(this + 60) = 0;
  return result;
}

//----- (004541E0) --------------------------------------------------------
_DWORD *__thiscall sub_4541E0(_DWORD *this)
{
  _DWORD *result; // eax

  this[8] = this + 6;
  this[9] = this + 7;
  this[4] = this + 2;
  this[12] = this + 10;
  this[5] = this + 3;
  this[13] = this + 11;
  this[3] = 0;
  *(_DWORD *)this[9] = 0;
  *(_DWORD *)this[13] = 0;
  *(_DWORD *)this[4] = 0;
  *(_DWORD *)this[8] = 0;
  result = (_DWORD *)this[12];
  *result = 0;
  return result;
}

//----- (00454240) --------------------------------------------------------
char *__thiscall sub_454240(char *this, int a2, int a3)
{
  _Ctypevec v5; // [esp+4h] [ebp-10h] BYREF

  *((_DWORD *)this + 1) = a3;
  *(_DWORD *)this = &std::ctype<char>::`vftable';
  *(_Ctypevec *)(this + 8) = *_Getctype(&v5);
  return this;
}
// 492520:  void *std::ctype<char>::`vftable'

//----- (00454280) --------------------------------------------------------
int __thiscall sub_454280(int this, unsigned __int8 a2)
{
  return _Tolower(a2, (const _Ctypevec *)(this + 8));
}

//----- (004542A0) --------------------------------------------------------
_BYTE *__thiscall sub_4542A0(char *this, _BYTE *a2, _BYTE *a3)
{
  _BYTE *v3; // esi
  const _Ctypevec *v4; // edi

  v3 = a2;
  if ( a2 != a3 )
  {
    v4 = (const _Ctypevec *)(this + 8);
    do
    {
      *v3 = _Tolower((unsigned __int8)*v3, v4);
      ++v3;
    }
    while ( v3 != a3 );
  }
  return v3;
}

//----- (004542D0) --------------------------------------------------------
int __thiscall sub_4542D0(int this, unsigned __int8 a2)
{
  return _Toupper(a2, (const _Ctypevec *)(this + 8));
}

//----- (004542F0) --------------------------------------------------------
_BYTE *__thiscall sub_4542F0(char *this, _BYTE *a2, _BYTE *a3)
{
  _BYTE *v3; // esi
  const _Ctypevec *v4; // edi

  v3 = a2;
  if ( a2 != a3 )
  {
    v4 = (const _Ctypevec *)(this + 8);
    do
    {
      *v3 = _Toupper((unsigned __int8)*v3, v4);
      ++v3;
    }
    while ( v3 != a3 );
  }
  return v3;
}

//----- (00454330) --------------------------------------------------------
int __thiscall sub_454330(void *this, int a2, int a3, int a4)
{
  return (*(int (__thiscall **)(void *, int, int, int, int))(*(_DWORD *)this + 28))(this, a2, a3, a4, a3 - a2);
}

//----- (00454360) --------------------------------------------------------
int __stdcall sub_454360(void *Source, int a2, void *Destination, rsize_t DestinationSize)
{
  if ( DestinationSize < a2 - (int)Source )
    _invalid_parameter_noinfo();
  memcpy_s(Destination, DestinationSize, Source, a2 - (_DWORD)Source);
  return a2;
}

//----- (004543B0) --------------------------------------------------------
int __thiscall sub_4543B0(void *this, int a2, int a3, int a4, int a5)
{
  return (*(int (__thiscall **)(void *, int, int, int, int, int))(*(_DWORD *)this + 40))(this, a2, a3, a4, a5, a3 - a2);
}

//----- (004543E0) --------------------------------------------------------
int __stdcall sub_4543E0(void *Source, int a2, int a3, void *Destination, rsize_t DestinationSize)
{
  if ( DestinationSize < a2 - (int)Source )
    _invalid_parameter_noinfo();
  memcpy_s(Destination, DestinationSize, Source, a2 - (_DWORD)Source);
  return a2;
}

//----- (00454420) --------------------------------------------------------
void *__thiscall sub_454420(void *this, char a2)
{
  int v3; // eax

  v3 = *((_DWORD *)this + 5);
  *(_DWORD *)this = &std::ctype<char>::`vftable';
  if ( v3 <= 0 )
  {
    if ( v3 < 0 )
      operator delete[](*((void **)this + 4));
  }
  else
  {
    free(*((void **)this + 4));
  }
  *(_DWORD *)this = &std::locale::facet::`vftable';
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 492454:  void *std::locale::facet::`vftable'
// 492520:  void *std::ctype<char>::`vftable'

//----- (00454470) --------------------------------------------------------
int __stdcall sub_454470(char *Buffer)
{
  struct tm *v1; // eax
  int v2; // edi
  __time64_t Time; // [esp+Ch] [ebp-17Ch] BYREF
  struct _SYSTEMTIME SystemTime; // [esp+14h] [ebp-174h] BYREF
  char v6[32]; // [esp+24h] [ebp-164h] BYREF
  char v7[32]; // [esp+44h] [ebp-144h] BYREF
  int v8[8]; // [esp+64h] [ebp-124h] BYREF
  char v9[128]; // [esp+84h] [ebp-104h] BYREF
  char v10[128]; // [esp+104h] [ebp-84h] BYREF

  _time64(&Time);
  v1 = _localtime64(&Time);
  v2 = _mktime64(v1);
  sub_453D60(v6, 29, v2);
  sub_453D60((char *)v8, 24, v2);
  GetLocalTime(&SystemTime);
  sub_453D60(v7, 27, SystemTime.wYear);
  memset(v10, 0, sizeof(v10));
  memset(v9, 0, sizeof(v9));
  sub_453FA0(v10, 10);
  sub_453F00(v9, (BYTE *)"sa01");
  return sprintf(Buffer, "%s%s%s%s", v6, v7, v10, v9);
}
// 454470:  char var_164[32]
// 454470:  int var_124[8]
// 454470:  char var_144[32]
// 454470:  char var_84[128]
// 454470:  char var_104[128]

//----- (00454580) --------------------------------------------------------
void __thiscall sub_454580(void *this)
{
  int *v2; // ebx
  int v3; // edi
  int v4; // eax
  void (__thiscall ***v5)(_DWORD, int); // esi
  char v6[4]; // [esp+8h] [ebp-4h] BYREF

  v2 = (int *)*((_DWORD *)this + 14);
  *(_DWORD *)this = &std::streambuf::`vftable';
  if ( v2 )
  {
    v3 = *v2;
    if ( *v2 )
    {
      std::_Lockit::_Lockit((std::_Lockit *)v6, 0);
      v4 = *(_DWORD *)(v3 + 4);
      if ( v4 && v4 != -1 )
        *(_DWORD *)(v3 + 4) = v4 - 1;
      v5 = *(_DWORD *)(v3 + 4) == 0 ? (void (__thiscall ***)(_DWORD, int))v3 : 0;
      std::_Lockit::~_Lockit((std::_Lockit *)v6);
      if ( v5 )
        (**v5)(v5, 1);
    }
    operator delete(v2);
  }
  _Mtxdst(*((LPCRITICAL_SECTION *)this + 1));
  operator delete(*((void **)this + 1));
}
// 454580: could not find valid save-restore pair for edi
// 49255C:  void *std::streambuf::`vftable'
// 454580:  char var_4[4]

//----- (004545F0) --------------------------------------------------------
int __stdcall sub_4545F0(int a1)
{
  return -1;
}

//----- (00454600) --------------------------------------------------------
int sub_454600()
{
  return -1;
}

//----- (00454610) --------------------------------------------------------
int __thiscall sub_454610(void *this, int a2, int a3)
{
  return (*(int (__thiscall **)(void *, int, int, int))(*(_DWORD *)this + 28))(this, a2, -1, a3);
}

//----- (00454630) --------------------------------------------------------
void *__thiscall sub_454630(void *this, int a2, int a3)
{
  return this;
}

//----- (00454640) --------------------------------------------------------
int sub_454640()
{
  return 0;
}

//----- (00454660) --------------------------------------------------------
int __thiscall sub_454660(_DWORD **this)
{
  if ( *this[8] )
    return *this[12];
  else
    return 0;
}

//----- (00454680) --------------------------------------------------------
int __thiscall sub_454680(_DWORD **this)
{
  int result; // eax
  _DWORD *v3; // eax
  unsigned __int8 *v4; // ecx

  result = ((int (__thiscall *)(_DWORD **))(*this)[4])(this);
  if ( result != -1 )
  {
    --*this[12];
    v3 = this[8];
    v4 = (unsigned __int8 *)(*v3)++;
    return *v4;
  }
  return result;
}

//----- (004546F0) --------------------------------------------------------
int __thiscall sub_4546F0(int this, int a2)
{
  unsigned int v2; // eax

  v2 = **(_DWORD **)(this + 32);
  if ( !v2
    || v2 <= **(_DWORD **)(this + 16)
    || a2 != -1 && (_BYTE)a2 != *(_BYTE *)(v2 - 1) && (*(_BYTE *)(this + 64) & 2) != 0 )
  {
    return -1;
  }
  ++**(_DWORD **)(this + 48);
  --**(_DWORD **)(this + 32);
  if ( a2 == -1 )
    return 0;
  ***(_BYTE ***)(this + 32) = a2;
  return a2;
}

//----- (00454740) --------------------------------------------------------
int __thiscall sub_454740(int this)
{
  unsigned __int8 **v1; // edx
  unsigned __int8 *v2; // esi
  _DWORD *v4; // edi
  unsigned int v5; // eax

  v1 = *(unsigned __int8 ***)(this + 32);
  v2 = *v1;
  if ( !*v1 )
    return -1;
  v4 = *(_DWORD **)(this + 48);
  if ( v2 < &v2[*v4] )
    return *v2;
  if ( (*(_BYTE *)(this + 64) & 4) != 0 )
    return -1;
  v5 = **(_DWORD **)(this + 36);
  if ( !v5 || v5 <= (unsigned int)v2 && *(_DWORD *)(this + 60) <= (unsigned int)v2 )
    return -1;
  if ( *(_DWORD *)(this + 60) < v5 )
    *(_DWORD *)(this + 60) = v5;
  *v4 = *(_DWORD *)(this + 60) - (_DWORD)*v1;
  return ***(unsigned __int8 ***)(this + 32);
}

//----- (004547B0) --------------------------------------------------------
int *__thiscall sub_4547B0(int this, int *a2, int a3, int a4, char a5)
{
  unsigned int *v5; // edx
  unsigned int v6; // eax
  int v7; // esi
  int v8; // edx
  int v9; // eax
  int v10; // eax
  _DWORD *v11; // edi
  int v12; // esi
  int v13; // eax
  unsigned int v14; // esi
  int v15; // eax
  int v16; // eax
  int *result; // eax

  v5 = *(unsigned int **)(this + 36);
  v6 = *v5;
  if ( *v5 && *(_DWORD *)(this + 60) < v6 )
    *(_DWORD *)(this + 60) = v6;
  if ( (a5 & 1) == 0 || (v7 = **(_DWORD **)(this + 32)) == 0 )
  {
    if ( (a5 & 2) == 0 || (v14 = *v5) == 0 )
    {
      v8 = -1;
      goto LABEL_32;
    }
    if ( a4 == 2 )
    {
      v8 = *(_DWORD *)(this + 60) - **(_DWORD **)(this + 16) + a3;
    }
    else if ( a4 == 1 )
    {
      v8 = v14 - **(_DWORD **)(this + 16) + a3;
    }
    else
    {
      v8 = -1;
      if ( !a4 )
        v8 = a3;
    }
    if ( v8 >= 0 )
    {
      v15 = **(_DWORD **)(this + 16);
      if ( v8 <= *(_DWORD *)(this + 60) - v15 )
      {
        v16 = v8 + v15 - v14;
        **(_DWORD **)(this + 52) -= v16;
        **(_DWORD **)(this + 36) += v16;
        goto LABEL_32;
      }
    }
LABEL_30:
    v8 = -1;
    goto LABEL_32;
  }
  if ( a4 != 2 )
  {
    if ( a4 == 1 )
    {
      if ( (a5 & 2) == 0 )
      {
        v8 = v7 - **(_DWORD **)(this + 16) + a3;
        goto LABEL_14;
      }
    }
    else if ( !a4 )
    {
      v8 = a3;
      goto LABEL_14;
    }
    v8 = -1;
    goto LABEL_14;
  }
  v8 = *(_DWORD *)(this + 60) - **(_DWORD **)(this + 16) + a3;
LABEL_14:
  if ( v8 < 0 )
    goto LABEL_30;
  v9 = **(_DWORD **)(this + 16);
  if ( v8 > *(_DWORD *)(this + 60) - v9 )
    goto LABEL_30;
  v10 = v8 + v9 - v7;
  **(_DWORD **)(this + 48) -= v10;
  **(_DWORD **)(this + 32) += v10;
  if ( (a5 & 2) != 0 )
  {
    v11 = *(_DWORD **)(this + 36);
    if ( *v11 )
    {
      v12 = **(_DWORD **)(this + 32);
      v13 = *v11 + **(_DWORD **)(this + 52);
      *v11 = v12;
      **(_DWORD **)(this + 52) = v13 - v12;
    }
  }
LABEL_32:
  result = a2;
  *a2 = v8;
  a2[2] = 0;
  a2[3] = 0;
  a2[4] = 0;
  return result;
}

//----- (00454910) --------------------------------------------------------
int *__thiscall sub_454910(int this, int *a2, int a3, int a4, int a5, int a6, int a7, int a8, char a9)
{
  unsigned int *v9; // edi
  int v10; // edx
  unsigned int v11; // eax
  int v12; // esi
  int v13; // eax
  int v14; // eax
  _DWORD *v15; // edi
  int v16; // esi
  int v17; // eax
  unsigned int v18; // edi
  int v19; // eax
  int v20; // eax
  int *result; // eax

  v9 = *(unsigned int **)(this + 36);
  v10 = a3 + a5;
  v11 = *v9;
  if ( *v9 && *(_DWORD *)(this + 60) < v11 )
    *(_DWORD *)(this + 60) = v11;
  if ( v10 != -1 )
  {
    if ( (a9 & 1) != 0 && (v12 = **(_DWORD **)(this + 32)) != 0 )
    {
      if ( v10 >= 0 )
      {
        v13 = **(_DWORD **)(this + 16);
        if ( v10 <= *(_DWORD *)(this + 60) - v13 )
        {
          v14 = v10 + v13 - v12;
          **(_DWORD **)(this + 48) -= v14;
          **(_DWORD **)(this + 32) += v14;
          if ( (a9 & 2) != 0 )
          {
            v15 = *(_DWORD **)(this + 36);
            if ( *v15 )
            {
              v16 = **(_DWORD **)(this + 32);
              v17 = *v15 + **(_DWORD **)(this + 52);
              *v15 = v16;
              **(_DWORD **)(this + 52) = v17 - v16;
            }
          }
          goto LABEL_18;
        }
      }
    }
    else if ( (a9 & 2) != 0 )
    {
      v18 = *v9;
      if ( v18 )
      {
        if ( v10 >= 0 )
        {
          v19 = **(_DWORD **)(this + 16);
          if ( v10 <= *(_DWORD *)(this + 60) - v19 )
          {
            v20 = v10 + v19 - v18;
            **(_DWORD **)(this + 52) -= v20;
            **(_DWORD **)(this + 36) += v20;
            goto LABEL_18;
          }
        }
      }
    }
    v10 = -1;
  }
LABEL_18:
  result = a2;
  *a2 = v10;
  a2[2] = 0;
  a2[3] = 0;
  a2[4] = 0;
  return result;
}

//----- (004549E0) --------------------------------------------------------
char *__thiscall sub_4549E0(struct std::ios_base *this, char a2)
{
  char *v2; // esi

  v2 = (char *)this - 4;
  *(_DWORD *)((char *)this + *(_DWORD *)(*((_DWORD *)this - 1) + 4) - 4) = &std::ostream::`vftable';
  *(_DWORD *)this = &std::ios_base::`vftable';
  std::ios_base::_Ios_base_dtor(this);
  if ( (a2 & 1) != 0 )
    operator delete(v2);
  return v2;
}
// 49245C:  void *std::ios_base::`vftable'
// 492500:  void *std::ostream::`vftable'

//----- (00454A20) --------------------------------------------------------
char *__thiscall sub_454A20(struct std::ios_base *this, char a2)
{
  char *v2; // esi

  v2 = (char *)this - 8;
  *(_DWORD *)((char *)this + *(_DWORD *)(*((_DWORD *)this - 2) + 4) - 8) = &std::istream::`vftable';
  *(_DWORD *)this = &std::ios_base::`vftable';
  std::ios_base::_Ios_base_dtor(this);
  if ( (a2 & 1) != 0 )
    operator delete(v2);
  return v2;
}
// 49245C:  void *std::ios_base::`vftable'
// 492508:  void *std::istream::`vftable'

//----- (00454A60) --------------------------------------------------------
void *__thiscall sub_454A60(void *this, char a2)
{
  sub_454580(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}

//----- (00454A80) --------------------------------------------------------
char *__thiscall sub_454A80(struct std::ios_base *this, char a2)
{
  char *v2; // esi

  v2 = (char *)this - 12;
  *(_DWORD *)((char *)this + *(_DWORD *)(*((_DWORD *)this - 3) + 4) - 12) = &std::iostream::`vftable';
  *(_DWORD *)((char *)this + *(_DWORD *)(*((_DWORD *)this - 1) + 4) - 4) = &std::ostream::`vftable';
  *(_DWORD *)((char *)this + *(_DWORD *)(*((_DWORD *)this - 3) + 4) - 12) = &std::istream::`vftable';
  *(_DWORD *)this = &std::ios_base::`vftable';
  std::ios_base::_Ios_base_dtor(this);
  if ( (a2 & 1) != 0 )
    operator delete(v2);
  return v2;
}
// 49245C:  void *std::ios_base::`vftable'
// 492500:  void *std::ostream::`vftable'
// 492508:  void *std::istream::`vftable'
// 492510:  void *std::iostream::`vftable'

//----- (00454AE0) --------------------------------------------------------
_DWORD *__thiscall sub_454AE0(_DWORD *this, char a2)
{
  *this = &std::stringbuf::`vftable';
  sub_454160((int)this);
  sub_454580(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 492598:  void *std::stringbuf::`vftable'

//----- (00454B10) --------------------------------------------------------
_DWORD *__thiscall sub_454B10(_DWORD *this)
{
  _DWORD *v2; // esi
  int v3; // edi
  int v4; // eax
  char v6[4]; // [esp+10h] [ebp-14h] BYREF
  _DWORD *v7; // [esp+14h] [ebp-10h]
  int v8; // [esp+20h] [ebp-4h]

  v7 = this;
  *this = &std::streambuf::`vftable';
  std::_Mutex::_Mutex((std::_Mutex *)(this + 1));
  v8 = 0;
  v2 = operator new(4u);
  if ( v2 )
  {
    *v2 = std::locale::_Init();
    v3 = sub_459D54();
    std::_Lockit::_Lockit((std::_Lockit *)v6, 0);
    v4 = *(_DWORD *)(v3 + 4);
    if ( v4 != -1 )
      *(_DWORD *)(v3 + 4) = v4 + 1;
    std::_Lockit::~_Lockit((std::_Lockit *)v6);
  }
  else
  {
    v2 = 0;
  }
  this[14] = v2;
  sub_4541E0(this);
  return this;
}
// 49255C:  void *std::streambuf::`vftable'
// 454B10:  char var_14[4]

//----- (00454BC0) --------------------------------------------------------
_DWORD *__thiscall sub_454BC0(_DWORD *this)
{
  if ( this[20] < 0x10u )
    return this + 15;
  else
    return (_DWORD *)this[15];
}

//----- (00454BD0) --------------------------------------------------------
int __thiscall sub_454BD0(int this, char *Destination, rsize_t DestinationSize, int a4)
{
  int v4; // ebp
  int v5; // esi
  int v8; // eax
  rsize_t v9; // esi
  int v10; // eax
  int v12; // [esp+Ch] [ebp-4h]

  v4 = a4;
  v5 = 0;
  v12 = 0;
  if ( a4 <= 0 )
    return 0;
  do
  {
    v8 = sub_454660((_DWORD **)this);
    if ( v8 <= 0 )
    {
      v10 = (*(int (__thiscall **)(int))(*(_DWORD *)this + 20))(this);
      if ( v10 == -1 )
        return v5;
      ++v5;
      *Destination++ = v10;
      v12 = v5;
      --v4;
    }
    else
    {
      v9 = v8;
      if ( v4 < v8 )
        v9 = v4;
      memcpy_s(Destination, DestinationSize, **(const void *const **)(this + 32), v9);
      **(_DWORD **)(this + 48) -= v9;
      v12 += v9;
      Destination += v9;
      v4 -= v9;
      **(_DWORD **)(this + 32) += v9;
      v5 = v12;
    }
  }
  while ( v4 > 0 );
  return v5;
}

//----- (00454C60) --------------------------------------------------------
int __thiscall sub_454C60(int this, unsigned __int8 *Source, int a3)
{
  int v3; // ebp
  int v4; // esi
  int v7; // eax
  rsize_t v8; // esi
  int v10; // [esp+Ch] [ebp-4h]

  v3 = a3;
  v4 = 0;
  v10 = 0;
  if ( a3 <= 0 )
    return 0;
  do
  {
    v7 = sub_454140((_DWORD **)this);
    if ( v7 <= 0 )
    {
      if ( (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)this + 4))(this, *Source) == -1 )
        return v4;
      ++v4;
      ++Source;
      v10 = v4;
      --v3;
    }
    else
    {
      v8 = v7;
      if ( v3 < v7 )
        v8 = v3;
      memcpy_s(**(void *const **)(this + 36), v7, Source, v8);
      **(_DWORD **)(this + 52) -= v8;
      v10 += v8;
      Source += v8;
      v3 -= v8;
      **(_DWORD **)(this + 36) += v8;
      v4 = v10;
    }
  }
  while ( v3 > 0 );
  return v4;
}

//----- (00454CF0) --------------------------------------------------------
int __thiscall sub_454CF0(_DWORD *this)
{
  char *v1; // esi
  int result; // eax

  *(_DWORD *)((char *)this + *(_DWORD *)(*(this - 21) + 4) - 84) = &std::basic_stringstream<char,std::char_traits<char>,std::allocator<char>>::`vftable';
  v1 = (char *)(this - 18);
  *(this - 18) = &std::stringbuf::`vftable';
  sub_454160((int)(this - 18));
  sub_454580(v1);
  *(_DWORD *)&v1[*(_DWORD *)(*((_DWORD *)v1 - 3) + 4) - 12] = &std::iostream::`vftable';
  result = *(_DWORD *)(*((_DWORD *)v1 - 1) + 4);
  *(_DWORD *)&v1[result - 4] = &std::ostream::`vftable';
  *(_DWORD *)&v1[*(_DWORD *)(*((_DWORD *)v1 - 3) + 4) - 12] = &std::istream::`vftable';
  return result;
}
// 492500:  void *std::ostream::`vftable'
// 492508:  void *std::istream::`vftable'
// 492510:  void *std::iostream::`vftable'
// 492598:  void *std::stringbuf::`vftable'
// 4925D4:  void *std::basic_stringstream<char,std::char_traits<char>,std::allocator<char>>::`vftable'

//----- (00454D80) --------------------------------------------------------
int __thiscall sub_454D80(int this, int a2)
{
  unsigned int *v3; // edi
  unsigned int v4; // edx
  unsigned int v5; // ecx
  unsigned int v6; // eax
  int result; // eax
  unsigned int v8; // edi
  _DWORD *v9; // ecx
  _DWORD *v10; // esi
  _BYTE *v11; // ecx
  rsize_t v12; // ebp
  unsigned int v13; // eax
  bool v14; // zf
  char *v15; // edi
  void *v16; // ebx
  bool v17; // zf
  _DWORD *v18; // edx
  _DWORD *v19; // ecx
  int *v20; // ecx
  int v21; // eax
  char *v22; // eax
  int v23; // ecx
  char *v24; // eax
  _DWORD *v25; // eax
  _BYTE **v26; // esi
  _BYTE *v27; // ecx
  rsize_t DestinationSize; // [esp+8h] [ebp-4h]

  if ( (*(_BYTE *)(this + 64) & 8) != 0 )
  {
    v3 = *(unsigned int **)(this + 36);
    v4 = *v3;
    if ( *v3 )
    {
      v5 = *(_DWORD *)(this + 60);
      if ( v4 < v5 )
      {
        v6 = v4 + **(_DWORD **)(this + 52);
        *v3 = v5;
        **(_DWORD **)(this + 52) = v6 - v5;
      }
    }
  }
  result = a2;
  if ( a2 == -1 )
    return 0;
  v8 = **(_DWORD **)(this + 36);
  if ( v8 )
  {
    v9 = *(_DWORD **)(this + 52);
    if ( v8 < v8 + *v9 )
    {
      --*v9;
      v10 = *(_DWORD **)(this + 36);
      v11 = (_BYTE *)(*v10)++;
      *v11 = a2;
      return result;
    }
  }
  if ( (*(_BYTE *)(this + 64) & 2) != 0 )
    return -1;
  if ( v8 )
    v12 = v8 + **(_DWORD **)(this + 52) - **(_DWORD **)(this + 16);
  else
    v12 = 0;
  v13 = v12 >> 1;
  if ( v12 >> 1 >= 0x20 )
  {
    v14 = v13 == 0;
    if ( !v13 )
      goto LABEL_21;
  }
  else
  {
    v13 = 32;
  }
  do
  {
    if ( 0x7FFFFFFF - v13 >= v12 )
      break;
    v13 >>= 1;
  }
  while ( v13 );
  v14 = v13 == 0;
LABEL_21:
  if ( v14 )
    return -1;
  DestinationSize = v12 + v13;
  v15 = (char *)sub_4030E0((char *)(v12 + v13));
  v16 = **(void ***)(this + 16);
  v17 = v12 == 0;
  if ( v12 )
  {
    sub_4033F0(v15, DestinationSize, v16, v12);
    v17 = v12 == 0;
  }
  if ( v17 )
  {
    v18 = *(_DWORD **)(this + 20);
    *(_DWORD *)(this + 60) = v15;
    *v18 = v15;
    **(_DWORD **)(this + 36) = v15;
    **(_DWORD **)(this + 52) = DestinationSize;
    v14 = (*(_BYTE *)(this + 64) & 4) == 0;
    **(_DWORD **)(this + 16) = v15;
    v19 = *(_DWORD **)(this + 32);
    if ( v14 )
    {
      *v19 = v15;
      **(_DWORD **)(this + 48) = 1;
    }
    else
    {
      *v19 = 0;
      **(_DWORD **)(this + 48) = v15;
    }
  }
  else
  {
    v20 = *(int **)(this + 36);
    *(_DWORD *)(this + 60) += v15 - (_BYTE *)v16;
    v21 = *v20;
    **(_DWORD **)(this + 20) += v15 - (_BYTE *)v16;
    v22 = &v15[v21 - (_DWORD)v16];
    **(_DWORD **)(this + 36) = v22;
    **(_DWORD **)(this + 52) = DestinationSize + v15 - v22;
    if ( (*(_BYTE *)(this + 64) & 4) != 0 )
    {
      **(_DWORD **)(this + 16) = v15;
      **(_DWORD **)(this + 32) = 0;
      **(_DWORD **)(this + 48) = v15;
    }
    else
    {
      v23 = **(_DWORD **)(this + 36);
      v24 = &v15[**(_DWORD **)(this + 32) - (_DWORD)v16];
      **(_DWORD **)(this + 16) = v15;
      **(_DWORD **)(this + 32) = v24;
      **(_DWORD **)(this + 48) = v23 - (_DWORD)v24 + 1;
    }
  }
  if ( (*(_BYTE *)(this + 64) & 1) != 0 )
    operator delete(v16);
  v25 = *(_DWORD **)(this + 52);
  *(_DWORD *)(this + 64) |= 1u;
  --*v25;
  v26 = *(_BYTE ***)(this + 36);
  v27 = *v26;
  result = a2;
  ++*v26;
  *v27 = a2;
  return result;
}

//----- (00454F50) --------------------------------------------------------
void __thiscall sub_454F50(_DWORD *this)
{
  struct std::ios_base *v1; // esi

  v1 = (struct std::ios_base *)(this + 21);
  sub_454CF0(this + 21);
  *(_DWORD *)v1 = &std::ios_base::`vftable';
  std::ios_base::_Ios_base_dtor(v1);
}
// 49245C:  void *std::ios_base::`vftable'

//----- (00454F70) --------------------------------------------------------
_DWORD *__thiscall sub_454F70(struct std::ios_base *this, char a2)
{
  _DWORD *v2; // edi

  v2 = (_DWORD *)((char *)this - 84);
  sub_454CF0(this);
  *(_DWORD *)this = &std::ios_base::`vftable';
  std::ios_base::_Ios_base_dtor(this);
  if ( (a2 & 1) != 0 )
    operator delete(v2);
  return v2;
}
// 49245C:  void *std::ios_base::`vftable'

//----- (00454FB0) --------------------------------------------------------
_DWORD *__thiscall sub_454FB0(_DWORD *this, char a2)
{
  int v3; // eax

  sub_454B10(this);
  v3 = 0;
  *this = &std::stringbuf::`vftable';
  if ( (a2 & 1) == 0 )
    v3 = 4;
  if ( (a2 & 2) == 0 )
    v3 |= 2u;
  if ( (a2 & 8) != 0 )
    v3 |= 8u;
  if ( (a2 & 4) != 0 )
    v3 |= 0x10u;
  this[16] = v3;
  this[15] = 0;
  return this;
}
// 492598:  void *std::stringbuf::`vftable'

//----- (00455030) --------------------------------------------------------
int __thiscall sub_455030(int this, int a2)
{
  std::_Lockit::_Lockit((std::_Lockit *)this, 0);
  *(_DWORD *)(this + 28) = 15;
  *(_DWORD *)(this + 24) = 0;
  *(_BYTE *)(this + 8) = 0;
  *(_DWORD *)(this + 56) = 15;
  *(_DWORD *)(this + 52) = 0;
  *(_BYTE *)(this + 36) = 0;
  *(_DWORD *)(this + 84) = 15;
  *(_DWORD *)(this + 80) = 0;
  *(_BYTE *)(this + 64) = 0;
  *(_DWORD *)(this + 112) = 15;
  *(_DWORD *)(this + 108) = 0;
  *(_BYTE *)(this + 92) = 0;
  std::_Locinfo::_Locinfo_ctor(this, a2);
  return this;
}
// 459FC0:  _DWORD __cdecl std::_Locinfo::_Locinfo_ctor(_DWORD, _DWORD)

//----- (004550C0) --------------------------------------------------------
void __thiscall sub_4550C0(std::_Lockit *this)
{
  std::_Locinfo::_Locinfo_dtor(this);
  if ( *((_DWORD *)this + 28) >= 0x10u )
    operator delete(*((void **)this + 23));
  *((_DWORD *)this + 28) = 15;
  *((_DWORD *)this + 27) = 0;
  *((_BYTE *)this + 92) = 0;
  if ( *((_DWORD *)this + 21) >= 0x10u )
    operator delete(*((void **)this + 16));
  *((_DWORD *)this + 21) = 15;
  *((_DWORD *)this + 20) = 0;
  *((_BYTE *)this + 64) = 0;
  if ( *((_DWORD *)this + 14) >= 0x10u )
    operator delete(*((void **)this + 9));
  *((_DWORD *)this + 14) = 15;
  *((_DWORD *)this + 13) = 0;
  *((_BYTE *)this + 36) = 0;
  if ( *((_DWORD *)this + 7) >= 0x10u )
    operator delete(*((void **)this + 2));
  *((_DWORD *)this + 7) = 15;
  *((_DWORD *)this + 6) = 0;
  *((_BYTE *)this + 8) = 0;
  std::_Lockit::~_Lockit(this);
}

//----- (004551A0) --------------------------------------------------------
int __thiscall sub_4551A0(int this, _DWORD *a2)
{
  sub_45A4A0((_DWORD *)this);
  *(_DWORD *)this = &std::runtime_error::`vftable';
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 15;
  *(_BYTE *)(this + 16) = 0;
  sub_403950(this + 12, a2, 0, 0xFFFFFFFF);
  return this;
}
// 4925DC:  void *std::runtime_error::`vftable'

//----- (00455210) --------------------------------------------------------
int __thiscall sub_455210(_DWORD *this, int a2)
{
  _DWORD *v2; // eax

  v2 = (_DWORD *)(*this + 24);
  *(_DWORD *)(a2 + 24) = 15;
  *(_DWORD *)(a2 + 20) = 0;
  *(_BYTE *)(a2 + 4) = 0;
  sub_403950(a2, v2, 0, 0xFFFFFFFF);
  return a2;
}

//----- (00455240) --------------------------------------------------------
int __cdecl sub_455240(char **a1, _DWORD *a2)
{
  char v2; // bl
  char *v3; // esi
  int v4; // eax
  int v5; // eax
  char *v6; // eax
  char v8[4]; // [esp+18h] [ebp-9Ch] BYREF
  void *v9; // [esp+1Ch] [ebp-98h]
  unsigned int v10; // [esp+30h] [ebp-84h]
  char v11[116]; // [esp+34h] [ebp-80h] BYREF
  int v12; // [esp+B0h] [ebp-4h]

  v2 = 0;
  if ( a1 && !*a1 )
  {
    v3 = (char *)operator new(0x18u);
    v12 = 0;
    if ( v3 )
    {
      v4 = sub_455210(a2, (int)v8);
      LOBYTE(v12) = 1;
      v5 = sub_455030((int)v11, v4);
      v2 = 3;
      v6 = sub_454240(v3, v5, 0);
    }
    else
    {
      v6 = 0;
    }
    v12 = 2;
    *a1 = v6;
    if ( (v2 & 2) != 0 )
    {
      v2 &= ~2u;
      sub_4550C0((std::_Lockit *)v11);
    }
    if ( (v2 & 1) != 0 && v10 >= 0x10 )
      operator delete(v9);
  }
  return 2;
}
// 455240:  char var_9C[4]

//----- (00455340) --------------------------------------------------------
void __thiscall sub_455340(void **this)
{
  *this = &std::runtime_error::`vftable';
  if ( (unsigned int)this[9] >= 0x10 )
    operator delete(this[4]);
  this[9] = (void *)15;
  this[8] = 0;
  *((_BYTE *)this + 16) = 0;
  sub_45A57E(this);
}
// 4925DC:  void *std::runtime_error::`vftable'

//----- (00455380) --------------------------------------------------------
void **__thiscall sub_455380(void **this, char a2)
{
  *this = &std::runtime_error::`vftable';
  if ( (unsigned int)this[9] >= 0x10 )
    operator delete(this[4]);
  this[9] = (void *)15;
  this[8] = 0;
  *((_BYTE *)this + 16) = 0;
  sub_45A57E(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 4925DC:  void *std::runtime_error::`vftable'

//----- (004553D0) --------------------------------------------------------
_DWORD *__thiscall sub_4553D0(unsigned int *this)
{
  sub_4272F0(this);
  sub_4272F0(this + 7);
  return sub_4272F0(this + 14);
}

//----- (004553F0) --------------------------------------------------------
_DWORD *__thiscall sub_4553F0(_DWORD *this, char *Source)
{
  return sub_403A30(this, 0, Source, strlen(Source));
}

//----- (00455420) --------------------------------------------------------
int __thiscall sub_455420(int this, int a2)
{
  int v2; // edx
  unsigned int *v3; // eax
  unsigned int v4; // eax
  unsigned int v5; // edx
  char *v6; // ecx
  _DWORD *v7; // edx
  int v8; // eax
  char *v9; // ecx
  int v11; // [esp+14h] [ebp-48h] BYREF
  void *v12; // [esp+18h] [ebp-44h]
  int v13; // [esp+28h] [ebp-34h]
  unsigned int v14; // [esp+2Ch] [ebp-30h]
  int v15; // [esp+30h] [ebp-2Ch] BYREF
  void *v16; // [esp+34h] [ebp-28h]
  int v17; // [esp+44h] [ebp-18h]
  unsigned int v18; // [esp+48h] [ebp-14h]
  int v19; // [esp+58h] [ebp-4h]

  v2 = *(_DWORD *)(this + 64);
  if ( (v2 & 2) == 0 )
  {
    v3 = *(unsigned int **)(this + 36);
    if ( *v3 )
    {
      v4 = *v3;
      v5 = *(_DWORD *)(this + 60);
      if ( v5 >= v4 )
        v4 = *(_DWORD *)(this + 60);
      v6 = **(char ***)(this + 20);
      v14 = 15;
      v13 = 0;
      LOBYTE(v12) = 0;
      sub_403A30(&v11, v5, v6, v4 - (_DWORD)v6);
      v19 = 0;
      goto LABEL_6;
    }
  }
  if ( (v2 & 4) == 0 )
  {
    v7 = *(_DWORD **)(this + 32);
    if ( *v7 )
    {
      v8 = *v7 + **(_DWORD **)(this + 48);
      v9 = **(char ***)(this + 16);
      v14 = 15;
      v13 = 0;
      LOBYTE(v12) = 0;
      sub_403A30(&v11, (int)v7, v9, v8 - (_DWORD)v9);
      v19 = 1;
LABEL_6:
      *(_DWORD *)(a2 + 24) = 15;
      *(_DWORD *)(a2 + 20) = 0;
      *(_BYTE *)(a2 + 4) = 0;
      sub_403950(a2, &v11, 0, 0xFFFFFFFF);
      if ( v14 >= 0x10 )
        operator delete(v12);
      return a2;
    }
  }
  v18 = 15;
  v17 = 0;
  LOBYTE(v16) = 0;
  *(_DWORD *)(a2 + 24) = 15;
  *(_DWORD *)(a2 + 20) = 0;
  v19 = 2;
  *(_BYTE *)(a2 + 4) = 0;
  sub_403950(a2, &v15, 0, 0xFFFFFFFF);
  if ( v18 >= 0x10 )
    operator delete(v16);
  return a2;
}

//----- (00455570) --------------------------------------------------------
struct std::locale::facet *__cdecl sub_455570(_DWORD *a1)
{
  int v1; // ebx
  _DWORD *v2; // edi
  unsigned int v3; // esi
  int v4; // eax
  struct std::locale::facet *v5; // ecx
  int v6; // eax
  struct std::locale::facet *v7; // esi
  int v8; // eax
  struct std::locale::facet *v10; // [esp+10h] [ebp-24h] BYREF
  char v11[4]; // [esp+14h] [ebp-20h] BYREF
  char v12[4]; // [esp+18h] [ebp-1Ch] BYREF
  char pExceptionObject[12]; // [esp+1Ch] [ebp-18h] BYREF
  int v14; // [esp+30h] [ebp-4h]

  std::_Lockit::_Lockit((std::_Lockit *)v12, 0);
  v1 = dword_4FDA9C;
  v14 = 0;
  v10 = (struct std::locale::facet *)dword_4FDA9C;
  if ( !dword_500D14 )
  {
    std::_Lockit::_Lockit((std::_Lockit *)v11, 0);
    if ( !dword_500D14 )
      dword_500D14 = ++dword_500D10;
    std::_Lockit::~_Lockit((std::_Lockit *)v11);
  }
  v2 = a1;
  v3 = dword_500D14;
  v4 = *a1;
  if ( (unsigned int)dword_500D14 >= *(_DWORD *)(*a1 + 12) )
  {
    v5 = 0;
  }
  else
  {
    v5 = *(struct std::locale::facet **)(*(_DWORD *)(v4 + 8) + 4 * dword_500D14);
    if ( v5 )
    {
LABEL_11:
      v7 = v5;
LABEL_12:
      if ( v7 )
        goto LABEL_20;
      goto LABEL_13;
    }
  }
  if ( !*(_BYTE *)(v4 + 20) )
    goto LABEL_11;
  v6 = sub_459D54();
  if ( v3 < *(_DWORD *)(v6 + 12) )
  {
    v7 = *(struct std::locale::facet **)(*(_DWORD *)(v6 + 8) + 4 * v3);
    goto LABEL_12;
  }
LABEL_13:
  if ( v1 )
  {
    v7 = (struct std::locale::facet *)v1;
  }
  else
  {
    if ( sub_455240((char **)&v10, v2) == -1 )
    {
      sub_45A5A1((std::exception *)pExceptionObject, "bad cast");
      _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI2_AVbad_cast_std__);
    }
    v7 = v10;
    dword_4FDA9C = (int)v10;
    std::_Lockit::_Lockit((std::_Lockit *)&a1, 0);
    v8 = *((_DWORD *)v7 + 1);
    if ( v8 != -1 )
      *((_DWORD *)v7 + 1) = v8 + 1;
    std::_Lockit::~_Lockit((std::_Lockit *)&a1);
    std::locale::facet::facet_Register(v7);
  }
LABEL_20:
  v14 = -1;
  std::_Lockit::~_Lockit((std::_Lockit *)v12);
  return v7;
}
// 4FDA9C:  int dword_4FDA9C
// 500D10:  int dword_500D10
// 500D14:  int dword_500D14
// 455570:  char var_1C[4]
// 455570:  char var_20[4]

//----- (004556C0) --------------------------------------------------------
int __cdecl sub_4556C0(int a1, char *Source, _DWORD *a3)
{
  _DWORD *v3; // eax
  int v5; // [esp+10h] [ebp-28h] BYREF
  void *v6; // [esp+14h] [ebp-24h]
  int v7; // [esp+24h] [ebp-14h]
  unsigned int v8; // [esp+28h] [ebp-10h]
  int v9; // [esp+34h] [ebp-4h]

  v8 = 15;
  v7 = 0;
  LOBYTE(v6) = 0;
  sub_403A30(&v5, (int)Source, Source, strlen(Source));
  v9 = 0;
  v3 = sub_426390(&v5, a3, 0, 0xFFFFFFFF);
  *(_DWORD *)(a1 + 24) = 15;
  *(_DWORD *)(a1 + 20) = 0;
  *(_BYTE *)(a1 + 4) = 0;
  sub_403950(a1, v3, 0, 0xFFFFFFFF);
  if ( v8 >= 0x10 )
    operator delete(v6);
  return a1;
}

//----- (00455780) --------------------------------------------------------
int __thiscall sub_455780(_DWORD *this, char a2, char a3)
{
  int result; // eax
  int v4; // ecx
  int pExceptionObject[10]; // [esp+4h] [ebp-94h] BYREF
  _DWORD v6[7]; // [esp+2Ch] [ebp-6Ch] BYREF
  int v7[10]; // [esp+48h] [ebp-50h] BYREF
  _DWORD v8[7]; // [esp+70h] [ebp-28h] BYREF
  int v9; // [esp+94h] [ebp-4h]

  result = a2 & 0x17;
  this[2] = result;
  v4 = result & this[3];
  if ( v4 )
  {
    if ( a3 )
      _CxxThrowException(0, 0);
    if ( (v4 & 4) != 0 )
    {
      sub_403C30((int)v6, "ios_base::badbit set");
      v9 = 0;
      sub_4551A0((int)pExceptionObject, v6);
      pExceptionObject[0] = (int)&std::ios_base::failure::`vftable';
      _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVfailure_ios_base_std__);
    }
    if ( (v4 & 2) != 0 )
    {
      sub_403C30((int)v6, "ios_base::failbit set");
      v9 = 1;
      sub_4551A0((int)pExceptionObject, v6);
      pExceptionObject[0] = (int)&std::ios_base::failure::`vftable';
      _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVfailure_ios_base_std__);
    }
    sub_403C30((int)v8, "ios_base::eofbit set");
    v9 = 2;
    sub_4551A0((int)v7, v8);
    v7[0] = (int)&std::ios_base::failure::`vftable';
    _CxxThrowException(v7, (_ThrowInfo *)&_TI3_AVfailure_ios_base_std__);
  }
  return result;
}
// 4925E8:  void *std::ios_base::failure::`vftable'
// 455780:  _DWORD var_6C[7]
// 455780:  _DWORD var_28[7]

//----- (004558B0) --------------------------------------------------------
int __thiscall sub_4558B0(int this, struct std::exception *a2)
{
  std::exception::exception((std::exception *)this, a2);
  *(_DWORD *)this = &std::runtime_error::`vftable';
  *(_DWORD *)(this + 36) = 15;
  *(_DWORD *)(this + 32) = 0;
  *(_BYTE *)(this + 16) = 0;
  sub_403950(this + 12, (_DWORD *)a2 + 3, 0, 0xFFFFFFFF);
  return this;
}
// 4925DC:  void *std::runtime_error::`vftable'

//----- (00455930) --------------------------------------------------------
_DWORD *__thiscall sub_455930(_DWORD *this, struct std::exception *a2)
{
  sub_4558B0((int)this, a2);
  *this = &std::ios_base::failure::`vftable';
  return this;
}
// 4925E8:  void *std::ios_base::failure::`vftable'

//----- (00455950) --------------------------------------------------------
void __thiscall sub_455950(_DWORD *this)
{
  _DWORD *v2; // edi
  int v3; // ebx
  int v4; // eax
  char v5[4]; // [esp+4h] [ebp-4h] BYREF

  this[9] = 0;
  this[1] = 0;
  this[3] = 0;
  this[4] = 513;
  this[5] = 6;
  this[6] = 0;
  this[7] = 0;
  this[8] = 0;
  sub_455780(this, 0, 0);
  v2 = operator new(4u);
  if ( v2 )
  {
    *v2 = std::locale::_Init();
    v3 = sub_459D54();
    std::_Lockit::_Lockit((std::_Lockit *)v5, 0);
    v4 = *(_DWORD *)(v3 + 4);
    if ( v4 != -1 )
      *(_DWORD *)(v3 + 4) = v4 + 1;
    std::_Lockit::~_Lockit((std::_Lockit *)v5);
    this[9] = v2;
  }
  else
  {
    this[9] = 0;
  }
}
// 455950:  char var_4[4]

//----- (004559D0) --------------------------------------------------------
_DWORD *__thiscall sub_4559D0(unsigned int *this, BYTE *pbData)
{
  struct tm *v3; // eax
  int v4; // ebx
  const char *v5; // eax
  __time64_t Time; // [esp+Ch] [ebp-2FCh] BYREF
  struct _SYSTEMTIME SystemTime; // [esp+14h] [ebp-2F4h] BYREF
  char v9[32]; // [esp+24h] [ebp-2E4h] BYREF
  char v10[32]; // [esp+44h] [ebp-2C4h] BYREF
  char v11[32]; // [esp+64h] [ebp-2A4h] BYREF
  char v12[128]; // [esp+84h] [ebp-284h] BYREF
  char v13[128]; // [esp+104h] [ebp-204h] BYREF
  char Buffer[128]; // [esp+184h] [ebp-184h] BYREF
  char Source[256]; // [esp+204h] [ebp-104h] BYREF

  _time64(&Time);
  v3 = _localtime64(&Time);
  v4 = _mktime64(v3);
  sub_453D60(v10, 29, v4);
  sub_453D60(v9, 24, v4);
  GetLocalTime(&SystemTime);
  sub_453D60(v11, 27, SystemTime.wYear);
  memset(v13, 0, sizeof(v13));
  memset(v12, 0, sizeof(v12));
  sub_453FA0(v13, 10);
  sub_453F00(v12, pbData);
  sub_4553D0(this);
  sprintf(Buffer, "%s%s%s%s", v10, v11, v13, v12);
  v5 = sub_453B00();
  sprintf(Source, "%scic=%s&tim=%d&snm=%s&loap=%s", v5, Buffer, 10, v9, (const char *)pbData);
  return sub_4271E0(this + 7, Source, strlen(Source));
}
// 4559D0:  char var_2C4[32]
// 4559D0:  char var_2E4[32]
// 4559D0:  char var_2A4[32]
// 4559D0:  char var_204[128]
// 4559D0:  char var_284[128]

//----- (00455B40) --------------------------------------------------------
void __thiscall sub_455B40(_DWORD *this, char *Source, char *a3)
{
  if ( Source )
  {
    if ( this[5] )
      sub_4271E0(this, "&", 1u);
    sub_4271E0(this, Source, strlen(Source));
    sub_4271E0(this, "=", 1u);
    if ( a3 )
      sub_4271E0(this, a3, strlen(a3));
  }
}

//----- (00455BB0) --------------------------------------------------------
void __thiscall sub_455BB0(_DWORD *this, char *Source, char *a3)
{
  _DWORD *v4; // esi

  if ( Source )
  {
    if ( this[12] )
      sub_4271E0(this + 7, "&", 1u);
    v4 = this + 7;
    sub_4271E0(v4, Source, strlen(Source));
    if ( a3 )
    {
      sub_4271E0(v4, "=", 1u);
      sub_4271E0(v4, a3, strlen(a3));
    }
  }
}

//----- (00455C20) --------------------------------------------------------
int __thiscall sub_455C20(void *this, int a2)
{
  sub_455420((int)this + 12, a2);
  return a2;
}

//----- (00455C40) --------------------------------------------------------
int __thiscall sub_455C40(_DWORD **this, int a2)
{
  _DWORD *v2; // eax
  struct std::locale::facet *v3; // eax
  int v4; // edi
  struct std::locale::facet *v5; // ebx
  int v6; // eax
  void (__thiscall ***v7)(_DWORD, int); // esi
  int v9; // [esp+14h] [ebp-14h] BYREF
  char v10[4]; // [esp+18h] [ebp-10h] BYREF
  int v11; // [esp+24h] [ebp-4h]

  v2 = sub_453A80(this, &v9);
  v11 = 0;
  v3 = sub_455570(v2);
  v4 = v9;
  v5 = v3;
  v11 = -1;
  if ( v9 )
  {
    std::_Lockit::_Lockit((std::_Lockit *)v10, 0);
    v6 = *(_DWORD *)(v4 + 4);
    if ( v6 && v6 != -1 )
      *(_DWORD *)(v4 + 4) = v6 - 1;
    v7 = *(_DWORD *)(v4 + 4) == 0 ? (void (__thiscall ***)(_DWORD, int))v4 : 0;
    std::_Lockit::~_Lockit((std::_Lockit *)v10);
    if ( v7 )
      (**v7)(v7, 1);
  }
  return (*(int (__thiscall **)(struct std::locale::facet *, int))(*(_DWORD *)v5 + 24))(v5, a2);
}
// 455C40:  char var_10[4]

//----- (00455D00) --------------------------------------------------------
void __thiscall sub_455D00(unsigned int *this, BYTE *pbData)
{
  struct tm *v3; // eax
  int v4; // ebx
  __time64_t Time; // [esp+Ch] [ebp-1DCh] BYREF
  struct _SYSTEMTIME SystemTime; // [esp+14h] [ebp-1D4h] BYREF
  char v7[32]; // [esp+24h] [ebp-1C4h] BYREF
  char v8[32]; // [esp+44h] [ebp-1A4h] BYREF
  char v9[128]; // [esp+64h] [ebp-184h] BYREF
  char v10[128]; // [esp+E4h] [ebp-104h] BYREF
  char Buffer[128]; // [esp+164h] [ebp-84h] BYREF

  _time64(&Time);
  v3 = _localtime64(&Time);
  v4 = _mktime64(v3);
  sub_453D60(v7, 29, v4);
  sub_453D60(v8, 24, v4);
  GetLocalTime(&SystemTime);
  sub_453D60(v7, 27, SystemTime.wYear);
  memset(v9, 0, sizeof(v9));
  memset(v10, 0, sizeof(v10));
  sub_453FA0(v9, 10);
  sub_453F00(v10, pbData);
  sub_454470(Buffer);
  sub_4553D0(this);
  sub_455B40(this, "cic", Buffer);
  sub_455B40(this, "tim", "10");
  sub_455B40(this, "snm", v8);
  sub_455B40(this, "loap", (char *)pbData);
  sub_455B40(this, "yp", "sv");
}
// 455D00:  char var_1C4[32]
// 455D00:  char var_1A4[32]
// 455D00:  char var_184[128]
// 455D00:  char var_104[128]

//----- (00455E50) --------------------------------------------------------
_BYTE *__thiscall sub_455E50(_BYTE *this)
{
  int v2; // ecx
  int v3; // edi
  _DWORD *v4; // ecx
  int v5; // eax

  v2 = *(_DWORD *)(*(_DWORD *)this + 4);
  v3 = 0;
  if ( (this[v2 + 8] & 6) == 0
    && (*(int (__thiscall **)(_DWORD))(**(_DWORD **)&this[v2 + 40] + 48))(*(_DWORD *)&this[v2 + 40]) == -1 )
  {
    v3 = 4;
  }
  v4 = &this[*(_DWORD *)(*(_DWORD *)this + 4)];
  if ( v3 )
  {
    v5 = v3 | v4[2];
    if ( !v4[10] )
      LOBYTE(v5) = v5 | 4;
    sub_455780(v4, v5, 0);
  }
  return this;
}

//----- (00455EA0) --------------------------------------------------------
_BYTE *__thiscall sub_455EA0(_BYTE *this, int a2)
{
  int v3; // eax
  int v4; // eax
  _BYTE *v5; // eax

  *(_DWORD *)this = a2;
  v3 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a2 + 4) + a2 + 40);
  if ( v3 )
    sub_45A0FB((LPCRITICAL_SECTION *)(v3 + 4));
  v4 = a2 + *(_DWORD *)(*(_DWORD *)a2 + 4);
  if ( !*(_DWORD *)(v4 + 8) )
  {
    v5 = *(_BYTE **)(v4 + 44);
    if ( v5 )
      sub_455E50(v5);
  }
  this[4] = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a2 + 4) + a2 + 8) == 0;
  return this;
}

//----- (00455F30) --------------------------------------------------------
_BYTE *__thiscall sub_455F30(_BYTE *this)
{
  _BYTE *result; // eax
  bool v2; // zf
  _DWORD v3[8]; // [esp+0h] [ebp-20h] BYREF

  v3[4] = v3;
  result = *(_BYTE **)this;
  v2 = (this[*(_DWORD *)(*(_DWORD *)this + 4) + 16] & 2) == 0;
  v3[7] = 0;
  if ( !v2 )
    return sub_455E50(this);
  return result;
}

//----- (00455F90) --------------------------------------------------------
_DWORD *__thiscall sub_455F90(_DWORD *this, int a2, int a3)
{
  int v4; // edx
  char *v5; // esi

  if ( a3 )
  {
    *this = &unk_492690;
    this[2] = &unk_492688;
    this[3] = &std::ios::`vftable';
  }
  *(_DWORD *)((char *)this + *(_DWORD *)(*this + 4)) = &std::istream::`vftable';
  v4 = *this;
  this[1] = 0;
  v5 = (char *)this + *(_DWORD *)(v4 + 4);
  sub_455950(v5);
  *((_DWORD *)v5 + 10) = a2;
  *((_DWORD *)v5 + 11) = 0;
  v5[48] = sub_455C40((_DWORD **)v5, 32);
  if ( !*((_DWORD *)v5 + 10) )
    sub_455780(v5, v5[8] | 4, 0);
  *((_DWORD *)v5 + 1) = 0;
  *(_DWORD *)((char *)this + *(_DWORD *)(this[2] + 4) + 8) = &std::ostream::`vftable';
  *(_DWORD *)((char *)this + *(_DWORD *)(*this + 4)) = &std::iostream::`vftable';
  return this;
}
// 492500:  void *std::ostream::`vftable'
// 492508:  void *std::istream::`vftable'
// 492510:  void *std::iostream::`vftable'
// 492518:  void *std::ios::`vftable'

//----- (00456070) --------------------------------------------------------
void __thiscall sub_456070(_BYTE **this)
{
  int v2; // eax

  if ( !__uncaught_exception() )
    sub_455F30(*this);
  v2 = *(_DWORD *)&(*this)[*(_DWORD *)(*(_DWORD *)*this + 4) + 40];
  if ( v2 )
    sub_45A104((LPCRITICAL_SECTION *)(v2 + 4));
}

//----- (004560E0) --------------------------------------------------------
int __cdecl sub_4560E0(int a1, const char *a2)
{
  int v2; // ebx
  signed int v3; // edi
  int v4; // eax
  int v5; // edx
  int v6; // eax
  int v7; // edx
  int v8; // eax
  _DWORD *v9; // ecx
  int *v10; // edx
  _DWORD *v11; // ecx
  _BYTE *v12; // edx
  int v13; // ecx
  _DWORD *v14; // ecx
  int v15; // eax
  int v17; // ecx
  int v18; // eax
  _DWORD *v19; // ecx
  int *v20; // edx
  _DWORD *v21; // ecx
  _BYTE *v22; // edx
  int v23; // [esp+0h] [ebp-30h] BYREF
  _BYTE *v24; // [esp+10h] [ebp-20h] BYREF
  char v25; // [esp+14h] [ebp-1Ch]
  int v26; // [esp+18h] [ebp-18h]
  int v27; // [esp+1Ch] [ebp-14h]
  int *v28; // [esp+20h] [ebp-10h]
  int v29; // [esp+2Ch] [ebp-4h]

  v28 = &v23;
  v2 = 0;
  v27 = 0;
  v3 = strlen(a2);
  v4 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 4) + a1 + 24);
  if ( v4 <= 0 || v4 <= v3 )
  {
    v26 = 0;
  }
  else
  {
    v2 = v4 - v3;
    v26 = v4 - v3;
  }
  sub_455EA0(&v24, a1);
  v29 = 0;
  if ( v25 )
  {
    v6 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 4) + a1 + 16) & 0x1C0;
    LOBYTE(v29) = 1;
    if ( v6 == 64 )
      goto LABEL_16;
    while ( v2 > 0 )
    {
      v7 = *(_DWORD *)(*(_DWORD *)a1 + 4);
      LOBYTE(v8) = *(_BYTE *)(v7 + a1 + 48);
      v9 = *(_DWORD **)(v7 + a1 + 40);
      if ( *(_DWORD *)v9[9] && (v10 = (int *)v9[13], *v10 > 0) )
      {
        --*v10;
        v11 = (_DWORD *)v9[9];
        v12 = (_BYTE *)(*v11)++;
        v2 = v26;
        *v12 = v8;
        v8 = (unsigned __int8)v8;
      }
      else
      {
        v8 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v9 + 4))(v9, (unsigned __int8)v8);
      }
      if ( v8 == -1 )
      {
        v27 |= 4u;
        break;
      }
      v26 = --v2;
    }
    if ( !v27 )
    {
LABEL_16:
      v13 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 4) + a1 + 40);
      if ( (*(int (__thiscall **)(int, const char *, signed int))(*(_DWORD *)v13 + 32))(v13, a2, v3) == v3 )
      {
        while ( v2 > 0 )
        {
          v17 = *(_DWORD *)(*(_DWORD *)a1 + 4);
          LOBYTE(v18) = *(_BYTE *)(v17 + a1 + 48);
          v19 = *(_DWORD **)(a1 + v17 + 40);
          if ( *(_DWORD *)v19[9] && (v20 = (int *)v19[13], *v20 > 0) )
          {
            --*v20;
            v21 = (_DWORD *)v19[9];
            v22 = (_BYTE *)(*v21)++;
            *v22 = v18;
            v18 = (unsigned __int8)v18;
          }
          else
          {
            v18 = (*(int (__thiscall **)(_DWORD *, _DWORD))(*v19 + 4))(v19, (unsigned __int8)v18);
          }
          if ( v18 == -1 )
          {
            v27 |= 4u;
            break;
          }
          --v2;
        }
      }
      else
      {
        v27 = 4;
      }
    }
    *(_DWORD *)(a1 + *(_DWORD *)(*(_DWORD *)a1 + 4) + 24) = 0;
    v29 = 0;
    v5 = v27;
  }
  else
  {
    v5 = 4;
  }
  v14 = (_DWORD *)(a1 + *(_DWORD *)(*(_DWORD *)a1 + 4));
  if ( v5 )
  {
    v15 = v5 | v14[2];
    if ( !v14[10] )
      LOBYTE(v15) = v15 | 4;
    sub_455780(v14, v15, 0);
  }
  v29 = -1;
  sub_456070(&v24);
  return a1;
}

//----- (004562F0) --------------------------------------------------------
_DWORD *__thiscall sub_4562F0(_DWORD *this, char a2, int a3)
{
  if ( a3 )
  {
    *this = &unk_4926A0;
    this[2] = &unk_492698;
    this[21] = &std::ios::`vftable';
  }
  sub_455F90(this, (int)(this + 3), 0);
  *(_DWORD *)((char *)this + *(_DWORD *)(*this + 4)) = &std::basic_stringstream<char,std::char_traits<char>,std::allocator<char>>::`vftable';
  sub_454FB0(this + 3, a2);
  return this;
}
// 492518:  void *std::ios::`vftable'
// 4925D4:  void *std::basic_stringstream<char,std::char_traits<char>,std::allocator<char>>::`vftable'

//----- (00456390) --------------------------------------------------------
char __thiscall sub_456390(
        void *this,
        char a2,
        CHAR *lpszAgent,
        int a4,
        int a5,
        int a6,
        int a7,
        unsigned int a8,
        char a9,
        CHAR *lpszUrl,
        int a11,
        int a12,
        int a13,
        DWORD dwUrlLength,
        unsigned int a15,
        char a16,
        int a17,
        char *Source,
        int a19,
        int a20,
        int a21,
        int a22,
        unsigned int a23,
        _DWORD *a24)
{
  bool v24; // cf
  const CHAR *p_lpszUrl; // eax
  int v26; // edx
  INTERNET_PORT nPort; // si
  DWORD v28; // ebp
  int v29; // edx
  _DWORD *v30; // eax
  int v31; // edx
  char *p_Source; // eax
  const CHAR *p_lpszAgent; // eax
  void *v34; // edi
  const CHAR *p_lpszServerName; // eax
  const CHAR *p_lpszObjectName; // ecx
  const CHAR *p_lpszVerb; // eax
  void *v38; // ebp
  DWORD v39; // eax
  const CHAR *p_lpszHeaders; // ecx
  int v41; // edi
  WCHAR *v42; // esi
  char *v43; // edi
  BOOL v44; // eax
  int v45; // eax
  char *v46; // eax
  size_t v48; // [esp-4h] [ebp-31A0h]
  char *lpOptional; // [esp+14h] [ebp-3188h]
  void *hFile; // [esp+18h] [ebp-3184h]
  DWORD dwNumberOfBytesRead; // [esp+1Ch] [ebp-3180h] BYREF
  HINTERNET hConnect; // [esp+20h] [ebp-317Ch]
  void *v53; // [esp+24h] [ebp-3178h]
  void *v54; // [esp+28h] [ebp-3174h]
  _DWORD *v55; // [esp+2Ch] [ebp-3170h]
  DWORD dwBufferLength; // [esp+30h] [ebp-316Ch] BYREF
  int Buffer; // [esp+34h] [ebp-3168h] BYREF
  int v58; // [esp+38h] [ebp-3164h] BYREF
  void *v59; // [esp+3Ch] [ebp-3160h]
  int v60; // [esp+4Ch] [ebp-3150h]
  unsigned int v61; // [esp+50h] [ebp-314Ch]
  struct $BC2FB811D417144E831EE3AEA4A279C8 UrlComponents; // [esp+54h] [ebp-3148h] BYREF
  _DWORD v63[2]; // [esp+90h] [ebp-310Ch] BYREF
  char v64[76]; // [esp+98h] [ebp-3104h] BYREF
  int v65[13]; // [esp+E4h] [ebp-30B8h] BYREF
  int v66; // [esp+118h] [ebp-3084h] BYREF
  LPCSTR lpszHeaders; // [esp+11Ch] [ebp-3080h] BYREF
  DWORD dwHeadersLength; // [esp+12Ch] [ebp-3070h]
  unsigned int v69; // [esp+130h] [ebp-306Ch]
  int v70; // [esp+134h] [ebp-3068h] BYREF
  LPCSTR lpszVerb; // [esp+138h] [ebp-3064h] BYREF
  int v72; // [esp+148h] [ebp-3054h]
  unsigned int v73; // [esp+14Ch] [ebp-3050h]
  int v74; // [esp+150h] [ebp-304Ch] BYREF
  LPCSTR lpszObjectName; // [esp+154h] [ebp-3048h] BYREF
  int v76; // [esp+164h] [ebp-3038h]
  unsigned int v77; // [esp+168h] [ebp-3034h]
  int v78; // [esp+16Ch] [ebp-3030h] BYREF
  LPCSTR lpszServerName; // [esp+170h] [ebp-302Ch] BYREF
  int v80; // [esp+180h] [ebp-301Ch]
  unsigned int v81; // [esp+184h] [ebp-3018h]
  char v82; // [esp+188h] [ebp-3014h] BYREF
  char v83; // [esp+1188h] [ebp-2014h] BYREF
  CHAR MultiByteStr[4100]; // [esp+2188h] [ebp-1014h] BYREF
  int v85; // [esp+3198h] [ebp-4h]

  v54 = this;
  v55 = a24;
  v85 = 3;
  v61 = 15;
  v60 = 0;
  LOBYTE(v59) = 0;
  sub_403950((int)a24, &v58, 0, 0xFFFFFFFF);
  LOBYTE(v85) = 2;
  if ( v61 >= 0x10 )
    operator delete(v59);
  if ( !dwUrlLength )
  {
    MessageBoxA(0, aUrl, WindowName, 0x42000u);
    if ( a8 >= 0x10 )
      operator delete(lpszAgent);
    a8 = 15;
    a7 = 0;
    LOBYTE(lpszAgent) = 0;
    if ( a15 >= 0x10 )
      operator delete(lpszUrl);
    v24 = a23 < 0x10;
    a15 = 15;
LABEL_9:
    LOBYTE(lpszUrl) = 0;
    dwUrlLength = 0;
    if ( !v24 )
      operator delete(Source);
    return 0;
  }
  hConnect = 0;
  hFile = 0;
  lpOptional = 0;
  v81 = 15;
  v80 = 0;
  LOBYTE(lpszServerName) = 0;
  v77 = 15;
  v76 = 0;
  LOBYTE(lpszObjectName) = 0;
  v73 = 15;
  v72 = 0;
  LOBYTE(lpszVerb) = 0;
  v69 = 15;
  dwHeadersLength = 0;
  LOBYTE(lpszHeaders) = 0;
  LOBYTE(v85) = 7;
  sub_4562F0(v63, 3, 1);
  LOBYTE(v85) = 8;
  memset(&UrlComponents, 0, sizeof(UrlComponents));
  UrlComponents.lpszHostName = &v83;
  UrlComponents.dwHostNameLength = 4096;
  UrlComponents.dwUrlPathLength = 4096;
  p_lpszUrl = lpszUrl;
  UrlComponents.dwStructSize = 60;
  UrlComponents.lpszUrlPath = &v82;
  if ( a15 < 0x10 )
    p_lpszUrl = (const CHAR *)&lpszUrl;
  if ( !InternetCrackUrlA(p_lpszUrl, dwUrlLength, 0, &UrlComponents) )
  {
    MessageBoxA(0, aUrl_0, WindowName, 0x42000u);
    LOBYTE(v85) = 7;
    sub_454CF0(v65);
    v65[0] = (int)&std::ios_base::`vftable';
    std::ios_base::_Ios_base_dtor((struct std::ios_base *)v65);
    if ( v69 >= 0x10 )
      operator delete((void *)lpszHeaders);
    v69 = 15;
    dwHeadersLength = 0;
    LOBYTE(lpszHeaders) = 0;
    if ( v73 >= 0x10 )
      operator delete((void *)lpszVerb);
    v73 = 15;
    v72 = 0;
    LOBYTE(lpszVerb) = 0;
    if ( v77 >= 0x10 )
      operator delete((void *)lpszObjectName);
    v77 = 15;
    v76 = 0;
    LOBYTE(lpszObjectName) = 0;
    if ( v81 >= 0x10 )
      operator delete((void *)lpszServerName);
    v81 = 15;
    v80 = 0;
    LOBYTE(lpszServerName) = 0;
    if ( a8 >= 0x10 )
      operator delete(lpszAgent);
    a8 = 15;
    a7 = 0;
    LOBYTE(lpszAgent) = 0;
    if ( a15 >= 0x10 )
      operator delete(lpszUrl);
    a15 = 15;
    dwUrlLength = 0;
    LOBYTE(lpszUrl) = 0;
    if ( a23 >= 0x10 )
      operator delete(Source);
    return 0;
  }
  sub_403A30(&v78, (int)UrlComponents.lpszHostName, UrlComponents.lpszHostName, strlen(UrlComponents.lpszHostName));
  sub_403A30(&v74, (int)UrlComponents.lpszUrlPath, UrlComponents.lpszUrlPath, strlen(UrlComponents.lpszUrlPath));
  nPort = UrlComponents.nPort;
  if ( UrlComponents.nScheme == INTERNET_SCHEME_HTTP )
  {
    v28 = -2078277632;
  }
  else
  {
    if ( UrlComponents.nScheme != INTERNET_SCHEME_HTTPS )
    {
      MessageBoxA(0, aHttp_1, WindowName, 0x42000u);
      LOBYTE(v85) = 7;
      sub_454CF0(v65);
      v65[0] = (int)&std::ios_base::`vftable';
      std::ios_base::_Ios_base_dtor((struct std::ios_base *)v65);
      sub_403910((int)&v66);
      sub_403910((int)&v70);
      sub_403910((int)&v74);
      sub_403910((int)&v78);
      sub_403910((int)&a2);
      sub_403910((int)&a9);
      sub_403910((int)&a17);
      return 0;
    }
    v28 = -2069876736;
  }
  if ( a16 )
  {
    sub_403A30(&v70, v26, "GET", 3u);
    sub_403A30(&v66, v29, (char *)::Source, 0);
    if ( a22 )
    {
      v30 = (_DWORD *)sub_4556C0((int)&v58, "?", &a17);
      LOBYTE(v85) = 9;
      sub_426390(&v74, v30, 0, 0xFFFFFFFF);
      LOBYTE(v85) = 8;
      sub_403910((int)&v58);
    }
  }
  else
  {
    sub_403A30(&v70, v26, "POST", 4u);
    sub_403A30(&v66, v31, "Content-Type: application/x-www-form-urlencoded", 0x2Fu);
    if ( a22 )
    {
      p_Source = Source;
      if ( a23 < 0x10 )
        p_Source = (char *)&Source;
      lpOptional = sub_453FF0(p_Source);
    }
  }
  p_lpszAgent = lpszAgent;
  if ( a8 < 0x10 )
    p_lpszAgent = (const CHAR *)&lpszAgent;
  v34 = InternetOpenA(p_lpszAgent, 0, 0, 0, 0);
  v53 = v34;
  if ( !v34 )
  {
    MessageBoxA(0, aWininet, WindowName, 0x42000u);
LABEL_68:
    if ( lpOptional )
      free(lpOptional);
    InternetCloseHandle(hFile);
    InternetCloseHandle(hConnect);
    InternetCloseHandle(v34);
    LOBYTE(v85) = 7;
    sub_454CF0(v65);
    v65[0] = (int)&std::ios_base::`vftable';
    std::ios_base::_Ios_base_dtor((struct std::ios_base *)v65);
    if ( v69 >= 0x10 )
      operator delete((void *)lpszHeaders);
    v69 = 15;
    dwHeadersLength = 0;
    LOBYTE(lpszHeaders) = 0;
    if ( v73 >= 0x10 )
      operator delete((void *)lpszVerb);
    v73 = 15;
    v72 = 0;
    LOBYTE(lpszVerb) = 0;
    if ( v77 >= 0x10 )
      operator delete((void *)lpszObjectName);
    v77 = 15;
    v76 = 0;
    LOBYTE(lpszObjectName) = 0;
    if ( v81 >= 0x10 )
      operator delete((void *)lpszServerName);
    v81 = 15;
    v80 = 0;
    LOBYTE(lpszServerName) = 0;
    if ( a8 >= 0x10 )
      operator delete(lpszAgent);
    a8 = 15;
    a7 = 0;
    LOBYTE(lpszAgent) = 0;
    if ( a15 >= 0x10 )
      operator delete(lpszUrl);
    v24 = a23 < 0x10;
    a15 = 15;
    goto LABEL_9;
  }
  p_lpszServerName = lpszServerName;
  if ( v81 < 0x10 )
    p_lpszServerName = (const CHAR *)&lpszServerName;
  hConnect = InternetConnectA(v34, p_lpszServerName, nPort, 0, 0, 3u, 0, 0);
  if ( !hConnect )
  {
    MessageBoxA(0, aHttp_2, WindowName, 0x42000u);
    goto LABEL_68;
  }
  p_lpszObjectName = lpszObjectName;
  if ( v77 < 0x10 )
    p_lpszObjectName = (const CHAR *)&lpszObjectName;
  p_lpszVerb = lpszVerb;
  if ( v73 < 0x10 )
    p_lpszVerb = (const CHAR *)&lpszVerb;
  v38 = HttpOpenRequestA(hConnect, p_lpszVerb, p_lpszObjectName, 0, 0, 0, v28, 0);
  hFile = v38;
  if ( !v38 )
  {
    MessageBoxA(0, aHttp_3, WindowName, 0x42000u);
    goto LABEL_68;
  }
  if ( lpOptional )
    v39 = strlen(lpOptional);
  else
    v39 = 0;
  p_lpszHeaders = lpszHeaders;
  if ( v69 < 0x10 )
    p_lpszHeaders = (const CHAR *)&lpszHeaders;
  if ( !HttpSendRequestA(v38, p_lpszHeaders, dwHeadersLength, lpOptional, v39) )
  {
    MessageBoxA(0, aHttp_4, WindowName, 0x42000u);
    goto LABEL_68;
  }
  dwBufferLength = 4;
  if ( !HttpQueryInfoA(v38, 0x20000013u, &Buffer, &dwBufferLength, 0) )
  {
    MessageBoxA(0, byte_49270C, WindowName, 0x42000u);
    goto LABEL_68;
  }
  if ( Buffer != 200 )
  {
    MessageBoxA(0, byte_4926E8, WindowName, 0x42000u);
    goto LABEL_68;
  }
  dwNumberOfBytesRead = 0;
  if ( !InternetReadFile(v38, MultiByteStr, 0x1000u, &dwNumberOfBytesRead) )
  {
LABEL_67:
    MessageBoxA(0, aHttp_0, WindowName, 0x42000u);
    goto LABEL_68;
  }
  while ( dwNumberOfBytesRead )
  {
    v41 = dwNumberOfBytesRead + 1;
    v48 = 2 * (dwNumberOfBytesRead + 1);
    MultiByteStr[dwNumberOfBytesRead] = 0;
    v42 = (WCHAR *)malloc(v48);
    MultiByteToWideChar(0xFDE9u, 0, MultiByteStr, -1, v42, v41);
    v43 = sub_454020(v42);
    sub_4560E0((int)v64, v43);
    free(v43);
    free(v42);
    dwNumberOfBytesRead = 0;
    v44 = InternetReadFile(v38, MultiByteStr, 0x1000u, &dwNumberOfBytesRead);
    v34 = v53;
    if ( !v44 )
      goto LABEL_67;
  }
  v45 = sub_455C20(v63, (int)&v58);
  v24 = *(_DWORD *)(v45 + 24) < 0x10u;
  LOBYTE(v85) = 10;
  if ( v24 )
    v46 = (char *)(v45 + 4);
  else
    v46 = *(char **)(v45 + 4);
  sub_4553F0(v55, v46);
  sub_403910((int)&v58);
  if ( lpOptional )
    free(lpOptional);
  InternetCloseHandle(v38);
  InternetCloseHandle(hConnect);
  InternetCloseHandle(v34);
  LOBYTE(v85) = 7;
  sub_454F50(v63);
  sub_403910((int)&v66);
  sub_403910((int)&v70);
  sub_403910((int)&v74);
  sub_403910((int)&v78);
  sub_403910((int)&a2);
  sub_403910((int)&a9);
  sub_403910((int)&a17);
  return 1;
}
// 4567C1: variable 'v26' is possibly undefined
// 4567D3: variable 'v29' is possibly undefined
// 456844: variable 'v31' is possibly undefined
// 49245C:  void *std::ios_base::`vftable'
// 456390:  _DWORD var_310C[2]
// 456390:  CHAR MultiByteStr[4100]
// 456390:  char var_3104[76]

//----- (00456DF0) --------------------------------------------------------
int __fastcall sub_456DF0(unsigned int *dwUrlLength, int a2)
{
  const char *v4; // edi
  char v5; // [esp-5Ch] [ebp-A8h] BYREF
  CHAR *v6; // [esp-58h] [ebp-A4h]
  int v7; // [esp-54h] [ebp-A0h]
  int v8; // [esp-50h] [ebp-9Ch]
  int v9; // [esp-4Ch] [ebp-98h]
  int v10; // [esp-48h] [ebp-94h]
  unsigned int v11; // [esp-44h] [ebp-90h]
  char v12; // [esp-40h] [ebp-8Ch] BYREF
  CHAR *v13; // [esp-3Ch] [ebp-88h]
  int v14; // [esp-38h] [ebp-84h]
  int v15; // [esp-34h] [ebp-80h]
  int v16; // [esp-30h] [ebp-7Ch]
  DWORD v17; // [esp-2Ch] [ebp-78h]
  unsigned int v18; // [esp-28h] [ebp-74h]
  int v19; // [esp-24h] [ebp-70h]
  int v20; // [esp-20h] [ebp-6Ch] BYREF
  char *v21; // [esp-1Ch] [ebp-68h]
  int v22; // [esp-18h] [ebp-64h]
  int v23; // [esp-14h] [ebp-60h]
  int v24; // [esp-10h] [ebp-5Ch]
  int v25; // [esp-Ch] [ebp-58h]
  unsigned int v26; // [esp-8h] [ebp-54h]
  _DWORD *v27; // [esp-4h] [ebp-50h]
  char *v28; // [esp+14h] [ebp-38h]
  char *v29; // [esp+18h] [ebp-34h]
  int *v30; // [esp+1Ch] [ebp-30h]
  int v31; // [esp+20h] [ebp-2Ch] BYREF
  void *v32; // [esp+24h] [ebp-28h]
  int v33; // [esp+34h] [ebp-18h]
  unsigned int v34; // [esp+38h] [ebp-14h]
  int v35; // [esp+48h] [ebp-4h]

  v34 = 15;
  v33 = 0;
  LOBYTE(v32) = 0;
  sub_403A30(&v31, a2, "DC4", 3u);
  v35 = 0;
  sub_4272F0(dwUrlLength);
  v27 = dwUrlLength + 14;
  v30 = &v20;
  v26 = 15;
  v25 = 0;
  LOBYTE(v21) = 0;
  sub_403950((int)&v20, dwUrlLength, 0, 0xFFFFFFFF);
  v19 = 1;
  v28 = &v12;
  v18 = 15;
  v17 = 0;
  LOBYTE(v35) = 1;
  LOBYTE(v13) = 0;
  sub_403950((int)&v12, dwUrlLength + 7, 0, 0xFFFFFFFF);
  v29 = &v5;
  v11 = 15;
  v10 = 0;
  LOBYTE(v35) = 2;
  LOBYTE(v6) = 0;
  sub_403950((int)&v5, &v31, 0, 0xFFFFFFFF);
  LOBYTE(v35) = 0;
  if ( sub_456390(
         dwUrlLength,
         v5,
         v6,
         v7,
         v8,
         v9,
         v10,
         v11,
         v12,
         v13,
         v14,
         v15,
         v16,
         v17,
         v18,
         v19,
         v20,
         v21,
         v22,
         v23,
         v24,
         v25,
         v26,
         v27) )
  {
    setlocale(0, "Japanese");
    if ( dwUrlLength[20] < 0x10 )
      v4 = (const char *)(dwUrlLength + 15);
    else
      v4 = (const char *)dwUrlLength[15];
    printf("%s", v4);
    _getch();
    if ( v34 >= 0x10 )
      operator delete(v32);
    return 1;
  }
  else
  {
    if ( v34 >= 0x10 )
      operator delete(v32);
    return 0;
  }
}

//----- (00456F60) --------------------------------------------------------
int __fastcall sub_456F60(_DWORD *dwUrlLength, int a2)
{
  const char *v4; // edi
  char v5; // [esp-5Ch] [ebp-A8h] BYREF
  CHAR *v6; // [esp-58h] [ebp-A4h]
  int v7; // [esp-54h] [ebp-A0h]
  int v8; // [esp-50h] [ebp-9Ch]
  int v9; // [esp-4Ch] [ebp-98h]
  int v10; // [esp-48h] [ebp-94h]
  unsigned int v11; // [esp-44h] [ebp-90h]
  char v12; // [esp-40h] [ebp-8Ch] BYREF
  CHAR *v13; // [esp-3Ch] [ebp-88h]
  int v14; // [esp-38h] [ebp-84h]
  int v15; // [esp-34h] [ebp-80h]
  int v16; // [esp-30h] [ebp-7Ch]
  DWORD v17; // [esp-2Ch] [ebp-78h]
  unsigned int v18; // [esp-28h] [ebp-74h]
  int v19; // [esp-24h] [ebp-70h]
  int v20; // [esp-20h] [ebp-6Ch] BYREF
  char *v21; // [esp-1Ch] [ebp-68h]
  int v22; // [esp-18h] [ebp-64h]
  int v23; // [esp-14h] [ebp-60h]
  int v24; // [esp-10h] [ebp-5Ch]
  int v25; // [esp-Ch] [ebp-58h]
  unsigned int v26; // [esp-8h] [ebp-54h]
  _DWORD *v27; // [esp-4h] [ebp-50h]
  char *v28; // [esp+14h] [ebp-38h]
  char *v29; // [esp+18h] [ebp-34h]
  int *v30; // [esp+1Ch] [ebp-30h]
  int v31; // [esp+20h] [ebp-2Ch] BYREF
  void *v32; // [esp+24h] [ebp-28h]
  int v33; // [esp+34h] [ebp-18h]
  unsigned int v34; // [esp+38h] [ebp-14h]
  int v35; // [esp+48h] [ebp-4h]

  v34 = 15;
  v33 = 0;
  LOBYTE(v32) = 0;
  sub_403A30(&v31, a2, "DC4", 3u);
  v27 = dwUrlLength + 14;
  v30 = &v20;
  v26 = 15;
  v25 = 0;
  v35 = 0;
  LOBYTE(v21) = 0;
  sub_403950((int)&v20, dwUrlLength, 0, 0xFFFFFFFF);
  v19 = 0;
  v28 = &v12;
  v18 = 15;
  v17 = 0;
  LOBYTE(v35) = 1;
  LOBYTE(v13) = 0;
  sub_403950((int)&v12, dwUrlLength + 7, 0, 0xFFFFFFFF);
  v29 = &v5;
  v11 = 15;
  v10 = 0;
  LOBYTE(v35) = 2;
  LOBYTE(v6) = 0;
  sub_403950((int)&v5, &v31, 0, 0xFFFFFFFF);
  LOBYTE(v35) = 0;
  if ( sub_456390(
         dwUrlLength,
         v5,
         v6,
         v7,
         v8,
         v9,
         v10,
         v11,
         v12,
         v13,
         v14,
         v15,
         v16,
         v17,
         v18,
         v19,
         v20,
         v21,
         v22,
         v23,
         v24,
         v25,
         v26,
         v27) )
  {
    setlocale(0, "Japanese");
    if ( dwUrlLength[20] < 0x10u )
      v4 = (const char *)(dwUrlLength + 15);
    else
      v4 = (const char *)dwUrlLength[15];
    printf("%s", v4);
    _getch();
    if ( v34 >= 0x10 )
      operator delete(v32);
    return 1;
  }
  else
  {
    if ( v34 >= 0x10 )
      operator delete(v32);
    return 0;
  }
}

//----- (00457110) --------------------------------------------------------
int __thiscall sub_457110(_DWORD *this)
{
  int result; // eax

  this[575] = -1;
  this[161] = -1;
  result = 0;
  this[576] = 1;
  this[160] = 0;
  this[163] = 0;
  this[577] = 0;
  this[580] = 0;
  this[579] = 0;
  this[578] = 0;
  return result;
}

//----- (00457150) --------------------------------------------------------
int __thiscall sub_457150(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[575] = a2;
  return result;
}

//----- (00457160) --------------------------------------------------------
void __thiscall sub_457160(int this, int a2, int a3, int a4)
{
  if ( a4 )
  {
    *(_DWORD *)(this + 644) = timeGetTime();
    *(_DWORD *)(this + 2316) = a3;
    *(_DWORD *)(this + 2312) = a2;
    *(_DWORD *)(this + 2320) = 100 * a4;
    *(float *)(this + 648) = (double)(a3 - a2) / (double)(100 * a4);
  }
}

//----- (004571C0) --------------------------------------------------------
int __thiscall sub_4571C0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[576] = a2;
  return result;
}

//----- (004571D0) --------------------------------------------------------
void *__thiscall sub_4571D0(_DWORD *this)
{
  void *result; // eax

  sub_457110(this);
  result = memset(this + 165, 0, 0x668u);
  this[153] = 0;
  return result;
}

//----- (00457200) --------------------------------------------------------
char __thiscall sub_457200(_DWORD *this, _BYTE *a2)
{
  int v2; // eax
  _BYTE *v4; // esi

  v2 = this[153];
  if ( v2 < 20 )
  {
    v4 = (char *)this + 82 * v2 + 660;
    do
    {
      LOBYTE(v2) = *a2;
      *v4++ = *a2++;
    }
    while ( (_BYTE)v2 );
    ++this[153];
  }
  return v2;
}

//----- (00457240) --------------------------------------------------------
int __thiscall sub_457240(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  if ( a2 )
  {
    this[163] = 1;
    this[577] = a2;
  }
  else
  {
    this[163] = 0;
    this[577] = 0;
  }
  return result;
}

//----- (00457270) --------------------------------------------------------
void __thiscall sub_457270(void **this, int a2, int a3)
{
  int v3; // esi
  void **v5; // ebx
  int v6; // ebp

  v3 = a3;
  this[156] = (void *)a2;
  this[157] = (void *)a3;
  v5 = this + 2;
  v6 = 6;
  do
  {
    sub_4415B0(*v5, a2, v3);
    v3 += (int)this[154];
    ++v5;
    --v6;
  }
  while ( v6 );
}

//----- (004572C0) --------------------------------------------------------
int __thiscall sub_4572C0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[154] = a2;
  return result;
}

//----- (004572D0) --------------------------------------------------------
char *__thiscall sub_4572D0(_DWORD *this, char *a2)
{
  char *result; // eax

  result = a2;
  *a2 = 0;
  if ( this[154] == 22 )
    strcpy(a2, "@m");
  if ( this[154] == 32 )
    strcpy(a2, "@l");
  if ( this[154] == 20 )
    strcpy(a2, "@s");
  if ( this[154] == 18 )
    strcpy(a2, "@i");
  if ( this[154] == 12 )
    strcpy(a2, "@r");
  if ( this[154] == 16 )
    strcpy(a2, "@y");
  if ( this[154] == 10 )
    strcpy(a2, "@z");
  return result;
}

//----- (004573D0) --------------------------------------------------------
unsigned __int16 *__thiscall sub_4573D0(unsigned __int16 *this, const char *a2, char *a3)
{
  unsigned __int16 *result; // eax
  int v5; // ebx
  __int16 *v6; // eax
  __int16 v7; // cx
  char *v8; // eax
  _BYTE *v9; // edx
  __int16 v10; // cx
  unsigned int v11; // eax
  __int16 *v12; // edi
  __int16 v13; // cx
  int v14; // eax
  unsigned __int16 v15; // cx
  char *v16; // eax
  _BYTE *v17; // edx
  __int16 v18; // cx
  unsigned int v19; // eax
  __int16 *v20; // edi
  __int16 v21; // cx
  unsigned __int16 v22; // cx
  unsigned __int16 *v23; // [esp+Ch] [ebp-188h]
  char v24[3]; // [esp+10h] [ebp-184h] BYREF
  char SubStr[123]; // [esp+13h] [ebp-181h] BYREF
  __int16 v26; // [esp+8Eh] [ebp-106h] BYREF
  unsigned __int16 v27[22]; // [esp+90h] [ebp-104h] BYREF
  __int16 v28; // [esp+BCh] [ebp-D8h]

  *(_WORD *)a3 = 0;
  strcpy(v24, a2);
  result = (unsigned __int16 *)strlen(v24);
  v5 = 0;
  *((_BYTE *)result + (_DWORD)&v23 + 3) = 0;
  v27[0] = 0;
  if ( *((_BYTE *)this + 258328) )
  {
    result = this;
    while ( !strstr((const char *)result + 258329, SubStr) )
    {
      result = &this[64 * ++v5];
      if ( !*((_BYTE *)result + 258328) )
        return result;
    }
    v6 = &v26;
    do
    {
      v7 = v6[1];
      ++v6;
    }
    while ( v7 );
    *(_DWORD *)v6 = 7471168;
    v6[2] = 0;
    v23 = &this[128 * v5];
    v8 = (char *)(v23 + 1165);
    v9 = v23 + 1165;
    do
    {
      v10 = *(_WORD *)v8;
      v8 += 2;
    }
    while ( v10 );
    v11 = v8 - v9;
    v12 = &v26;
    do
    {
      v13 = v12[1];
      ++v12;
    }
    while ( v13 );
    qmemcpy(v12, v9, v11);
    if ( wcslen(v27) <= 0x15 )
    {
      v27[wcslen(v27) - 1] = 0;
    }
    else
    {
      v28 = 0;
      if ( !strncmp((const char *)&this[64 * v5 + 129164] + 1, SubStr, strlen(SubStr)) )
      {
        v28 = 0;
      }
      else
      {
        v14 = 0;
        do
        {
          v15 = *(_WORD *)((char *)&dword_48B620 + v14 * 2);
          v27[v14++] = v15;
        }
        while ( v15 );
        v16 = (char *)(v23 + 1187);
        v17 = v23 + 1187;
        do
        {
          v18 = *(_WORD *)v16;
          v16 += 2;
        }
        while ( v18 );
        v19 = v16 - v17;
        v20 = &v26;
        do
        {
          v21 = v20[1];
          ++v20;
        }
        while ( v21 );
        qmemcpy(v20, v17, v19);
      }
    }
    result = v27;
    do
    {
      v22 = *result;
      *(unsigned __int16 *)((char *)result + a3 - (char *)v27) = *result;
      ++result;
    }
    while ( v22 );
  }
  return result;
}
// 48B620:  int dword_48B620

//----- (00457630) --------------------------------------------------------
void __thiscall sub_457630(int this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  int v4; // eax
  int v5; // ecx
  int **v6; // edi
  int v7; // ebp
  int *v8; // eax
  int *v9; // eax
  void **v10; // ecx

  v2 = operator new(0x784u);
  if ( v2 )
    v3 = sub_448B00(v2);
  else
    v3 = 0;
  *(_DWORD *)this = v3;
  v4 = sub_44CB90(*((char **)dword_4C0874 + 63), "system\\commentback", 0, 1);
  v5 = *(_DWORD *)this;
  *(_DWORD *)(this + 4) = v4;
  sub_4440C0(v5, v4);
  sub_444260(*(float **)this, 8.0, 390.0);
  v6 = (int **)(this + 8);
  v7 = 6;
  do
  {
    v8 = (int *)operator new(0xB0u);
    if ( v8 )
      v9 = sub_442880(v8);
    else
      v9 = 0;
    *v6++ = v9;
    --v7;
  }
  while ( v7 );
  sub_4571D0((_DWORD *)this);
  sub_4572C0((_DWORD *)this, 12);
  *(_DWORD *)(this + 628) = 0;
  *(_DWORD *)(this + 624) = 0;
  sub_457270(v10, 10, 374);
  *(_BYTE *)(this + 524) = 0;
  *(_DWORD *)(this + 620) = 0;
  *(_DWORD *)(this + 608) = 0;
  *(_DWORD *)(this + 612) = 0;
  *(_DWORD *)(this + 632) = 0;
  *(_DWORD *)(this + 636) = 0;
  *(_DWORD *)(this + 656) = 0;
}
// 457730: variable 'v10' is possibly undefined

//----- (00457780) --------------------------------------------------------
void __thiscall sub_457780(char *this)
{
  _DWORD **v2; // edi
  int v3; // ebx
  void *v4; // esi
  void *v5; // esi

  v2 = (_DWORD **)(this + 8);
  v3 = 6;
  do
  {
    v4 = *v2;
    if ( *v2 )
    {
      sub_442820(*v2);
      operator delete(v4);
      *v2 = 0;
    }
    ++v2;
    --v3;
  }
  while ( v3 );
  sub_44BF60(*((int **)dword_4C0874 + 63), *((_DWORD *)this + 1));
  v5 = *(void **)this;
  if ( *(_DWORD *)this )
  {
    sub_4470C0(*(_DWORD **)this);
    operator delete(v5);
    *(_DWORD *)this = 0;
  }
}

//----- (004577F0) --------------------------------------------------------
int __thiscall sub_4577F0(_DWORD *this)
{
  _BYTE *v2; // edi
  int *v3; // esi
  int v4; // ebx
  int result; // eax

  sub_4571D0(this);
  v2 = this + 8;
  v3 = this + 2;
  v4 = 6;
  do
  {
    result = sub_440880(*v3);
    *v2 = 0;
    ++v3;
    v2 += 82;
    --v4;
  }
  while ( v4 );
  this[152] = 0;
  return result;
}

//----- (00457830) --------------------------------------------------------
int __thiscall sub_457830(int this)
{
  _DWORD **v2; // ebx
  int *v3; // esi
  int v4; // edi
  char *v5; // esi
  int v6; // ebp
  char *v7; // eax
  char v8; // cl
  int result; // eax
  wchar_t v12[128]; // [esp+14h] [ebp-104h] BYREF

  v2 = (_DWORD **)(this + 8);
  v3 = (int *)(this + 8);
  v4 = 6;
  do
  {
    sub_440880(*v3++);
    --v4;
  }
  while ( v4 );
  v5 = (char *)(this + 32);
  v6 = 5;
  do
  {
    v7 = v5 + 82;
    do
    {
      v8 = *v7;
      *(v7 - 82) = *v7;
      ++v7;
    }
    while ( v8 );
    sub_4573D0((unsigned __int16 *)this, v5, (char *)v12);
    if ( v12[0] )
    {
      sub_442530(*v2, v12, v5);
    }
    else if ( v5 )
    {
      sub_442430(*v2, v5);
    }
    ++v2;
    --v6;
    v5 += 82;
  }
  while ( v6 );
  result = this;
  if ( --*(_DWORD *)(this + 608) < 0 )
    *(_DWORD *)(this + 608) = 0;
  return result;
}

//----- (00457900) --------------------------------------------------------
void __thiscall sub_457900(int this, int a2)
{
  unsigned int v3; // eax
  char *v4; // edi
  int v6; // esi
  int v7; // edi
  const char *v8; // esi
  int v9; // eax
  int v10; // eax
  char v11[84]; // [esp+8h] [ebp-158h] BYREF
  wchar_t v12[128]; // [esp+5Ch] [ebp-104h] BYREF

  if ( *(int *)(this + 608) >= 6 )
    sub_457830(this);
  if ( strlen((const char *)a2) >= 0x4F )
  {
    MessageBoxA(0, &byte_492838, WindowName, 0x42000u);
    *(_BYTE *)(a2 + 81) = 0;
  }
  sub_4572D0((_DWORD *)this, (char *)(82 * *(_DWORD *)(this + 608) + this + 32));
  v3 = strlen((const char *)a2) + 1;
  v4 = (char *)(82 * *(_DWORD *)(this + 608) + this + 31);
  while ( *++v4 )
    ;
  qmemcpy(v4, (const void *)a2, v3);
  v6 = 82 * *(_DWORD *)(this + 608) + this;
  if ( strlen((const char *)(v6 + 32)) > 0x28 )
  {
    v7 = 40;
    if ( _ismbclegal(*(unsigned __int8 *)(v6 + 72) | (*(unsigned __int8 *)(v6 + 71) << 8)) )
      v7 = 41;
    v8 = (const char *)(this + 82 * *(_DWORD *)(this + 608) + v7 + 32);
    strcpy(v11, v8);
    *v8 = 0;
    v9 = *(_DWORD *)(this + 616);
    if ( v9 == 22 )
      strcpy((char *)(this + 524), "@m");
    if ( v9 == 32 )
      strcpy((char *)(this + 524), "@l");
    if ( v9 == 20 )
      strcpy((char *)(this + 524), "@s");
    if ( v9 == 18 )
      strcpy((char *)(this + 524), "@i");
    if ( v9 == 12 )
      strcpy((char *)(this + 524), "@r");
    if ( v9 == 16 )
      strcpy((char *)(this + 524), "@y");
    if ( v9 == 10 )
      strcpy((char *)(this + 524), "@z");
    strcpy((char *)(this + 524), v11);
  }
  sub_4573D0((unsigned __int16 *)this, (const char *)(82 * *(_DWORD *)(this + 608) + this + 32), (char *)v12);
  v10 = *(_DWORD *)(this + 608);
  if ( v12[0] )
    sub_442530(*(_DWORD **)(this + 4 * v10 + 8), v12, (char *)(82 * v10 + this + 32));
  else
    sub_442430(*(_DWORD **)(this + 4 * v10 + 8), (char *)(82 * v10 + this + 32));
  if ( !*(_DWORD *)(this + 656) )
  {
    sub_43D450(*(_DWORD **)(this + 4 * *(_DWORD *)(this + 608) + 8), 10);
    sub_441270(*(_DWORD **)(this + 4 * *(_DWORD *)(this + 608) + 8), 0);
  }
  sub_457270((void **)this, *(_DWORD *)(this + 624), *(_DWORD *)(this + 628));
  ++*(_DWORD *)(this + 608);
}

//----- (00457BC0) --------------------------------------------------------
int __thiscall sub_457BC0(int this, int a2)
{
  _BYTE *v4; // edi
  int v5; // edi
  int v6; // ebx
  DWORD Time; // eax
  int v8; // edi
  int v9; // edx
  int v10; // [esp+8h] [ebp-Ch]
  int v11; // [esp+Ch] [ebp-8h]

  if ( *(int *)(this + 612) <= 0 )
    return 1;
  v4 = (_BYTE *)(this + 524);
  if ( *(_BYTE *)(this + 524) )
  {
    sub_457900(this, this + 524);
    *v4 = 0;
  }
  else if ( timeGetTime() - *(_DWORD *)(this + 632) >= *(_DWORD *)(this + 636) || a2 )
  {
    v5 = *(_DWORD *)(this + 612);
    v10 = rand() % v5;
    if ( *(_DWORD *)(this + 2304) )
    {
      if ( *(_DWORD *)(this + 652) )
      {
        if ( *(_DWORD *)(this + 640) >= *(_DWORD *)(this + 2308) )
        {
          *(_WORD *)(this + 660) = 32;
          *(_WORD *)(this + 742) = 32;
          *(_WORD *)(this + 824) = 32;
          *(_WORD *)(this + 906) = 32;
          *(_WORD *)(this + 988) = 32;
          *(_WORD *)(this + 1070) = 32;
          *(_DWORD *)(this + 640) = 0;
        }
        ++*(_DWORD *)(this + 640);
      }
    }
    else
    {
      if ( *(_DWORD *)(this + 640) >= v5 )
      {
        *(_DWORD *)(this + 640) = 0;
        if ( *(_DWORD *)(this + 652) )
        {
          *(_WORD *)(this + 660) = 32;
          *(_WORD *)(this + 742) = 32;
          *(_WORD *)(this + 824) = 32;
          *(_WORD *)(this + 906) = 32;
          *(_WORD *)(this + 988) = 32;
          *(_WORD *)(this + 1070) = 32;
        }
      }
      v10 = *(_DWORD *)(this + 640);
      *(_DWORD *)(this + 640) = v10 + 1;
    }
    *(_DWORD *)(this + 632) = timeGetTime();
    if ( *(_DWORD *)(this + 644) == -1 )
    {
      if ( *(_DWORD *)(this + 2300) == -1 )
        v9 = rand() % 2500 + 500;
      else
        v9 = 100 * *(_DWORD *)(this + 2300) + rand() % 200;
      *(_DWORD *)(this + 636) = v9;
    }
    else
    {
      v6 = 2500;
      Time = timeGetTime();
      if ( *(_DWORD *)(this + 2300) != -1 )
        v6 = *(_DWORD *)(this + 2300);
      v11 = Time - *(_DWORD *)(this + 644);
      if ( v11 <= *(_DWORD *)(this + 2320) )
      {
        v8 = (int)(*(float *)(this + 648) * (double)v11 + (double)*(int *)(this + 2312));
        *(_DWORD *)(this + 636) = 100 * (v6 * v8 / 100) + rand() % 50;
      }
      else
      {
        *(_DWORD *)(this + 636) = 100 * (v6 * *(_DWORD *)(this + 2316) / 100) + rand() % 50;
      }
    }
    sub_457900(this, 82 * v10 + this + 660);
  }
  return 0;
}

//----- (00457E20) --------------------------------------------------------
int __thiscall sub_457E20(int *this)
{
  int v2; // ebp
  int *v3; // esi
  int v4; // ebx
  int result; // eax
  int v6[2]; // [esp+10h] [ebp-8h] BYREF

  v2 = 0;
  sub_448F00(*this);
  v3 = this + 2;
  v4 = 6;
  do
  {
    if ( sub_441B30(*v3) )
      v2 = 1;
    ++v3;
    --v4;
  }
  while ( v4 );
  if ( !v2 )
    sub_457BC0((int)this, 0);
  sub_442BD0(dword_4C087C, v6);
  if ( this[155] || (unsigned int)(v6[0] - 1) > 0x12 )
    return v2;
  result = v2;
  if ( (unsigned int)(v6[1] - 461) <= 0x67 )
    this[155] = 1;
  return result;
}

//----- (00457EB0) --------------------------------------------------------
void __thiscall sub_457EB0(_DWORD *this)
{
  bool v2; // cc

  v2 = this[152] < 6;
  this[164] = 1;
  if ( v2 )
  {
    while ( !sub_457BC0((int)this, 1) && (int)this[152] < 6 )
      ;
  }
  this[164] = 0;
}

//----- (00457FB0) --------------------------------------------------------
int __thiscall sub_457FB0(int this)
{
  int v1; // eax

  v1 = *(_DWORD *)(this + 8);
  if ( v1 == 1 )
    return sub_457E20(*(int **)this);
  if ( v1 == 2 )
    return sub_458F70(*(int **)(this + 4));
  return 0;
}

//----- (00457FD0) --------------------------------------------------------
void __thiscall sub_457FD0(int **this)
{
  int *v1; // esi
  int *v2; // esi
  int v3; // edi
  int *v4; // eax
  int *v5; // ecx
  int *v6; // ecx
  int *v7; // esi
  int *v8; // esi
  int v9; // edi

  v4 = this[2];
  if ( v4 == (int *)1 )
  {
    v5 = *this;
    v1 = v5;
    if ( v5[155] && v5[152] )
    {
      sub_444D20(*v5);
      v2 = v1 + 2;
      v3 = 6;
      do
      {
        if ( sub_441010(*v2) )
          sub_440C60(*v2);
        ++v2;
        --v3;
      }
      while ( v3 );
    }
  }
  else if ( v4 == (int *)2 )
  {
    v6 = this[1];
    v7 = v6;
    if ( v6[563] )
    {
      if ( v6[143] )
      {
        sub_444D20(*v6);
        sub_444D20(v7[1]);
        v8 = v7 + 5;
        v9 = 5;
        do
        {
          if ( sub_441010(*v8) )
          {
            sub_444D20(v8[5]);
            sub_444D20(v8[10]);
            sub_440C60(*v8);
          }
          ++v8;
          --v9;
        }
        while ( v9 );
      }
    }
  }
}

//----- (00457FF0) --------------------------------------------------------
void __thiscall sub_457FF0(int this, int a2)
{
  char *v3; // edi
  void *v4; // edi
  void *v5; // eax
  void *v6; // edi
  void *v7; // eax
  void *v8; // edi

  v3 = *(char **)this;
  if ( *(_DWORD *)this )
  {
    sub_457780(*(char **)this);
    operator delete(v3);
    *(_DWORD *)this = 0;
  }
  v4 = *(void **)(this + 4);
  if ( v4 )
  {
    sub_458BE0(*(_DWORD ***)(this + 4));
    operator delete(v4);
    *(_DWORD *)(this + 4) = 0;
  }
  *(_DWORD *)(this + 8) = a2;
  if ( a2 == 1 )
  {
    v5 = operator new(0x5E518u);
    v6 = v5;
    if ( v5 )
    {
      sub_457630((int)v5);
      *(_DWORD *)this = v6;
    }
    else
    {
      *(_DWORD *)this = 0;
    }
  }
  else if ( a2 == 2 )
  {
    v7 = operator new(0x5E4D0u);
    v8 = v7;
    if ( v7 )
      sub_458940((int)v7);
    else
      v8 = 0;
    *(_DWORD *)(this + 4) = v8;
  }
}

//----- (00458100) --------------------------------------------------------
void __thiscall sub_458100(_DWORD **this)
{
  _DWORD *v1; // eax
  char *v2; // esi

  v1 = this[2];
  if ( v1 == (_DWORD *)1 )
  {
    sub_457110(*this);
  }
  else if ( v1 == (_DWORD *)2 )
  {
    v2 = (char *)this[1];
    sub_4582C0(v2);
    sub_458CC0(v2);
  }
}

//----- (00458120) --------------------------------------------------------
void *__thiscall sub_458120(char **this)
{
  if ( this[2] == (char *)1 )
    return sub_4571D0(*this);
  else
    return (void *)sub_4582C0(this[1]);
}

//----- (00458140) --------------------------------------------------------
int __thiscall sub_458140(_DWORD *this, int a2)
{
  int result; // eax
  int *v3; // ecx
  int *v4; // esi

  if ( this[2] == 1 )
    return sub_457150((_DWORD *)*this, a2);
  v3 = (int *)this[1];
  result = a2;
  v4 = v3;
  if ( a2 == -1 )
  {
    if ( v3[557] )
    {
      do
      {
        v4[557] = 1;
        result = sub_458F70(v4);
      }
      while ( v4[557] );
    }
  }
  else
  {
    v3[557] = a2;
  }
  return result;
}

//----- (00458160) --------------------------------------------------------
int __thiscall sub_458160(_DWORD *this)
{
  int *v1; // ecx
  int *i; // esi
  int result; // eax

  if ( this[2] == 2 )
  {
    v1 = (int *)this[1];
    for ( i = v1; i[557]; result = sub_458F70(i) )
      i[557] = 1;
  }
  return result;
}

//----- (00458170) --------------------------------------------------------
int __thiscall sub_458170(_DWORD *this)
{
  int result; // eax

  result = this[2];
  if ( result == 1 )
  {
    qmemcpy((char *)Buf + 266340, (const void *)(*this + 660), 0x684u);
  }
  else if ( result == 2 )
  {
    qmemcpy((char *)Buf + 266340, (const void *)(this[1] + 588), 0x684u);
  }
  return result;
}

//----- (00458190) --------------------------------------------------------
void __thiscall sub_458190(_DWORD *this)
{
  _DWORD *v1; // edi
  _BYTE *v2; // eax
  int v3; // esi
  _DWORD *v4; // ecx
  _DWORD *v5; // ecx
  int v6; // eax
  _DWORD *v7; // edi
  _BYTE *v8; // eax
  int v9; // esi

  v6 = this[2];
  if ( v6 == 1 )
  {
    v1 = (_DWORD *)*this;
    sub_4577F0((_DWORD *)*this);
    sub_457110(v1);
    v2 = Buf;
    if ( *((_BYTE *)Buf + 266340) )
    {
      v3 = 0;
      while ( 1 )
      {
        sub_457200(v1, &v2[v3 + 266340]);
        v3 += 82;
        if ( v3 >= 1640 )
          break;
        v2 = Buf;
        if ( !*((_BYTE *)Buf + v3 + 266340) )
        {
          sub_457150(v1, *((_DWORD *)Buf + 66995));
          sub_4571C0(v4, *((_DWORD *)Buf + 66996));
          sub_457160((int)v1, *((_DWORD *)Buf + 66998), *((_DWORD *)Buf + 66999), *((_DWORD *)Buf + 67000));
          sub_457240(v1, *((_DWORD *)Buf + 66997));
          sub_457EB0(v5);
          return;
        }
      }
    }
  }
  else if ( v6 == 2 )
  {
    v7 = (_DWORD *)this[1];
    sub_4582F0(v7);
    v8 = Buf;
    if ( *((_BYTE *)Buf + 266340) )
    {
      v9 = 0;
      while ( 1 )
      {
        sub_458330(v7, &v8[v9 + 266340]);
        v9 += 82;
        if ( v9 >= 16400 )
          break;
        v8 = Buf;
        if ( !*((_BYTE *)Buf + v9 + 266340) )
        {
          v7[563] = *((_DWORD *)Buf + 67001);
          ((void (__cdecl *)())sub_4582C0)();
          sub_458CC0(v7);
          return;
        }
      }
    }
  }
}
// 457F58: variable 'v4' is possibly undefined
// 457F94: variable 'v5' is possibly undefined
// 4582C0:  int __cdecl sub_4582C0(_DWORD)
// 458CC0:  int __thiscall sub_458CC0(_DWORD)

//----- (004581B0) --------------------------------------------------------
int __thiscall sub_4581B0(_DWORD *this, int a2)
{
  int result; // eax

  result = this[2];
  if ( result == 1 )
  {
    result = a2;
    *(_DWORD *)(*this + 620) = a2;
  }
  else if ( result == 2 )
  {
    result = a2;
    *(_DWORD *)(this[1] + 2252) = a2;
  }
  return result;
}

//----- (004581D0) --------------------------------------------------------
char __thiscall sub_4581D0(_DWORD *this, _BYTE *a2)
{
  int v2; // eax

  v2 = this[2];
  if ( v2 == 1 )
  {
    LOBYTE(v2) = sub_457200((_DWORD *)*this, a2);
  }
  else if ( v2 == 2 )
  {
    LOBYTE(v2) = sub_458330((_DWORD *)this[1], a2);
  }
  return v2;
}

//----- (004581F0) --------------------------------------------------------
void *__thiscall sub_4581F0(_DWORD *this)
{
  void *result; // eax

  result = (void *)this[2];
  if ( result == (void *)1 )
    return (void *)sub_4577F0((_DWORD *)*this);
  if ( result == (void *)2 )
    return sub_4582F0((_DWORD *)this[1]);
  return result;
}

//----- (00458210) --------------------------------------------------------
void __thiscall sub_458210(int this)
{
  char *v2; // edi
  void *v3; // edi

  v2 = *(char **)this;
  if ( *(_DWORD *)this )
  {
    sub_457780(*(char **)this);
    operator delete(v2);
    *(_DWORD *)this = 0;
  }
  v3 = *(void **)(this + 4);
  if ( v3 )
  {
    sub_458BE0(*(_DWORD ***)(this + 4));
    operator delete(v3);
    *(_DWORD *)(this + 4) = 0;
  }
}

//----- (004582C0) --------------------------------------------------------
int __thiscall sub_4582C0(char *this)
{
  _BYTE *v1; // edi
  int *v2; // esi
  int v3; // ebx
  int result; // eax

  v1 = this + 80;
  v2 = (int *)(this + 20);
  v3 = 5;
  do
  {
    result = sub_440880(*v2);
    *v1 = 0;
    ++v2;
    v1 += 82;
    --v3;
  }
  while ( v3 );
  return result;
}

//----- (004582F0) --------------------------------------------------------
void *__thiscall sub_4582F0(_DWORD *this)
{
  void *result; // eax

  result = memset(this + 147, 0, 0x668u);
  this[143] = 0;
  this[146] = 0;
  this[557] = 0;
  return result;
}

//----- (00458330) --------------------------------------------------------
char __thiscall sub_458330(_DWORD *this, _BYTE *a2)
{
  int v2; // eax
  _BYTE *v4; // esi

  v2 = this[143];
  if ( v2 < 200 )
  {
    v4 = (char *)this + 82 * v2 + 588;
    do
    {
      LOBYTE(v2) = *a2;
      *v4++ = *a2++;
    }
    while ( (_BYTE)v2 );
    ++this[143];
  }
  return v2;
}

//----- (00458370) --------------------------------------------------------
int __thiscall sub_458370(int *this, char *Str, int a3)
{
  char *v4; // eax
  char *v5; // eax
  char *v6; // edx
  char v7; // cl
  char *v8; // eax
  char v9; // cl
  int v10; // eax
  char *v11; // eax
  int v12; // esi
  _DWORD *v13; // ecx
  char *v14; // eax
  const char *v15; // esi
  char *v16; // edi
  int v17; // edx
  int v19; // [esp+10h] [ebp-B0h]
  char Str1[84]; // [esp+14h] [ebp-ACh] BYREF
  char String[84]; // [esp+68h] [ebp-58h] BYREF

  v19 = 0;
  if ( !strncmp(Str, String2, 2u) && strstr(Str, &byte_4928A8) )
  {
    v4 = strstr(Str, &byte_4928A8);
    *v4 = 0;
    v5 = v4 + 2;
    v6 = (char *)(String - v5);
    do
    {
      v7 = *v5;
      v5[(_DWORD)v6] = *v5;
      ++v5;
    }
    while ( v7 );
    v8 = Str + 2;
    do
    {
      v9 = *v8;
      v8[Str1 - (Str + 2)] = *v8;
      ++v8;
    }
    while ( v9 );
    strcpy(Str, String);
    sub_4440C0(this[a3 + 10], this[3]);
    v10 = strncmp(Str1, &byte_4928A0, 6u);
    if ( v10 )
    {
      if ( !strncmp(Str1, &byte_492898, 4u) )
      {
        v10 = 1;
      }
      else if ( !strncmp(Str1, &byte_492890, 4u) )
      {
        v10 = 2;
      }
      else if ( !strncmp(Str1, &byte_492888, 6u) )
      {
        v10 = 3;
      }
      else if ( !strncmp(Str1, &byte_492880, 4u) )
      {
        v10 = 4;
      }
      else if ( !strncmp(Str1, &byte_492878, 4u) )
      {
        v10 = 5;
      }
      else if ( !strncmp(Str1, &byte_492870, 6u) )
      {
        v10 = 6;
      }
      else if ( !strncmp(Str1, &byte_492868, 6u) )
      {
        v10 = 7;
      }
      else if ( !strncmp(Str1, &byte_492860, 4u) )
      {
        v10 = 8;
      }
      else if ( !strncmp(Str1, &byte_492858, 4u) )
      {
        v10 = 9;
      }
      else if ( !strncmp(Str1, &byte_492850, 4u) )
      {
        v10 = 10;
      }
      else
      {
        v10 = 1;
        v19 = 1;
      }
    }
    sub_444340((float *)this[a3 + 10], 420, 81 * v10, 740, 81 * v10 + 81);
    sub_444240((_DWORD *)this[a3 + 10], 1);
  }
  if ( strstr(Str, "@d") )
  {
    v11 = strstr(Str, "@d");
    v12 = atoi(v11 + 2) - 1;
    if ( v12 >= 0 )
    {
      sub_4440C0(this[a3 + 15], this[4]);
      sub_444340(
        (float *)this[a3 + 15],
        80 * (v12 / 8),
        (v12 & 0x80000007) << 6,
        80 * (v12 / 8) + 79,
        ((v12 & 0x80000007) << 6) + 63);
      sub_444240((_DWORD *)this[a3 + 15], 1);
      *Str = 0;
    }
    v13 = (_DWORD *)this[a3 + 10];
  }
  else
  {
    v13 = (_DWORD *)this[a3 + 15];
  }
  sub_444240(v13, 0);
  while ( strstr(Str, "@t") )
  {
    v14 = strstr(Str, "@t");
    *v14 = 0;
    v15 = v14 + 2;
    v16 = String;
    if ( isdigit((unsigned __int8)v14[2]) )
    {
      do
      {
        *v16 = *v15;
        v17 = *(unsigned __int8 *)++v15;
        ++v16;
      }
      while ( isdigit(v17) );
    }
    *v16 = 0;
    strcat(Str, v15);
    this[557] = atoi(String);
    if ( *((_DWORD *)Buf + 272090) || !this[563] )
      this[557] = 0;
  }
  return v19;
}

//----- (00458750) --------------------------------------------------------
void __thiscall sub_458750(float **this, int a2, int a3, int a4)
{
  float **v4; // esi
  int v5; // edi
  float v6; // [esp+4h] [ebp-14h]
  float v7; // [esp+14h] [ebp-4h]

  v7 = (float)a2;
  v4 = this + 10;
  v5 = 5;
  do
  {
    v6 = (float)a3;
    sub_444260(*v4, v7, v6);
    a3 += a4;
    ++v4;
    --v5;
  }
  while ( v5 );
}

//----- (004587A0) --------------------------------------------------------
void __thiscall sub_4587A0(float **this, int a2, int a3, int a4)
{
  float **v4; // esi
  int v5; // edi
  float v6; // [esp+4h] [ebp-14h]
  float v7; // [esp+14h] [ebp-4h]

  v7 = (float)a2;
  v4 = this + 15;
  v5 = 5;
  do
  {
    v6 = (float)a3;
    sub_444260(*v4, v7, v6);
    a3 += a4;
    ++v4;
    --v5;
  }
  while ( v5 );
}

//----- (004587F0) --------------------------------------------------------
void __thiscall sub_4587F0(void **this, int a2, int a3, int a4)
{
  void **v5; // esi
  int v6; // ebx

  v5 = this + 5;
  v6 = 5;
  do
  {
    sub_4415B0(*v5++, a2, a3);
    a3 += a4;
    --v6;
  }
  while ( v6 );
}

//----- (00458830) --------------------------------------------------------
int __thiscall sub_458830(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[144] = a2;
  return result;
}

//----- (00458840) --------------------------------------------------------
char *__thiscall sub_458840(_DWORD *this, char *a2)
{
  char *result; // eax

  result = a2;
  *a2 = 0;
  if ( this[144] == 22 )
    strcpy(a2, "@m");
  if ( this[144] == 32 )
    strcpy(a2, "@l");
  if ( this[144] == 20 )
    strcpy(a2, "@s");
  if ( this[144] == 18 )
    strcpy(a2, "@i");
  if ( this[144] == 12 )
    strcpy(a2, "@r");
  if ( this[144] == 16 )
    strcpy(a2, "@y");
  if ( this[144] == 10 )
    strcpy(a2, "@z");
  return result;
}

//----- (00458940) --------------------------------------------------------
void *__thiscall sub_458940(int this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  int v6; // edi
  int *v7; // eax
  int *v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // eax
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  float **v13; // ecx
  int v15; // [esp+4h] [ebp-2Ch]
  int v16; // [esp+4h] [ebp-2Ch]
  int v17; // [esp+1Ch] [ebp-14h]

  *(_DWORD *)(this + 8) = sub_44CB90(*((char **)dword_4C0874 + 63), "bg\\black", 0, 1);
  *(_DWORD *)(this + 12) = sub_44CB90(*((char **)dword_4C0874 + 63), "system\\COMUCHIP", 0, 1);
  *(_DWORD *)(this + 16) = sub_44CB90(*((char **)dword_4C0874 + 63), "system\\comustamp", 0, 1);
  v2 = operator new(0x784u);
  if ( v2 )
    v3 = sub_448B00(v2);
  else
    v3 = 0;
  v15 = *(_DWORD *)(this + 8);
  *(_DWORD *)this = v3;
  sub_4440C0((int)v3, v15);
  sub_444260(*(float **)this, 0.0, 0.0);
  sub_444470(*(float **)this, 0.5);
  v4 = operator new(0x784u);
  if ( v4 )
    v5 = sub_448B00(v4);
  else
    v5 = 0;
  v16 = *(_DWORD *)(this + 12);
  *(_DWORD *)(this + 4) = v5;
  sub_4440C0((int)v5, v16);
  sub_444260(*(float **)(this + 4), 440.0, 16.0);
  sub_444340(*(float **)(this + 4), 0, 0, 372, 518);
  v6 = this + 20;
  v17 = 5;
  do
  {
    v7 = (int *)operator new(0xB0u);
    if ( v7 )
      v8 = sub_442880(v7);
    else
      v8 = 0;
    *(_DWORD *)v6 = v8;
    sub_43D4B0(v8, 1);
    sub_43D4C0(*(_DWORD **)v6, 0xFFu, 0xFFu, 0xFFu);
    v9 = operator new(0x784u);
    if ( v9 )
      v10 = sub_448B00(v9);
    else
      v10 = 0;
    *(_DWORD *)(v6 + 20) = v10;
    sub_444240(v10, 0);
    v11 = operator new(0x784u);
    if ( v11 )
      v12 = sub_448B00(v11);
    else
      v12 = 0;
    *(_DWORD *)(v6 + 40) = v12;
    sub_444240(v12, 0);
    v6 += 4;
    --v17;
  }
  while ( v17 );
  sub_458830((_DWORD *)this, 16);
  sub_458750(v13, 468, 80, 81);
  sub_4587A0((float **)this, 480, 96, 81);
  sub_4587F0((void **)this, 540, 94, 81);
  *(_BYTE *)(this + 490) = 0;
  *(_DWORD *)(this + 572) = 0;
  *(_DWORD *)(this + 584) = 0;
  *(_DWORD *)(this + 580) = timeGetTime();
  return memset((void *)(this + 588), 0, 0x684u);
}
// 458B6C: variable 'v13' is possibly undefined

//----- (00458BE0) --------------------------------------------------------
void __thiscall sub_458BE0(_DWORD **this)
{
  char *v2; // esi
  void *v3; // edi
  void *v4; // edi
  void *v5; // edi
  _DWORD *v6; // esi
  void *v7; // esi
  int v8; // [esp+Ch] [ebp-4h]

  sub_44BF60(*((int **)dword_4C0874 + 63), (int)this[4]);
  sub_44BF60(*((int **)dword_4C0874 + 63), (int)this[3]);
  sub_44BF60(*((int **)dword_4C0874 + 63), (int)this[2]);
  v2 = (char *)(this + 10);
  v8 = 5;
  do
  {
    v3 = (void *)*((_DWORD *)v2 - 5);
    if ( v3 )
    {
      sub_442820(*((_DWORD **)v2 - 5));
      operator delete(v3);
      *((_DWORD *)v2 - 5) = 0;
    }
    v4 = *(void **)v2;
    if ( *(_DWORD *)v2 )
    {
      sub_4470C0(*(_DWORD **)v2);
      operator delete(v4);
      *(_DWORD *)v2 = 0;
    }
    v5 = (void *)*((_DWORD *)v2 + 5);
    if ( v5 )
    {
      sub_4470C0(*((_DWORD **)v2 + 5));
      operator delete(v5);
      *((_DWORD *)v2 + 5) = 0;
    }
    v2 += 4;
    --v8;
  }
  while ( v8 );
  v6 = this[1];
  if ( v6 )
  {
    sub_4470C0(this[1]);
    operator delete(v6);
    this[1] = 0;
  }
  v7 = *this;
  if ( *this )
  {
    sub_4470C0(*this);
    operator delete(v7);
    *this = 0;
  }
}

//----- (00458CC0) --------------------------------------------------------
void __thiscall sub_458CC0(_DWORD *this)
{
  int v1; // edi
  int v2; // eax
  int v3; // ebp
  int v4; // esi
  int v5; // ecx
  int v6; // ebx
  DWORD Time; // eax
  bool v8; // cc
  char *v9; // ebx
  int *v10; // ebp
  char *v11; // eax
  char v12; // cl
  int v13; // eax
  float *v14; // ecx
  int v15; // eax
  char v16; // cl
  _WORD *v17; // edi
  char v18; // al
  unsigned int v19; // eax
  char *v20; // edi
  int v22; // eax
  char v23; // cl
  unsigned int v24; // eax
  char *v25; // edi
  bool v27; // zf
  int v28; // [esp+18h] [ebp-CCh]
  int v29; // [esp+1Ch] [ebp-C8h]
  char *v30; // [esp+20h] [ebp-C4h]
  _DWORD *v31; // [esp+24h] [ebp-C0h]
  float v32; // [esp+28h] [ebp-BCh] BYREF
  float v33; // [esp+2Ch] [ebp-B8h] BYREF
  int v34; // [esp+30h] [ebp-B4h]
  int v35; // [esp+34h] [ebp-B0h] BYREF
  char v36[84]; // [esp+38h] [ebp-ACh] BYREF
  char Str[28]; // [esp+8Ch] [ebp-58h] BYREF
  char v38[56]; // [esp+A8h] [ebp-3Ch] BYREF

  v1 = (int)this;
  v2 = this[143];
  v3 = 0;
  v4 = 0;
  v31 = this;
  v28 = v2;
  if ( v2 - 5 > 0 )
    v4 = v2 - 5;
  v29 = 0;
  if ( *((_DWORD *)Buf + 272090) )
    this[557] = 0;
  if ( this[557] )
  {
    v5 = this[146];
    if ( v5 < 2 )
    {
      v4 = 0;
      v29 = 0;
      v28 = v5 + 1;
      v6 = v5 + 1;
    }
    else
    {
      v6 = v5 + 1;
      v4 = v5 - 2;
      v28 = v5 + 1;
      if ( v5 + 1 > v2 )
      {
        *(_DWORD *)(v1 + 2228) = 0;
        return;
      }
      sub_4582C0((char *)v1);
    }
    Time = timeGetTime();
    v8 = v6 < *(_DWORD *)(v1 + 572);
    *(_DWORD *)(v1 + 580) = Time;
    if ( !v8 )
      *(_DWORD *)(v1 + 2228) = 0;
  }
  if ( v4 < v28 )
  {
    v9 = &Str[-v1 - 588 + -82 * v4];
    v10 = (int *)(v1 + 20);
    v30 = (char *)(82 * v4 + v1 + 588);
    v34 = v28 - v4;
    do
    {
      v11 = v30;
      do
      {
        v12 = *v11;
        v11[(_DWORD)v9] = *v11;
        ++v11;
      }
      while ( v12 );
      v13 = sub_458370((int *)v1, Str, v29);
      v14 = (float *)*v10;
      v35 = v13;
      sub_43D480(v14, &v33, &v32);
      sub_440F00(*v10, v33, v32);
      if ( strlen(Str) > 0x1C )
      {
        v15 = 0;
        do
        {
          v16 = Str[v15];
          v36[v15++] = v16;
        }
        while ( v16 );
        v36[28] = 0;
        v17 = (_WORD *)((char *)&v35 + 3);
        do
        {
          v18 = *((_BYTE *)v17 + 1);
          v17 = (_WORD *)((char *)v17 + 1);
        }
        while ( v18 );
        *v17 = 10;
        v19 = strlen(v38) + 1;
        v20 = (char *)&v35 + 3;
        while ( *++v20 )
          ;
        qmemcpy(v20, v38, v19);
        v22 = 0;
        do
        {
          v23 = v36[v22];
          Str[v22++] = v23;
        }
        while ( v23 );
        v1 = (int)v31;
      }
      sub_458840((_DWORD *)v1, v36);
      v24 = strlen(Str) + 1;
      v25 = (char *)&v35 + 3;
      while ( *++v25 )
        ;
      qmemcpy(v25, Str, v24);
      sub_440880(*v10);
      sub_442430((_DWORD *)*v10, v36);
      v30 += 82;
      v1 = (int)v31;
      ++v29;
      v9 -= 82;
      ++v10;
      --v34;
    }
    while ( v34 );
    v3 = v35;
  }
  v27 = *(_DWORD *)(v1 + 2252) == 0;
  *(_DWORD *)(v1 + 584) = v28;
  if ( !v27 && *(_DWORD *)(v1 + 572) && !v3 && !*((_DWORD *)Buf + 272090) )
    sub_43D070((DWORD *)dword_4C08F4, aSe473, 1, 0);
}
// 458CC0:  char Str[28]

//----- (00458F70) --------------------------------------------------------
int __thiscall sub_458F70(int *this)
{
  int v2; // ebx
  int *v3; // esi
  int v4; // edi

  v2 = 0;
  sub_448F00(this[1]);
  if ( sub_421E40(dword_4C08E0) && this[557] )
    this[557] = 50;
  if ( *((_DWORD *)Buf + 272090) || !this[563] )
    this[557] = 0;
  if ( this[557] )
  {
    if ( timeGetTime() - this[145] > 10 * this[557] )
      sub_458CC0(this);
    v2 = 1;
  }
  v3 = this + 10;
  v4 = 5;
  do
  {
    sub_448F00(v3[5]);
    sub_448F00(*v3);
    sub_441B30(*(v3 - 5));
    ++v3;
    --v4;
  }
  while ( v4 );
  return v2;
}

//----- (00459120) --------------------------------------------------------
void *__thiscall sub_459120(int this)
{
  int i; // edi
  _DWORD *v3; // ebx
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // edi
  int v7; // eax
  int *v8; // ecx
  void *result; // eax

  for ( i = 0; i < 15; ++i )
  {
    v3 = operator new(0x10u);
    v4 = 0;
    if ( v3 )
    {
      sub_40EE30(v3);
      v4 = v3;
    }
    *(_DWORD *)(this + 4 * i) = v4;
  }
  *(_DWORD *)(this + 632) = 0;
  v5 = operator new(0x10u);
  v6 = v5;
  if ( v5 )
    sub_40EE30(v5);
  else
    v6 = 0;
  *(_DWORD *)(this + 60) = v6;
  *(_DWORD *)(this + 620) = -1;
  *(_DWORD *)(this + 624) = -1;
  *(_DWORD *)(this + 628) = 0;
  v7 = sub_44CB90(*((char **)dword_4C0874 + 63), "bg\\black", 0, 0);
  v8 = *(int **)(this + 60);
  *(float *)(this + 68) = 0.0;
  *(_DWORD *)(this + 64) = v7;
  *(_DWORD *)(this + 636) = 0;
  sub_4440C0(*v8, v7);
  sub_444340(**(float ***)(this + 60), 0, 0, 1280, 720);
  sub_444260(**(float ***)(this + 60), 0.0, 0.0);
  sub_444470(**(float ***)(this + 60), *(float *)(this + 68));
  result = memset((void *)(this + 640), -1, 0x30u);
  *(_DWORD *)(this + 688) = 0;
  return result;
}

//----- (00459290) --------------------------------------------------------
int __thiscall sub_459290(_DWORD *this, int a2, int a3)
{
  int v4; // eax

  if ( a3 >= this[9 * a2 + 20] )
    return 0;
  v4 = sub_44F760(this[9 * a2 + 18], a3, -1);
  if ( v4 == -1 )
    return 0;
  else
    return sub_44C510(*((int **)dword_4C0874 + 63), 9 * a2, v4, 0);
}

//----- (004592E0) --------------------------------------------------------
void __thiscall sub_4592E0(int *this)
{
  int v2; // edi
  int *v3; // ebp
  void *v4; // esi
  void *v5; // esi
  int v6; // ebx

  v2 = 0;
  v3 = this + 19;
  do
  {
    if ( *(v3 - 1) > 0 )
      sub_44D910(*(v3 - 1));
    if ( *v3 )
      sub_44BF60(*((int **)dword_4C0874 + 63), *v3);
    v4 = (void *)this[v2];
    if ( v4 )
    {
      sub_40EFF0((_DWORD *)this[v2]);
      operator delete(v4);
      this[v2] = 0;
    }
    ++v2;
    v3 += 9;
  }
  while ( v2 < 15 );
  v5 = (void *)this[15];
  if ( v5 )
  {
    sub_40EFF0((_DWORD *)this[15]);
    operator delete(v5);
    this[15] = 0;
  }
  v6 = this[16];
  if ( v6 )
    sub_44BF60(*((int **)dword_4C0874 + 63), v6);
}

//----- (00459380) --------------------------------------------------------
int __thiscall sub_459380(int this)
{
  DWORD Time; // ebx
  int i; // edi
  int v5; // eax
  double v6; // st7
  bool v7; // zf
  int v8; // eax
  int v9; // eax
  int *v10; // ecx
  int v11; // eax
  int v12; // ecx
  int v13; // eax
  float **v14; // ecx
  float **v15; // edx
  float **v16; // ecx
  int v17; // eax
  float *v18; // ecx
  int v19; // eax
  int *v20; // ecx
  float *v21; // ecx
  double v22; // st7
  DWORD v23; // eax
  double v24; // st7
  float v25; // [esp+8h] [ebp-24h]
  int v26; // [esp+Ch] [ebp-20h]
  float v27; // [esp+Ch] [ebp-20h]
  float v28; // [esp+20h] [ebp-Ch] BYREF
  float v29; // [esp+24h] [ebp-8h] BYREF
  int v30; // [esp+28h] [ebp-4h]

  Time = timeGetTime();
  if ( *(_DWORD *)(this + 620) == -1 )
    return 1;
  for ( i = 0; i < 15; ++i )
    sub_40EEE0(*(int **)(this + 4 * i));
  v5 = *(_DWORD *)(this + 624);
  if ( v5 == 99 )
  {
    if ( sub_442F80(dword_4C087C) || sub_442FB0(dword_4C087C) || timeGetTime() - *(_DWORD *)(this + 632) > 0x1388 )
    {
      *(_DWORD *)(this + 624) = 100;
      return 0;
    }
    return 0;
  }
  if ( v5 == 100 )
  {
    *(float *)&v30 = *(float *)(this + 68) + 0.004999999888241291;
    v6 = *(float *)&v30;
    *(float *)(this + 68) = *(float *)&v30;
    if ( v6 >= 1.0 )
    {
      v7 = *(_DWORD *)(this + 620) == 1;
      *(float *)(this + 68) = 1.0;
      if ( v7 )
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x6Eu, 1);
      else
        sub_40D2C0((int *)Buf, (unsigned __int8 *)0x64, 0x6Fu, 1);
      *(_DWORD *)(this + 620) = -1;
    }
    sub_444470(**(float ***)(this + 60), *(float *)(this + 68));
    return 0;
  }
  if ( *(_DWORD *)(this + 620) != 1 )
  {
    if ( sub_442FB0(dword_4C087C) && sub_40CCD0(Buf, 100, 111) )
      goto LABEL_20;
    v30 = Time - *(_DWORD *)(this + 392);
    v14 = *(float ***)(this + 32);
    *(_DWORD *)(this + 616) = (int)((double)v30 * *(float *)(this + 380));
    sub_4442C0(*v14, &v29, &v28);
    v30 = -*(_DWORD *)(this + 616) % 720;
    v15 = *(float ***)(this + 32);
    v28 = (float)v30;
    sub_444260(*v15, v29, v28);
    sub_4442C0(**(float ***)(this + 36), &v29, &v28);
    v16 = *(float ***)(this + 36);
    v30 = 720 - *(_DWORD *)(this + 616) % 720;
    v28 = (float)v30;
    sub_444260(*v16, v29, v28);
    if ( *(_DWORD *)(this + 616) / 720 != *(_DWORD *)(this + 388) )
    {
      sub_4442C0(**(float ***)(this + 32), &v29, &v28);
      if ( *(_DWORD *)(this + 364) )
        sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 364));
      v26 = *(_DWORD *)(this + 616) / 720;
      *(_DWORD *)(this + 388) = v26;
      v17 = sub_459290((_DWORD *)this, 8, v26);
      *(_DWORD *)(this + 364) = v17;
      if ( !v17 || *(_DWORD *)(this + 388) == *(_DWORD *)(this + 368) - 1 )
      {
        *(_DWORD *)(this + 624) = 99;
        v23 = timeGetTime();
        v24 = v29;
        *(_DWORD *)(this + 632) = v23;
        v25 = v24;
        sub_444260(**(float ***)(this + 32), v25, 0.0);
        v22 = 720.0;
        v21 = **(float ***)(this + 36);
      }
      else
      {
        sub_4440C0(**(_DWORD **)(this + 32), v17);
        v18 = **(float ***)(this + 32);
        *(float *)&v30 = v28 + 720.0;
        sub_444260(v18, v29, *(float *)&v30);
        sub_4442C0(**(float ***)(this + 36), &v29, &v28);
        if ( *(_DWORD *)(this + 400) )
          sub_44BF60(*((int **)dword_4C0874 + 63), *(_DWORD *)(this + 400));
        v19 = sub_459290((_DWORD *)this, 9, *(_DWORD *)(this + 388) + 1);
        v20 = *(int **)(this + 36);
        *(_DWORD *)(this + 400) = v19;
        sub_4440C0(*v20, v19);
        v21 = **(float ***)(this + 36);
        *(float *)&v30 = v28 + 720.0;
        v22 = *(float *)&v30;
      }
      v27 = v22;
      sub_444260(v21, v29, v27);
    }
    return 0;
  }
  if ( sub_442FB0(dword_4C087C) && sub_40CCD0(Buf, 100, 110) )
  {
LABEL_20:
    sub_43CEC0((DWORD *)dword_4C08F4, 0);
    sub_43C3F0(dword_4C08F4, 0, 180);
    *(_DWORD *)(this + 624) = 100;
    return 0;
  }
  if ( !*(_DWORD *)(this + 132) )
  {
    v30 = Time - *(_DWORD *)(this + 104);
    v11 = (int)((double)v30 / *(float *)(this + 92));
    if ( v11 != *(_DWORD *)(this + 100) )
    {
      v12 = *(_DWORD *)(this + 80);
      *(_DWORD *)(this + 100) = v11;
      if ( v11 > v12 )
        *(_DWORD *)(this + 100) = v12;
      v13 = sub_459290((_DWORD *)this, 0, *(_DWORD *)(this + 100));
      *(_DWORD *)(this + 112) = v13;
      if ( v13 )
      {
        if ( *(_DWORD *)(this + 100) != *(_DWORD *)(this + 80) )
        {
          sub_4440C0(**(_DWORD **)(this + 4), v13);
          sub_444470(**(float ***)(this + 4), 0.0);
          sub_4477E0(**(_DWORD **)(this + 4), 1.0, 60, 0, -1);
          *(_DWORD *)(this + 132) = 1;
          return 0;
        }
      }
    }
    return 0;
  }
  if ( sub_444480((float *)**(_DWORD **)(this + 4)) < 1.0 )
    return 0;
  sub_444470(**(float ***)(this + 4), 0.0);
  v8 = *(_DWORD *)(this + 76);
  *(_DWORD *)(this + 132) = 0;
  if ( v8 )
    sub_44BF60(*((int **)dword_4C0874 + 63), v8);
  v9 = *(_DWORD *)(this + 112);
  v10 = *(int **)this;
  *(_DWORD *)(this + 76) = v9;
  sub_4440C0(*v10, v9);
  return 0;
}

//----- (00459850) --------------------------------------------------------
DWORD __thiscall sub_459850(int this, int a2)
{
  int v3; // eax
  int v4; // eax
  int *v5; // edx
  DWORD Time; // eax
  int v7; // edx
  int v8; // eax
  int v9; // eax
  int *v10; // edx
  DWORD result; // eax
  int v12; // [esp+4h] [ebp-14h]
  int v13; // [esp+10h] [ebp-8h] BYREF
  int v14; // [esp+14h] [ebp-4h] BYREF

  memset((void *)(this + 72), 0, 0x21Cu);
  *(_DWORD *)(this + 612) = 1000 * sub_40CCD0(Buf, 3, 0);
  *(_DWORD *)(this + 616) = 0;
  *(_DWORD *)(this + 620) = a2;
  v3 = sub_44F850("ED\\ed.PCK", 0, 0);
  *(_DWORD *)(this + 360) = v3;
  for ( *(_DWORD *)(this + 368) = 0;
        sub_44E340(*(_DWORD *)(this + 360), *(_DWORD *)(this + 368)) != -1;
        ++*(_DWORD *)(this + 368) )
  {
    ;
  }
  v4 = sub_459290((_DWORD *)this, 8, *(_DWORD *)(this + 388));
  v5 = *(int **)(this + 32);
  *(_DWORD *)(this + 364) = v4;
  sub_4440C0(*v5, v4);
  sub_4444D0(**(float ***)(this + 32), &v14, &v13);
  sub_444340(**(float ***)(this + 32), 0, 0, v14, v13);
  sub_444260(**(float ***)(this + 32), 0.0, 0.0);
  *(float *)(this + 380) = (double)(720 * *(_DWORD *)(this + 368)) / (double)*(int *)(this + 612);
  Time = timeGetTime();
  v7 = *(_DWORD *)(this + 360);
  v12 = *(_DWORD *)(this + 388) + 1;
  *(_DWORD *)(this + 392) = Time;
  v8 = *(_DWORD *)(this + 368);
  *(_DWORD *)(this + 396) = v7;
  *(_DWORD *)(this + 404) = v8;
  v9 = sub_459290((_DWORD *)this, 9, v12);
  v10 = *(int **)(this + 36);
  *(_DWORD *)(this + 400) = v9;
  sub_4440C0(*v10, v9);
  sub_4444D0(**(float ***)(this + 36), &v14, &v13);
  sub_444340(**(float ***)(this + 36), 0, 0, v14, v13);
  sub_444260(**(float ***)(this + 36), 0.0, 720.0);
  *(float *)(this + 272) = (double)*(int *)(this + 612) / (double)*(int *)(this + 260);
  result = timeGetTime();
  *(_DWORD *)(this + 284) = result;
  *(_DWORD *)(this + 276) = 0;
  return result;
}

//----- (00459A36) --------------------------------------------------------
void __cdecl __noreturn sub_459A36(int a1, int a2)
{
  _DWORD pExceptionObject[10]; // [esp+10h] [ebp-50h] BYREF
  char v3[36]; // [esp+38h] [ebp-28h] BYREF
  int v4; // [esp+5Ch] [ebp-4h]

  sub_403C30("string too long");
  v4 = 0;
  sub_414D30(pExceptionObject, (int)v3);
  _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVlength_error_std__);
}
// 459A36:  char var_28[36]
// 459A36:  _DWORD pExceptionObject[10]

//----- (00459A6E) --------------------------------------------------------
void __noreturn sub_459A6E()
{
  _DWORD pExceptionObject[10]; // [esp+10h] [ebp-50h] BYREF
  char v1[36]; // [esp+38h] [ebp-28h] BYREF
  int v2; // [esp+5Ch] [ebp-4h]

  sub_403C30((int)v1, "invalid string position");
  v2 = 0;
  sub_403B80(pExceptionObject, (int)v1);
  _CxxThrowException(pExceptionObject, (_ThrowInfo *)&_TI3_AVout_of_range_std__);
}
// 459A6E:  void __noreturn sub_459A6E()
// 459A6E:  _DWORD pExceptionObject[10]

//----- (00459D54) --------------------------------------------------------
int sub_459D54()
{
  return *(_DWORD *)&dword_500D08;
}

//----- (0045A0FB) --------------------------------------------------------
int __thiscall sub_45A0FB(LPCRITICAL_SECTION *this)
{
  return unknown_libname_6(*this);
}

//----- (0045A104) --------------------------------------------------------
void __thiscall sub_45A104(LPCRITICAL_SECTION *this)
{
  sub_45A254(*this);
}

//----- (0045A254) --------------------------------------------------------
void __cdecl sub_45A254(LPCRITICAL_SECTION lpCriticalSection)
{
  LeaveCriticalSection(lpCriticalSection);
}

//----- (0045A4A0) --------------------------------------------------------
_DWORD *__thiscall sub_45A4A0(_DWORD *this)
{
  _DWORD *result; // eax

  result = this;
  this[1] = 0;
  this[2] = 0;
  *this = &std::exception::`vftable';
  return result;
}
// 492928:  void *std::exception::`vftable'

//----- (0045A57E) --------------------------------------------------------
void __thiscall sub_45A57E(void *this)
{
  bool v1; // zf

  v1 = *((_DWORD *)this + 2) == 0;
  *(_DWORD *)this = &std::exception::`vftable';
  if ( !v1 )
    free(*((void **)this + 1));
}
// 492928:  void *std::exception::`vftable'

//----- (0045A5A1) --------------------------------------------------------
std::exception *__thiscall sub_45A5A1(std::exception *this, char *a2)
{
  std::exception::exception(this, (const char *const *)&a2);
  *(_DWORD *)this = &std::bad_cast::`vftable';
  return this;
}
// 492948:  void *std::bad_cast::`vftable'

//----- (0045A5BF) --------------------------------------------------------
std::exception *__thiscall sub_45A5BF(std::exception *this, struct std::exception *a2)
{
  std::exception::exception(this, a2);
  *(_DWORD *)this = &std::bad_cast::`vftable';
  return this;
}
// 492948:  void *std::bad_cast::`vftable'

//----- (0045A5DC) --------------------------------------------------------
void __thiscall sub_45A5DC(void *this)
{
  *(_DWORD *)this = &std::bad_cast::`vftable';
  sub_45A57E(this);
}
// 492948:  void *std::bad_cast::`vftable'

//----- (0045A5E7) --------------------------------------------------------
void *__thiscall sub_45A5E7(void *this, char a2)
{
  sub_45A57E(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}

//----- (0045A608) --------------------------------------------------------
_DWORD *__thiscall sub_45A608(_DWORD *this, char a2)
{
  *this = &std::bad_cast::`vftable';
  sub_45A57E(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 492948:  void *std::bad_cast::`vftable'

//----- (0045A62F) --------------------------------------------------------
void __thiscall sub_45A62F(struct type_info *this)
{
  *(_DWORD *)this = &type_info::`vftable';
  type_info::_Type_info_dtor(this);
}
// 492954:  void *type_info::`vftable'

//----- (0045A63F) --------------------------------------------------------
struct type_info *__thiscall sub_45A63F(struct type_info *this, char a2)
{
  sub_45A62F(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}

//----- (0045AB2A) --------------------------------------------------------
void __thiscall sub_45AB2A(void *this)
{
  if ( this != (void *)dword_4BAAD8 )
    __report_gsfailure();
}
// 4BAAD8:  int dword_4BAAD8

//----- (0045B105) --------------------------------------------------------
int __cdecl sub_45B105(int a1)
{
  int result; // eax

  result = a1;
  dword_500DC4 = a1;
  return result;
}
// 500DC4:  int dword_500DC4

//----- (0045D5CC) --------------------------------------------------------
int __cdecl sub_45D5CC(unsigned __int8 *lpFileName, struct _stat64i32 *Stat)
{
  unsigned __int8 *dwHighDateTime; // esi
  int v3; // eax
  const char *v4; // eax
  const CHAR *v5; // esi
  __time64_t v6; // rax
  int v7; // esi
  DWORD LastError; // eax
  int v10; // [esp+Ch] [ebp-268h]
  struct _FILETIME LocalFileTime; // [esp+10h] [ebp-264h] BYREF
  struct _SYSTEMTIME SystemTime; // [esp+18h] [ebp-25Ch] BYREF
  HANDLE hFindFile; // [esp+28h] [ebp-24Ch] BYREF
  struct _WIN32_FIND_DATAA FindFileData; // [esp+2Ch] [ebp-248h] BYREF
  char Buffer[260]; // [esp+16Ch] [ebp-108h] BYREF

  dwHighDateTime = lpFileName;
  LocalFileTime.dwHighDateTime = (DWORD)lpFileName;
  if ( lpFileName && Stat )
  {
    if ( _mbspbrk(lpFileName, &Control) )
    {
LABEL_5:
      *_errno() = 2;
      *__doserrno() = 2;
      return -1;
    }
    if ( lpFileName[1] == 58 )
    {
      if ( *lpFileName && !lpFileName[2] )
        goto LABEL_5;
      v3 = _mbctolower((char)*lpFileName) - 96;
    }
    else
    {
      v3 = _getdrive();
    }
    v10 = v3;
    hFindFile = FindFirstFileA((LPCSTR)lpFileName, &FindFileData);
    if ( hFindFile == (HANDLE)-1 )
    {
      hFindFile = 0;
      if ( !_mbspbrk(lpFileName, &byte_492984) )
        goto LABEL_5;
      v4 = (const char *)_fullpath_helper(Buffer, (char *)lpFileName, 0x104u, (int)&hFindFile);
      v5 = v4;
      if ( !v4 || strlen(v4) != 3 && !IsRootUNCName() || GetDriveTypeA(v5) <= 1 )
      {
        if ( hFindFile )
          free(hFindFile);
        goto LABEL_5;
      }
      if ( hFindFile )
        free(hFindFile);
      FindFileData.dwFileAttributes = 16;
      FindFileData.nFileSizeHigh = 0;
      FindFileData.nFileSizeLow = 0;
      FindFileData.cFileName[0] = 0;
      v6 = __loctotime64_t(1980, 1, 1, 0, 0, 0, -1);
      dwHighDateTime = (unsigned __int8 *)LocalFileTime.dwHighDateTime;
      Stat->st_mtime = v6;
      Stat->st_atime = v6;
      Stat->st_ctime = v6;
LABEL_46:
      Stat->st_mode = __dtoxmode(FindFileData.dwFileAttributes, dwHighDateTime);
      Stat->st_nlink = 1;
      Stat->st_size = FindFileData.nFileSizeLow;
      Stat->st_ino = 0;
      Stat->st_gid = 0;
      Stat->st_uid = 0;
      Stat->st_dev = v10 - 1;
      Stat->st_rdev = v10 - 1;
      return 0;
    }
    if ( (FindFileData.dwFileAttributes & 0x400) != 0 && FindFileData.dwReserved0 == -1610612724 )
    {
      hFindFile = (HANDLE)-1;
      if ( !_sopen_s((int *)&hFindFile, (const char *)lpFileName, 0, 64, 0) && hFindFile != (HANDLE)-1 )
      {
        v7 = _fstat64i32((int)hFindFile, Stat);
        _close((int)hFindFile);
        return v7;
      }
      goto LABEL_5;
    }
    if ( FindFileData.ftLastWriteTime.dwLowDateTime || FindFileData.ftLastWriteTime.dwHighDateTime )
    {
      if ( !FileTimeToLocalFileTime(&FindFileData.ftLastWriteTime, &LocalFileTime)
        || !FileTimeToSystemTime(&LocalFileTime, &SystemTime) )
      {
        goto LABEL_47;
      }
      Stat->st_mtime = __loctotime64_t(
                         SystemTime.wYear,
                         SystemTime.wMonth,
                         SystemTime.wDay,
                         SystemTime.wHour,
                         SystemTime.wMinute,
                         SystemTime.wSecond,
                         -1);
    }
    else
    {
      Stat->st_mtime = 0i64;
    }
    if ( FindFileData.ftLastAccessTime.dwLowDateTime || FindFileData.ftLastAccessTime.dwHighDateTime )
    {
      if ( !FileTimeToLocalFileTime(&FindFileData.ftLastAccessTime, &LocalFileTime)
        || !FileTimeToSystemTime(&LocalFileTime, &SystemTime) )
      {
        goto LABEL_47;
      }
      Stat->st_atime = __loctotime64_t(
                         SystemTime.wYear,
                         SystemTime.wMonth,
                         SystemTime.wDay,
                         SystemTime.wHour,
                         SystemTime.wMinute,
                         SystemTime.wSecond,
                         -1);
    }
    else
    {
      Stat->st_atime = Stat->st_mtime;
    }
    if ( !FindFileData.ftCreationTime.dwLowDateTime && !FindFileData.ftCreationTime.dwHighDateTime )
    {
      Stat->st_ctime = Stat->st_mtime;
LABEL_45:
      FindClose(hFindFile);
      goto LABEL_46;
    }
    if ( FileTimeToLocalFileTime(&FindFileData.ftCreationTime, &LocalFileTime)
      && FileTimeToSystemTime(&LocalFileTime, &SystemTime) )
    {
      Stat->st_ctime = __loctotime64_t(
                         SystemTime.wYear,
                         SystemTime.wMonth,
                         SystemTime.wDay,
                         SystemTime.wHour,
                         SystemTime.wMinute,
                         SystemTime.wSecond,
                         -1);
      goto LABEL_45;
    }
LABEL_47:
    LastError = GetLastError();
    _dosmaperr(LastError);
    FindClose(hFindFile);
    return -1;
  }
  *__doserrno() = 0;
  *_errno() = 22;
  _invalid_parameter(0, 0, 0, 0, 0);
  return -1;
}
// 45B23C:  int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 45D4F2:  int IsRootUNCName(void)
// 463325:  _DWORD __cdecl _dosmaperr(_DWORD)
// 468DB8:  __int64 __cdecl __loctotime64_t(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 45D5CC:  char Buffer[260]

//----- (004617BF) --------------------------------------------------------
std::exception *__thiscall sub_4617BF(std::exception *this, char *a2)
{
  std::exception::exception(this, (const char *const *)&a2);
  *(_DWORD *)this = &std::bad_exception::`vftable';
  return this;
}
// 493618:  void *std::bad_exception::`vftable'

//----- (004617DD) --------------------------------------------------------
void __thiscall sub_4617DD(void *this)
{
  *(_DWORD *)this = &std::bad_exception::`vftable';
  sub_45A57E(this);
}
// 493618:  void *std::bad_exception::`vftable'

//----- (004617E8) --------------------------------------------------------
_DWORD *__thiscall sub_4617E8(_DWORD *this, char a2)
{
  *this = &std::bad_exception::`vftable';
  sub_45A57E(this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 493618:  void *std::bad_exception::`vftable'

//----- (00462388) --------------------------------------------------------
std::exception *__thiscall sub_462388(std::exception *this, struct std::exception *a2)
{
  std::exception::exception(this, a2);
  *(_DWORD *)this = &std::bad_exception::`vftable';
  return this;
}
// 493618:  void *std::bad_exception::`vftable'

//----- (00462D51) --------------------------------------------------------
int sub_462D51()
{
  return dword_4BB278;
}
// 4BB278:  int dword_4BB278

//----- (004646F9) --------------------------------------------------------
int sub_4646F9()
{
  dword_516A40 = _get_sse2_info();
  return 0;
}
// 464697:  int _get_sse2_info(void)
// 516A40:  int dword_516A40

//----- (00465780) --------------------------------------------------------
int __cdecl sub_465780(int a1)
{
  int result; // eax

  result = a1;
  dword_501614 = a1;
  return result;
}
// 501614:  int dword_501614

//----- (00465921) --------------------------------------------------------
void sub_465921()
{
  dword_516A20 = 0;
}
// 516A20:  int dword_516A20

//----- (0046746E) --------------------------------------------------------
int __cdecl sub_46746E(_DWORD *a1)
{
  if ( a1 )
  {
    *a1 = dword_4BB634;
    return 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return 22;
  }
}
// 45B23C:  int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 4BB634:  int dword_4BB634

//----- (004674A7) --------------------------------------------------------
int __cdecl sub_4674A7(_DWORD *a1)
{
  if ( a1 )
  {
    *a1 = dword_4BB638;
    return 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return 22;
  }
}
// 45B23C:  int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 4BB638:  int dword_4BB638

//----- (004674E0) --------------------------------------------------------
int __cdecl sub_4674E0(_DWORD *a1)
{
  if ( a1 )
  {
    *a1 = dword_4BB630;
    return 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return 22;
  }
}
// 45B23C:  int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 4BB630:  int dword_4BB630

//----- (00467519) --------------------------------------------------------
int *sub_467519()
{
  return &dword_4BB634;
}
// 4BB634:  int dword_4BB634

//----- (0046751F) --------------------------------------------------------
int *sub_46751F()
{
  return &dword_4BB638;
}
// 4BB638:  int dword_4BB638

//----- (00467525) --------------------------------------------------------
int *sub_467525()
{
  return &dword_4BB630;
}
// 4BB630:  int dword_4BB630

//----- (0046752B) --------------------------------------------------------
void **sub_46752B()
{
  return &off_4BB6C0;
}
// 4BB6C0:  void *off_4BB6C0

//----- (00469289) --------------------------------------------------------
void *sub_469289()
{
  return &unk_4AA520;
}

//----- (004692AF) --------------------------------------------------------
void __cdecl sub_4692AF()
{
  ;
}

//----- (0046932A) --------------------------------------------------------
int sub_46932A()
{
  return _decode_pointer(dword_5016E0);
}
// 462CBC:  _DWORD __cdecl _decode_pointer(_DWORD)
// 5016E0:  int dword_5016E0

//----- (004694E7) --------------------------------------------------------
int __cdecl sub_4694E7(int a1)
{
  int result; // eax

  result = a1;
  dword_5016EC = a1;
  return result;
}
// 5016EC:  int dword_5016EC

//----- (00469675) --------------------------------------------------------
int __cdecl sub_469675(int a1)
{
  int result; // eax

  result = a1;
  dword_5016F8 = a1;
  return result;
}
// 5016F8:  int dword_5016F8

//----- (00469684) --------------------------------------------------------
int __cdecl sub_469684(int a1)
{
  int result; // eax

  result = a1;
  dword_5016FC = a1;
  return result;
}
// 5016FC:  int dword_5016FC

//----- (004698E0) --------------------------------------------------------
int sub_4698E0()
{
  return flsall(1);
}
// 469806:  _DWORD __cdecl flsall(_DWORD)

//----- (004698E9) --------------------------------------------------------
void **sub_4698E9()
{
  return &off_4BB790;
}
// 4BB790:  void *off_4BB790

//----- (0046B748) --------------------------------------------------------
int sub_46B748()
{
  return 0;
}

//----- (0046DABD) --------------------------------------------------------
int sub_46DABD()
{
  SetUnhandledExceptionFilter(__CxxUnhandledExceptionFilter);
  return 0;
}

//----- (0046E690) --------------------------------------------------------
int __cdecl sub_46E690(_DWORD *a1, int a2, struct localeinfo_struct *a3)
{
  int v3; // eax
  char v6[4]; // [esp+Ch] [ebp-28h] BYREF
  char v7[8]; // [esp+10h] [ebp-24h] BYREF
  int v8; // [esp+18h] [ebp-1Ch]
  char v9; // [esp+1Ch] [ebp-18h]
  int v10; // [esp+20h] [ebp-14h]
  unsigned __int16 v11[6]; // [esp+24h] [ebp-10h] BYREF

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)v7, a3);
  v10 = __strgtold12_l(v11, v6, a2, 0, 0, 0, 0, v7);
  v3 = sub_47031C(v11, a1);
  if ( (v10 & 3) != 0 )
  {
    if ( (v10 & 1) != 0 )
      goto LABEL_8;
    if ( (v10 & 2) != 0 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= ~2u;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= ~2u;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= ~2u;
  return 0;
}
// 470DA4:  _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 46E690:  char var_28[4]
// 46E690:  unsigned __int16 var_10[6]

//----- (0046E738) --------------------------------------------------------
int __cdecl sub_46E738(_DWORD *a1, int a2, struct localeinfo_struct *a3)
{
  int v3; // eax
  char v6[4]; // [esp+Ch] [ebp-28h] BYREF
  char v7[8]; // [esp+10h] [ebp-24h] BYREF
  int v8; // [esp+18h] [ebp-1Ch]
  char v9; // [esp+1Ch] [ebp-18h]
  int v10; // [esp+20h] [ebp-14h]
  unsigned __int16 v11[6]; // [esp+24h] [ebp-10h] BYREF

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)v7, a3);
  v10 = __strgtold12_l(v11, v6, a2, 0, 0, 0, 0, v7);
  v3 = sub_470860(v11, a1);
  if ( (v10 & 3) != 0 )
  {
    if ( (v10 & 1) != 0 )
      goto LABEL_8;
    if ( (v10 & 2) != 0 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= ~2u;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= ~2u;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= ~2u;
  return 0;
}
// 470DA4:  _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 46E738:  char var_28[4]
// 46E738:  unsigned __int16 var_10[6]

//----- (0046E89F) --------------------------------------------------------
int *__cdecl sub_46E89F(int *a1, int *a2)
{
  int v3; // ebx
  int v4; // eax
  unsigned int v5; // ecx
  int v6; // eax
  __int16 v7; // bx
  __int16 v8; // di
  int *result; // eax
  __int16 v10; // cx
  int v11; // edx
  int v12; // ecx
  unsigned int v13; // [esp+Ch] [ebp-4h]
  __int16 v14; // [esp+1Ch] [ebp+Ch]

  v3 = (*((unsigned __int16 *)a2 + 3) >> 4) & 0x7FF;
  v14 = *((_WORD *)a2 + 3) & 0x8000;
  v4 = a2[1];
  v5 = *a2;
  v6 = v4 & 0xFFFFF;
  v13 = 0x80000000;
  if ( (_WORD)v3 )
  {
    if ( (unsigned __int16)v3 == 2047 )
    {
      v8 = 0x7FFF;
      goto LABEL_10;
    }
    v7 = v3 + 15360;
  }
  else
  {
    if ( !v6 && !v5 )
    {
      result = a1;
      v10 = v14;
      a1[1] = 0;
      *a1 = 0;
      goto LABEL_14;
    }
    v7 = 15361;
    v13 = 0;
  }
  v8 = v7;
LABEL_10:
  v11 = v13 | (v6 << 11) | (v5 >> 21);
  result = a1;
  v12 = v5 << 11;
  while ( 1 )
  {
    *a1 = v12;
    a1[1] = v11;
    if ( (v11 & 0x80000000) != 0 )
      break;
    v11 = *(__int64 *)a1 >> 31;
    v12 = 2 * *a1;
    --v8;
  }
  v10 = v8 | v14;
LABEL_14:
  *((_WORD *)result + 4) = v10;
  return result;
}

//----- (0046EA84) --------------------------------------------------------
int __cdecl sub_46EA84(int a1, int a2, int a3)
{
  int v3; // ebx
  HMODULE LibraryA; // eax
  HMODULE v5; // edi
  int (__stdcall *MessageBoxA)(HWND, LPCSTR, LPCSTR, UINT); // eax
  HWND (__stdcall *GetActiveWindow)(); // eax
  HWND (__stdcall *GetLastActivePopup)(HWND); // eax
  BOOL (__stdcall *GetUserObjectInformationA)(HANDLE, int, PVOID, DWORD, LPDWORD); // eax
  HWINSTA (__stdcall *GetProcessWindowStation)(); // eax
  int (*v11)(void); // esi
  int (__stdcall *v12)(int, int, char *, int, char *); // eax
  int (__stdcall *v13)(int, int, char *, int, char *); // edi
  int v14; // eax
  int (*v15)(void); // eax
  int (__stdcall *v16)(int); // eax
  int (__stdcall *v17)(int, int, int, int); // eax
  char v19[12]; // [esp+10h] [ebp-14h] BYREF
  char v20[4]; // [esp+1Ch] [ebp-8h] BYREF
  int v21; // [esp+20h] [ebp-4h]

  v21 = 0;
  v3 = _encoded_null();
  if ( !dword_501864 )
  {
    LibraryA = LoadLibraryA("USER32.DLL");
    v5 = LibraryA;
    if ( !LibraryA )
      return 0;
    MessageBoxA = (int (__stdcall *)(HWND, LPCSTR, LPCSTR, UINT))GetProcAddress(LibraryA, "MessageBoxA");
    if ( !MessageBoxA )
      return 0;
    dword_501864 = _encode_pointer(MessageBoxA);
    GetActiveWindow = (HWND (__stdcall *)())GetProcAddress(v5, "GetActiveWindow");
    dword_501868 = _encode_pointer(GetActiveWindow);
    GetLastActivePopup = (HWND (__stdcall *)(HWND))GetProcAddress(v5, "GetLastActivePopup");
    dword_50186C = _encode_pointer(GetLastActivePopup);
    GetUserObjectInformationA = (BOOL (__stdcall *)(HANDLE, int, PVOID, DWORD, LPDWORD))GetProcAddress(
                                                                                          v5,
                                                                                          "GetUserObjectInformationA");
    dword_501874 = _encode_pointer(GetUserObjectInformationA);
    if ( dword_501874 )
    {
      GetProcessWindowStation = (HWINSTA (__stdcall *)())GetProcAddress(v5, "GetProcessWindowStation");
      dword_501870 = _encode_pointer(GetProcessWindowStation);
    }
  }
  if ( dword_501870 == v3
    || dword_501874 == v3
    || (v11 = (int (*)(void))_decode_pointer(dword_501870),
        v12 = (int (__stdcall *)(int, int, char *, int, char *))_decode_pointer(dword_501874),
        v13 = v12,
        !v11)
    || !v12
    || (v14 = v11()) != 0 && v13(v14, 1, v19, 12, v20) && (v19[8] & 1) != 0 )
  {
    if ( dword_501868 != v3 )
    {
      v15 = (int (*)(void))_decode_pointer(dword_501868);
      if ( v15 )
      {
        v21 = v15();
        if ( v21 )
        {
          if ( dword_50186C != v3 )
          {
            v16 = (int (__stdcall *)(int))_decode_pointer(dword_50186C);
            if ( v16 )
              v21 = v16(v21);
          }
        }
      }
    }
  }
  else
  {
    a3 |= 0x200000u;
  }
  v17 = (int (__stdcall *)(int, int, int, int))_decode_pointer(dword_501864);
  if ( v17 )
    return v17(v21, a1, a2, a3);
  return 0;
}
// 462C41:  _DWORD __cdecl _encode_pointer(_DWORD)
// 462CB3:  int _encoded_null(void)
// 462CBC:  _DWORD __cdecl _decode_pointer(_DWORD)
// 501864:  int dword_501864
// 501868:  int dword_501868
// 50186C:  int dword_50186C
// 501870:  int dword_501870
// 501874:  int dword_501874
// 46EA84:  char var_8[4]

//----- (0046F368) --------------------------------------------------------
int __cdecl sub_46F368(_DWORD *a1)
{
  if ( a1 )
  {
    *a1 = dword_501880;
    return 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return 22;
  }
}
// 45B23C:  int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
// 501880:  int dword_501880

//----- (0047031C) --------------------------------------------------------
int __cdecl sub_47031C(unsigned __int16 *a1, _DWORD *a2)
{
  unsigned __int16 v2; // bx
  int v3; // ebx
  int v4; // eax
  int v5; // ebx
  int v6; // eax
  int result; // eax
  int v8; // esi
  int *v9; // edi
  int v10; // eax
  bool i; // zf
  int v12; // eax
  unsigned int v13; // edx
  int *v14; // ecx
  bool v15; // cf
  unsigned int v16; // esi
  int v17; // eax
  int v18; // edx
  int *v19; // ebx
  unsigned int v20; // esi
  char v21; // cl
  int v22; // edx
  int *v23; // ecx
  int v24; // esi
  int v25; // eax
  int *v26; // ebx
  bool j; // zf
  int v28; // eax
  unsigned int v29; // edx
  int *v30; // ecx
  unsigned int v31; // edi
  int k; // ecx
  int *v33; // ecx
  unsigned int v34; // esi
  int v35; // edi
  int v36; // eax
  int v37; // edx
  int *v38; // ebx
  unsigned int v39; // esi
  char v40; // cl
  int v41; // edx
  int *v42; // ecx
  int v43; // eax
  int v44; // edx
  int *v45; // ebx
  unsigned int v46; // esi
  char v47; // cl
  int v48; // edx
  int *v49; // ecx
  int v50; // eax
  int v51; // edx
  unsigned int v52; // edi
  int v53; // edx
  int *v54; // ecx
  unsigned int v55; // ebx
  int v56; // edx
  int v57; // [esp+8h] [ebp-2Ch]
  int v58; // [esp+Ch] [ebp-28h]
  int v59; // [esp+10h] [ebp-24h]
  int v60; // [esp+14h] [ebp-20h] BYREF
  int v61; // [esp+18h] [ebp-1Ch]
  int v62; // [esp+1Ch] [ebp-18h] BYREF
  int v63; // [esp+20h] [ebp-14h]
  int v64; // [esp+24h] [ebp-10h]
  int v65; // [esp+28h] [ebp-Ch]
  int v66; // [esp+2Ch] [ebp-8h]
  int v67; // [esp+30h] [ebp-4h]
  int v68; // [esp+3Ch] [ebp+8h]
  unsigned int v69; // [esp+3Ch] [ebp+8h]
  int v70; // [esp+3Ch] [ebp+8h]
  int v71; // [esp+3Ch] [ebp+8h]
  int v72; // [esp+3Ch] [ebp+8h]
  int v73; // [esp+3Ch] [ebp+8h]
  int v74; // [esp+3Ch] [ebp+8h]

  v2 = a1[5];
  v63 = v2 & 0x8000;
  v60 = *(_DWORD *)(a1 + 3);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *a1 << 16;
  v61 = *(_DWORD *)(a1 + 1);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_4BBB68 - 1;
    v64 = v3;
    v65 = dword_4BBB68 / 32;
    v9 = &v60 + dword_4BBB68 / 32;
    v66 = 31 - dword_4BBB68 % 32;
    if ( ((1 << (31 - dword_4BBB68 % 32)) & *v9) != 0 )
    {
      v10 = v65;
      for ( i = (~(-1 << (31 - dword_4BBB68 % 32)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v10) == 0 )
      {
        if ( ++v10 >= 3 )
          goto LABEL_22;
      }
      v12 = v8 / 32;
      v67 = 0;
      v13 = 1 << (31 - v8 % 32);
      v14 = &v60 + v8 / 32;
      v69 = v13 + *v14;
      if ( v69 >= *v14 )
      {
        v15 = v69 < v13;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v12;
        *v14 = v69;
        if ( v12 < 0 || !v67 )
          break;
        v67 = 0;
        v14 = &v60 + v12;
        v16 = *v14 + 1;
        v69 = v16;
        if ( v16 >= *v14 )
        {
          v15 = v16 == 0;
LABEL_18:
          if ( !v15 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v9 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_4BBB64 - dword_4BBB68 )
    {
      if ( v3 > dword_4BBB64 )
      {
        if ( v3 < dword_4BBB60 )
        {
          v60 &= ~0x80000000;
          v5 = dword_4BBB74 + v3;
          v50 = dword_4BBB6C / 32;
          v51 = dword_4BBB6C % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_4BBB6C % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & v52;
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 0x80000000;
          v43 = dword_4BBB6C / 32;
          v44 = dword_4BBB6C % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_4BBB6C % 32;
          do
          {
            v45 = &v60 + v73;
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_4BBB74 + dword_4BBB60;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_4BBB64 - v64) / 32;
      v62 = v59;
      v18 = (dword_4BBB64 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = &v60 + v70;
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_4BBB68 - 1;
      v25 = dword_4BBB68 / 32;
      v65 = dword_4BBB68 / 32;
      v26 = &v60 + dword_4BBB68 / 32;
      v64 = 31 - dword_4BBB68 % 32;
      if ( ((1 << (31 - dword_4BBB68 % 32)) & *v26) != 0 )
      {
        for ( j = (~(-1 << (31 - dword_4BBB68 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = &v60 + v24 / 32;
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = &v60 + v28;
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || *v33 == -1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_4BBB6C + 1) / 32;
      v37 = (dword_4BBB6C + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = &v60 + v72;
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_4BBB6C));
  if ( dword_4BBB70 == 64 )
  {
    v56 = v61;
    a2[1] = v55;
    *a2 = v56;
  }
  else if ( dword_4BBB70 == 32 )
  {
    *a2 = v55;
  }
  return result;
}
// 4BBB60:  int dword_4BBB60
// 4BBB64:  int dword_4BBB64
// 4BBB68:  int dword_4BBB68
// 4BBB6C:  int dword_4BBB6C
// 4BBB70:  int dword_4BBB70
// 4BBB74:  int dword_4BBB74

//----- (00470860) --------------------------------------------------------
int __cdecl sub_470860(unsigned __int16 *a1, _DWORD *a2)
{
  unsigned __int16 v2; // bx
  int v3; // ebx
  int v4; // eax
  int v5; // ebx
  int v6; // eax
  int result; // eax
  int v8; // esi
  int *v9; // edi
  int v10; // eax
  bool i; // zf
  int v12; // eax
  unsigned int v13; // edx
  int *v14; // ecx
  bool v15; // cf
  unsigned int v16; // esi
  int v17; // eax
  int v18; // edx
  int *v19; // ebx
  unsigned int v20; // esi
  char v21; // cl
  int v22; // edx
  int *v23; // ecx
  int v24; // esi
  int v25; // eax
  int *v26; // ebx
  bool j; // zf
  int v28; // eax
  unsigned int v29; // edx
  int *v30; // ecx
  unsigned int v31; // edi
  int k; // ecx
  int *v33; // ecx
  unsigned int v34; // esi
  int v35; // edi
  int v36; // eax
  int v37; // edx
  int *v38; // ebx
  unsigned int v39; // esi
  char v40; // cl
  int v41; // edx
  int *v42; // ecx
  int v43; // eax
  int v44; // edx
  int *v45; // ebx
  unsigned int v46; // esi
  char v47; // cl
  int v48; // edx
  int *v49; // ecx
  int v50; // eax
  int v51; // edx
  unsigned int v52; // edi
  int v53; // edx
  int *v54; // ecx
  unsigned int v55; // ebx
  int v56; // edx
  int v57; // [esp+8h] [ebp-2Ch]
  int v58; // [esp+Ch] [ebp-28h]
  int v59; // [esp+10h] [ebp-24h]
  int v60; // [esp+14h] [ebp-20h] BYREF
  int v61; // [esp+18h] [ebp-1Ch]
  int v62; // [esp+1Ch] [ebp-18h] BYREF
  int v63; // [esp+20h] [ebp-14h]
  int v64; // [esp+24h] [ebp-10h]
  int v65; // [esp+28h] [ebp-Ch]
  int v66; // [esp+2Ch] [ebp-8h]
  int v67; // [esp+30h] [ebp-4h]
  int v68; // [esp+3Ch] [ebp+8h]
  unsigned int v69; // [esp+3Ch] [ebp+8h]
  int v70; // [esp+3Ch] [ebp+8h]
  int v71; // [esp+3Ch] [ebp+8h]
  int v72; // [esp+3Ch] [ebp+8h]
  int v73; // [esp+3Ch] [ebp+8h]
  int v74; // [esp+3Ch] [ebp+8h]

  v2 = a1[5];
  v63 = v2 & 0x8000;
  v60 = *(_DWORD *)(a1 + 3);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *a1 << 16;
  v61 = *(_DWORD *)(a1 + 1);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_4BBB80 - 1;
    v64 = v3;
    v65 = dword_4BBB80 / 32;
    v9 = &v60 + dword_4BBB80 / 32;
    v66 = 31 - dword_4BBB80 % 32;
    if ( ((1 << (31 - dword_4BBB80 % 32)) & *v9) != 0 )
    {
      v10 = v65;
      for ( i = (~(-1 << (31 - dword_4BBB80 % 32)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v10) == 0 )
      {
        if ( ++v10 >= 3 )
          goto LABEL_22;
      }
      v12 = v8 / 32;
      v67 = 0;
      v13 = 1 << (31 - v8 % 32);
      v14 = &v60 + v8 / 32;
      v69 = v13 + *v14;
      if ( v69 >= *v14 )
      {
        v15 = v69 < v13;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v12;
        *v14 = v69;
        if ( v12 < 0 || !v67 )
          break;
        v67 = 0;
        v14 = &v60 + v12;
        v16 = *v14 + 1;
        v69 = v16;
        if ( v16 >= *v14 )
        {
          v15 = v16 == 0;
LABEL_18:
          if ( !v15 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v9 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_4BBB7C - dword_4BBB80 )
    {
      if ( v3 > dword_4BBB7C )
      {
        if ( v3 < dword_4BBB78 )
        {
          v60 &= ~0x80000000;
          v5 = dword_4BBB8C + v3;
          v50 = dword_4BBB84 / 32;
          v51 = dword_4BBB84 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_4BBB84 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & v52;
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 0x80000000;
          v43 = dword_4BBB84 / 32;
          v44 = dword_4BBB84 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_4BBB84 % 32;
          do
          {
            v45 = &v60 + v73;
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_4BBB8C + dword_4BBB78;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_4BBB7C - v64) / 32;
      v62 = v59;
      v18 = (dword_4BBB7C - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = &v60 + v70;
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_4BBB80 - 1;
      v25 = dword_4BBB80 / 32;
      v65 = dword_4BBB80 / 32;
      v26 = &v60 + dword_4BBB80 / 32;
      v64 = 31 - dword_4BBB80 % 32;
      if ( ((1 << (31 - dword_4BBB80 % 32)) & *v26) != 0 )
      {
        for ( j = (~(-1 << (31 - dword_4BBB80 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = &v60 + v24 / 32;
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = &v60 + v28;
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || *v33 == -1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_4BBB84 + 1) / 32;
      v37 = (dword_4BBB84 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = &v60 + v72;
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_4BBB84));
  if ( dword_4BBB88 == 64 )
  {
    v56 = v61;
    a2[1] = v55;
    *a2 = v56;
  }
  else if ( dword_4BBB88 == 32 )
  {
    *a2 = v55;
  }
  return result;
}
// 4BBB78:  int dword_4BBB78
// 4BBB7C:  int dword_4BBB7C
// 4BBB80:  int dword_4BBB80
// 4BBB84:  int dword_4BBB84
// 4BBB88:  int dword_4BBB88
// 4BBB8C:  int dword_4BBB8C

//----- (0047149C) --------------------------------------------------------
int __cdecl sub_47149C(__int64 a1, __int16 a2, int a3, char a4, int a5)
{
  unsigned __int16 v5; // dx
  __int64 v6; // rdi
  errno_t v8; // eax
  errno_t v9; // eax
  __int16 v10; // ax
  int v11; // ebx
  int v12; // ecx
  char *v13; // eax
  int *v14; // esi
  __int16 v15; // cx
  unsigned __int16 v16; // di
  _WORD *v17; // esi
  unsigned int v18; // edx
  unsigned int v19; // ecx
  unsigned int v20; // eax
  __int16 v21; // di
  unsigned int v22; // ecx
  unsigned int v23; // edx
  int v24; // eax
  unsigned int v25; // ecx
  int v26; // esi
  int v27; // ecx
  unsigned __int16 v28; // si
  int v29; // eax
  _WORD *v30; // edi
  unsigned __int16 *v31; // eax
  unsigned int v32; // ecx
  unsigned int v33; // edx
  unsigned int v34; // ebx
  __int16 v35; // si
  unsigned int v36; // ecx
  unsigned int v37; // edx
  int v38; // eax
  unsigned int v39; // ecx
  int v40; // edi
  int v41; // ecx
  int v42; // edi
  int v43; // esi
  unsigned int v44; // eax
  int v45; // ebx
  int v46; // eax
  bool v47; // zf
  int v48; // esi
  int v49; // eax
  _BYTE *v50; // ebx
  unsigned int v51; // edx
  unsigned int v52; // edi
  unsigned int v53; // ecx
  int v54; // esi
  int v55; // ecx
  unsigned int v56; // esi
  unsigned int v57; // edi
  int v58; // edx
  unsigned int v59; // edx
  char *v60; // ebx
  char v61; // al
  char *v62; // ebx
  int v63; // eax
  char v64; // bl
  unsigned __int16 *v65; // [esp+10h] [ebp-70h]
  unsigned __int16 *v66; // [esp+14h] [ebp-6Ch]
  char *v67; // [esp+18h] [ebp-68h]
  __int16 v68; // [esp+20h] [ebp-60h]
  int v69; // [esp+24h] [ebp-5Ch]
  __int16 v70; // [esp+24h] [ebp-5Ch]
  __int16 v71; // [esp+28h] [ebp-58h]
  int *v72; // [esp+28h] [ebp-58h]
  int v73; // [esp+2Ch] [ebp-54h]
  int v74; // [esp+2Ch] [ebp-54h]
  int v75; // [esp+30h] [ebp-50h]
  int v76; // [esp+30h] [ebp-50h]
  __int16 v77; // [esp+34h] [ebp-4Ch]
  int k; // [esp+34h] [ebp-4Ch]
  int v79; // [esp+38h] [ebp-48h]
  int v80; // [esp+38h] [ebp-48h]
  char *v81; // [esp+3Ch] [ebp-44h]
  int v82; // [esp+3Ch] [ebp-44h]
  int v83; // [esp+3Ch] [ebp-44h]
  unsigned int v84; // [esp+3Ch] [ebp-44h]
  int i; // [esp+40h] [ebp-40h]
  int j; // [esp+40h] [ebp-40h]
  char *v87; // [esp+40h] [ebp-40h]
  __int64 v88; // [esp+44h] [ebp-3Ch] BYREF
  int v89; // [esp+4Ch] [ebp-34h]
  int v90; // [esp+50h] [ebp-30h]
  int v91; // [esp+54h] [ebp-2Ch]
  int v92; // [esp+58h] [ebp-28h] BYREF
  _QWORD v93[2]; // [esp+60h] [ebp-20h] BYREF
  _BYTE v94[12]; // [esp+70h] [ebp-10h] BYREF

  *(_QWORD *)v94 = a1;
  *(_WORD *)&v94[8] = a2;
  v68 = a2 & 0x8000;
  v5 = a2 & 0x7FFF;
  v90 = -858993460;
  v91 = -858993460;
  v92 = 1073466572;
  if ( a2 >= 0 )
    *(_BYTE *)(a5 + 2) = 32;
  else
    *(_BYTE *)(a5 + 2) = 45;
  v6 = *(_QWORD *)v94;
  if ( !v5 && !*(_QWORD *)v94 )
  {
    *(_WORD *)a5 = 0;
    *(_BYTE *)(a5 + 2) = v68 != -32768 ? 32 : 45;
    *(_BYTE *)(a5 + 3) = 1;
    *(_BYTE *)(a5 + 4) = 48;
    *(_BYTE *)(a5 + 5) = 0;
    return 1;
  }
  if ( v5 == 0x7FFF )
  {
    *(_WORD *)a5 = 1;
    if ( v6 != 0x8000000000000000ui64 && (v6 & 0x4000000000000000i64) == 0 )
    {
      v8 = strcpy_s((char *)(a5 + 4), 0x16u, "1#SNAN");
LABEL_22:
      if ( v8 )
        _invoke_watson(0, 0, 0, 0, 0);
      *(_BYTE *)(a5 + 3) = 6;
      return 0;
    }
    if ( v68 && HIDWORD(v6) == -1073741824 )
    {
      if ( !(_DWORD)v6 )
      {
        v9 = strcpy_s((char *)(a5 + 4), 0x16u, "1#IND");
LABEL_18:
        if ( v9 )
          _invoke_watson(0, 0, 0, 0, 0);
        *(_BYTE *)(a5 + 3) = 5;
        return 0;
      }
    }
    else if ( v6 == 0x8000000000000000ui64 )
    {
      v9 = strcpy_s((char *)(a5 + 4), 0x16u, "1#INF");
      goto LABEL_18;
    }
    v8 = strcpy_s((char *)(a5 + 4), 0x16u, "1#QNAN");
    goto LABEL_22;
  }
  v10 = (77 * (HIBYTE(v5) + 2 * HIBYTE(*(_DWORD *)&v94[4])) + 19728 * (unsigned int)v5 - 323162868) >> 16;
  LOWORD(v93[0]) = 0;
  v11 = -v10;
  v77 = v10;
  WORD1(v93[1]) = a2 & 0x7FFF;
  *(_QWORD *)((char *)v93 + 2) = *(_QWORD *)v94;
  v67 = (char *)&unk_4BBC98 - 96;
  if ( v10 )
  {
    if ( v10 > 0 )
    {
      v11 = v10;
      v67 = (char *)&unk_4BBDF8 - 96;
    }
    while ( v11 )
    {
      v67 += 84;
      v12 = v11 & 7;
      v11 >>= 3;
      if ( v12 )
      {
        v13 = &v67[12 * v12];
        v81 = v13;
        if ( *(_WORD *)v13 >= 0x8000u )
        {
          v88 = *(_QWORD *)v13;
          v14 = (int *)(v13 + 8);
          v13 = (char *)&v88;
          v89 = *v14;
          --*(_DWORD *)((char *)&v88 + 2);
          v81 = (char *)&v88;
        }
        v79 = 0;
        memset(v94, 0, sizeof(v94));
        v71 = (WORD1(v93[1]) ^ *((_WORD *)v13 + 5)) & 0x8000;
        v15 = *((_WORD *)v13 + 5) & 0x7FFF;
        v16 = v15 + (WORD1(v93[1]) & 0x7FFF);
        if ( (WORD1(v93[1]) & 0x7FFF) == 0x7FFF || (*((_WORD *)v13 + 5) & 0x7FFF) == 0x7FFF || v16 > 0xBFFDu )
        {
          LODWORD(v93[1]) = ((WORD1(v93[1]) ^ *((_WORD *)v13 + 5)) & 0x8000u) == 0 ? 2147450880 : -32768;
        }
        else
        {
          if ( v16 > 0x3FBFu )
          {
            if ( (v93[1] & 0x7FFF0000i64) == 0 )
            {
              ++v16;
              if ( (v93[1] & 0x7FFFFFFF) == 0 && !v93[0] )
              {
                WORD1(v93[1]) = 0;
                continue;
              }
            }
            if ( v15 || (++v16, (*((_DWORD *)v13 + 2) & 0x7FFFFFFF) != 0) || *((_DWORD *)v13 + 1) || *(_DWORD *)v13 )
            {
              v73 = 0;
              v17 = &v94[4];
              for ( i = 5; i > 0; --i )
              {
                v75 = i;
                v65 = (unsigned __int16 *)v93 + v73;
                v66 = (unsigned __int16 *)(v13 + 8);
                do
                {
                  v18 = *((_DWORD *)v17 - 1);
                  v19 = *v66 * *v65;
                  v69 = 0;
                  v20 = v18 + v19;
                  if ( v18 + v19 < v18 || v20 < v19 )
                    v69 = 1;
                  *((_DWORD *)v17 - 1) = v20;
                  if ( v69 )
                    ++*v17;
                  ++v65;
                  --v66;
                  --v75;
                }
                while ( v75 > 0 );
                v13 = v81;
                ++v17;
                ++v73;
              }
              v21 = v16 - 16382;
              if ( v21 <= 0 )
                goto LABEL_168;
              do
              {
                if ( *(int *)&v94[8] < 0 )
                  break;
                v22 = *(_DWORD *)v94;
                *(_DWORD *)v94 *= 2;
                v23 = *(_DWORD *)&v94[4];
                *(_DWORD *)&v94[4] = (v22 >> 31) | (2 * *(_DWORD *)&v94[4]);
                --v21;
                *(_DWORD *)&v94[8] = (v23 >> 31) | (2 * *(_DWORD *)&v94[8]);
              }
              while ( v21 > 0 );
              if ( v21 <= 0 )
              {
LABEL_168:
                if ( --v21 < 0 )
                {
                  v24 = (unsigned __int16)-v21;
                  v21 = 0;
                  do
                  {
                    if ( (v94[0] & 1) != 0 )
                      ++v79;
                    v25 = *(_DWORD *)&v94[8];
                    *(_DWORD *)&v94[8] >>= 1;
                    v26 = __SPAIR64__(v25, *(unsigned int *)&v94[4]) >> 1;
                    v27 = *(__int64 *)v94 >> 1;
                    --v24;
                    *(_DWORD *)&v94[4] = v26;
                    *(_DWORD *)v94 = v27;
                  }
                  while ( v24 );
                  if ( v79 )
                    *(_WORD *)v94 |= 1u;
                }
              }
              if ( *(_WORD *)v94 > 0x8000u || (*(_DWORD *)v94 & 0x1FFFF) == 98304 )
              {
                if ( *(_DWORD *)&v94[2] == -1 )
                {
                  *(_DWORD *)&v94[2] = 0;
                  if ( *(_DWORD *)&v94[6] == -1 )
                  {
                    *(_DWORD *)&v94[6] = 0;
                    if ( *(_WORD *)&v94[10] == 0xFFFF )
                    {
                      *(_WORD *)&v94[10] = 0x8000;
                      ++v21;
                    }
                    else
                    {
                      ++*(_WORD *)&v94[10];
                    }
                  }
                  else
                  {
                    ++*(_DWORD *)&v94[6];
                  }
                }
                else
                {
                  ++*(_DWORD *)&v94[2];
                }
              }
              if ( (unsigned __int16)v21 < 0x7FFFu )
              {
                LOWORD(v93[0]) = *(_WORD *)&v94[2];
                *(_DWORD *)((char *)v93 + 2) = *(_DWORD *)&v94[4];
                *(_DWORD *)((char *)v93 + 6) = *(_DWORD *)&v94[8];
                WORD1(v93[1]) = v71 | v21;
              }
              else
              {
                v93[0] = 0i64;
                LODWORD(v93[1]) = v71 == 0 ? 2147450880 : -32768;
              }
              continue;
            }
          }
          LODWORD(v93[1]) = 0;
        }
        v93[0] = 0i64;
      }
    }
  }
  if ( WORD1(v93[1]) >= 0x3FFFu )
  {
    ++v77;
    v76 = 0;
    memset(v94, 0, sizeof(v94));
    v70 = (WORD1(v93[1]) ^ HIWORD(v92)) & 0x8000;
    v28 = (HIWORD(v92) & 0x7FFF) + (WORD1(v93[1]) & 0x7FFF);
    if ( (WORD1(v93[1]) & 0x7FFF) == 0x7FFF || (HIWORD(v92) & 0x7FFF) == 0x7FFF || v28 > 0xBFFDu )
    {
      v29 = ((WORD1(v93[1]) ^ HIWORD(v92)) & 0x8000u) == 0 ? 2147450880 : -32768;
      v93[0] = 0i64;
    }
    else
    {
      if ( v28 > 0x3FBFu )
      {
        v29 = 0;
        if ( (v93[1] & 0x7FFF0000i64) == 0 )
        {
          ++v28;
          if ( (v93[1] & 0x7FFFFFFF) == 0 && !v93[0] )
          {
            WORD1(v93[1]) = 0;
            goto LABEL_130;
          }
        }
        if ( (v92 & 0x7FFF0000) != 0 || (++v28, (v92 & 0x7FFFFFFF) != 0) || v91 || v90 )
        {
          v74 = 0;
          v30 = &v94[4];
          for ( j = 5; j > 0; --j )
          {
            v80 = j;
            v72 = &v92;
            v31 = (unsigned __int16 *)v93 + v74;
            do
            {
              v82 = 0;
              v32 = *v31 * *(unsigned __int16 *)v72;
              v33 = *((_DWORD *)v30 - 1);
              v34 = v33 + v32;
              if ( v33 + v32 < v33 || v34 < v32 )
                v82 = 1;
              *((_DWORD *)v30 - 1) = v34;
              if ( v82 )
                ++*v30;
              v72 = (int *)((char *)v72 - 2);
              ++v31;
              --v80;
            }
            while ( v80 > 0 );
            ++v30;
            ++v74;
          }
          v35 = v28 - 16382;
          if ( v35 <= 0 )
            goto LABEL_169;
          do
          {
            if ( *(int *)&v94[8] < 0 )
              break;
            v36 = *(_DWORD *)v94;
            *(_DWORD *)v94 *= 2;
            v37 = *(_DWORD *)&v94[4];
            *(_DWORD *)&v94[4] = (v36 >> 31) | (2 * *(_DWORD *)&v94[4]);
            --v35;
            *(_DWORD *)&v94[8] = (v37 >> 31) | (2 * *(_DWORD *)&v94[8]);
          }
          while ( v35 > 0 );
          if ( v35 <= 0 )
          {
LABEL_169:
            if ( --v35 < 0 )
            {
              v38 = (unsigned __int16)-v35;
              v35 = 0;
              do
              {
                if ( (v94[0] & 1) != 0 )
                  ++v76;
                v39 = *(_DWORD *)&v94[8];
                *(_DWORD *)&v94[8] >>= 1;
                v40 = __SPAIR64__(v39, *(unsigned int *)&v94[4]) >> 1;
                v41 = *(__int64 *)v94 >> 1;
                --v38;
                *(_DWORD *)&v94[4] = v40;
                *(_DWORD *)v94 = v41;
              }
              while ( v38 );
              if ( v76 )
                *(_WORD *)v94 |= 1u;
            }
          }
          if ( *(_WORD *)v94 > 0x8000u || (*(_DWORD *)v94 & 0x1FFFF) == 98304 )
          {
            if ( *(_DWORD *)&v94[2] == -1 )
            {
              *(_DWORD *)&v94[2] = 0;
              if ( *(_DWORD *)&v94[6] == -1 )
              {
                *(_DWORD *)&v94[6] = 0;
                if ( *(_WORD *)&v94[10] == 0xFFFF )
                {
                  *(_WORD *)&v94[10] = 0x8000;
                  ++v35;
                }
                else
                {
                  ++*(_WORD *)&v94[10];
                }
              }
              else
              {
                ++*(_DWORD *)&v94[6];
              }
            }
            else
            {
              ++*(_DWORD *)&v94[2];
            }
          }
          if ( (unsigned __int16)v35 < 0x7FFFu )
          {
            LOWORD(v93[0]) = *(_WORD *)&v94[2];
            *(_DWORD *)((char *)v93 + 2) = *(_DWORD *)&v94[4];
            *(_DWORD *)((char *)v93 + 6) = *(_DWORD *)&v94[8];
            WORD1(v93[1]) = v70 | v35;
          }
          else
          {
            v93[0] = 0i64;
            LODWORD(v93[1]) = v70 == 0 ? 2147450880 : -32768;
          }
          goto LABEL_130;
        }
      }
      else
      {
        v29 = 0;
      }
      v93[0] = 0i64;
    }
    LODWORD(v93[1]) = v29;
  }
LABEL_130:
  v42 = a3;
  *(_WORD *)a5 = v77;
  if ( (a4 & 1) != 0 )
  {
    v42 = v77 + a3;
    if ( v42 <= 0 )
    {
      *(_WORD *)a5 = 0;
      *(_BYTE *)(a5 + 3) = 1;
      *(_BYTE *)(a5 + 2) = v68 != -32768 ? 32 : 45;
      *(_BYTE *)(a5 + 4) = 48;
      *(_BYTE *)(a5 + 5) = 0;
      return 1;
    }
  }
  if ( v42 > 21 )
    v42 = 21;
  v43 = WORD1(v93[1]) - 16382;
  WORD1(v93[1]) = 0;
  v83 = 8;
  do
  {
    v44 = v93[0];
    LODWORD(v93[0]) *= 2;
    v45 = (v44 >> 31) | (2 * HIDWORD(v93[0]));
    v46 = *(_QWORD *)((char *)v93 + 4) >> 31;
    v47 = v83-- == 1;
    HIDWORD(v93[0]) = v45;
    LODWORD(v93[1]) = v46;
  }
  while ( !v47 );
  if ( v43 < 0 )
  {
    v48 = (unsigned __int8)-(char)v43;
    if ( v48 )
    {
      do
      {
        v49 = v93[1];
        LODWORD(v93[1]) >>= 1;
        --v48;
        v93[0] = __PAIR64__((unsigned int)(v49 << 31) | (HIDWORD(v93[0]) >> 1), v93[0] >> 1);
      }
      while ( v48 > 0 );
    }
  }
  v50 = (_BYTE *)(a5 + 4);
  v87 = (char *)(a5 + 4);
  for ( k = v42 + 1; k > 0; BYTE3(v93[1]) = 0 )
  {
    v51 = v93[0];
    v88 = v93[0];
    v89 = v93[1];
    LODWORD(v93[0]) *= 2;
    v52 = v93[0];
    LODWORD(v93[0]) *= 2;
    v53 = __SPAIR64__(HIDWORD(v93[0]), v51) >> 31;
    v54 = 2 * v53;
    v55 = (v53 >> 31) | (2 * (*(_QWORD *)((char *)v93 + 4) >> 31));
    v56 = (v52 >> 31) | v54;
    v57 = v88 + LODWORD(v93[0]);
    if ( (unsigned int)(v88 + LODWORD(v93[0])) < LODWORD(v93[0]) || v57 < (unsigned int)v88 )
    {
      v58 = 0;
      if ( v56 + 1 < v56 || v56 == -1 )
        v58 = 1;
      ++v56;
      if ( v58 )
        ++v55;
    }
    v59 = HIDWORD(v88) + v56;
    v84 = HIDWORD(v88) + v56;
    if ( HIDWORD(v88) + v56 < v56 || v59 < HIDWORD(v88) )
      ++v55;
    LODWORD(v93[0]) = 2 * v57;
    LODWORD(v93[1]) = (v59 >> 31) | (2 * (v89 + v55));
    *v50++ = BYTE3(v93[1]) + 48;
    --k;
    HIDWORD(v93[0]) = (v57 >> 31) | (2 * v84);
  }
  v60 = v50 - 1;
  v61 = *v60;
  v62 = v60 - 1;
  if ( v61 >= 53 )
  {
    while ( v62 >= v87 && *v62 == 57 )
      *v62-- = 48;
    v63 = a5;
    if ( v62 < v87 )
    {
      ++v62;
      ++*(_WORD *)a5;
    }
    ++*v62;
  }
  else
  {
    while ( v62 >= v87 && *v62 == 48 )
      --v62;
    v63 = a5;
    if ( v62 < v87 )
    {
      *(_WORD *)a5 = 0;
      *(_BYTE *)(a5 + 3) = 1;
      *(_BYTE *)(a5 + 2) = v68 != -32768 ? 32 : 45;
      *v87 = 48;
      *(_BYTE *)(a5 + 5) = 0;
      return 1;
    }
  }
  v64 = (_BYTE)v62 - v63 - 3;
  *(_BYTE *)(v63 + 3) = v64;
  *(_BYTE *)(v64 + v63 + 4) = 0;
  return 1;
}
// 47176F: conditional instruction was optimized away because %var_40.4>=1
// 471A0C: conditional instruction was optimized away because %var_40.4>=1

//----- (00473920) --------------------------------------------------------
int __cdecl sub_473920(unsigned __int8 *a1, unsigned __int8 **a2, unsigned __int8 *a3, unsigned __int8 *a4)
{
  unsigned __int8 *v4; // eax
  int result; // eax
  int v6; // esi
  unsigned __int8 *v7[14]; // [esp+8h] [ebp-38h] BYREF

  v7[1] = a4;
  v7[0] = a3;
  v4 = *a2;
  v7[3] = a1;
  v7[4] = v4;
  v7[8] = 0;
  v7[9] = 0;
  result = sub_473B70(v7, a114, 56);
  if ( !result )
  {
    v6 = sub_473B90(v7, 4);
    if ( v6 == 1 )
    {
      *a2 = v7[5];
      return sub_473A10(v7);
    }
    else
    {
      sub_473A10(v7);
      result = -5;
      if ( v6 )
        return v6;
    }
  }
  return result;
}

//----- (004739C0) --------------------------------------------------------
int __cdecl sub_4739C0(_DWORD *a1)
{
  _DWORD *v1; // ecx

  if ( !a1 )
    return -2;
  v1 = (_DWORD *)a1[7];
  if ( !v1 )
    return -2;
  a1[5] = 0;
  a1[2] = 0;
  a1[6] = 0;
  *v1 = v1[3] != 0 ? 7 : 0;
  sub_474150(*(_DWORD **)(a1[7] + 20), (int)a1, 0);
  return 0;
}

//----- (00473A10) --------------------------------------------------------
int __cdecl sub_473A10(_DWORD *a1)
{
  int v1; // eax
  _DWORD *v2; // eax

  if ( !a1 )
    return -2;
  v1 = a1[7];
  if ( !v1 || !a1[9] )
    return -2;
  v2 = *(_DWORD **)(v1 + 20);
  if ( v2 )
    sub_474F80(v2, (int)a1);
  ((void (__cdecl *)(_DWORD, _DWORD))a1[9])(a1[10], a1[7]);
  a1[7] = 0;
  return 0;
}

//----- (00473A60) --------------------------------------------------------
int __cdecl sub_473A60(_DWORD *a1, int a2, _BYTE *a3, int a4)
{
  int v5; // eax
  int v6; // eax
  int v7; // ecx

  if ( !a3 || *a3 != byte_4BBF88 || a4 != 56 )
    return -6;
  if ( !a1 )
    return -2;
  v5 = a1[8];
  a1[6] = 0;
  if ( !v5 )
  {
    a1[8] = sub_475170;
    a1[10] = 0;
  }
  if ( !a1[9] )
    a1[9] = sub_475190;
  v6 = ((int (__cdecl *)(_DWORD, int, int))a1[8])(a1[10], 1, 24);
  a1[7] = v6;
  if ( !v6 )
    return -4;
  v7 = a2;
  *(_DWORD *)(v6 + 20) = 0;
  *(_DWORD *)(a1[7] + 12) = 0;
  if ( a2 < 0 )
  {
    v7 = -a2;
    *(_DWORD *)(a1[7] + 12) = 1;
  }
  if ( v7 < 8 || v7 > 15 )
  {
    sub_473A10(a1);
    return -2;
  }
  else
  {
    *(_DWORD *)(a1[7] + 16) = v7;
    *(_DWORD *)(a1[7] + 20) = sub_4741D0((int)a1, *(_DWORD *)(a1[7] + 12) == 0 ? (unsigned int)sub_475010 : 0, 1 << v7);
    if ( *(_DWORD *)(a1[7] + 20) )
    {
      sub_4739C0(a1);
      return 0;
    }
    else
    {
      sub_473A10(a1);
      return -4;
    }
  }
}
// 4BBF88:  char byte_4BBF88

//----- (00473B70) --------------------------------------------------------
int __cdecl sub_473B70(_DWORD *a1, _BYTE *a2, int a3)
{
  return sub_473A60(a1, 15, a2, a3);
}

//----- (00473B90) --------------------------------------------------------
int __cdecl sub_473B90(unsigned __int8 **a1, int a2)
{
  int v2; // edi
  unsigned int v3; // ebx
  unsigned __int8 *v4; // eax
  unsigned __int8 *v5; // ecx
  unsigned __int8 *v6; // eax
  int v7; // ecx
  unsigned __int8 *v8; // edx
  unsigned __int8 *v9; // edx
  unsigned __int8 *v10; // eax
  unsigned __int8 *v11; // ebx
  int v12; // ecx
  unsigned __int8 *v13; // eax
  int v14; // eax
  unsigned __int8 *v15; // eax
  unsigned __int8 *v16; // eax
  unsigned __int8 *v17; // edx
  unsigned __int8 *v18; // eax
  unsigned __int8 *v19; // ecx
  unsigned __int8 *v20; // eax
  unsigned __int8 *v21; // ecx
  unsigned __int8 *v22; // eax
  unsigned __int8 *v23; // ecx
  int v24; // edx
  unsigned __int8 *v25; // eax
  unsigned __int8 *v26; // eax
  unsigned __int8 *v27; // edx
  unsigned __int8 *v28; // eax
  unsigned __int8 *v30; // ecx
  unsigned __int8 *v31; // ecx
  unsigned __int8 *v32; // eax
  unsigned __int8 *v33; // edx
  unsigned __int8 *v34; // edx
  unsigned __int8 *v35; // eax
  unsigned __int8 *v36; // ecx
  unsigned __int8 *v37; // eax
  unsigned __int8 *v38; // ecx
  int v39; // edx
  unsigned __int8 *v40; // eax
  unsigned __int8 *v41; // eax
  unsigned __int8 *v42; // eax
  unsigned int v43; // [esp+18h] [ebp+8h]

  if ( !a1 || !a1[7] || !*a1 )
    return -2;
  v2 = -5;
  v3 = a2 != 4 ? 0 : 0xFFFFFFFB;
  v43 = v3;
  while ( 2 )
  {
    v4 = a1[7];
    switch ( *(_DWORD *)v4 )
    {
      case 0:
        v5 = a1[1];
        if ( !v5 )
          return v2;
        a1[1] = v5 - 1;
        v2 = v3;
        ++a1[2];
        *((_DWORD *)v4 + 1) = **a1;
        v6 = a1[7];
        v7 = *((_DWORD *)v6 + 1) & 0xF;
        ++*a1;
        if ( (_BYTE)v7 != 8 )
        {
          *(_DWORD *)v6 = 13;
          v8 = a1[7];
          a1[6] = (unsigned __int8 *)aUnknownCompres;
          *((_DWORD *)v8 + 1) = 5;
          continue;
        }
        if ( (unsigned int)((*((_DWORD *)v6 + 1) >> 4) + 8) > *((_DWORD *)v6 + 4) )
        {
          *(_DWORD *)v6 = 13;
          v9 = a1[7];
          a1[6] = (unsigned __int8 *)aInvalidWindowS;
          *((_DWORD *)v9 + 1) = 5;
          continue;
        }
        *(_DWORD *)v6 = 1;
LABEL_12:
        v10 = a1[1];
        if ( !v10 )
          return v2;
        a1[1] = v10 - 1;
        v2 = v3;
        v11 = a1[7];
        ++a1[2];
        v12 = *(*a1)++;
        if ( (v12 + (*((_DWORD *)v11 + 1) << 8)) % 0x1Fu )
        {
          *(_DWORD *)v11 = 13;
          v13 = a1[7];
          v3 = v43;
          a1[6] = (unsigned __int8 *)aIncorrectHeade;
          *((_DWORD *)v13 + 1) = 5;
          continue;
        }
        if ( (v12 & 0x20) == 0 )
        {
          *(_DWORD *)v11 = 7;
          v3 = v43;
          continue;
        }
        v3 = v43;
        *(_DWORD *)a1[7] = 2;
LABEL_35:
        v28 = a1[1];
        if ( !v28 )
          return v2;
        v30 = *a1;
        ++a1[2];
        a1[1] = v28 - 1;
        v2 = v3;
        *((_DWORD *)a1[7] + 2) = *v30 << 24;
        v31 = a1[7];
        ++*a1;
        *(_DWORD *)v31 = 3;
LABEL_38:
        v32 = a1[1];
        if ( !v32 )
          return v2;
        v33 = *a1;
        a1[1] = v32 - 1;
        ++a1[2];
        v2 = v3;
        *((_DWORD *)a1[7] + 2) += *v33 << 16;
        v34 = a1[7];
        ++*a1;
        *(_DWORD *)v34 = 4;
LABEL_41:
        v35 = a1[1];
        if ( !v35 )
          return v2;
        v36 = *a1;
        a1[1] = v35 - 1;
        ++a1[2];
        v2 = v3;
        *((_DWORD *)a1[7] + 2) += *v36 << 8;
        ++*a1;
        *(_DWORD *)a1[7] = 5;
LABEL_44:
        v37 = a1[1];
        if ( !v37 )
          return v2;
        v38 = *a1;
        v39 = (int)(a1[2] + 1);
        a1[1] = v37 - 1;
        v40 = a1[7];
        a1[2] = (unsigned __int8 *)v39;
        *((_DWORD *)v40 + 2) += *v38;
        ++*a1;
        v41 = a1[7];
        a1[12] = (unsigned __int8 *)*((_DWORD *)v41 + 2);
        *(_DWORD *)v41 = 6;
        return 2;
      case 1:
        goto LABEL_12;
      case 2:
        goto LABEL_35;
      case 3:
        goto LABEL_38;
      case 4:
        goto LABEL_41;
      case 5:
        goto LABEL_44;
      case 6:
        *(_DWORD *)a1[7] = 13;
        v42 = a1[7];
        a1[6] = (unsigned __int8 *)aNeedDictionary;
        *((_DWORD *)v42 + 1) = 0;
        return -2;
      case 7:
        v14 = sub_474270(*((_DWORD **)v4 + 5), (int)a1, v2);
        v2 = v14;
        if ( v14 == -3 )
        {
          *(_DWORD *)a1[7] = 13;
          *((_DWORD *)a1[7] + 1) = 0;
        }
        else
        {
          if ( !v14 )
            v2 = v3;
          if ( v2 != 1 )
            return v2;
          v2 = v3;
          sub_474150(*((_DWORD **)a1[7] + 5), (int)a1, (_DWORD *)a1[7] + 1);
          v15 = a1[7];
          if ( *((_DWORD *)v15 + 3) )
          {
            *(_DWORD *)v15 = 12;
          }
          else
          {
            *(_DWORD *)v15 = 8;
LABEL_25:
            v16 = a1[1];
            if ( !v16 )
              return v2;
            v17 = a1[7];
            a1[1] = v16 - 1;
            ++a1[2];
            v2 = v3;
            *((_DWORD *)v17 + 2) = *(*a1)++ << 24;
            *(_DWORD *)a1[7] = 9;
LABEL_27:
            v18 = a1[1];
            if ( !v18 )
              return v2;
            v19 = *a1;
            ++a1[2];
            a1[1] = v18 - 1;
            v2 = v3;
            *((_DWORD *)a1[7] + 2) += *v19 << 16;
            ++*a1;
            *(_DWORD *)a1[7] = 10;
LABEL_29:
            v20 = a1[1];
            if ( !v20 )
              return v2;
            v21 = *a1;
            ++a1[2];
            a1[1] = v20 - 1;
            v2 = v3;
            *((_DWORD *)a1[7] + 2) += *v21 << 8;
            ++*a1;
            *(_DWORD *)a1[7] = 11;
LABEL_31:
            v22 = a1[1];
            if ( !v22 )
              return v2;
            v23 = *a1;
            v24 = (int)(a1[2] + 1);
            a1[1] = v22 - 1;
            v25 = a1[7];
            a1[2] = (unsigned __int8 *)v24;
            v2 = v3;
            *((_DWORD *)v25 + 2) += *v23;
            ++*a1;
            v26 = a1[7];
            if ( *((_DWORD *)v26 + 1) == *((_DWORD *)v26 + 2) )
            {
              *(_DWORD *)a1[7] = 12;
              return 1;
            }
            *(_DWORD *)v26 = 13;
            v27 = a1[7];
            a1[6] = (unsigned __int8 *)aIncorrectDataC;
            *((_DWORD *)v27 + 1) = 5;
          }
        }
        continue;
      case 8:
        goto LABEL_25;
      case 9:
        goto LABEL_27;
      case 0xA:
        goto LABEL_29;
      case 0xB:
        goto LABEL_31;
      case 0xC:
        return 1;
      case 0xD:
        return -3;
      default:
        return -2;
    }
  }
}

//----- (00473FC0) --------------------------------------------------------
int __cdecl sub_473FC0(int a1, unsigned __int8 *a2, unsigned int a3)
{
  unsigned int v3; // ebx
  _DWORD *v4; // eax
  unsigned __int8 *v5; // ebp
  int result; // eax
  int v7; // edx
  unsigned int v8; // eax

  v3 = a3;
  if ( !a1 )
    return -2;
  v4 = *(_DWORD **)(a1 + 28);
  if ( !v4 || *v4 != 6 )
    return -2;
  v5 = a2;
  if ( sub_475010(1u, a2, a3) != *(_DWORD *)(a1 + 48) )
    return -3;
  v7 = *(_DWORD *)(a1 + 28);
  *(_DWORD *)(a1 + 48) = 1;
  v8 = 1 << *(_DWORD *)(v7 + 16);
  if ( a3 >= v8 )
  {
    v3 = v8 - 1;
    v5 = &a2[a3 - (v8 - 1)];
  }
  sub_474FC0(*(_DWORD *)(v7 + 20), v5, v3);
  result = 0;
  **(_DWORD **)(a1 + 28) = 7;
  return result;
}

//----- (00474050) --------------------------------------------------------
int __cdecl sub_474050(_DWORD *a1)
{
  _DWORD *v1; // eax
  int v2; // ebp
  int v4; // ebx
  _BYTE *v5; // edi
  _BYTE *v6; // ecx
  unsigned int v7; // eax
  int v8; // edi
  int v9; // edi
  int v10; // ebx
  _DWORD *v11; // eax

  if ( !a1 )
    return -2;
  v1 = (_DWORD *)a1[7];
  if ( !v1 )
    return -2;
  if ( *v1 != 13 )
  {
    *v1 = 13;
    *(_DWORD *)(a1[7] + 4) = 0;
  }
  v2 = a1[1];
  if ( !v2 )
    return -5;
  v4 = a1[7];
  v5 = (_BYTE *)*a1;
  v6 = (_BYTE *)*a1;
  v7 = *(_DWORD *)(v4 + 4);
  do
  {
    if ( v7 >= 4 )
      break;
    if ( *v6 == byte_4962DC[v7] )
      ++v7;
    else
      v7 = *v6 ? 0 : 4 - v7;
    ++v6;
    --v2;
  }
  while ( v2 );
  *a1 = v6;
  v8 = v6 - v5 + a1[2];
  a1[1] = v2;
  a1[2] = v8;
  *(_DWORD *)(v4 + 4) = v7;
  if ( v7 != 4 )
    return -3;
  v9 = a1[2];
  v10 = a1[5];
  sub_4739C0(a1);
  v11 = (_DWORD *)a1[7];
  a1[2] = v9;
  a1[5] = v10;
  *v11 = 7;
  return 0;
}

//----- (00474150) --------------------------------------------------------
int (__cdecl *__cdecl sub_474150(_DWORD *a1, int a2, _DWORD *a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax
  int (__cdecl *result)(_DWORD, _DWORD, _DWORD); // eax

  if ( a3 )
    *a3 = a1[15];
  if ( *a1 == 4 || *a1 == 5 )
    (*(void (__cdecl **)(_DWORD, _DWORD))(a2 + 36))(*(_DWORD *)(a2 + 40), a1[3]);
  if ( *a1 == 6 )
    sub_475990(a1[1], a2);
  v3 = a1[10];
  *a1 = 0;
  a1[13] = v3;
  a1[12] = v3;
  result = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))a1[14];
  a1[7] = 0;
  a1[8] = 0;
  if ( result )
  {
    result = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    a1[15] = result;
    *(_DWORD *)(a2 + 48) = result;
  }
  return result;
}

//----- (004741D0) --------------------------------------------------------
int __cdecl sub_4741D0(int a1, int a2, int a3)
{
  int result; // eax
  _DWORD *v4; // esi
  int v5; // eax
  int v6; // eax

  result = (*(int (__cdecl **)(_DWORD, int, int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 64);
  v4 = (_DWORD *)result;
  if ( result )
  {
    v5 = (*(int (__cdecl **)(_DWORD, int, int))(a1 + 32))(*(_DWORD *)(a1 + 40), 8, 1440);
    v4[9] = v5;
    if ( v5 )
    {
      v6 = (*(int (__cdecl **)(_DWORD, int, int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, a3);
      v4[10] = v6;
      if ( v6 )
      {
        v4[11] = a3 + v6;
        v4[14] = a2;
        *v4 = 0;
        sub_474150(v4, a1, 0);
        return (int)v4;
      }
      else
      {
        (*(void (__cdecl **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), v4[9]);
        (*(void (__cdecl **)(_DWORD, _DWORD *))(a1 + 36))(*(_DWORD *)(a1 + 40), v4);
        return 0;
      }
    }
    else
    {
      (*(void (__cdecl **)(_DWORD, _DWORD *))(a1 + 36))(*(_DWORD *)(a1 + 40), v4);
      return 0;
    }
  }
  return result;
}

//----- (00474270) --------------------------------------------------------
int __cdecl sub_474270(_DWORD *a1, int a2, int a3)
{
  unsigned int v4; // ebp
  char *v5; // ecx
  unsigned int v6; // eax
  int v7; // eax
  unsigned int v8; // esi
  unsigned int v9; // eax
  unsigned __int8 *v10; // edi
  int v11; // edx
  unsigned int v12; // ebp
  int v13; // ecx
  int v14; // eax
  unsigned int v15; // esi
  unsigned int v16; // edi
  unsigned __int8 *v17; // eax
  int v18; // edx
  unsigned int v19; // edi
  unsigned int v20; // ecx
  char *v21; // ecx
  char *v22; // edx
  unsigned int v23; // eax
  unsigned int v24; // esi
  int v25; // eax
  char *v26; // edx
  unsigned int v27; // esi
  unsigned int v28; // eax
  unsigned int v29; // eax
  unsigned int v30; // eax
  unsigned int v31; // ecx
  unsigned int v32; // edi
  unsigned int v33; // esi
  unsigned __int8 *v34; // eax
  int v35; // edx
  unsigned int v36; // eax
  unsigned int v37; // ecx
  int v38; // esi
  int v39; // eax
  unsigned int v40; // edi
  unsigned __int8 *v41; // eax
  char v42; // cl
  int v43; // eax
  unsigned int v44; // edx
  unsigned int v45; // ecx
  unsigned int v46; // eax
  int v47; // edx
  int v48; // ecx
  int v49; // eax
  int v50; // edx
  unsigned int v51; // eax
  int v52; // eax
  unsigned int v53; // ecx
  int v54; // eax
  int v55; // eax
  int v56; // edx
  unsigned int v57; // edi
  int v58; // eax
  int v59; // ecx
  unsigned int v60; // eax
  int v61; // eax
  unsigned __int8 *v62; // edi
  int v63; // edx
  int v64; // eax
  char *v65; // ecx
  unsigned __int8 *v66; // edi
  unsigned int v67; // eax
  int v68; // eax
  int v69; // ebp
  int result; // eax
  int v71; // ebp
  int v72; // ebp
  unsigned __int8 *v73; // esi
  int v74; // ebp
  int v75; // ebp
  int v76; // ebp
  unsigned __int8 *v77; // edx
  unsigned __int8 *v78; // ebp
  int v79; // esi
  unsigned __int8 *v80; // esi
  int v81; // ebp
  unsigned __int8 *v82; // edi
  int v83; // edx
  unsigned __int8 *v84; // esi
  int v85; // ebp
  unsigned __int8 *v86; // edi
  int v87; // ecx
  int v88; // ecx
  unsigned __int8 *v89; // edx
  unsigned __int8 *v90; // edi
  int v91; // ecx
  unsigned __int8 *v92; // edi
  int v93; // edx
  unsigned __int8 *v94; // edi
  int v95; // ecx
  char *v96; // ecx
  unsigned __int8 *v97; // ebp
  unsigned __int8 *v98; // ebp
  unsigned __int8 *v99; // esi
  int v100; // ebp
  unsigned __int8 *v101; // esi
  int v102; // ebp
  int *v103; // [esp-1Ch] [ebp-5Ch]
  int *v104; // [esp-14h] [ebp-54h]
  int v105; // [esp-8h] [ebp-48h]
  int v106; // [esp-8h] [ebp-48h]
  unsigned __int8 *v107; // [esp+10h] [ebp-30h]
  unsigned int v108; // [esp+14h] [ebp-2Ch]
  unsigned int v109; // [esp+18h] [ebp-28h]
  int v110; // [esp+18h] [ebp-28h]
  int v111; // [esp+18h] [ebp-28h]
  int v112; // [esp+18h] [ebp-28h]
  int v113; // [esp+18h] [ebp-28h]
  unsigned int v114; // [esp+1Ch] [ebp-24h] BYREF
  unsigned int v115; // [esp+20h] [ebp-20h] BYREF
  int v116; // [esp+24h] [ebp-1Ch] BYREF
  int v117; // [esp+28h] [ebp-18h] BYREF
  int v118; // [esp+2Ch] [ebp-14h] BYREF
  int v119; // [esp+30h] [ebp-10h] BYREF
  unsigned int v120; // [esp+34h] [ebp-Ch]
  int v121; // [esp+38h] [ebp-8h] BYREF
  int v122; // [esp+3Ch] [ebp-4h] BYREF
  char *v123; // [esp+44h] [ebp+4h]
  int v124; // [esp+4Ch] [ebp+Ch]

  v4 = a1[7];
  v107 = *(unsigned __int8 **)a2;
  v5 = (char *)a1[13];
  v109 = a1[8];
  v6 = a1[12];
  v108 = *(_DWORD *)(a2 + 4);
  v123 = v5;
  if ( (unsigned int)v5 >= v6 )
    v7 = a1[11] - (_DWORD)v5;
  else
    v7 = v6 - (_DWORD)v5 - 1;
  v114 = v7;
  while ( 2 )
  {
    switch ( *a1 )
    {
      case 0:
        v8 = v109;
        if ( v4 >= 3 )
        {
          v10 = v107;
LABEL_12:
          a1[6] = v8 & 1;
          switch ( (unsigned __int8)(v8 & 7) >> 1 )
          {
            case 0:
              v12 = v4 - 3;
              *a1 = 1;
              v13 = v12 & 7;
              v4 = v12 - v13;
              v109 = v8 >> 3 >> v13;
              continue;
            case 1:
              sub_4760B0(&v119, &v118, &v117, &v116);
              v14 = sub_4751A0(v119, v118, v117, v116, a2);
              a1[1] = v14;
              if ( v14 )
              {
                v109 = v8 >> 3;
                v4 -= 3;
                *a1 = 6;
                continue;
              }
              a1[8] = v8;
              a1[7] = v4;
              v71 = *(_DWORD *)(a2 + 8);
              *(_DWORD *)(a2 + 4) = v108;
              *(_DWORD *)(a2 + 8) = &v10[v71 - *(_DWORD *)a2];
              *(_DWORD *)a2 = v10;
              a1[13] = v123;
              result = sub_4760E0(a1, (_DWORD *)a2, -4);
              break;
            case 2:
              v109 = v8 >> 3;
              v4 -= 3;
              *a1 = 3;
              continue;
            case 3:
              *a1 = 9;
              *(_DWORD *)(a2 + 24) = aInvalidBlockTy;
              a1[8] = v8 >> 3;
              a1[7] = v4 - 3;
              v72 = *(_DWORD *)(a2 + 8);
              *(_DWORD *)(a2 + 4) = v108;
              *(_DWORD *)(a2 + 8) = &v10[v72 - *(_DWORD *)a2];
              *(_DWORD *)a2 = v10;
              a1[13] = v123;
              return sub_4760E0(a1, (_DWORD *)a2, -3);
            default:
              continue;
          }
        }
        else
        {
          v9 = v108;
          v10 = v107;
          while ( v9 )
          {
            --v9;
            a3 = 0;
            v11 = *v10 << v4;
            v4 += 8;
            v108 = v9;
            v8 |= v11;
            ++v10;
            v109 = v8;
            v107 = v10;
            if ( v4 >= 3 )
              goto LABEL_12;
          }
          a1[8] = v8;
          a1[7] = v4;
          v69 = (int)&v10[*(_DWORD *)(a2 + 8) - *(_DWORD *)a2];
          *(_DWORD *)(a2 + 4) = 0;
          *(_DWORD *)(a2 + 8) = v69;
          *(_DWORD *)a2 = v10;
          a1[13] = v123;
          return sub_4760E0(a1, (_DWORD *)a2, a3);
        }
        return result;
      case 1:
        v15 = v109;
        v16 = v108;
        v17 = v107;
        if ( v4 >= 0x20 )
          goto LABEL_20;
        do
        {
          if ( !v16 )
          {
            a1[8] = v15;
            a1[7] = v4;
            v73 = *(unsigned __int8 **)a2;
            v74 = *(_DWORD *)(a2 + 8);
            *(_DWORD *)(a2 + 4) = 0;
            *(_DWORD *)a2 = v17;
            *(_DWORD *)(a2 + 8) = v17 - v73 + v74;
            a1[13] = v123;
            return sub_4760E0(a1, (_DWORD *)a2, a3);
          }
          a3 = 0;
          --v16;
          v18 = *v17 << v4;
          v4 += 8;
          v108 = v16;
          v15 |= v18;
          v107 = ++v17;
        }
        while ( v4 < 0x20 );
LABEL_20:
        if ( (unsigned __int16)v15 != ~v15 >> 16 )
        {
          *a1 = 9;
          *(_DWORD *)(a2 + 24) = aInvalidStoredB;
          a1[8] = v15;
          a1[7] = v4;
          v75 = (int)&v17[*(_DWORD *)(a2 + 8) - *(_DWORD *)a2];
          *(_DWORD *)a2 = v17;
          *(_DWORD *)(a2 + 4) = v16;
          *(_DWORD *)(a2 + 8) = v75;
          a1[13] = v123;
          return sub_4760E0(a1, (_DWORD *)a2, -3);
        }
        v4 = 0;
        a1[1] = (unsigned __int16)v15;
        v109 = 0;
        if ( (_WORD)v15 )
        {
          *a1 = 2;
          continue;
        }
LABEL_47:
        *a1 = a1[6] != 0 ? 7 : 0;
        continue;
      case 2:
        v19 = v108;
        if ( !v108 )
        {
          a1[8] = v109;
          a1[7] = v4;
          v76 = *(_DWORD *)(a2 + 8);
          v77 = &v107[-*(_DWORD *)a2];
          *(_DWORD *)a2 = v107;
          *(_DWORD *)(a2 + 4) = 0;
          *(_DWORD *)(a2 + 8) = &v77[v76];
          a1[13] = v123;
          return sub_4760E0(a1, (_DWORD *)a2, a3);
        }
        v20 = v114;
        if ( v114 )
          goto LABEL_42;
        v21 = (char *)a1[11];
        v22 = v123;
        if ( v123 == v21 )
        {
          v23 = a1[12];
          v24 = a1[10];
          if ( v23 != v24 )
          {
            v22 = (char *)a1[10];
            v123 = v22;
            v20 = v24 >= v23 ? (unsigned int)&v21[-v24] : v23 - v24 - 1;
            v114 = v20;
            if ( v20 )
              goto LABEL_42;
          }
        }
        a1[13] = v22;
        v25 = sub_4760E0(a1, (_DWORD *)a2, a3);
        v26 = (char *)a1[13];
        v27 = a1[12];
        v124 = v25;
        v123 = v26;
        if ( (unsigned int)v26 >= v27 )
          v20 = a1[11] - (_DWORD)v26;
        else
          v20 = v27 - (_DWORD)v26 - 1;
        v28 = a1[11];
        v114 = v20;
        v115 = v28;
        if ( v26 == (char *)v28 )
        {
          v29 = a1[10];
          if ( v27 != v29 )
          {
            v26 = (char *)a1[10];
            v123 = v26;
            if ( v29 >= v27 )
              v20 = v115 - v29;
            else
              v20 = v27 - v29 - 1;
            v114 = v20;
          }
        }
        if ( !v20 )
        {
          a1[8] = v109;
          a1[7] = v4;
          v78 = *(unsigned __int8 **)a2;
          v79 = *(_DWORD *)(a2 + 8);
          *(_DWORD *)(a2 + 4) = v108;
          *(_DWORD *)a2 = v107;
          *(_DWORD *)(a2 + 8) = v107 - v78 + v79;
          a1[13] = v26;
          return sub_4760E0(a1, (_DWORD *)a2, v124);
        }
        v19 = v108;
LABEL_42:
        v30 = a1[1];
        a3 = 0;
        if ( v30 > v19 )
          v30 = v19;
        if ( v30 > v20 )
          v30 = v20;
        qmemcpy(v123, v107, v30);
        v107 += v30;
        v31 = a1[1] - v30;
        v108 -= v30;
        v123 += v30;
        v114 -= v30;
        a1[1] = v31;
        if ( !v31 )
          goto LABEL_47;
        continue;
      case 3:
        v32 = v109;
        if ( v4 >= 0xE )
          goto LABEL_52;
        v33 = v108;
        v34 = v107;
        do
        {
          if ( !v33 )
          {
            a1[8] = v32;
            a1[7] = v4;
            v80 = *(unsigned __int8 **)a2;
            v81 = *(_DWORD *)(a2 + 8);
            *(_DWORD *)a2 = v107;
            *(_DWORD *)(a2 + 4) = 0;
            *(_DWORD *)(a2 + 8) = v107 - v80 + v81;
            a1[13] = v123;
            return sub_4760E0(a1, (_DWORD *)a2, a3);
          }
          --v33;
          a3 = 0;
          v35 = *v34 << v4;
          v4 += 8;
          v108 = v33;
          v32 |= v35;
          v107 = ++v34;
        }
        while ( v4 < 0xE );
LABEL_52:
        v36 = v32 & 0x3FFF;
        a1[1] = v36;
        v37 = v32 & 0x1F;
        if ( v37 > 0x1D || (v32 & 0x3E0) > 0x3A0 )
        {
          *a1 = 9;
          *(_DWORD *)(a2 + 24) = aTooManyLengthO;
          a1[8] = v32;
          a1[7] = v4;
          v84 = *(unsigned __int8 **)a2;
          v85 = *(_DWORD *)(a2 + 8);
          *(_DWORD *)(a2 + 4) = v108;
          *(_DWORD *)a2 = v107;
          *(_DWORD *)(a2 + 8) = v107 - v84 + v85;
          a1[13] = v123;
          return sub_4760E0(a1, (_DWORD *)a2, -3);
        }
        v38 = a2;
        v39 = (*(int (__cdecl **)(_DWORD, unsigned int, int))(a2 + 32))(
                *(_DWORD *)(a2 + 40),
                ((v36 >> 5) & 0x1F) + v37 + 258,
                4);
        a1[3] = v39;
        if ( !v39 )
        {
          a1[8] = v32;
          a1[7] = v4;
          v82 = *(unsigned __int8 **)a2;
          v83 = *(_DWORD *)(a2 + 8);
          *(_DWORD *)(a2 + 4) = v108;
          *(_DWORD *)a2 = v107;
          *(_DWORD *)(a2 + 8) = v107 - v82 + v83;
          a1[13] = v123;
          return sub_4760E0(a1, (_DWORD *)a2, -4);
        }
        v40 = v32 >> 14;
        v4 -= 14;
        a1[2] = 0;
        *a1 = 4;
LABEL_57:
        if ( a1[2] < (unsigned int)((a1[1] >> 10) + 4) )
        {
          while ( v4 >= 3 )
          {
LABEL_62:
            v43 = v40 & 7;
            v4 -= 3;
            v40 >>= 3;
            *(_DWORD *)(a1[3] + 4 * dword_4962E0[a1[2]]) = v43;
            v44 = a1[2] + 1;
            a1[2] = v44;
            if ( v44 >= (a1[1] >> 10) + 4 )
              goto LABEL_63;
          }
          v41 = v107;
          while ( v108 )
          {
            --v108;
            v42 = v4;
            v4 += 8;
            a3 = 0;
            v40 |= *v41++ << v42;
            v107 = v41;
            if ( v4 >= 3 )
              goto LABEL_62;
          }
          goto LABEL_110;
        }
LABEL_63:
        if ( a1[2] < 0x13u )
        {
          do
          {
            *(_DWORD *)(a1[3] + 4 * dword_4962E0[a1[2]]) = 0;
            v45 = a1[2] + 1;
            a1[2] = v45;
          }
          while ( v45 < 0x13 );
        }
        v105 = a1[9];
        v104 = (int *)a1[3];
        a1[4] = 7;
        v110 = sub_4759B0(v104, a1 + 4, a1 + 5, v105, v38);
        if ( v110 )
        {
          if ( v110 == -3 )
          {
            (*(void (__cdecl **)(_DWORD, _DWORD))(v38 + 36))(*(_DWORD *)(v38 + 40), a1[3]);
            *a1 = 9;
          }
          a1[8] = v40;
          a1[7] = v4;
          v86 = *(unsigned __int8 **)v38;
          *(_DWORD *)(v38 + 4) = v108;
          v87 = *(_DWORD *)(v38 + 8);
          *(_DWORD *)v38 = v107;
          *(_DWORD *)(v38 + 8) = v107 - v86 + v87;
          a1[13] = v123;
          return sub_4760E0(a1, (_DWORD *)v38, v110);
        }
        else
        {
          a1[2] = 0;
          *a1 = 5;
LABEL_68:
          if ( a1[2] < ((a1[1] >> 5) & 0x1F) + (a1[1] & 0x1Fu) + 258 )
          {
            while ( 1 )
            {
              v46 = a1[4];
              if ( v4 < v46 )
                break;
LABEL_72:
              v48 = a1[5];
              v49 = v40 & dword_4BD350[v46];
              v50 = *(unsigned __int8 *)(v48 + 8 * v49 + 1);
              v111 = v50;
              v51 = *(_DWORD *)(v48 + 8 * v49 + 4);
              v120 = v51;
              if ( v51 >= 0x10 )
              {
                v53 = 7;
                if ( v51 != 18 )
                  v53 = v51 - 14;
                v114 = v53;
                v54 = -(v51 != 18);
                LOBYTE(v54) = v54 & 0xF8;
                v115 = v50 + v53;
                v55 = v54 + 11;
                if ( v4 < v50 + v53 )
                {
                  while ( v108 )
                  {
                    a3 = 0;
                    --v108;
                    v56 = *v107 << v4;
                    v4 += 8;
                    v40 |= v56;
                    ++v107;
                    if ( v4 >= v115 )
                    {
                      v50 = v111;
                      goto LABEL_80;
                    }
                  }
                  goto LABEL_110;
                }
LABEL_80:
                v57 = v40 >> v50;
                v58 = (v57 & dword_4BD350[v114]) + v55;
                v40 = v57 >> v114;
                v112 = v58;
                v4 -= v50 + v114;
                v114 = a1[2];
                if ( v114 + v58 > ((a1[1] >> 5) & 0x1F) + (a1[1] & 0x1Fu) + 258 )
                  goto LABEL_111;
                if ( v120 == 16 )
                {
                  v52 = v114;
                  if ( !v114 )
                  {
LABEL_111:
                    (*(void (__cdecl **)(_DWORD, _DWORD))(v38 + 36))(*(_DWORD *)(v38 + 40), a1[3]);
                    *a1 = 9;
                    *(_DWORD *)(v38 + 24) = aInvalidBitLeng;
                    a1[8] = v40;
                    a1[7] = v4;
                    v90 = *(unsigned __int8 **)v38;
                    *(_DWORD *)(v38 + 4) = v108;
                    v91 = *(_DWORD *)(v38 + 8);
                    *(_DWORD *)v38 = v107;
                    *(_DWORD *)(v38 + 8) = v107 - v90 + v91;
                    a1[13] = v123;
                    return sub_4760E0(a1, (_DWORD *)v38, -3);
                  }
                  v59 = *(_DWORD *)(a1[3] + 4 * v114 - 4);
                }
                else
                {
                  v52 = v114;
                  v59 = 0;
                }
                do
                {
                  ++v52;
                  *(_DWORD *)(a1[3] + 4 * v52 - 4) = v59;
                  --v112;
                }
                while ( v112 );
              }
              else
              {
                v4 -= v50;
                v40 >>= v50;
                *(_DWORD *)(a1[3] + 4 * a1[2]) = v51;
                v52 = a1[2] + 1;
              }
              a1[2] = v52;
              if ( a1[2] >= ((a1[1] >> 5) & 0x1F) + (a1[1] & 0x1Fu) + 258 )
                goto LABEL_87;
            }
            while ( v108 )
            {
              a3 = 0;
              --v108;
              v47 = *v107 << v4;
              v4 += 8;
              v40 |= v47;
              ++v107;
              if ( v4 >= v46 )
                goto LABEL_72;
            }
LABEL_110:
            a1[8] = v40;
            a1[7] = v4;
            v88 = *(_DWORD *)(v38 + 8);
            v89 = &v107[-*(_DWORD *)v38];
            *(_DWORD *)v38 = v107;
            *(_DWORD *)(v38 + 8) = &v89[v88];
            *(_DWORD *)(v38 + 4) = 0;
            a1[13] = v123;
            return sub_4760E0(a1, (_DWORD *)v38, a3);
          }
LABEL_87:
          v60 = a1[1];
          v106 = a1[9];
          v103 = (int *)a1[3];
          a1[5] = 0;
          v115 = 9;
          v114 = 6;
          v113 = sub_475F20((v60 & 0x1F) + 257, ((v60 >> 5) & 0x1F) + 1, v103, &v115, &v114, &v122, &v121, v106, v38);
          if ( v113 )
          {
            if ( v113 == -3 )
            {
              (*(void (__cdecl **)(_DWORD, _DWORD))(v38 + 36))(*(_DWORD *)(v38 + 40), a1[3]);
              *a1 = 9;
            }
            a1[8] = v40;
            a1[7] = v4;
            v92 = *(unsigned __int8 **)v38;
            v93 = *(_DWORD *)(v38 + 8);
            *(_DWORD *)(v38 + 4) = v108;
            *(_DWORD *)v38 = v107;
            *(_DWORD *)(v38 + 8) = v107 - v92 + v93;
            a1[13] = v123;
            return sub_4760E0(a1, (_DWORD *)v38, v113);
          }
          else
          {
            v61 = sub_4751A0(v115, v114, v122, v121, v38);
            if ( !v61 )
            {
              a1[8] = v40;
              a1[7] = v4;
              v94 = *(unsigned __int8 **)v38;
              *(_DWORD *)(v38 + 4) = v108;
              v95 = *(_DWORD *)(v38 + 8);
              *(_DWORD *)v38 = v107;
              *(_DWORD *)(v38 + 8) = v107 - v94 + v95;
              a1[13] = v123;
              return sub_4760E0(a1, (_DWORD *)v38, -4);
            }
            a1[1] = v61;
            (*(void (__cdecl **)(_DWORD, _DWORD))(v38 + 36))(*(_DWORD *)(v38 + 40), a1[3]);
            *a1 = 6;
LABEL_91:
            a1[8] = v40;
            a1[7] = v4;
            v62 = *(unsigned __int8 **)v38;
            *(_DWORD *)(v38 + 4) = v108;
            v63 = *(_DWORD *)(v38 + 8);
            *(_DWORD *)v38 = v107;
            *(_DWORD *)(v38 + 8) = v107 - v62 + v63;
            a1[13] = v123;
            v64 = sub_4751E0(a1, v38, a3);
            if ( v64 != 1 )
              return sub_4760E0(a1, (_DWORD *)v38, v64);
            a3 = 0;
            sub_475990(a1[1], v38);
            v65 = (char *)a1[13];
            v66 = *(unsigned __int8 **)v38;
            v4 = a1[7];
            v109 = a1[8];
            v67 = a1[12];
            v107 = *(unsigned __int8 **)v38;
            v108 = *(_DWORD *)(v38 + 4);
            v123 = v65;
            if ( (unsigned int)v65 >= v67 )
              v68 = a1[11] - (_DWORD)v65;
            else
              v68 = v67 - (_DWORD)v65 - 1;
            v114 = v68;
            if ( !a1[6] )
            {
              *a1 = 0;
              continue;
            }
            *a1 = 7;
LABEL_118:
            a1[13] = v65;
            v64 = sub_4760E0(a1, (_DWORD *)v38, a3);
            v96 = (char *)a1[13];
            if ( (char *)a1[12] != v96 )
            {
              a1[7] = v4;
              a1[8] = v109;
              v97 = *(unsigned __int8 **)v38;
              *(_DWORD *)(v38 + 4) = v108;
              *(_DWORD *)v38 = v66;
              *(_DWORD *)(v38 + 8) += v66 - v97;
              a1[13] = v96;
              return sub_4760E0(a1, (_DWORD *)v38, v64);
            }
            *a1 = 8;
LABEL_123:
            a1[8] = v109;
            a1[7] = v4;
            v98 = *(unsigned __int8 **)v38;
            *(_DWORD *)(v38 + 4) = v108;
            *(_DWORD *)(v38 + 8) += v66 - v98;
            *(_DWORD *)v38 = v66;
            a1[13] = v96;
            return sub_4760E0(a1, (_DWORD *)v38, 1);
          }
        }
      case 4:
        v40 = v109;
        v38 = a2;
        goto LABEL_57;
      case 5:
        v40 = v109;
        v38 = a2;
        goto LABEL_68;
      case 6:
        v40 = v109;
        v38 = a2;
        goto LABEL_91;
      case 7:
        v65 = v123;
        v66 = v107;
        v38 = a2;
        goto LABEL_118;
      case 8:
        v96 = v123;
        v66 = v107;
        v38 = a2;
        goto LABEL_123;
      case 9:
        a1[8] = v109;
        a1[7] = v4;
        v99 = *(unsigned __int8 **)a2;
        v100 = *(_DWORD *)(a2 + 8);
        *(_DWORD *)(a2 + 4) = v108;
        *(_DWORD *)a2 = v107;
        *(_DWORD *)(a2 + 8) = v107 - v99 + v100;
        a1[13] = v123;
        return sub_4760E0(a1, (_DWORD *)a2, -3);
      default:
        a1[8] = v109;
        a1[7] = v4;
        v101 = *(unsigned __int8 **)a2;
        v102 = *(_DWORD *)(a2 + 8);
        *(_DWORD *)(a2 + 4) = v108;
        *(_DWORD *)a2 = v107;
        *(_DWORD *)(a2 + 8) = v107 - v101 + v102;
        a1[13] = v123;
        return sub_4760E0(a1, (_DWORD *)a2, -2);
    }
  }
}
// 4962E0:  int dword_4962E0[31]
// 4BD350:  int dword_4BD350[17]

//----- (00474F80) --------------------------------------------------------
int __cdecl sub_474F80(_DWORD *a1, int a2)
{
  sub_474150(a1, a2, 0);
  (*(void (__cdecl **)(_DWORD, _DWORD))(a2 + 36))(*(_DWORD *)(a2 + 40), a1[10]);
  (*(void (__cdecl **)(_DWORD, _DWORD))(a2 + 36))(*(_DWORD *)(a2 + 40), a1[9]);
  (*(void (__cdecl **)(_DWORD, _DWORD *))(a2 + 36))(*(_DWORD *)(a2 + 40), a1);
  return 0;
}

//----- (00474FC0) --------------------------------------------------------
int __cdecl sub_474FC0(int a1, const void *a2, unsigned int a3)
{
  int result; // eax
  unsigned int v4; // ecx

  result = a1;
  qmemcpy(*(void **)(a1 + 40), a2, a3);
  v4 = a3 + *(_DWORD *)(a1 + 40);
  *(_DWORD *)(a1 + 52) = v4;
  *(_DWORD *)(a1 + 48) = v4;
  return result;
}

//----- (00475000) --------------------------------------------------------
BOOL __cdecl sub_475000(_DWORD *a1)
{
  return *a1 == 1;
}

//----- (00475010) --------------------------------------------------------
int __cdecl sub_475010(unsigned int a1, unsigned __int8 *a2, unsigned int a3)
{
  unsigned __int8 *v3; // esi
  unsigned int v4; // ecx
  unsigned int v5; // edi
  unsigned int i; // ebx
  int v8; // eax
  unsigned int v9; // ebp
  int v10; // edx
  int v11; // ecx
  int v12; // edi
  int v13; // ecx
  int v14; // edi
  int v15; // ecx
  int v16; // edi
  int v17; // ecx
  int v18; // edi
  int v19; // ecx
  int v20; // edi
  int v21; // ecx
  int v22; // edi
  int v23; // ecx
  int v24; // edi
  int v25; // ecx
  int v26; // edi
  int v27; // ecx
  int v28; // edi
  int v29; // ecx
  int v30; // edi
  int v31; // ecx
  int v32; // edi
  int v33; // ecx
  int v34; // edi
  int v35; // ecx
  int v36; // edi
  int v37; // ecx
  int v38; // edi
  int v39; // ecx
  int v40; // edi

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = HIWORD(a1);
  if ( !a2 )
    return 1;
  for ( i = a3; i; v5 %= 0xFFF1u )
  {
    v8 = i;
    if ( i >= 0x15B0 )
      v8 = 5552;
    i -= v8;
    if ( v8 >= 16 )
    {
      v9 = (unsigned int)v8 >> 4;
      v8 += -16 * ((unsigned int)v8 >> 4);
      do
      {
        v10 = *v3;
        v3 += 16;
        v11 = v10 + v4;
        v12 = v11 + v5;
        v13 = *(v3 - 15) + v11;
        v14 = v13 + v12;
        v15 = *(v3 - 14) + v13;
        v16 = v15 + v14;
        v17 = *(v3 - 13) + v15;
        v18 = v17 + v16;
        v19 = *(v3 - 12) + v17;
        v20 = v19 + v18;
        v21 = *(v3 - 11) + v19;
        v22 = v21 + v20;
        v23 = *(v3 - 10) + v21;
        v24 = v23 + v22;
        v25 = *(v3 - 9) + v23;
        v26 = v25 + v24;
        v27 = *(v3 - 8) + v25;
        v28 = v27 + v26;
        v29 = *(v3 - 7) + v27;
        v30 = v29 + v28;
        v31 = *(v3 - 6) + v29;
        v32 = v31 + v30;
        v33 = *(v3 - 5) + v31;
        v34 = v33 + v32;
        v35 = *(v3 - 4) + v33;
        v36 = v35 + v34;
        v37 = *(v3 - 3) + v35;
        v38 = v37 + v36;
        v39 = *(v3 - 2) + v37;
        v40 = v39 + v38;
        v4 = *(v3 - 1) + v39;
        v5 = v4 + v40;
        --v9;
      }
      while ( v9 );
    }
    for ( ; v8; --v8 )
    {
      v4 += *v3++;
      v5 += v4;
    }
    v4 %= 0xFFF1u;
  }
  return v4 | (v5 << 16);
}

//----- (00475140) --------------------------------------------------------
char *sub_475140()
{
  return a114_0;
}

//----- (00475170) --------------------------------------------------------
void *__cdecl sub_475170(int a1, size_t Count, size_t Size)
{
  return calloc(Count, Size);
}

//----- (00475190) --------------------------------------------------------
void __cdecl sub_475190(int a1, void *Block)
{
  free(Block);
}

//----- (004751A0) --------------------------------------------------------
int __cdecl sub_4751A0(char a1, char a2, int a3, int a4, int a5)
{
  int result; // eax

  result = (*(int (__cdecl **)(_DWORD, int, int))(a5 + 32))(*(_DWORD *)(a5 + 40), 1, 28);
  if ( result )
  {
    *(_BYTE *)(result + 16) = a1;
    *(_BYTE *)(result + 17) = a2;
    *(_DWORD *)result = 0;
    *(_DWORD *)(result + 20) = a3;
    *(_DWORD *)(result + 24) = a4;
  }
  return result;
}

//----- (004751E0) --------------------------------------------------------
int __cdecl sub_4751E0(_DWORD *a1, int a2, int a3)
{
  _DWORD *v5; // eax
  unsigned __int8 *v6; // ebp
  unsigned int v7; // ebx
  unsigned int v8; // ecx
  _BYTE *v9; // edx
  int v10; // ecx
  unsigned __int8 *v11; // ebx
  int v12; // ecx
  int v13; // eax
  unsigned int v14; // ecx
  int v15; // ecx
  int v16; // ecx
  unsigned int v17; // eax
  char v18; // cl
  int v19; // ecx
  int v20; // ecx
  int v21; // ecx
  int v22; // ecx
  unsigned int v23; // eax
  char v24; // cl
  int v25; // ecx
  int v26; // ecx
  unsigned int v27; // eax
  char v28; // cl
  int v29; // ecx
  int v30; // ecx
  int v31; // ecx
  unsigned int v32; // eax
  char v33; // cl
  int v34; // ecx
  _BYTE *v35; // ecx
  unsigned int v36; // eax
  unsigned int v37; // ecx
  _BYTE *v38; // eax
  unsigned int v39; // eax
  unsigned int v40; // ecx
  int v41; // eax
  int v42; // eax
  unsigned int v43; // eax
  int v44; // ecx
  unsigned int v45; // ecx
  int v46; // eax
  int v47; // ecx
  unsigned int v48; // eax
  unsigned int v49; // ecx
  int v50; // eax
  int v51; // eax
  unsigned int v52; // eax
  int v53; // ecx
  unsigned int v54; // ecx
  int v55; // eax
  int v56; // eax
  unsigned __int8 *v57; // ecx
  unsigned __int8 *v59; // ebx
  unsigned __int8 *v60; // ebx
  int v61; // ecx
  int v62; // eax
  unsigned __int8 *v63; // ebx
  unsigned __int8 *v64; // ebx
  unsigned __int8 *v65; // ebx
  _DWORD *v66; // [esp+10h] [ebp-10h]
  unsigned int v67; // [esp+14h] [ebp-Ch]
  unsigned int v68; // [esp+18h] [ebp-8h]
  unsigned __int8 *v69; // [esp+18h] [ebp-8h]
  unsigned int v70; // [esp+18h] [ebp-8h]
  unsigned int v71; // [esp+18h] [ebp-8h]
  unsigned int v72; // [esp+18h] [ebp-8h]
  _BYTE *v73; // [esp+18h] [ebp-8h]
  unsigned int i; // [esp+1Ch] [ebp-4h]
  unsigned int v75; // [esp+24h] [ebp+4h]
  unsigned int v76; // [esp+28h] [ebp+8h]
  int v77; // [esp+2Ch] [ebp+Ch]

  v5 = (_DWORD *)a1[1];
  v6 = *(unsigned __int8 **)a2;
  v7 = a1[7];
  v76 = *(_DWORD *)(a2 + 4);
  v8 = a1[12];
  v75 = a1[8];
  v9 = (_BYTE *)a1[13];
  v66 = v5;
  if ( (unsigned int)v9 >= v8 )
    v10 = a1[11] - (_DWORD)v9;
  else
    v10 = v8 - (_DWORD)v9 - 1;
  v67 = v10;
  while ( 2 )
  {
    switch ( *v5 )
    {
      case 0:
        if ( v67 >= 0x102 && v76 >= 0xA )
        {
          a1[8] = v75;
          a1[7] = v7;
          v11 = *(unsigned __int8 **)a2;
          *(_DWORD *)(a2 + 4) = v76;
          v12 = *(_DWORD *)(a2 + 8);
          *(_DWORD *)a2 = v6;
          *(_DWORD *)(a2 + 8) = v6 - v11 + v12;
          a1[13] = v9;
          v13 = sub_476220(
                  *((unsigned __int8 *)v66 + 16),
                  *((unsigned __int8 *)v66 + 17),
                  v66[5],
                  v66[6],
                  a1,
                  (unsigned __int8 **)a2);
          v6 = *(unsigned __int8 **)a2;
          v7 = a1[7];
          v76 = *(_DWORD *)(a2 + 4);
          v14 = a1[12];
          v75 = a1[8];
          v9 = (_BYTE *)a1[13];
          a3 = v13;
          v15 = (unsigned int)v9 >= v14 ? a1[11] - (_DWORD)v9 : v14 - (_DWORD)v9 - 1;
          v67 = v15;
          if ( v13 )
          {
            *v66 = v13 != 1 ? 9 : 7;
            v5 = v66;
            continue;
          }
        }
        v5 = v66;
        v16 = *((unsigned __int8 *)v66 + 16);
        *v66 = 1;
        v66[3] = v16;
        v66[2] = v66[5];
        goto LABEL_14;
      case 1:
LABEL_14:
        v17 = v5[3];
        v68 = v17;
        if ( v7 >= v17 )
          goto LABEL_17;
        do
        {
          if ( !v76 )
            goto LABEL_88;
          v18 = v7;
          --v76;
          v7 += 8;
          a3 = 0;
          v19 = (*v6 << v18) | v75;
          v17 = v68;
          ++v6;
          v75 = v19;
        }
        while ( v7 < v68 );
LABEL_17:
        v69 = (unsigned __int8 *)(v66[2] + 8 * (v75 & dword_4BD350[v17]));
        v20 = v69[1];
        v75 >>= v20;
        v7 -= v20;
        v21 = *v69;
        if ( *v69 )
        {
          if ( (v21 & 0x10) != 0 )
          {
            v5 = v66;
            v66[2] = v21 & 0xF;
            v22 = *((_DWORD *)v69 + 1);
            *v66 = 2;
            v66[1] = v22;
          }
          else
          {
            if ( (v21 & 0x40) == 0 )
              goto LABEL_22;
            v5 = v66;
            if ( (v21 & 0x20) == 0 )
            {
              *v66 = 9;
              *(_DWORD *)(a2 + 24) = aInvalidLiteral;
LABEL_90:
              a1[8] = v75;
              a1[7] = v7;
              v59 = *(unsigned __int8 **)a2;
              *(_DWORD *)(a2 + 4) = v76;
              *(_DWORD *)(a2 + 8) += v6 - v59;
              *(_DWORD *)a2 = v6;
              a1[13] = v9;
              return sub_4760E0(a1, (_DWORD *)a2, -3);
            }
            *v66 = 7;
          }
        }
        else
        {
          v5 = v66;
          v66[2] = *((_DWORD *)v69 + 1);
          *v66 = 6;
        }
        continue;
      case 2:
        v23 = v5[2];
        v70 = v23;
        if ( v7 >= v23 )
          goto LABEL_28;
        do
        {
          if ( !v76 )
            goto LABEL_88;
          v24 = v7;
          --v76;
          v7 += 8;
          a3 = 0;
          v25 = (*v6 << v24) | v75;
          v23 = v70;
          ++v6;
          v75 = v25;
        }
        while ( v7 < v70 );
LABEL_28:
        v66[1] += v75 & dword_4BD350[v23];
        v75 >>= v70;
        v7 -= v70;
        v5 = v66;
        v26 = *((unsigned __int8 *)v66 + 17);
        *v66 = 3;
        v66[3] = v26;
        v66[2] = v66[6];
LABEL_29:
        v27 = v5[3];
        v71 = v27;
        if ( v7 < v27 )
        {
          while ( v76 )
          {
            v28 = v7;
            --v76;
            v7 += 8;
            a3 = 0;
            v29 = (*v6 << v28) | v75;
            v27 = v71;
            ++v6;
            v75 = v29;
            if ( v7 >= v71 )
              goto LABEL_32;
          }
LABEL_88:
          a1[7] = v7;
          a1[8] = v75;
          v56 = *(_DWORD *)(a2 + 8);
          v57 = &v6[-*(_DWORD *)a2];
          *(_DWORD *)(a2 + 4) = 0;
          *(_DWORD *)a2 = v6;
          *(_DWORD *)(a2 + 8) = &v57[v56];
          a1[13] = v9;
          return sub_4760E0(a1, (_DWORD *)a2, a3);
        }
LABEL_32:
        v69 = (unsigned __int8 *)(v66[2] + 8 * (v75 & dword_4BD350[v27]));
        v30 = v69[1];
        v7 -= v30;
        v75 >>= v30;
        v21 = *v69;
        if ( (v21 & 0x10) != 0 )
        {
          v5 = v66;
          v66[2] = v21 & 0xF;
          v31 = *((_DWORD *)v69 + 1);
          *v66 = 4;
          v66[3] = v31;
        }
        else
        {
          if ( (v21 & 0x40) != 0 )
          {
            *v66 = 9;
            *(_DWORD *)(a2 + 24) = aInvalidDistanc;
            goto LABEL_90;
          }
LABEL_22:
          v66[3] = v21;
          v5 = v66;
          v66[2] = &v69[8 * *((_DWORD *)v69 + 1)];
        }
        continue;
      case 3:
        goto LABEL_29;
      case 4:
        v32 = v5[2];
        v72 = v32;
        if ( v7 >= v32 )
          goto LABEL_39;
        do
        {
          if ( !v76 )
            goto LABEL_88;
          v33 = v7;
          --v76;
          v7 += 8;
          a3 = 0;
          v34 = (*v6 << v33) | v75;
          v32 = v72;
          ++v6;
          v75 = v34;
        }
        while ( v7 < v72 );
LABEL_39:
        v66[3] += v75 & dword_4BD350[v32];
        v75 >>= v72;
        v7 -= v72;
        v5 = v66;
        *v66 = 5;
LABEL_40:
        v35 = &v9[-v5[3]];
        v36 = a1[10];
        v73 = v35;
        if ( (unsigned int)v35 < v36 )
        {
          v37 = a1[11] - v36;
          v38 = v73;
          for ( i = v37; ; v37 = i )
          {
            v38 += v37;
            if ( (unsigned int)v38 >= a1[10] )
              break;
          }
          v73 = v38;
        }
        v5 = v66;
        if ( !v66[1] )
        {
LABEL_67:
          *v5 = 0;
          continue;
        }
        while ( v67 )
        {
LABEL_64:
          ++v9;
          a3 = 0;
          *(v9 - 1) = *v73++;
          --v67;
          if ( v73 == (_BYTE *)a1[11] )
            v73 = (_BYTE *)a1[10];
          v47 = v5[1] - 1;
          v5[1] = v47;
          if ( !v47 )
            goto LABEL_67;
        }
        if ( v9 == (_BYTE *)a1[11] )
        {
          v39 = a1[12];
          v40 = a1[10];
          if ( v39 != v40 )
          {
            v9 = (_BYTE *)a1[10];
            v41 = v40 >= v39 ? a1[11] - v40 : v39 - v40 - 1;
            v67 = v41;
            if ( v41 )
              goto LABEL_63;
          }
        }
        a1[13] = v9;
        v42 = sub_4760E0(a1, (_DWORD *)a2, a3);
        v9 = (_BYTE *)a1[13];
        v77 = v42;
        v43 = a1[12];
        if ( (unsigned int)v9 >= v43 )
          v44 = a1[11] - (_DWORD)v9;
        else
          v44 = v43 - (_DWORD)v9 - 1;
        v67 = v44;
        if ( v9 == (_BYTE *)a1[11] )
        {
          v45 = a1[10];
          if ( v43 != v45 )
          {
            v9 = (_BYTE *)a1[10];
            if ( v45 >= v43 )
              v46 = a1[11] - v45;
            else
              v46 = v43 - v45 - 1;
            v67 = v46;
          }
        }
        if ( v67 )
        {
LABEL_63:
          v5 = v66;
          goto LABEL_64;
        }
LABEL_91:
        a1[8] = v75;
        a1[7] = v7;
        v60 = *(unsigned __int8 **)a2;
        *(_DWORD *)(a2 + 4) = v76;
        v61 = *(_DWORD *)(a2 + 8);
        *(_DWORD *)a2 = v6;
        *(_DWORD *)(a2 + 8) = v6 - v60 + v61;
        a1[13] = v9;
        return sub_4760E0(a1, (_DWORD *)a2, v77);
      case 5:
        goto LABEL_40;
      case 6:
        if ( v67 )
          goto LABEL_86;
        if ( v9 != (_BYTE *)a1[11]
          || (v48 = a1[12], v49 = a1[10], v48 == v49)
          || ((v9 = (_BYTE *)a1[10], v49 >= v48) ? (v50 = a1[11] - v49) : (v50 = v48 - v49 - 1), (v67 = v50) == 0) )
        {
          a1[13] = v9;
          v51 = sub_4760E0(a1, (_DWORD *)a2, a3);
          v9 = (_BYTE *)a1[13];
          v77 = v51;
          v52 = a1[12];
          if ( (unsigned int)v9 >= v52 )
            v53 = a1[11] - (_DWORD)v9;
          else
            v53 = v52 - (_DWORD)v9 - 1;
          v67 = v53;
          if ( v9 == (_BYTE *)a1[11] )
          {
            v54 = a1[10];
            if ( v52 != v54 )
            {
              v9 = (_BYTE *)a1[10];
              if ( v54 >= v52 )
                v55 = a1[11] - v54;
              else
                v55 = v52 - v54 - 1;
              v67 = v55;
            }
          }
          if ( !v67 )
            goto LABEL_91;
        }
        v5 = v66;
LABEL_86:
        a3 = 0;
        *v9++ = *((_BYTE *)v5 + 8);
        --v67;
        *v5 = 0;
        continue;
      case 7:
        if ( v7 > 7 )
        {
          v7 -= 8;
          --v6;
          ++v76;
        }
        a1[13] = v9;
        v62 = sub_4760E0(a1, (_DWORD *)a2, a3);
        v9 = (_BYTE *)a1[13];
        if ( (_BYTE *)a1[12] == v9 )
        {
          *v66 = 8;
LABEL_97:
          a1[8] = v75;
          a1[7] = v7;
          v64 = *(unsigned __int8 **)a2;
          *(_DWORD *)(a2 + 4) = v76;
          *(_DWORD *)(a2 + 8) += v6 - v64;
          *(_DWORD *)a2 = v6;
          a1[13] = v9;
          return sub_4760E0(a1, (_DWORD *)a2, 1);
        }
        else
        {
          a1[7] = v7;
          a1[8] = v75;
          v63 = *(unsigned __int8 **)a2;
          *(_DWORD *)(a2 + 4) = v76;
          *(_DWORD *)(a2 + 8) += v6 - v63;
          *(_DWORD *)a2 = v6;
          a1[13] = v9;
          return sub_4760E0(a1, (_DWORD *)a2, v62);
        }
      case 8:
        goto LABEL_97;
      case 9:
        goto LABEL_90;
      default:
        a1[8] = v75;
        a1[7] = v7;
        v65 = *(unsigned __int8 **)a2;
        *(_DWORD *)(a2 + 4) = v76;
        *(_DWORD *)(a2 + 8) += v6 - v65;
        *(_DWORD *)a2 = v6;
        a1[13] = v9;
        return sub_4760E0(a1, (_DWORD *)a2, -2);
    }
  }
}
// 4BD350:  int dword_4BD350[17]

//----- (00475990) --------------------------------------------------------
int __cdecl sub_475990(int a1, int a2)
{
  return (*(int (__cdecl **)(_DWORD, int))(a2 + 36))(*(_DWORD *)(a2 + 40), a1);
}

//----- (004759B0) --------------------------------------------------------
int __cdecl sub_4759B0(int *a1, unsigned int *a2, int *a3, int a4, int a5)
{
  unsigned int *v5; // ebx
  int v7; // eax
  int v8; // esi
  int v9; // [esp-10h] [ebp-1Ch]
  unsigned int v10; // [esp+8h] [ebp-4h] BYREF

  v10 = 0;
  v5 = (unsigned int *)(*(int (__cdecl **)(_DWORD, int, int))(a5 + 32))(*(_DWORD *)(a5 + 40), 19, 4);
  if ( !v5 )
    return -4;
  v7 = sub_475A60(a1, 0x13u, 0x13u, 0, 0, a3, a2, a4, &v10, v5);
  v8 = v7;
  if ( v7 == -3 )
  {
    v9 = *(_DWORD *)(a5 + 40);
    *(_DWORD *)(a5 + 24) = aOversubscribed;
    (*(void (__cdecl **)(int, unsigned int *))(a5 + 36))(v9, v5);
    return -3;
  }
  else
  {
    if ( v7 == -5 || !*a2 )
    {
      *(_DWORD *)(a5 + 24) = aIncompleteDyna;
      v8 = -3;
    }
    (*(void (__cdecl **)(_DWORD, unsigned int *))(a5 + 36))(*(_DWORD *)(a5 + 40), v5);
    return v8;
  }
}

//----- (00475A60) --------------------------------------------------------
int __cdecl sub_475A60(
        int *a1,
        unsigned int a2,
        unsigned int a3,
        int a4,
        int a5,
        int *a6,
        unsigned int *a7,
        int a8,
        unsigned int *a9,
        unsigned int *a10)
{
  int *v10; // ecx
  unsigned int v11; // edi
  unsigned int v12; // edx
  int v13; // eax
  unsigned int v15; // ecx
  int *v16; // eax
  unsigned int v17; // ebp
  signed int v18; // eax
  unsigned int v19; // edx
  int *v20; // esi
  int v21; // esi
  int *v22; // ebx
  int v23; // esi
  int v24; // ebx
  int v25; // esi
  int v26; // ecx
  unsigned int v27; // edx
  int v28; // ebx
  int *v29; // edx
  unsigned int v30; // ebx
  int v31; // ecx
  int v32; // edx
  int v33; // ebx
  unsigned int v34; // esi
  int v35; // edx
  unsigned int v36; // ecx
  unsigned int v37; // edx
  unsigned int v38; // ecx
  unsigned int v39; // eax
  int *v40; // ebp
  unsigned int v41; // eax
  unsigned int v42; // edi
  unsigned int v43; // eax
  unsigned int v44; // eax
  unsigned int v45; // edx
  int v46; // eax
  unsigned int v47; // eax
  int v48; // ecx
  char v49; // dl
  int v50; // esi
  int v51; // edx
  unsigned int v52; // eax
  _DWORD *v53; // ecx
  unsigned int i; // eax
  int v55; // edx
  int *v56; // eax
  int v57; // edx
  unsigned int v58; // [esp+10h] [ebp-100h]
  signed int v59; // [esp+14h] [ebp-FCh]
  int v60; // [esp+18h] [ebp-F8h]
  int *v61; // [esp+1Ch] [ebp-F4h]
  unsigned int *v62; // [esp+1Ch] [ebp-F4h]
  unsigned int v63; // [esp+20h] [ebp-F0h]
  char v64; // [esp+20h] [ebp-F0h]
  int v65; // [esp+24h] [ebp-ECh]
  int *v66; // [esp+28h] [ebp-E8h]
  signed int v67; // [esp+2Ch] [ebp-E4h]
  int v68; // [esp+30h] [ebp-E0h]
  unsigned int v69; // [esp+34h] [ebp-DCh]
  unsigned int v70; // [esp+38h] [ebp-D8h]
  unsigned int v71; // [esp+3Ch] [ebp-D4h]
  int v72; // [esp+40h] [ebp-D0h]
  int v73; // [esp+44h] [ebp-CCh]
  signed int v74; // [esp+48h] [ebp-C8h]
  int *v75; // [esp+4Ch] [ebp-C4h]
  unsigned int v76; // [esp+50h] [ebp-C0h]
  int v77; // [esp+54h] [ebp-BCh] BYREF
  int v78[14]; // [esp+58h] [ebp-B8h] BYREF
  int v79; // [esp+90h] [ebp-80h] BYREF
  int v80; // [esp+94h] [ebp-7Ch] BYREF
  int v81[15]; // [esp+98h] [ebp-78h]
  int v82[15]; // [esp+D4h] [ebp-3Ch] BYREF
  int v83; // [esp+118h] [ebp+8h]

  v10 = a1;
  v11 = 0;
  v12 = a2;
  v77 = 0;
  memset(v78, 0, sizeof(v78));
  v79 = 0;
  do
  {
    v13 = *v10++;
    --v12;
    ++v78[v13 - 1];
  }
  while ( v12 );
  if ( v77 == a2 )
  {
    *a6 = 0;
    *a7 = 0;
    return 0;
  }
  v15 = 1;
  v16 = v78;
  v17 = *a7;
  v58 = *a7;
  do
  {
    if ( *v16 )
      break;
    ++v15;
    ++v16;
  }
  while ( v15 <= 0xF );
  v18 = v15;
  v59 = v15;
  if ( v17 < v15 )
  {
    v58 = v15;
    v17 = v15;
  }
  v19 = 15;
  v20 = &v79;
  do
  {
    if ( *v20 )
      break;
    --v19;
    --v20;
  }
  while ( v19 );
  v67 = v19;
  if ( v17 > v19 )
  {
    v58 = v19;
    v17 = v19;
  }
  *a7 = v17;
  v21 = 1 << v15;
  if ( v15 < v19 )
  {
    v22 = &v78[v15 - 1];
    do
    {
      v23 = v21 - *v22;
      if ( v23 < 0 )
        return -3;
      ++v15;
      ++v22;
      v21 = 2 * v23;
    }
    while ( v15 < v19 );
  }
  v63 = v19;
  v24 = v78[v19 - 1];
  v25 = v21 - v24;
  v73 = v25;
  if ( v25 < 0 )
    return -3;
  v81[0] = 0;
  v78[v19 - 1] = v25 + v24;
  v26 = 0;
  v27 = v19 - 1;
  if ( v27 )
  {
    v28 = 0;
    do
    {
      v26 += v78[v28++];
      --v27;
      v81[v28] = v26;
    }
    while ( v27 );
  }
  v29 = a1;
  v30 = 0;
  do
  {
    v31 = *v29++;
    v61 = v29;
    if ( v31 )
    {
      v32 = v81[v31 - 1];
      a10[v32] = v30;
      v25 = v73;
      v81[v31 - 1] = v32 + 1;
      v29 = v61;
    }
    ++v30;
  }
  while ( v30 < a2 );
  v33 = -v17;
  v62 = a10;
  v83 = v81[v63 - 1];
  v70 = 0;
  v80 = 0;
  v60 = -1;
  v82[0] = 0;
  v72 = 0;
  v71 = 0;
  if ( v18 <= v67 )
  {
    v34 = v69;
    v64 = v18 - 1;
    v66 = &v78[v18 - 1];
    while ( 1 )
    {
      v35 = *v66 - 1;
      v65 = v35;
      if ( *v66 )
        break;
LABEL_64:
      ++v18;
      ++v66;
      v59 = v18;
      ++v64;
      if ( v18 > v67 )
      {
        v25 = v73;
        goto LABEL_66;
      }
    }
    while ( 1 )
    {
      v36 = v33 + v17;
      if ( v18 > (int)(v33 + v17) )
        break;
LABEL_49:
      BYTE1(v68) = v18 - v33;
      if ( v62 < &a10[v83] )
      {
        v34 = *v62;
        if ( *v62 >= a3 )
        {
          v50 = 4 * (v34 - a3);
          v49 = *(_BYTE *)(v50 + a5) + 80;
          v34 = *(_DWORD *)(v50 + a4);
        }
        else
        {
          v49 = v34 < 0x100 ? 0 : 96;
        }
        LOBYTE(v68) = v49;
        ++v62;
      }
      else
      {
        LOBYTE(v68) = -64;
      }
      v51 = 1 << (v18 - v33);
      v52 = v11 >> v33;
      if ( v11 >> v33 < v71 )
      {
        v53 = (_DWORD *)(v72 + 8 * v52);
        do
        {
          v52 += v51;
          *v53 = v68;
          v53[1] = v34;
          v53 += 2 * v51;
        }
        while ( v52 < v71 );
      }
      for ( i = 1 << v64; (i & v11) != 0; i >>= 1 )
        v11 ^= i;
      v55 = v60;
      v11 ^= i;
      v56 = &v81[v60 - 1];
      v70 = v11;
      if ( (v11 & ((1 << v33) - 1)) != *v56 )
      {
        do
        {
          --v55;
          v33 -= v58;
          --v56;
        }
        while ( (v11 & ((1 << v33) - 1)) != *v56 );
        v60 = v55;
      }
      v17 = v58;
      v57 = v65--;
      v18 = v59;
      if ( !v57 )
        goto LABEL_64;
      v35 = v65;
    }
    v76 = v35 + 1;
    while ( 1 )
    {
      v33 += v17;
      ++v60;
      v37 = v67 - v33;
      v74 = v17 + v36;
      if ( v67 - v33 > v17 )
        v37 = v17;
      v38 = v18 - v33;
      v39 = 1 << (v18 - v33);
      if ( v39 > v76 )
      {
        v40 = v66;
        v41 = -1 - v65 + v39;
        if ( v38 < v37 && ++v38 < v37 )
        {
          do
          {
            v42 = v40[1];
            ++v40;
            v43 = 2 * v41;
            if ( v43 <= v42 )
              break;
            v41 = v43 - v42;
            ++v38;
          }
          while ( v38 < v37 );
        }
      }
      v44 = *a9;
      v71 = 1 << v38;
      v45 = *a9 + (1 << v38);
      if ( v45 > 0x5A0 )
        return -3;
      *a9 = v45;
      v46 = a8 + 8 * v44;
      v72 = v46;
      v75 = &v82[v60];
      *v75 = v46;
      v11 = v70;
      if ( v60 )
      {
        LOBYTE(v68) = v38;
        v81[v60 - 1] = v70;
        BYTE1(v68) = v58;
        v47 = v70 >> (v33 - v58);
        v48 = *(v75 - 1);
        v34 = ((v72 - v48) >> 3) - v47;
        *(_DWORD *)(v48 + 8 * v47) = v68;
        *(_DWORD *)(v48 + 8 * v47 + 4) = v34;
      }
      else
      {
        *a6 = v46;
      }
      v36 = v74;
      LOBYTE(v18) = v59;
      if ( v59 <= v74 )
        goto LABEL_49;
      v17 = v58;
      v18 = v59;
    }
  }
LABEL_66:
  if ( !v25 || v67 == 1 )
    return 0;
  return -5;
}
// 475C5D: variable 'v69' is possibly undefined
// 475D82: variable 'v68' is possibly undefined
// 475A60:  int var_78[15]
// 475A60:  int var_3C[15]

//----- (00475F20) --------------------------------------------------------
int __cdecl sub_475F20(
        unsigned int a1,
        unsigned int a2,
        int *a3,
        unsigned int *a4,
        unsigned int *a5,
        int *a6,
        int *a7,
        int a8,
        int a9)
{
  unsigned int *v9; // edi
  int v11; // eax
  int v12; // esi
  int v13; // eax
  int v14; // [esp-Ch] [ebp-20h]
  int v15; // [esp-8h] [ebp-1Ch]
  int v16; // [esp-8h] [ebp-1Ch]
  int v17; // [esp-8h] [ebp-1Ch]
  unsigned int v18; // [esp+10h] [ebp-4h] BYREF

  v14 = *(_DWORD *)(a9 + 40);
  v18 = 0;
  v9 = (unsigned int *)(*(int (__cdecl **)(int, int, int))(a9 + 32))(v14, 288, 4);
  if ( !v9 )
    return -4;
  v11 = sub_475A60(a3, a1, 0x101u, (int)&unk_49635C, (int)&unk_4963D8, a6, a4, a8, &v18, v9);
  v12 = v11;
  if ( v11 )
  {
    if ( v11 == -3 )
    {
      v17 = *(_DWORD *)(a9 + 40);
      *(_DWORD *)(a9 + 24) = aOversubscribed_1;
      (*(void (__cdecl **)(int, unsigned int *))(a9 + 36))(v17, v9);
      return -3;
    }
    if ( v11 == -4 )
      goto LABEL_20;
LABEL_19:
    *(_DWORD *)(a9 + 24) = aIncompleteLite;
    v12 = -3;
    goto LABEL_20;
  }
  if ( !*a4 )
    goto LABEL_19;
  v13 = sub_475A60(&a3[a1], a2, 0, (int)&unk_496454, (int)&unk_4964CC, a7, a5, a8, &v18, v9);
  v12 = v13;
  if ( v13 )
  {
    switch ( v13 )
    {
      case -3:
        v15 = *(_DWORD *)(a9 + 40);
        *(_DWORD *)(a9 + 24) = aOversubscribed_0;
        (*(void (__cdecl **)(int, unsigned int *))(a9 + 36))(v15, v9);
        return -3;
      case -5:
        v16 = *(_DWORD *)(a9 + 40);
        *(_DWORD *)(a9 + 24) = aIncompleteDist;
        (*(void (__cdecl **)(int, unsigned int *))(a9 + 36))(v16, v9);
        return -3;
      case -4:
        goto LABEL_20;
    }
  }
  else if ( *a5 || a1 <= 0x101 )
  {
    (*(void (__cdecl **)(_DWORD, unsigned int *))(a9 + 36))(*(_DWORD *)(a9 + 40), v9);
    return 0;
  }
  *(_DWORD *)(a9 + 24) = aEmptyDistanceT;
  v12 = -3;
LABEL_20:
  (*(void (__cdecl **)(_DWORD, unsigned int *))(a9 + 36))(*(_DWORD *)(a9 + 40), v9);
  return v12;
}

//----- (004760B0) --------------------------------------------------------
int __cdecl sub_4760B0(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4)
{
  int result; // eax

  *a1 = dword_4BC158;
  *a2 = dword_4BC15C;
  result = 0;
  *a3 = &unk_4BC160;
  *a4 = &unk_4BD160;
  return result;
}
// 4BC158:  int dword_4BC158
// 4BC15C:  int dword_4BC15C

//----- (004760E0) --------------------------------------------------------
int __cdecl sub_4760E0(_DWORD *a1, _DWORD *a2, int a3)
{
  unsigned int v3; // ebp
  char *v4; // edi
  unsigned int v5; // eax
  unsigned int v6; // ebp
  unsigned int v7; // edx
  int (__cdecl *v8)(_DWORD, char *, unsigned int); // eax
  int v9; // eax
  char *v10; // eax
  char *v11; // ecx
  char *v12; // esi
  unsigned int v13; // ebp
  unsigned int v14; // eax
  unsigned int v15; // edx
  int (__cdecl *v16)(_DWORD, char *, unsigned int); // eax
  int v17; // eax
  char *v18; // edi
  char *v20; // [esp+10h] [ebp-4h]
  char *v21; // [esp+10h] [ebp-4h]

  v3 = a1[13];
  v4 = (char *)a1[12];
  v20 = (char *)a2[3];
  if ( (unsigned int)v4 > v3 )
    v3 = a1[11];
  v5 = a2[4];
  v6 = v3 - (_DWORD)v4;
  if ( v6 > v5 )
    v6 = a2[4];
  if ( v6 && a3 == -5 )
    a3 = 0;
  v7 = v6 + a2[5];
  a2[4] = v5 - v6;
  a2[5] = v7;
  v8 = (int (__cdecl *)(_DWORD, char *, unsigned int))a1[14];
  if ( v8 )
  {
    v9 = v8(a1[15], v4, v6);
    a1[15] = v9;
    a2[12] = v9;
  }
  qmemcpy(v20, v4, v6);
  v10 = &v4[v6];
  v11 = (char *)a1[11];
  v21 = &v20[v6];
  if ( &v4[v6] == v11 )
  {
    v12 = (char *)a1[10];
    if ( (char *)a1[13] == v11 )
      a1[13] = v12;
    v13 = a1[13] - (_DWORD)v12;
    v14 = a2[4];
    if ( v13 > v14 )
      v13 = a2[4];
    if ( v13 && a3 == -5 )
      a3 = 0;
    v15 = v13 + a2[5];
    a2[4] = v14 - v13;
    a2[5] = v15;
    v16 = (int (__cdecl *)(_DWORD, char *, unsigned int))a1[14];
    if ( v16 )
    {
      v17 = v16(a1[15], v12, v13);
      a1[15] = v17;
      a2[12] = v17;
    }
    qmemcpy(v21, v12, 4 * (v13 >> 2));
    v18 = &v21[4 * (v13 >> 2)];
    v21 += v13;
    v10 = &v12[v13];
    qmemcpy(v18, &v12[4 * (v13 >> 2)], v13 & 3);
  }
  a2[3] = v21;
  a1[12] = v10;
  return a3;
}

//----- (00476220) --------------------------------------------------------
int __cdecl sub_476220(int a1, int a2, int a3, int a4, _DWORD *a5, unsigned __int8 **a6)
{
  unsigned __int8 *v6; // ebp
  unsigned int v7; // edx
  unsigned int v8; // esi
  _BYTE *v9; // edi
  unsigned int v10; // eax
  int v11; // esi
  int v12; // ebx
  _BYTE *v13; // esi
  int v14; // ecx
  int v15; // ecx
  int v16; // ecx
  int v17; // ebx
  unsigned int v18; // eax
  unsigned int v19; // edx
  int v20; // esi
  int v21; // ebx
  int v22; // esi
  int v23; // ecx
  int v24; // ecx
  int v25; // ecx
  unsigned int i; // ebx
  int v27; // ebp
  int v28; // ebp
  _BYTE *v29; // esi
  unsigned int v30; // ebx
  int v31; // ebp
  int v32; // ecx
  _BYTE *v33; // esi
  _BYTE *v34; // edi
  _BYTE *v35; // esi
  unsigned int v36; // ecx
  _BYTE *v37; // edi
  _BYTE *v38; // esi
  unsigned int v39; // ecx
  int v40; // ecx
  _DWORD *v41; // ecx
  unsigned __int8 *v42; // esi
  unsigned int v43; // esi
  unsigned int v44; // ecx
  unsigned __int8 *v45; // ebp
  unsigned __int8 *v46; // edx
  unsigned __int8 *v47; // eax
  unsigned int v49; // ecx
  unsigned __int8 *v50; // ebp
  unsigned __int8 *v51; // edx
  unsigned __int8 *v52; // eax
  unsigned __int8 *v53; // esi
  unsigned __int8 *v54; // ebp
  int v55; // eax
  unsigned __int8 *v56; // edx
  unsigned int v57; // [esp+10h] [ebp-14h]
  unsigned int v58; // [esp+14h] [ebp-10h]
  unsigned __int8 *v59; // [esp+18h] [ebp-Ch]
  int v60; // [esp+1Ch] [ebp-8h]
  int v61; // [esp+20h] [ebp-4h]
  int v62; // [esp+28h] [ebp+4h]
  unsigned int v63; // [esp+2Ch] [ebp+8h]
  unsigned int v64; // [esp+2Ch] [ebp+8h]

  v6 = *a6;
  v7 = a5[8];
  v8 = a5[12];
  v9 = (_BYTE *)a5[13];
  v57 = (unsigned int)a6[1];
  v10 = a5[7];
  v59 = *a6;
  if ( (unsigned int)v9 >= v8 )
    v58 = a5[11] - (_DWORD)v9;
  else
    v58 = v8 - (_DWORD)v9 - 1;
  v60 = dword_4BD350[a1];
  v61 = dword_4BD350[a2];
  while ( 1 )
  {
    if ( v10 < 0x14 )
    {
      do
      {
        --v57;
        v11 = *v6 << v10;
        v10 += 8;
        v7 |= v11;
        ++v6;
      }
      while ( v10 < 0x14 );
      v59 = v6;
    }
    v12 = *(unsigned __int8 *)(a3 + 8 * (v7 & v60));
    v13 = (_BYTE *)(a3 + 8 * (v7 & v60));
    if ( *v13 )
      break;
LABEL_36:
    v40 = (unsigned __int8)v13[1];
    v7 >>= v40;
    v10 -= v40;
    *v9++ = v13[4];
    --v58;
LABEL_37:
    if ( v58 < 0x102 || v57 < 0xA )
    {
      v44 = (unsigned int)&a6[1][-v57];
      if ( v10 >> 3 < v44 )
        v44 = v10 >> 3;
      v45 = &v6[-v44];
      a5[8] = v7;
      a5[7] = v10 - 8 * v44;
      v46 = *a6;
      v47 = a6[2];
      a6[1] = (unsigned __int8 *)(v57 + v44);
      *a6 = v45;
      a6[2] = &v47[v45 - v46];
      a5[13] = v9;
      return 0;
    }
  }
  v14 = (unsigned __int8)v13[1];
  v7 >>= v14;
  v10 -= v14;
  if ( (v12 & 0x10) != 0 )
  {
LABEL_13:
    v17 = v12 & 0xF;
    v18 = v10 - v17;
    v63 = *((_DWORD *)v13 + 1) + (v7 & dword_4BD350[v17]);
    v19 = v7 >> v17;
    if ( v18 < 0xF )
    {
      do
      {
        --v57;
        v20 = *v6 << v18;
        v18 += 8;
        v19 |= v20;
        ++v6;
      }
      while ( v18 < 0xF );
      v59 = v6;
    }
    v21 = *(unsigned __int8 *)(a4 + 8 * (v19 & v61));
    v22 = a4 + 8 * (v19 & v61);
    v23 = *(unsigned __int8 *)(v22 + 1);
    v7 = v19 >> v23;
    v10 = v18 - v23;
    if ( (v21 & 0x10) == 0 )
    {
      while ( (v21 & 0x40) == 0 )
      {
        v24 = *(_DWORD *)(v22 + 4) + (v7 & dword_4BD350[v21]);
        v21 = *(unsigned __int8 *)(v22 + 8 * v24);
        v22 += 8 * v24;
        v25 = *(unsigned __int8 *)(v22 + 1);
        v7 >>= v25;
        v10 -= v25;
        if ( (v21 & 0x10) != 0 )
          goto LABEL_19;
      }
      v41 = a6;
      v42 = a6[1];
      a6[6] = (unsigned __int8 *)aInvalidDistanc_0;
      v64 = (unsigned int)&v42[-v57];
      v43 = v10 >> 3;
      if ( v10 >> 3 >= v64 )
LABEL_50:
        v43 = v64;
LABEL_51:
      v54 = &v6[-v43];
      a5[8] = v7;
      a5[7] = v10 - 8 * v43;
      v55 = v41[2];
      v41[1] = v57 + v43;
      v56 = &v54[-*v41];
      *v41 = v54;
      v41[2] = &v56[v55];
      a5[13] = v9;
      return -3;
    }
LABEL_19:
    for ( i = v21 & 0xF; v10 < i; ++v59 )
    {
      --v57;
      v27 = *v6 << v10;
      v10 += 8;
      v7 |= v27;
      v6 = v59 + 1;
    }
    v28 = *(_DWORD *)(v22 + 4) + (v7 & dword_4BD350[i]);
    v7 >>= i;
    v10 -= i;
    v58 -= v63;
    v29 = &v9[-v28];
    v30 = a5[10];
    if ( (unsigned int)&v9[-v28] >= v30 )
    {
      *v9 = *v29;
      v37 = v9 + 1;
      *v37 = v29[1];
      v9 = v37 + 1;
      v38 = v29 + 2;
      v39 = v63 - 2;
      do
      {
        *v9++ = *v38++;
        --v39;
      }
      while ( v39 );
      v6 = v59;
    }
    else
    {
      v62 = a5[11];
      do
        v29 += v62 - v30;
      while ( (unsigned int)v29 < v30 );
      v31 = v62 - (_DWORD)v29;
      if ( v63 <= v62 - (int)v29 )
      {
        *v9 = *v29;
        v34 = v9 + 1;
        *v34 = v29[1];
        v9 = v34 + 1;
        v35 = v29 + 2;
        v36 = v63 - 2;
        do
        {
          *v9++ = *v35++;
          --v36;
        }
        while ( v36 );
        v6 = v59;
      }
      else
      {
        v32 = v63 - v31;
        do
        {
          *v9++ = *v29++;
          --v31;
        }
        while ( v31 );
        v33 = (_BYTE *)a5[10];
        do
        {
          *v9++ = *v33++;
          --v32;
        }
        while ( v32 );
        v6 = v59;
      }
    }
    goto LABEL_37;
  }
  while ( (v12 & 0x40) == 0 )
  {
    v15 = *((_DWORD *)v13 + 1) + (v7 & dword_4BD350[v12]);
    v12 = (unsigned __int8)v13[8 * v15];
    v13 += 8 * v15;
    if ( !v12 )
      goto LABEL_36;
    v16 = (unsigned __int8)v13[1];
    v7 >>= v16;
    v10 -= v16;
    if ( (v12 & 0x10) != 0 )
      goto LABEL_13;
  }
  if ( (v12 & 0x20) == 0 )
  {
    v41 = a6;
    v53 = a6[1];
    a6[6] = (unsigned __int8 *)aInvalidLiteral_0;
    v64 = (unsigned int)&v53[-v57];
    v43 = v10 >> 3;
    if ( v10 >> 3 >= v64 )
      goto LABEL_50;
    goto LABEL_51;
  }
  v49 = (unsigned int)&a6[1][-v57];
  if ( v10 >> 3 < v49 )
    v49 = v10 >> 3;
  v50 = &v6[-v49];
  a5[8] = v7;
  a5[7] = v10 - 8 * v49;
  v51 = *a6;
  v52 = a6[2];
  a6[1] = (unsigned __int8 *)(v57 + v49);
  *a6 = v50;
  a6[2] = &v52[v50 - v51];
  a5[13] = v9;
  return 1;
}
// 4BD350:  int dword_4BD350[17]

//----- (004765F0) --------------------------------------------------------
int __cdecl sub_4765F0(void **a1)
{
  int v1; // eax
  int v2; // ebp
  int v3; // ebx
  int v4; // esi
  void (__cdecl *v5)(void *); // eax

  if ( a1 )
  {
    sub_478E40((int)(a1 + 148));
    sub_4792A0((int)(a1 + 120));
    sub_4883E0(a1 + 30);
    if ( a1[18] )
    {
      v1 = (int)a1[13];
      if ( v1 )
      {
        v2 = 0;
        if ( v1 > 0 )
        {
          v3 = 0;
          v4 = 0;
          do
          {
            sub_478510((char *)a1[18] + v4);
            sub_478470((int)a1[19] + v3);
            ++v2;
            v4 += 32;
            v3 += 16;
          }
          while ( v2 < (int)a1[13] );
        }
        free(a1[18]);
        free(a1[19]);
      }
    }
    if ( a1[15] )
      free(a1[15]);
    if ( a1[17] )
      free(a1[17]);
    if ( a1[16] )
      free(a1[16]);
    if ( a1[14] )
      free(a1[14]);
    sub_4885F0(a1 + 6);
    if ( *a1 )
    {
      v5 = (void (__cdecl *)(void *))a1[178];
      if ( v5 )
        v5(*a1);
    }
    memset(a1, 0, 0x2D0u);
  }
  return 0;
}

//----- (004766F0) --------------------------------------------------------
int __cdecl sub_4766F0(
        void *a1,
        void **Block,
        const void *a3,
        int a4,
        void *a5,
        int (__cdecl *a6)(_DWORD, _DWORD, _DWORD, _DWORD),
        void *a7,
        void *a8)
{
  int result; // eax

  result = sub_476740(a1, Block, a3, a4, a5, a6, a7, a8);
  if ( !result )
    return sub_476DA0(Block);
  return result;
}

//----- (00476740) --------------------------------------------------------
int __cdecl sub_476740(
        void *a1,
        void **a2,
        const void *a3,
        unsigned int a4,
        void *a5,
        int (__cdecl *a6)(_DWORD, _DWORD, _DWORD, _DWORD),
        void *a7,
        void *a8)
{
  int (__cdecl *v8)(_DWORD, _DWORD, _DWORD, _DWORD); // ebp
  void *v9; // esi
  void **v10; // ebx
  void *v11; // edx
  void *v12; // ecx
  void *v13; // ecx
  int v14; // esi
  void *v15; // eax
  int v16; // ebp
  _DWORD *v17; // eax
  void *v18; // ecx
  void *v19; // eax
  _DWORD *v20; // ecx
  _DWORD *v21; // edx
  size_t v23; // [esp-14h] [ebp-28h]
  void *Block; // [esp+Ch] [ebp-8h] BYREF
  int v25; // [esp+10h] [ebp-4h]

  v8 = a6;
  v9 = a1;
  if ( a1 && a6 )
    v25 = a6(a1, 0, 0, 1);
  else
    v25 = -1;
  v10 = a2;
  Block = 0;
  a1 = 0;
  v11 = a7;
  memset(a2, 0, 0x2D0u);
  v12 = a5;
  *v10 = v9;
  v10[176] = v12;
  v13 = a8;
  v10[177] = v8;
  v10[178] = v11;
  v10[179] = v13;
  sub_4885D0(v10 + 6);
  if ( a3 )
  {
    v14 = a4;
    qmemcpy((void *)sub_488630((int)(v10 + 6), a4), a3, a4);
    sub_4886D0((int)(v10 + 6), v14);
  }
  if ( v25 != -1 )
    v10[1] = (void *)1;
  v10[13] = (void *)1;
  v15 = calloc(1u, 0x20u);
  v23 = (size_t)v10[13];
  v10[18] = v15;
  v10[19] = calloc(v23, 0x10u);
  sub_488340(v10 + 30, (void *)0xFFFFFFFF);
  v16 = sub_4768F0(v10, (int *)v10[18], v10[19], &Block, (int *)&a1, 0);
  if ( v16 >= 0 )
  {
    v17 = calloc((size_t)a1 + 2, 4u);
    v18 = v10[114];
    v10[16] = v17;
    v10[23] = v18;
    *v17 = v18;
    *((_DWORD *)v10[16] + 1) = a1;
    qmemcpy((char *)v10[16] + 8, Block, 4 * (_DWORD)a1);
    v10[14] = calloc(1u, 8u);
    v19 = calloc(1u, 8u);
    v20 = v10[14];
    v10[15] = v19;
    *v20 = 0;
    v20[1] = 0;
    v21 = v10[15];
    *v21 = v10[2];
    v21[1] = v10[3];
    v10[22] = (void *)1;
  }
  else
  {
    *v10 = 0;
    sub_4765F0(v10);
  }
  if ( Block )
    free(Block);
  return v16;
}

//----- (004768F0) --------------------------------------------------------
int __cdecl sub_4768F0(_DWORD *a1, int *a2, _DWORD *a3, void **a4, int *a5, int *a6)
{
  int *v6; // edi
  int result; // eax
  int v8; // edx
  int v9; // eax
  int v10; // edx
  int v11; // esi
  int v12; // ebp
  int v13; // eax
  int v14; // edx
  int v15; // [esp+10h] [ebp-34h]
  int v16[4]; // [esp+14h] [ebp-30h] BYREF
  int v17[8]; // [esp+24h] [ebp-20h] BYREF

  v6 = a6;
  v15 = 0;
  if ( !a6 )
  {
    result = sub_476BA0((int)a1, v16, 0x10000i64);
    if ( result == -128 && v8 == -1 )
      return result;
    if ( v8 < 0 )
      return -132;
    v6 = v16;
  }
  sub_4784E0(a2);
  sub_478450(a3);
  a1[22] = 2;
  while ( sub_4881E0((int)v6) )
  {
    if ( a4 )
    {
      if ( sub_476D40((int)v6, *a4, *a5) )
      {
        if ( *a4 )
          free(*a4);
        *a4 = 0;
        *a5 = 0;
        goto LABEL_25;
      }
      sub_476CE0((int)v6, a4, a5);
    }
    if ( (int)a1[22] < 3 )
    {
      v9 = sub_4882E0((int)v6);
      sub_488C30(a1 + 30, v9);
      sub_488870((int)(a1 + 30), v6);
      if ( sub_488C60(a1 + 30, v17) > 0 )
      {
        if ( sub_478680(v17) )
        {
          a1[22] = 3;
          if ( sub_478730(a2, (int)a3, v17) )
            goto LABEL_25;
        }
      }
    }
    if ( sub_476BA0((int)a1, v6, 0x10000i64) == -128 && v10 == -1 )
    {
      v11 = -128;
      goto LABEL_26;
    }
    if ( v10 < 0 )
      goto LABEL_30;
    if ( a1[22] == 3 && a1[114] == sub_4882E0((int)v6) )
    {
      sub_488870((int)(a1 + 30), v6);
      break;
    }
  }
  if ( a1[22] == 3 )
  {
    v12 = 0;
LABEL_32:
    while ( 1 )
    {
      v13 = sub_488C60(a1 + 30, v17);
      if ( !v13 )
        break;
      if ( v13 == -1 )
        goto LABEL_25;
      v11 = sub_478730(a2, (int)a3, v17);
      if ( v11 )
        goto LABEL_26;
      if ( ++v12 >= 2 )
        return 0;
    }
    while ( 1 )
    {
      sub_476BA0((int)a1, v6, 0x10000i64);
      if ( v14 < 0 )
        break;
      if ( a1[114] == sub_4882E0((int)v6) )
      {
        sub_488870((int)(a1 + 30), v6);
        goto LABEL_32;
      }
      if ( sub_4881E0((int)v6) )
      {
        if ( v15 )
          break;
        v15 = 1;
      }
    }
LABEL_25:
    v11 = -133;
  }
  else
  {
LABEL_30:
    v11 = -132;
  }
LABEL_26:
  sub_478510(a2);
  sub_478470((int)a3);
  result = v11;
  a1[22] = 2;
  return result;
}
// 476AD7: conditional instruction was optimized away because ebp.4<2
// 476B23: conditional instruction was optimized away because ebp.4<2
// 476928: variable 'v8' is possibly undefined
// 476A23: variable 'v10' is possibly undefined
// 476B38: variable 'v14' is possibly undefined
// 4768F0:  int var_30[4]
// 4768F0:  int var_20[8]

//----- (00476BA0) --------------------------------------------------------
int __cdecl sub_476BA0(int a1, int *a2, __int64 a3)
{
  unsigned int v3; // ebx
  int v4; // edi
  int v5; // eax
  int v6; // eax
  int v8; // ecx

  v4 = HIDWORD(a3);
  v3 = a3;
  if ( a3 > 0 )
  {
    v4 = (unsigned __int64)(*(_QWORD *)(a1 + 8) + a3) >> 32;
    v3 = *(_DWORD *)(a1 + 8) + a3;
  }
  while ( 1 )
  {
    while ( 1 )
    {
      if ( v4 >= 0 && (v4 > 0 || v3) && *(_QWORD *)(a1 + 8) >= __SPAIR64__(v4, v3) )
        return -1;
      v5 = sub_488710((_DWORD *)(a1 + 24), a2);
      if ( v5 >= 0 )
        break;
      *(_QWORD *)(a1 + 8) -= v5;
    }
    if ( v5 )
      break;
    if ( !(v4 | v3) )
      return -1;
    v6 = sub_476C60((_DWORD *)a1);
    if ( !v6 )
      return -2;
    if ( v6 < 0 )
      return -128;
  }
  v8 = *(_DWORD *)(a1 + 8);
  *(_QWORD *)(a1 + 8) += v5;
  return v8;
}

//----- (00476C60) --------------------------------------------------------
int __cdecl sub_476C60(_DWORD *a1)
{
  int v2; // eax
  int v3; // eax
  int v4; // esi

  *_errno() = 0;
  if ( !a1[176] )
    return -1;
  if ( !*a1 )
    return 0;
  v2 = sub_488630((int)(a1 + 6), 2048);
  v3 = ((int (__cdecl *)(int, int, int, _DWORD))a1[176])(v2, 1, 2048, *a1);
  v4 = v3;
  if ( v3 > 0 )
    sub_4886D0((int)(a1 + 6), v3);
  if ( v4 || !*_errno() )
    return v4;
  else
    return -1;
}

//----- (00476CE0) --------------------------------------------------------
void *__cdecl sub_476CE0(int a1, void **a2, int *a3)
{
  int v3; // ebx
  int v4; // edi
  void *result; // eax

  v3 = sub_4882E0(a1);
  v4 = *a3 + 1;
  *a3 = v4;
  if ( *a2 )
    result = realloc(*a2, 4 * v4);
  else
    result = malloc(4u);
  *a2 = result;
  *((_DWORD *)result + *a3 - 1) = v3;
  return result;
}

//----- (00476D40) --------------------------------------------------------
int __cdecl sub_476D40(int a1, _DWORD *a2, int a3)
{
  int v3; // eax

  v3 = sub_4882E0(a1);
  return sub_476D60(v3, a2, a3);
}

//----- (00476D60) --------------------------------------------------------
int __cdecl sub_476D60(int a1, _DWORD *a2, int a3)
{
  _DWORD *v3; // ecx
  int v4; // eax

  v3 = a2;
  if ( !a2 )
    return 0;
  v4 = a3 - 1;
  if ( !a3 )
    return 0;
  while ( *v3 != a1 )
  {
    ++v3;
    if ( !v4-- )
      return 0;
  }
  return 1;
}

//----- (00476DA0) --------------------------------------------------------
int __cdecl sub_476DA0(void **Block)
{
  void *v2; // eax
  int v3; // edi

  if ( Block[22] != (void *)1 )
    return -131;
  v2 = Block[1];
  Block[22] = (void *)2;
  if ( v2 )
  {
    v3 = sub_476DF0(Block);
    if ( v3 )
    {
      *Block = 0;
      sub_4765F0(Block);
    }
    return v3;
  }
  else
  {
    Block[22] = (void *)3;
    return 0;
  }
}

//----- (00476DF0) --------------------------------------------------------
int __cdecl sub_476DF0(_DWORD *Block)
{
  _DWORD *v1; // esi
  _DWORD *v2; // eax
  _DWORD *v3; // edi
  int v4; // edx
  int v5; // eax
  unsigned int v6; // ebx
  void (__cdecl *v7)(_DWORD, _DWORD, _DWORD, int); // eax
  unsigned int v8; // edx
  unsigned int v9; // ebp
  int v10; // eax
  int result; // eax
  int v12; // edx
  _DWORD *v13; // ecx
  unsigned int *v14; // eax
  int v15; // eax
  bool v16; // cf
  int v17; // eax
  int v18; // [esp-8h] [ebp-28h]
  __int64 v19; // [esp+10h] [ebp-10h]
  int v20; // [esp+18h] [ebp-8h] BYREF
  int v21; // [esp+1Ch] [ebp-4h]

  v1 = Block;
  v2 = (_DWORD *)Block[15];
  v3 = (_DWORD *)Block[114];
  LODWORD(v19) = *v2;
  v4 = v2[1];
  v20 = -1;
  v21 = -1;
  v5 = Block[18];
  HIDWORD(v19) = v4;
  v18 = (int)Block;
  Block = v3;
  v6 = sub_4771D0(v18, v5);
  v7 = (void (__cdecl *)(_DWORD, _DWORD, _DWORD, int))v1[177];
  v9 = v8;
  if ( v7 && v1[179] )
  {
    v7(*v1, 0, 0, 2);
    v10 = ((int (__cdecl *)(_DWORD))v1[179])(*v1);
    *((_QWORD *)v1 + 2) = v10;
    v1[2] = v1[4];
    v1[3] = v10 >> 31;
  }
  else
  {
    v1[4] = -1;
    v1[2] = -1;
    v1[5] = -1;
    v1[3] = -1;
  }
  if ( (v1[5] & v1[4]) == -1 )
    return -131;
  result = sub_476F80(v1, (_DWORD *)(v1[16] + 8), *(_DWORD *)(v1[16] + 4), (int *)&Block, &v20);
  if ( v12 >= 0 )
  {
    if ( sub_4772F0(
           v1,
           0,
           0,
           v19,
           *((_QWORD *)v1 + 1),
           v20,
           v21,
           (int)Block,
           (_DWORD *)(v1[16] + 8),
           *(_DWORD *)(v1[16] + 4),
           0) >= 0 )
    {
      v13 = (_DWORD *)v1[14];
      *v13 = 0;
      v13[1] = 0;
      *(_DWORD *)v1[16] = v3;
      *(_QWORD *)v1[15] = v19;
      v14 = (unsigned int *)v1[17];
      *v14 = v6;
      v14[1] = v9;
      v15 = v1[17];
      v16 = *(_DWORD *)(v15 + 8) < v6;
      *(_DWORD *)(v15 + 8) -= v6;
      *(_DWORD *)(v15 + 12) -= v16 + v9;
      v17 = v1[17];
      if ( *(int *)(v17 + 12) < 0 )
      {
        *(_DWORD *)(v17 + 8) = 0;
        *(_DWORD *)(v17 + 12) = 0;
      }
      return sub_477880((int)v1, v19);
    }
    else
    {
      return -128;
    }
  }
  return result;
}
// 476E35: variable 'v8' is possibly undefined
// 476EBB: variable 'v12' is possibly undefined

//----- (00476F80) --------------------------------------------------------
int __cdecl sub_476F80(_DWORD *a1, _DWORD *a2, int a3, int *a4, int *a5)
{
  __int64 v5; // rcx
  unsigned int v6; // eax
  int result; // eax
  unsigned int v8; // eax
  unsigned int v9; // ecx
  int v10; // edx
  int v11; // esi
  int v12; // edi
  int v13; // eax
  int v14; // edx
  int v15; // [esp+10h] [ebp-40h]
  int v16; // [esp+14h] [ebp-3Ch]
  __int64 v17; // [esp+18h] [ebp-38h]
  __int64 v18; // [esp+20h] [ebp-30h]
  int v19; // [esp+28h] [ebp-28h]
  int v20; // [esp+2Ch] [ebp-24h]
  int v21; // [esp+30h] [ebp-20h]
  int v22; // [esp+34h] [ebp-1Ch]
  int v23; // [esp+38h] [ebp-18h]
  int v24[4]; // [esp+40h] [ebp-10h] BYREF

  HIDWORD(v5) = -1;
  LODWORD(v5) = a1[2];
  v6 = a1[3];
  v18 = __PAIR64__(v6, v5);
  v15 = -1;
  v16 = -1;
  v21 = -1;
  v22 = -1;
  v23 = -1;
  v19 = -1;
  v20 = -1;
  while ( 1 )
  {
    v17 = __PAIR64__(v6, -65536) + v5;
    if ( (((__PAIR64__(v6, -65536) + v5) >> 32) & 0x80000000) != 0i64 )
      v17 = 0i64;
    result = sub_477170(a1, v17, SHIDWORD(v17));
    if ( result )
      return result;
    v8 = a1[3];
    v9 = a1[2];
    if ( __SPAIR64__(v8, v9) < v18 )
    {
      while ( 1 )
      {
        v11 = sub_476BA0((int)a1, v24, v18 - __PAIR64__(v8, v9));
        v12 = v10;
        if ( v11 == -128 && v10 == -1 )
          return -128;
        if ( v10 < 0 )
          break;
        v23 = sub_4882E0((int)v24);
        v13 = sub_488200((int)v24);
        v20 = v14;
        v19 = v13;
        v21 = v11;
        v22 = v12;
        if ( v23 == (__int64)*a4 )
        {
          v15 = v11;
          v16 = v12;
          *a5 = v13;
          a5[1] = v14;
        }
        if ( !sub_476D60(v23, a2, a3) )
        {
          v15 = -1;
          v16 = -1;
        }
        v8 = a1[3];
        v9 = a1[2];
        if ( __SPAIR64__(v8, v9) >= v18 )
        {
          HIDWORD(v5) = -1;
          break;
        }
        HIDWORD(v5) = -1;
      }
    }
    if ( (v22 & v21) != -1 )
    {
      if ( v16 >= 0 )
        return v15;
      *a4 = v23;
      *a5 = v19;
      a5[1] = v20;
      return v21;
    }
    v6 = HIDWORD(v17);
    LODWORD(v5) = v17;
  }
}
// 47704C: variable 'v10' is possibly undefined
// 477089: variable 'v14' is possibly undefined
// 476F80:  int var_10[4]

//----- (00477170) --------------------------------------------------------
int __cdecl sub_477170(_DWORD *a1, int a2, int a3)
{
  int (__cdecl *v3)(_DWORD, int, int, _DWORD); // eax

  if ( !*a1 )
    return -129;
  v3 = (int (__cdecl *)(_DWORD, int, int, _DWORD))a1[177];
  if ( !v3 || v3(*a1, a2, a3, 0) == -1 )
    return -128;
  a1[2] = a2;
  a1[3] = a3;
  sub_488BA0(a1 + 6);
  return 0;
}

//----- (004771D0) --------------------------------------------------------
unsigned int __cdecl sub_4771D0(int a1, int a2)
{
  int v2; // edi
  unsigned int v3; // ebx
  int v4; // ebp
  int v5; // esi
  int v6; // edx
  _DWORD *v7; // edi
  int v8; // eax
  bool v9; // cc
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // edx
  __int64 v14; // rax
  int v16; // [esp+10h] [ebp-34h]
  int v17[4]; // [esp+14h] [ebp-30h] BYREF
  int v18[8]; // [esp+24h] [ebp-20h] BYREF

  v2 = a1;
  v3 = 0;
  v4 = 0;
  v5 = -1;
  v16 = *(_DWORD *)(a1 + 456);
  while ( 1 )
  {
    sub_476BA0(v2, v17, -1i64);
    if ( v6 < 0 || sub_4881E0((int)v17) )
      break;
    if ( sub_4882E0((int)v17) == v16 )
    {
      v7 = (_DWORD *)(v2 + 120);
      sub_488870((int)v7, v17);
      v8 = sub_488C60(v7, v18);
      v9 = v8 <= 0;
      if ( v8 )
      {
        do
        {
          if ( !v9 )
          {
            v10 = sub_479E50(a2, v18);
            if ( v5 != -1 )
            {
              v4 = (((v10 + v5) >> 2) + __PAIR64__(v4, v3)) >> 32;
              v3 += (v10 + v5) >> 2;
            }
            v5 = v10;
          }
          v11 = sub_488C60(v7, v18);
          v9 = v11 <= 0;
        }
        while ( v11 );
      }
      v12 = sub_488200((int)v17);
      if ( (v13 & v12) != -1 )
      {
        LODWORD(v14) = sub_488200((int)v17);
        v4 = (v14 - __PAIR64__(v4, v3)) >> 32;
        v3 = v14 - v3;
        break;
      }
      v2 = a1;
    }
  }
  if ( v4 < 0 )
    return 0;
  else
    return v3;
}
// 477206: variable 'v6' is possibly undefined
// 4772A4: variable 'v13' is possibly undefined
// 4772C5: variable 'v14' is possibly undefined
// 4771D0:  int var_30[4]
// 4771D0:  int var_20[8]

//----- (004772F0) --------------------------------------------------------
int __cdecl sub_4772F0(
        _DWORD *Block,
        int a2,
        int a3,
        signed __int64 a4,
        unsigned __int64 a5,
        int a6,
        int a7,
        int a8,
        _DWORD *a9,
        int a10,
        int a11)
{
  _DWORD *v11; // ebx
  unsigned int v12; // esi
  int v13; // edi
  int v14; // ebp
  bool v15; // zf
  int v16; // edx
  int v17; // edi
  void *v18; // eax
  int v19; // ebp
  void *v20; // eax
  int v21; // edx
  void *v22; // eax
  void *v23; // eax
  int v24; // ecx
  void *v25; // eax
  int v26; // edx
  void *v27; // eax
  int v28; // ecx
  int v29; // eax
  int v30; // edx
  int v31; // ecx
  int v32; // ecx
  int v33; // eax
  int v34; // edx
  int v35; // edi
  int result; // eax
  int v37; // ebp
  int v38; // edx
  int v39; // esi
  __int64 v40; // kr08_8
  int v41; // eax
  int v42; // edx
  int v43; // edi
  int v44; // ecx
  int v45; // edx
  int v46; // eax
  int v47; // edi
  __int64 v48; // rax
  int v49; // ebp
  int v50; // edx
  int v51; // eax
  int v52; // edx
  int v53; // ecx
  int v54; // ebp
  _DWORD *v55; // edx
  int v56; // eax
  int v57; // edx
  int v58; // edx
  int v59; // ecx
  _DWORD *v60; // eax
  void *v61; // [esp-14h] [ebp-88h]
  size_t v62; // [esp-10h] [ebp-84h]
  int v63; // [esp+10h] [ebp-64h]
  signed __int64 v64; // [esp+14h] [ebp-60h]
  __int64 v65; // [esp+14h] [ebp-60h]
  unsigned __int64 v66; // [esp+1Ch] [ebp-58h]
  int v67; // [esp+24h] [ebp-50h] BYREF
  int v68; // [esp+28h] [ebp-4Ch]
  int v69; // [esp+2Ch] [ebp-48h]
  int v70[4]; // [esp+34h] [ebp-40h] BYREF
  int v71[4]; // [esp+44h] [ebp-30h] BYREF
  int v72[8]; // [esp+54h] [ebp-20h] BYREF

  v11 = Block;
  v67 = -1;
  v68 = -1;
  v12 = a5;
  v13 = Block[114];
  v64 = a5;
  v66 = a5;
  v63 = v13;
  if ( sub_476D60(a8, a9, a10) )
  {
    if ( a8 != v13 )
    {
      v14 = a10;
      do
      {
        a8 = v13;
        v11[2] = sub_476F80(v11, a9, v14, &a8, &a6);
        v15 = a8 == v13;
        v11[3] = v16;
      }
      while ( !v15 );
    }
    v17 = a11;
    v18 = (void *)v11[14];
    v19 = a11 + 1;
    v11[13] = a11 + 1;
    if ( v18 )
      free(v18);
    if ( v11[16] )
      free((void *)v11[16]);
    if ( v11[15] )
      free((void *)v11[15]);
    v20 = malloc(8 * v11[13] + 8);
    v21 = v11[13];
    v11[14] = v20;
    v22 = realloc((void *)v11[18], 32 * v21);
    v62 = 16 * v11[13];
    v61 = (void *)v11[19];
    v11[18] = v22;
    v11[19] = realloc(v61, v62);
    v23 = malloc(4 * v11[13]);
    v24 = v11[13];
    v11[16] = v23;
    v25 = malloc(8 * v24);
    v26 = v11[13];
    v11[15] = v25;
    v27 = malloc(16 * v26);
    v28 = HIDWORD(a5);
    v11[17] = v27;
    v29 = v11[14];
    *(_DWORD *)(v29 + 8 * v19) = v12;
    *(_DWORD *)(v29 + 8 * v19 + 4) = v28;
    v30 = v11[14];
    v31 = a3;
    *(_DWORD *)(v30 + 8 * v17) = a2;
    *(_DWORD *)(v30 + 8 * v17 + 4) = v31;
    v32 = a7;
    v33 = a6;
    if ( a7 < 0 )
    {
      v33 = 0;
      v32 = 0;
    }
    v34 = v11[17];
    v35 = 16 * v17;
    *(_DWORD *)(v35 + v34 + 8) = v33;
    result = 0;
    *(_DWORD *)(v35 + v34 + 12) = v32;
    return result;
  }
  v37 = HIDWORD(a4);
  Block = 0;
  a2 = 0;
  if ( SHIDWORD(a4) <= SHIDWORD(a5) )
  {
    v38 = a4;
    if ( SHIDWORD(a4) < SHIDWORD(a5) || (unsigned int)a4 < v12 )
    {
      while ( 1 )
      {
        if ( (__int64)(v64 - __PAIR64__(v37, v38)) >= 0x10000 )
        {
          v40 = (__int64)(__PAIR64__(v37, v38) + v64) / 2;
          v37 = HIDWORD(v40);
          v39 = v40;
        }
        else
        {
          v39 = v38;
        }
        if ( v39 != v11[2] || v37 != v11[3] )
        {
          result = sub_477170(v11, v39, v37);
          if ( result )
            return result;
        }
        v41 = sub_476BA0((int)v11, v71, -1i64);
        v69 = v41;
        v43 = v42;
        if ( v41 == -128 && v42 == -1 )
          return -128;
        if ( v42 >= 0 )
        {
          if ( sub_476D40((int)v71, a9, a10) )
          {
            v44 = v11[3];
            LODWORD(a4) = v11[2];
            HIDWORD(a4) = v44;
            goto LABEL_33;
          }
          v41 = v69;
        }
        v64 = __PAIR64__(v37, v39);
        if ( v43 >= 0 )
          v66 = __PAIR64__(v43, v41);
LABEL_33:
        if ( a4 >= v64 )
        {
          v12 = v66;
          v13 = v63;
          break;
        }
        v37 = HIDWORD(a4);
        v38 = a4;
      }
    }
  }
  v11[2] = v12;
  v11[3] = HIDWORD(v66);
  if ( v13 + 1 != v13 )
  {
    do
    {
      LODWORD(a4) = v13;
      v11[2] = sub_476F80(v11, a9, a10, (int *)&a4, &v67);
      v15 = (_DWORD)a4 == v13;
      v11[3] = v45;
    }
    while ( !v15 );
  }
  if ( *((_QWORD *)v11 + 1) == __PAIR64__(HIDWORD(v66), v12) || (result = sub_477170(v11, v12, SHIDWORD(v66))) == 0 )
  {
    result = sub_4768F0(v11, v72, v70, (void **)&Block, &a2, 0);
    if ( !result )
    {
      v46 = v11[3];
      v47 = v11[114];
      LODWORD(a4) = v11[2];
      HIDWORD(a4) = v46;
      LODWORD(v48) = sub_4771D0((int)v11, (int)v72);
      v65 = v48;
      v49 = a11 + 1;
      result = sub_4772F0(
                 v11,
                 v12,
                 SHIDWORD(v66),
                 v11[2],
                 v11[3],
                 a5,
                 SHIDWORD(a5),
                 a6,
                 a7,
                 a8,
                 (int)Block,
                 a2,
                 a11 + 1);
      if ( !result )
      {
        if ( Block )
          free(Block);
        v50 = v11[14];
        *(_DWORD *)(v50 + 8 * v49) = v12;
        *(_DWORD *)(v50 + 8 * v49 + 4) = HIDWORD(v66);
        v51 = a4;
        *(_DWORD *)(v11[16] + 4 * v49) = v47;
        v52 = v11[15];
        v53 = HIDWORD(a4);
        *(_DWORD *)(v52 + 8 * v49) = v51;
        *(_DWORD *)(v52 + 8 * v49 + 4) = v53;
        qmemcpy((void *)(v11[18] + 32 * v49), v72, 0x20u);
        v54 = 16 * v49;
        v55 = (_DWORD *)(v54 + v11[19]);
        *v55 = v70[0];
        v55[1] = v70[1];
        v55[2] = v70[2];
        v56 = a11;
        v55[3] = v70[3];
        v57 = v11[17];
        v56 *= 16;
        *(_DWORD *)(v56 + v57 + 8) = v67;
        *(_DWORD *)(v56 + v57 + 12) = v68;
        *(_QWORD *)(v11[17] + v54) = v65;
        *(_QWORD *)(v56 + v11[17] + 24) -= v65;
        v58 = v11[17];
        v59 = *(_DWORD *)(v56 + v58 + 28);
        v60 = (_DWORD *)(v56 + v58 + 24);
        if ( v59 < 0 )
        {
          *v60 = 0;
          v60[1] = 0;
        }
        return 0;
      }
    }
  }
  return result;
}
// 47739B: variable 'v16' is possibly undefined
// 47754D: variable 'v42' is possibly undefined
// 477633: variable 'v45' is possibly undefined
// 4776BD: variable 'v48' is possibly undefined
// 4772F0:  int var_30[4]
// 4772F0:  int var_20[8]

//----- (00477810) --------------------------------------------------------
int __cdecl sub_477810(_DWORD *a1, int a2)
{
  int v2; // eax
  unsigned int v3; // ebx
  unsigned int v4; // ebp
  int v5; // esi
  unsigned __int64 v6; // kr00_8
  __int64 v7; // rax

  if ( (int)a1[22] >= 2 && a1[1] && (v2 = a1[13], a2 < v2) )
  {
    if ( a2 >= 0 )
    {
      return *(_QWORD *)(a1[17] + 16 * a2 + 8);
    }
    else
    {
      v3 = 0;
      v4 = 0;
      v5 = 0;
      if ( v2 > 0 )
      {
        do
        {
          v6 = sub_477810(a1, v5) + __PAIR64__(v4, v3);
          v4 = HIDWORD(v6);
          v3 = v6;
          ++v5;
        }
        while ( v5 < a1[13] );
      }
      LODWORD(v7) = v3;
    }
  }
  else
  {
    LODWORD(v7) = -131;
  }
  return v7;
}

//----- (00477880) --------------------------------------------------------
int __cdecl sub_477880(int a1, __int64 a2)
{
  int v2; // eax
  int result; // eax
  int v4; // eax
  int v5; // ecx
  int v6; // eax
  int v7; // ebx
  int v8; // eax
  int v9; // edx
  int v10; // ebp
  int v11; // ebx
  int v12; // eax
  int v13; // edi
  _DWORD *v14; // ecx
  int v15; // eax
  int v16; // edx
  int v17; // eax
  int v18; // ecx
  unsigned int v19; // edi
  _QWORD *v20; // eax
  unsigned __int64 v21; // kr08_8
  signed __int64 v22; // kr10_8
  int v23; // edx
  int v24; // [esp-4h] [ebp-1C4h]
  BOOL v25; // [esp+10h] [ebp-1B0h]
  int v26; // [esp+14h] [ebp-1ACh]
  int v27; // [esp+18h] [ebp-1A8h]
  int v28; // [esp+1Ch] [ebp-1A4h]
  int v29[4]; // [esp+20h] [ebp-1A0h] BYREF
  unsigned int v30; // [esp+30h] [ebp-190h]
  int v31[4]; // [esp+38h] [ebp-188h] BYREF
  __int64 v32; // [esp+48h] [ebp-178h]
  void *v33[90]; // [esp+58h] [ebp-168h] BYREF

  v2 = *(_DWORD *)(a1 + 88);
  if ( v2 < 2 )
    return -131;
  if ( !*(_DWORD *)(a1 + 4) )
    return -138;
  if ( a2 < 0 || a2 > *(_QWORD *)(a1 + 16) )
    return -131;
  if ( v2 >= 3 )
  {
    v4 = *(_DWORD *)(a1 + 96);
    v5 = *(_DWORD *)(a1 + 56);
    if ( a2 < *(_QWORD *)(v5 + 8 * v4) || a2 >= *(_QWORD *)(v5 + 8 * v4 + 8) )
      sub_477C50(a1);
  }
  v24 = *(_DWORD *)(a1 + 92);
  *(_DWORD *)(a1 + 80) = -1;
  *(_DWORD *)(a1 + 84) = -1;
  sub_488C30((_DWORD *)(a1 + 120), v24);
  sub_4794F0((_DWORD *)(a1 + 480));
  if ( sub_477170((_DWORD *)a1, a2, SHIDWORD(a2)) )
  {
    *(_DWORD *)(a1 + 80) = -1;
    *(_DWORD *)(a1 + 84) = -1;
    sub_4883E0(v33);
    sub_477C50(a1);
    return -137;
  }
  v26 = 0;
  v27 = 0;
  v28 = 0;
  v25 = 0;
  sub_488340(v33, *(void **)(a1 + 92));
  sub_488BD0(v33);
  while ( 1 )
  {
    while ( 1 )
    {
      if ( *(int *)(a1 + 88) < 3 || sub_488C60(v33, v31) <= 0 )
        goto LABEL_26;
      v6 = *(_DWORD *)(a1 + 72) + 32 * *(_DWORD *)(a1 + 96);
      if ( *(_DWORD *)(v6 + 28) )
        break;
      sub_488C60((_DWORD *)(a1 + 120), 0);
LABEL_26:
      if ( v26 )
      {
        *(_DWORD *)(a1 + 80) = -1;
        *(_DWORD *)(a1 + 84) = -1;
        goto LABEL_49;
      }
      v8 = sub_476BA0(a1, v29, -1i64);
      v10 = v9;
      v30 = v8;
      if ( v9 < 0 )
      {
        *(_DWORD *)(a1 + 80) = sub_477810((_DWORD *)a1, -1);
        *(_DWORD *)(a1 + 84) = v23;
        goto LABEL_49;
      }
      if ( *(int *)(a1 + 88) < 3 )
        goto LABEL_33;
      if ( *(_DWORD *)(a1 + 92) != sub_4882E0((int)v29) && sub_4881E0((int)v29) )
      {
        sub_477C50(a1);
        sub_4883E0(v33);
      }
      if ( *(int *)(a1 + 88) >= 3 )
      {
LABEL_39:
        sub_488870(a1 + 120, v29);
        sub_488870((int)v33, v29);
        v28 = sub_4881F0((int)v29);
      }
      else
      {
LABEL_33:
        v11 = sub_4882E0((int)v29);
        v12 = *(_DWORD *)(a1 + 52);
        v13 = 0;
        if ( v12 > 0 )
        {
          v14 = *(_DWORD **)(a1 + 64);
          do
          {
            if ( *v14 == v11 )
              break;
            ++v13;
            ++v14;
          }
          while ( v13 < v12 );
        }
        if ( v13 != v12 )
        {
          *(_DWORD *)(a1 + 96) = v13;
          *(_DWORD *)(a1 + 92) = v11;
          sub_488C30((_DWORD *)(a1 + 120), v11);
          sub_488C30(v33, v11);
          v15 = *(_DWORD *)(a1 + 60);
          *(_DWORD *)(a1 + 88) = 3;
          v25 = __SPAIR64__(v10, v30) <= *(_QWORD *)(v15 + 8 * v13);
          goto LABEL_39;
        }
      }
    }
    v7 = sub_479E50(v6, v31);
    if ( v7 >= 0 )
    {
      if ( !v28 || v25 )
      {
        if ( v26 )
          v27 += (v7 + v26) >> 2;
      }
      else
      {
        sub_488C60((_DWORD *)(a1 + 120), 0);
      }
    }
    else
    {
      sub_488C60((_DWORD *)(a1 + 120), 0);
      v7 = 0;
    }
    if ( (HIDWORD(v32) & (unsigned int)v32) != -1 )
      break;
    v26 = v7;
  }
  v16 = *(_DWORD *)(a1 + 96);
  v17 = *(_DWORD *)(a1 + 68);
  v18 = (unsigned __int64)(v32 - *(_QWORD *)(16 * v16 + v17)) >> 32;
  v19 = v32 - *(_DWORD *)(16 * v16 + v17);
  if ( v18 < 0 )
  {
    v19 = 0;
    v18 = 0;
  }
  if ( v16 > 0 )
  {
    v20 = (_QWORD *)(v17 + 8);
    do
    {
      v21 = *v20 + __PAIR64__(v18, v19);
      v18 = HIDWORD(v21);
      v19 = v21;
      v20 += 2;
      --v16;
    }
    while ( v16 );
  }
  v22 = __PAIR64__(v18, v19) - v27;
  *(_QWORD *)(a1 + 80) = v22;
  if ( v22 < 0 )
  {
    *(_DWORD *)(a1 + 80) = 0;
    *(_DWORD *)(a1 + 84) = 0;
  }
LABEL_49:
  sub_4883E0(v33);
  result = 0;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 112) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 116) = 0;
  return result;
}
// 477A7B: variable 'v9' is possibly undefined
// 477C02: variable 'v23' is possibly undefined
// 477880:  int var_188[4]
// 477880:  int var_1A0[4]

//----- (00477C50) --------------------------------------------------------
int __cdecl sub_477C50(int a1)
{
  int result; // eax

  sub_4792A0(a1 + 480);
  result = sub_478E40(a1 + 592);
  *(_DWORD *)(a1 + 88) = 2;
  return result;
}

//----- (00477C80) --------------------------------------------------------
int __cdecl sub_477C80(_DWORD *a1)
{
  int v1; // eax
  int v3; // eax

  v1 = a1[22];
  if ( v1 <= 3 )
  {
    if ( v1 < 3 )
      return -129;
    if ( a1[1] )
      v3 = sub_479560(a1 + 120, (_DWORD *)(a1[18] + 32 * a1[24]));
    else
      v3 = sub_479560(a1 + 120, (_DWORD *)a1[18]);
    if ( v3 )
      return -137;
    sub_478CE0(a1 + 120, a1 + 148);
    a1[26] = 0;
    a1[28] = 0;
    a1[22] = 4;
    a1[27] = 0;
    a1[29] = 0;
  }
  return 0;
}

//----- (00477D00) --------------------------------------------------------
int __cdecl sub_477D00(int a1, char *a2, int a3, int a4)
{
  int result; // eax
  char *v5; // edi
  int v6; // eax
  unsigned int v7; // ebx
  int v8; // edx
  int v9; // eax
  int v10; // eax
  int v11; // edx
  int v12; // ecx
  _DWORD *v13; // edi
  int v14; // ecx
  int v15; // eax
  int v16; // edi
  unsigned int v17; // ecx
  unsigned int v18; // ebx
  unsigned __int64 v19; // kr08_8
  _QWORD *v20; // eax
  unsigned __int64 v21; // kr10_8
  char v22; // [esp+10h] [ebp-40h]
  int v23; // [esp+10h] [ebp-40h]
  int v24; // [esp+1Ch] [ebp-34h]
  int v25[4]; // [esp+20h] [ebp-30h] BYREF
  char v26; // [esp+30h] [ebp-20h] BYREF

  while ( 1 )
  {
    if ( *(_DWORD *)(a1 + 88) == 3 )
    {
      result = sub_477C80((_DWORD *)a1);
      if ( result < 0 )
        return result;
    }
    if ( *(_DWORD *)(a1 + 88) == 4 )
    {
      v22 = sub_479ED0(*(_DWORD *)(a1 + 72));
      do
      {
        v5 = a2;
        if ( !a2 )
          v5 = &v26;
        v6 = sub_488C60((_DWORD *)(a1 + 120), v5);
        a2 = 0;
        if ( v6 == -1 )
          return -3;
        if ( v6 <= 0 )
          goto LABEL_11;
        v7 = *((_DWORD *)v5 + 4);
        v24 = *((_DWORD *)v5 + 5);
      }
      while ( sub_479CB0((int *)(a1 + 592), (int *)v5) );
      if ( sub_479C20((_DWORD *)(a1 + 480), 0) )
        return -129;
      sub_4795A0((_DWORD *)(a1 + 480), a1 + 592);
      *(double *)(a1 + 112) = (double)(sub_479C20((_DWORD *)(a1 + 480), 0) << v22) + *(double *)(a1 + 112);
      v14 = v24;
      *(double *)(a1 + 104) = (double)(8 * *((_DWORD *)v5 + 1)) + *(double *)(a1 + 104);
      if ( (v24 & v7) != -1 && !*((_DWORD *)v5 + 3) )
      {
        v15 = *(_DWORD *)(a1 + 4);
        if ( v15 )
          v16 = *(_DWORD *)(a1 + 96);
        else
          v16 = 0;
        if ( v15 && v16 > 0 )
        {
          v14 = (__PAIR64__(v24, v7) - *(_QWORD *)(*(_DWORD *)(a1 + 68) + 16 * v16)) >> 32;
          v7 -= *(_DWORD *)(*(_DWORD *)(a1 + 68) + 16 * v16);
          v24 = v14;
        }
        if ( v14 < 0 )
        {
          v7 = 0;
          v24 = 0;
        }
        v19 = __PAIR64__(v24, v7) - (sub_479C20((_DWORD *)(a1 + 480), 0) << v22);
        v17 = HIDWORD(v19);
        v18 = v19;
        if ( v16 > 0 )
        {
          v23 = v16;
          v20 = (_QWORD *)(*(_DWORD *)(a1 + 68) + 8);
          do
          {
            v21 = *v20 + __PAIR64__(v17, v18);
            v17 = HIDWORD(v21);
            v18 = v21;
            v20 += 2;
            --v23;
          }
          while ( v23 );
        }
        *(_DWORD *)(a1 + 80) = v18;
        *(_DWORD *)(a1 + 84) = v17;
      }
      return 1;
    }
LABEL_11:
    if ( *(int *)(a1 + 88) >= 2 )
    {
      do
      {
        if ( !a3 )
          return 0;
        sub_476BA0(a1, v25, -1i64);
        if ( v8 < 0 )
          return -2;
        v9 = *(_DWORD *)(a1 + 88);
        *(double *)(a1 + 104) = (double)(8 * v25[1]) + *(double *)(a1 + 104);
        if ( v9 != 4 || *(_DWORD *)(a1 + 92) == sub_4882E0((int)v25) )
          goto LABEL_20;
      }
      while ( !sub_4881E0((int)v25) );
      if ( !a4 )
        return -2;
      sub_477C50(a1);
      if ( !*(_DWORD *)(a1 + 4) )
      {
        sub_478510(*(_DWORD **)(a1 + 72));
        sub_478470(*(_DWORD *)(a1 + 76));
      }
    }
LABEL_20:
    if ( *(int *)(a1 + 88) > 2 )
    {
LABEL_30:
      sub_488870(a1 + 120, v25);
    }
    else
    {
      if ( !*(_DWORD *)(a1 + 4) )
      {
        result = sub_4768F0((_DWORD *)a1, *(int **)(a1 + 72), *(_DWORD **)(a1 + 76), 0, 0, v25);
        if ( result )
          return result;
        *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 456);
        ++*(_DWORD *)(a1 + 96);
        goto LABEL_30;
      }
      v10 = sub_4882E0((int)v25);
      v11 = *(_DWORD *)(a1 + 52);
      v12 = 0;
      if ( v11 > 0 )
      {
        v13 = *(_DWORD **)(a1 + 64);
        do
        {
          if ( *v13 == v10 )
            break;
          ++v12;
          ++v13;
        }
        while ( v12 < v11 );
      }
      if ( v12 != v11 )
      {
        *(_DWORD *)(a1 + 92) = v10;
        *(_DWORD *)(a1 + 96) = v12;
        sub_488C30((_DWORD *)(a1 + 120), v10);
        *(_DWORD *)(a1 + 88) = 3;
        goto LABEL_30;
      }
    }
  }
}
// 477DC0: variable 'v8' is possibly undefined

//----- (00478030) --------------------------------------------------------
int __cdecl sub_478030(_DWORD *a1, int a2)
{
  if ( !a1[1] )
    return a1[18];
  if ( a2 < 0 )
  {
    if ( (int)a1[22] >= 3 )
      return a1[18] + 32 * a1[24];
    return a1[18];
  }
  if ( a2 < a1[13] )
    return 32 * a2 + a1[18];
  else
    return 0;
}

//----- (00478070) --------------------------------------------------------
int __cdecl sub_478070(
        _DWORD *a1,
        int a2,
        int a3,
        int a4,
        int a5,
        int a6,
        _DWORD *a7,
        void (__cdecl *a8)(int, int, int, int),
        int a9)
{
  _DWORD *v9; // edi
  int result; // eax
  int v11; // esi
  int v12; // ebx
  int v13; // edi
  _BYTE *v14; // esi
  int v15; // eax
  int v16; // ecx
  int v18; // eax
  _WORD *v19; // edx
  float *v20; // ecx
  int v21; // esi
  int v22; // ebx
  int v23; // eax
  int v24; // eax
  _WORD *v25; // ecx
  float *v26; // edx
  int v27; // esi
  int v28; // ebx
  int v29; // eax
  _BYTE *v30; // esi
  int i; // ecx
  int v32; // eax
  __int16 v33; // ax
  _BYTE *v34; // esi
  _BYTE *v35; // edx
  int v36; // ecx
  int v37; // eax
  __int16 v38; // ax
  _BYTE *v39; // edx
  int v40; // [esp+10h] [ebp-14h]
  int v41; // [esp+14h] [ebp-10h]
  int v42; // [esp+18h] [ebp-Ch]
  int v43; // [esp+1Ch] [ebp-8h]
  int v44; // [esp+20h] [ebp-4h] BYREF
  int v45; // [esp+3Ch] [ebp+18h]
  int v46; // [esp+3Ch] [ebp+18h]
  int v47; // [esp+3Ch] [ebp+18h]
  int v48; // [esp+40h] [ebp+1Ch]

  v9 = a1;
  v40 = sub_478410();
  if ( (int)a1[22] < 2 )
    return -131;
  while ( 1 )
  {
    if ( a1[22] == 4 )
    {
      result = sub_479C20(a1 + 120, &v44);
      v11 = result;
      v43 = result;
      if ( result )
        break;
    }
    result = sub_477D00((int)a1, 0, 1, 1);
    if ( result == -2 )
      return 0;
    if ( result <= 0 )
      return result;
  }
  if ( result > 0 )
  {
    v12 = *(_DWORD *)(sub_478030(a1, -1) + 4);
    v42 = v12;
    v41 = a5 * v12;
    if ( v11 > a3 / (a5 * v12) )
    {
      v43 = a3 / (a5 * v12);
      v11 = v43;
    }
    if ( v11 <= 0 )
      return -131;
    if ( a8 )
      a8(v44, v12, v11, a9);
    if ( a5 == 1 )
    {
      v13 = 0;
      v14 = (_BYTE *)a2;
      do
      {
        v15 = 0;
        if ( v12 > 0 )
        {
          do
          {
            v16 = (int)(*(float *)(*(_DWORD *)(v44 + 4 * v15) + 4 * v13) * 128.0);
            if ( v16 <= 127 )
            {
              if ( v16 < -128 )
                LOBYTE(v16) = 0x80;
            }
            else
            {
              LOBYTE(v16) = 127;
            }
            *v14++ = v16 + (a6 != 0 ? 0 : 0x80);
            ++v15;
          }
          while ( v15 < v42 );
          v12 = v42;
        }
        ++v13;
      }
      while ( v13 < v43 );
    }
    else
    {
      v48 = a6 != 0 ? 0 : 0x8000;
      if ( v40 == a4 )
      {
        if ( a6 )
        {
          v18 = 0;
          v45 = 0;
          if ( v12 > 0 )
          {
            v19 = (_WORD *)a2;
            do
            {
              v20 = *(float **)(v44 + 4 * v18);
              if ( v11 > 0 )
              {
                v21 = v43;
                v22 = 2 * v12;
                do
                {
                  v23 = (int)(*v20 * 32768.0);
                  if ( v23 <= 0x7FFF )
                  {
                    if ( v23 < -32768 )
                      LOWORD(v23) = 0x8000;
                  }
                  else
                  {
                    LOWORD(v23) = 0x7FFF;
                  }
                  *v19 = v23;
                  v19 = (_WORD *)((char *)v19 + v22);
                  ++v20;
                  --v21;
                }
                while ( v21 );
                v12 = v42;
                v11 = v43;
                v9 = a1;
                v18 = v45;
              }
              ++v18;
              v19 = (_WORD *)(a2 + 2);
              v45 = v18;
              a2 += 2;
            }
            while ( v18 < v12 );
          }
        }
        else
        {
          v24 = 0;
          v46 = 0;
          if ( v12 > 0 )
          {
            v25 = (_WORD *)a2;
            do
            {
              v26 = *(float **)(v44 + 4 * v24);
              if ( v11 > 0 )
              {
                v27 = v43;
                v28 = 2 * v12;
                do
                {
                  v29 = (int)(*v26 * 32768.0);
                  if ( v29 <= 0x7FFF )
                  {
                    if ( v29 < -32768 )
                      LOWORD(v29) = 0x8000;
                  }
                  else
                  {
                    LOWORD(v29) = 0x7FFF;
                  }
                  ++v26;
                  *v25 = v29 + v48;
                  v25 = (_WORD *)((char *)v25 + v28);
                  --v27;
                }
                while ( v27 );
                v24 = v46;
                v12 = v42;
                v11 = v43;
                v9 = a1;
              }
              ++v24;
              v25 = (_WORD *)(a2 + 2);
              v46 = v24;
              a2 += 2;
            }
            while ( v24 < v12 );
          }
        }
        goto LABEL_27;
      }
      v47 = 0;
      if ( !a4 )
      {
        v35 = (_BYTE *)a2;
        do
        {
          v36 = 0;
          if ( v12 > 0 )
          {
            do
            {
              v37 = (int)(*(float *)(*(_DWORD *)(v44 + 4 * v36) + 4 * v47) * 32768.0);
              if ( v37 <= 0x7FFF )
              {
                if ( v37 < -32768 )
                  LOWORD(v37) = 0x8000;
              }
              else
              {
                LOWORD(v37) = 0x7FFF;
              }
              v38 = v48 + v37;
              *v35 = v38;
              v39 = v35 + 1;
              *v39 = HIBYTE(v38);
              v35 = v39 + 1;
              ++v36;
            }
            while ( v36 < v12 );
            v9 = a1;
          }
          ++v47;
        }
        while ( v47 < v11 );
        goto LABEL_27;
      }
      v30 = (_BYTE *)a2;
      do
      {
        for ( i = 0; i < v12; ++i )
        {
          v32 = (int)(*(float *)(*(_DWORD *)(v44 + 4 * i) + 4 * v47) * 32768.0);
          if ( v32 <= 0x7FFF )
          {
            if ( v32 < -32768 )
              LOWORD(v32) = 0x8000;
          }
          else
          {
            LOWORD(v32) = 0x7FFF;
          }
          v33 = v48 + v32;
          *v30 = HIBYTE(v33);
          v34 = v30 + 1;
          *v34 = v33;
          v30 = v34 + 1;
        }
        ++v47;
      }
      while ( v47 < v43 );
    }
    v11 = v43;
    v9 = a1;
LABEL_27:
    sub_479C80((int)(v9 + 120), v11);
    *((_QWORD *)v9 + 10) += v11 << sub_479ED0(v9[18]);
    if ( a7 )
      *a7 = v9[24];
    return v11 * v41;
  }
  return result;
}
// 478153: conditional instruction was optimized away because esi.4>=1
// 478327: conditional instruction was optimized away because esi.4>=1
// 478396: conditional instruction was optimized away because esi.4>=1

//----- (00478410) --------------------------------------------------------
int sub_478410()
{
  return 0;
}

//----- (00478420) --------------------------------------------------------
int __cdecl sub_478420(_DWORD *a1, int a2, int a3, int a4, int a5, int a6, _DWORD *a7)
{
  return sub_478070(a1, a2, a3, a4, a5, a6, a7, 0, 0);
}

//----- (00478450) --------------------------------------------------------
int __cdecl sub_478450(_DWORD *a1)
{
  int result; // eax

  result = 0;
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  return result;
}

//----- (00478470) --------------------------------------------------------
int __cdecl sub_478470(int a1)
{
  int i; // edi
  int result; // eax

  if ( a1 )
  {
    if ( *(_DWORD *)a1 )
    {
      for ( i = 0; i < *(_DWORD *)(a1 + 8); ++i )
      {
        if ( *(_DWORD *)(*(_DWORD *)a1 + 4 * i) )
          free(*(void **)(*(_DWORD *)a1 + 4 * i));
      }
      free(*(void **)a1);
    }
    if ( *(_DWORD *)(a1 + 4) )
      free(*(void **)(a1 + 4));
    result = *(_DWORD *)(a1 + 12);
    if ( result )
      free(*(void **)(a1 + 12));
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 12) = 0;
  }
  return result;
}

//----- (004784E0) --------------------------------------------------------
void *__cdecl sub_4784E0(_DWORD *a1)
{
  void *result; // eax

  memset(a1, 0, 0x20u);
  result = calloc(1u, 0xE50u);
  a1[7] = result;
  return result;
}

//----- (00478510) --------------------------------------------------------
int __cdecl sub_478510(_DWORD *a1)
{
  int v1; // esi
  int v2; // ebx
  void **v3; // ebp
  int v4; // ebp
  _DWORD *v5; // ebx
  int v6; // ebp
  _DWORD *v7; // ebx
  int v8; // ebp
  _DWORD *v9; // ebx
  int v10; // ebx
  int v11; // edi
  void ***v12; // ebp
  int v13; // eax
  int v14; // ebx
  void **v15; // ebp
  int result; // eax

  v1 = a1[7];
  if ( v1 )
  {
    v2 = 0;
    if ( *(int *)(v1 + 8) > 0 )
    {
      v3 = (void **)(v1 + 32);
      do
      {
        if ( *v3 )
          free(*v3);
        ++v2;
        ++v3;
      }
      while ( v2 < *(_DWORD *)(v1 + 8) );
    }
    v4 = 0;
    if ( *(int *)(v1 + 12) > 0 )
    {
      v5 = (_DWORD *)(v1 + 544);
      do
      {
        if ( *v5 )
          ((void (__cdecl *)(_DWORD))(&off_49C15C)[*(v5 - 64)][2])(*v5);
        ++v4;
        ++v5;
      }
      while ( v4 < *(_DWORD *)(v1 + 12) );
    }
    v6 = 0;
    if ( *(int *)(v1 + 16) > 0 )
    {
      v7 = (_DWORD *)(v1 + 1056);
      do
      {
        if ( *v7 )
          (*((void (__cdecl **)(_DWORD))*(&off_49C148 + *(v7 - 64)) + 3))(*v7);
        ++v6;
        ++v7;
      }
      while ( v6 < *(_DWORD *)(v1 + 16) );
    }
    v8 = 0;
    if ( *(int *)(v1 + 20) > 0 )
    {
      v9 = (_DWORD *)(v1 + 1568);
      do
      {
        if ( *v9 )
          (*((void (__cdecl **)(_DWORD))*(&off_49C150 + *(v9 - 64)) + 3))(*v9);
        ++v8;
        ++v9;
      }
      while ( v8 < *(_DWORD *)(v1 + 20) );
    }
    v10 = 0;
    if ( *(int *)(v1 + 24) > 0 )
    {
      v11 = 0;
      v12 = (void ***)(v1 + 1824);
      do
      {
        if ( *v12 )
          sub_47CA30(*v12);
        v13 = *(_DWORD *)(v1 + 2848);
        if ( v13 )
          sub_47CA80((void **)(v11 + v13));
        ++v10;
        ++v12;
        v11 += 56;
      }
      while ( v10 < *(_DWORD *)(v1 + 24) );
    }
    if ( *(_DWORD *)(v1 + 2848) )
      free(*(void **)(v1 + 2848));
    v14 = 0;
    if ( *(int *)(v1 + 28) > 0 )
    {
      v15 = (void **)(v1 + 2852);
      do
      {
        sub_479F00(*v15);
        ++v14;
        ++v15;
      }
      while ( v14 < *(_DWORD *)(v1 + 28) );
    }
    free((void *)v1);
  }
  result = 0;
  memset(a1, 0, 0x20u);
  return result;
}
// 49C148:  void *off_49C148
// 49C150:  void *off_49C150
// 49C15C:  int (__cdecl **off_49C15C)(int, int, int)

//----- (00478680) --------------------------------------------------------
BOOL __cdecl sub_478680(int *a1)
{
  int v1; // ecx
  char *v2; // edi
  int *v3; // esi
  bool v4; // zf
  int v6; // [esp+4h] [ebp-1Ch] BYREF
  __int16 v7; // [esp+8h] [ebp-18h]
  _DWORD v8[5]; // [esp+Ch] [ebp-14h] BYREF

  if ( !a1 )
    return 0;
  sub_488F60(v8, *a1, a1[1]);
  if ( !a1[2] || sub_4890C0(v8, 8u) != 1 )
    return 0;
  v6 = 0;
  v7 = 0;
  sub_478700(v8, &v6, 6);
  v1 = 3;
  v2 = aVorbis;
  v3 = &v6;
  v4 = 1;
  do
  {
    if ( !v1 )
      break;
    v4 = *(_WORD *)v3 == *(_WORD *)v2;
    v3 = (int *)((char *)v3 + 2);
    v2 += 2;
    --v1;
  }
  while ( v4 );
  return v4;
}
// 478680:  _DWORD var_14[5]

//----- (00478700) --------------------------------------------------------
int __cdecl sub_478700(_DWORD *a1, _BYTE *a2, int a3)
{
  int result; // eax
  int v5; // edi

  result = a3 - 1;
  if ( a3 )
  {
    v5 = a3;
    do
    {
      result = sub_4890C0(a1, 8u);
      *a2++ = result;
      --v5;
    }
    while ( v5 );
  }
  return result;
}

//----- (00478730) --------------------------------------------------------
int __cdecl sub_478730(int *a1, int a2, int *a3)
{
  int v3; // ebp
  int v4; // ecx
  char *v5; // edi
  int *v6; // esi
  bool v7; // zf
  int v9; // [esp+8h] [ebp-1Ch] BYREF
  __int16 v10; // [esp+Ch] [ebp-18h]
  _DWORD v11[5]; // [esp+10h] [ebp-14h] BYREF

  if ( a3 )
  {
    sub_488F60(v11, *a3, a3[1]);
    v3 = sub_4890C0(v11, 8u);
    v9 = 0;
    v10 = 0;
    sub_478700(v11, &v9, 6);
    v4 = 3;
    v5 = aVorbis;
    v6 = &v9;
    v7 = 1;
    do
    {
      if ( !v4 )
        break;
      v7 = *(_WORD *)v6 == *(_WORD *)v5;
      v6 = (int *)((char *)v6 + 2);
      v5 += 2;
      --v4;
    }
    while ( v7 );
    if ( !v7 )
      return -132;
    if ( v3 == 1 )
    {
      if ( a3[2] && !a1[2] )
        return sub_478830(a1, v11);
    }
    else if ( v3 == 3 )
    {
      if ( a1[2] )
        return sub_478910((void **)a2, v11);
    }
    else if ( v3 == 5 && a1[2] && *(_DWORD *)(a2 + 12) )
    {
      return sub_478A30(a1, v11);
    }
  }
  return -133;
}
// 478730:  _DWORD var_14[5]

//----- (00478830) --------------------------------------------------------
int __cdecl sub_478830(int *a1, _DWORD *a2)
{
  int *v2; // ebx
  int v4; // eax
  int v5; // edx
  int v6; // ebx

  v2 = (int *)a1[7];
  if ( !v2 )
    return -129;
  v4 = sub_4890C0(a2, 0x20u);
  *a1 = v4;
  if ( v4 )
    return -134;
  a1[1] = sub_4890C0(a2, 8u);
  a1[2] = sub_4890C0(a2, 0x20u);
  a1[3] = sub_4890C0(a2, 0x20u);
  a1[4] = sub_4890C0(a2, 0x20u);
  a1[5] = sub_4890C0(a2, 0x20u);
  *v2 = 1 << sub_4890C0(a2, 4u);
  v5 = 1 << sub_4890C0(a2, 4u);
  v2[1] = v5;
  if ( a1[2] >= 1 && a1[1] >= 1 )
  {
    v6 = *v2;
    if ( v6 >= 64 && v5 >= v6 && v5 <= 0x2000 && sub_4890C0(a2, 1u) == 1 )
      return 0;
  }
  sub_478510(a1);
  return -133;
}

//----- (00478910) --------------------------------------------------------
int __cdecl sub_478910(void **a1, _DWORD *a2)
{
  int v2; // ebx
  _BYTE *v3; // eax
  int v4; // ebx
  int i; // ebp
  int v6; // ebx

  v2 = sub_4890C0(a2, 0x20u);
  if ( v2 < 0 )
    goto LABEL_10;
  if ( v2 > a2[4] - 8 )
    goto LABEL_10;
  v3 = calloc(v2 + 1, 1u);
  a1[3] = v3;
  sub_478700(a2, v3, v2);
  v4 = sub_4890C0(a2, 0x20u);
  if ( v4 < 0 || v4 > (a2[4] - sub_4891D0(a2)) >> 2 )
    goto LABEL_10;
  a1[2] = (void *)v4;
  *a1 = calloc(v4 + 1, 4u);
  a1[1] = calloc((size_t)a1[2] + 1, 4u);
  for ( i = 0; i < (int)a1[2]; sub_478700(a2, *((_BYTE **)*a1 + i++), v6) )
  {
    v6 = sub_4890C0(a2, 0x20u);
    if ( v6 < 0 || v6 > a2[4] - sub_4891D0(a2) )
      goto LABEL_10;
    *((_DWORD *)a1[1] + i) = v6;
    *((_DWORD *)*a1 + i) = calloc(v6 + 1, 1u);
  }
  if ( sub_4890C0(a2, 1u) != 1 )
  {
LABEL_10:
    sub_478470((int)a1);
    return -133;
  }
  return 0;
}

//----- (00478A30) --------------------------------------------------------
int __cdecl sub_478A30(_DWORD *a1, _DWORD *a2)
{
  _DWORD *v2; // ebp
  int v4; // eax
  int v5; // ebx
  unsigned int **v6; // edi
  unsigned int *v7; // eax
  int v8; // edi
  int v9; // ebx
  int v10; // eax
  int v11; // ebx
  int *v12; // edi
  unsigned int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // ebx
  int *v17; // edi
  unsigned int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // ebx
  int *v22; // edi
  int v23; // eax
  int v24; // eax
  int v25; // eax
  int v26; // ebx
  void **v27; // edi
  int *v28; // eax
  int v29; // eax

  v2 = (_DWORD *)a1[7];
  if ( !v2 )
    return -129;
  v4 = sub_4890C0(a2, 8u) + 1;
  v2[6] = v4;
  if ( v4 > 0 )
  {
    v5 = 0;
    v6 = (unsigned int **)(v2 + 456);
    while ( 1 )
    {
      v7 = sub_47CFC0(a2);
      *v6 = v7;
      if ( !v7 )
        break;
      ++v5;
      ++v6;
      if ( v5 >= v2[6] )
      {
        v8 = sub_4890C0(a2, 6u) + 1;
        if ( v8 > 0 )
        {
          v9 = 0;
          while ( !sub_4890C0(a2, 0x10u) )
          {
            if ( ++v9 >= v8 )
            {
              v10 = sub_4890C0(a2, 6u) + 1;
              v2[4] = v10;
              if ( v10 > 0 )
              {
                v11 = 0;
                v12 = v2 + 264;
                while ( 1 )
                {
                  v13 = sub_4890C0(a2, 0x10u);
                  *(v12 - 64) = v13;
                  if ( v13 > 1 )
                    break;
                  v14 = (*((int (__cdecl **)(_DWORD *, _DWORD *))*(&off_49C148 + v13) + 1))(a1, a2);
                  *v12 = v14;
                  if ( !v14 )
                    break;
                  ++v11;
                  ++v12;
                  if ( v11 >= v2[4] )
                  {
                    v15 = sub_4890C0(a2, 6u) + 1;
                    v2[5] = v15;
                    if ( v15 > 0 )
                    {
                      v16 = 0;
                      v17 = v2 + 392;
                      while ( 1 )
                      {
                        v18 = sub_4890C0(a2, 0x10u);
                        *(v17 - 64) = v18;
                        if ( v18 > 2 )
                          break;
                        v19 = (*((int (__cdecl **)(_DWORD *, _DWORD *))*(&off_49C150 + v18) + 1))(a1, a2);
                        *v17 = v19;
                        if ( !v19 )
                          break;
                        ++v16;
                        ++v17;
                        if ( v16 >= v2[5] )
                        {
                          v20 = sub_4890C0(a2, 6u) + 1;
                          v2[3] = v20;
                          if ( v20 > 0 )
                          {
                            v21 = 0;
                            v22 = v2 + 136;
                            while ( 1 )
                            {
                              v23 = sub_4890C0(a2, 0x10u);
                              *(v22 - 64) = v23;
                              if ( v23 )
                                break;
                              v24 = ((int (__cdecl *)(_DWORD *, _DWORD *))*(&off_4A4128 + 1))(a1, a2);
                              *v22 = v24;
                              if ( !v24 )
                                break;
                              ++v21;
                              ++v22;
                              if ( v21 >= v2[3] )
                              {
                                v25 = sub_4890C0(a2, 6u) + 1;
                                v2[2] = v25;
                                if ( v25 > 0 )
                                {
                                  v26 = 0;
                                  v27 = (void **)(v2 + 8);
                                  while ( 1 )
                                  {
                                    *v27 = calloc(1u, 0x10u);
                                    *(_DWORD *)*v27 = sub_4890C0(a2, 1u);
                                    *((_DWORD *)*v27 + 1) = sub_4890C0(a2, 0x10u);
                                    *((_DWORD *)*v27 + 2) = sub_4890C0(a2, 0x10u);
                                    *((_DWORD *)*v27 + 3) = sub_4890C0(a2, 8u);
                                    v28 = (int *)*v27;
                                    if ( *((int *)*v27 + 1) >= 1 )
                                      break;
                                    if ( v28[2] >= 1 )
                                      break;
                                    v29 = v28[3];
                                    if ( v29 >= v2[3] || v29 < 0 )
                                      break;
                                    ++v26;
                                    ++v27;
                                    if ( v26 >= v2[2] )
                                    {
                                      if ( sub_4890C0(a2, 1u) != 1 )
                                        goto LABEL_34;
                                      return 0;
                                    }
                                  }
                                }
                                goto LABEL_34;
                              }
                            }
                          }
                          goto LABEL_34;
                        }
                      }
                    }
                    goto LABEL_34;
                  }
                }
              }
              goto LABEL_34;
            }
          }
        }
        break;
      }
    }
  }
LABEL_34:
  sub_478510(a1);
  return -133;
}
// 49C148:  void *off_49C148
// 49C150:  void *off_49C150
// 49C15C:  int (__cdecl **off_49C15C)(int, int, int)
// 4A4128:  int (__cdecl *off_4A4128)(int, int, int)

//----- (00478CE0) --------------------------------------------------------
int __cdecl sub_478CE0(_DWORD *a1, _DWORD *a2)
{
  int v2; // esi
  _DWORD *v3; // edi

  v2 = 0;
  memset(a2, 0, 0x70u);
  a2[19] = 0;
  a2[16] = a1;
  a2[17] = 0;
  if ( *a1 )
  {
    v3 = calloc(1u, 0x48u);
    a2[26] = v3;
    v3[1] = -971228160;
    do
    {
      if ( v2 == 7 )
        v3[10] = a2 + 1;
      else
        v3[v2 + 3] = calloc(1u, 0x14u);
      sub_488DC0((_DWORD *)v3[v2++ + 3]);
    }
    while ( v2 < 15 );
  }
  return 0;
}

//----- (00478D60) --------------------------------------------------------
int __cdecl sub_478D60(_DWORD *a1, int a2)
{
  unsigned int v2; // edi
  _DWORD *v3; // eax
  int v4; // ecx
  int result; // eax

  v2 = (a2 + 7) & 0xFFFFFFF8;
  if ( (signed int)(v2 + a1[18]) > a1[19] )
  {
    if ( a1[17] )
    {
      v3 = malloc(8u);
      a1[20] += a1[18];
      v3[1] = a1[21];
      *v3 = a1[17];
      a1[21] = v3;
    }
    a1[19] = v2;
    a1[17] = malloc(v2);
    a1[18] = 0;
  }
  v4 = a1[18];
  result = v4 + a1[17];
  a1[18] = v2 + v4;
  return result;
}

//----- (00478DD0) --------------------------------------------------------
int __cdecl sub_478DD0(int a1)
{
  int v1; // esi
  int v2; // ebx
  int result; // eax
  void *v4; // eax
  int v5; // ecx

  v1 = *(_DWORD *)(a1 + 84);
  if ( v1 )
  {
    do
    {
      v2 = *(_DWORD *)(v1 + 4);
      free(*(void **)v1);
      *(_DWORD *)v1 = 0;
      *(_DWORD *)(v1 + 4) = 0;
      free((void *)v1);
      v1 = v2;
    }
    while ( v2 );
  }
  result = *(_DWORD *)(a1 + 80);
  if ( result )
  {
    v4 = realloc(*(void **)(a1 + 68), result + *(_DWORD *)(a1 + 76));
    v5 = *(_DWORD *)(a1 + 76);
    *(_DWORD *)(a1 + 68) = v4;
    result = *(_DWORD *)(a1 + 80);
    *(_DWORD *)(a1 + 80) = 0;
    *(_DWORD *)(a1 + 76) = result + v5;
  }
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  return result;
}

//----- (00478E40) --------------------------------------------------------
int __cdecl sub_478E40(int a1)
{
  int *v1; // ebp
  int v2; // esi
  int *v3; // ebx
  int result; // eax

  v1 = *(int **)(a1 + 104);
  sub_478DD0(a1);
  if ( *(_DWORD *)(a1 + 68) )
    free(*(void **)(a1 + 68));
  if ( v1 )
  {
    v2 = 0;
    v3 = v1 + 3;
    do
    {
      sub_488F30(*v3);
      if ( v2 != 7 )
        free((void *)*v3);
      ++v2;
      ++v3;
    }
    while ( v2 < 15 );
    free(v1);
  }
  result = 0;
  memset((void *)a1, 0, 0x70u);
  return result;
}

//----- (00478EB0) --------------------------------------------------------
int __cdecl sub_478EB0(_DWORD *a1, _DWORD *a2, int a3)
{
  int *v3; // esi
  int v6; // ebx
  void *v7; // edi
  int *v8; // ebx
  bool v9; // cc
  int *v10; // ebx
  int i; // ebx
  int v12; // eax
  _DWORD *v13; // ebx
  int v14; // eax
  char *v15; // edx
  _DWORD *v16; // ebx
  int v17; // eax
  char *v18; // edx
  void ***v19; // ebx
  int v20; // ebx
  void ***v21; // edi
  int v22; // [esp+14h] [ebp+4h]
  int v23; // [esp+14h] [ebp+4h]
  int v24; // [esp+14h] [ebp+4h]
  int v25; // [esp+14h] [ebp+4h]
  int v26; // [esp+14h] [ebp+4h]
  int v27; // [esp+1Ch] [ebp+Ch]
  int v28; // [esp+1Ch] [ebp+Ch]
  int v29; // [esp+1Ch] [ebp+Ch]

  v3 = (int *)a2[7];
  if ( !v3 )
    return 1;
  v6 = v3[914];
  memset(a1, 0, 0x70u);
  v7 = calloc(1u, 0x88u);
  a1[26] = v7;
  a1[1] = a2;
  *((_DWORD *)v7 + 11) = sub_482E10(v3[2]);
  *((_DWORD *)v7 + 3) = calloc(1u, 4u);
  *((_DWORD *)v7 + 4) = calloc(1u, 4u);
  **((_DWORD **)v7 + 3) = calloc(1u, 0x14u);
  **((_DWORD **)v7 + 4) = calloc(1u, 0x14u);
  sub_47F3F0(**((_DWORD **)v7 + 3), *v3 >> v6);
  sub_47F3F0(**((_DWORD **)v7 + 4), v3[1] >> v6);
  *((_DWORD *)v7 + 1) = sub_482E10(*v3) - 6;
  *((_DWORD *)v7 + 2) = sub_482E10(v3[1]) - 6;
  if ( a3 )
  {
    sub_47F1C0((int *)v7 + 5, *v3);
    sub_47F1C0((int *)v7 + 8, v3[1]);
    if ( !v3[712] )
    {
      v3[712] = (int)calloc(v3[6], 0x38u);
      v22 = 0;
      if ( v3[6] > 0 )
      {
        v27 = 0;
        v8 = v3 + 456;
        do
        {
          sub_47CAE0((_DWORD *)(v27 + v3[712]), *v8++);
          v9 = ++v22 < v3[6];
          v27 += 56;
        }
        while ( v9 );
      }
    }
    *((_DWORD *)v7 + 14) = calloc(v3[7], 0x34u);
    v23 = 0;
    if ( v3[7] > 0 )
    {
      v28 = 0;
      v10 = v3 + 713;
      do
      {
        sub_479F20((int *)(v28 + *((_DWORD *)v7 + 14)), *v10, v3 + 717, v3[*(_DWORD *)*v10] / 2, a2[2]);
        ++v10;
        v9 = ++v23 < v3[7];
        v28 += 52;
      }
      while ( v9 );
    }
    *a1 = 1;
    goto LABEL_12;
  }
  if ( v3[712] || (v3[712] = (int)calloc(v3[6], 0x38u), v26 = 0, v3[6] <= 0) )
  {
LABEL_12:
    a1[4] = v3[1];
    a1[2] = malloc(4 * a2[1]);
    a1[3] = malloc(4 * a2[1]);
    for ( i = 0; i < a2[1]; ++i )
      *(_DWORD *)(a1[2] + 4 * i) = calloc(a1[4], 4u);
    a1[9] = 0;
    a1[10] = 0;
    v12 = v3[1] / 2;
    a1[12] = v12;
    a1[5] = v12;
    *((_DWORD *)v7 + 12) = calloc(v3[4], 4u);
    *((_DWORD *)v7 + 13) = calloc(v3[5], 4u);
    v24 = 0;
    if ( v3[4] > 0 )
    {
      v13 = v3 + 264;
      do
      {
        v14 = (*((int (__cdecl **)(_DWORD *, _DWORD))*(&off_49C148 + *(v13 - 64)) + 2))(a1, *v13);
        v15 = (char *)v13++ - 1056 - (_DWORD)v3;
        *(_DWORD *)&v15[*((_DWORD *)v7 + 12)] = v14;
        ++v24;
      }
      while ( v24 < v3[4] );
    }
    v25 = 0;
    if ( v3[5] > 0 )
    {
      v16 = v3 + 392;
      do
      {
        v17 = (*((int (__cdecl **)(_DWORD *, _DWORD))*(&off_49C150 + *(v16 - 64)) + 2))(a1, *v16);
        v18 = (char *)v16++ + *((_DWORD *)v7 + 13);
        *(_DWORD *)&v18[-1568 - (_DWORD)v3] = v17;
        ++v25;
      }
      while ( v25 < v3[5] );
    }
    return 0;
  }
  v29 = 0;
  v19 = (void ***)(v3 + 456);
  while ( *v19 && !sub_47CB70((unsigned int *)(v29 + v3[712]), (int)*v19) )
  {
    sub_47CA30(*v19);
    *v19++ = 0;
    ++v26;
    v29 += 56;
    if ( v26 >= v3[6] )
      goto LABEL_12;
  }
  v20 = 0;
  if ( v3[6] > 0 )
  {
    v21 = (void ***)(v3 + 456);
    do
    {
      if ( *v21 )
      {
        sub_47CA30(*v21);
        *v21 = 0;
      }
      ++v20;
      ++v21;
    }
    while ( v20 < v3[6] );
  }
  sub_4792A0((int)a1);
  return -1;
}
// 49C148:  void *off_49C148
// 49C150:  void *off_49C150

//----- (004792A0) --------------------------------------------------------
void __cdecl sub_4792A0(int a1)
{
  void **v1; // ebp
  int v2; // edi
  _DWORD *v3; // ebx
  int v4; // esi
  int *v5; // eax
  int *v6; // eax
  int v7; // ebp
  _DWORD *v8; // edi
  int v9; // ebp
  _DWORD *v10; // edi
  int v11; // ebp
  int v12; // edi
  int i; // ebx
  int v14; // [esp+4h] [ebp-4h]

  v1 = (void **)a1;
  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 4);
    v14 = v2;
    if ( v2 )
      v3 = *(_DWORD **)(v2 + 28);
    else
      v3 = 0;
    v4 = *(_DWORD *)(a1 + 104);
    if ( v4 )
    {
      if ( *(_DWORD *)v4 )
      {
        sub_47DDA0(*(void ***)v4);
        free(*(void **)v4);
      }
      v5 = *(int **)(v4 + 12);
      if ( v5 )
      {
        sub_47F5D0(*v5);
        free(**(void ***)(v4 + 12));
        free(*(void **)(v4 + 12));
      }
      v6 = *(int **)(v4 + 16);
      if ( v6 )
      {
        sub_47F5D0(*v6);
        free(**(void ***)(v4 + 16));
        free(*(void **)(v4 + 16));
      }
      if ( *(_DWORD *)(v4 + 48) )
      {
        if ( v3 )
        {
          v7 = 0;
          if ( (int)v3[4] > 0 )
          {
            v8 = v3 + 200;
            do
              (*((void (__cdecl **)(_DWORD))*(&off_49C148 + *v8++) + 4))(*(_DWORD *)(*(_DWORD *)(v4 + 48) + 4 * v7++));
            while ( v7 < v3[4] );
            v2 = v14;
          }
          v1 = (void **)a1;
        }
        free(*(void **)(v4 + 48));
      }
      if ( *(_DWORD *)(v4 + 52) )
      {
        if ( v3 )
        {
          v9 = 0;
          if ( (int)v3[5] <= 0 )
          {
            v1 = (void **)a1;
          }
          else
          {
            v10 = v3 + 328;
            do
              (*((void (__cdecl **)(_DWORD))*(&off_49C150 + *v10++) + 4))(*(_DWORD *)(*(_DWORD *)(v4 + 52) + 4 * v9++));
            while ( v9 < v3[5] );
            v1 = (void **)a1;
            v2 = v14;
          }
        }
        free(*(void **)(v4 + 52));
      }
      if ( *(_DWORD *)(v4 + 56) )
      {
        if ( v3 )
        {
          v11 = 0;
          if ( (int)v3[7] <= 0 )
          {
            v1 = (void **)a1;
          }
          else
          {
            v12 = 0;
            do
            {
              sub_47ACD0((void **)(*(_DWORD *)(v4 + 56) + v12));
              ++v11;
              v12 += 52;
            }
            while ( v11 < v3[7] );
            v1 = (void **)a1;
            v2 = v14;
          }
        }
        free(*(void **)(v4 + 56));
      }
      if ( *(_DWORD *)(v4 + 60) )
        sub_479EE0(*(void **)(v4 + 60));
      sub_47DD70((void *)(v4 + 80));
      sub_47F3B0(v4 + 20);
      sub_47F3B0(v4 + 32);
    }
    if ( v1[2] )
    {
      if ( v2 )
      {
        for ( i = 0; i < *(_DWORD *)(v2 + 4); ++i )
        {
          if ( *((_DWORD *)v1[2] + i) )
            free(*((void **)v1[2] + i));
        }
      }
      free(v1[2]);
      if ( v1[3] )
        free(v1[3]);
    }
    if ( v4 )
    {
      if ( *(_DWORD *)(v4 + 64) )
        free(*(void **)(v4 + 64));
      if ( *(_DWORD *)(v4 + 68) )
        free(*(void **)(v4 + 68));
      if ( *(_DWORD *)(v4 + 72) )
        free(*(void **)(v4 + 72));
      free((void *)v4);
    }
    memset(v1, 0, 0x70u);
  }
}
// 49C148:  void *off_49C148
// 49C150:  void *off_49C150

//----- (004794F0) --------------------------------------------------------
int __cdecl sub_4794F0(_DWORD *a1)
{
  int v1; // edi
  int v2; // ecx
  int v4; // edx
  int v5; // esi
  int v6; // edx
  int v7; // edx

  v1 = a1[26];
  v2 = a1[1];
  if ( !v1 )
    return -1;
  if ( !v2 )
    return -1;
  v4 = *(_DWORD *)(v2 + 28);
  if ( !v4 )
    return -1;
  v5 = *(_DWORD *)(v4 + 3656);
  v6 = *(_DWORD *)(v4 + 4);
  a1[8] = 0;
  v7 = v6 >> (v5 + 1);
  a1[12] = v7;
  a1[14] = -1;
  a1[16] = -1;
  a1[6] = -1;
  a1[15] = -1;
  a1[5] = v7 >> v5;
  a1[17] = -1;
  *(_DWORD *)(v1 + 128) = -1;
  *(_DWORD *)(v1 + 132) = -1;
  return 0;
}

//----- (00479560) --------------------------------------------------------
int __cdecl sub_479560(_DWORD *a1, _DWORD *a2)
{
  if ( sub_478EB0(a1, a2, 0) )
  {
    sub_4792A0((int)a1);
    return 1;
  }
  else
  {
    sub_4794F0(a1);
    return 0;
  }
}

//----- (004795A0) --------------------------------------------------------
int __cdecl sub_4795A0(_DWORD *a1, int a2)
{
  _DWORD *v3; // ebx
  int v4; // edi
  int *v5; // ebp
  int v7; // eax
  __int64 v8; // rax
  int v9; // eax
  int v10; // edi
  int v11; // ebp
  int v12; // ecx
  __int64 v13; // rax
  bool v14; // cf
  int v15; // ecx
  __int64 v16; // rax
  int v17; // ecx
  __int64 v18; // rax
  int v19; // ecx
  __int64 v20; // rax
  int v21; // ecx
  int v22; // ebp
  int v23; // eax
  int v24; // eax
  int v25; // ecx
  int v26; // eax
  float *v27; // eax
  double v28; // st6
  bool v29; // zf
  int v30; // ecx
  int v31; // eax
  int v32; // edx
  int v33; // ecx
  float *v34; // ecx
  int v35; // ecx
  int v36; // ebx
  int v37; // ebp
  int v38; // edx
  int v39; // ecx
  int v40; // eax
  int v41; // edx
  float *v42; // edx
  _DWORD *v43; // eax
  int v44; // ecx
  _DWORD *v45; // eax
  int v46; // ecx
  int v47; // eax
  int v48; // eax
  int v49; // ecx
  int v50; // edx
  int v51; // eax
  float *v52; // eax
  int v53; // eax
  __int64 v54; // rax
  unsigned int v55; // ecx
  int v56; // eax
  int v57; // edi
  int v58; // eax
  __int64 v59; // rax
  __int64 v60; // rax
  unsigned int v61; // ecx
  unsigned int v62; // edi
  int v63; // eax
  int v64; // [esp+10h] [ebp-3Ch]
  int v65; // [esp+14h] [ebp-38h]
  int v66; // [esp+18h] [ebp-34h]
  int v67; // [esp+1Ch] [ebp-30h]
  float *v68; // [esp+1Ch] [ebp-30h]
  int v69; // [esp+20h] [ebp-2Ch]
  int *v70; // [esp+24h] [ebp-28h]
  int v71; // [esp+28h] [ebp-24h]
  int v72; // [esp+28h] [ebp-24h]
  int v73; // [esp+28h] [ebp-24h]
  int v74; // [esp+2Ch] [ebp-20h]
  int j; // [esp+2Ch] [ebp-20h]
  int v76; // [esp+2Ch] [ebp-20h]
  int v77; // [esp+2Ch] [ebp-20h]
  int v78; // [esp+2Ch] [ebp-20h]
  int v79; // [esp+30h] [ebp-1Ch]
  int i; // [esp+34h] [ebp-18h]
  int v81; // [esp+34h] [ebp-18h]
  int v82; // [esp+40h] [ebp-Ch]
  int k; // [esp+40h] [ebp-Ch]
  int v84; // [esp+44h] [ebp-8h]
  int v85; // [esp+44h] [ebp-8h]
  int v86; // [esp+48h] [ebp-4h]
  int v87; // [esp+50h] [ebp+4h]

  v3 = (_DWORD *)a2;
  v4 = a1[26];
  v79 = a1[1];
  v65 = v4;
  v5 = *(int **)(v79 + 28);
  v70 = v5;
  v87 = v5[914];
  if ( !a2 )
    return -131;
  v7 = a1[6];
  if ( a1[5] > v7 && v7 != -1 )
    return -131;
  LODWORD(v8) = a1[16];
  a1[9] = a1[10];
  a1[10] = *(_DWORD *)(a2 + 28);
  HIDWORD(v8) = a1[17];
  a1[11] = -1;
  if ( (HIDWORD(v8) & (unsigned int)v8) == -1 || v8 + 1 != *(_QWORD *)(a2 + 56) )
  {
    a1[14] = -1;
    a1[15] = -1;
    *(_DWORD *)(v4 + 128) = -1;
    *(_DWORD *)(v4 + 132) = -1;
  }
  a1[16] = *(_DWORD *)(a2 + 56);
  a1[17] = *(_DWORD *)(a2 + 60);
  if ( *(_DWORD *)a2 )
  {
    v9 = v5[a1[10]];
    v10 = *v5 >> (v87 + 1);
    v11 = v5[1] >> (v87 + 1);
    v12 = a1[18];
    v86 = v9 >> (v87 + 1);
    v13 = *(int *)(a2 + 88);
    v14 = __CFADD__((_DWORD)v13, v12);
    v66 = v11;
    a1[18] = v13 + v12;
    v15 = a1[20];
    a1[19] += HIDWORD(v13) + v14;
    v16 = *(int *)(a2 + 92);
    v14 = __CFADD__((_DWORD)v16, v15);
    a1[20] = v16 + v15;
    v17 = a1[22];
    a1[21] += HIDWORD(v16) + v14;
    v18 = *(int *)(a2 + 96);
    v14 = __CFADD__((_DWORD)v18, v17);
    a1[22] = v18 + v17;
    v19 = a1[24];
    a1[23] += HIDWORD(v18) + v14;
    v20 = *(int *)(a2 + 100);
    v14 = __CFADD__((_DWORD)v20, v19);
    a1[24] = v20 + v19;
    v21 = a1[12];
    a1[25] += HIDWORD(v20) + v14;
    if ( v21 )
    {
      v69 = v11;
      v64 = 0;
    }
    else
    {
      v69 = 0;
      v64 = v11;
    }
    v22 = 0;
    v67 = 0;
    if ( *(int *)(v79 + 4) > 0 )
    {
      while ( 1 )
      {
        v23 = a1[10];
        if ( !a1[9] )
          break;
        if ( v23 )
        {
          v24 = sub_480650(*(_DWORD *)(v65 + 8) - v87);
          v25 = *(_DWORD *)(a1[2] + 4 * v22) + 4 * v64;
          if ( v66 > 0 )
          {
            v68 = (float *)(v24 + 4 * v66 - 4);
            v74 = *(_DWORD *)(*v3 + 4 * v22) - v24;
            v26 = v24 - v25;
            v71 = v66;
            for ( i = v26; ; v26 = i )
            {
              v27 = (float *)(v25 + v26);
              v25 += 4;
              v28 = *v68-- * *(float *)(v25 - 4);
              v29 = v71-- == 1;
              *(float *)(v25 - 4) = *(float *)((char *)v27 + v74) * *v27 + v28;
              if ( v29 )
                break;
            }
          }
          goto LABEL_37;
        }
        v30 = sub_480650(*(_DWORD *)(v65 + 4) - v87);
        v31 = *(_DWORD *)(a1[2] + 4 * v22) + 4 * (v64 + v66 / 2 - v10 / 2);
        v3 = (_DWORD *)a2;
        if ( v10 > 0 )
        {
          v32 = v30 + 4 * v10 - 4;
          v72 = v10;
          v81 = *(_DWORD *)(*(_DWORD *)a2 + 4 * v22) - v30;
          v33 = v30 - v31;
          for ( j = v33; ; v33 = j )
          {
            v34 = (float *)(v31 + v33);
            v32 -= 4;
            v31 += 4;
            v29 = v72-- == 1;
            *(float *)(v31 - 4) = *(float *)((char *)v34 + v81) * *v34 + *(float *)(v32 + 4) * *(float *)(v31 - 4);
            if ( v29 )
              break;
          }
LABEL_36:
          v3 = (_DWORD *)a2;
        }
LABEL_37:
        v45 = (_DWORD *)(*(_DWORD *)(a1[2] + 4 * v22) + 4 * v69);
        if ( v86 > 0 )
        {
          v46 = *(_DWORD *)(*v3 + 4 * v22) + 4 * v86 - (_DWORD)v45;
          v77 = v86;
          do
          {
            *v45 = *(_DWORD *)((char *)v45 + v46);
            ++v45;
            --v77;
          }
          while ( v77 );
        }
        v67 = ++v22;
        if ( v22 >= *(_DWORD *)(v79 + 4) )
          goto LABEL_41;
      }
      v35 = *(_DWORD *)(v65 + 4);
      if ( v23 )
      {
        v36 = sub_480650(v35 - v87);
        v37 = *(_DWORD *)(a1[2] + 4 * v22) + 4 * v64;
        v84 = v66 / 2;
        v82 = v10 / 2;
        v38 = 0;
        v76 = *(_DWORD *)(*(_DWORD *)a2 + 4 * v67) + 4 * (v66 / 2 - v10 / 2);
        if ( v10 > 0 )
        {
          v39 = v37;
          v40 = v36 + 4 * v10 - 4;
          v41 = v36 - v37;
          v73 = v10;
          while ( 1 )
          {
            v42 = (float *)(v39 + v41);
            v40 -= 4;
            v39 += 4;
            v29 = v73-- == 1;
            *(float *)(v39 - 4) = *(float *)((char *)v42 + v76 - v36) * *v42 + *(float *)(v40 + 4) * *(float *)(v39 - 4);
            if ( v29 )
              break;
            v41 = v36 - v37;
          }
          v38 = v10;
        }
        if ( v38 < v82 + v84 )
        {
          v43 = (_DWORD *)(v37 + 4 * v38);
          v44 = v82 + v84 - v38;
          do
          {
            *v43 = *(_DWORD *)((char *)v43 + v76 - v37);
            ++v43;
            --v44;
          }
          while ( v44 );
        }
        v22 = v67;
      }
      else
      {
        v48 = sub_480650(v35 - v87);
        v49 = *(_DWORD *)(a1[2] + 4 * v22) + 4 * v64;
        if ( v10 <= 0 )
          goto LABEL_37;
        v50 = v48 + 4 * v10 - 4;
        v78 = v10;
        v85 = *(_DWORD *)(*v3 + 4 * v22) - v48;
        v51 = v48 - v49;
        for ( k = v51; ; v51 = k )
        {
          v52 = (float *)(v49 + v51);
          v50 -= 4;
          v49 += 4;
          v29 = v78-- == 1;
          *(float *)(v49 - 4) = *(float *)((char *)v52 + v85) * *v52 + *(float *)(v50 + 4) * *(float *)(v49 - 4);
          if ( v29 )
            break;
        }
      }
      goto LABEL_36;
    }
LABEL_41:
    v47 = a1[6];
    a1[12] = a1[12] == 0 ? v66 : 0;
    if ( v47 == -1 )
    {
      a1[6] = v69;
      a1[5] = v69;
    }
    else
    {
      v53 = a1[9];
      a1[6] = v64;
      a1[5] = v64 + ((v70[a1[10]] / 4 + v70[v53] / 4) >> v87);
    }
    v5 = v70;
    v4 = v65;
  }
  if ( (*(_DWORD *)(v4 + 132) & *(_DWORD *)(v4 + 128)) == -1 )
  {
    *(_DWORD *)(v4 + 128) = 0;
    *(_DWORD *)(v4 + 132) = 0;
  }
  else
  {
    v54 = v5[a1[9]];
    *(_QWORD *)(v4 + 128) += (((BYTE4(v54) & 3) + (int)v54) >> 2) + v5[a1[10]] / 4;
  }
  if ( (a1[15] & a1[14]) == -1 )
  {
    v55 = v3[13];
    if ( (v55 & v3[12]) != -1 )
    {
      a1[14] = v3[12];
      a1[15] = v55;
      if ( *(_QWORD *)(v4 + 128) > __SPAIR64__(v55, a1[14]) )
      {
        v56 = *(_DWORD *)(v4 + 128) - v3[12];
        if ( v56 < 0 )
          v56 = 0;
        if ( v3[11] )
        {
          if ( v56 > (a1[5] - a1[6]) << v87 )
            v56 = (a1[5] - a1[6]) << v87;
          a1[5] -= v56 >> v87;
        }
        else
        {
          v57 = (v56 >> v87) + a1[6];
          v58 = a1[5];
          a1[6] = v57;
          if ( v57 > v58 )
            a1[6] = v58;
        }
      }
    }
  }
  else
  {
    v59 = v5[a1[9]];
    *((_QWORD *)a1 + 7) += (((BYTE4(v59) & 3) + (int)v59) >> 2) + v5[a1[10]] / 4;
    v60 = *((_QWORD *)v3 + 6);
    if ( (HIDWORD(v60) & v3[12]) != -1 )
    {
      v61 = a1[14];
      v62 = a1[15];
      if ( __PAIR64__(v62, v61) != v60 )
      {
        if ( __SPAIR64__(v62, v61) > v60 )
        {
          v63 = a1[14] - v3[12];
          if ( v63 )
          {
            if ( v3[11] )
            {
              if ( v63 > (a1[5] - a1[6]) << v87 )
                v63 = (a1[5] - a1[6]) << v87;
              if ( v63 < 0 )
                v63 = 0;
              a1[5] -= v63 >> v87;
            }
          }
        }
        a1[14] = v3[12];
        a1[15] = v3[13];
      }
    }
  }
  if ( v3[11] )
    a1[8] = 1;
  return 0;
}

//----- (00479C20) --------------------------------------------------------
int __cdecl sub_479C20(_DWORD *a1, _DWORD *a2)
{
  int v2; // eax
  int v3; // edx
  int i; // eax
  int v5; // edi

  v2 = a1[6];
  v3 = a1[1];
  if ( v2 <= -1 || v2 >= a1[5] )
    return 0;
  if ( a2 )
  {
    for ( i = 0; i < *(_DWORD *)(v3 + 4); *(_DWORD *)(a1[3] + 4 * i - 4) = v5 + 4 * a1[6] )
      v5 = *(_DWORD *)(a1[2] + 4 * i++);
    *a2 = a1[3];
  }
  return a1[5] - a1[6];
}

//----- (00479C80) --------------------------------------------------------
int __cdecl sub_479C80(int a1, int a2)
{
  if ( a2 && a2 + *(_DWORD *)(a1 + 24) > *(_DWORD *)(a1 + 20) )
    return -131;
  *(_DWORD *)(a1 + 24) += a2;
  return 0;
}

//----- (00479CB0) --------------------------------------------------------
int __cdecl sub_479CB0(int *a1, int *a2)
{
  int v3; // eax
  int v4; // ecx
  int v5; // ebp
  _DWORD *v6; // ebx
  int v8; // eax
  int *v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // edx
  int i; // edi
  int v14; // eax
  int v15; // [esp+10h] [ebp-4h]
  int v16; // [esp+18h] [ebp+4h]
  int v17; // [esp+18h] [ebp+4h]

  if ( !a1 )
  {
    v3 = 0;
    goto LABEL_5;
  }
  v3 = a1[16];
  if ( !v3 )
  {
LABEL_5:
    v16 = 0;
    v15 = 0;
    v4 = 0;
LABEL_8:
    v5 = 0;
    goto LABEL_9;
  }
  v16 = *(_DWORD *)(v3 + 104);
  v4 = *(_DWORD *)(v3 + 4);
  v15 = v4;
  if ( !v4 )
    goto LABEL_8;
  v5 = *(_DWORD *)(v4 + 28);
LABEL_9:
  if ( a1 )
    v6 = a1 + 1;
  else
    v6 = 0;
  if ( !v3 || !v16 || !v4 || !v5 || !v6 )
    return -136;
  sub_478DD0((int)a1);
  sub_488F60(v6, *a2, a2[1]);
  if ( sub_4890C0(v6, 1u) )
    return -135;
  v8 = sub_4890C0(v6, *(_DWORD *)(v16 + 44));
  v17 = v8;
  if ( v8 == -1 )
    return -136;
  a1[10] = v8;
  v9 = *(int **)(v5 + 4 * v8 + 32);
  if ( !v9 )
    return -136;
  v10 = *v9;
  a1[7] = v10;
  if ( v10 )
  {
    a1[6] = sub_4890C0(v6, 1u);
    v11 = sub_4890C0(v6, 1u);
    a1[8] = v11;
    if ( v11 == -1 )
      return -136;
  }
  else
  {
    a1[6] = 0;
    a1[8] = 0;
  }
  a1[12] = a2[4];
  a1[13] = a2[5];
  a1[14] = a2[6];
  v12 = a1[7];
  a1[15] = a2[7];
  a1[11] = a2[3];
  a1[9] = *(_DWORD *)(v5 + 4 * v12);
  *a1 = sub_478D60(a1, 4 * *(_DWORD *)(v15 + 4));
  for ( i = 0; i < *(_DWORD *)(v15 + 4); ++i )
    *(_DWORD *)(*a1 + 4 * i) = sub_478D60(a1, 4 * a1[9]);
  v14 = *(_DWORD *)(*(_DWORD *)(v5 + 4 * v17 + 32) + 12);
  return ((int (__cdecl *)(int *, _DWORD))(&off_49C15C)[*(_DWORD *)(v5 + 4 * v14 + 288)][4])(
           a1,
           *(_DWORD *)(v5 + 4 * v14 + 544));
}
// 49C15C:  int (__cdecl **off_49C15C)(int, int, int)

//----- (00479E50) --------------------------------------------------------
int __cdecl sub_479E50(int a1, int *a2)
{
  int v2; // esi
  int v4; // eax
  unsigned int i; // ecx
  int v6; // eax
  _DWORD v7[5]; // [esp+4h] [ebp-14h] BYREF

  v2 = *(_DWORD *)(a1 + 28);
  sub_488F60(v7, *a2, a2[1]);
  if ( sub_4890C0(v7, 1u) )
    return -135;
  v4 = *(_DWORD *)(v2 + 8);
  for ( i = 0; v4 > 1; ++i )
    v4 >>= 1;
  v6 = sub_4890C0(v7, i);
  if ( v6 == -1 )
    return -136;
  else
    return *(_DWORD *)(v2 + 4 * **(_DWORD **)(v2 + 4 * v6 + 32));
}
// 479E50:  _DWORD var_14[5]

//----- (00479ED0) --------------------------------------------------------
int __cdecl sub_479ED0(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 28) + 3656);
}

//----- (00479EE0) --------------------------------------------------------
void __cdecl sub_479EE0(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0x24u);
    free(Block);
  }
}

//----- (00479F00) --------------------------------------------------------
void __cdecl sub_479F00(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0x208u);
    free(Block);
  }
}

//----- (00479F20) --------------------------------------------------------
char *__cdecl sub_479F20(int *a1, int a2, int *a3, int a4, int a5)
{
  __int64 v6; // rax
  double v7; // st7
  double v8; // st5
  int v9; // edi
  int v10; // ebp
  int v11; // eax
  int v12; // edi
  float *v13; // ebx
  double v14; // st7
  long double v17; // st6
  __int64 v18; // rax
  double v19; // st7
  int v20; // eax
  int v21; // ecx
  _DWORD *v22; // eax
  int v23; // ebx
  int v24; // ecx
  int v25; // edx
  int v26; // ebp
  int v27; // edi
  int v28; // eax
  int v29; // edi
  int v30; // edi
  __int64 v31; // rax
  int j; // edi
  char *result; // eax
  int v34; // edi
  long double v35; // st6
  long double v36; // st6
  int v37; // ecx
  long double v38; // st6
  int v39; // edx
  long double v40; // st4
  long double v41; // st3
  float v42; // [esp+0h] [ebp-40h]
  int v43; // [esp+1Ch] [ebp-24h]
  int v44; // [esp+20h] [ebp-20h]
  int v45; // [esp+24h] [ebp-1Ch]
  float v46; // [esp+28h] [ebp-18h]
  float v47; // [esp+2Ch] [ebp-14h]
  double v48; // [esp+30h] [ebp-10h]
  double v49; // [esp+38h] [ebp-8h]
  int v50; // [esp+44h] [ebp+4h]
  int v51; // [esp+44h] [ebp+4h]
  float v52; // [esp+4Ch] [ebp+Ch]
  int v53; // [esp+4Ch] [ebp+Ch]
  int i; // [esp+50h] [ebp+10h]
  int k; // [esp+50h] [ebp+10h]
  int v56; // [esp+50h] [ebp+10h]
  int v57; // [esp+54h] [ebp+14h]
  int v58; // [esp+54h] [ebp+14h]

  memset(a1, 0, 0x34u);
  v43 = -99;
  v44 = 1;
  a1[9] = *a3;
  v6 = (__int64)(floor(__FYL2X__((double)*a3 * 8.0, 0.69314718055994528623) / __FYL2X__(2.0, 0.69314718055994528623) + 0.5)
               - 1.0);
  v7 = (double)a5;
  v48 = (double)a4;
  a1[8] = v6;
  v8 = (double)(1 << (v6 + 1));
  v9 = (__int64)((__FYL2X__(v7 * 0.25 * 0.5 / v48, 0.69314718055994528623) * 1.442695021629333 - 5.965784072875977) * v8
               - (double)*a3);
  a1[7] = v9;
  v10 = a4;
  a1[10] = (__int64)((__FYL2X__((v48 + 0.25) * v7 * 0.5 / v48, 0.69314718055994528623) * 1.442695021629333
                    - 5.965784072875977)
                   * v8
                   + 0.5)
         - v9
         + 1;
  a1[4] = (int)malloc(4 * a4);
  a1[5] = (int)malloc(4 * a4);
  a1[6] = (int)malloc(4 * a4);
  a1[1] = a2;
  *a1 = a4;
  a1[11] = a5;
  a1[12] = 1065353216;
  if ( a5 >= 26000 )
  {
    if ( a5 >= 38000 )
    {
      if ( a5 > 46000 )
        a1[12] = 1067660083;
    }
    else
    {
      a1[12] = 1064346583;
    }
  }
  else
  {
    a1[12] = 0;
  }
  v11 = 0;
  v12 = 0;
  v13 = (float *)&unk_49656C;
  v49 = (double)a5;
  do
  {
    v50 = v11 + 1;
    v14 = ((double)(v11 + 1) * 0.125 - 2.0 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
    _ST6 = v14;
    __asm { frndint }
    v17 = __FSCALE__(__F2XM1__(v14 - _ST6) + 1.0, _ST6);
    v18 = (__int64)floor((v17 * v48 + v17 * v48) / v49 + 0.5);
    v19 = *(v13 - 1);
    if ( v12 < (int)v18 )
    {
      v52 = (*v13 - v19) / (double)((int)v18 - v12);
      do
      {
        if ( v12 >= a4 )
          break;
        ++v12;
        *(float *)(a1[4] + 4 * v12 - 4) = v19 + 100.0;
        v19 = v19 + v52;
      }
      while ( v12 < (int)v18 );
    }
    v11 = v50;
    ++v13;
  }
  while ( (int)v13 < (int)&unk_4966C8 );
  for ( ; v12 < a4; *v22 = v21 )
  {
    v20 = a1[4];
    v21 = *(_DWORD *)(v20 + 4 * v12 - 4);
    v22 = (_DWORD *)(v20 + 4 * v12++);
  }
  v23 = 0;
  if ( a4 > 0 )
  {
    v53 = 0;
    v51 = 0;
    v24 = a5 / (2 * a4);
    v25 = v24 * v24;
    do
    {
      v46 = atan2((double)(v23 * v51) * 0.0000000185, 1.0) * 2.240000009536743
          + atan2((double)v53 * 0.00073999999, 1.0) * 13.10000038146973
          + (double)v53 * 0.000099999997;
      if ( v43 + *(_DWORD *)(a2 + 120) < v23 )
      {
        v26 = v43 * v24;
        v45 = v43 + *(_DWORD *)(a2 + 120);
        v27 = v43 * v25;
        v57 = v43 * v24;
        do
        {
          v47 = v46 - *(float *)(a2 + 112);
          if ( v47 <= atan2((double)(v43 * v27) * 0.0000000185, 1.0) * 2.240000009536743
                    + atan2((double)v57 * 0.00073999999, 1.0) * 13.10000038146973
                    + (double)v57 * 0.000099999997 )
            break;
          v27 += v25;
          v26 += v24;
          ++v43;
          v57 = v26;
          ++v45;
        }
        while ( v45 < v23 );
        v10 = a4;
      }
      v28 = v44;
      if ( v44 <= v10 )
      {
        v58 = v44 * v24;
        v29 = v44 * v25;
        do
        {
          if ( v28 >= v23 + *(_DWORD *)(a2 + 124) )
          {
            if ( v46 + *(float *)(a2 + 116) <= atan2((double)(v28 * v29) * 0.0000000185, 1.0) * 2.240000009536743
                                             + atan2((double)v58 * 0.00073999999, 1.0) * 13.10000038146973
                                             + (double)v58 * 0.000099999997 )
            {
              v10 = a4;
              v28 = v44;
              break;
            }
            v28 = v44;
          }
          ++v28;
          v29 += v25;
          v58 += v24;
          v10 = a4;
          v44 = v28;
        }
        while ( v28 <= a4 );
      }
      ++v23;
      *(_DWORD *)(a1[6] + 4 * v23 - 4) = (v43 << 16) + v28 - 65537;
      v51 += v25;
      v53 += v24;
    }
    while ( v23 < v10 );
  }
  v30 = 0;
  for ( i = 0; v30 < v10; *(_DWORD *)(a1[5] + 4 * v30 - 4) = v31 )
  {
    v31 = (__int64)((__FYL2X__(((double)i + 0.25) * v49 * 0.5 / v48, 0.69314718055994528623) * 1.442695021629333
                   - 5.965784072875977)
                  * (double)(1 << (*((_BYTE *)a1 + 32) + 1))
                  + 0.5);
    i = ++v30;
  }
  v42 = v49 * 0.5 / v48;
  a1[2] = (int)sub_47A4D0(a2 + 36, v42, v10, *(float *)(a2 + 24), *(float *)(a2 + 28));
  a1[3] = (int)malloc(0xCu);
  for ( j = 0; j < 12; *(_DWORD *)(j + a1[3] - 4) = result )
  {
    result = (char *)malloc(4 * v10);
    j += 4;
  }
  v34 = 0;
  for ( k = 0; v34 < v10; k = v34 )
  {
    v35 = __FYL2X__(((double)k + 0.5) * v49 / (v48 + v48), 0.69314718055994528623);
    v36 = v35 * 1.442695021629333 - 5.965784072875977 + v35 * 1.442695021629333 - 5.965784072875977;
    if ( v36 >= 0.0 )
    {
      if ( v36 >= 16.0 )
        v36 = 16.0;
    }
    else
    {
      v36 = 0.0;
    }
    v56 = (__int64)v36;
    v37 = 0;
    v38 = v36 - (double)v56;
    result = (char *)(4 * v56 + 136);
    do
    {
      v39 = a1[1];
      v37 += 4;
      v40 = *(float *)&result[v39 - 4] * (1.0 - v38);
      v41 = v38 * *(float *)&result[v39];
      result += 68;
      *(float *)(*(_DWORD *)(v37 + a1[3] - 4) + 4 * v34) = v40 + v41;
    }
    while ( v37 < 12 );
    ++v34;
  }
  return result;
}

//----- (0047A4D0) --------------------------------------------------------
_DWORD *__cdecl sub_47A4D0(int a1, float a2, int a3, float a4, float a5)
{
  int v5; // eax
  void *v6; // esp
  int v7; // esi
  float *v8; // edi
  int v9; // ebx
  double v10; // st7
  float *v11; // ecx
  int v12; // edx
  int v13; // eax
  float *v14; // edx
  float *v15; // ecx
  int v16; // edi
  int i; // esi
  double v18; // st7
  double v19; // st7
  int *v20; // ebx
  int v21; // esi
  bool v22; // cc
  float *v23; // edi
  float *v24; // esi
  int v25; // ebx
  double v26; // st7
  int v29; // edi
  long double v30; // st7
  int v31; // esi
  long double v32; // st7
  __int64 v33; // rax
  int v34; // ebx
  int v35; // eax
  int v36; // esi
  double v37; // st6
  double v38; // st5
  int v41; // edi
  double v42; // st6
  __int64 v45; // rax
  int v46; // ebx
  int v47; // edx
  float *v48; // ecx
  int v49; // edx
  float *v50; // ecx
  int v51; // esi
  double v52; // st7
  double v53; // st6
  int v56; // edi
  double v57; // st7
  int v60; // ecx
  int v61; // eax
  float *v62; // edx
  double v63; // st7
  int v64; // ecx
  bool v65; // c0
  bool v66; // c3
  float *v67; // ecx
  int v68; // ecx
  float *v69; // edi
  float *v70; // edx
  int n; // esi
  double v72; // st7
  __int64 v75; // rax
  int v76; // ecx
  float *v77; // esi
  float *v78; // edx
  _DWORD *v79; // edx
  double v80; // st7
  int v81; // ecx
  int v82; // esi
  float *v83; // edx
  float v85; // [esp+4h] [ebp-7F18h]
  float v86; // [esp+4h] [ebp-7F18h]
  int v87; // [esp+8h] [ebp-7F14h] BYREF
  float v88[7616]; // [esp+14h] [ebp-7F08h] BYREF
  int v89; // [esp+7714h] [ebp-808h] BYREF
  char v90; // [esp+77F4h] [ebp-728h] BYREF
  char v91[224]; // [esp+7E14h] [ebp-108h] BYREF
  float *v92; // [esp+7EF4h] [ebp-28h]
  double v93; // [esp+7EF8h] [ebp-24h]
  int v94; // [esp+7F00h] [ebp-1Ch]
  char *v95; // [esp+7F04h] [ebp-18h]
  int v96; // [esp+7F08h] [ebp-14h]
  float *v97; // [esp+7F0Ch] [ebp-10h]
  int v98; // [esp+7F10h] [ebp-Ch]
  _DWORD *v99; // [esp+7F14h] [ebp-8h]
  int v100; // [esp+7F18h] [ebp-4h]
  int v101; // [esp+7F24h] [ebp+8h]
  int k; // [esp+7F24h] [ebp+8h]
  int m; // [esp+7F24h] [ebp+8h]
  int v104; // [esp+7F24h] [ebp+8h]
  int j; // [esp+7F30h] [ebp+14h]
  int v106; // [esp+7F34h] [ebp+18h]
  int v107; // [esp+7F34h] [ebp+18h]

  v5 = 4 * a3 + 3;
  LOBYTE(v5) = v5 & 0xFC;
  v6 = alloca(v5);
  v95 = (char *)&v87;
  v99 = malloc(0x44u);
  memset(v88, 0, sizeof(v88));
  v98 = a1;
  v100 = (int)v88;
  v97 = (float *)&unk_4966C8;
  v96 = (int)&unk_496568;
  do
  {
    v7 = v96;
    v8 = (float *)v91;
    v9 = 56;
    do
    {
      v10 = 999.0;
      v11 = (float *)v7;
      v12 = 4;
      do
      {
        if ( (int)v11 >= (int)&unk_4966C8 )
        {
          if ( v10 > -30.0 )
            v10 = -30.0;
        }
        else if ( v10 > *v11 )
        {
          v10 = *v11;
        }
        ++v11;
        --v12;
      }
      while ( v12 );
      *v8 = v10;
      v7 += 4;
      ++v8;
      --v9;
    }
    while ( v9 );
    v13 = v100;
    v14 = v97;
    qmemcpy((void *)(v100 + 448), v97, 0x540u);
    qmemcpy((void *)v13, v14, 0xE0u);
    v92 = (float *)(v13 + 224);
    qmemcpy((void *)(v13 + 224), v14, 0xE0u);
    v15 = (float *)v13;
    v16 = 8;
    do
    {
      for ( i = 16; i > -40; --i )
      {
        v18 = (double)(int)abs32(i) * a5 + a4;
        if ( v18 < 0.0 && a4 > 0.0 )
          v18 = 0.0;
        if ( v18 > 0.0 && a4 < 0.0 )
          v18 = 0.0;
        v19 = v18 + *v15++;
        *(v15 - 1) = v19;
      }
      --v16;
      HIDWORD(v93) = v15;
    }
    while ( v16 );
    v101 = 0;
    v20 = &v89;
    do
    {
      v94 = 2;
      if ( v101 >= 2 )
        v94 = v101;
      v85 = *(float *)v98 + 100.0 - (double)v94 * 10.0 - 30.0;
      sub_47ACB0((float *)v100, v85);
      qmemcpy(v20, v91, 0xE0u);
      v86 = 100.0 - (double)v101 * 10.0 - 30.0;
      sub_47ACB0((float *)v20, v86);
      v21 = v100;
      sub_47AC80((float *)v20, v100);
      v20 += 56;
      v22 = ++v101 < 8;
      v100 = v21 + 224;
    }
    while ( v22 );
    v23 = v92;
    v24 = (float *)&v90;
    v25 = 7;
    do
    {
      sub_47AC50(v24, (int)(v24 - 56));
      sub_47AC50(v23, (int)v24);
      v24 += 56;
      v23 += 56;
      --v25;
    }
    while ( v25 );
    v22 = v96 + 16 < (int)&unk_496678;
    v97 += 336;
    v96 += 16;
    v98 += 4;
    v100 = HIDWORD(v93);
  }
  while ( v22 );
  for ( j = 0; j < 17; ++j )
  {
    v99[j] = malloc(0x20u);
    v93 = (double)j * 0.5;
    v26 = (v93 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
    _ST6 = v26;
    __asm { frndint }
    v29 = (__int64)floor(__FSCALE__(__F2XM1__(v26 - _ST6) + 1.0, _ST6) / a2);
    v30 = __FYL2X__((double)v29 * a2 + 1.0, 0.69314718055994528623);
    v31 = (__int64)ceil(v30 * 1.442695021629333 - 5.965784072875977 + v30 * 1.442695021629333 - 5.965784072875977);
    v98 = v31;
    v32 = __FYL2X__((double)(v29 + 1) * a2, 0.69314718055994528623);
    v33 = (__int64)floor(v32 * 1.442695021629333 - 5.965784072875977 + v32 * 1.442695021629333 - 5.965784072875977);
    v100 = v33;
    if ( v31 > j )
    {
      v31 = j;
      v98 = j;
    }
    v34 = 0;
    if ( v31 < 0 )
      v98 = 0;
    if ( (int)v33 >= 17 )
      v100 = 16;
    v94 = 0;
    do
    {
      *(_DWORD *)(v99[j] + 4 * v34) = malloc(0xE8u);
      if ( a3 > 0 )
        memset32(v95, 1148829696, a3);
      v106 = v98;
      if ( v98 <= v100 )
      {
        v35 = v34 + 8 * v98;
        v96 = 56 * v35;
        v97 = &v88[56 * v35 + 55];
        do
        {
          v36 = 0;
          for ( k = 0; k < 56; ++k )
          {
            v37 = (double)k * 0.125 + (double)v106 * 0.5;
            v38 = (v37 - 2.0625 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
            _ST4 = v38;
            __asm { frndint }
            v41 = (__int64)(__FSCALE__(__F2XM1__(v38 - _ST4) + 1.0, _ST4) / a2);
            v42 = (v37 - 1.9375 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
            _ST5 = v42;
            __asm { frndint }
            v45 = (__int64)(__FSCALE__(__F2XM1__(v42 - _ST5) + 1.0, _ST5) / a2 + 1.0);
            v46 = v45;
            if ( v41 < 0 )
              v41 = 0;
            v47 = a3;
            if ( v41 > a3 )
              v41 = a3;
            if ( v41 < v36 )
              v36 = v41;
            if ( (int)v45 < 0 )
              v46 = 0;
            if ( v46 > a3 )
              v46 = a3;
            if ( v36 < v46 )
            {
              v48 = (float *)&v95[4 * v36];
              do
              {
                if ( v36 >= v47 )
                  break;
                if ( *v48 > (double)v88[k + v96] )
                  *v48 = v88[k + v96];
                v47 = a3;
                ++v36;
                ++v48;
              }
              while ( v36 < v46 );
            }
          }
          if ( v36 < v47 )
          {
            v49 = v47 - v36;
            v50 = (float *)&v95[4 * v36];
            do
            {
              if ( *v50 > (double)*v97 )
                *v50 = *v97;
              ++v50;
              --v49;
            }
            while ( v49 );
          }
          v22 = ++v106 <= v100;
          v96 += 448;
          v97 += 448;
        }
        while ( v22 );
        v34 = v94;
      }
      if ( j + 1 < 17 )
      {
        v51 = 0;
        for ( m = 0; m < 56; ++m )
        {
          v52 = (double)m * 0.125 + v93;
          v53 = (v52 - 2.0625 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
          _ST5 = v53;
          __asm { frndint }
          v56 = (__int64)(__FSCALE__(__F2XM1__(v53 - _ST5) + 1.0, _ST5) / a2);
          v57 = (v52 - 1.9375 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
          _ST6 = v57;
          __asm { frndint }
          v107 = (__int64)(__FSCALE__(__F2XM1__(v57 - _ST6) + 1.0, _ST6) / a2 + 1.0);
          if ( v56 < 0 )
            v56 = 0;
          v60 = a3;
          if ( v56 > a3 )
            v56 = a3;
          if ( v56 < v51 )
            v51 = v56;
          v61 = v107;
          if ( v107 < 0 )
          {
            v61 = 0;
            v107 = 0;
          }
          if ( v61 > a3 )
          {
            v61 = a3;
            v107 = a3;
          }
          if ( v51 < v61 )
          {
            v62 = (float *)&v95[4 * v51];
            do
            {
              if ( v51 >= v60 )
                break;
              v63 = *v62;
              v64 = m + 56 * (v34 + 8 * (j + 1));
              v65 = v63 < v88[v64];
              v66 = v63 == v88[v64];
              v67 = &v88[v64];
              if ( !v65 && !v66 )
                *v62 = *v67;
              v60 = a3;
              ++v51;
              ++v62;
            }
            while ( v51 < v107 );
          }
        }
        if ( v51 < v60 )
        {
          v68 = a3 - v51;
          v69 = &v88[448 * j + 503 + 56 * v34];
          v70 = (float *)&v95[4 * v51];
          do
          {
            if ( *v70 > (double)*v69 )
              *v70 = *v69;
            ++v70;
            --v68;
          }
          while ( v68 );
        }
      }
      v104 = 0;
      for ( n = 8; n < 232; n += 4 )
      {
        v72 = ((double)v104 * 0.125 + v93 - 2.0 + 5.965784072875977) * 0.6931470036506653 * 1.442695040888963387;
        _ST6 = v72;
        __asm { frndint }
        v75 = (__int64)(__FSCALE__(__F2XM1__(v72 - _ST6) + 1.0, _ST6) / a2);
        if ( (int)v75 >= 0 )
        {
          HIDWORD(v75) = v99[j];
          if ( (int)v75 < a3 )
            *(_DWORD *)(*(_DWORD *)(HIDWORD(v75) + 4 * v34) + n) = *(_DWORD *)&v95[4 * v75];
          else
            *(_DWORD *)(*(_DWORD *)(HIDWORD(v75) + 4 * v34) + n) = -998653952;
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)(v99[j] + 4 * v34) + n) = -998653952;
        }
        ++v104;
      }
      v76 = 0;
      v77 = *(float **)(v99[j] + 4 * v34);
      v78 = v77 + 2;
      do
      {
        if ( *v78 > -200.0 )
          break;
        ++v76;
        ++v78;
      }
      while ( v76 < 16 );
      v79 = v99;
      v80 = (double)v76;
      v81 = 55;
      *v77 = v80;
      v82 = *(_DWORD *)(v79[j] + 4 * v34);
      v83 = (float *)(v82 + 228);
      do
      {
        if ( *v83 > -200.0 )
          break;
        --v81;
        --v83;
      }
      while ( v81 > 17 );
      v94 = ++v34;
      *(float *)(v82 + 4) = (float)v81;
    }
    while ( v34 < 8 );
  }
  return v99;
}

//----- (0047AC50) --------------------------------------------------------
void __cdecl sub_47AC50(float *a1, int a2)
{
  float *v2; // ecx
  int v3; // edx
  int v4; // esi

  v2 = a1;
  v3 = a2 - (_DWORD)a1;
  v4 = 56;
  do
  {
    if ( *(float *)((char *)v2 + v3) < (double)*v2 )
      *v2 = *(float *)((char *)v2 + v3);
    ++v2;
    --v4;
  }
  while ( v4 );
}

//----- (0047AC80) --------------------------------------------------------
void __cdecl sub_47AC80(float *a1, int a2)
{
  float *v2; // ecx
  int v3; // edx
  int v4; // esi

  v2 = a1;
  v3 = a2 - (_DWORD)a1;
  v4 = 56;
  do
  {
    if ( *(float *)((char *)v2 + v3) > (double)*v2 )
      *v2 = *(float *)((char *)v2 + v3);
    ++v2;
    --v4;
  }
  while ( v4 );
}

//----- (0047ACB0) --------------------------------------------------------
float *__cdecl sub_47ACB0(float *a1, float a2)
{
  float *result; // eax
  int v3; // ecx
  double v4; // st7

  result = a1;
  v3 = 56;
  do
  {
    v4 = a2 + *result++;
    --v3;
    *(result - 1) = v4;
  }
  while ( v3 );
  return result;
}

//----- (0047ACD0) --------------------------------------------------------
int __cdecl sub_47ACD0(void **a1)
{
  int i; // ebx
  int j; // esi
  int k; // esi
  int result; // eax

  if ( a1 )
  {
    if ( a1[4] )
      free(a1[4]);
    if ( a1[5] )
      free(a1[5]);
    if ( a1[6] )
      free(a1[6]);
    if ( a1[2] )
    {
      for ( i = 0; i < 68; i += 4 )
      {
        for ( j = 0; j < 32; j += 4 )
          free(*(void **)(*(_DWORD *)((char *)a1[2] + i) + j));
        free(*(void **)((char *)a1[2] + i));
      }
      free(a1[2]);
    }
    if ( a1[3] )
    {
      for ( k = 0; k < 12; k += 4 )
        free(*(void **)((char *)a1[3] + k));
      free(a1[3]);
    }
    result = 0;
    memset(a1, 0, 0x34u);
  }
  return result;
}

//----- (0047AD90) --------------------------------------------------------
void __cdecl sub_47AD90(int a1, float *a2, float *a3)
{
  int v3; // esi
  int v4; // eax
  void *v5; // esp
  float *v6; // edi
  int v7; // ecx
  float *v8; // eax
  double v9; // st7
  float *v10; // eax
  int v11; // edx
  double v12; // st7
  char *v13; // ebx
  __int64 v14; // rax
  float v15[3]; // [esp+0h] [ebp-10h] BYREF
  int v16; // [esp+Ch] [ebp-4h]
  int v17; // [esp+20h] [ebp+10h]

  v3 = *(_DWORD *)a1;
  v4 = 4 * *(_DWORD *)a1 + 3;
  LOBYTE(v4) = v4 & 0xFC;
  v5 = alloca(v4);
  v6 = a3;
  sub_47AE80(*(_DWORD *)a1, *(int **)(a1 + 24), a2, a3, 140.0, -1);
  if ( v3 > 0 )
  {
    v7 = (char *)a2 - (char *)a3;
    v8 = a3;
    v16 = (char *)v15 - (char *)a3;
    v17 = v3;
    do
    {
      v9 = *(float *)((char *)v8 + v7) - *v8;
      *(float *)((char *)++v8 + v16 - 4) = v9;
      --v17;
    }
    while ( v17 );
  }
  sub_47AE80(v3, *(int **)(a1 + 24), v15, v6, 0.0, *(_DWORD *)(*(_DWORD *)(a1 + 4) + 128));
  if ( v3 > 0 )
  {
    v10 = v15;
    v11 = v3;
    do
    {
      v12 = *(float *)((char *)v10 + (char *)a2 - (char *)v15) - *v10;
      ++v10;
      --v11;
      *(v10 - 1) = v12;
    }
    while ( v11 );
    v13 = (char *)((char *)v15 - (char *)v6);
    do
    {
      v14 = (__int64)(*v6 + 0.5);
      if ( (int)v14 < 40 )
      {
        if ( (int)v14 < 0 )
          LODWORD(v14) = 0;
      }
      else
      {
        LODWORD(v14) = 39;
      }
      ++v6;
      --v3;
      *(v6 - 1) = *(float *)(*(_DWORD *)(a1 + 4) + 4 * v14 + 336) + *(float *)&v13[(_DWORD)v6 - 4];
    }
    while ( v3 );
  }
}
// 47AE36: conditional instruction was optimized away because esi.4>=1

//----- (0047AE80) --------------------------------------------------------
void __cdecl sub_47AE80(int a1, int *a2, float *a3, float *a4, float a5, int a6)
{
  int v6; // edi
  int v7; // eax
  void *v8; // esp
  int v9; // eax
  void *v10; // esp
  float *v11; // ebx
  int v12; // eax
  void *v13; // esp
  int v14; // eax
  void *v15; // esp
  int v16; // eax
  void *v17; // esp
  double v18; // st7
  double v19; // st6
  double v21; // st5
  int v22; // eax
  float *v23; // ecx
  double v24; // st5
  double v25; // st4
  double v26; // st3
  float *v27; // ecx
  double v28; // st2
  int v29; // eax
  double v30; // st0
  bool v31; // zf
  int v32; // edx
  int v33; // ecx
  double v34; // st7
  int v35; // eax
  int v36; // eax
  double v37; // st6
  double v38; // st5
  double v39; // st4
  double v40; // st3
  double v41; // st2
  double v42; // st6
  int *v43; // eax
  int v44; // eax
  int v45; // ecx
  int v46; // eax
  double v47; // st6
  double v48; // st4
  double v49; // st3
  double v50; // st2
  double v51; // st6
  int *v52; // eax
  int v53; // eax
  int v54; // ecx
  double v55; // st6
  double v56; // st7
  int v57; // ecx
  int v58; // eax
  int v59; // edi
  int v60; // ecx
  int v61; // edx
  double v62; // st6
  double v63; // st5
  double v64; // st4
  double v65; // st3
  double v66; // st2
  double v67; // st6
  int v68; // edx
  int v69; // eax
  int v70; // eax
  int v71; // ecx
  double v72; // st6
  double v73; // st5
  double v74; // st4
  double v75; // st3
  double v76; // st2
  double v77; // st6
  int v78; // edi
  float *v79; // edx
  double v80; // st6
  int *v81; // [esp+0h] [ebp-40h] BYREF
  int v82; // [esp+4h] [ebp-3Ch] BYREF
  float v83; // [esp+Ch] [ebp-34h]
  int v84; // [esp+10h] [ebp-30h]
  int v85; // [esp+14h] [ebp-2Ch]
  int v86; // [esp+18h] [ebp-28h]
  float *v87; // [esp+1Ch] [ebp-24h]
  int *v88; // [esp+20h] [ebp-20h]
  int v89; // [esp+24h] [ebp-1Ch]
  float *v90; // [esp+28h] [ebp-18h]
  float *v91; // [esp+2Ch] [ebp-14h]
  float *v92; // [esp+30h] [ebp-10h]
  float v93; // [esp+34h] [ebp-Ch]
  float v94; // [esp+38h] [ebp-8h]
  float v95; // [esp+3Ch] [ebp-4h]
  int v96; // [esp+4Ch] [ebp+Ch]
  float *v97; // [esp+4Ch] [ebp+Ch]
  int v98; // [esp+4Ch] [ebp+Ch]
  float v99; // [esp+50h] [ebp+10h]
  float v100; // [esp+50h] [ebp+10h]
  int v101; // [esp+50h] [ebp+10h]
  int v102; // [esp+50h] [ebp+10h]
  float *v103; // [esp+5Ch] [ebp+1Ch]

  v6 = a1;
  v7 = 4 * a1 + 3;
  LOBYTE(v7) = v7 & 0xFC;
  v8 = alloca(v7);
  v9 = 4 * a1 + 3;
  LOBYTE(v9) = (4 * a1 + 3) & 0xFC;
  v10 = alloca(v9);
  v11 = (float *)&v81;
  v12 = 4 * a1 + 3;
  v87 = (float *)&v81;
  LOBYTE(v12) = v12 & 0xFC;
  v13 = alloca(v12);
  v90 = (float *)&v81;
  v14 = 4 * a1 + 3;
  LOBYTE(v14) = v14 & 0xFC;
  v15 = alloca(v14);
  v92 = (float *)&v81;
  v16 = 4 * a1 + 3;
  LOBYTE(v16) = v16 & 0xFC;
  v17 = alloca(v16);
  v18 = 0.0;
  v19 = 0.0;
  v91 = (float *)&v81;
  v21 = a5 + *a3;
  v94 = 0.0;
  v95 = 0.0;
  v93 = 1.0;
  v99 = v21;
  if ( v21 < 1.0 )
    v99 = 1.0;
  v22 = (int)v90;
  v23 = v92;
  v24 = v99 * v99 * 0.5;
  *(float *)&v88 = v24;
  *(float *)&v89 = v24;
  v25 = *(float *)&v88;
  v26 = *(float *)&v89 * v99;
  v100 = 1.0;
  v81 = v88;
  *v90 = 0.0;
  *v23 = v26;
  *v91 = 0.0;
  if ( a1 > 1 )
  {
    v85 = v22 - (_DWORD)&v81;
    v86 = (char *)a3 - (char *)&v81;
    v84 = (char *)v92 - (char *)&v81;
    v27 = (float *)&v82;
    LODWORD(v83) = (char *)v91 - (char *)&v81;
    v88 = (int *)(a1 - 1);
    do
    {
      v28 = a5 + *(float *)((char *)v27 + v86);
      if ( v28 < 1.0 )
        v28 = 1.0;
      v29 = v85;
      ++v27;
      v24 = v24 + v28 * v28;
      v30 = v100 * (v28 * v28);
      *(float *)&v89 = v30;
      v25 = v25 + v30;
      v19 = v19 + v100 * v100 * (v28 * v28);
      v26 = v26 + v28 * v28 * v28;
      v18 = v18 + *(float *)&v89 * v28;
      *(v27 - 1) = v24;
      *(v27 - 1) = v25;
      *(float *)((char *)v27 + v29 - 4) = v19;
      *(float *)((char *)v27 + v84 - 4) = v26;
      *(float *)((char *)v27 + LODWORD(v83) - 4) = v18;
      v31 = v88 == (int *)1;
      v88 = (int *)((char *)v88 - 1);
      v100 = v100 + 1.0;
    }
    while ( !v31 );
  }
  v32 = 0;
  v33 = *a2;
  v101 = 0;
  v34 = 0.0;
  v35 = *a2 >> 16;
  if ( v35 < 0 )
  {
    v88 = a2;
    v89 = (char *)a4 - (char *)a2;
    v32 = 0;
    do
    {
      v36 = -1 * v35;
      v37 = *(float *)&(&v81)[v36] + *(float *)&(&v81)[(unsigned __int16)v33];
      v38 = *(float *)&(&v81)[(unsigned __int16)v33] - *(float *)&(&v81)[v36];
      v39 = v90[v36] + v90[(unsigned __int16)v33];
      v40 = v92[v36] + v92[(unsigned __int16)v33];
      v41 = v91[(unsigned __int16)v33] - v91[v36];
      v94 = v40 * v39 - v41 * v38;
      v95 = v41 * v37 - v40 * v38;
      v93 = v39 * v37 - v38 * v38;
      v42 = (v34 * v95 + v94) / v93;
      if ( v42 < 0.0 )
        v42 = 0.0;
      v43 = v88 + 1;
      ++v32;
      v88 = v43;
      *(float *)((char *)v43 + v89 - 4) = v42 - a5;
      v33 = *v43;
      v34 = v34 + 1.0;
      v35 = *v43 >> 16;
    }
    while ( v35 < 0 );
    v6 = a1;
    v101 = v32;
  }
  v45 = a2[v32];
  LODWORD(v83) = &a2[v32];
  v44 = v45;
  v45 = (unsigned __int16)v45;
  v46 = v44 >> 16;
  if ( (unsigned __int16)v45 < v6 )
  {
    *(float *)&v88 = v83;
    v6 = a1;
    v89 = (char *)a4 - (char *)a2;
    do
    {
      v47 = *(float *)&(&v81)[v45] - *(float *)&(&v81)[v46];
      v48 = v90[v45] - v90[v46];
      v49 = v92[v45] - v92[v46];
      v50 = v91[v45] - v91[v46];
      v94 = v49 * v48 - v50 * v47;
      v95 = v50 * v47 - v49 * v47;
      v93 = v48 * v47 - v47 * v47;
      v51 = (v34 * v95 + v94) / v93;
      if ( v51 < 0.0 )
        v51 = 0.0;
      v52 = v88 + 1;
      v88 = v52;
      v32 = v101 + 1;
      *(float *)((char *)v52 + v89 - 4) = v51 - a5;
      ++v101;
      v34 = v34 + 1.0;
      v53 = *v52;
      v45 = (unsigned __int16)v53;
      v46 = v53 >> 16;
    }
    while ( v45 < a1 );
  }
  if ( v32 < v6 )
  {
    v96 = (int)&a4[v32];
    v54 = v6 - v32;
    do
    {
      v55 = (v34 * v95 + v94) / v93;
      if ( v55 < 0.0 )
        v55 = 0.0;
      --v54;
      v96 += 4;
      *(float *)(v96 - 4) = v55 - a5;
      v34 = v34 + 1.0;
    }
    while ( v54 );
  }
  if ( a6 > 0 )
  {
    v56 = 0.0;
    v57 = 0;
    v58 = a6 / 2;
    v102 = 0;
    v84 = a6 / 2;
    if ( a6 / 2 - a6 < 0 )
    {
      v89 = a6 / 2;
      v59 = 4 * v58;
      v97 = a4;
      v88 = (int *)(4 * v58);
      v60 = -4 * (v58 - a6);
      LODWORD(v83) = -4 * a6;
      v61 = 4 * (a6 / -2);
      while ( 1 )
      {
        v62 = *(float *)((char *)&v81 + v59) + *(float *)((char *)&v81 + v60);
        v63 = *(float *)((char *)v11 + v59) - *(float *)((char *)v11 + v60);
        v64 = *(float *)((char *)v90 + v59) + *(float *)((char *)v90 + v60);
        v65 = *(float *)((char *)v92 + v59) + *(float *)((char *)v92 + v60);
        v66 = *(float *)((char *)v91 + v59) - *(float *)((char *)v91 + v60);
        v94 = v65 * v64 - v66 * v63;
        v95 = v66 * v62 - v65 * v63;
        v93 = v64 * v62 - v63 * v63;
        v67 = (v56 * v95 + v94) / v93 - a5;
        if ( v67 < *v97 )
          *v97 = v67;
        ++v102;
        v61 -= 4;
        v59 = (int)(v88 + 1);
        ++v97;
        v56 = v56 + 1.0;
        ++v89;
        ++v88;
        v60 = v61 - LODWORD(v83);
        if ( v89 - a6 >= 0 )
          break;
        v11 = v87;
      }
      v58 = v84;
      v11 = v87;
      v6 = a1;
      v57 = v102;
    }
    v68 = v58 + v57;
    v69 = v58 + v57 - a6;
    if ( v68 < v6 )
    {
      v87 = (float *)v68;
      v70 = 4 * v69;
      v71 = 4 * v68;
      LODWORD(v83) = 4 * a6;
      v98 = 4 * v68;
      v6 = a1;
      v103 = &a4[v102];
      do
      {
        v72 = *(float *)((char *)&v81 + v71) - *(float *)((char *)&v81 + v70);
        v73 = *(float *)((char *)v11 + v71) - *(float *)((char *)v11 + v70);
        v74 = *(float *)((char *)v90 + v71) - *(float *)((char *)v90 + v70);
        v75 = *(float *)((char *)v92 + v71) - *(float *)((char *)v92 + v70);
        v76 = *(float *)((char *)v91 + v71) - *(float *)((char *)v91 + v70);
        v94 = v75 * v74 - v76 * v73;
        v95 = v76 * v72 - v75 * v73;
        v93 = v74 * v72 - v73 * v73;
        v77 = (v56 * v95 + v94) / v93 - a5;
        if ( v77 < *v103 )
          *v103 = v77;
        v56 = v56 + 1.0;
        ++v102;
        ++v103;
        v98 += 4;
        v71 = v98;
        v70 = v98 - LODWORD(v83);
        v87 = (float *)((char *)v87 + 1);
      }
      while ( (int)v87 < a1 );
      v57 = v102;
    }
    if ( v57 < v6 )
    {
      v78 = v6 - v57;
      v79 = &a4[v57];
      do
      {
        v80 = (v56 * v95 + v94) / v93 - a5;
        if ( v80 < *v79 )
          *v79 = v80;
        v56 = v56 + 1.0;
        ++v79;
        --v78;
      }
      while ( v78 );
    }
  }
}

//----- (0047B460) --------------------------------------------------------
int __cdecl sub_47B460(int *a1, int a2, int a3, float a4, float a5)
{
  int v5; // edi
  int v6; // ebx
  int v7; // eax
  void *v8; // esp
  double v9; // st7
  int v10; // eax
  float *v11; // ecx
  int v12; // ecx
  int i; // eax
  float v15[3]; // [esp+0h] [ebp-Ch] BYREF

  v5 = a1[10];
  v6 = *a1;
  v7 = 4 * v5 + 3;
  LOBYTE(v7) = v7 & 0xFC;
  v8 = alloca(v7);
  v9 = a5 + *(float *)(a1[1] + 4);
  v10 = 0;
  if ( v5 > 0 )
  {
    v11 = v15;
    do
    {
      *v11 = -9999.0;
      ++v10;
      ++v11;
    }
    while ( v10 < a1[10] );
  }
  v12 = a1[1];
  if ( v9 < *(float *)(v12 + 8) )
    v9 = *(float *)(v12 + 8);
  for ( i = 0; i < v6; *(float *)(a3 + 4 * i - 4) = v9 + *(float *)(a1[4] + 4 * i - 4) )
    ++i;
  sub_47B500(a1, a1[2], a2, a3, (int)v15, a4);
  return sub_47B6B0(a1, v15, a3);
}

//----- (0047B500) --------------------------------------------------------
void __cdecl sub_47B500(int *a1, int a2, int a3, int a4, int a5, float a6)
{
  int v7; // esi
  int v8; // ebx
  bool v9; // cc
  double v10; // st7
  int v11; // edi
  double v12; // st7
  int v13; // edx
  float *v14; // ecx
  int v15; // ebx
  _DWORD *v16; // edi
  bool v17; // c0
  int v18; // edx
  float v19; // [esp+Ch] [ebp-4h]
  int v20; // [esp+14h] [ebp+4h]
  float v21; // [esp+28h] [ebp+18h]

  v7 = 0;
  v8 = *a1;
  v9 = *a1 <= 0;
  v10 = *(float *)(a1[1] + 496) - a6;
  v20 = *a1;
  v19 = v10;
  if ( !v9 )
  {
    do
    {
      v11 = a1[5];
      v12 = *(float *)(a3 + 4 * v7);
      v13 = *(_DWORD *)(v11 + 4 * v7);
      v14 = (float *)(a3 + 4 * v7);
      v21 = *v14;
      if ( v7 + 1 < v8 )
      {
        v15 = v7 + 1;
        v16 = (_DWORD *)(v11 + 4 * (v7 + 1));
        do
        {
          if ( *v16 != v13 )
            break;
          v17 = v12 < v14[1];
          ++v14;
          ++v7;
          ++v16;
          ++v15;
          if ( v17 )
            v12 = *v14;
        }
        while ( v15 < v20 );
        v21 = v12;
        v8 = v20;
      }
      if ( v12 + 6.0 > *(float *)(a4 + 4 * v7) )
      {
        v18 = v13 >> a1[8];
        if ( v18 < 17 )
        {
          if ( v18 < 0 )
            v18 = 0;
        }
        else
        {
          v18 = 16;
        }
        sub_47B5E0(a5, *(_DWORD *)(a2 + 4 * v18), v21, *(_DWORD *)(a1[5] + 4 * v7) - a1[7], a1[10], a1[9], v19);
      }
      ++v7;
    }
    while ( v7 < v8 );
  }
}

//----- (0047B5E0) --------------------------------------------------------
int __cdecl sub_47B5E0(int a1, int a2, float a3, int a4, int a5, int a6, float a7)
{
  __int64 v7; // rax
  int v8; // eax
  float *v9; // esi
  int v10; // edi
  __int64 v11; // rax
  int v12; // ecx
  float *v13; // esi
  double v14; // st7
  int v16; // [esp+1Ch] [ebp+1Ch]

  v7 = (__int64)((a3 + a7 - 30.0) * 0.1000000014901161);
  v8 = (int)v7 <= 0 ? 0 : v7;
  if ( v8 >= 7 )
    v8 = 7;
  v9 = *(float **)(a2 + 4 * v8);
  v16 = (__int64)v9[1];
  v10 = (__int64)((*v9 - 16.0) * (double)a6 + (double)a4 - (double)(a6 >> 1));
  v11 = (__int64)*v9;
  v12 = v11;
  if ( (int)v11 < v16 )
  {
    v13 = &v9[v11 + 2];
    HIDWORD(v11) = a1 + 4 * v10;
    do
    {
      if ( v10 > 0 )
      {
        v14 = a3 + *v13;
        if ( v14 > *(float *)HIDWORD(v11) )
          *(float *)HIDWORD(v11) = v14;
      }
      LODWORD(v11) = a5;
      v10 += a6;
      HIDWORD(v11) += 4 * a6;
      if ( v10 >= a5 )
        break;
      LODWORD(v11) = v16;
      ++v12;
      ++v13;
    }
    while ( v12 < v16 );
  }
  return v11;
}

//----- (0047B6B0) --------------------------------------------------------
int __cdecl sub_47B6B0(int *a1, float *a2, int a3)
{
  int v4; // esi
  int v5; // ebx
  int v6; // edx
  float *v7; // ebx
  int v8; // ecx
  int v9; // ebp
  int i; // ebp
  double v11; // st7
  int j; // ebx
  int result; // eax
  float *v14; // ecx
  float v15; // [esp+10h] [ebp+4h]
  float v16; // [esp+14h] [ebp+8h]

  v4 = 0;
  v5 = a1[9];
  sub_47B7F0(a2, v5, a1[10]);
  v6 = *(_DWORD *)a1[5] - (v5 >> 1) - a1[7];
  if ( *a1 > 1 )
  {
    do
    {
      v7 = &a2[v6];
      v15 = *v7;
      v8 = ((*(_DWORD *)(a1[5] + 4 * v4) + *(_DWORD *)(a1[5] + 4 * v4 + 4)) >> 1) - a1[7];
      v9 = a1[1];
      if ( *v7 > (double)*(float *)(v9 + 32) )
        v15 = *(float *)(v9 + 32);
      for ( i = v6 + 1; i <= v8; ++i )
      {
        v11 = v7[1];
        ++v7;
        ++v6;
        if ( v11 > -9999.0 && *v7 < (double)v15 || v15 == -9999.0 )
          v15 = *v7;
      }
      for ( j = a1[7] + v6; v4 < *a1; ++v4 )
      {
        if ( *(_DWORD *)(a1[5] + 4 * v4) > j )
          break;
        if ( *(float *)(a3 + 4 * v4) < (double)v15 )
          *(float *)(a3 + 4 * v4) = v15;
      }
    }
    while ( v4 + 1 < *a1 );
  }
  result = *a1;
  v16 = a2[a1[10] - 1];
  if ( v4 < *a1 )
  {
    v14 = (float *)(a3 + 4 * v4);
    do
    {
      if ( *v14 < (double)v16 )
        *v14 = v16;
      result = *a1;
      ++v4;
      ++v14;
    }
    while ( v4 < *a1 );
  }
  return result;
}

//----- (0047B7F0) --------------------------------------------------------
int __cdecl sub_47B7F0(float *a1, int a2, int a3)
{
  int v3; // eax
  void *v4; // esp
  int result; // eax
  void *v6; // esp
  int v7; // edx
  float *v8; // ebx
  int v9; // ecx
  float *v10; // eax
  float v11; // eax
  float *v12; // esi
  float *v13; // eax
  float *v14; // esi
  int v15; // edx
  int *v16; // esi
  int v17; // eax
  float *v18; // edx
  int v19; // [esp+0h] [ebp-20h] BYREF
  int v20; // [esp+4h] [ebp-1Ch] BYREF
  int i; // [esp+Ch] [ebp-14h]
  int v22; // [esp+10h] [ebp-10h]
  float *v23; // [esp+14h] [ebp-Ch]
  int *v24; // [esp+18h] [ebp-8h]
  float *v25; // [esp+1Ch] [ebp-4h]

  v3 = 4 * a3 + 3;
  LOBYTE(v3) = v3 & 0xFC;
  v4 = alloca(v3);
  result = 4 * a3 + 3;
  LOBYTE(result) = (4 * a3 + 3) & 0xFC;
  v6 = alloca(result);
  v7 = 0;
  v8 = (float *)&v19;
  v9 = 0;
  v23 = (float *)&v19;
  v22 = 0;
  if ( a3 > 0 )
  {
    v25 = a1;
    do
    {
      if ( v9 >= 2 )
      {
        v12 = &v8[v9 - 1];
        v24 = &v19 + v9 - 2;
        i = (char *)&v19 - (char *)v8;
        while ( *v25 >= (double)*v12 )
        {
          if ( v7 >= a2 + *(_DWORD *)((char *)v12 + i) || v9 <= 1 || *v12 > (double)*(v12 - 1) || v7 >= a2 + *v24 )
          {
            v13 = v25;
            v8 = v23;
            *(&v19 + v9) = v7;
            v11 = *v13;
            goto LABEL_13;
          }
          v8 = v23;
          --v9;
          --v12;
          --v24;
        }
      }
      v10 = v25;
      *(&v19 + v9) = v7;
      v11 = *v10;
LABEL_13:
      v14 = v25;
      v8[v9] = v11;
      result = a3;
      ++v9;
      ++v7;
      v25 = v14 + 1;
    }
    while ( v7 < a3 );
  }
  v15 = 0;
  v23 = 0;
  if ( v9 > 0 )
  {
    v16 = &v20;
    v17 = (char *)v8 - (char *)&v19;
    for ( i = (char *)v8 - (char *)&v19; ; v17 = i )
    {
      if ( v15 >= v9 - 1 || *(float *)((char *)v16 + v17) <= (double)*v8 )
        result = *(v16 - 1) + a2 + 1;
      else
        result = *v16;
      if ( result > a3 )
        result = a3;
      if ( v22 < result )
      {
        result -= v22;
        v18 = &a1[v22];
        v22 += result;
        do
        {
          *v18++ = *v8;
          --result;
        }
        while ( result );
        v15 = (int)v23;
      }
      ++v15;
      ++v16;
      ++v8;
      v23 = (float *)v15;
      if ( v15 >= v9 )
        break;
    }
  }
  return result;
}

//----- (0047B950) --------------------------------------------------------
int __cdecl sub_47B950(int a1, int a2, float *a3, int a4, int a5, int a6, int a7)
{
  int v9; // edi
  int result; // eax
  float *v11; // ecx
  int v12; // ebp
  double v13; // st7
  int v14; // edx
  double v15; // st6
  double v17; // st7
  unsigned __int8 v18; // c0
  unsigned __int8 v19; // c3
  double v20; // st7
  int v21; // [esp+Ch] [ebp-4h]
  float v22; // [esp+14h] [ebp+4h]
  int v23; // [esp+18h] [ebp+8h]
  int v24; // [esp+1Ch] [ebp+Ch]
  float v25; // [esp+20h] [ebp+10h]
  int v26; // [esp+24h] [ebp+14h]

  v9 = 0;
  result = *(_DWORD *)a1;
  v21 = result;
  v25 = *(float *)(*(_DWORD *)(a1 + 4) + 4 * a4 + 12);
  v22 = *(float *)(a1 + 48);
  if ( result > 0 )
  {
    v11 = a3;
    v24 = a5 - (_DWORD)a3;
    v12 = a2 - (_DWORD)v11;
    v23 = a7 - (_DWORD)v11;
    v26 = a6 - (_DWORD)v11;
    while ( 1 )
    {
      v13 = *(float *)(*(_DWORD *)(*(_DWORD *)(a1 + 12) + 4 * a4) + 4 * v9) + *(float *)((char *)v11 + v12);
      v14 = *(_DWORD *)(a1 + 4);
      if ( v13 > *(float *)(v14 + 108) )
        v13 = *(float *)(v14 + 108);
      v15 = v25 + *v11;
      if ( v13 > v15 )
        v15 = v13;
      *(float *)((char *)v11 + v24) = v15;
      if ( a4 != 1 )
        goto LABEL_13;
      v17 = (v13 - *(float *)((char *)v11 + v23) - -17.200001) * v22;
      if ( v18 | v19 )
        break;
      v20 = 1.0 - v17 * 0.005;
      if ( v20 >= 0.0 )
        goto LABEL_12;
      *(float *)((char *)v11 + v26) = 0.000099999997 * *(float *)((char *)v11 + v26);
LABEL_13:
      result = v21;
      ++v9;
      ++v11;
      if ( v9 >= v21 )
        return result;
    }
    v20 = 1.0 - v17 * 0.0003;
LABEL_12:
    *(float *)((char *)v11 + v26) = v20 * *(float *)((char *)v11 + v26);
    goto LABEL_13;
  }
  return result;
}
// 47B9FF: variable 'v18' is possibly undefined
// 47B9FF: variable 'v19' is possibly undefined

//----- (0047BA60) --------------------------------------------------------
_DWORD *__cdecl sub_47BA60(int a1, int a2, int *a3, int a4, int a5, int a6, char *a7, int a8, int a9)
{
  _DWORD *v9; // eax
  int v10; // edi
  int v11; // eax
  int v12; // eax
  void *v13; // esp
  int v14; // eax
  void *v15; // esp
  int v16; // eax
  void *v17; // esp
  int v18; // eax
  void *v19; // esp
  int v20; // eax
  void *v21; // esp
  int v22; // eax
  void *v23; // esp
  int v24; // esi
  int v25; // eax
  void *v26; // esp
  int v27; // eax
  void *v28; // esp
  int v29; // eax
  void *v30; // esp
  int v31; // eax
  void *v32; // esp
  int *v33; // ecx
  int v34; // eax
  int v35; // edx
  int v36; // esi
  int v37; // eax
  void **v38; // ecx
  int v39; // edx
  int v40; // ebx
  int *v41; // esi
  int *v42; // edx
  char *v43; // edi
  _DWORD *v44; // eax
  int v45; // ecx
  bool v46; // zf
  int v47; // eax
  int v48; // edx
  _DWORD *v49; // edi
  int v50; // ecx
  int v51; // edx
  _DWORD *v52; // eax
  double v53; // st7
  float *v54; // eax
  int v55; // edi
  int i; // eax
  int *v57; // eax
  int v58; // esi
  int v59; // eax
  int v60; // edi
  int v61; // edx
  int v62; // ecx
  int v63; // ebx
  void **v64; // ebx
  int v65; // ebx
  int v66; // edi
  int v67; // edx
  int v68; // edx
  long double v69; // st7
  long double v71; // st7
  char v72; // c0
  int v73; // eax
  int v74; // edi
  int v75; // edx
  int v76; // eax
  int v77; // eax
  int v78; // edx
  double v79; // st7
  int v80; // eax
  double v81; // st7
  int *v82; // eax
  bool v83; // cc
  _DWORD *result; // eax
  int v85; // edi
  int v86; // edx
  int v87; // ebx
  char *v88; // edx
  char *v89; // [esp+0h] [ebp-94h] BYREF
  int v90; // [esp+4h] [ebp-90h] BYREF
  int v91; // [esp+Ch] [ebp-88h]
  int v92; // [esp+10h] [ebp-84h]
  int v93; // [esp+14h] [ebp-80h]
  float v94; // [esp+18h] [ebp-7Ch]
  int v95; // [esp+1Ch] [ebp-78h]
  int v96; // [esp+20h] [ebp-74h]
  char *v97; // [esp+24h] [ebp-70h]
  int v98; // [esp+28h] [ebp-6Ch]
  int v99; // [esp+2Ch] [ebp-68h]
  float v100; // [esp+30h] [ebp-64h]
  char *v101; // [esp+34h] [ebp-60h]
  void **v102; // [esp+38h] [ebp-5Ch]
  char *v103; // [esp+3Ch] [ebp-58h]
  int v104; // [esp+40h] [ebp-54h]
  int v105; // [esp+44h] [ebp-50h]
  void **v106; // [esp+48h] [ebp-4Ch]
  _BYTE *v107; // [esp+4Ch] [ebp-48h]
  void **v108; // [esp+50h] [ebp-44h]
  int v109; // [esp+54h] [ebp-40h]
  int v110; // [esp+58h] [ebp-3Ch]
  int v111; // [esp+5Ch] [ebp-38h]
  int v112; // [esp+60h] [ebp-34h]
  int v113; // [esp+64h] [ebp-30h]
  char *v114; // [esp+68h] [ebp-2Ch]
  int v115; // [esp+6Ch] [ebp-28h]
  int v116; // [esp+70h] [ebp-24h]
  int v117; // [esp+74h] [ebp-20h]
  _BYTE *v118; // [esp+78h] [ebp-1Ch]
  int v119; // [esp+7Ch] [ebp-18h]
  char *v120; // [esp+80h] [ebp-14h]
  int v121; // [esp+84h] [ebp-10h]
  char *v122; // [esp+88h] [ebp-Ch]
  _BYTE *v123; // [esp+8Ch] [ebp-8h]
  int *v124; // [esp+90h] [ebp-4h]
  int v125; // [esp+B8h] [ebp+24h]

  v9 = (_DWORD *)a3[1];
  v105 = *a3;
  if ( v9[125] )
    v116 = v9[127];
  else
    v116 = 16;
  v10 = a9;
  v109 = *(_DWORD *)(a2 + 4 * (a1 + 12 * *v9 + 3 * *v9) + 132);
  v11 = *(_DWORD *)(a2 + 4 * a1 + 312);
  v94 = dbl_49C008[*(_DWORD *)(a2 + 4 * a1 + 252)];
  v122 = (char *)(8 * v11);
  v100 = dbl_49C008[v11];
  v12 = 4 * a9 + 3;
  LOBYTE(v12) = v12 & 0xFC;
  v13 = alloca(v12);
  v114 = (char *)&v89;
  v14 = 4 * a9 + 3;
  LOBYTE(v14) = (4 * a9 + 3) & 0xFC;
  v15 = alloca(v14);
  v16 = 4 * a9 + 3;
  v108 = (void **)&v89;
  LOBYTE(v16) = (4 * a9 + 3) & 0xFC;
  v17 = alloca(v16);
  v18 = 4 * a9 + 3;
  LOBYTE(v18) = (4 * a9 + 3) & 0xFC;
  v19 = alloca(v18);
  v20 = 4 * a9 + 3;
  LOBYTE(v20) = (4 * a9 + 3) & 0xFC;
  v21 = alloca(v20);
  v106 = (void **)&v89;
  v22 = 4 * (a9 + *(_DWORD *)(a4 + 1156)) + 3;
  LOBYTE(v22) = v22 & 0xFC;
  v23 = alloca(v22);
  v102 = (void **)&v89;
  if ( v105 > 1000 )
    v100 = *((double *)v122 + 604170);
  v24 = 4 * a9 * v116;
  v98 = v24;
  v25 = v24 + 3;
  LOBYTE(v25) = (v24 + 3) & 0xFC;
  v26 = alloca(v25);
  *(_DWORD *)v114 = &v89;
  v27 = v24 + 3;
  LOBYTE(v27) = (v24 + 3) & 0xFC;
  v28 = alloca(v27);
  v29 = v24 + 3;
  LOBYTE(v29) = (v24 + 3) & 0xFC;
  v30 = alloca(v29);
  v31 = v24 + 3;
  LOBYTE(v31) = (v24 + 3) & 0xFC;
  v32 = alloca(v31);
  v89 = (char *)&v89;
  if ( a9 > 1 )
  {
    v33 = &v90;
    v34 = 4 * v116;
    v113 = 0;
    v35 = v114 - (char *)&v89;
    v119 = 0;
    v122 = (char *)(v114 - (char *)&v89);
    v124 = (int *)(a9 - 1);
    while ( 1 )
    {
      *(int *)((char *)++v33 + v35 - 4) = v34 + *(_DWORD *)v114;
      *(v33 - 1) = (int)&v89[v34];
      *(int *)((char *)v33 + v113 - 4) = (int)&v89[v34];
      *(int *)((char *)v33 + v119 - 4) = (int)&v89[v34];
      v34 += 4 * v116;
      v124 = (int *)((char *)v124 - 1);
      if ( !v124 )
        break;
      v35 = (int)v122;
    }
  }
  v36 = a4;
  v37 = 0;
  if ( a9 + *(_DWORD *)(a4 + 1156) > 0 )
  {
    v38 = v102;
    do
    {
      *v38 = 0;
      ++v37;
      ++v38;
    }
    while ( v37 < a9 + *(_DWORD *)(a4 + 1156) );
  }
  v110 = 0;
  if ( v105 > 0 )
  {
    v115 = 0;
    v39 = v116;
    v40 = v105;
    v91 = -v116;
    v112 = v105;
    v96 = a8 - v105;
    v99 = v109 - v105;
    while ( 1 )
    {
      if ( v39 <= v40 )
      {
        v125 = v39;
        v40 = v39;
      }
      else
      {
        v125 = v40;
      }
      qmemcpy(v106, a7, 4 * v10);
      v111 = 0;
      memset(v89, 0, v98);
      if ( a9 > 0 )
      {
        v41 = (int *)&v89;
        v113 = a6 - (_DWORD)v106;
        v42 = 0;
        v43 = (char *)v106 - a5;
        v121 = a5 - (_DWORD)&v89;
        v122 = (char *)v106 - a5;
        v123 = (_BYTE *)(v114 - (char *)&v89);
        v124 = 0;
        v117 = (char *)v108 - (char *)&v89;
        v120 = (char *)a9;
        v118 = (_BYTE *)((char *)v102 - (char *)&v89);
        v111 = a9;
        while ( 1 )
        {
          v44 = (int *)((char *)v41 + v121 + (_DWORD)v43);
          v45 = v115 + *(_DWORD *)((char *)v44 + v113);
          v46 = *v44 == 0;
          v119 = v45;
          if ( v46 )
          {
            for ( i = 0; i < v40; *(_DWORD *)(v45 + 4 * i - 4) = 0 )
            {
              ++i;
              *(_DWORD *)(*v41 + 4 * i - 4) = 786163455;
              *(_DWORD *)(*(int *)((char *)v41 + (_DWORD)v123) + 4 * i - 4) = 0;
              *(_DWORD *)(*(int *)((char *)v41 + v117) + 4 * i - 4) = 0;
              *(_DWORD *)(*(int *)((char *)v41 + (_DWORD)v42) + 4 * i - 4) = 0;
            }
            *(int *)((char *)v41 + (_DWORD)v118) = 0;
          }
          else
          {
            v47 = 0;
            if ( v40 > 0 )
            {
              do
              {
                v48 = *(_DWORD *)(v45 + 4 * v47++);
                *(_DWORD *)(*v41 + 4 * v47 - 4) = dword_4BD3D0[v48];
              }
              while ( v47 < v40 );
              v42 = v124;
            }
            v49 = (int *)((char *)v41 + v121);
            sub_47C220(
              v109,
              v94,
              v100,
              *(int *)((char *)v41 + v121) + v115,
              *v41,
              *(char **)((char *)v41 + (_DWORD)v42),
              v110,
              v40);
            v50 = 0;
            if ( v40 > 0 )
            {
              v51 = v115;
              do
              {
                v52 = &v123[(_DWORD)v41];
                *(float *)(*(int *)((char *)v41 + (_DWORD)v123) + 4 * v50) = *(float *)(v51 + *v49)
                                                                           * *(float *)(v51 + *v49);
                *(_DWORD *)(*(int *)((char *)v41 + v117) + 4 * v50) = *(_DWORD *)(*v52 + 4 * v50);
                v49 = (int *)((char *)v41 + v121);
                if ( *(float *)(v51 + *(int *)((char *)v41 + v121)) < 0.0 )
                  *(float *)(*(_DWORD *)&v123[(_DWORD)v41] + 4 * v50) = *(float *)(*(_DWORD *)&v123[(_DWORD)v41]
                                                                                 + 4 * v50)
                                                                      * -1.0;
                v51 += 4;
                v53 = *(float *)(*v41 + 4 * v50);
                v54 = (float *)(*v41 + 4 * v50++);
                *v54 = v53 * v53;
              }
              while ( v50 < v40 );
            }
            v55 = (int)v118;
            *(float *)((char *)v41 + v55) = sub_47C290(
                                              (int)a3,
                                              v109,
                                              *(int *)((char *)v41 + (_DWORD)v123),
                                              (float *)*(int *)((char *)v41 + v117),
                                              *v41,
                                              0,
                                              *(int *)((char *)v41 + (_DWORD)v118),
                                              v110,
                                              v40,
                                              v119);
            v42 = v124;
          }
          ++v41;
          if ( !--v120 )
            break;
          v43 = v122;
        }
      }
      v113 = 0;
      if ( *(int *)(a4 + 1156) > 0 )
      {
        v57 = (int *)(a4 + 2184);
        v122 = (char *)(a4 + 2184);
        v124 = (int *)&v102[v111];
        do
        {
          v58 = *(v57 - 256);
          v59 = *v57;
          v60 = v115 + *(_DWORD *)(a6 + 4 * v58);
          v61 = v115 + *(_DWORD *)(a6 + 4 * v59);
          v62 = *(_DWORD *)&v114[4 * v58];
          v63 = *(_DWORD *)&v114[4 * v59];
          v93 = v60;
          v119 = v63;
          v118 = v108[v58];
          v107 = v108[v59];
          v104 = (int)(&v89)[v58];
          v101 = (&v89)[v59];
          v103 = (&v89)[v58];
          v120 = (&v89)[v59];
          v64 = v106;
          if ( v106[v58] || v106[v59] )
          {
            v106[v59] = (void *)1;
            v64[v58] = (void *)1;
            v121 = 0;
            if ( v125 > 0 )
            {
              v92 = v112 + v96;
              v65 = v61 - v62;
              v117 = v119 - v62;
              v66 = v60 - v62;
              v111 = (int)&v107[-v62];
              v107 = (_BYTE *)(v61 - v62);
              v123 = &v118[-v62];
              v119 = v66;
              v120 -= v62;
              v103 -= v62;
              v97 = &v101[-v62];
              v95 = v104 - v62;
              do
              {
                if ( v121 < v92 )
                {
                  v67 = (int)v103;
                  if ( *(_DWORD *)&v103[v62] || *(_DWORD *)&v120[v62] )
                  {
                    v73 = v111;
                    *(float *)v62 = fabs(*(float *)(v117 + v62)) + fabs(*(float *)v62);
                    *(float *)&v123[v62] = *(float *)(v73 + v62) + *(float *)&v123[v62];
                    *(_DWORD *)&v120[v62] = 1;
                    *(_DWORD *)(v67 + v62) = 1;
                    v74 = *(_DWORD *)(v66 + v62);
                    v118 = *(_BYTE **)(v65 + v62);
                    if ( (int)abs32(v74) <= (int)abs32((int)v118) )
                    {
                      v75 = (int)v118;
                      if ( (int)v118 <= 0 )
                        v76 = (int)&v118[-v74];
                      else
                        v76 = v74 - (_DWORD)v118;
                      v65 = (int)v107;
                      v66 = v119;
                      *(_DWORD *)&v107[v62] = v76;
                      *(_DWORD *)(v66 + v62) = v75;
                    }
                    else
                    {
                      v65 = (int)v107;
                      if ( v74 <= 0 )
                        *(_DWORD *)&v107[v62] = &v118[-v74];
                      else
                        *(_DWORD *)&v107[v62] = v74 - (_DWORD)v118;
                      v66 = v119;
                    }
                    v77 = *(_DWORD *)(v66 + v62);
                    v104 = *(_DWORD *)(v65 + v62);
                    if ( v104 >= (int)(2 * abs32(v77)) )
                    {
                      *(_DWORD *)(v65 + v62) = -v104;
                      *(_DWORD *)(v66 + v62) = -*(_DWORD *)(v66 + v62);
                    }
                  }
                  else
                  {
                    v68 = v117;
                    v69 = *(float *)(v117 + v62) + *(float *)v62;
                    if ( v121 >= v99 + v112 )
                    {
                      v71 = fabs(*(float *)(v117 + v62)) + fabs(*(float *)v62);
                      *(float *)&v123[v62] = v71;
                      if ( v72 )
                        v71 = -v71;
                      *(float *)v62 = v71;
                    }
                    else
                    {
                      *(float *)v62 = v69;
                      *(float *)&v123[v62] = fabs(v69);
                    }
                    *(_DWORD *)(v111 + v62) = 0;
                    *(_DWORD *)(v68 + v62) = 0;
                    *(_DWORD *)&v120[v62] = 1;
                    *(_DWORD *)(v65 + v62) = 0;
                  }
                }
                v78 = v95;
                v79 = *(float *)&v97[v62] + *(float *)(v95 + v62);
                v62 += 4;
                *(float *)&v97[v62 - 4] = v79;
                v80 = v121;
                *(float *)(v78 + v62 - 4) = v79;
                v121 = v80 + 1;
              }
              while ( v80 + 1 < v125 );
              v60 = v93;
            }
            v81 = sub_47C290(
                    (int)a3,
                    v109,
                    *(_DWORD *)&v114[4 * v58],
                    (float *)v108[v58],
                    (int)(&v89)[v58],
                    (int)(&v89)[v58],
                    *v124,
                    v110,
                    v125,
                    v60);
            v82 = v124;
            *(float *)v124 = v81;
            v124 = v82 + 1;
          }
          v57 = (int *)(v122 + 4);
          v83 = ++v113 < *(_DWORD *)(a4 + 1156);
          v122 += 4;
        }
        while ( v83 );
      }
      v83 = v116 + v110 < v105;
      v110 += v116;
      v115 += 4 * v116;
      v112 += v91;
      if ( !v83 )
        break;
      v10 = a9;
      v39 = v116;
      v40 = v112;
    }
    v36 = a4;
  }
  result = *(_DWORD **)(v36 + 1156);
  v85 = 0;
  if ( (int)result > 0 )
  {
    result = (_DWORD *)(v36 + 2184);
    do
    {
      v86 = *(result - 256);
      v87 = *(_DWORD *)&a7[4 * v86];
      v88 = &a7[4 * v86];
      if ( v87 || *(_DWORD *)&a7[4 * *result] )
      {
        *(_DWORD *)v88 = 1;
        *(_DWORD *)&a7[4 * *result] = 1;
      }
      ++v85;
      ++result;
    }
    while ( v85 < *(_DWORD *)(v36 + 1156) );
  }
  return result;
}
// 47C018: variable 'v72' is possibly undefined
// 49C008:  double dbl_49C008[18]
// 4BD3D0:  int dword_4BD3D0[256]

//----- (0047C220) --------------------------------------------------------
float *__cdecl sub_47C220(int a1, float a2, float a3, int a4, int a5, char *a6, int a7, int a8)
{
  int v8; // edx
  char *v9; // ecx
  long double v10; // st7
  __int16 v11; // fps
  long double v12; // st6
  bool v13; // c0
  char v14; // c2
  bool v15; // c3
  float *result; // eax

  v8 = 0;
  if ( a8 > 0 )
  {
    v9 = a6;
    do
    {
      if ( v8 < a1 - a7 )
        v10 = a2;
      else
        v10 = a3;
      result = (float *)&v9[a5 - (_DWORD)a6];
      v12 = fabs(*(float *)(v9 - a6 + a4)) / *result;
      v13 = v12 < v10;
      v14 = 0;
      v15 = v12 == v10;
      LOWORD(result) = v11;
      *(_DWORD *)v9 = v12 >= v10;
      ++v8;
      v9 += 4;
    }
    while ( v8 < a8 );
  }
  return result;
}

//----- (0047C290) --------------------------------------------------------
double __cdecl sub_47C290(int a1, int a2, int a3, float *a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int v10; // esi
  int v11; // eax
  void *v12; // esp
  int v13; // eax
  int v14; // edx
  int v15; // eax
  int v18; // edx
  float *v19; // esi
  double X; // st7
  char v22; // c0
  __int64 v23; // rax
  int v24; // eax
  _DWORD *v25; // esi
  long double v26; // st7
  double v28; // st7
  char v29; // c0
  double v30; // st7
  int v31; // ecx
  double result; // st7
  int v33; // esi
  bool v34; // zf
  int v35; // [esp+8h] [ebp-28h] BYREF
  int v36; // [esp+14h] [ebp-1Ch]
  int v37; // [esp+18h] [ebp-18h]
  int v38; // [esp+1Ch] [ebp-14h]
  int v39; // [esp+20h] [ebp-10h]
  int v40; // [esp+24h] [ebp-Ch]
  void *Base; // [esp+28h] [ebp-8h]
  size_t NumOfElements; // [esp+2Ch] [ebp-4h]
  int v43; // [esp+38h] [ebp+8h]
  int v44; // [esp+44h] [ebp+14h]
  _DWORD *v45; // [esp+4Ch] [ebp+1Ch]
  float v46; // [esp+50h] [ebp+20h]
  size_t v47; // [esp+58h] [ebp+28h]
  int v48; // [esp+5Ch] [ebp+2Ch]
  _DWORD *v49; // [esp+5Ch] [ebp+2Ch]

  v10 = a9;
  v36 = *(_DWORD *)(a1 + 4);
  v11 = 4 * a9 + 3;
  LOBYTE(v11) = v11 & 0xFC;
  v12 = alloca(v11);
  v13 = *(_DWORD *)(v36 + 500);
  v14 = 0;
  Base = &v35;
  NumOfElements = 0;
  if ( !v13 || (v15 = *(_DWORD *)(v36 + 504) - a8, v15 > a9) )
    v15 = a9;
  v46 = 0.0;
  v43 = 0;
  if ( v15 > 0 )
  {
    v18 = a6 - (_DWORD)a4;
    v40 = a5 - (_DWORD)a4;
    v19 = a4;
    v38 = a3 - (_DWORD)a4;
    v39 = a6 - (_DWORD)a4;
    v48 = a10 - (_DWORD)a4;
    v44 = v15;
    v43 = v15;
    while ( 1 )
    {
      if ( !a6 || !*(_DWORD *)((char *)v19 + v18) )
      {
        X = sqrt(*v19 / *(float *)((char *)v19 + v40)) + 0.5;
        if ( v22 )
          v23 = (__int64)-floor(X);
        else
          v23 = (__int64)floor(X);
        *(_DWORD *)((char *)v19 + v48) = v23;
      }
      ++v19;
      if ( !--v44 )
        break;
      v18 = v39;
    }
    v10 = a9;
    v14 = v43;
  }
  if ( v14 >= v10 )
    return v46;
  v49 = Base;
  v24 = a3 - a10;
  v38 = a6 - a3;
  v25 = (_DWORD *)(a10 + 4 * v14);
  v40 = a5 - a10;
  v39 = (int)a4 - a10;
  while ( 1 )
  {
    if ( !a6 || !*(_DWORD *)((char *)v25 + v38 + v24) )
    {
      v26 = *(float *)((char *)v25 + v39) / *(float *)((char *)v25 + v40);
      if ( v26 >= 0.25 || a6 && v14 < a2 - a8 )
      {
        v28 = sqrt(v26) + 0.5;
        if ( v29 )
          v30 = -floor(v28);
        else
          v30 = floor(v28);
        v31 = v39;
        v37 = (__int64)v30 * (__int64)v30;
        *v25 = (__int64)v30;
        v14 = v43;
        *(float *)((char *)v25 + v31) = (double)v37 * *(float *)((char *)v25 + v40);
      }
      else
      {
        *v49 = (char *)v25 + v39;
        ++NumOfElements;
        ++v49;
        v46 = v26 + v46;
      }
    }
    ++v14;
    ++v25;
    v43 = v14;
    if ( v14 >= a9 )
      break;
    v24 = a3 - a10;
  }
  if ( !NumOfElements )
    return v46;
  qsort(Base, NumOfElements, 4u, (_CoreCrtNonSecureSearchSortCompareFunction)sub_47C560);
  if ( (int)NumOfElements <= 0 )
    return v46;
  v47 = NumOfElements;
  result = v46;
  v45 = Base;
  do
  {
    v33 = (*v45 - (int)a4) >> 2;
    if ( result < *(double *)(v36 + 512) )
    {
      *(_DWORD *)(a10 + 4 * v33) = 0;
      a4[v33] = 0.0;
    }
    else
    {
      result = result - 1.0;
      *(_DWORD *)(a10 + 4 * v33) = (__int64)COERCE_FLOAT(COERCE_UNSIGNED_INT(*(float *)(a3 + 4 * v33)) & 0x80000000 | 0x3F800000);
      a4[v33] = *(float *)(a5 + 4 * v33);
    }
    v34 = v47 == 1;
    ++v45;
    --v47;
  }
  while ( !v34 );
  return result;
}
// 47C34B: variable 'v22' is possibly undefined
// 47C440: variable 'v29' is possibly undefined

//----- (0047C560) --------------------------------------------------------
int __cdecl sub_47C560(float **a1, float **a2)
{
  if ( **a1 <= (double)**a2 )
    return **a1 < (double)**a2;
  else
    return (**a1 < (double)**a2) - 1;
}

//----- (0047C5B0) --------------------------------------------------------
int __cdecl sub_47C5B0(unsigned int a1)
{
  unsigned int v1; // ecx
  int result; // eax

  v1 = a1;
  for ( result = 0; v1; v1 >>= 1 )
    ++result;
  return result;
}

//----- (0047C5C0) --------------------------------------------------------
double __cdecl sub_47C5C0(int a1)
{
  double X; // [esp+0h] [ebp-8h]

  X = (double)(a1 & 0x1FFFFF);
  if ( a1 < 0 )
    X = -X;
  return ldexp(X, ((a1 >> 21) & 0x3FFu) - 788);
}

//----- (0047C610) --------------------------------------------------------
void *__cdecl sub_47C610(int *a1, int a2, int a3)
{
  int v3; // eax
  int v4; // esi
  void *v5; // ebx
  int v6; // ebp
  unsigned int *v7; // edi
  int v8; // ecx
  unsigned int v9; // esi
  int *v10; // eax
  int v11; // edx
  int v12; // ecx
  int *v13; // eax
  int v14; // eax
  int *v15; // edx
  int *v17; // edi
  int *v18; // ebx
  int v19; // edx
  int v20; // eax
  int i; // ecx
  int *v22; // [esp+0h] [ebp-8Ch]
  int v23; // [esp+0h] [ebp-8Ch]
  void *Block; // [esp+4h] [ebp-88h]
  int v25[33]; // [esp+8h] [ebp-84h] BYREF

  v3 = a3;
  if ( !a3 )
    v3 = a2;
  v4 = a2;
  v5 = malloc(4 * v3);
  v6 = 0;
  Block = v5;
  memset(v25, 0, sizeof(v25));
  if ( a2 > 0 )
  {
    v7 = (unsigned int *)v5;
    v22 = a1;
    while ( 1 )
    {
      v8 = *v22;
      if ( *v22 <= 0 )
      {
        if ( !a3 )
          ++v7;
      }
      else
      {
        v9 = v25[v8];
        v10 = &v25[v8];
        if ( v8 < 32 && v9 >> v8 )
        {
          free(Block);
          return 0;
        }
        *v7++ = v9;
        v11 = v8;
        while ( (*v10 & 1) == 0 )
        {
          --v11;
          ++*v10--;
          if ( v11 <= 0 )
            goto LABEL_15;
        }
        if ( v11 == 1 )
          ++v25[1];
        else
          v25[v11] = 2 * v25[v11 - 1];
LABEL_15:
        v12 = v8 + 1;
        if ( v12 < 33 )
        {
          v13 = &v25[v12];
          do
          {
            if ( (unsigned int)*v13 >> 1 != v9 )
              break;
            v9 = *v13;
            *v13 = 2 * *(v13 - 1);
            ++v12;
            ++v13;
          }
          while ( v12 < 33 );
        }
      }
      v4 = a2;
      ++v6;
      ++v22;
      if ( v6 >= a2 )
      {
        v5 = Block;
        break;
      }
    }
  }
  v14 = 1;
  if ( a3 == 1 )
  {
LABEL_31:
    if ( v4 > 0 )
    {
      v17 = (int *)v5;
      v18 = a1;
      v23 = v4;
      do
      {
        v19 = *v18;
        v20 = 0;
        for ( i = 0; i < v19; ++i )
          v20 = ((unsigned int)*v17 >> i) & 1 | (2 * v20);
        if ( !a3 || v19 )
          *v17++ = v20;
        ++v18;
        --v23;
      }
      while ( v23 );
      return Block;
    }
    return v5;
  }
  else
  {
    v15 = &v25[1];
    while ( ((0xFFFFFFFF >> (32 - v14)) & *v15) == 0 )
    {
      ++v14;
      ++v15;
      if ( v14 >= 33 )
        goto LABEL_31;
    }
    free(v5);
    return 0;
  }
}

//----- (0047C7D0) --------------------------------------------------------
int __cdecl sub_47C7D0(int *a1)
{
  int *v1; // edi
  __int64 i; // rax
  int v3; // ecx
  int v4; // esi
  int v5; // esi

  v1 = a1;
  for ( i = (__int64)floor(pow((double)a1[1], 1.0 / (double)*a1)); ; LODWORD(i) = i + 1 )
  {
    while ( 1 )
    {
      v3 = 1;
      HIDWORD(i) = 1;
      if ( *a1 > 0 )
      {
        v4 = *a1;
        do
        {
          v3 *= (_DWORD)i;
          HIDWORD(i) *= (_DWORD)i + 1;
          --v4;
        }
        while ( v4 );
        v1 = a1;
      }
      v5 = v1[1];
      if ( v3 <= v5 )
        break;
LABEL_9:
      LODWORD(i) = i - 1;
    }
    if ( SHIDWORD(i) > v5 )
      break;
    if ( v3 > v5 )
      goto LABEL_9;
  }
  return i;
}

//----- (0047C840) --------------------------------------------------------
float *__cdecl sub_47C840(int *a1, int a2, _DWORD *a3)
{
  int v4; // ebp
  int v5; // eax
  float *v7; // edi
  int v8; // edx
  _DWORD *v9; // ebx
  int v10; // eax
  int v11; // ecx
  long double v12; // st7
  int v13; // ecx
  int v14; // edi
  int i; // ebx
  long double v16; // st7
  int v17; // ecx
  int v18; // [esp+8h] [ebp-14h]
  float v19; // [esp+Ch] [ebp-10h]
  float v20; // [esp+10h] [ebp-Ch]
  float v21; // [esp+14h] [ebp-8h]
  int v22; // [esp+18h] [ebp-4h]
  _DWORD *v23; // [esp+20h] [ebp+4h]
  _DWORD *v24; // [esp+20h] [ebp+4h]
  float *v25; // [esp+24h] [ebp+8h]
  float j; // [esp+24h] [ebp+8h]

  v4 = 0;
  v18 = 0;
  v5 = a1[3];
  if ( v5 != 1 && v5 != 2 )
    return 0;
  v20 = sub_47C5C0(a1[4]);
  v19 = sub_47C5C0(a1[5]);
  v7 = (float *)calloc(a2 * *a1, 4u);
  v25 = v7;
  if ( a1[3] == 1 )
  {
    v22 = sub_47C7D0(a1);
    if ( a1[1] > 0 )
    {
      v24 = a3;
      do
      {
        if ( !a3 || *(_DWORD *)(a1[2] + 4 * v4) )
        {
          v13 = *a1;
          v14 = 0;
          v21 = 0.0;
          for ( i = 1; v14 < *a1; ++v14 )
          {
            v16 = fabs((double)*(int *)(a1[8] + 4 * (v4 / i % v22))) * v19 + v21 + v20;
            if ( a1[7] )
              v21 = v16;
            if ( a3 )
              v17 = *v24 * v13;
            else
              v17 = v18 * v13;
            v25[v14 + v17] = v16;
            i *= v22;
            v13 = *a1;
          }
          v7 = v25;
          ++v18;
          ++v24;
        }
        ++v4;
      }
      while ( v4 < a1[1] );
    }
    return v7;
  }
  if ( a1[3] != 2 )
    return v7;
  v8 = 0;
  if ( a1[1] <= 0 )
    return v7;
  v9 = a3;
  v23 = a3;
  do
  {
    if ( !v9 || *(_DWORD *)(a1[2] + 4 * v8) )
    {
      v10 = *a1;
      v11 = 0;
      for ( j = 0.0; v11 < *a1; ++v11 )
      {
        v12 = fabs((double)*(int *)(a1[8] + 4 * (v11 + v8 * v10))) * v19 + j + v20;
        if ( a1[7] )
          j = v12;
        v9 = a3;
        if ( a3 )
          v7[v11 + v10 * *v23] = v12;
        else
          v7[v11 + v18 * v10] = v12;
        v10 = *a1;
      }
      ++v18;
      ++v23;
    }
    ++v8;
  }
  while ( v8 < a1[1] );
  return v7;
}

//----- (0047CA30) --------------------------------------------------------
void __cdecl sub_47CA30(void **Block)
{
  if ( Block[9] )
  {
    if ( Block[8] )
      free(Block[8]);
    if ( Block[2] )
      free(Block[2]);
    memset(Block, 0, 0x28u);
    free(Block);
  }
}

//----- (0047CA80) --------------------------------------------------------
int __cdecl sub_47CA80(void **a1)
{
  int result; // eax

  if ( a1[4] )
    free(a1[4]);
  if ( a1[5] )
    free(a1[5]);
  if ( a1[6] )
    free(a1[6]);
  if ( a1[7] )
    free(a1[7]);
  if ( a1[8] )
    free(a1[8]);
  result = 0;
  memset(a1, 0, 0x38u);
  return result;
}

//----- (0047CAE0) --------------------------------------------------------
int __cdecl sub_47CAE0(_DWORD *a1, int a2)
{
  double v2; // st7
  double v3; // st7

  memset(a1, 0, 0x38u);
  a1[3] = a2;
  a1[1] = *(_DWORD *)(a2 + 4);
  a1[2] = *(_DWORD *)(a2 + 4);
  *a1 = *(_DWORD *)a2;
  a1[5] = sub_47C610(*(int **)(a2 + 8), *(_DWORD *)(a2 + 4), 0);
  a1[11] = sub_47C7D0((int *)a2);
  v2 = sub_47C5C0(*(_DWORD *)(a2 + 16));
  a1[12] = (__int64)floor(v2 + 0.5);
  v3 = sub_47C5C0(*(_DWORD *)(a2 + 20));
  a1[13] = (__int64)floor(v3 + 0.5);
  return 0;
}

//----- (0047CB70) --------------------------------------------------------
int __cdecl sub_47CB70(unsigned int *Block, int a2)
{
  int v3; // ebx
  int v4; // eax
  int *v5; // ecx
  int v6; // edx
  int v7; // eax
  void *v8; // esp
  unsigned int *v10; // edi
  unsigned int v11; // eax
  _DWORD *v12; // ecx
  unsigned int v13; // eax
  int v14; // eax
  void *v15; // esp
  int v16; // eax
  int *v17; // eax
  unsigned int v18; // ecx
  int v19; // edx
  int v20; // ecx
  float *v22; // eax
  size_t v23; // ecx
  size_t v24; // ecx
  int v25; // eax
  int v26; // ecx
  _BYTE *v27; // eax
  int v28; // eax
  int v29; // edi
  int v30; // ebx
  unsigned int v31; // edx
  signed int v32; // eax
  int v33; // edi
  char v34; // dl
  int v35; // eax
  int v36; // eax
  int v37; // ebx
  size_t v38; // edi
  int v39; // eax
  size_t *v40; // ecx
  _DWORD *v41; // eax
  __int16 v42; // bx
  unsigned int v43; // eax
  _BYTE v44[12]; // [esp+0h] [ebp-1Ch] BYREF
  char *v45; // [esp+Ch] [ebp-10h]
  size_t Size; // [esp+10h] [ebp-Ch]
  unsigned int i; // [esp+14h] [ebp-8h]
  _DWORD *v48; // [esp+18h] [ebp-4h]
  unsigned int *Blocka; // [esp+24h] [ebp+8h]
  char *Blockb; // [esp+24h] [ebp+8h]
  _DWORD *v51; // [esp+28h] [ebp+Ch]
  _DWORD *v52; // [esp+28h] [ebp+Ch]
  int v53; // [esp+28h] [ebp+Ch]
  int v54; // [esp+28h] [ebp+Ch]

  v3 = 0;
  memset(Block, 0, 0x38u);
  v4 = *(_DWORD *)(a2 + 4);
  if ( v4 > 0 )
  {
    v5 = *(int **)(a2 + 8);
    v6 = *(_DWORD *)(a2 + 4);
    do
    {
      if ( *v5 > 0 )
        ++v3;
      ++v5;
      --v6;
    }
    while ( v6 );
  }
  Block[1] = v4;
  Block[2] = v3;
  *Block = *(_DWORD *)a2;
  if ( v3 > 0 )
  {
    Blocka = (unsigned int *)sub_47C610(*(int **)(a2 + 8), *(_DWORD *)(a2 + 4), v3);
    Size = 4 * v3;
    v7 = 4 * v3 + 3;
    LOBYTE(v7) = v7 & 0xFC;
    v8 = alloca(v7);
    v45 = v44;
    if ( !Blocka )
    {
      sub_47CA80((void **)Block);
      return -1;
    }
    v10 = Blocka;
    i = v3;
    v48 = (_DWORD *)(v44 - (_BYTE *)Blocka);
    do
    {
      v11 = sub_47CF40(*v10);
      v12 = v48;
      *v10 = v11;
      v13 = i;
      *(unsigned int *)((char *)v10 + (_DWORD)v12) = (unsigned int)v10;
      ++v10;
      i = v13 - 1;
    }
    while ( v13 != 1 );
    qsort(v45, v3, 4u, (_CoreCrtNonSecureSearchSortCompareFunction)sub_47CFA0);
    v14 = Size + 3;
    LOBYTE(v14) = (Size + 3) & 0xFC;
    v15 = alloca(v14);
    v48 = v44;
    Block[5] = (unsigned int)malloc(Size);
    v16 = 0;
    i = (unsigned int)v45;
    do
    {
      v48[(*(_DWORD *)i - (int)Blocka) >> 2] = v16++;
      i += 4;
    }
    while ( v16 < v3 );
    v17 = v48;
    v18 = (char *)Blocka - (char *)v48;
    v45 = (char *)v3;
    for ( i = (char *)Blocka - (char *)v48; ; v18 = i )
    {
      v19 = *v17;
      v20 = *(int *)((char *)v17++ + v18);
      *(_DWORD *)(Block[5] + 4 * v19) = v20;
      if ( !--v45 )
        break;
    }
    free(Blocka);
    v22 = sub_47C840((int *)a2, v3, v48);
    v23 = Size;
    Block[4] = (unsigned int)v22;
    Block[6] = (unsigned int)malloc(v23);
    v24 = 0;
    v25 = 0;
    if ( *(int *)(a2 + 4) > 0 )
    {
      v51 = v48;
      do
      {
        if ( *(int *)(*(_DWORD *)(a2 + 8) + 4 * v25) > 0 )
        {
          ++v24;
          *(_DWORD *)(Block[6] + 4 * *v51++) = v25;
        }
        ++v25;
      }
      while ( v25 < *(_DWORD *)(a2 + 4) );
    }
    Block[7] = (unsigned int)malloc(v24);
    v26 = 0;
    Blockb = 0;
    if ( *(int *)(a2 + 4) > 0 )
    {
      v52 = v48;
      do
      {
        v27 = (_BYTE *)(*(_DWORD *)(a2 + 8) + 4 * v26);
        if ( *(int *)v27 > 0 )
        {
          *(_BYTE *)(Block[7] + *v52) = *v27;
          ++Blockb;
          ++v52;
        }
        ++v26;
      }
      while ( v26 < *(_DWORD *)(a2 + 4) );
    }
    v28 = sub_47C5B0(Block[2]) - 4;
    Block[9] = v28;
    if ( v28 < 5 )
      Block[9] = 5;
    if ( (int)Block[9] > 8 )
      Block[9] = 8;
    v45 = (char *)(1 << Block[9]);
    v29 = (int)v45;
    Block[8] = (unsigned int)calloc((size_t)v45, 4u);
    v30 = 0;
    for ( Block[10] = 0; v30 < (int)Blockb; ++v30 )
    {
      v31 = Block[7];
      v32 = *(char *)(v31 + v30);
      if ( (int)Block[10] < v32 )
        Block[10] = v32;
      if ( *(char *)(v31 + v30) <= (int)Block[9] )
      {
        v53 = sub_47CF40(*(_DWORD *)(Block[5] + 4 * v30));
        v33 = 0;
        v34 = *(_BYTE *)(Block[7] + v30);
        if ( 1 << (*((_BYTE *)Block + 36) - v34) > 0 )
        {
          do
          {
            v35 = v33++ << v34;
            *(_DWORD *)(Block[8] + 4 * (v53 | v35)) = v30 + 1;
            v34 = *(_BYTE *)(Block[7] + v30);
          }
          while ( v33 < 1 << (*((_BYTE *)Block + 36) - v34) );
        }
        v29 = (int)v45;
      }
    }
    v36 = -2 << (31 - *((_BYTE *)Block + 36));
    v37 = 0;
    v48 = 0;
    v54 = 0;
    Size = 0;
    i = v36;
    if ( v29 > 0 )
    {
      do
      {
        v38 = Size << (32 - Block[9]);
        if ( !*(_DWORD *)(Block[8] + 4 * sub_47CF40(v38)) )
        {
          v39 = (int)v48 + 1;
          if ( (int)v48 + 1 < (int)Blockb )
          {
            v40 = (size_t *)(Block[5] + 4 * v39);
            do
            {
              if ( *v40 > v38 )
                break;
              ++v40;
              ++v39;
              v48 = (_DWORD *)((char *)v48 + 1);
              v37 = v54;
            }
            while ( v39 < (int)Blockb );
          }
          if ( v37 < (int)Blockb )
          {
            v41 = (_DWORD *)(Block[5] + 4 * v37);
            do
            {
              if ( v38 < (*v41 & i) )
                break;
              ++v37;
              ++v41;
            }
            while ( v37 < (int)Blockb );
            v54 = v37;
          }
          v42 = (__int16)v48;
          v43 = (unsigned int)&Blockb[-v54];
          if ( (unsigned int)v48 > 0x7FFF )
            v42 = 0x7FFF;
          if ( v43 > 0x7FFF )
            v43 = 0x7FFF;
          *(_DWORD *)(Block[8] + 4 * sub_47CF40(v38)) = v43 | ((*(_DWORD *)&v42 | 0xFFFF0000) << 15);
          v37 = v54;
        }
        ++Size;
      }
      while ( (int)Size < (int)v45 );
    }
  }
  return 0;
}
// 47CC02: conditional instruction was optimized away because ebx.4>=1
// 47CC6A: conditional instruction was optimized away because ebx.4>=1
// 47CC95: conditional instruction was optimized away because ebx.4>=1

//----- (0047CF40) --------------------------------------------------------
unsigned int __cdecl sub_47CF40(unsigned int a1)
{
  int v1; // eax
  unsigned int v2; // eax
  unsigned int v3; // eax

  v1 = (a1 << 16) | ((unsigned __int64)a1 >> 16);
  BYTE1(v1) = 0;
  v2 = (((a1 << 16) | ((unsigned __int64)a1 >> 16)) >> 8) & 0xFF00FF | (v1 << 8);
  v3 = (((v2 >> 4) & 0xF0F0F0F | (16 * (v2 & 0xFF0F0F0F))) >> 2) & 0x33333333 | (4
                                                                               * ((v2 >> 4) & 0x3030303 | (16 * (v2 & 0xFF0F0F0F)) & 0xF3333333));
  return (2 * (v3 & 0xD5555555)) | (v3 >> 1) & 0x55555555;
}

//----- (0047CFA0) --------------------------------------------------------
int __cdecl sub_47CFA0(_DWORD **a1, _DWORD **a2)
{
  return (__PAIR64__(**a2 < **a1, **a1) - (unsigned int)**a2) >> 32;
}

//----- (0047CFC0) --------------------------------------------------------
unsigned int *__cdecl sub_47CFC0(_DWORD *a1)
{
  unsigned int *v2; // esi
  int v3; // ebx
  int v4; // ebp
  int v5; // eax
  int v6; // eax
  int v7; // ebp
  int v8; // eax
  int v9; // ebx
  int v10; // eax
  int v11; // eax
  int v12; // eax
  unsigned int v13; // ebp
  int v14; // ebx
  signed int i; // ebx
  int v16; // eax
  signed int v17; // ebx
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // ebx
  void *v22; // eax
  int v23; // ebp
  bool v24; // zf
  int v26; // [esp+14h] [ebp+4h]

  v2 = (unsigned int *)calloc(1u, 0x28u);
  v2[9] = 1;
  if ( sub_4890C0(a1, 0x18u) != 5653314 )
    goto LABEL_46;
  *v2 = sub_4890C0(a1, 0x10u);
  v3 = sub_4890C0(a1, 0x18u);
  v2[1] = v3;
  if ( v3 == -1 )
    goto LABEL_46;
  v4 = sub_47C5B0(*v2);
  if ( sub_47C5B0(v3) + v4 > 24 )
    goto LABEL_46;
  v5 = sub_4890C0(a1, 1u);
  if ( !v5 )
  {
    v12 = sub_4890C0(a1, 1u);
    v13 = v2[1];
    v14 = v12;
    if ( (int)(v13 * (v12 != 0 ? 1 : 5) + 7) >> 3 <= a1[4] - sub_4891D0(a1) )
    {
      v2[2] = (unsigned int)malloc(4 * v13);
      if ( v14 )
      {
        for ( i = 0; i < (int)v2[1]; ++i )
        {
          if ( sub_4890C0(a1, 1u) )
          {
            v16 = sub_4890C0(a1, 5u);
            if ( v16 == -1 )
              goto LABEL_46;
            *(_DWORD *)(v2[2] + 4 * i) = v16 + 1;
          }
          else
          {
            *(_DWORD *)(v2[2] + 4 * i) = 0;
          }
        }
      }
      else
      {
        v17 = 0;
        if ( (int)v2[1] > 0 )
        {
          while ( 1 )
          {
            v18 = sub_4890C0(a1, 5u);
            if ( v18 == -1 )
              goto LABEL_46;
            *(_DWORD *)(v2[2] + 4 * v17++) = v18 + 1;
            if ( v17 >= (int)v2[1] )
              goto LABEL_30;
          }
        }
      }
      goto LABEL_30;
    }
LABEL_46:
    sub_47CA30((void **)v2);
    return 0;
  }
  if ( v5 != 1 )
    goto LABEL_46;
  v6 = sub_4890C0(a1, 5u);
  v7 = v6 + 1;
  if ( v6 == -1 )
    goto LABEL_46;
  v2[2] = (unsigned int)malloc(4 * v2[1]);
  v8 = v2[1];
  v9 = 0;
  if ( v8 > 0 )
  {
    v26 = v7 - 1;
    do
    {
      v10 = sub_47C5B0(v8 - v9);
      v11 = sub_4890C0(a1, v10);
      if ( v11 == -1 || v26 > 31 || v11 > (int)(v2[1] - v9) || v11 > 0 && (v11 - 1) >> v26 > 1 )
        goto LABEL_46;
      if ( v11 > 0 )
      {
        do
        {
          ++v9;
          --v11;
          *(_DWORD *)(v2[2] + 4 * v9 - 4) = v7;
        }
        while ( v11 );
      }
      v8 = v2[1];
      ++v7;
      ++v26;
    }
    while ( v9 < v8 );
  }
LABEL_30:
  v19 = sub_4890C0(a1, 4u);
  v2[3] = v19;
  if ( v19 )
  {
    if ( v19 <= 0 )
      goto LABEL_46;
    if ( v19 > 2 )
      goto LABEL_46;
    v2[4] = sub_4890C0(a1, 0x20u);
    v2[5] = sub_4890C0(a1, 0x20u);
    v2[6] = sub_4890C0(a1, 4u) + 1;
    v20 = sub_4890C0(a1, 1u);
    v2[7] = v20;
    if ( v20 == -1 )
      goto LABEL_46;
    v21 = 0;
    if ( v2[3] == 1 )
    {
      v21 = *v2 ? sub_47C7D0((int *)v2) : 0;
    }
    else if ( v2[3] == 2 )
    {
      v21 = v2[1] * *v2;
    }
    if ( (int)(v21 * v2[6] + 7) >> 3 > a1[4] - sub_4891D0(a1) )
      goto LABEL_46;
    v22 = malloc(4 * v21);
    v23 = 0;
    v24 = v21 == 0;
    v2[8] = (unsigned int)v22;
    if ( v21 > 0 )
    {
      do
        *(_DWORD *)(v2[8] + 4 * v23++) = sub_4890C0(a1, v2[6]);
      while ( v23 < v21 );
      v24 = v21 == 0;
    }
    if ( !v24 && *(_DWORD *)(4 * v21 + v2[8] - 4) == -1 )
      goto LABEL_46;
  }
  return v2;
}
// 47D0D0: conditional instruction was optimized away because %arg_0.4<20

//----- (0047D2C0) --------------------------------------------------------
int __cdecl sub_47D2C0(int a1, int a2, int a3)
{
  int v3; // eax

  if ( a2 < 0 )
    return 0;
  v3 = *(_DWORD *)(a1 + 12);
  if ( a2 >= *(_DWORD *)(v3 + 4) )
    return 0;
  sub_488E00(a3, *(_DWORD *)(*(_DWORD *)(a1 + 20) + 4 * a2), *(_DWORD *)(*(_DWORD *)(v3 + 8) + 4 * a2));
  return *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 12) + 8) + 4 * a2);
}

//----- (0047D310) --------------------------------------------------------
int __cdecl sub_47D310(_DWORD *a1, int *a2)
{
  _DWORD *v2; // edi
  int v3; // ebp
  int v4; // eax
  int v5; // ebx
  int v6; // esi
  int v7; // edi
  int *v9; // ebx
  int v10; // eax
  unsigned int v11; // eax
  int v12; // edx
  int v13; // edx
  int v14; // ecx
  int v15; // [esp+10h] [ebp-4h]

  v2 = a1;
  if ( (int)a1[2] <= 0 )
    return -1;
  v3 = a1[10];
  v15 = v3;
  v4 = sub_488F90(a2, a1[9]);
  if ( v4 < 0 )
  {
    v7 = a1[2];
    v6 = 0;
  }
  else
  {
    v5 = *(_DWORD *)(a1[8] + 4 * v4);
    if ( v5 >= 0 )
    {
      sub_489060(a2, *(char *)(a1[7] + v5 - 1));
      v6 = v5 - 1;
      goto LABEL_6;
    }
    v6 = (v5 >> 15) & 0x7FFF;
    v7 = a1[2] - (*(_DWORD *)(a1[8] + 4 * v4) & 0x7FFF);
  }
  v9 = a2;
  v10 = sub_488F90(a2, v3);
  if ( v10 < 0 )
  {
    while ( v3 > 1 )
    {
      v10 = sub_488F90(a2, --v3);
      if ( v10 >= 0 )
      {
        v15 = v3;
        goto LABEL_14;
      }
    }
    return -1;
  }
LABEL_14:
  v11 = sub_47CF40(v10);
  v12 = v7 - v6;
  if ( v7 - v6 > 1 )
  {
    do
    {
      v13 = v12 >> 1;
      v14 = v11 < *(_DWORD *)(a1[5] + 4 * (v13 + v6));
      v7 -= v13 & -v14;
      v6 += v13 & (v14 - 1);
      v12 = v7 - v6;
    }
    while ( v7 - v6 > 1 );
    v3 = v15;
    v9 = a2;
  }
  if ( *(char *)(a1[7] + v6) > v3 )
  {
    sub_489060(v9, v3);
    return -1;
  }
  sub_489060(v9, *(char *)(a1[7] + v6));
  v2 = a1;
LABEL_6:
  if ( v6 >= 0 )
    return *(_DWORD *)(v2[6] + 4 * v6);
  return -1;
}
// 47D3C6: conditional instruction was optimized away because eax.4<0

//----- (0047D440) --------------------------------------------------------
int __cdecl sub_47D440(_DWORD *a1, int a2, int *a3, int a4)
{
  _DWORD *v4; // edi
  int v5; // esi
  int v6; // eax
  void *v7; // esp
  int v8; // eax
  void *v9; // esp
  _BYTE *v10; // ecx
  int v11; // eax
  int v12; // ebx
  int v13; // esi
  int v14; // edi
  int v15; // ebx
  int v16; // ebx
  int v17; // eax
  unsigned int v18; // eax
  int v19; // edx
  int v20; // edx
  int v21; // ecx
  int v22; // eax
  int v23; // eax
  int v24; // ecx
  int i; // ebx
  int v26; // eax
  int v27; // edx
  int v28; // esi
  _BYTE v30[12]; // [esp+0h] [ebp-24h] BYREF
  int v31; // [esp+Ch] [ebp-18h]
  int v32; // [esp+10h] [ebp-14h]
  _BYTE *v33; // [esp+14h] [ebp-10h]
  _BYTE *v34; // [esp+18h] [ebp-Ch]
  int v35; // [esp+1Ch] [ebp-8h]
  int v36; // [esp+20h] [ebp-4h]
  unsigned int v38; // [esp+38h] [ebp+14h]

  v4 = a1;
  if ( (int)a1[2] <= 0 )
    return 0;
  v5 = a4 / *a1;
  v36 = v5;
  v6 = 4 * v5 + 3;
  LOBYTE(v6) = v6 & 0xFC;
  v7 = alloca(v6);
  v8 = 4 * v5 + 3;
  LOBYTE(v8) = (4 * v5 + 3) & 0xFC;
  v9 = alloca(v8);
  v10 = v30;
  v35 = 0;
  v33 = v30;
  if ( v5 <= 0 )
  {
LABEL_26:
    for ( i = 0; i < *v4; a2 += 4 * v5 )
    {
      if ( v5 > 0 )
      {
        v26 = a2;
        v27 = v5;
        do
        {
          v28 = *(_DWORD *)v10;
          v10 += 4;
          v26 += 4;
          --v27;
          *(float *)(v26 - 4) = *(float *)(v28 + 4 * i) + *(float *)(v26 - 4);
        }
        while ( v27 );
        v5 = v36;
        v10 = v33;
      }
      ++i;
    }
    return 0;
  }
  v34 = v30;
  v31 = 0;
  while ( 1 )
  {
    v38 = v4[10];
    v11 = sub_488F90(a3, v4[9]);
    if ( v11 < 0 )
    {
      v14 = v4[2];
      v13 = 0;
    }
    else
    {
      v12 = *(_DWORD *)(v4[8] + 4 * v11);
      if ( v12 >= 0 )
      {
        sub_489060(a3, *(char *)(v4[7] + v12 - 1));
        v15 = v12 - 1;
        goto LABEL_23;
      }
      v13 = (v12 >> 15) & 0x7FFF;
      v14 = v4[2] - (*(_DWORD *)(v4[8] + 4 * v11) & 0x7FFF);
    }
    v16 = v38;
    v17 = sub_488F90(a3, v38);
    if ( v17 < 0 )
    {
      while ( v16 > 1 )
      {
        v17 = sub_488F90(a3, --v16);
        if ( v17 >= 0 )
        {
          v38 = v16;
          goto LABEL_14;
        }
      }
      goto LABEL_21;
    }
LABEL_14:
    v18 = sub_47CF40(v17);
    v19 = v14 - v13;
    if ( v14 - v13 > 1 )
    {
      v32 = a1[5];
      do
      {
        v20 = v19 >> 1;
        v21 = v18 < *(_DWORD *)(v32 + 4 * (v20 + v13));
        v14 -= v20 & -v21;
        v13 += v20 & (v21 - 1);
        v19 = v14 - v13;
      }
      while ( v14 - v13 > 1 );
      v16 = v38;
    }
    if ( *(char *)(a1[7] + v13) > v16 )
    {
      sub_489060(a3, v16);
LABEL_21:
      v15 = -1;
      goto LABEL_22;
    }
    sub_489060(a3, *(char *)(a1[7] + v13));
    v15 = v13;
LABEL_22:
    v5 = v36;
    v4 = a1;
LABEL_23:
    v22 = (int)v34;
    *(_DWORD *)&v34[v31] = v15;
    if ( v15 == -1 )
      return -1;
    v23 = v22 + 4;
    v24 = v35;
    *(_DWORD *)(v23 - 4) = v4[4] + 4 * v15 * *v4;
    v35 = v24 + 1;
    v34 = (_BYTE *)v23;
    if ( v24 + 1 >= v5 )
    {
      v10 = v33;
      goto LABEL_26;
    }
  }
}
// 47D538: conditional instruction was optimized away because eax.4<0

//----- (0047D650) --------------------------------------------------------
int __cdecl sub_47D650(int *a1, float *a2, int *a3, int a4)
{
  int *v4; // ebp
  int v5; // edi
  int v6; // eax
  int v7; // ebx
  int v8; // esi
  int v9; // edi
  int v10; // ebx
  int v11; // eax
  unsigned int v12; // eax
  int v13; // edx
  int v14; // edx
  int v15; // ecx
  int v16; // ecx
  float *v17; // ecx
  int v18; // edx
  float *v19; // eax
  double v20; // st7
  int v22; // ebx
  float *v23; // esi
  int v24; // eax
  int v25; // eax
  int v26; // edi
  int v27; // ebx
  int i; // eax
  unsigned int v29; // eax
  int v30; // edx
  int v31; // edx
  int v32; // ecx
  int v33; // edx
  float *v34; // ecx
  int v35; // eax
  double v36; // st7
  double v37; // st7
  double v38; // st7
  double v39; // st7
  double v40; // st7
  double v41; // st7
  double v42; // st7
  double v43; // st7
  int v44; // [esp+10h] [ebp-8h]
  int v45; // [esp+10h] [ebp-8h]
  int v46; // [esp+14h] [ebp-4h]
  unsigned int v47; // [esp+1Ch] [ebp+4h]
  int v48; // [esp+20h] [ebp+8h]

  v4 = a1;
  if ( a1[2] <= 0 )
    return 0;
  if ( *a1 <= 8 )
  {
    v22 = 0;
    v45 = 0;
    if ( a4 <= 0 )
      return 0;
    v23 = a2;
    while ( 1 )
    {
      v48 = v4[10];
      v24 = sub_488F90(a3, v4[9]);
      if ( v24 < 0 )
        break;
      v25 = *(_DWORD *)(v4[8] + 4 * v24);
      v46 = v25;
      if ( v25 < 0 )
      {
        v26 = (v25 >> 15) & 0x7FFF;
        v27 = v4[2] - (v25 & 0x7FFF);
LABEL_34:
        for ( i = sub_488F90(a3, v48); i < 0; i = sub_488F90(a3, v48) )
        {
          if ( v48 <= 1 )
            return -1;
          --v48;
        }
        v29 = sub_47CF40(i);
        v30 = v27 - v26;
        if ( v27 - v26 > 1 )
        {
          do
          {
            v31 = v30 >> 1;
            v32 = v29 < *(_DWORD *)(v4[5] + 4 * (v31 + v26));
            v27 -= v31 & -v32;
            v26 += v31 & (v32 - 1);
            v30 = v27 - v26;
          }
          while ( v27 - v26 > 1 );
          v4 = a1;
        }
        v33 = v4[7];
        if ( *(char *)(v33 + v26) > v48 )
        {
          sub_489060(a3, v48);
          return -1;
        }
        sub_489060(a3, *(char *)(v33 + v26));
        v22 = v45;
        goto LABEL_44;
      }
      sub_489060(a3, *(char *)(v4[7] + v25 - 1));
      v26 = v46 - 1;
LABEL_44:
      if ( v26 == -1 )
        return -1;
      v34 = (float *)(v4[4] + 4 * v26 * *v4);
      v35 = 0;
      switch ( *v4 )
      {
        case 1:
          goto LABEL_53;
        case 2:
          goto LABEL_52;
        case 3:
          goto LABEL_51;
        case 4:
          goto LABEL_50;
        case 5:
          goto LABEL_49;
        case 6:
          goto LABEL_48;
        case 7:
          goto LABEL_47;
        case 8:
          v36 = *v34 + *v23;
          ++v22;
          v35 = 1;
          *v23++ = v36;
LABEL_47:
          v37 = v34[v35++] + *v23;
          ++v22;
          *v23++ = v37;
LABEL_48:
          v38 = v34[v35++] + *v23;
          ++v22;
          *v23++ = v38;
LABEL_49:
          v39 = v34[v35++] + *v23;
          ++v22;
          *v23++ = v39;
LABEL_50:
          v40 = v34[v35++] + *v23;
          ++v22;
          *v23++ = v40;
LABEL_51:
          v41 = v34[v35++] + *v23;
          ++v22;
          *v23++ = v41;
LABEL_52:
          v42 = v34[v35++] + *v23;
          ++v22;
          *v23++ = v42;
LABEL_53:
          v43 = v34[v35] + *v23;
          ++v22;
          ++v23;
          v45 = v22;
          *(v23 - 1) = v43;
          break;
        default:
          break;
      }
      if ( v22 >= a4 )
        return 0;
    }
    v27 = v4[2];
    v26 = 0;
    goto LABEL_34;
  }
  v5 = 0;
  v44 = 0;
  if ( a4 <= 0 )
    return 0;
  while ( 1 )
  {
    v47 = v4[10];
    v6 = sub_488F90(a3, v4[9]);
    if ( v6 < 0 )
    {
      v9 = v4[2];
      v8 = 0;
    }
    else
    {
      v7 = *(_DWORD *)(v4[8] + 4 * v6);
      if ( v7 >= 0 )
      {
        sub_489060(a3, *(char *)(v4[7] + v7 - 1));
        v8 = v7 - 1;
        goto LABEL_19;
      }
      v8 = (v7 >> 15) & 0x7FFF;
      v9 = v4[2] - (*(_DWORD *)(v4[8] + 4 * v6) & 0x7FFF);
    }
    v10 = v47;
    v11 = sub_488F90(a3, v47);
    if ( v11 < 0 )
      break;
LABEL_14:
    v12 = sub_47CF40(v11);
    v13 = v9 - v8;
    if ( v9 - v8 > 1 )
    {
      do
      {
        v14 = v13 >> 1;
        v15 = v12 < *(_DWORD *)(v4[5] + 4 * (v14 + v8));
        v9 -= v14 & -v15;
        v8 += v14 & (v15 - 1);
        v13 = v9 - v8;
      }
      while ( v9 - v8 > 1 );
      v10 = v47;
    }
    v16 = v4[7];
    if ( *(char *)(v16 + v8) > v10 )
    {
      sub_489060(a3, v10);
      return -1;
    }
    sub_489060(a3, *(char *)(v16 + v8));
    v5 = v44;
LABEL_19:
    if ( v8 == -1 )
      return -1;
    v17 = (float *)(v4[4] + 4 * v8 * *v4);
    v18 = 0;
    if ( *v4 > 0 )
    {
      v19 = &a2[v5];
      do
      {
        v20 = *v17 + *v19;
        ++v18;
        ++v17;
        ++v5;
        *v19++ = v20;
      }
      while ( v18 < *v4 );
      v44 = v5;
    }
    if ( v5 >= a4 )
      return 0;
  }
  while ( v10 > 1 )
  {
    v11 = sub_488F90(a3, --v10);
    if ( v11 >= 0 )
    {
      v47 = v10;
      goto LABEL_14;
    }
  }
  return -1;
}
// 47D71D: conditional instruction was optimized away because eax.4<0
// 47D896: conditional instruction was optimized away because eax.4<0

//----- (0047D9F0) --------------------------------------------------------
int __cdecl sub_47D9F0(_DWORD *a1, char *a2, int *a3, int a4)
{
  _DWORD *v4; // ebp
  int v5; // esi
  int v6; // edi
  int v7; // eax
  int v8; // ebx
  int v9; // esi
  int v10; // edi
  int v11; // ebx
  int v12; // ebx
  int v13; // eax
  unsigned int v14; // eax
  int v15; // edx
  int v16; // edx
  int v17; // ecx
  int v18; // edx
  _DWORD *v19; // ecx
  int v20; // edx
  char *v21; // eax
  unsigned int v23; // [esp+10h] [ebp-8h]
  int v24; // [esp+14h] [ebp-4h]

  v4 = a1;
  if ( (int)a1[2] <= 0 )
  {
    if ( a4 > 0 )
      memset(a2, 0, 4 * a4);
    return 0;
  }
  v5 = a4;
  v6 = 0;
  v24 = 0;
  if ( a4 <= 0 )
    return 0;
  while ( 1 )
  {
    v23 = v4[10];
    v7 = sub_488F90(a3, v4[9]);
    if ( v7 < 0 )
    {
      v10 = v4[2];
      v9 = 0;
    }
    else
    {
      v8 = *(_DWORD *)(v4[8] + 4 * v7);
      if ( v8 >= 0 )
      {
        sub_489060(a3, *(char *)(v4[7] + v8 - 1));
        v11 = v8 - 1;
        goto LABEL_18;
      }
      v9 = (v8 >> 15) & 0x7FFF;
      v10 = v4[2] - (*(_DWORD *)(v4[8] + 4 * v7) & 0x7FFF);
    }
    v12 = v23;
    v13 = sub_488F90(a3, v23);
    if ( v13 < 0 )
      break;
LABEL_13:
    v14 = sub_47CF40(v13);
    v15 = v10 - v9;
    if ( v10 - v9 > 1 )
    {
      do
      {
        v16 = v15 >> 1;
        v17 = v14 < *(_DWORD *)(v4[5] + 4 * (v16 + v9));
        v10 -= v16 & -v17;
        v9 += v16 & (v17 - 1);
        v15 = v10 - v9;
      }
      while ( v10 - v9 > 1 );
      v4 = a1;
      v12 = v23;
    }
    v18 = v4[7];
    if ( *(char *)(v18 + v9) > v12 )
    {
      sub_489060(a3, v12);
      return -1;
    }
    sub_489060(a3, *(char *)(v18 + v9));
    v6 = v24;
    v11 = v9;
    v5 = a4;
LABEL_18:
    if ( v11 == -1 )
      return -1;
    v19 = (_DWORD *)(v4[4] + 4 * v11 * *v4);
    v20 = 0;
    if ( v6 < v5 )
    {
      v21 = &a2[4 * v6];
      while ( v20 < *v4 )
      {
        ++v6;
        *(_DWORD *)v21 = *v19;
        v21 += 4;
        ++v20;
        ++v19;
        v24 = v6;
        if ( v6 >= v5 )
          return 0;
      }
      if ( v6 < v5 )
        continue;
    }
    return 0;
  }
  while ( v12 > 1 )
  {
    v13 = sub_488F90(a3, --v12);
    if ( v13 >= 0 )
    {
      v23 = v12;
      goto LABEL_13;
    }
  }
  return -1;
}
// 47DAB5: conditional instruction was optimized away because eax.4<0

//----- (0047DBA0) --------------------------------------------------------
int __cdecl sub_47DBA0(int *a1, int a2, int a3, int a4, int *a5, int a6)
{
  int *v6; // edi
  int v7; // esi
  int v8; // eax
  int v9; // ebp
  int v10; // eax
  int v11; // ebx
  int v12; // esi
  int v13; // edi
  int v14; // ebx
  int *v15; // ebx
  int v16; // eax
  unsigned int v17; // eax
  int v18; // edx
  int v19; // edx
  int v20; // ecx
  float *v21; // ecx
  int i; // edx
  int v23; // eax
  int v25; // [esp+10h] [ebp-8h]
  int v26; // [esp+14h] [ebp-4h]
  int v27; // [esp+24h] [ebp+Ch]
  int v28; // [esp+30h] [ebp+18h]

  v6 = a1;
  v7 = 0;
  v25 = 0;
  if ( a1[2] <= 0 )
    return 0;
  v8 = a3 + a6;
  v27 = a3 / a4;
  v26 = v8 / a4;
  if ( v27 >= v8 / a4 )
    return 0;
  while ( 1 )
  {
    v9 = v6[10];
    v28 = v9;
    v10 = sub_488F90(a5, v6[9]);
    if ( v10 < 0 )
    {
      v13 = v6[2];
      v12 = 0;
    }
    else
    {
      v11 = *(_DWORD *)(v6[8] + 4 * v10);
      if ( v11 >= 0 )
      {
        sub_489060(a5, *(char *)(v6[7] + v11 - 1));
        v14 = v11 - 1;
        goto LABEL_18;
      }
      v12 = (v11 >> 15) & 0x7FFF;
      v13 = v6[2] - (*(_DWORD *)(v6[8] + 4 * v10) & 0x7FFF);
    }
    v15 = a5;
    v16 = sub_488F90(a5, v9);
    if ( v16 < 0 )
      break;
LABEL_13:
    v17 = sub_47CF40(v16);
    v18 = v13 - v12;
    if ( v13 - v12 > 1 )
    {
      do
      {
        v19 = v18 >> 1;
        v20 = v17 < *(_DWORD *)(a1[5] + 4 * (v19 + v12));
        v13 -= v19 & -v20;
        v12 += v19 & (v20 - 1);
        v18 = v13 - v12;
      }
      while ( v13 - v12 > 1 );
      v9 = v28;
      v15 = a5;
    }
    if ( *(char *)(a1[7] + v12) > v9 )
    {
      sub_489060(v15, v9);
      return -1;
    }
    sub_489060(v15, *(char *)(a1[7] + v12));
    v6 = a1;
    v14 = v12;
    v7 = v25;
LABEL_18:
    if ( v14 == -1 )
      return -1;
    v21 = (float *)(v6[4] + 4 * v14 * *v6);
    for ( i = 0; i < *v6; ++v21 )
    {
      v23 = *(_DWORD *)(a2 + 4 * v7++);
      v25 = v7;
      *(float *)(v23 + 4 * v27) = *(float *)(v23 + 4 * v27) + *v21;
      if ( v7 == a4 )
      {
        v25 = 0;
        v7 = 0;
        ++v27;
      }
      ++i;
    }
    if ( v27 >= v26 )
      return 0;
  }
  while ( v9 > 1 )
  {
    v16 = sub_488F90(a5, --v9);
    if ( v16 >= 0 )
    {
      v28 = v9;
      goto LABEL_13;
    }
  }
  return -1;
}
// 47DC79: conditional instruction was optimized away because eax.4<0

//----- (0047DD70) --------------------------------------------------------
int __cdecl sub_47DD70(void *a1)
{
  int result; // eax

  result = 0;
  memset(a1, 0, 0x30u);
  return result;
}

//----- (0047DD80) --------------------------------------------------------
BOOL __cdecl sub_47DD80(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 64) + 104) != -80 && *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 64) + 104) + 80);
}

//----- (0047DDA0) --------------------------------------------------------
int __cdecl sub_47DDA0(void **a1)
{
  void **v1; // esi
  int v2; // ebx
  int result; // eax

  sub_47F5D0((int)(a1 + 4));
  v1 = a1 + 12;
  v2 = 7;
  do
  {
    free(*v1);
    v1 += 4;
    --v2;
  }
  while ( v2 );
  free(a1[9]);
  free(a1[38]);
  free(a1[40]);
  result = 0;
  memset(a1, 0, 0xB4u);
  return result;
}

//----- (0047DE00) --------------------------------------------------------
int __cdecl sub_47DE00(int a1, float *a2)
{
  int result; // eax

  result = *(_DWORD *)a1;
  if ( *(_DWORD *)a1 != 1 )
    return sub_47DE30(result, a2, *(float **)(a1 + 4), *(_DWORD *)(a1 + 4) + 4 * result, *(_DWORD *)(a1 + 8));
  return result;
}

//----- (0047DE30) --------------------------------------------------------
int __cdecl sub_47DE30(int a1, float *a2, float *a3, int a4, int a5)
{
  int v6; // ecx
  int result; // eax
  float *v8; // edi
  int v10; // esi
  int v11; // eax
  int *v12; // edx
  bool v13; // zf
  int v14; // [esp-14h] [ebp-28h]
  int v15; // [esp-10h] [ebp-24h]
  int v16; // [esp-Ch] [ebp-20h]
  int v17; // [esp-Ch] [ebp-20h]
  float *v18; // [esp-Ch] [ebp-20h]
  int v19; // [esp+8h] [ebp-Ch]
  int *v20; // [esp+Ch] [ebp-8h]
  int v21; // [esp+10h] [ebp-4h]
  int v22; // [esp+24h] [ebp+10h]
  int v23; // [esp+28h] [ebp+14h]

  v6 = a1;
  result = *(_DWORD *)(a5 + 4);
  v23 = 1;
  v19 = a1;
  if ( result > 0 )
  {
    v8 = a2;
    v20 = (int *)(a5 + 4 * result + 4);
    v21 = result;
    do
    {
      v10 = v6 / *v20;
      v11 = a1 / v6;
      v22 = v10 * (a1 / v6);
      v19 -= a1 / v6 * (*v20 - 1);
      v23 = 1 - v23;
      v12 = v20;
      if ( *v20 == 4 )
      {
        v18 = (float *)(a4 + 4 * (v11 + v19 + v11) - 4);
        v15 = a4 + 4 * (v11 + v19) - 4;
        v14 = a4 + 4 * v19 - 4;
        if ( v23 )
          sub_47E1A0(v11, v10, a3, a2, v14, v15, v18);
        else
          sub_47E1A0(v11, v10, a2, a3, v14, v15, v18);
      }
      else if ( *v20 == 2 )
      {
        v17 = a4 + 4 * v19 - 4;
        if ( v23 )
          sub_47DFE0(v11, v10, a3, a2, v17);
        else
          sub_47DFE0(v11, v10, a2, a3, v17);
      }
      else
      {
        if ( v11 == 1 )
        {
          v12 = v20;
          v23 = 1 - v23;
        }
        v16 = a4 + 4 * v19 - 4;
        if ( v23 )
        {
          sub_47E610(v11, *v12, v10, v22, a3, a3, (char *)a3, a2, a2, v16);
          v23 = 0;
        }
        else
        {
          sub_47E610(v11, *v12, v10, v22, a2, a2, (char *)a2, a3, a3, v16);
          v23 = 1;
        }
      }
      v13 = v21 == 1;
      v6 = v10;
      --v20;
      --v21;
    }
    while ( !v13 );
    result = v23;
    if ( v23 != 1 )
    {
      result = a1;
      if ( a1 > 0 )
      {
        do
        {
          *v8 = *(float *)((char *)v8 + (char *)a3 - (char *)a2);
          ++v8;
          --result;
        }
        while ( result );
      }
    }
  }
  return result;
}

//----- (0047DFE0) --------------------------------------------------------
void __cdecl sub_47DFE0(int a1, int a2, float *a3, float *a4, int a5)
{
  int v6; // edi
  float *v7; // edx
  int v8; // esi
  float *v9; // eax
  float *v10; // ecx
  float *v11; // ecx
  float *v12; // esi
  float *v13; // ecx
  float *v14; // edi
  float *v15; // eax
  float *v16; // edx
  unsigned int v17; // ebx
  double v18; // st7
  double v19; // st6
  double v20; // st7
  double v21; // st6
  double v22; // st5
  double v23; // st6
  bool v24; // zf
  int v25; // ecx
  int v26; // esi
  int v27; // ebx
  int v28; // ebp
  float *v29; // ecx
  float *v30; // eax
  float *v31; // edx
  int v32; // [esp+10h] [ebp-14h]
  float *v33; // [esp+10h] [ebp-14h]
  float *v34; // [esp+14h] [ebp-10h]
  float *v35; // [esp+14h] [ebp-10h]
  float *v36; // [esp+18h] [ebp-Ch]
  int v37; // [esp+1Ch] [ebp-8h]
  int v38; // [esp+20h] [ebp-4h]
  float *v39; // [esp+28h] [ebp+4h]
  float *v40; // [esp+28h] [ebp+4h]

  v6 = a2;
  v7 = a3;
  v8 = a2 * a1;
  v38 = a2 * a1;
  if ( a2 > 0 )
  {
    v9 = a3;
    v34 = a4;
    v10 = &a3[v8];
    v39 = &a4[2 * a1 - 1];
    v32 = a2;
    do
    {
      *v34 = *v9 + *v10;
      *v39 = *v9 - *v10;
      v34 += 2 * a1;
      v9 += a1;
      v10 += a1;
      v39 += 2 * a1;
      --v32;
    }
    while ( v32 );
    v6 = a2;
  }
  if ( a1 >= 2 )
  {
    if ( a1 == 2 )
      goto LABEL_13;
    if ( v6 > 0 )
    {
      v11 = &a3[v8];
      v35 = a4;
      v40 = a3;
      v12 = &a4[2 * a1];
      v33 = v11;
      v36 = v12;
      v37 = v6;
      do
      {
        v13 = v40;
        v14 = v35;
        v15 = v33;
        v16 = (float *)(a5 + 4);
        v17 = (unsigned int)(a1 - 1) >> 1;
        do
        {
          v18 = *(v16 - 1) * v15[1];
          v19 = v15[2] * *v16;
          v15 += 2;
          v13 += 2;
          v14 += 2;
          v12 -= 2;
          v20 = v18 + v19;
          v21 = *(v16 - 1) * *v15;
          v22 = *v16 * *(v15 - 1);
          v16 += 2;
          --v17;
          v23 = v21 - v22;
          *v14 = v23 + *v13;
          *v12 = v23 - *v13;
          *(v14 - 1) = v20 + *(v13 - 1);
          *(v12 - 1) = *(v13 - 1) - v20;
        }
        while ( v17 );
        v6 = a2;
        v7 = a3;
        v12 = &v36[2 * a1];
        v40 += a1;
        v24 = v37 == 1;
        v36 = v12;
        v33 += a1;
        v35 += 2 * a1;
        --v37;
      }
      while ( !v24 );
    }
    if ( (a1 & 1) != 1 )
    {
LABEL_13:
      v25 = a1 - 1;
      v26 = v38 + a1 - 1;
      if ( v6 > 0 )
      {
        v27 = 8 * a1;
        v28 = 4 * a1;
        v29 = &v7[v25];
        v30 = &a4[v28 / 4u];
        v31 = &v7[v26];
        do
        {
          *v30 = -*v31;
          v31 = (float *)((char *)v31 + v28);
          *(v30 - 1) = *v29;
          v30 = (float *)((char *)v30 + v27);
          v29 = (float *)((char *)v29 + v28);
          --v6;
        }
        while ( v6 );
      }
    }
  }
}
// 47E09E: conditional instruction was optimized away because ebp.4>=3
// 47E153: conditional instruction was optimized away because ebp.4>=3
// 47E14E: mask 0x80000001 is shortened because ebp.4 <= 0x7FFFFFFF

//----- (0047E1A0) --------------------------------------------------------
int __cdecl sub_47E1A0(int a1, int a2, float *a3, float *a4, int a5, int a6, float *a7)
{
  int result; // eax
  int v8; // ebx
  float *v9; // edx
  int v10; // ebp
  float *v11; // esi
  float *v12; // ebx
  int v13; // edi
  double v14; // st7
  double v15; // st6
  int v16; // ecx
  double v17; // st7
  int v18; // edi
  int v19; // ebx
  int v20; // ecx
  float *v21; // ebp
  float *v22; // esi
  float *v23; // edi
  float *v24; // eax
  float *v25; // ecx
  float *v26; // edx
  double v27; // st7
  double v28; // st7
  double v29; // st6
  double v30; // st7
  double v31; // st6
  double v32; // st5
  bool v33; // zf
  int v34; // edi
  int v35; // ecx
  float *v36; // edx
  int v37; // eax
  float *v38; // ebx
  int v39; // edi
  float *v40; // ebp
  float *v41; // esi
  float *i; // edi
  double v43; // st7
  double v44; // st6
  double v45; // st6
  double v46; // st5
  double v47; // st7
  float *v48; // [esp+10h] [ebp-5Ch]
  float *v49; // [esp+10h] [ebp-5Ch]
  float *v50; // [esp+14h] [ebp-58h]
  float *v51; // [esp+14h] [ebp-58h]
  float *v52; // [esp+18h] [ebp-54h]
  float *v53; // [esp+18h] [ebp-54h]
  int v54; // [esp+1Ch] [ebp-50h]
  float *v55; // [esp+1Ch] [ebp-50h]
  float *v56; // [esp+20h] [ebp-4Ch]
  int v57; // [esp+24h] [ebp-48h]
  float *v58; // [esp+24h] [ebp-48h]
  float *v59; // [esp+28h] [ebp-44h]
  float *v60; // [esp+28h] [ebp-44h]
  int v61; // [esp+2Ch] [ebp-40h]
  int v62; // [esp+30h] [ebp-3Ch]
  float v63; // [esp+34h] [ebp-38h]
  float v64; // [esp+34h] [ebp-38h]
  float v65; // [esp+38h] [ebp-34h]
  float v66; // [esp+38h] [ebp-34h]
  float v67; // [esp+3Ch] [ebp-30h]
  float v68; // [esp+3Ch] [ebp-30h]
  float v69; // [esp+40h] [ebp-2Ch]
  float v70; // [esp+44h] [ebp-28h]
  float v71; // [esp+48h] [ebp-24h]
  unsigned int v72; // [esp+4Ch] [ebp-20h]
  int v73; // [esp+54h] [ebp-18h]
  int v74; // [esp+58h] [ebp-14h]
  char *v75; // [esp+60h] [ebp-Ch]
  int v76; // [esp+68h] [ebp-4h]
  float *v77; // [esp+70h] [ebp+4h]
  int v78; // [esp+80h] [ebp+14h]
  float *v79; // [esp+88h] [ebp+1Ch]

  result = a1;
  v8 = a2;
  v9 = a4;
  v10 = a2 * a1;
  v11 = a3;
  v54 = 0;
  if ( a2 > 0 )
  {
    v12 = &a3[v10];
    v13 = 4 * a1;
    v48 = a3;
    v59 = v12;
    v52 = &a3[3 * v10];
    v50 = &a3[2 * v10];
    v57 = a2;
    do
    {
      v14 = *v12 + *v52;
      v15 = *v50 + *v48;
      a4[4 * v54] = v15 + v14;
      a4[4 * v54 - 1 + v13] = v15 - v14;
      v16 = 2 * a1 + 4 * v54;
      a4[v16 - 1] = *v48 - *v50;
      v17 = *v52 - *v59;
      v12 = &v59[v13 / 4u];
      v59 = (float *)((char *)v59 + v13);
      a4[v16] = v17;
      v54 += a1;
      v48 = (float *)((char *)v48 + v13);
      v50 = (float *)((char *)v50 + v13);
      v52 = (float *)((char *)v52 + v13);
      --v57;
    }
    while ( v57 );
    v8 = a2;
  }
  if ( a1 >= 2 )
  {
    if ( a1 == 2 )
      goto LABEL_17;
    v18 = 0;
    v73 = 0;
    if ( v8 > 0 )
    {
      v19 = 2 * a1;
      v76 = 4 * a1;
      v56 = a4;
      v60 = &a3[3 * v10];
      v58 = &a3[v10];
      v74 = a2;
      while ( 1 )
      {
        v20 = v19 + 4 * v18;
        if ( result > 2 )
        {
          v53 = &v9[v20];
          v21 = &v11[v18];
          v51 = &v9[4 * v18 + v19];
          v49 = &v9[v19 + v20];
          v22 = &v11[2 * a2 * a1 + v18];
          v23 = v60;
          v62 = a6 - a5;
          v75 = (char *)a7 - a5;
          v24 = (float *)(a5 + 4);
          v61 = a6 - (_DWORD)a7;
          v55 = v56;
          v25 = v58;
          v72 = (unsigned int)(a1 - 1) >> 1;
          v26 = a7;
          do
          {
            v27 = v25[1] * *(v24 - 1);
            v25 += 2;
            v22 += 2;
            v55 += 2;
            v23 += 2;
            v28 = v27 + *v24 * *v25;
            v51 += 2;
            v21 += 2;
            v53 -= 2;
            v49 -= 2;
            v63 = *(v24 - 1) * *v25 - *v24 * *(v25 - 1);
            v69 = *(v22 - 1) * *(float *)((char *)v26 + v61) + *(float *)((char *)v24 + v62) * *v22;
            v67 = *v22 * *(float *)((char *)v26 + v61) - *(v22 - 1) * *(float *)((char *)v24 + v62);
            v29 = *(float *)((char *)v24 + (_DWORD)v75) * *v23 + *(v23 - 1) * *v26;
            v65 = *v23 * *v26 - *(v23 - 1) * *(float *)((char *)v24 + (_DWORD)v75);
            v70 = v29 + v28;
            v30 = v29 - v28;
            v71 = v65 + v63;
            v31 = v63 - v65;
            v64 = v67 + *v21;
            v68 = *v21 - v67;
            v66 = v69 + *(v21 - 1);
            v32 = *(v21 - 1) - v69;
            *(v55 - 1) = v66 + v70;
            *v55 = v64 + v71;
            v24 += 2;
            v26 += 2;
            *(v53 - 1) = v32 - v31;
            *v53 = v30 - v68;
            *(v51 - 1) = v32 + v31;
            *v51 = v68 + v30;
            *(v49 - 1) = v66 - v70;
            *v49 = v71 - v64;
            --v72;
          }
          while ( v72 );
          v11 = a3;
          v9 = a4;
          v18 = v73;
          v10 = a2 * a1;
          result = a1;
        }
        v56 += 4 * a1;
        v18 += result;
        v58 = (float *)((char *)v58 + v76);
        v33 = v74 == 1;
        v73 = v18;
        v60 = (float *)((char *)v60 + v76);
        --v74;
        if ( v33 )
          break;
        v19 = 2 * a1;
      }
      v8 = a2;
    }
    if ( (result & 1) == 0 )
    {
LABEL_17:
      v34 = result + v10 - 1;
      if ( v8 > 0 )
      {
        v78 = 16 * result;
        v35 = 4 * result;
        v77 = &v9[result];
        v36 = &v9[3 * result];
        v37 = v34 + v10;
        v79 = &v11[2 * v10 + v34];
        v38 = &v11[v34];
        v39 = v34 - v10;
        v40 = v77;
        result = (int)&v11[v37];
        v41 = &v11[v39];
        for ( i = v79; ; i = (float *)((char *)i + v35) )
        {
          v43 = -((*i + *v38) * flt_4BD7E4);
          v44 = *v38 - *i;
          v38 = (float *)((char *)v38 + v35);
          v45 = v44 * flt_4BD7E4;
          *(v40 - 1) = v45 + *v41;
          v46 = *v41 - v45;
          v41 = (float *)((char *)v41 + v35);
          *(v36 - 1) = v46;
          *v40 = v43 - *(float *)result;
          v40 = (float *)((char *)v40 + v78);
          v47 = v43 + *(float *)result;
          result += v35;
          *v36 = v47;
          v36 = (float *)((char *)v36 + v78);
          if ( !--a2 )
            break;
        }
      }
    }
  }
  return result;
}
// 4BD7E4:  float flt_4BD7E4

//----- (0047E610) --------------------------------------------------------
int __cdecl sub_47E610(
        int a1,
        int a2,
        int a3,
        int a4,
        _DWORD *a5,
        float *a6,
        char *a7,
        _DWORD *a8,
        _DWORD *a9,
        int a10)
{
  long double v11; // st7
  int v12; // esi
  _DWORD *v13; // eax
  int v14; // esi
  _DWORD *v15; // eax
  int v16; // ebx
  int v17; // esi
  int v18; // edi
  int v19; // eax
  float *v20; // ebp
  float *v21; // ecx
  float *v22; // eax
  float *v23; // ebx
  unsigned int v24; // esi
  double v25; // st7
  double v26; // st6
  float *v27; // esi
  int v28; // ebp
  float *v29; // ecx
  float *v30; // edi
  float *v31; // eax
  int v32; // ebx
  double v33; // st7
  double v34; // st6
  int v35; // ebp
  int v36; // ebx
  int v37; // ebp
  int v38; // edi
  int v39; // esi
  int v40; // eax
  int v41; // ecx
  float *v42; // ebx
  int v43; // edi
  float *v44; // eax
  float *v45; // ecx
  double v46; // st7
  float *v47; // ebx
  float *v48; // edi
  float *v49; // ecx
  float *v50; // esi
  float *v51; // ebp
  float *v52; // eax
  int v53; // esi
  unsigned int v54; // edi
  double v55; // st7
  bool v56; // zf
  int v57; // ebp
  _DWORD *v58; // eax
  int v59; // esi
  int v60; // ebx
  int v61; // ecx
  int v62; // edi
  int v63; // esi
  int v64; // ecx
  float *v65; // ecx
  int v66; // esi
  float *v67; // eax
  double v68; // st7
  double v69; // st6
  int v70; // eax
  float *v71; // ebx
  float *v72; // edi
  int v73; // ebp
  float *v74; // esi
  float *v75; // ecx
  float *v76; // eax
  double v77; // st5
  double v78; // st5
  double v79; // st5
  double v80; // st4
  float *v81; // esi
  float *v82; // ecx
  char *v83; // edi
  float *v84; // eax
  int v85; // ebx
  double v86; // st3
  float *v87; // edi
  float *v88; // eax
  float *v89; // ecx
  int v90; // esi
  double v91; // st7
  int v92; // ebx
  _DWORD *v93; // edi
  _DWORD *v94; // esi
  int v95; // ecx
  _DWORD *v96; // ecx
  _DWORD *v97; // eax
  int v98; // ebp
  _DWORD *v99; // ecx
  int *v100; // eax
  int v101; // esi
  int v102; // ebp
  int v103; // ebp
  int result; // eax
  _DWORD *v105; // ecx
  _DWORD *v106; // esi
  _DWORD *v107; // eax
  int v108; // edi
  int v109; // ebp
  int v110; // ebx
  int v111; // ebp
  int v112; // esi
  int v113; // ecx
  float *v114; // edi
  int v115; // eax
  int v116; // ebx
  float *v117; // ecx
  float *v118; // eax
  float *v119; // esi
  double v120; // st7
  int v121; // ebp
  _DWORD *v122; // ecx
  _DWORD *v123; // edi
  int v124; // esi
  int v125; // ebp
  float *v126; // ecx
  int v127; // eax
  float *v128; // edi
  int v129; // esi
  unsigned int v130; // ebx
  double v131; // st7
  int v132; // [esp+0h] [ebp-38h]
  int v133; // [esp+4h] [ebp-34h]
  int v134; // [esp+4h] [ebp-34h]
  float *v135; // [esp+4h] [ebp-34h]
  float *v136; // [esp+4h] [ebp-34h]
  int v137; // [esp+4h] [ebp-34h]
  int v138; // [esp+8h] [ebp-30h]
  int v139; // [esp+Ch] [ebp-2Ch]
  float *v140; // [esp+Ch] [ebp-2Ch]
  int v141; // [esp+Ch] [ebp-2Ch]
  int v142; // [esp+Ch] [ebp-2Ch]
  char *v143; // [esp+Ch] [ebp-2Ch]
  int v144; // [esp+Ch] [ebp-2Ch]
  int v145; // [esp+10h] [ebp-28h]
  int v146; // [esp+10h] [ebp-28h]
  int v147; // [esp+10h] [ebp-28h]
  float *v148; // [esp+10h] [ebp-28h]
  int v149; // [esp+10h] [ebp-28h]
  float *v150; // [esp+10h] [ebp-28h]
  int v151; // [esp+14h] [ebp-24h]
  int v152; // [esp+18h] [ebp-20h]
  float *v153; // [esp+18h] [ebp-20h]
  int v154; // [esp+18h] [ebp-20h]
  float *v155; // [esp+1Ch] [ebp-1Ch]
  unsigned int v156; // [esp+1Ch] [ebp-1Ch]
  float *v157; // [esp+1Ch] [ebp-1Ch]
  int v158; // [esp+1Ch] [ebp-1Ch]
  float v159; // [esp+1Ch] [ebp-1Ch]
  float *v160; // [esp+20h] [ebp-18h]
  int v161; // [esp+20h] [ebp-18h]
  float *v162; // [esp+20h] [ebp-18h]
  int v163; // [esp+20h] [ebp-18h]
  int v164; // [esp+20h] [ebp-18h]
  float *v165; // [esp+20h] [ebp-18h]
  float v166; // [esp+24h] [ebp-14h]
  int v167; // [esp+24h] [ebp-14h]
  float v168; // [esp+28h] [ebp-10h]
  int v169; // [esp+28h] [ebp-10h]
  _DWORD *v170; // [esp+2Ch] [ebp-Ch]
  float *v171; // [esp+2Ch] [ebp-Ch]
  int v172; // [esp+2Ch] [ebp-Ch]
  float *v173; // [esp+2Ch] [ebp-Ch]
  int v174; // [esp+2Ch] [ebp-Ch]
  int v175; // [esp+2Ch] [ebp-Ch]
  int v176; // [esp+30h] [ebp-8h]
  float *v177; // [esp+30h] [ebp-8h]
  int v178; // [esp+30h] [ebp-8h]
  _DWORD *v179; // [esp+30h] [ebp-8h]
  float *v180; // [esp+34h] [ebp-4h]
  int v181; // [esp+34h] [ebp-4h]
  int v182; // [esp+34h] [ebp-4h]
  _DWORD *v183; // [esp+34h] [ebp-4h]
  int v184; // [esp+3Ch] [ebp+4h]
  unsigned int v185; // [esp+3Ch] [ebp+4h]
  int v186; // [esp+3Ch] [ebp+4h]
  int v187; // [esp+40h] [ebp+8h]
  int v188; // [esp+40h] [ebp+8h]
  float *v189; // [esp+40h] [ebp+8h]
  int v190; // [esp+48h] [ebp+10h]
  _DWORD *v191; // [esp+48h] [ebp+10h]
  int v192; // [esp+48h] [ebp+10h]
  int v193; // [esp+48h] [ebp+10h]
  int v194; // [esp+4Ch] [ebp+14h]
  float v195; // [esp+50h] [ebp+18h]
  int v196; // [esp+50h] [ebp+18h]
  int v197; // [esp+50h] [ebp+18h]
  int *v198; // [esp+50h] [ebp+18h]
  int v199; // [esp+50h] [ebp+18h]
  int v200; // [esp+50h] [ebp+18h]
  float *v201; // [esp+50h] [ebp+18h]
  _DWORD *v202; // [esp+54h] [ebp+1Ch]
  int v203; // [esp+54h] [ebp+1Ch]
  int v204; // [esp+54h] [ebp+1Ch]
  int v205; // [esp+58h] [ebp+20h]
  int v206; // [esp+5Ch] [ebp+24h]
  _DWORD *v207; // [esp+5Ch] [ebp+24h]
  int v208; // [esp+5Ch] [ebp+24h]
  int v209; // [esp+5Ch] [ebp+24h]
  int v210; // [esp+60h] [ebp+28h]
  unsigned int v211; // [esp+60h] [ebp+28h]
  int v212; // [esp+60h] [ebp+28h]
  float *v213; // [esp+60h] [ebp+28h]
  int v214; // [esp+60h] [ebp+28h]
  float *v215; // [esp+60h] [ebp+28h]
  _DWORD *v216; // [esp+60h] [ebp+28h]
  float *v217; // [esp+60h] [ebp+28h]
  int v218; // [esp+60h] [ebp+28h]

  v11 = flt_4BD7E8 / (double)a2;
  v132 = (a2 + 1) >> 1;
  v151 = (a1 - 1) >> 1;
  v184 = a3 * a1;
  v168 = cos(v11);
  v138 = a2 * a1;
  v166 = sin(v11);
  if ( a1 != 1 )
  {
    v12 = a4;
    if ( a4 > 0 )
    {
      v13 = a9;
      do
      {
        *v13 = *(_DWORD *)((char *)v13 + a7 - (char *)a9);
        ++v13;
        --v12;
      }
      while ( v12 );
    }
    v14 = a2;
    if ( a2 <= 1 )
    {
      v16 = a3;
    }
    else
    {
      v15 = a8;
      v16 = a3;
      v145 = a2 - 1;
      do
      {
        v15 += v184;
        v170 = v15;
        if ( a3 > 0 )
        {
          v17 = a3;
          do
          {
            *v15 = *(_DWORD *)((char *)v15 + (char *)a6 - (char *)a8);
            v15 += a1;
            --v17;
          }
          while ( v17 );
          v15 = v170;
          v14 = a2;
        }
        --v145;
      }
      while ( v145 );
    }
    if ( v151 <= v16 )
    {
      if ( v14 > 1 )
      {
        v27 = (float *)a8;
        v28 = 4 * a1;
        v29 = (float *)(a10 - 4 * a1 - 4);
        v30 = a6 - 1;
        v147 = a2 - 1;
        do
        {
          v29 = (float *)((char *)v29 + v28);
          v27 += v184;
          v30 += v184;
          v155 = v29;
          v140 = v27;
          if ( a1 > 2 )
          {
            v31 = v30;
            v211 = (unsigned int)(a1 - 1) >> 1;
            do
            {
              v29 += 2;
              v27 += 2;
              v31 += 2;
              v160 = v27;
              v171 = v31;
              if ( a3 > 0 )
              {
                v32 = a3;
                do
                {
                  *(float *)((char *)v31 + (char *)a8 - (char *)a6) = *v31 * *(v29 - 1) + v31[1] * *v29;
                  v33 = v31[1] * *(v29 - 1);
                  v34 = *v29 * *v31;
                  v31 = (float *)((char *)v31 + v28);
                  *v27 = v33 - v34;
                  v27 = (float *)((char *)v27 + v28);
                  --v32;
                }
                while ( v32 );
                v31 = v171;
                v27 = v160;
              }
              --v211;
            }
            while ( v211 );
            v29 = v155;
            v27 = v140;
          }
          --v147;
        }
        while ( v147 );
      }
    }
    else if ( v14 > 1 )
    {
      v18 = 0;
      v133 = v14 - 1;
      v210 = a10 - 4 * a1 - 4;
      do
      {
        v18 += 4 * v184;
        v19 = v18 - 4 * a1;
        v210 += 4 * a1;
        if ( v16 > 0 )
        {
          v146 = v16;
          v20 = (float *)((char *)a8 + v19);
          v139 = (int)a6 + v19 - 4;
          do
          {
            v20 += a1;
            v139 += 4 * a1;
            if ( a1 > 2 )
            {
              v21 = (float *)v210;
              v22 = (float *)v139;
              v23 = v20;
              v24 = (unsigned int)(a1 - 1) >> 1;
              do
              {
                v25 = v22[3] * v21[2];
                v26 = v22[2];
                v22 += 2;
                v21 += 2;
                v23 += 2;
                --v24;
                *(float *)((char *)v22 + (char *)a8 - (char *)a6) = v25 + v26 * *(v21 - 1);
                *v23 = *(v21 - 1) * v22[1] - *v22 * *v21;
              }
              while ( v24 );
              v16 = a3;
            }
            --v146;
          }
          while ( v146 );
        }
        --v133;
      }
      while ( v133 );
    }
    v35 = a2 * v184;
    v36 = 0;
    if ( v151 >= a3 )
    {
      if ( v132 > 1 )
      {
        v47 = a6;
        v48 = &a6[v35];
        v49 = (float *)&a8[v35 - 1];
        v50 = (float *)(a8 - 1);
        v142 = v132 - 1;
        do
        {
          v47 += v184;
          v50 += v184;
          v48 -= v184;
          v49 -= v184;
          v177 = v47;
          v135 = v50;
          v180 = v48;
          v173 = v49;
          if ( a3 > 0 )
          {
            v51 = v48;
            v162 = v47;
            v213 = v50;
            v157 = v48;
            v153 = v49;
            v149 = a3;
            do
            {
              if ( a1 > 2 )
              {
                v52 = v213;
                v53 = (char *)a6 - (char *)a8;
                v54 = (unsigned int)(a1 - 1) >> 1;
                do
                {
                  v55 = v49[2] + v52[2];
                  v49 += 2;
                  v52 += 2;
                  v47 += 2;
                  v51 += 2;
                  --v54;
                  *(float *)((char *)v52 + v53) = v55;
                  *(float *)((char *)v49 + v53) = v52[1] - v49[1];
                  *v47 = v49[1] + v52[1];
                  *v51 = *v49 - *v52;
                }
                while ( v54 );
              }
              v47 = &v162[a1];
              v213 += a1;
              v51 = &v157[a1];
              v49 = &v153[a1];
              v162 = v47;
              v56 = v149 == 1;
              v157 = v51;
              v153 = v49;
              --v149;
            }
            while ( !v56 );
            v47 = v177;
            v49 = v173;
            v50 = v135;
            v48 = v180;
          }
          --v142;
        }
        while ( v142 );
      }
    }
    else if ( v132 > 1 )
    {
      v161 = v132 - 1;
      do
      {
        v36 += v184;
        v35 -= v184;
        v141 = v36;
        v212 = v35;
        if ( a1 > 2 )
        {
          v37 = v35 - v36;
          v38 = 4 * v36;
          v39 = 4 * a1;
          v176 = v37;
          v156 = (unsigned int)(a1 - 1) >> 1;
          do
          {
            v36 += 2;
            v38 += 8;
            v40 = v38 - v39;
            v134 = v36;
            v172 = v38;
            if ( a3 > 0 )
            {
              v41 = v37 + v36 - a1;
              v42 = (float *)((char *)a6 + v40);
              v148 = &a6[v41];
              v43 = (char *)a6 - (char *)a8;
              v44 = (float *)((char *)a8 + v40 - 4);
              v45 = (float *)&a8[v41 - 1];
              v152 = a3;
              do
              {
                v46 = v44[a1] + v45[a1];
                v44 = (float *)((char *)v44 + v39);
                v45 = (float *)((char *)v45 + v39);
                v42 = (float *)((char *)v42 + v39);
                *(float *)((char *)v44 + v43) = v46;
                v148 = (float *)((char *)v148 + v39);
                *(float *)((char *)v45 + v43) = v44[1] - v45[1];
                *v42 = v45[1] + v44[1];
                *v148 = *v45 - *v44;
                --v152;
              }
              while ( v152 );
              v38 = v172;
              v37 = v176;
              v36 = v134;
            }
            --v156;
          }
          while ( v156 );
          v36 = v141;
          v35 = v212;
        }
        --v161;
      }
      while ( v161 );
    }
  }
  v57 = a4;
  if ( a4 > 0 )
  {
    v58 = a7;
    v59 = a4;
    do
    {
      *v58 = *(_DWORD *)((char *)v58 + (char *)a9 - a7);
      ++v58;
      --v59;
    }
    while ( v59 );
  }
  v60 = (a2 + 1) >> 1;
  v61 = a4 * a2;
  v62 = 0;
  v214 = a4 * a2;
  if ( v132 > 1 )
  {
    v63 = v184;
    v64 = 0;
    v158 = v132 - 1;
    while ( 1 )
    {
      v62 += v63;
      v181 = 4 * v63 + v64;
      v214 -= v63;
      if ( a3 > 0 )
      {
        v65 = (float *)((char *)a8 + v181 - 4 * a1);
        v66 = (char *)a6 - (char *)a8;
        v67 = (float *)&a8[v214 - a1];
        v163 = a3;
        do
        {
          v67 += a1;
          v65 += a1;
          v56 = v163-- == 1;
          *(float *)((char *)v65 + v66) = *v67 + *v65;
          *(float *)((char *)v67 + v66) = *v67 - *v65;
        }
        while ( !v56 );
        v63 = v184;
      }
      if ( !--v158 )
        break;
      v64 = v181;
    }
    v61 = a4 * a2;
    v60 = (a2 + 1) >> 1;
  }
  v68 = 0.0;
  v164 = a4 * (a2 - 1);
  if ( v60 > 1 )
  {
    v69 = 1.0;
    v136 = (float *)a9;
    v215 = (float *)&a9[v61];
    v174 = v60 - 1;
    do
    {
      v70 = 4 * v57;
      v195 = v69 * v168 - v68 * v166;
      v136 += v57;
      v215 -= v57;
      v68 = v69 * v166 + v68 * v168;
      v69 = v195;
      if ( v57 > 0 )
      {
        v71 = (float *)a7;
        v72 = v215;
        v73 = a4;
        v74 = (float *)&a7[4 * v164];
        v75 = v136;
        v76 = (float *)&a7[v70];
        do
        {
          v77 = v195 * *v76++;
          ++v75;
          ++v74;
          ++v72;
          v78 = v77 + *v71++;
          --v73;
          *(v75 - 1) = v78;
          *(v72 - 1) = v68 * *(v74 - 1);
        }
        while ( v73 );
        v57 = a4;
      }
      v79 = v68;
      if ( v132 > 2 )
      {
        v80 = v195;
        v154 = v132 - 2;
        v150 = (float *)&a7[4 * v57];
        v143 = &a7[4 * v164];
        do
        {
          v81 = &v150[v57];
          v159 = v80 * v195 - v79 * v68;
          v150 = v81;
          v143 -= 4 * v57;
          v79 = v79 * v195 + v80 * v68;
          v80 = v159;
          if ( v57 > 0 )
          {
            v82 = v215;
            v83 = v143;
            v84 = v136;
            v85 = v57;
            do
            {
              v86 = v159 * *v81++;
              ++v84;
              v83 += 4;
              ++v82;
              --v85;
              *(v84 - 1) = v86 + *(v84 - 1);
              *(v82 - 1) = v79 * *((float *)v83 - 1) + *(v82 - 1);
            }
            while ( v85 );
          }
          --v154;
        }
        while ( v154 );
      }
      --v174;
    }
    while ( v174 );
  }
  if ( v132 > 1 )
  {
    v87 = (float *)a7;
    v196 = v132 - 1;
    do
    {
      v87 += v57;
      if ( v57 > 0 )
      {
        v88 = (float *)a9;
        v89 = v87;
        v90 = v57;
        do
        {
          v91 = *v89++ + *v88++;
          --v90;
          *(v88 - 1) = v91;
        }
        while ( v90 );
      }
      --v196;
    }
    while ( v196 );
  }
  v92 = a3;
  v93 = a5;
  if ( a1 >= a3 )
  {
    if ( a3 > 0 )
    {
      v190 = a3;
      v198 = a8;
      v99 = a5;
      v206 = v138;
      v202 = a5;
      do
      {
        if ( a1 > 0 )
        {
          v100 = v198;
          v101 = a1;
          do
          {
            v102 = *v100++;
            *v99++ = v102;
            --v101;
          }
          while ( v101 );
        }
        v99 = &v202[v206];
        v56 = v190 == 1;
        v198 += a1;
        v202 = (_DWORD *)((char *)v202 + v206 * 4);
        --v190;
      }
      while ( !v56 );
    }
  }
  else if ( a1 > 0 )
  {
    v94 = a8;
    v95 = (char *)a5 - (char *)a8;
    v197 = a1;
    do
    {
      if ( a3 > 0 )
      {
        v96 = (_DWORD *)((char *)v94 + v95);
        v97 = v94;
        v98 = a3;
        do
        {
          *v96 = *v97;
          v97 += a1;
          v96 += v138;
          --v98;
        }
        while ( v98 );
        v95 = (char *)a5 - (char *)a8;
        v93 = a5;
      }
      ++v94;
      --v197;
    }
    while ( v197 );
  }
  v103 = v184;
  result = a2 * v184;
  v182 = a2 * v184;
  if ( v132 > 1 )
  {
    v105 = a8;
    v106 = &a8[result];
    v107 = v93;
    v187 = v132 - 1;
    do
    {
      v107 += 2 * a1;
      v105 += v103;
      v106 -= v103;
      v191 = v107;
      v207 = v105;
      v216 = v106;
      if ( a3 > 0 )
      {
        v108 = 4 * a1;
        v199 = a3;
        do
        {
          v109 = *v105;
          v105 = (_DWORD *)((char *)v105 + v108);
          *(v107 - 1) = v109;
          *v107 = *v106;
          v107 += v138;
          v106 = (_DWORD *)((char *)v106 + v108);
          --v199;
        }
        while ( v199 );
        v107 = v191;
        v105 = v207;
        v106 = v216;
        v103 = v184;
      }
      --v187;
    }
    while ( v187 );
    result = v182;
    v93 = a5;
  }
  if ( a1 != 1 )
  {
    if ( v151 >= a3 )
    {
      if ( v132 > 1 )
      {
        v194 = 8 * a1;
        v121 = 4 * v103;
        v122 = a8 + 2;
        v205 = (int)&a8[result + 2];
        result = (int)(v93 + 2);
        v123 = v93 - 2;
        v218 = v121;
        v209 = v132 - 1;
        do
        {
          v122 = (_DWORD *)((char *)v122 + v121);
          v123 = (_DWORD *)((char *)v123 + v194);
          result += v194;
          v183 = v123;
          v124 = v205 - v121;
          v186 = result;
          v179 = v122;
          v205 -= v121;
          if ( v92 > 0 )
          {
            v189 = (float *)v122;
            v201 = (float *)v123;
            v125 = result;
            v204 = v124;
            v193 = v92;
            do
            {
              if ( a1 > 2 )
              {
                v126 = v189;
                v127 = v204;
                v128 = v201;
                v129 = v125;
                v130 = (unsigned int)(a1 - 1) >> 1;
                do
                {
                  v131 = *(v126 - 1) + *(float *)(v127 - 4);
                  v129 += 8;
                  v127 += 8;
                  v126 += 2;
                  v128 -= 2;
                  --v130;
                  *(float *)(v129 - 12) = v131;
                  v128[1] = *(v126 - 3) - *(float *)(v127 - 12);
                  *(float *)(v129 - 8) = *(v126 - 2) + *(float *)(v127 - 8);
                  v128[2] = *(float *)(v127 - 8) - *(v126 - 2);
                }
                while ( v130 );
              }
              v125 += 4 * v138;
              v201 += v138;
              v189 += a1;
              v56 = v193 == 1;
              v204 += 4 * a1;
              --v193;
            }
            while ( !v56 );
            v92 = a3;
            v121 = v218;
            result = v186;
            v123 = v183;
            v122 = v179;
          }
          --v209;
        }
        while ( v209 );
      }
    }
    else
    {
      v110 = -a1;
      v137 = 0;
      if ( v132 > 1 )
      {
        v111 = 0;
        v200 = 4 * result;
        v112 = 4 * v184;
        v113 = -2;
        v169 = 4 * v184;
        v114 = (float *)(v93 - 2);
        v175 = v132 - 1;
        while ( 1 )
        {
          v111 += v112;
          v113 += 2 * a1;
          v144 = 2 * a1 + v110;
          v114 += 2 * a1;
          v167 = v113;
          v137 += 2 * a1;
          v165 = v114;
          v178 = v111;
          v200 -= v112;
          if ( a1 > 2 )
          {
            v188 = v113;
            v115 = v111 + 8;
            v203 = 4;
            v208 = v111 + 8;
            v217 = v114;
            v185 = (unsigned int)(a1 - 1) >> 1;
            do
            {
              if ( a3 > 0 )
              {
                v116 = 4 * v138;
                v117 = (float *)((char *)a8 + v115);
                v118 = (float *)((char *)a8 + v200 + v115 - v111);
                v119 = (float *)&a5[v137 + v203 + v188 - v144 - a1];
                v192 = a3;
                do
                {
                  *(v119 - 1) = *(v117 - 1) + *(v118 - 1);
                  *(v114 - 1) = *(v117 - 1) - *(v118 - 1);
                  *v119 = *v118 + *v117;
                  v120 = *v118 - *v117;
                  v118 += a1;
                  v117 += a1;
                  v119 = (float *)((char *)v119 + v116);
                  *v114 = v120;
                  v114 = (float *)((char *)v114 + v116);
                  --v192;
                }
                while ( v192 );
                v111 = v178;
                v115 = v208;
              }
              v115 += 8;
              v114 = v217 - 2;
              v56 = v185 == 1;
              v208 = v115;
              v217 -= 2;
              v188 -= 2;
              v203 += 4;
              --v185;
            }
            while ( !v56 );
            v112 = v169;
            v113 = v167;
            v114 = v165;
          }
          result = --v175;
          if ( !v175 )
            break;
          v110 = v144;
        }
      }
    }
  }
  return result;
}
// 4BD7E8:  float flt_4BD7E8

//----- (0047F1C0) --------------------------------------------------------
int *__cdecl sub_47F1C0(int *a1, int a2)
{
  int *v2; // eax
  int v4; // [esp-18h] [ebp-20h]

  *a1 = a2;
  a1[1] = (int)calloc(3 * a2, 4u);
  v2 = (int *)calloc(0x20u, 4u);
  v4 = a1[1];
  a1[2] = (int)v2;
  return sub_47F200(a2, v4, v2);
}

//----- (0047F200) --------------------------------------------------------
int *__cdecl sub_47F200(int a1, int a2, int *a3)
{
  int *result; // eax

  result = (int *)a1;
  if ( a1 != 1 )
    return sub_47F220(a1, a2 + 4 * a1, a3);
  return result;
}

//----- (0047F220) --------------------------------------------------------
int *__cdecl sub_47F220(int a1, int a2, int *a3)
{
  int v3; // ecx
  int v4; // esi
  int v5; // edi
  int *v6; // ebx
  int v7; // eax
  int *v8; // ebx
  int *v9; // ecx
  int v10; // edx
  int *result; // eax
  int v12; // edi
  int v13; // ebx
  int v14; // ebp
  int v15; // esi
  int v16; // eax
  int v17; // edi
  double v18; // st7
  int v19; // ecx
  unsigned int v20; // edx
  long double v21; // st6
  bool v22; // zf
  _DWORD *v23; // [esp+10h] [ebp-14h]
  int *v24; // [esp+14h] [ebp-10h]
  int v25; // [esp+14h] [ebp-10h]
  int v26; // [esp+18h] [ebp-Ch]
  float v27; // [esp+1Ch] [ebp-8h]
  float v28; // [esp+20h] [ebp-4h]
  int v29; // [esp+30h] [ebp+Ch]

  v3 = a1;
  v4 = 0;
  v5 = 0;
  v6 = (int *)((char *)&unk_4BD7D0 - 4);
  do
  {
LABEL_2:
    v24 = ++v6;
    if ( (int)v6 >= (int)&flt_4BD7E0 )
      v4 += 2;
    else
      v4 = *v6;
    v7 = v3 / v4;
  }
  while ( v3 % v4 );
  v8 = &a3[v5];
  while ( 1 )
  {
    ++v8;
    ++v5;
    v3 = v7;
    v8[1] = v4;
    if ( v4 == 2 && v5 != 1 )
    {
      if ( v5 > 1 )
      {
        v9 = v8;
        v10 = v5 - 1;
        do
        {
          v9[1] = *v9;
          --v9;
          --v10;
        }
        while ( v10 );
        v3 = v7;
      }
      a3[2] = 2;
    }
    if ( v7 == 1 )
      break;
    v7 /= v4;
    if ( v3 != v4 * v7 )
    {
      v6 = v24;
      goto LABEL_2;
    }
  }
  result = a3;
  *a3 = a1;
  a3[1] = v5;
  v12 = v5 - 1;
  v29 = 0;
  v13 = 1;
  v28 = flt_4BD7E0 / (double)a1;
  if ( v12 > 0 )
  {
    v26 = v12;
    v23 = result + 2;
    do
    {
      v14 = 0;
      v15 = v13 * *v23;
      v16 = a1 / v15;
      if ( *v23 - 1 > 0 )
      {
        v25 = *v23 - 1;
        v17 = a2 + 4 * v29;
        v29 += v16 * v25;
        do
        {
          v14 += v13;
          v18 = 0.0;
          if ( v16 > 2 )
          {
            v19 = v17;
            v20 = (unsigned int)(v16 - 1) >> 1;
            do
            {
              v18 = v18 + 1.0;
              v19 += 8;
              --v20;
              v27 = (double)v14 * v28;
              v21 = v18 * v27;
              *(float *)(v19 - 8) = cos(v21);
              *(float *)(v19 - 4) = sin(v21);
            }
            while ( v20 );
          }
          v17 += 4 * v16;
          --v25;
        }
        while ( v25 );
      }
      result = (int *)(v26 - 1);
      v22 = v26 == 1;
      v13 = v15;
      ++v23;
      --v26;
    }
    while ( !v22 );
  }
  return result;
}
// 4BD7E0:  float flt_4BD7E0

//----- (0047F3B0) --------------------------------------------------------
int __cdecl sub_47F3B0(int a1)
{
  int result; // eax

  if ( a1 )
  {
    if ( *(_DWORD *)(a1 + 4) )
      free(*(void **)(a1 + 4));
    if ( *(_DWORD *)(a1 + 8) )
      free(*(void **)(a1 + 8));
    result = 0;
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
  }
  return result;
}

//----- (0047F3F0) --------------------------------------------------------
int __cdecl sub_47F3F0(int a1, int a2)
{
  int v3; // esi
  long double v4; // st7
  float *v5; // ebp
  int v6; // ebx
  float *v7; // eax
  float *v8; // ecx
  long double v9; // st5
  double v10; // st5
  long double v11; // st5
  int v12; // edx
  float *v13; // edi
  int v14; // ecx
  long double v15; // st6
  int v16; // ebx
  int v17; // esi
  int result; // eax
  _DWORD *v19; // ebp
  int v20; // edi
  char v21; // cl
  int v22; // edx
  int v23; // [esp+18h] [ebp-10h]
  int v24; // [esp+18h] [ebp-10h]
  int v25; // [esp+1Ch] [ebp-Ch]
  int v26; // [esp+1Ch] [ebp-Ch]
  _DWORD *v27; // [esp+20h] [ebp-8h]
  int v28; // [esp+24h] [ebp-4h]
  float v29; // [esp+30h] [ebp+8h]

  v3 = a2 / 4;
  v27 = malloc(4 * (a2 / 4));
  v4 = (double)a2;
  v5 = (float *)malloc(4 * (a2 / 4 + a2));
  v6 = a2 >> 1;
  v29 = v4;
  v28 = (__int64)floor(__FYL2X__(v4, 0.69314718055994528623) / __FYL2X__(2.0, 0.69314718055994528623) + 0.5);
  *(_DWORD *)(a1 + 4) = v28;
  *(_DWORD *)a1 = a2;
  *(_DWORD *)(a1 + 8) = v5;
  *(_DWORD *)(a1 + 12) = v27;
  if ( v3 > 0 )
  {
    v23 = 0;
    v7 = v5;
    v8 = &v5[v6];
    v25 = 1;
    do
    {
      v7 += 2;
      v9 = (double)v23 * (3.1415927 / v29);
      v8 += 2;
      --v3;
      v23 += 4;
      *(v7 - 2) = cos(v9);
      *(v7 - 1) = -sin(v9);
      v10 = (double)v25;
      v25 += 2;
      v11 = v10 * (3.1415927 / (double)(2 * a2));
      *(v8 - 2) = cos(v11);
      *(v8 - 1) = sin(v11);
    }
    while ( v3 );
  }
  v12 = a2 / 8;
  v24 = a2 / 8;
  if ( a2 / 8 > 0 )
  {
    v26 = 2;
    v13 = &v5[a2];
    v14 = v12;
    do
    {
      v13 += 2;
      --v14;
      v15 = (double)v26 * (3.1415927 / v29);
      v26 += 4;
      *(v13 - 2) = cos(v15) * 0.5;
      *(v13 - 1) = sin(v15) * -0.5;
    }
    while ( v14 );
  }
  v16 = 0;
  v17 = 1 << (v28 - 2);
  result = (1 << (v28 - 1)) - 1;
  if ( v12 > 0 )
  {
    v19 = v27;
    do
    {
      v20 = 0;
      v21 = 0;
      if ( v17 )
      {
        v22 = 1 << (v28 - 2);
        do
        {
          if ( (v22 & v16) != 0 )
            v20 |= 1 << v21;
          v22 = v17 >> ++v21;
        }
        while ( v17 >> v21 );
        v12 = v24;
      }
      v19 += 2;
      ++v16;
      *(v19 - 2) = (result & ~v20) - 1;
      *(v19 - 1) = v20;
    }
    while ( v16 < v12 );
  }
  *(float *)(a1 + 16) = 4.0 / v29;
  return result;
}

//----- (0047F5D0) --------------------------------------------------------
int __cdecl sub_47F5D0(int a1)
{
  int result; // eax

  if ( a1 )
  {
    if ( *(_DWORD *)(a1 + 8) )
      free(*(void **)(a1 + 8));
    if ( *(_DWORD *)(a1 + 12) )
      free(*(void **)(a1 + 12));
    result = 0;
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 12) = 0;
    *(_DWORD *)(a1 + 16) = 0;
  }
  return result;
}

//----- (0047F610) --------------------------------------------------------
float *__cdecl sub_47F610(int *a1, unsigned int a2, int a3)
{
  int *v3; // ebx
  int v4; // edi
  int v5; // eax
  float *v6; // ecx
  float *v7; // ebp
  int v8; // eax
  float *v9; // edx
  double v10; // st7
  float *v11; // edx
  float *v12; // ecx
  float *v13; // eax
  double v14; // st7
  double v15; // st6
  float *v16; // ebp
  int v17; // eax
  float *v18; // edx
  float *v19; // eax
  float *v20; // ecx
  double v21; // st7
  double v22; // st6
  double v23; // st7
  double v24; // st6
  double v25; // st7
  double v26; // st6
  double v27; // st7
  double v28; // st6
  double v29; // st5
  double v30; // st4
  int v31; // eax
  int v32; // ecx
  int v33; // ebx
  int v34; // esi
  bool v35; // zf
  unsigned int v36; // edi
  _DWORD *v37; // esi
  int v38; // ebp
  float *v39; // edx
  float *v40; // eax
  float *v41; // ecx
  int v42; // ebx
  double v43; // st7
  double v44; // st6
  float *v45; // edi
  float *v46; // ebx
  double v47; // st6
  double v48; // st7
  double v49; // st6
  int v50; // edi
  int v51; // ebx
  double v52; // st7
  double v53; // st6
  float *v54; // edi
  float *v55; // ebx
  double v56; // st6
  double v57; // st7
  double v58; // st6
  float *v59; // edx
  float *v60; // ecx
  float *v61; // esi
  int v62; // eax
  double v63; // st7
  double v64; // st6
  float *v65; // eax
  int v66; // ecx
  float *v67; // edx
  double v68; // st7
  double v69; // st7
  double v70; // st7
  double v71; // st7
  float *v72; // ecx
  float *result; // eax
  int v74; // esi
  int v75; // [esp+10h] [ebp-20h]
  float v76; // [esp+10h] [ebp-20h]
  float v77; // [esp+10h] [ebp-20h]
  int v78; // [esp+14h] [ebp-1Ch]
  int v79; // [esp+18h] [ebp-18h]
  float *v80; // [esp+1Ch] [ebp-14h]
  float *v81; // [esp+20h] [ebp-10h]
  float *v82; // [esp+24h] [ebp-Ch]
  int v83; // [esp+28h] [ebp-8h]
  int v84; // [esp+2Ch] [ebp-4h]
  int v85; // [esp+38h] [ebp+8h]
  int v86; // [esp+38h] [ebp+8h]
  float v87; // [esp+38h] [ebp+8h]
  float v88; // [esp+38h] [ebp+8h]

  v3 = a1;
  v4 = *a1 >> 1;
  v5 = *a1 >> 2;
  v84 = v4;
  v6 = (float *)(a2 + 4 * v4 - 28);
  v7 = (float *)(a3 + 4 * (v5 + v4));
  v79 = 4 * v5;
  v8 = a1[2] + 4 * v5;
  v82 = v7;
  v9 = v7;
  do
  {
    v10 = v6[2] * *(float *)(v8 + 12);
    v9 -= 4;
    v6 -= 8;
    v8 += 16;
    *v9 = -v10 - v6[8] * *(float *)(v8 - 8);
    v9[1] = v6[8] * *(float *)(v8 - 4) - v6[10] * *(float *)(v8 - 8);
    v9[2] = -(*(float *)(v8 - 12) * v6[14]) - v6[12] * *(float *)(v8 - 16);
    v9[3] = *(float *)(v8 - 12) * v6[12] - *(float *)(v8 - 16) * v6[14];
  }
  while ( (unsigned int)v6 >= a2 );
  v11 = v7;
  v12 = (float *)(a2 + 4 * v4 - 32);
  v13 = (float *)(a1[2] + v79);
  do
  {
    v14 = v12[4] * *(v13 - 1);
    v15 = *(v13 - 2) * v12[6];
    v13 -= 4;
    v12 -= 8;
    v11 += 4;
    *(v11 - 4) = v14 + v15;
    *(v11 - 3) = v12[12] * v13[2] - v13[3] * v12[14];
    *(v11 - 2) = v12[10] * *v13 + v12[8] * v13[1];
    *(v11 - 1) = v12[8] * *v13 - v13[1] * v12[10];
  }
  while ( (unsigned int)v12 >= a2 );
  v81 = (float *)a1[2];
  v83 = 4 * v4;
  v16 = (float *)(a3 + 4 * v4);
  v80 = v16;
  v17 = a1[1] - 6;
  v85 = v17;
  if ( v17 > 0 )
  {
    v18 = (float *)(a1[2] + 16);
    v19 = &v16[(v4 >> 1) - 8];
    v20 = &v19[v4 - (v4 >> 1) + 7];
    do
    {
      v21 = *(v20 - 1) - v19[6];
      v22 = *v20 - v19[7];
      *(v20 - 1) = *(v20 - 1) + v19[6];
      *v20 = v19[7] + *v20;
      v19[6] = v22 * *(v18 - 3) + v21 * *(v18 - 4);
      v19[7] = v22 * *(v18 - 4) - v21 * *(v18 - 3);
      v23 = *(v20 - 3) - v19[4];
      v24 = *(v20 - 2) - v19[5];
      *(v20 - 3) = v19[4] + *(v20 - 3);
      *(v20 - 2) = *(v20 - 2) + v19[5];
      v19[4] = v24 * v18[1] + v23 * *v18;
      v19[5] = v24 * *v18 - v23 * v18[1];
      v25 = *(v20 - 5) - v19[2];
      v26 = *(v20 - 4) - v19[3];
      *(v20 - 5) = v19[2] + *(v20 - 5);
      *(v20 - 4) = *(v20 - 4) + v19[3];
      v19[2] = v26 * v18[5] + v25 * v18[4];
      v19[3] = v26 * v18[4] - v25 * v18[5];
      v27 = *(v20 - 7) - *v19;
      v28 = *(v20 - 6) - v19[1];
      *(v20 - 7) = *(v20 - 7) + *v19;
      *(v20 - 6) = v19[1] + *(v20 - 6);
      v29 = v28 * v18[9];
      v30 = v27 * v18[8];
      v19 -= 8;
      v20 -= 8;
      v18 += 16;
      v19[8] = v29 + v30;
      v19[9] = v28 * *(v18 - 8) - v27 * *(v18 - 7);
    }
    while ( v19 >= v16 );
    v17 = v85;
  }
  v31 = v17 - 1;
  v32 = 1;
  v75 = 1;
  if ( v31 > 0 )
  {
    v78 = v31;
    do
    {
      if ( 1 << v32 > 0 )
      {
        v33 = 4 << v32;
        v34 = v4 >> v32;
        v86 = 1 << v32;
        do
        {
          sub_4800B0(v81, (unsigned int)v16, v34, v33);
          v16 += v34;
          --v86;
        }
        while ( v86 );
        v3 = a1;
        v16 = (float *)(a3 + 4 * v4);
        v32 = v75;
      }
      ++v32;
      v35 = v78 == 1;
      v75 = v32;
      --v78;
    }
    while ( !v35 );
  }
  if ( v4 > 0 )
  {
    v36 = (unsigned int)(v4 + 31) >> 5;
    do
    {
      sub_47FB20(v16);
      v16 += 32;
      --v36;
    }
    while ( v36 );
  }
  v37 = (_DWORD *)v3[3];
  v38 = a3 + 4 * (*v3 >> 1);
  v39 = (float *)(a3 + 8);
  v40 = (float *)(v3[2] + 4 * *v3);
  v41 = (float *)(v38 + 12);
  do
  {
    v42 = v37[1];
    v41 -= 4;
    v43 = *(float *)(v38 + 4 * *v37 + 4) - *(float *)(v38 + 4 * v42 + 4);
    v44 = *(float *)(v38 + 4 * v42);
    v45 = (float *)(v38 + 4 * *v37);
    v46 = (float *)(v38 + 4 * v42);
    v47 = v44 + *v45;
    v87 = v47 * *v40 + v43 * v40[1];
    v48 = v47 * v40[1] - v43 * *v40;
    v49 = (v46[1] + v45[1]) * 0.5;
    v76 = (*v45 - *v46) * 0.5;
    *(v39 - 2) = v87 + v49;
    *(v41 - 1) = v49 - v87;
    *(v39 - 1) = v48 + v76;
    *v41 = v48 - v76;
    v50 = v37[2];
    v51 = v37[3];
    v52 = *(float *)(v38 + 4 * v50 + 4) - *(float *)(v38 + 4 * v51 + 4);
    v53 = *(float *)(v38 + 4 * v51);
    v54 = (float *)(v38 + 4 * v50);
    v55 = (float *)(v38 + 4 * v51);
    v56 = v53 + *v54;
    v88 = v56 * v40[2] + v52 * v40[3];
    v57 = v56 * v40[3] - v52 * v40[2];
    v58 = (v55[1] + v54[1]) * 0.5;
    v77 = (*v54 - *v55) * 0.5;
    *v39 = v88 + v58;
    *(v41 - 3) = v58 - v88;
    v39[1] = v57 + v77;
    v39 += 4;
    v40 += 4;
    v37 += 4;
    *(v41 - 2) = v57 - v77;
  }
  while ( v39 - 2 < v41 - 3 );
  v59 = v82;
  v60 = (float *)(a1[2] + v83);
  v61 = v82;
  v62 = a3 + 12;
  do
  {
    v63 = v60[1] * *(float *)(v62 - 12);
    v64 = *(float *)(v62 - 8) * *v60;
    v59 -= 4;
    v62 += 32;
    v61 += 4;
    v60 += 8;
    v59[3] = v63 - v64;
    *(v61 - 4) = -(*(v60 - 7) * *(float *)(v62 - 40) + *(float *)(v62 - 44) * *(v60 - 8));
    v59[2] = *(float *)(v62 - 36) * *(v60 - 5) - *(float *)(v62 - 32) * *(v60 - 6);
    *(v61 - 3) = -(*(float *)(v62 - 32) * *(v60 - 5) + *(float *)(v62 - 36) * *(v60 - 6));
    v59[1] = *(float *)(v62 - 28) * *(v60 - 3) - *(float *)(v62 - 24) * *(v60 - 4);
    *(v61 - 2) = -(*(float *)(v62 - 24) * *(v60 - 3) + *(float *)(v62 - 28) * *(v60 - 4));
    *v59 = *(float *)(v62 - 20) * *(v60 - 1) - *(float *)(v62 - 16) * *(v60 - 2);
    *(v61 - 1) = -(*(float *)(v62 - 16) * *(v60 - 1) + *(float *)(v62 - 20) * *(v60 - 2));
  }
  while ( v62 - 12 < (unsigned int)v59 );
  v65 = v82;
  v66 = v79 + a3 + 8;
  v67 = &v82[2 - v84];
  do
  {
    v68 = *(v65 - 1);
    v65 -= 4;
    v67 -= 4;
    v66 += 16;
    v67[1] = v68;
    *(float *)(v66 - 24) = -v68;
    v69 = v65[2];
    *v67 = v65[2];
    *(float *)(v66 - 20) = -v69;
    v70 = v65[1];
    *(v67 - 1) = v65[1];
    *(float *)(v66 - 16) = -v70;
    v71 = *v65;
    *(v67 - 2) = *v65;
    *(float *)(v66 - 12) = -v71;
  }
  while ( v66 - 8 < (unsigned int)v65 );
  v72 = v82;
  result = v82;
  do
  {
    v74 = *((_DWORD *)v72 + 3);
    result -= 4;
    v72 += 4;
    *(_DWORD *)result = v74;
    result[1] = *(v72 - 2);
    result[2] = *(v72 - 3);
    result[3] = *(v72 - 4);
  }
  while ( result > v80 );
  return result;
}

//----- (0047FB20) --------------------------------------------------------
float *__cdecl sub_47FB20(float *a1)
{
  double v2; // st7
  double v3; // st6
  double v4; // st7
  double v5; // st6
  double v6; // st7
  double v7; // st6
  double v8; // st7
  double v9; // st6
  double v10; // st7
  double v11; // st6
  double v12; // st7
  double v13; // st6
  double v14; // st7
  double v15; // st6
  double v16; // st7
  double v17; // st6
  double v18; // st7
  double v19; // st7
  double v20; // st6
  double v21; // st7
  double v22; // st6
  double v23; // st7
  double v24; // st7
  double v25; // st6
  double v26; // st6
  double v27; // st7
  double v28; // st6
  double v29; // st7
  double v30; // st6
  double v31; // st7
  double v32; // st7
  double v33; // st6
  double v34; // st7
  double v35; // st6
  double v36; // st7
  double v37; // st6
  double v38; // st7
  double v39; // st6
  double v40; // st7
  double v41; // st7
  double v42; // st6
  double v43; // st6
  double v44; // st7
  double v45; // st6
  float v47; // [esp+0h] [ebp-8h]
  float v48; // [esp+0h] [ebp-8h]
  float v49; // [esp+0h] [ebp-8h]
  float v50; // [esp+0h] [ebp-8h]
  float v51; // [esp+4h] [ebp-4h]
  float v52; // [esp+4h] [ebp-4h]
  float v53; // [esp+4h] [ebp-4h]
  float v54; // [esp+4h] [ebp-4h]
  float v55; // [esp+4h] [ebp-4h]
  float v56; // [esp+4h] [ebp-4h]
  float v57; // [esp+Ch] [ebp+4h]
  float v58; // [esp+Ch] [ebp+4h]
  float v59; // [esp+Ch] [ebp+4h]
  float v60; // [esp+Ch] [ebp+4h]
  float v61; // [esp+Ch] [ebp+4h]
  float v62; // [esp+Ch] [ebp+4h]
  float v63; // [esp+Ch] [ebp+4h]

  v2 = a1[30] - a1[14];
  v57 = a1[31] - a1[15];
  a1[30] = a1[14] + a1[30];
  v3 = a1[31] + a1[15];
  a1[15] = v57;
  a1[31] = v3;
  a1[14] = v2;
  v4 = a1[28] - a1[12];
  v5 = a1[29] - a1[13];
  a1[28] = a1[12] + a1[28];
  a1[29] = a1[29] + a1[13];
  a1[12] = v4 * 0.9238795 - v5 * 0.38268343;
  a1[13] = v5 * 0.9238795 + v4 * 0.38268343;
  v6 = a1[26] - a1[10];
  v7 = a1[27] - a1[11];
  a1[26] = a1[10] + a1[26];
  a1[27] = a1[27] + a1[11];
  a1[10] = (v6 - v7) * 0.70710677;
  a1[11] = (v7 + v6) * 0.70710677;
  v8 = a1[24] - a1[8];
  v9 = a1[25] - a1[9];
  a1[24] = a1[8] + a1[24];
  a1[25] = a1[25] + a1[9];
  a1[8] = v8 * 0.38268343 - v9 * 0.9238795;
  a1[9] = v9 * 0.38268343 + v8 * 0.9238795;
  v10 = a1[22] - a1[6];
  v11 = a1[7] - a1[23];
  a1[22] = a1[6] + a1[22];
  a1[23] = a1[7] + a1[23];
  a1[6] = v11;
  a1[7] = v10;
  v12 = a1[4] - a1[20];
  v13 = a1[5] - a1[21];
  a1[20] = a1[20] + a1[4];
  a1[21] = a1[5] + a1[21];
  a1[4] = v13 * 0.9238795 + v12 * 0.38268343;
  a1[5] = v13 * 0.38268343 - v12 * 0.9238795;
  v14 = a1[2] - a1[18];
  v15 = a1[3] - a1[19];
  a1[18] = a1[18] + a1[2];
  a1[19] = a1[19] + a1[3];
  a1[2] = (v15 + v14) * 0.70710677;
  a1[3] = (v15 - v14) * 0.70710677;
  v16 = *a1 - a1[16];
  v17 = a1[1] - a1[17];
  a1[16] = a1[16] + *a1;
  a1[17] = a1[17] + a1[1];
  v47 = v17 * 0.38268343 + v16 * 0.9238795;
  v18 = v17 * 0.9238795 - v16 * 0.38268343;
  v51 = v18 - a1[9];
  v58 = v47 - a1[8];
  a1[8] = v47 + a1[8];
  a1[9] = v18 + a1[9];
  *a1 = (v58 + v51) * 0.70710677;
  a1[1] = (v51 - v58) * 0.70710677;
  v19 = a1[3] - a1[11];
  v59 = a1[10] - a1[2];
  a1[10] = a1[2] + a1[10];
  v20 = a1[3] + a1[11];
  a1[3] = v59;
  a1[11] = v20;
  a1[2] = v19;
  v21 = a1[12] - a1[4];
  v22 = a1[13] - a1[5];
  a1[12] = a1[12] + a1[4];
  a1[13] = a1[5] + a1[13];
  a1[4] = (v21 - v22) * 0.70710677;
  a1[5] = (v22 + v21) * 0.70710677;
  v23 = a1[14] - a1[6];
  v60 = a1[15] - a1[7];
  a1[14] = a1[14] + a1[6];
  a1[15] = a1[7] + a1[15];
  v52 = v23 + a1[2];
  v24 = v23 - a1[2];
  v25 = *a1 + a1[4];
  v48 = a1[4] - *a1;
  a1[6] = v25 + v52;
  a1[4] = v52 - v25;
  v26 = a1[5] - a1[1];
  v53 = v60 - a1[3];
  *a1 = v24 + v26;
  a1[2] = v24 - v26;
  v27 = a1[5] + a1[1];
  v28 = v60 + a1[3];
  a1[3] = v48 + v53;
  a1[1] = v53 - v48;
  a1[7] = v28 + v27;
  a1[5] = v28 - v27;
  v29 = a1[10] + a1[14];
  v61 = a1[14] - a1[10];
  v30 = a1[8] + a1[12];
  v49 = a1[12] - a1[8];
  a1[14] = v30 + v29;
  a1[12] = v29 - v30;
  v31 = a1[13] - a1[9];
  v54 = a1[15] - a1[11];
  a1[8] = v61 + v31;
  a1[10] = v61 - v31;
  v32 = a1[9] + a1[13];
  v33 = a1[11] + a1[15];
  a1[11] = v49 + v54;
  a1[9] = v54 - v49;
  a1[15] = v33 + v32;
  a1[13] = v33 - v32;
  v34 = a1[17] - a1[25];
  v35 = a1[16] - a1[24];
  a1[24] = a1[16] + a1[24];
  a1[25] = a1[25] + a1[17];
  a1[16] = (v35 + v34) * 0.70710677;
  a1[17] = (v34 - v35) * 0.70710677;
  v36 = a1[19] - a1[27];
  v62 = a1[26] - a1[18];
  a1[26] = a1[18] + a1[26];
  v37 = a1[27] + a1[19];
  a1[19] = v62;
  a1[27] = v37;
  a1[18] = v36;
  v38 = a1[28] - a1[20];
  v39 = a1[29] - a1[21];
  a1[28] = a1[20] + a1[28];
  a1[29] = a1[21] + a1[29];
  a1[20] = (v38 - v39) * 0.70710677;
  a1[21] = (v39 + v38) * 0.70710677;
  v40 = a1[30] - a1[22];
  v63 = a1[31] - a1[23];
  a1[30] = a1[22] + a1[30];
  a1[31] = a1[23] + a1[31];
  v55 = v40 + a1[18];
  v41 = v40 - a1[18];
  v42 = a1[20] + a1[16];
  v50 = a1[20] - a1[16];
  a1[22] = v42 + v55;
  a1[20] = v55 - v42;
  v43 = a1[21] - a1[17];
  v56 = v63 - a1[19];
  a1[16] = v41 + v43;
  a1[18] = v41 - v43;
  v44 = a1[17] + a1[21];
  v45 = v63 + a1[19];
  a1[19] = v50 + v56;
  a1[17] = v56 - v50;
  a1[23] = v45 + v44;
  a1[21] = v45 - v44;
  return sub_480020(a1 + 24);
}

//----- (00480020) --------------------------------------------------------
float *__cdecl sub_480020(float *a1)
{
  float *result; // eax
  double v2; // st7
  double v3; // st6
  double v4; // st7
  double v5; // st7
  double v6; // st6
  float v7; // [esp+0h] [ebp-8h]
  float v8; // [esp+4h] [ebp-4h]
  float v9; // [esp+Ch] [ebp+4h]

  result = a1;
  v2 = a1[2] + a1[6];
  v9 = a1[6] - a1[2];
  v3 = *result + result[4];
  v8 = result[4] - *result;
  result[6] = v3 + v2;
  result[4] = v2 - v3;
  v4 = result[5] - result[1];
  v7 = result[7] - result[3];
  *result = v9 + v4;
  result[2] = v9 - v4;
  v5 = result[1] + result[5];
  v6 = result[3] + result[7];
  result[3] = v8 + v7;
  result[1] = v7 - v8;
  result[7] = v6 + v5;
  result[5] = v6 - v5;
  return result;
}

//----- (004800B0) --------------------------------------------------------
float *__cdecl sub_4800B0(float *a1, unsigned int a2, int a3, int a4)
{
  int v4; // esi
  float *result; // eax
  float *v7; // ecx
  double v8; // st7
  double v9; // st6
  double v10; // rt0
  double v11; // st6
  float *v12; // edx
  double v13; // st7
  double v14; // st6
  double v15; // rt1
  double v16; // st6
  float *v17; // edx
  double v18; // st7
  double v19; // st6
  double v20; // rt2
  double v21; // st6
  float *v22; // edx
  double v23; // st7
  double v24; // st6
  double v25; // rtt
  double v26; // st6

  v4 = a4;
  result = (float *)(a2 + 4 * (a3 >> 1) - 32);
  v7 = &result[a3 - (a3 >> 1) + 7];
  do
  {
    v8 = *(v7 - 1) - result[6];
    v9 = *v7 - result[7];
    *(v7 - 1) = *(v7 - 1) + result[6];
    *v7 = result[7] + *v7;
    result[6] = v9 * a1[1] + v8 * *a1;
    v10 = v9 * *a1;
    v11 = v8 * a1[1];
    v12 = &a1[v4];
    result[7] = v10 - v11;
    v13 = *(v7 - 3) - result[4];
    v14 = *(v7 - 2) - result[5];
    *(v7 - 3) = result[4] + *(v7 - 3);
    *(v7 - 2) = *(v7 - 2) + result[5];
    result[4] = v14 * v12[1] + v13 * *v12;
    v15 = v14 * *v12;
    v16 = v13 * v12[1];
    v17 = &v12[v4];
    result[5] = v15 - v16;
    v18 = *(v7 - 5) - result[2];
    v19 = *(v7 - 4) - result[3];
    *(v7 - 5) = result[2] + *(v7 - 5);
    *(v7 - 4) = result[3] + *(v7 - 4);
    result[2] = v19 * v17[1] + v18 * *v17;
    v20 = v19 * *v17;
    v21 = v18 * v17[1];
    v22 = &v17[v4];
    result[3] = v20 - v21;
    v23 = *(v7 - 7) - *result;
    v24 = *(v7 - 6) - result[1];
    *(v7 - 7) = *result + *(v7 - 7);
    *(v7 - 6) = *(v7 - 6) + result[1];
    result -= 8;
    v7 -= 8;
    result[8] = v24 * v22[1] + v23 * *v22;
    v25 = v24 * *v22;
    v26 = v23 * v22[1];
    a1 = &v22[v4];
    result[9] = v25 - v26;
  }
  while ( (unsigned int)result >= a2 );
  return result;
}

//----- (004801D0) --------------------------------------------------------
float *__cdecl sub_4801D0(int a1, int a2, int a3)
{
  int v3; // esi
  int v4; // edi
  int v5; // eax
  int v6; // ebx
  int v7; // esi
  int v8; // edi
  void *v9; // esp
  float *v10; // ecx
  float *v11; // eax
  float *v12; // ebx
  double v13; // st7
  double v14; // st6
  double v15; // st6
  _DWORD *v16; // edx
  int v17; // ebx
  float v18; // edi
  float *v19; // edx
  unsigned int v20; // ebx
  float *v21; // edi
  double v22; // st7
  double v23; // st6
  double v24; // st6
  float *v25; // ebx
  float *v26; // edi
  float *v27; // ecx
  unsigned int v28; // ebx
  double v29; // st7
  double v30; // st7
  double v31; // st6
  int *v32; // edx
  float *v33; // edi
  int v34; // eax
  float *v35; // edx
  float *v36; // eax
  float *v37; // ecx
  double v38; // st7
  double v39; // st6
  double v40; // st7
  double v41; // st6
  double v42; // st7
  double v43; // st6
  double v44; // st7
  double v45; // st6
  double v46; // st5
  double v47; // st4
  int v48; // eax
  int v49; // ecx
  int v50; // eax
  int v51; // edi
  bool v52; // zf
  unsigned int v53; // esi
  _DWORD *v54; // esi
  int v55; // edi
  float *v56; // eax
  float *v57; // edx
  unsigned int v58; // edi
  float *v59; // ecx
  float *v60; // edi
  float *v61; // ebx
  double v62; // st7
  double v63; // st6
  double v64; // st7
  double v65; // st6
  double v66; // st5
  unsigned int v67; // edi
  float *v68; // edi
  float *v69; // ebx
  double v70; // st7
  double v71; // st6
  double v72; // st7
  double v73; // st6
  int v74; // esi
  int v75; // ebx
  float *result; // eax
  float *v77; // edx
  float *v78; // ecx
  double v79; // st7
  double v80; // st6
  _DWORD v81[3]; // [esp+0h] [ebp-2Ch] BYREF
  int v82; // [esp+Ch] [ebp-20h]
  int v83; // [esp+10h] [ebp-1Ch]
  int i; // [esp+14h] [ebp-18h]
  float *v85; // [esp+18h] [ebp-14h]
  unsigned int v86; // [esp+1Ch] [ebp-10h]
  _DWORD *v87; // [esp+20h] [ebp-Ch]
  float v88; // [esp+24h] [ebp-8h]
  _DWORD *v89; // [esp+28h] [ebp-4h]
  int v90; // [esp+38h] [ebp+Ch]
  int v91; // [esp+38h] [ebp+Ch]
  float *v92; // [esp+38h] [ebp+Ch]
  float v93; // [esp+38h] [ebp+Ch]
  float *v94; // [esp+38h] [ebp+Ch]
  float v95; // [esp+38h] [ebp+Ch]

  v3 = *(_DWORD *)a1;
  v4 = *(_DWORD *)a1;
  i = 4 * *(_DWORD *)a1;
  v5 = i + 3;
  v6 = v3 >> 2;
  LOBYTE(v5) = (i + 3) & 0xFC;
  v82 = v3 >> 2;
  v7 = v3 >> 1;
  v8 = v4 >> 3;
  v9 = alloca(v5);
  v85 = (float *)v81;
  v89 = &v81[v7];
  v83 = 4 * v7;
  v10 = (float *)(a2 + 4 * (v7 + v6));
  v88 = 0.0;
  v11 = (float *)(*(_DWORD *)(a1 + 8) + 4 * v7);
  v12 = v10 + 1;
  if ( v8 > 0 )
  {
    v87 = v89;
    v86 = (unsigned int)(v8 + 1) >> 1;
    LODWORD(v88) = 2 * v86;
    do
    {
      v13 = *(v10 - 2) + *v12;
      v14 = v12[2];
      v10 -= 4;
      v11 -= 2;
      v12 += 4;
      v15 = v14 + *v10;
      v16 = v87 + 2;
      v87 = v16;
      *((float *)v16 - 2) = v15 * v11[1] + v13 * *v11;
      *((float *)v16 - 1) = v15 * *v11 - v13 * v11[1];
      --v86;
    }
    while ( v86 );
  }
  v17 = v7 - v8;
  v18 = v88;
  v19 = (float *)(a2 + 4);
  v86 = v17;
  if ( SLODWORD(v88) < v17 )
  {
    v87 = &v89[LODWORD(v88)];
    v20 = (v86 - LODWORD(v88) + 1) >> 1;
    LODWORD(v88) += 2 * v20;
    v21 = (float *)&v89[LODWORD(v18)];
    do
    {
      v22 = *(v10 - 2) - *v19;
      v23 = *(v10 - 4);
      v10 -= 4;
      v11 -= 2;
      v24 = v23 - v19[2];
      v19 += 4;
      v21 += 2;
      --v20;
      *(v21 - 2) = v24 * v11[1] + v22 * *v11;
      *(v21 - 1) = v24 * *v11 - v22 * v11[1];
    }
    while ( v20 );
  }
  v25 = (float *)v89;
  v26 = (float *)(i + a2);
  if ( SLODWORD(v88) < v7 )
  {
    v27 = (float *)&v89[LODWORD(v88)];
    v28 = (unsigned int)(v7 - LODWORD(v88) + 1) >> 1;
    do
    {
      v29 = *(v26 - 2);
      v26 -= 4;
      v11 -= 2;
      v30 = -v29 - *v19;
      v31 = -*v26 - v19[2];
      v19 += 4;
      v27 += 2;
      --v28;
      *(v27 - 2) = v31 * v11[1] + v30 * *v11;
      *(v27 - 1) = v31 * *v11 - v30 * v11[1];
    }
    while ( v28 );
    v25 = (float *)v89;
  }
  v32 = (int *)a1;
  v33 = *(float **)(a1 + 8);
  v34 = *(_DWORD *)(a1 + 4) - 6;
  v88 = *(float *)&v33;
  v90 = v34;
  if ( v34 > 0 )
  {
    v35 = v33 + 4;
    v36 = &v25[(v7 >> 1) - 8];
    v37 = &v36[v7 - (v7 >> 1) + 7];
    do
    {
      v38 = *(v37 - 1) - v36[6];
      v39 = *v37 - v36[7];
      *(v37 - 1) = v36[6] + *(v37 - 1);
      *v37 = v36[7] + *v37;
      v36[6] = v38 * *(v35 - 4) + v39 * *(v35 - 3);
      v36[7] = v39 * *(v35 - 4) - v38 * *(v35 - 3);
      v40 = *(v37 - 3) - v36[4];
      v41 = *(v37 - 2) - v36[5];
      *(v37 - 3) = v36[4] + *(v37 - 3);
      *(v37 - 2) = *(v37 - 2) + v36[5];
      v36[4] = v41 * v35[1] + v40 * *v35;
      v36[5] = v41 * *v35 - v40 * v35[1];
      v42 = *(v37 - 5) - v36[2];
      v43 = *(v37 - 4) - v36[3];
      *(v37 - 5) = v36[2] + *(v37 - 5);
      *(v37 - 4) = v36[3] + *(v37 - 4);
      v36[2] = v43 * v35[5] + v42 * v35[4];
      v36[3] = v43 * v35[4] - v42 * v35[5];
      v44 = *(v37 - 7) - *v36;
      v45 = *(v37 - 6) - v36[1];
      *(v37 - 7) = *(v37 - 7) + *v36;
      *(v37 - 6) = v36[1] + *(v37 - 6);
      v46 = v45 * v35[9];
      v47 = v44 * v35[8];
      v36 -= 8;
      v37 -= 8;
      v35 += 16;
      v36[8] = v46 + v47;
      v36[9] = v45 * *(v35 - 8) - v44 * *(v35 - 7);
    }
    while ( v36 >= v25 );
    v32 = (int *)a1;
    v34 = v90;
  }
  v48 = v34 - 1;
  v49 = 1;
  v86 = 1;
  if ( v48 > 0 )
  {
    v87 = (_DWORD *)v48;
    do
    {
      if ( 1 << v49 > 0 )
      {
        v50 = 4 << v49;
        v51 = v7 >> v49;
        v91 = 1 << v49;
        for ( i = 4 << v49; ; v50 = i )
        {
          sub_4800B0((float *)LODWORD(v88), (unsigned int)v25, v51, v50);
          v25 += v51;
          if ( !--v91 )
            break;
        }
        v49 = v86;
        v25 = (float *)v89;
      }
      ++v49;
      v52 = v87 == (_DWORD *)1;
      v86 = v49;
      v87 = (_DWORD *)((char *)v87 - 1);
    }
    while ( !v52 );
    v32 = (int *)a1;
  }
  if ( v7 > 0 )
  {
    v53 = (unsigned int)(v7 + 31) >> 5;
    do
    {
      sub_47FB20(v25);
      v25 += 32;
      --v53;
    }
    while ( v53 );
    v32 = (int *)a1;
  }
  v54 = (_DWORD *)v32[3];
  v55 = *v32 >> 1;
  v56 = (float *)(v32[2] + 4 * *v32);
  v57 = v85 + 2;
  v58 = (unsigned int)&v85[v55];
  v86 = v58;
  v59 = (float *)(v58 + 12);
  while ( 1 )
  {
    v59 -= 4;
    v92 = (float *)(v58 + 4 * *v54);
    v60 = (float *)(v58 + 4 * v54[1]);
    v61 = v92;
    v62 = v92[1] - v60[1];
    v63 = *v60 + *v92;
    v93 = v62 * v56[1] + v63 * *v56;
    v64 = v63 * v56[1] - v62 * *v56;
    v65 = (v60[1] + v61[1]) * 0.5;
    v66 = *v61 - *v60;
    v67 = v86;
    v88 = v66 * 0.5;
    *(v57 - 2) = v93 + v65;
    *(v59 - 1) = v65 - v93;
    *(v57 - 1) = v64 + v88;
    *v59 = v64 - v88;
    v94 = (float *)(v67 + 4 * v54[2]);
    v68 = (float *)(v67 + 4 * v54[3]);
    v69 = v94;
    v70 = v94[1] - v68[1];
    v71 = *v68 + *v94;
    v95 = v71 * v56[2] + v70 * v56[3];
    v72 = v71 * v56[3] - v70 * v56[2];
    v73 = (v68[1] + v69[1]) * 0.5;
    v88 = (*v69 - *v68) * 0.5;
    *v57 = v95 + v73;
    v57 += 4;
    v56 += 4;
    v54 += 4;
    *(v59 - 3) = v73 - v95;
    *(v57 - 3) = v72 + v88;
    *(v59 - 2) = v72 - v88;
    if ( v57 - 2 >= v59 - 3 )
      break;
    v58 = v86;
  }
  v74 = a3;
  v75 = v82;
  result = (float *)(*(_DWORD *)(a1 + 8) + v83);
  v77 = (float *)(v83 + a3);
  if ( v82 > 0 )
  {
    v78 = v85;
    do
    {
      v79 = *result * *v78;
      v80 = result[1] * v78[1];
      --v77;
      v78 += 2;
      result += 2;
      v74 += 4;
      --v75;
      *(float *)(v74 - 4) = (v79 + v80) * *(float *)(a1 + 16);
      *v77 = (*(result - 1) * *(v78 - 2) - *(result - 2) * *(v78 - 1)) * *(float *)(a1 + 16);
    }
    while ( v75 );
  }
  return result;
}

//----- (00480650) --------------------------------------------------------
int __cdecl sub_480650(int a1)
{
  return (int)*(&off_4A4108 + a1);
}
// 4A4108:  void *off_4A4108

//----- (00480660) --------------------------------------------------------
int __cdecl sub_480660(char *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax
  int v7; // ecx
  int v8; // edi
  int v9; // kr00_4
  int v10; // ebx
  int v11; // esi
  int result; // eax
  int v13; // edx
  int v14; // ebp
  int v15; // ecx
  float *v16; // ebx
  int v17; // ebp
  float *v18; // edi
  double v19; // st7
  int v20; // ecx
  float *v21; // edx
  double v22; // st7
  int v23; // [esp+18h] [ebp+8h]
  int v24; // [esp+24h] [ebp+14h]
  float *v25; // [esp+28h] [ebp+18h]

  v6 = a5 != 0 ? a4 : 0;
  v7 = a5 != 0 ? a6 : 0;
  v25 = (float *)*(&off_4A4108 + *(_DWORD *)(a2 + 4 * v6));
  v23 = (int)*(&off_4A4108 + *(_DWORD *)(a2 + 4 * v7));
  v8 = *(_DWORD *)(a3 + 4 * v7);
  v24 = *(_DWORD *)(a3 + 4 * a5);
  v9 = *(_DWORD *)(a3 + 4 * v6);
  v10 = v24 / 4 - v9 / 4;
  v11 = v24 / 4 + v24 / 2 - v8 / 4;
  result = 0;
  v13 = v8 / 2;
  v14 = v10 + v9 / 2;
  v15 = v8 / 2 + v11;
  if ( v10 > 0 )
  {
    memset(a1, 0, 4 * v10);
    v15 = v8 / 2 + v11;
    result = v24 / 4 - v9 / 4;
  }
  if ( result < v14 )
  {
    v16 = v25;
    v17 = v14 - result;
    v18 = (float *)&a1[4 * result];
    do
    {
      v19 = *v18++ * *v16++;
      --v17;
      *(v18 - 1) = v19;
    }
    while ( v17 );
  }
  if ( v11 < v15 )
  {
    v20 = v15 - v11;
    result = (int)&a1[4 * v11];
    v21 = (float *)(v23 + 4 * v13 - 4);
    v11 += v20;
    do
    {
      v22 = *v21 * *(float *)result;
      result += 4;
      --v21;
      --v20;
      *(float *)(result - 4) = v22;
    }
    while ( v20 );
  }
  if ( v11 < v24 )
  {
    result = 0;
    memset(&a1[4 * v11], 0, 4 * (v24 - v11));
  }
  return result;
}
// 4A4108:  void *off_4A4108

//----- (00480790) --------------------------------------------------------
void __cdecl sub_480790(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0xC88u);
    free(Block);
  }
}

//----- (004807B0) --------------------------------------------------------
int __cdecl sub_4807B0(int a1, int *a2, int a3)
{
  int v3; // ebp
  int *v4; // ebx
  int v5; // eax
  int v6; // eax
  int v7; // ebx
  int *v8; // ebp
  int result; // eax
  int v10; // ebp
  int *v11; // ebx

  if ( *a2 <= 1 )
  {
    sub_488E00(a3, 0, 1u);
  }
  else
  {
    sub_488E00(a3, 1, 1u);
    sub_488E00(a3, *a2 - 1, 4u);
  }
  if ( a2[289] <= 0 )
  {
    sub_488E00(a3, 0, 1u);
  }
  else
  {
    sub_488E00(a3, 1, 1u);
    sub_488E00(a3, a2[289] - 1, 8u);
    v3 = 0;
    if ( a2[289] > 0 )
    {
      v4 = a2 + 546;
      do
      {
        v5 = sub_482E10(*(_DWORD *)(a1 + 4));
        sub_488E00(a3, *(v4 - 256), v5);
        v6 = sub_482E10(*(_DWORD *)(a1 + 4));
        sub_488E00(a3, *v4, v6);
        ++v3;
        ++v4;
      }
      while ( v3 < a2[289] );
    }
  }
  sub_488E00(a3, 0, 2u);
  if ( *a2 > 1 )
  {
    v7 = 0;
    if ( *(int *)(a1 + 4) > 0 )
    {
      v8 = a2 + 1;
      do
      {
        sub_488E00(a3, *v8, 4u);
        ++v7;
        ++v8;
      }
      while ( v7 < *(_DWORD *)(a1 + 4) );
    }
  }
  result = *a2;
  v10 = 0;
  if ( *a2 > 0 )
  {
    v11 = a2 + 273;
    do
    {
      sub_488E00(a3, 0, 8u);
      sub_488E00(a3, *(v11 - 16), 8u);
      sub_488E00(a3, *v11, 8u);
      result = *a2;
      ++v10;
      ++v11;
    }
    while ( v10 < *a2 );
  }
  return result;
}

//----- (00480900) --------------------------------------------------------
int *__cdecl sub_480900(int a1, _DWORD *a2)
{
  int *v3; // ebp
  int v4; // ebx
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int *v9; // ebx
  int v10; // eax
  int v11; // edi
  int v12; // eax
  int v13; // eax
  int v14; // ecx
  int v15; // ebx
  int *v16; // edi
  int v17; // eax
  int *i; // edi
  int v19; // eax
  int v20; // eax
  int v22; // [esp+10h] [ebp-4h]
  int v23; // [esp+1Ch] [ebp+8h]
  int v24; // [esp+1Ch] [ebp+8h]

  v3 = (int *)calloc(1u, 0xC88u);
  v4 = *(_DWORD *)(a1 + 28);
  memset(v3, 0, 0xC88u);
  v22 = v4;
  v5 = sub_4890C0(a2, 1u);
  if ( v5 < 0 )
    goto LABEL_33;
  if ( v5 )
  {
    v6 = sub_4890C0(a2, 4u) + 1;
    *v3 = v6;
    if ( v6 <= 0 )
      goto LABEL_33;
  }
  else
  {
    *v3 = 1;
  }
  v7 = sub_4890C0(a2, 1u);
  if ( v7 >= 0 )
  {
    if ( v7 )
    {
      v8 = sub_4890C0(a2, 8u) + 1;
      v3[289] = v8;
      if ( v8 > 0 )
      {
        v23 = 0;
        v9 = v3 + 546;
        while ( 1 )
        {
          v10 = sub_482E10(*(_DWORD *)(a1 + 4));
          v11 = sub_4890C0(a2, v10);
          *(v9 - 256) = v11;
          v12 = sub_482E10(*(_DWORD *)(a1 + 4));
          v13 = sub_4890C0(a2, v12);
          *v9 = v13;
          if ( v11 < 0 )
            break;
          if ( v13 < 0 )
            break;
          if ( v11 == v13 )
            break;
          v14 = *(_DWORD *)(a1 + 4);
          if ( v11 >= v14 || v13 >= v14 )
            break;
          ++v9;
          if ( ++v23 >= v3[289] )
          {
            v4 = v22;
            goto LABEL_17;
          }
        }
      }
      goto LABEL_33;
    }
LABEL_17:
    if ( !sub_4890C0(a2, 2u) )
    {
      if ( *v3 > 1 )
      {
        v15 = 0;
        if ( *(int *)(a1 + 4) > 0 )
        {
          v16 = v3 + 1;
          do
          {
            v17 = sub_4890C0(a2, 4u);
            *v16 = v17;
            if ( v17 >= *v3 || v17 < 0 )
              goto LABEL_33;
            ++v15;
            ++v16;
          }
          while ( v15 < *(_DWORD *)(a1 + 4) );
        }
        v4 = v22;
      }
      v24 = 0;
      if ( *v3 <= 0 )
        return v3;
      for ( i = v3 + 273; ; ++i )
      {
        sub_4890C0(a2, 8u);
        v19 = sub_4890C0(a2, 8u);
        *(i - 16) = v19;
        if ( v19 >= *(_DWORD *)(v4 + 16) )
          break;
        if ( v19 < 0 )
          break;
        v20 = sub_4890C0(a2, 8u);
        *i = v20;
        if ( v20 >= *(_DWORD *)(v4 + 20) || v20 < 0 )
          break;
        if ( ++v24 >= *v3 )
          return v3;
      }
    }
  }
LABEL_33:
  sub_480790(v3);
  return 0;
}

//----- (00480AF0) --------------------------------------------------------
int __cdecl sub_480AF0(int *a1)
{
  int v2; // eax
  char *v3; // edi
  unsigned int *v4; // edx
  int v5; // eax
  int v6; // ecx
  int v7; // ebx
  int v8; // ecx
  int v9; // eax
  void *v10; // esp
  int v11; // eax
  int v12; // edx
  int v13; // eax
  void *v14; // esp
  int v15; // eax
  unsigned int v16; // edx
  _DWORD *v17; // eax
  _DWORD *v18; // ecx
  char *v19; // ebx
  int v20; // eax
  int v21; // eax
  float *v22; // eax
  int v23; // edx
  int v24; // ecx
  double v25; // st7
  float *v26; // edx
  double v27; // st7
  float *v28; // ecx
  int v29; // ebx
  int **v30; // ebx
  _DWORD *v31; // ecx
  float v32; // eax
  int v33; // eax
  int v34; // ecx
  int v35; // ecx
  int *v36; // eax
  int v37; // edx
  float *v38; // edi
  int v39; // eax
  char *v40; // ecx
  double v41; // st7
  bool v42; // zf
  int v43; // eax
  int *v44; // eax
  float *v45; // edx
  int *v46; // eax
  _DWORD *v47; // edx
  int v48; // edi
  int v49; // eax
  int v50; // ecx
  int i; // edi
  int v52; // eax
  int v53; // ecx
  int v54; // ebx
  int v55; // eax
  void *v56; // esp
  int v57; // eax
  void *v58; // esp
  int v59; // ebx
  _DWORD *v60; // ebx
  int v61; // ecx
  int v63; // eax
  _DWORD *v64; // ecx
  int v65; // eax
  int v66; // ebx
  _DWORD *v67; // ecx
  float v68; // eax
  int v69; // edx
  char *v70; // ebx
  int v71; // eax
  int v72; // ecx
  char *v73; // eax
  int v74; // eax
  bool v75; // cc
  int v76; // [esp-34h] [ebp-A8h]
  _BYTE v77[12]; // [esp+0h] [ebp-74h] BYREF
  __int64 v78; // [esp+Ch] [ebp-68h]
  __int64 v79; // [esp+14h] [ebp-60h]
  int v80; // [esp+1Ch] [ebp-58h]
  char *v81; // [esp+20h] [ebp-54h]
  float v82; // [esp+24h] [ebp-50h]
  int v83; // [esp+28h] [ebp-4Ch]
  int v84; // [esp+2Ch] [ebp-48h]
  char *v85; // [esp+30h] [ebp-44h]
  int v86; // [esp+34h] [ebp-40h]
  _DWORD *v87; // [esp+38h] [ebp-3Ch]
  _DWORD *v88; // [esp+3Ch] [ebp-38h]
  int v89; // [esp+40h] [ebp-34h]
  float *v90; // [esp+44h] [ebp-30h]
  float v91; // [esp+48h] [ebp-2Ch]
  float *v92; // [esp+4Ch] [ebp-28h]
  int v93; // [esp+50h] [ebp-24h]
  int *v94; // [esp+54h] [ebp-20h]
  int v95; // [esp+58h] [ebp-1Ch]
  int v96; // [esp+5Ch] [ebp-18h]
  int v97; // [esp+60h] [ebp-14h]
  int v98; // [esp+64h] [ebp-10h]
  int v99; // [esp+68h] [ebp-Ch]
  int *v100; // [esp+6Ch] [ebp-8h]
  unsigned int *v101; // [esp+70h] [ebp-4h]
  int v102; // [esp+7Ch] [ebp+8h]
  int v103; // [esp+7Ch] [ebp+8h]
  int v104; // [esp+7Ch] [ebp+8h]
  int v105; // [esp+7Ch] [ebp+8h]

  v2 = a1[16];
  v3 = *(char **)(v2 + 4);
  v4 = *(unsigned int **)(v2 + 104);
  v5 = a1[26];
  v81 = v3;
  v6 = *((_DWORD *)v3 + 7);
  v7 = 4 * *((_DWORD *)v3 + 1);
  v90 = (float *)v5;
  v97 = v6;
  v8 = a1[9];
  v9 = v7 + 3;
  v101 = v4;
  LOBYTE(v9) = (v7 + 3) & 0xFC;
  v96 = v8;
  v10 = alloca(v9);
  v85 = v77;
  v11 = sub_478D60(a1, v7);
  v12 = *((_DWORD *)v3 + 1);
  v86 = v11;
  v95 = sub_478D60(a1, 4 * v12);
  v89 = sub_478D60(a1, 4 * *((_DWORD *)v3 + 1));
  v13 = 4 * *((_DWORD *)v3 + 1) + 3;
  v91 = v90[1];
  LOBYTE(v13) = v13 & 0xFC;
  v14 = alloca(v13);
  v80 = a1[7];
  v100 = *(int **)(v97 + 4 * v80 + 544);
  v94 = (int *)v77;
  v15 = 13 * (*((_DWORD *)v90 + 2) + (v80 != 0 ? 2 : 0));
  v16 = v101[14];
  a1[10] = v80;
  v102 = 0;
  v98 = v16 + 4 * v15;
  if ( *((int *)v3 + 1) > 0 )
  {
    v17 = (_DWORD *)(4 * (v96 / 2));
    v87 = v17;
    v99 = (int)v77;
    v82 = 4.0 / (double)v96;
    v79 = LODWORD(v82) & 0x7FFFFFFF;
    v18 = (_DWORD *)(v86 - (_DWORD)v77);
    LODWORD(v82) = v95 - v86;
    v88 = (_DWORD *)(v86 - (_DWORD)v77);
    *(float *)&v93 = (double)v79 * 0.00000071771143 - 764.61621 + 0.345;
    while ( 1 )
    {
      v19 = *(char **)(*a1 + 4 * v102);
      v92 = (float *)((char *)v18 + v99);
      v20 = sub_478D60(a1, (int)v17);
      *(_DWORD *)((char *)v92 + LODWORD(v82)) = v20;
      v21 = sub_478D60(a1, (int)v87);
      *(_DWORD *)v92 = v21;
      sub_480660(v19, (int)(v101 + 1), v97, a1[6], a1[7], a1[8]);
      sub_4801D0(*(_DWORD *)v101[a1[7] + 3], (int)v19, *(_DWORD *)v92);
      sub_47DE00((int)&v101[3 * a1[7] + 5], (float *)v19);
      v22 = (float *)v99;
      v79 = *(_DWORD *)v19 & 0x7FFFFFFF;
      v23 = v96;
      v24 = 1;
      v25 = (double)v79 * 0.00000071771143 - 764.61621 + *(float *)&v93 + 0.345;
      *(float *)v19 = v25;
      *v22 = v25;
      v83 = v23 - 1;
      if ( v23 - 1 > 1 )
      {
        v26 = (float *)(v19 + 4);
        do
        {
          *(float *)&v84 = v26[1] * v26[1] + *v26 * *v26;
          v78 = v84 & 0x7FFFFFFF;
          v27 = ((double)v78 * 0.00000071771143 - 764.61621) * 0.5 + *(float *)&v93 + 0.345;
          *(float *)&v19[4 * ((v24 + 1) >> 1)] = v27;
          if ( v27 > *(float *)v99 )
            *(float *)v99 = v27;
          v24 += 2;
          v26 += 2;
        }
        while ( v24 < v83 );
      }
      v28 = (float *)v99;
      if ( *(float *)v99 > 0.0 )
        *(_DWORD *)v99 = 0;
      if ( *v28 > (double)v91 )
        v91 = *v28;
      v99 = (int)(v28 + 1);
      if ( ++v102 >= *((_DWORD *)v3 + 1) )
        break;
      v18 = v88;
      v17 = v87;
    }
  }
  v84 = v96 / 2;
  v29 = 4 * (v96 / 2);
  v92 = (float *)sub_478D60(a1, v29);
  *(float *)&v93 = COERCE_FLOAT(sub_478D60(a1, v29));
  v103 = 0;
  if ( *((int *)v3 + 1) <= 0 )
  {
LABEL_29:
    v90[1] = v91;
    v54 = 4 * *((_DWORD *)v3 + 1);
    v55 = v54 + 3;
    LOBYTE(v55) = (v54 + 3) & 0xFC;
    v56 = alloca(v55);
    v92 = (float *)v77;
    v57 = v54 + 3;
    LOBYTE(v57) = (v54 + 3) & 0xFC;
    v58 = alloca(v57);
    v91 = COERCE_FLOAT(v77);
    v59 = sub_47DD80((int)a1) ? 0 : 7;
    v93 = v59;
    if ( v59 <= (sub_47DD80((int)a1) ? 14 : 7) )
    {
      v94 = (int *)&v90[v59 + 3];
      do
      {
        v96 = *v94;
        sub_488E00(v96, 0, 1u);
        sub_488E00(v96, v80, v101[11]);
        if ( a1[7] )
        {
          sub_488E00(v96, a1[6], 1u);
          sub_488E00(v96, a1[8], 1u);
        }
        v104 = 0;
        if ( *((int *)v3 + 1) > 0 )
        {
          v60 = (_DWORD *)v89;
          v87 = v100 + 1;
          v61 = v95 - v89;
          HIDWORD(v79) = v95 - v89;
          v81 = &v85[-v89];
          while ( 1 )
          {
            v63 = sub_483FE0(
                    v96,
                    a1,
                    *(_DWORD **)(v101[12] + 4 * v100[*v87 + 257]),
                    *(int **)(*v60 + 4 * v93),
                    *(char **)((char *)v60 + v61));
            v64 = v87 + 1;
            *(_DWORD *)((char *)v60 + (_DWORD)v81) = v63;
            v87 = v64;
            ++v60;
            if ( ++v104 >= *((_DWORD *)v3 + 1) )
              break;
            v61 = HIDWORD(v79);
          }
          v59 = v93;
        }
        sub_47BA60(
          v59,
          v97 + 2868,
          (int *)v98,
          (int)v100,
          v86,
          v95,
          v85,
          *(_DWORD *)(v97 + 4 * (v59 + 12 * (a1[7] + 54) + 3 * (a1[7] + 54))),
          *((_DWORD *)v3 + 1));
        v105 = 0;
        if ( *v100 > 0 )
        {
          v90 = (float *)(v100 + 273);
          do
          {
            v65 = *((_DWORD *)v3 + 1);
            v66 = *(_DWORD *)v90;
            v99 = 0;
            v83 = v66;
            v81 = 0;
            if ( v65 > 0 )
            {
              v67 = (_DWORD *)v95;
              v68 = v91;
              v87 = v100 + 1;
              HIDWORD(v79) = &v85[-v95];
              LODWORD(v82) = (char *)v92 - LODWORD(v91);
              do
              {
                if ( *v87 == v105 )
                {
                  v69 = HIDWORD(v79);
                  *(_DWORD *)LODWORD(v68) = 0;
                  if ( *(_DWORD *)((char *)v67 + v69) )
                    *(_DWORD *)LODWORD(v68) = 1;
                  *(_DWORD *)(LODWORD(v82) + LODWORD(v68)) = *v67;
                  LODWORD(v68) += 4;
                  ++v99;
                }
                ++v87;
                v70 = (char *)*((_DWORD *)v3 + 1);
                ++v67;
                ++v81;
              }
              while ( (int)v81 < (int)v70 );
              v66 = v83;
            }
            HIDWORD(v79) = (*((int (__cdecl **)(int *, _DWORD, float *, _DWORD, int))*(&off_49C150
                                                                                     + *(_DWORD *)(v97 + 4 * v66 + 1312))
                            + 5))(
                             a1,
                             *(_DWORD *)(v101[13] + 4 * v66),
                             v92,
                             LODWORD(v91),
                             v99);
            v71 = *((_DWORD *)v3 + 1);
            v72 = 0;
            v99 = 0;
            if ( v71 > 0 )
            {
              v81 = (char *)v92;
              v88 = (_DWORD *)v95;
              v87 = v100 + 1;
              do
              {
                if ( *v87 == v105 )
                {
                  v73 = v81;
                  *(_DWORD *)v81 = *v88;
                  ++v99;
                  v81 = v73 + 4;
                }
                ++v72;
                ++v87;
                v74 = *((_DWORD *)v3 + 1);
                ++v88;
              }
              while ( v72 < v74 );
            }
            (*((void (__cdecl **)(int, int *, _DWORD, float *, _DWORD, int, _DWORD, int))*(&off_49C150
                                                                                         + *(_DWORD *)(v97 + 4 * v66 + 1312))
             + 6))(
              v96,
              a1,
              *(_DWORD *)(v101[13] + 4 * v66),
              v92,
              LODWORD(v91),
              v99,
              HIDWORD(v79),
              v105);
            v75 = ++v105 < *v100;
            ++v90;
          }
          while ( v75 );
          v59 = v93;
        }
        v93 = ++v59;
        ++v94;
      }
      while ( v59 <= (sub_47DD80((int)a1) ? 14 : 7) );
    }
    return 0;
  }
  else
  {
    v30 = (int **)v89;
    v87 = v100 + 1;
    v31 = (_DWORD *)(v86 - (_DWORD)v94);
    LODWORD(v32) = (char *)v94 - v89;
    v88 = (_DWORD *)(v86 - (_DWORD)v94);
    LODWORD(v82) = (char *)v94 - v89;
    while ( 1 )
    {
      v33 = *(_DWORD *)((char *)v31 + (_DWORD)v30 + LODWORD(v32));
      v34 = *a1;
      v96 = *v87;
      v94 = (int *)v33;
      v99 = *(_DWORD *)(v34 + 4 * v103);
      v35 = v99 + 4 * v84;
      a1[10] = v80;
      v83 = v35;
      v36 = (int *)sub_478D60(a1, 60);
      v37 = v84;
      *v30 = v36;
      memset(v36, 0, 0x3Cu);
      v38 = (float *)v83;
      if ( v37 > 0 )
      {
        v39 = v83;
        v40 = (char *)v94 - v83;
        v83 = v37;
        do
        {
          v41 = *(float *)&v40[v39];
          v39 += 4;
          *((float *)&v79 + 1) = v41;
          v78 = HIDWORD(v79) & 0x7FFFFFFF;
          v42 = v83-- == 1;
          *(float *)(v39 - 4) = (double)v78 * 0.00000071771143 - 764.61621 + 0.345;
        }
        while ( !v42 );
      }
      sub_47AD90(v98, v38, v92);
      sub_47B460((int *)v98, v99, v93, v91, *(float *)((char *)v30 + LODWORD(v82)));
      sub_47B950(v98, (int)v92, (float *)v93, 1, v99, (int)v94, (int)v38);
      v43 = v100[v96 + 257];
      if ( *(_DWORD *)(v97 + 4 * v43 + 800) != 1 )
        return -1;
      (*v30)[7] = (int)sub_483330(a1, *(int **)(v101[12] + 4 * v43), (int)v38, v99);
      if ( sub_47DD80((int)a1) && (*v30)[7] )
      {
        sub_47B950(v98, (int)v92, (float *)v93, 2, v99, (int)v94, (int)v38);
        v44 = sub_483330(a1, *(int **)(v101[12] + 4 * v100[v96 + 257]), (int)v38, v99);
        v76 = (int)v94;
        v45 = v92;
        (*v30)[14] = (int)v44;
        sub_47B950(v98, (int)v45, (float *)v93, 0, v99, v76, (int)v38);
        v46 = sub_483330(a1, *(int **)(v101[12] + 4 * v100[v96 + 257]), (int)v38, v99);
        v47 = *v30;
        v83 = 4;
        v48 = 0x10000;
        *v47 = v46;
        do
        {
          v49 = sub_483F30(a1, *(_DWORD *)(v101[12] + 4 * v100[v96 + 257]), **v30, (_DWORD *)(*v30)[7], v48 / 7);
          v50 = v83;
          v48 += 0x10000;
          *(int *)((char *)*v30 + v83) = v49;
          v83 = v50 + 4;
        }
        while ( v48 < 458752 );
        v83 = 32;
        for ( i = 0x10000; i < 458752; i += 0x10000 )
        {
          v52 = sub_483F30(a1, *(_DWORD *)(v101[12] + 4 * v100[v96 + 257]), (*v30)[7], (_DWORD *)(*v30)[14], i / 7);
          v53 = v83;
          *(int *)((char *)*v30 + v83) = v52;
          v83 = v53 + 4;
        }
      }
      ++v87;
      ++v30;
      if ( ++v103 >= *((_DWORD *)v81 + 1) )
      {
        v3 = v81;
        goto LABEL_29;
      }
      v31 = v88;
      v32 = v82;
    }
  }
}
// 49C150:  void *off_49C150

//----- (00481400) --------------------------------------------------------
int __cdecl sub_481400(_DWORD *a1, int *a2)
{
  int v3; // eax
  int v4; // ecx
  int v5; // eax
  int v6; // edx
  int v7; // edi
  int v8; // eax
  void *v9; // esp
  int v10; // eax
  void *v11; // esp
  int v12; // eax
  void *v13; // esp
  int v14; // eax
  void *v15; // esp
  int v16; // ebx
  _DWORD *v17; // edi
  int v18; // eax
  int v19; // eax
  unsigned int v20; // ecx
  char *v21; // edi
  char v22; // dl
  char *v23; // edi
  _DWORD *v24; // edx
  int *v25; // edi
  _DWORD *v26; // eax
  int v27; // edx
  int v28; // ecx
  int v29; // ebx
  _DWORD *v30; // edx
  _DWORD *v31; // edx
  int v32; // eax
  int v33; // edi
  int v34; // ecx
  _DWORD *v35; // eax
  unsigned int v36; // ebx
  _DWORD *v37; // ebx
  bool v38; // cc
  int v39; // ecx
  int *v40; // edi
  int v41; // ebx
  float *v42; // ecx
  int v43; // eax
  int v44; // edx
  double v45; // st7
  double v46; // st6
  char v47; // fps^1
  bool v48; // c0
  char v49; // c2
  bool v50; // c3
  char v51; // ah
  bool v52; // c0
  bool v53; // c3
  double v54; // st6
  int v55; // ebx
  _DWORD *v56; // edi
  int v57; // eax
  int i; // edi
  _BYTE v60[12]; // [esp+0h] [ebp-38h] BYREF
  _BYTE *v61; // [esp+Ch] [ebp-2Ch]
  unsigned int v62; // [esp+10h] [ebp-28h]
  int v63; // [esp+14h] [ebp-24h]
  _DWORD *v64; // [esp+18h] [ebp-20h]
  _BYTE *v65; // [esp+1Ch] [ebp-1Ch]
  _BYTE *v66; // [esp+20h] [ebp-18h]
  int v67; // [esp+24h] [ebp-14h]
  int v68; // [esp+28h] [ebp-10h]
  _DWORD *v69; // [esp+2Ch] [ebp-Ch]
  int v70; // [esp+30h] [ebp-8h]
  _DWORD *v71; // [esp+34h] [ebp-4h]
  int v72; // [esp+40h] [ebp+8h]

  v3 = a1[16];
  v4 = *(_DWORD *)(v3 + 4);
  v70 = *(_DWORD *)(v3 + 104);
  v5 = a1[7];
  v72 = v4;
  v67 = *(_DWORD *)(v4 + 28);
  v6 = *(_DWORD *)(v67 + 4 * v5);
  a1[9] = v6;
  v7 = *(_DWORD *)(v4 + 4);
  v63 = v6;
  v8 = 4 * v7 + 3;
  LOBYTE(v8) = v8 & 0xFC;
  v9 = alloca(v8);
  v65 = v60;
  v10 = 4 * v7 + 3;
  LOBYTE(v10) = (4 * v7 + 3) & 0xFC;
  v11 = alloca(v10);
  v66 = v60;
  v12 = 4 * v7 + 3;
  LOBYTE(v12) = (4 * v7 + 3) & 0xFC;
  v13 = alloca(v12);
  v68 = (int)v60;
  v14 = 4 * v7 + 3;
  LOBYTE(v14) = (4 * v7 + 3) & 0xFC;
  v15 = alloca(v14);
  v16 = 0;
  v61 = v60;
  if ( v7 > 0 )
  {
    v17 = (_DWORD *)v68;
    v62 = (unsigned int)(4 * v63) >> 1;
    v69 = (_DWORD *)v68;
    v71 = a2 + 1;
    v64 = &v60[-v68];
    while ( 1 )
    {
      v18 = a2[*v71 + 257];
      v19 = (*((int (__cdecl **)(_DWORD *, _DWORD))*(&off_49C148 + *(_DWORD *)(v67 + 4 * v18 + 800)) + 5))(
              a1,
              *(_DWORD *)(*(_DWORD *)(v70 + 48) + 4 * v18));
      *(_DWORD *)((char *)v17 + (_DWORD)v64) = v19;
      v20 = v62;
      *v17 = v19 != 0;
      v21 = *(char **)(*a1 + 4 * v16);
      v22 = v20;
      v20 >>= 2;
      memset(v21, 0, 4 * v20);
      v23 = &v21[4 * v20];
      LOBYTE(v20) = v22;
      v24 = v69;
      ++v16;
      memset(v23, 0, v20 & 3);
      ++v71;
      v69 = v24 + 1;
      if ( v16 >= *(_DWORD *)(v72 + 4) )
        break;
      v17 = v69;
    }
  }
  v25 = a2;
  v71 = 0;
  if ( a2[289] > 0 )
  {
    v26 = a2 + 546;
    do
    {
      v27 = *(v26 - 256);
      v28 = v68;
      v29 = *(_DWORD *)(v68 + 4 * v27);
      v30 = (_DWORD *)(v68 + 4 * v27);
      if ( v29 || *(_DWORD *)(v68 + 4 * *v26) )
      {
        *v30 = 1;
        *(_DWORD *)(v28 + 4 * *v26) = 1;
      }
      v31 = (_DWORD *)a2[289];
      ++v26;
      v71 = (_DWORD *)((char *)v71 + 1);
    }
    while ( (int)v71 < (int)v31 );
  }
  v32 = *a2;
  v71 = 0;
  if ( v32 > 0 )
  {
    v64 = a2 + 273;
    do
    {
      v33 = 0;
      v34 = 0;
      if ( *(int *)(v72 + 4) > 0 )
      {
        v35 = v66;
        v69 = a2 + 1;
        v62 = v65 - v66;
        do
        {
          if ( (_DWORD *)*v69 == v71 )
          {
            v36 = v62;
            *v35 = *(_DWORD *)(v68 + 4 * v34) != 0;
            ++v33;
            *(_DWORD *)((char *)++v35 + v36 - 4) = *(_DWORD *)(*a1 + 4 * v34);
          }
          ++v34;
          ++v69;
        }
        while ( v34 < *(_DWORD *)(v72 + 4) );
      }
      v37 = v64;
      (*((void (__cdecl **)(_DWORD *, _DWORD, _BYTE *, _BYTE *, int))*(&off_49C150 + *(_DWORD *)(v67 + 4 * *v64 + 1312))
       + 7))(
        a1,
        *(_DWORD *)(*(_DWORD *)(v70 + 52) + 4 * *v64),
        v65,
        v66,
        v33);
      v38 = (int)v71 + 1 < *a2;
      v71 = (_DWORD *)((char *)v71 + 1);
      v64 = v37 + 1;
    }
    while ( v38 );
    v25 = a2;
  }
  v39 = v25[289] - 1;
  if ( v39 >= 0 )
  {
    v40 = &v25[v39 + 546];
    v41 = v63 / 2;
    v64 = (_DWORD *)(v39 + 1);
    while ( 1 )
    {
      v42 = *(float **)(*a1 + 4 * *(v40 - 256));
      v43 = *(_DWORD *)(*a1 + 4 * *v40);
      if ( v41 > 0 )
        break;
LABEL_33:
      --v40;
      v64 = (_DWORD *)((char *)v64 - 1);
      if ( !v64 )
      {
        v25 = a2;
        goto LABEL_35;
      }
    }
    v63 = v41;
    v44 = v43 - (_DWORD)v42;
    while ( 1 )
    {
      v45 = *v42;
      v46 = *(float *)((char *)v42 + v44);
      v48 = v45 < 0.0;
      v49 = 0;
      v50 = v45 == 0.0;
      v51 = v47;
      v52 = v46 < 0.0;
      v53 = v46 == 0.0;
      if ( (v51 & 0x41) != 0 )
      {
        if ( v52 || v53 )
        {
          *(float *)((char *)v42 + v44) = *v42;
          v54 = v45 - v46;
          goto LABEL_31;
        }
        *(float *)((char *)v42 + v44) = v46 + v45;
      }
      else
      {
        if ( v52 || v53 )
        {
          *(float *)((char *)v42 + v44) = *v42;
          v54 = v46 + v45;
LABEL_31:
          *v42 = v54;
          goto LABEL_32;
        }
        *(float *)((char *)v42 + v44) = *v42 - *(float *)((char *)v42 + v44);
      }
LABEL_32:
      ++v42;
      if ( !--v63 )
        goto LABEL_33;
    }
  }
LABEL_35:
  v55 = 0;
  if ( *(int *)(v72 + 4) > 0 )
  {
    v56 = v25 + 1;
    do
    {
      v57 = a2[*v56 + 257];
      (*((void (__cdecl **)(_DWORD *, _DWORD, _DWORD, _DWORD))*(&off_49C148 + *(_DWORD *)(v67 + 4 * v57 + 800)) + 6))(
        a1,
        *(_DWORD *)(*(_DWORD *)(v70 + 48) + 4 * v57),
        *(_DWORD *)&v61[4 * v55],
        *(_DWORD *)(*a1 + 4 * v55));
      ++v55;
      ++v56;
    }
    while ( v55 < *(_DWORD *)(v72 + 4) );
  }
  for ( i = 0; i < *(_DWORD *)(v72 + 4); ++i )
    sub_47F610(**(int ***)(v70 + 4 * a1[7] + 12), *(_DWORD *)(*a1 + 4 * i), *(_DWORD *)(*a1 + 4 * i));
  return 0;
}
// 48167C: variable 'v47' is possibly undefined
// 49C148:  void *off_49C148
// 49C150:  void *off_49C150

//----- (00481770) --------------------------------------------------------
void __cdecl sub_481770(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0xB18u);
    free(Block);
  }
}

//----- (00481790) --------------------------------------------------------
void __cdecl sub_481790(void *Block)
{
  int i; // edi
  int j; // edi

  if ( Block )
  {
    for ( i = 0; i < *((_DWORD *)Block + 1); ++i )
    {
      if ( *(_DWORD *)(*((_DWORD *)Block + 5) + 4 * i) )
        free(*(void **)(*((_DWORD *)Block + 5) + 4 * i));
    }
    free(*((void **)Block + 5));
    for ( j = 0; j < *((_DWORD *)Block + 6); ++j )
      free(*(void **)(*((_DWORD *)Block + 7) + 4 * j));
    free(*((void **)Block + 7));
    memset(Block, 0, 0x2Cu);
    free(Block);
  }
}

//----- (00481810) --------------------------------------------------------
int __cdecl sub_481810(int *a1, int a2)
{
  int v2; // ebx
  int result; // eax
  int v4; // ebp
  int *v5; // ebx
  int v6; // ecx
  int *v7; // edi
  int v8; // [esp+10h] [ebp-4h]

  v2 = 0;
  v8 = 0;
  sub_488E00(a2, *a1, 0x18u);
  sub_488E00(a2, a1[1], 0x18u);
  sub_488E00(a2, a1[2] - 1, 0x18u);
  sub_488E00(a2, a1[3] - 1, 6u);
  sub_488E00(a2, a1[5], 8u);
  result = a1[3];
  v4 = 0;
  if ( result > 0 )
  {
    v5 = a1 + 6;
    do
    {
      if ( sub_47C5B0(*v5) <= 3 )
      {
        sub_488E00(a2, *v5, 4u);
      }
      else
      {
        sub_488E00(a2, *v5, 3u);
        sub_488E00(a2, 1, 1u);
        sub_488E00(a2, *v5 >> 3, 5u);
      }
      v6 = sub_481900(*v5) + v8;
      result = a1[3];
      ++v4;
      ++v5;
      v8 = v6;
    }
    while ( v4 < result );
    v2 = v6;
  }
  if ( v2 > 0 )
  {
    v7 = a1 + 70;
    do
    {
      result = sub_488E00(a2, *v7++, 8u);
      --v2;
    }
    while ( v2 );
  }
  return result;
}

//----- (00481900) --------------------------------------------------------
int __cdecl sub_481900(unsigned int a1)
{
  unsigned int v1; // ecx
  int result; // eax

  v1 = a1;
  for ( result = 0; v1; v1 >>= 1 )
    result += v1 & 1;
  return result;
}

//----- (00481920) --------------------------------------------------------
int *__cdecl sub_481920(int a1, _DWORD *a2)
{
  int v2; // ebp
  int *v3; // edi
  int v4; // eax
  int v5; // ebx
  int v6; // eax
  int v7; // eax
  int v8; // ebp
  int v9; // ebx
  int *v10; // ebp
  int v11; // eax
  int v12; // ebx
  int v13; // edx
  int *v14; // ecx
  int *v15; // eax
  int v16; // edx
  int v17; // ecx
  int v18; // eax
  int v20; // [esp+10h] [ebp-8h]
  int v21; // [esp+14h] [ebp-4h]
  int *v22; // [esp+1Ch] [ebp+4h]

  v2 = 0;
  v20 = 0;
  v3 = (int *)calloc(1u, 0xB18u);
  v21 = *(_DWORD *)(a1 + 28);
  *v3 = sub_4890C0(a2, 0x18u);
  v3[1] = sub_4890C0(a2, 0x18u);
  v3[2] = sub_4890C0(a2, 0x18u) + 1;
  v3[3] = sub_4890C0(a2, 6u) + 1;
  v4 = sub_4890C0(a2, 8u);
  v3[5] = v4;
  if ( v4 >= 0 )
  {
    if ( v3[3] <= 0 )
    {
LABEL_9:
      v8 = v20;
      v9 = 0;
      if ( v20 <= 0 )
      {
LABEL_14:
        v12 = *(_DWORD *)(v21 + 24);
        if ( v3[5] < v12 )
        {
          v13 = 0;
          if ( v8 <= 0 )
          {
LABEL_20:
            v15 = *(int **)(v21 + 4 * v3[5] + 1824);
            v16 = v15[1];
            v17 = *v15;
            v18 = 1;
            if ( v17 >= 1 )
            {
              while ( 1 )
              {
                v18 *= v3[3];
                if ( v18 > v16 )
                  break;
                if ( --v17 <= 0 )
                {
                  v3[4] = v18;
                  return v3;
                }
              }
            }
          }
          else
          {
            v14 = v3 + 70;
            while ( *v14 < v12 && *(_DWORD *)(*(_DWORD *)(v21 + 4 * *v14 + 1824) + 12) )
            {
              ++v13;
              ++v14;
              if ( v13 >= v8 )
                goto LABEL_20;
            }
          }
        }
      }
      else
      {
        v10 = v3 + 70;
        while ( 1 )
        {
          v11 = sub_4890C0(a2, 8u);
          if ( v11 < 0 )
            break;
          *v10 = v11;
          ++v9;
          ++v10;
          if ( v9 >= v20 )
          {
            v8 = v20;
            goto LABEL_14;
          }
        }
      }
    }
    else
    {
      v22 = v3 + 6;
      while ( 1 )
      {
        v5 = sub_4890C0(a2, 3u);
        v6 = sub_4890C0(a2, 1u);
        if ( v6 < 0 )
          break;
        if ( v6 )
        {
          v7 = sub_4890C0(a2, 5u);
          if ( v7 < 0 )
            break;
          v5 |= 8 * v7;
        }
        *v22 = v5;
        ++v2;
        v20 += sub_481900(v5);
        ++v22;
        if ( v2 >= v3[3] )
          goto LABEL_9;
      }
    }
  }
  sub_481770(v3);
  return 0;
}
// 481A7F: conditional instruction was optimized away because ecx.4>=1

//----- (00481AC0) --------------------------------------------------------
_DWORD *__cdecl sub_481AC0(int a1, _DWORD *a2)
{
  _DWORD *v2; // esi
  int v3; // edi
  int v4; // ebp
  int *v5; // eax
  int v6; // ebx
  int v7; // eax
  int v8; // ebx
  void *v9; // eax
  int v10; // ecx
  _DWORD *v11; // edx
  int v12; // ecx
  int v13; // eax
  int v14; // eax
  int i; // ebp
  int v16; // edi
  void *v17; // eax
  int v18; // ecx
  int v19; // ebx
  size_t v21; // [esp-10h] [ebp-30h]
  size_t v22; // [esp-4h] [ebp-24h]
  int v23; // [esp+10h] [ebp-10h]
  int v24; // [esp+14h] [ebp-Ch]
  int v25; // [esp+18h] [ebp-8h]
  int v26; // [esp+1Ch] [ebp-4h]
  unsigned int *v27; // [esp+24h] [ebp+4h]
  int v28; // [esp+28h] [ebp+8h]

  v2 = calloc(1u, 0x2Cu);
  v3 = 0;
  v23 = 0;
  v24 = 0;
  v4 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 28);
  *v2 = a2;
  v2[1] = a2[3];
  v2[3] = *(_DWORD *)(v4 + 2848);
  v21 = v2[1];
  v5 = (int *)(*(_DWORD *)(v4 + 2848) + 56 * a2[5]);
  v2[4] = v5;
  v6 = *v5;
  v25 = *v5;
  v2[5] = calloc(v21, 4u);
  if ( (int)v2[1] > 0 )
  {
    v27 = a2 + 6;
    do
    {
      v7 = sub_47C5B0(*v27);
      v8 = v7;
      v26 = v7;
      if ( v7 )
      {
        if ( v7 > v24 )
          v24 = v7;
        v9 = calloc(v7, 4u);
        v10 = 0;
        *(_DWORD *)(v2[5] + 4 * v3) = v9;
        if ( v8 > 0 )
        {
          v11 = &a2[v23 + 70];
          do
          {
            if ( ((1 << v10) & *v27) != 0 )
            {
              *(_DWORD *)(*(_DWORD *)(v2[5] + 4 * v3) + 4 * v10) = *(_DWORD *)(v4 + 2848) + 56 * *v11++;
              ++v23;
            }
            ++v10;
          }
          while ( v10 < v26 );
        }
      }
      ++v3;
      ++v27;
    }
    while ( v3 < v2[1] );
    v6 = v25;
  }
  v2[6] = 1;
  if ( v6 > 0 )
  {
    v12 = v2[1];
    v13 = v6;
    do
    {
      --v13;
      v2[6] *= v12;
    }
    while ( v13 );
  }
  v22 = 4 * v2[6];
  v2[2] = v24;
  v2[7] = malloc(v22);
  v14 = v2[6];
  for ( i = 0; i < v14; ++i )
  {
    v28 = i;
    v16 = v14 / v2[1];
    v17 = malloc(4 * v6);
    v18 = 0;
    *(_DWORD *)(v2[7] + 4 * i) = v17;
    if ( v6 > 0 )
    {
      do
      {
        v19 = v28 / v16;
        v28 %= v16;
        ++v18;
        v16 /= (int)v2[1];
        *(_DWORD *)(*(_DWORD *)(v2[7] + 4 * i) + 4 * v18 - 4) = v19;
      }
      while ( v18 < v25 );
      v6 = v25;
    }
    v14 = v2[6];
  }
  return v2;
}

//----- (00481C90) --------------------------------------------------------
int __cdecl sub_481C90(_DWORD *a1, int a2, int a3, int a4, int a5)
{
  int v5; // esi
  int v6; // ebx
  _DWORD *v7; // ecx
  _DWORD *v8; // eax

  v5 = a5;
  v6 = 0;
  if ( a5 <= 0 )
    return 0;
  v7 = (_DWORD *)a3;
  v8 = (_DWORD *)a3;
  do
  {
    if ( *(_DWORD *)((char *)v8 + a4 - a3) )
    {
      ++v6;
      *v7++ = *v8;
    }
    ++v8;
    --v5;
  }
  while ( v5 );
  if ( v6 )
    return sub_481CF0(a1, a2, a3, v6, (int (__cdecl *)(int, int, _DWORD *, int))sub_47D440);
  else
    return 0;
}

//----- (00481CF0) --------------------------------------------------------
int __cdecl sub_481CF0(_DWORD *a1, int a2, int a3, int a4, int (__cdecl *a5)(int, int, _DWORD *, int))
{
  int v5; // edi
  int *v6; // eax
  _DWORD *v7; // ecx
  int v8; // esi
  int v9; // edx
  int v10; // ebx
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // esi
  int v15; // ebx
  int v16; // eax
  void *v17; // esp
  int v18; // ebx
  int *v19; // edi
  int v20; // eax
  int v21; // ecx
  int v22; // eax
  int v23; // ebx
  int v24; // esi
  _DWORD *v25; // edi
  int v26; // eax
  _DWORD *v27; // esi
  int v28; // edi
  _DWORD *v29; // ecx
  int v30; // ecx
  bool v31; // cc
  int v32; // eax
  _BYTE v34[12]; // [esp+0h] [ebp-40h] BYREF
  int v35; // [esp+Ch] [ebp-34h]
  int v36; // [esp+10h] [ebp-30h]
  int v37; // [esp+14h] [ebp-2Ch]
  int v38; // [esp+18h] [ebp-28h]
  int v39; // [esp+1Ch] [ebp-24h]
  int v40; // [esp+20h] [ebp-20h]
  int v41; // [esp+24h] [ebp-1Ch]
  int v42; // [esp+28h] [ebp-18h]
  int v43; // [esp+2Ch] [ebp-14h]
  _DWORD *v44; // [esp+30h] [ebp-10h]
  _BYTE *v45; // [esp+34h] [ebp-Ch]
  int v46; // [esp+38h] [ebp-8h]
  int v47; // [esp+3Ch] [ebp-4h]

  v5 = a2;
  v6 = *(int **)(a2 + 16);
  v7 = *(_DWORD **)a2;
  v44 = v7;
  v8 = *v6;
  v9 = v7[1];
  v10 = v7[2];
  v11 = (int)a1[9] >> 1;
  v42 = v10;
  v36 = v8;
  if ( v9 < v11 )
    v11 = v9;
  v12 = v11 - *v7;
  if ( v12 > 0 )
  {
    v39 = v12 / v10;
    v13 = (v12 / v10 + v8 - 1) / v8;
    v14 = a4;
    v15 = v13;
    v16 = 4 * a4 + 3;
    LOBYTE(v16) = v16 & 0xFC;
    v17 = alloca(v16);
    v45 = v34;
    if ( a4 > 0 )
    {
      v18 = 4 * v15;
      v19 = (int *)v34;
      do
      {
        *v19++ = sub_478D60(a1, v18);
        --v14;
      }
      while ( v14 );
      v5 = a2;
    }
    v20 = *(_DWORD *)(v5 + 8);
    v21 = 0;
    v46 = 0;
    if ( v20 > 0 )
    {
      while ( 1 )
      {
        v22 = 0;
        v43 = 0;
        if ( v39 > 0 )
          break;
LABEL_32:
        v32 = *(_DWORD *)(v5 + 8);
        v46 = ++v21;
        if ( v21 >= v32 )
          return 0;
      }
      v23 = 0;
      v40 = 0;
      while ( 1 )
      {
        if ( !v21 )
        {
          v24 = 0;
          if ( a4 > 0 )
            break;
        }
LABEL_19:
        v37 = 0;
        if ( v36 > 0 )
        {
          v47 = 0;
          v41 = v42 * v22;
          while ( v22 < v39 )
          {
            v38 = 0;
            if ( a4 > 0 )
            {
              v27 = v45;
              v28 = 1 << v21;
              v35 = a3 - (_DWORD)v45;
              while ( 1 )
              {
                v29 = (_DWORD *)(v23 + *v27);
                if ( (v28 & v44[*(_DWORD *)(*v29 + v47) + 6]) != 0 )
                {
                  v30 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a2 + 20) + 4 * *(_DWORD *)(*v29 + v47)) + 4 * v46);
                  if ( v30 )
                  {
                    if ( a5(v30, *(_DWORD *)((char *)v27 + v35) + 4 * (v41 + *v44), a1 + 1, v42) == -1 )
                      return 0;
                  }
                }
                v23 = v40;
                ++v27;
                if ( ++v38 >= a4 )
                {
                  v22 = v43;
                  v21 = v46;
                  break;
                }
              }
            }
            v47 += 4;
            ++v22;
            v31 = ++v37 < v36;
            v43 = v22;
            v41 += v42;
            if ( !v31 )
              break;
          }
        }
        v23 += 4;
        v40 = v23;
        if ( v22 >= v39 )
        {
          v5 = a2;
          goto LABEL_32;
        }
      }
      v25 = v45;
      while ( 1 )
      {
        v26 = sub_47D310(*(_DWORD **)(a2 + 16), a1 + 1);
        if ( v26 == -1 )
          break;
        if ( v26 >= v44[4] )
          break;
        *(_DWORD *)(v23 + *v25) = *(_DWORD *)(*(_DWORD *)(a2 + 28) + 4 * v26);
        if ( !*(_DWORD *)(v23 + *v25) )
          break;
        ++v24;
        ++v25;
        if ( v24 >= a4 )
        {
          v22 = v43;
          v21 = v46;
          goto LABEL_19;
        }
      }
    }
  }
  return 0;
}

//----- (00481F20) --------------------------------------------------------
int __cdecl sub_481F20(int a1, int a2, _DWORD **a3, int a4, int a5, int a6, _DWORD *a7)
{
  int v7; // esi
  int v8; // ebx
  _DWORD *v9; // ecx
  _DWORD *v10; // eax

  v7 = a6;
  v8 = 0;
  if ( a6 <= 0 )
    return 0;
  v9 = (_DWORD *)a4;
  v10 = (_DWORD *)a4;
  do
  {
    if ( *(_DWORD *)((char *)v10 + a5 - a4) )
    {
      ++v8;
      *v9++ = *v10;
    }
    ++v10;
    --v7;
  }
  while ( v7 );
  if ( v8 )
    return sub_4822B0(a1, a2, a3, a4, v8, a7, (int (__cdecl *)(int, int, int, int, _DWORD))sub_481F90);
  else
    return 0;
}

//----- (00481F90) --------------------------------------------------------
int __cdecl sub_481F90(int a1, char *a2, int a3, int *a4)
{
  int v5; // ebx
  int v7; // ebp
  int v8; // eax
  int v10; // [esp+18h] [ebp+10h]

  v5 = 0;
  if ( a3 / *a4 <= 0 )
    return 0;
  v7 = a3 / *a4;
  v10 = 4 * *a4;
  do
  {
    v8 = sub_481FF0(a4, a2);
    v5 += sub_47D2C0((int)a4, v8, a1);
    a2 += v10;
    --v7;
  }
  while ( v7 );
  return v5;
}

//----- (00481FF0) --------------------------------------------------------
int __cdecl sub_481FF0(int *a1, char *a2)
{
  int *v2; // eax
  int v3; // ebx
  int v4; // edx
  int v5; // ebp
  int v6; // edi
  int v7; // eax
  int *v8; // esi
  int v9; // eax
  int v10; // eax
  int v11; // ecx
  int v12; // edx
  bool v13; // zf
  int v14; // ebx
  int *v15; // esi
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // ecx
  int v20; // esi
  int v21; // edi
  int v22; // eax
  int v23; // ebx
  int v24; // esi
  int v25; // ebp
  _DWORD *v26; // ecx
  int v27; // eax
  int v28; // edx
  int *v29; // ecx
  int *v30; // eax
  int *v31; // eax
  bool v32; // cc
  int *v33; // ecx
  int v34; // edi
  int v36; // [esp+10h] [ebp-5Ch]
  int v37; // [esp+14h] [ebp-58h]
  int v38; // [esp+14h] [ebp-58h]
  int v39; // [esp+18h] [ebp-54h]
  int v40; // [esp+1Ch] [ebp-50h]
  int *v41; // [esp+20h] [ebp-4Ch]
  int v42; // [esp+24h] [ebp-48h]
  int v43; // [esp+24h] [ebp-48h]
  int v44; // [esp+24h] [ebp-48h]
  int v45; // [esp+28h] [ebp-44h]
  int v46; // [esp+28h] [ebp-44h]
  int v47[8]; // [esp+2Ch] [ebp-40h] BYREF
  int v48[8]; // [esp+4Ch] [ebp-20h] BYREF
  int v49; // [esp+70h] [ebp+4h]

  v2 = a1;
  v3 = a1[13];
  v4 = *a1;
  v5 = a1[12];
  v37 = a1[11];
  v40 = *a1;
  v6 = v37 >> 1;
  v39 = v3;
  v36 = 0;
  memset(v48, 0, sizeof(v48));
  if ( v3 != 1 )
  {
    if ( v4 > 0 )
    {
      v45 = v3 >> 1;
      v7 = a2 - (char *)v48;
      v8 = &v48[v4];
      v42 = v4;
      while ( 1 )
      {
        v9 = *(int *)((char *)v8-- + v7 - 4);
        v10 = (v45 + v9 - v5) / v3;
        v11 = v10 >= v6 ? 2 * (v10 - v6) : 2 * (v6 - v10) - 1;
        if ( v11 >= 0 )
        {
          v12 = v37;
          if ( v11 >= v37 )
            v11 = v37 - 1;
        }
        else
        {
          v12 = v37;
          v11 = 0;
        }
        *v8 = v5 + v39 * v10;
        v13 = v42 == 1;
        v36 = v11 + v12 * v36;
        --v42;
        if ( v13 )
          break;
        v3 = v39;
        v7 = a2 - (char *)v48;
      }
      v2 = a1;
      v4 = v40;
    }
    goto LABEL_14;
  }
  if ( v4 <= 0 )
  {
LABEL_14:
    v14 = v37;
    goto LABEL_27;
  }
  v14 = v37;
  v15 = &v48[v4];
  v16 = a2 - (char *)v48;
  v43 = v4;
  while ( 1 )
  {
    v17 = *(int *)((char *)v15-- + v16 - 4);
    v18 = v17 - v5;
    v19 = v18 >= v6 ? 2 * (v18 - v6) : 2 * (v6 - v18) - 1;
    if ( v19 >= 0 )
    {
      if ( v19 >= v37 )
        v19 = v37 - 1;
    }
    else
    {
      v19 = 0;
    }
    *v15 = v5 + v18;
    v13 = v43 == 1;
    v36 = v19 + v37 * v36;
    --v43;
    if ( v13 )
      break;
    v16 = a2 - (char *)v48;
  }
  v2 = a1;
  v4 = v40;
LABEL_27:
  v46 = v2[3];
  v20 = v36;
  if ( *(int *)(*(_DWORD *)(v46 + 8) + 4 * v36) <= 0 )
  {
    v21 = -1;
    v22 = v2[1];
    v23 = v5 + v39 * (v14 - 1);
    v44 = -1;
    memset(v47, 0, sizeof(v47));
    v49 = 0;
    v38 = v22;
    if ( v22 > 0 )
    {
      v41 = *(int **)(v46 + 8);
      do
      {
        if ( *v41 > 0 )
        {
          v24 = v40;
          v25 = 0;
          if ( v40 > 0 )
          {
            v26 = a2;
            do
            {
              v27 = *(_DWORD *)((char *)v26 + (char *)v47 - a2) - *v26;
              ++v26;
              v25 += v27 * v27;
              --v24;
            }
            while ( v24 );
            v21 = v44;
          }
          if ( v21 == -1 || v25 < v21 )
          {
            qmemcpy(v48, v47, sizeof(v48));
            v21 = v25;
            v44 = v25;
            v36 = v49;
          }
        }
        v28 = 0;
        if ( v47[0] >= v23 )
        {
          v29 = v47;
          v30 = v47;
          do
          {
            ++v30;
            *v29 = 0;
            ++v28;
            v29 = v30;
          }
          while ( *v30 >= v23 );
        }
        v31 = &v47[v28];
        if ( *v31 >= 0 )
          *v31 += v39;
        *v31 = -*v31;
        v32 = ++v49 < v38;
        ++v41;
      }
      while ( v32 );
      v4 = v40;
    }
    v20 = v36;
  }
  if ( v20 > -1 && v4 > 0 )
  {
    v33 = v48;
    do
    {
      v34 = *v33++;
      --v4;
      *(_DWORD *)a2 -= v34;
      a2 += 4;
    }
    while ( v4 );
  }
  return v20;
}

//----- (004822B0) --------------------------------------------------------
int __cdecl sub_4822B0(
        int a1,
        int a2,
        _DWORD **a3,
        int a4,
        int a5,
        _DWORD *a6,
        int (__cdecl *a7)(int, int, int, int, _DWORD))
{
  int v7; // ebp
  int v8; // edx
  int v9; // esi
  int v10; // ecx
  int v11; // eax
  _DWORD *v12; // edx
  int v13; // ecx
  bool v14; // zf
  int v15; // edi
  int v16; // eax
  _DWORD *v17; // esi
  int *v18; // eax
  _DWORD *v19; // eax
  int v20; // eax
  int v21; // eax
  int *v22; // ecx
  bool v23; // cc
  _DWORD *v25; // [esp+10h] [ebp-430h]
  int v26; // [esp+10h] [ebp-430h]
  int v27; // [esp+14h] [ebp-42Ch]
  int v28; // [esp+18h] [ebp-428h]
  int v29; // [esp+18h] [ebp-428h]
  int v30; // [esp+1Ch] [ebp-424h]
  int i; // [esp+20h] [ebp-420h]
  int v32; // [esp+24h] [ebp-41Ch]
  _DWORD *v33; // [esp+28h] [ebp-418h]
  int v34; // [esp+2Ch] [ebp-414h]
  int v35; // [esp+34h] [ebp-40Ch]
  int v36; // [esp+38h] [ebp-408h]
  int v37; // [esp+3Ch] [ebp-404h]
  int v38[128]; // [esp+40h] [ebp-400h] BYREF
  int v39[128]; // [esp+240h] [ebp-200h] BYREF

  v33 = *a3;
  v7 = *a3[4];
  v36 = (*a3)[3];
  v30 = (*a3)[2];
  v35 = v7;
  v8 = ((*a3)[1] - **a3) / v30;
  memset(v39, 0, sizeof(v39));
  memset(v38, 0, sizeof(v38));
  v27 = 0;
  for ( i = v8; v27 < (int)a3[2]; ++v27 )
  {
    v9 = 0;
    v32 = 0;
    if ( v8 > 0 )
    {
      while ( 1 )
      {
        if ( !v27 && a5 > 0 )
        {
          v28 = a5;
          v25 = a6;
          do
          {
            v10 = 1;
            v11 = *(_DWORD *)(*v25 + 4 * v9);
            if ( v7 > 1 )
            {
              v12 = (_DWORD *)(*v25 + 4 * v9 + 4);
              do
              {
                v11 *= v36;
                if ( v10 + v9 < i )
                  v11 += *v12;
                ++v10;
                ++v12;
              }
              while ( v10 < v7 );
            }
            v13 = (int)a3[4];
            if ( v11 < *(_DWORD *)(v13 + 4) )
              a3[9] = (_DWORD *)((char *)a3[9] + sub_47D2C0(v13, v11, a1));
            v14 = v28 == 1;
            ++v25;
            --v28;
          }
          while ( !v14 );
        }
        v26 = 0;
        if ( v7 > 0 )
          break;
LABEL_27:
        v8 = i;
        if ( v9 >= i )
          goto LABEL_28;
      }
      v15 = 4 * v9;
      v16 = v30 * v9;
      v34 = v30 * v9;
      while ( 1 )
      {
        v8 = i;
        if ( v9 >= i )
          break;
        v37 = *v33 + v16;
        if ( a5 > 0 )
        {
          v17 = a6;
          v29 = a5;
          do
          {
            if ( !v27 )
            {
              v18 = &v38[*(_DWORD *)(v15 + *v17)];
              *v18 += v30;
            }
            v19 = (_DWORD *)(v15 + *v17);
            if ( ((1 << v27) & v33[*v19 + 6]) != 0 )
            {
              v20 = *(_DWORD *)(a3[5][*v19] + 4 * v27);
              if ( v20 )
              {
                v21 = a7(a1, *(_DWORD *)((char *)v17 + a4 - (_DWORD)a6) + 4 * v37, v30, v20, 0);
                a3[8] = (_DWORD *)((char *)a3[8] + v21);
                v22 = &v39[*(_DWORD *)(v15 + *v17)];
                *v22 += v21;
              }
            }
            ++v17;
            --v29;
          }
          while ( v29 );
          v7 = v35;
          v9 = v32;
          v16 = v34;
        }
        ++v9;
        v16 += v30;
        v15 += 4;
        v23 = ++v26 < v7;
        v32 = v9;
        v34 = v16;
        if ( !v23 )
          goto LABEL_27;
      }
    }
LABEL_28:
    ;
  }
  return 0;
}

//----- (00482520) --------------------------------------------------------
int __cdecl sub_482520(_DWORD *a1, _DWORD *a2, int a3, int a4, int a5)
{
  int v5; // esi
  int v6; // ebx
  _DWORD *v7; // ecx
  _DWORD *v8; // eax

  v5 = a5;
  v6 = 0;
  if ( a5 <= 0 )
    return 0;
  v7 = (_DWORD *)a3;
  v8 = (_DWORD *)a3;
  do
  {
    if ( *(_DWORD *)((char *)v8 + a4 - a3) )
    {
      ++v6;
      *v7++ = *v8;
    }
    ++v8;
    --v5;
  }
  while ( v5 );
  if ( v6 )
    return sub_482580(a1, a2, a3, v6);
  else
    return 0;
}

//----- (00482580) --------------------------------------------------------
int __cdecl sub_482580(_DWORD *a1, _DWORD *a2, int a3, int a4)
{
  _DWORD *v5; // ebx
  int v6; // edi
  int v7; // esi
  int result; // eax
  int v9; // ebx
  _DWORD *v10; // esi
  void *v11; // edi
  int v12; // edx
  int v13; // ecx
  int *v14; // ebp
  int v15; // edx
  int v16; // esi
  signed int v17; // ebx
  int v18; // edi
  int *v19; // ecx
  signed int v20; // eax
  __int64 v21; // rax
  int v22; // ecx
  int v23; // eax
  bool v24; // cc
  _DWORD *v25; // [esp+10h] [ebp-2Ch]
  int v26; // [esp+14h] [ebp-28h]
  int v27; // [esp+18h] [ebp-24h]
  int v28; // [esp+1Ch] [ebp-20h]
  int v29; // [esp+20h] [ebp-1Ch]
  int v30; // [esp+24h] [ebp-18h]
  int v31; // [esp+28h] [ebp-14h]
  int v32; // [esp+2Ch] [ebp-10h]
  int i; // [esp+30h] [ebp-Ch]
  float v34; // [esp+34h] [ebp-8h]
  int v35; // [esp+38h] [ebp-4h]
  int v36; // [esp+40h] [ebp+4h]
  int v37; // [esp+40h] [ebp+4h]

  v5 = (_DWORD *)*a2;
  v6 = a4;
  v35 = *(_DWORD *)(*a2 + 12);
  v25 = (_DWORD *)*a2;
  v26 = *(_DWORD *)(*a2 + 8);
  v7 = (*(_DWORD *)(*a2 + 4) - *(_DWORD *)*a2) / v26;
  v30 = v7;
  result = sub_478D60(a1, 4 * a4);
  v29 = result;
  if ( a4 > 0 )
  {
    v9 = 4 * v7;
    v10 = (_DWORD *)result;
    v36 = a4;
    do
    {
      v11 = (void *)sub_478D60(a1, v9);
      *v10 = v11;
      memset(v11, 0, v9);
      ++v10;
      --v36;
    }
    while ( v36 );
    v6 = a4;
    v5 = v25;
    result = v29;
    v7 = v30;
  }
  v12 = 0;
  v37 = 0;
  if ( v7 > 0 )
  {
    v31 = 0;
    do
    {
      v13 = v12 + *v5;
      v32 = v13;
      if ( v6 > 0 )
      {
        v14 = (int *)result;
        v15 = a3 - result;
        v28 = v6;
        for ( i = a3 - result; ; v15 = i )
        {
          v16 = v26;
          v17 = 0;
          v18 = 0;
          v27 = 0;
          if ( v26 > 0 )
          {
            v19 = (int *)(*(int *)((char *)v14 + v15) + 4 * v13);
            do
            {
              v20 = abs32(*v19);
              if ( v20 > v17 )
                v17 = v20;
              v18 += v20;
              ++v19;
              --v16;
            }
            while ( v16 );
            v27 = v18;
          }
          v34 = 100.0 / (double)v26;
          v21 = (__int64)((double)v27 * v34);
          v22 = 0;
          if ( v35 - 1 > 0 )
          {
            HIDWORD(v21) = v25 + 646;
            do
            {
              if ( v17 <= *(_DWORD *)(HIDWORD(v21) - 256)
                && ((int)*(_DWORD *)HIDWORD(v21) < 0 || (int)v21 < *(_DWORD *)HIDWORD(v21)) )
              {
                break;
              }
              ++v22;
              HIDWORD(v21) += 4;
            }
            while ( v22 < v35 - 1 );
          }
          v23 = *v14++;
          *(_DWORD *)(v23 + 4 * v37) = v22;
          if ( !--v28 )
            break;
          v13 = v32;
        }
        v6 = a4;
        v5 = v25;
        result = v29;
        v7 = v30;
        v12 = v31;
      }
      v12 += v26;
      v24 = ++v37 < v7;
      v31 = v12;
    }
    while ( v24 );
  }
  ++a2[10];
  return result;
}

//----- (00482730) --------------------------------------------------------
int __cdecl sub_482730(_DWORD *a1, int a2, int a3, int a4, int a5)
{
  int v5; // esi
  int v6; // ebx
  _DWORD *v7; // ecx
  _DWORD *v8; // eax

  v5 = a5;
  v6 = 0;
  if ( a5 <= 0 )
    return 0;
  v7 = (_DWORD *)a3;
  v8 = (_DWORD *)a3;
  do
  {
    if ( *(_DWORD *)((char *)v8 + a4 - a3) )
    {
      ++v6;
      *v7++ = *v8;
    }
    ++v8;
    --v5;
  }
  while ( v5 );
  if ( v6 )
    return sub_481CF0(a1, a2, a3, v6, (int (__cdecl *)(int, int, _DWORD *, int))sub_47D650);
  else
    return 0;
}

//----- (00482790) --------------------------------------------------------
_DWORD *__cdecl sub_482790(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, int a5)
{
  int v5; // edx
  int v7; // ecx

  v5 = 0;
  if ( a5 <= 0 )
    return 0;
  v7 = a5;
  do
  {
    if ( *a4 )
      ++v5;
    ++a4;
    --v7;
  }
  while ( v7 );
  if ( v5 )
    return sub_4827D0(a1, a2, a3, a5);
  else
    return 0;
}

//----- (004827D0) --------------------------------------------------------
_DWORD *__cdecl sub_4827D0(_DWORD *a1, _DWORD *a2, _DWORD *a3, int a4)
{
  _DWORD *v4; // ebp
  int v5; // ebx
  void *v6; // edi
  int v7; // esi
  signed int v8; // ebx
  int v9; // edi
  signed int v10; // eax
  _DWORD *v11; // esi
  int v12; // ebp
  int *v13; // ecx
  int v14; // eax
  signed int *v15; // ecx
  signed int v17; // [esp+10h] [ebp-24h]
  _DWORD *v18; // [esp+14h] [ebp-20h]
  int v19; // [esp+18h] [ebp-1Ch]
  int v20; // [esp+1Ch] [ebp-18h]
  int v21; // [esp+20h] [ebp-14h]
  _DWORD *v22; // [esp+28h] [ebp-Ch]
  int v23; // [esp+2Ch] [ebp-8h]
  int v24; // [esp+30h] [ebp-4h]
  int v25; // [esp+38h] [ebp+4h]

  v4 = (_DWORD *)*a2;
  v23 = *(_DWORD *)(*a2 + 12);
  v22 = (_DWORD *)*a2;
  v20 = *(_DWORD *)(*a2 + 8);
  v5 = (v4[1] - *v4) / v20;
  v24 = v5;
  v18 = (_DWORD *)sub_478D60(a1, 4);
  v6 = (void *)sub_478D60(a1, 4 * v5);
  v7 = a4;
  *v18 = v6;
  memset(v6, 0, 4 * ((unsigned int)(4 * v5) >> 2));
  v21 = 0;
  v25 = *v4 / a4;
  if ( v5 > 0 )
  {
    do
    {
      v8 = 0;
      v17 = 0;
      v19 = 0;
      if ( v20 > 0 )
      {
        v9 = 4 * v25;
        do
        {
          v10 = abs32(*(_DWORD *)(v9 + *a3));
          if ( v10 > v17 )
            v17 = v10;
          if ( v7 > 1 )
          {
            v11 = a3 + 1;
            v12 = a4 - 1;
            do
            {
              v13 = (int *)(*v11 + v9);
              if ( (int)abs32(*v13) > v8 )
                v8 = abs32(*v13);
              ++v11;
              --v12;
            }
            while ( v12 );
            v4 = v22;
            v7 = a4;
          }
          ++v25;
          v9 += 4;
          v19 += v7;
        }
        while ( v19 < v20 );
      }
      v14 = 0;
      if ( v23 - 1 > 0 )
      {
        v15 = v4 + 646;
        do
        {
          if ( v17 <= *(v15 - 64) && v8 <= *v15 )
            break;
          ++v14;
          ++v15;
        }
        while ( v14 < v23 - 1 );
      }
      ++v21;
      *(_DWORD *)(*v18 + 4 * v21 - 4) = v14;
    }
    while ( v21 < v24 );
  }
  ++a2[10];
  return v18;
}

//----- (00482960) --------------------------------------------------------
int __cdecl sub_482960(int a1, _DWORD *a2, _DWORD **a3, int a4, _DWORD *a5, int a6, _DWORD *a7)
{
  int v7; // esi
  int v8; // edi
  int v9; // eax
  int v10; // ecx
  _DWORD *v11; // edx
  int v12; // ebx
  int *v13; // eax
  int v14; // ecx
  int v15; // esi
  int v16; // edx
  int v17; // ebx
  int v19; // [esp+8h] [ebp-Ch]
  int v20; // [esp+Ch] [ebp-8h]
  int v21; // [esp+10h] [ebp-4h] BYREF
  int v22; // [esp+24h] [ebp+10h]

  v7 = a6;
  v19 = 0;
  v8 = a2[9] / 2;
  v9 = sub_478D60(a2, 4 * a6 * v8);
  v10 = 0;
  v21 = v9;
  v20 = 0;
  if ( a6 <= 0 )
    return 0;
  v11 = a5;
  v12 = a4 - (_DWORD)a5;
  v22 = a4 - (_DWORD)a5;
  do
  {
    v13 = *(int **)((char *)v11 + v12);
    if ( *v11 )
      ++v19;
    if ( v8 > 0 )
    {
      v14 = 4 * v10;
      v15 = 4 * v7;
      v16 = v8;
      do
      {
        v17 = *v13++;
        *(_DWORD *)(v14 + v21) = v17;
        v14 += v15;
        --v16;
      }
      while ( v16 );
      v7 = a6;
      v10 = v20;
      v11 = a5;
      v12 = v22;
    }
    ++v10;
    ++v11;
    v20 = v10;
    a5 = v11;
  }
  while ( v10 < v7 );
  if ( v19 )
    return sub_4822B0(a1, (int)a2, a3, (int)&v21, 1, a7, (int (__cdecl *)(int, int, int, int, _DWORD))sub_481F90);
  else
    return 0;
}

//----- (00482A50) --------------------------------------------------------
int __cdecl sub_482A50(_DWORD *a1, int *a2, int a3, _DWORD *a4, int a5)
{
  int *v5; // esi
  _DWORD *v6; // ebx
  int v7; // ebp
  int v8; // eax
  int v9; // eax
  int i; // eax
  int v12; // eax
  int v13; // eax
  int v14; // edi
  int v15; // esi
  int v16; // eax
  int *v17; // eax
  int v19; // [esp+10h] [ebp-14h]
  _DWORD *v20; // [esp+14h] [ebp-10h]
  int v21; // [esp+18h] [ebp-Ch]
  int v22; // [esp+1Ch] [ebp-8h]
  int v23; // [esp+20h] [ebp-4h]
  int v24; // [esp+34h] [ebp+10h]

  v5 = a2;
  v6 = (_DWORD *)*a2;
  v7 = *(_DWORD *)(*a2 + 8);
  v21 = *(_DWORD *)a2[4];
  v8 = (a5 * a1[9]) >> 1;
  if ( *(_DWORD *)(*a2 + 4) < v8 )
    v8 = v6[1];
  v9 = v8 - *v6;
  if ( v9 > 0 )
  {
    v22 = v9 / v7;
    v23 = sub_478D60(a1, 4 * ((v9 / v7 + v21 - 1) / v21));
    for ( i = 0; i < a5; ++a4 )
    {
      if ( *a4 )
        break;
      ++i;
    }
    if ( i != a5 )
    {
      v19 = 0;
      if ( a2[2] > 0 )
      {
        while ( 1 )
        {
          v24 = 0;
          if ( v22 > 0 )
            break;
LABEL_24:
          if ( ++v19 >= v5[2] )
            return 0;
        }
        v20 = (_DWORD *)v23;
        while ( 1 )
        {
          if ( !v19 )
          {
            v12 = sub_47D310((_DWORD *)v5[4], a1 + 1);
            if ( v12 == -1 )
              break;
            if ( v12 >= v6[4] )
              break;
            v13 = *(_DWORD *)(v5[7] + 4 * v12);
            *v20 = v13;
            if ( !v13 )
              break;
          }
          v14 = 0;
          if ( v21 > 0 )
          {
            v15 = v7 * v24;
            do
            {
              if ( v24 >= v22 )
                break;
              v16 = *(_DWORD *)(*v20 + 4 * v14);
              if ( ((1 << v19) & v6[v16 + 6]) != 0 )
              {
                v17 = *(int **)(*(_DWORD *)(a2[5] + 4 * v16) + 4 * v19);
                if ( v17 )
                {
                  if ( sub_47DBA0(v17, a3, v15 + *v6, a5, a1 + 1, v7) == -1 )
                    return 0;
                }
              }
              ++v14;
              v15 += v7;
              ++v24;
            }
            while ( v14 < v21 );
            v5 = a2;
          }
          ++v20;
          if ( v24 >= v22 )
            goto LABEL_24;
        }
      }
    }
  }
  return 0;
}

//----- (00482C10) --------------------------------------------------------
void __cdecl sub_482C10(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0x460u);
    free(Block);
  }
}

//----- (00482C30) --------------------------------------------------------
void __cdecl sub_482C30(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0x520u);
    free(Block);
  }
}

//----- (00482C50) --------------------------------------------------------
int __cdecl sub_482C50(int *a1, int a2)
{
  int *v2; // ebp
  int v4; // esi
  int *v5; // ebx
  int v6; // eax
  int *v7; // esi
  int v8; // ebx
  int *v9; // ebp
  bool v10; // zf
  int v11; // eax
  int result; // eax
  int *v13; // ebx
  int v14; // esi
  bool v15; // cc
  int v16; // [esp+10h] [ebp-Ch]
  int v17; // [esp+14h] [ebp-8h]
  int v18; // [esp+18h] [ebp-4h]
  int v19; // [esp+18h] [ebp-4h]
  _DWORD *v20; // [esp+20h] [ebp+4h]
  int v21; // [esp+24h] [ebp+8h]
  int *v22; // [esp+24h] [ebp+8h]
  int v23; // [esp+24h] [ebp+8h]

  v2 = a1;
  v16 = 0;
  v18 = a1[210];
  v4 = -1;
  sub_488E00(a2, *a1, 5u);
  v21 = 0;
  if ( *a1 > 0 )
  {
    v5 = a1 + 1;
    do
    {
      sub_488E00(a2, *v5, 4u);
      if ( v4 < *v5 )
        v4 = *v5;
      ++v5;
      ++v21;
    }
    while ( v21 < *a1 );
  }
  v6 = v4 + 1;
  if ( v4 + 1 > 0 )
  {
    v7 = a1 + 48;
    v22 = a1 + 80;
    v17 = v6;
    do
    {
      sub_488E00(a2, *(v7 - 16) - 1, 3u);
      sub_488E00(a2, *v7, 2u);
      if ( *v7 )
        sub_488E00(a2, v7[16], 8u);
      v8 = 0;
      if ( 1 << *v7 > 0 )
      {
        v9 = v22;
        do
        {
          sub_488E00(a2, *v9 + 1, 8u);
          ++v8;
          ++v9;
        }
        while ( v8 < 1 << *v7 );
        v2 = a1;
      }
      ++v7;
      v10 = v17 == 1;
      v22 += 8;
      --v17;
    }
    while ( !v10 );
  }
  sub_488E00(a2, v2[208] - 1, 2u);
  v11 = sub_482E10(v18);
  sub_488E00(a2, v11, 4u);
  v19 = sub_482E10(v18);
  result = 0;
  v23 = 0;
  if ( *v2 > 0 )
  {
    v20 = v2 + 1;
    do
    {
      v16 += v2[*v20 + 32];
      if ( result < v16 )
      {
        v13 = &v2[result + 211];
        v14 = v16 - result;
        do
        {
          sub_488E00(a2, *v13++, v19);
          --v14;
        }
        while ( v14 );
        result = v16;
      }
      v15 = ++v23 < *v2;
      ++v20;
    }
    while ( v15 );
  }
  return result;
}

//----- (00482E10) --------------------------------------------------------
int __cdecl sub_482E10(int a1)
{
  int result; // eax
  unsigned int v2; // ecx

  result = 0;
  if ( a1 )
  {
    v2 = a1 - 1;
    if ( a1 != 1 )
    {
      do
      {
        ++result;
        v2 >>= 1;
      }
      while ( v2 );
    }
  }
  return result;
}

//----- (00482E30) --------------------------------------------------------
_DWORD *__cdecl sub_482E30(int a1, _DWORD *a2)
{
  int v2; // edi
  _DWORD *v3; // esi
  int v4; // eax
  int *v5; // ebx
  int v6; // eax
  int v7; // edi
  int *v8; // eax
  int *v9; // esi
  int v10; // eax
  int v11; // ebx
  int *v12; // edi
  int v13; // eax
  bool v14; // cc
  int v15; // edi
  int v16; // ebx
  _DWORD *v17; // edx
  int *v18; // esi
  int v19; // eax
  _DWORD *v20; // eax
  signed int v21; // esi
  char *v22; // ecx
  int v23; // edx
  int v24; // eax
  char *i; // ecx
  int v27; // [esp+10h] [ebp-11Ch]
  int *v28; // [esp+10h] [ebp-11Ch]
  _DWORD *v29; // [esp+10h] [ebp-11Ch]
  _DWORD *v30; // [esp+14h] [ebp-118h]
  int v31; // [esp+18h] [ebp-114h]
  int v32; // [esp+18h] [ebp-114h]
  int v33; // [esp+1Ch] [ebp-110h]
  int v34; // [esp+20h] [ebp-10Ch]
  int v35; // [esp+24h] [ebp-108h]
  char Base[4]; // [esp+28h] [ebp-104h] BYREF
  char v37; // [esp+2Ch] [ebp-100h] BYREF

  v2 = 0;
  v34 = *(_DWORD *)(a1 + 28);
  v33 = 0;
  v27 = -1;
  v3 = calloc(1u, 0x460u);
  v30 = v3;
  v4 = sub_4890C0(a2, 5u);
  *v3 = v4;
  if ( v4 > 0 )
  {
    v5 = v3 + 1;
    do
    {
      v6 = sub_4890C0(a2, 4u);
      *v5 = v6;
      if ( v6 < 0 )
        goto LABEL_41;
      if ( v27 < v6 )
        v27 = v6;
      ++v2;
      ++v5;
    }
    while ( v2 < *v3 );
  }
  v31 = 0;
  v7 = v27 + 1;
  v35 = v27 + 1;
  if ( v27 + 1 > 0 )
  {
    v8 = v3 + 80;
    v9 = v3 + 64;
    v28 = v8;
    while ( 1 )
    {
      *(v9 - 32) = sub_4890C0(a2, 3u) + 1;
      v10 = sub_4890C0(a2, 2u);
      *(v9 - 16) = v10;
      if ( v10 < 0 )
        break;
      if ( v10 )
        *v9 = sub_4890C0(a2, 8u);
      if ( *v9 < 0 || *v9 >= *(_DWORD *)(v34 + 24) )
        break;
      v11 = 0;
      if ( 1 << *(v9 - 16) > 0 )
      {
        v12 = v28;
        while ( 1 )
        {
          v13 = sub_4890C0(a2, 8u) - 1;
          *v12 = v13;
          if ( v13 < -1 || v13 >= *(_DWORD *)(v34 + 24) )
            goto LABEL_40;
          ++v11;
          ++v12;
          if ( v11 >= 1 << *(v9 - 16) )
          {
            v7 = v35;
            break;
          }
        }
      }
      ++v9;
      v14 = ++v31 < v7;
      v28 += 8;
      if ( !v14 )
      {
        v3 = v30;
        goto LABEL_22;
      }
    }
LABEL_40:
    v3 = v30;
    goto LABEL_41;
  }
LABEL_22:
  v3[208] = sub_4890C0(a2, 2u) + 1;
  v15 = sub_4890C0(a2, 4u);
  v16 = 0;
  if ( v15 >= 0 )
  {
    v17 = v30;
    v32 = 0;
    if ( (int)*v30 <= 0 )
    {
LABEL_32:
      v20 = v17 + 209;
      v17[209] = 0;
      v17[210] = 1 << v15;
      v21 = v33 + 2;
      if ( v33 + 2 > 0 )
      {
        v22 = Base;
        v23 = v33 + 2;
        do
        {
          *(_DWORD *)v22 = v20++;
          v22 += 4;
          --v23;
        }
        while ( v23 );
      }
      qsort(Base, v21, 4u, (_CoreCrtNonSecureSearchSortCompareFunction)sub_4830F0);
      v24 = 1;
      if ( v21 <= 1 )
        return v30;
      for ( i = &v37; **((_DWORD **)i - 1) != **(_DWORD **)i; i += 4 )
      {
        if ( ++v24 >= v21 )
          return v30;
      }
    }
    else
    {
      v29 = v30 + 1;
      while ( 1 )
      {
        v33 += v17[*v29 + 32];
        if ( v33 > 63 )
          break;
        if ( v16 < v33 )
        {
          v18 = &v30[v16 + 211];
          do
          {
            v19 = sub_4890C0(a2, v15);
            *v18 = v19;
            if ( v19 < 0 || v19 >= 1 << v15 )
              goto LABEL_40;
            ++v16;
            ++v18;
          }
          while ( v16 < v33 );
        }
        v14 = ++v32 < *v30;
        ++v29;
        v17 = v30;
        if ( !v14 )
          goto LABEL_32;
      }
    }
    goto LABEL_40;
  }
LABEL_41:
  sub_482C10(v3);
  return 0;
}
// 482E30:  char Base[4]

//----- (004830F0) --------------------------------------------------------
int __cdecl sub_4830F0(_DWORD **a1, _DWORD **a2)
{
  return **a1 - **a2;
}

//----- (00483110) --------------------------------------------------------
_DWORD *__cdecl sub_483110(int a1, int *a2)
{
  _DWORD *v2; // ebp
  int v3; // esi
  int v4; // ecx
  int *v5; // eax
  int v6; // edx
  signed int v7; // esi
  char *v8; // ecx
  _DWORD *v9; // eax
  signed int v10; // edx
  char *v11; // eax
  _DWORD *v12; // ecx
  signed int v13; // edx
  int v14; // ebx
  signed int v15; // eax
  int *v16; // ecx
  int v17; // edx
  _DWORD *v18; // eax
  signed int v19; // ecx
  int v20; // edx
  int *v21; // eax
  int v22; // edx
  int v23; // ebx
  int v24; // esi
  int v25; // edi
  int v26; // ecx
  int v27; // eax
  int *v29; // [esp+10h] [ebp-120h]
  int *v30; // [esp+14h] [ebp-11Ch]
  int v31; // [esp+18h] [ebp-118h]
  int v32; // [esp+1Ch] [ebp-114h]
  int *v33; // [esp+20h] [ebp-110h]
  _DWORD *v34; // [esp+24h] [ebp-10Ch]
  int v35; // [esp+28h] [ebp-108h]
  char Base[260]; // [esp+2Ch] [ebp-104h] BYREF

  v2 = calloc(1u, 0x520u);
  v3 = 0;
  v2[324] = a2;
  v2[322] = a2[210];
  v4 = *a2;
  v34 = v2;
  if ( *a2 > 0 )
  {
    v5 = a2 + 1;
    do
    {
      v6 = *v5++;
      v3 += a2[v6 + 32];
      --v4;
    }
    while ( v4 );
  }
  v7 = v3 + 2;
  v2[321] = v7;
  if ( v7 > 0 )
  {
    v8 = Base;
    v9 = a2 + 209;
    v10 = v7;
    do
    {
      *(_DWORD *)v8 = v9++;
      v8 += 4;
      --v10;
    }
    while ( v10 );
  }
  qsort(Base, v7, 4u, (_CoreCrtNonSecureSearchSortCompareFunction)sub_4830F0);
  if ( v7 > 0 )
  {
    v11 = Base;
    v12 = v2 + 65;
    v13 = v7;
    do
    {
      v14 = *(_DWORD *)v11;
      v11 += 4;
      *v12++ = (v14 - (int)a2 - 836) >> 2;
      --v13;
    }
    while ( v13 );
  }
  v15 = 0;
  if ( v7 > 0 )
  {
    v16 = v2 + 65;
    do
    {
      v17 = *v16++;
      v2[v17 + 130] = v15++;
    }
    while ( v15 < v7 );
    v18 = v2;
    v19 = v7;
    do
    {
      v20 = v18[65];
      ++v18;
      --v19;
      *(v18 - 1) = a2[v20 + 209];
    }
    while ( v19 );
  }
  switch ( a2[208] )
  {
    case 1:
      v2[323] = 256;
      break;
    case 2:
      v2[323] = 128;
      break;
    case 3:
      v2[323] = 86;
      break;
    case 4:
      v2[323] = 64;
      break;
    default:
      break;
  }
  v35 = v7 - 2;
  if ( v7 - 2 > 0 )
  {
    v21 = v2 + 195;
    v22 = 2;
    v33 = v2 + 195;
    v30 = a2 + 211;
    do
    {
      v23 = 0;
      v31 = v2[322];
      v24 = 0;
      v25 = 1;
      v32 = *v30;
      v26 = 0;
      if ( v22 > 0 )
      {
        v29 = a2 + 209;
        do
        {
          v27 = *v29;
          if ( *v29 > v24 && v27 < v32 )
          {
            v23 = v26;
            v24 = *v29;
          }
          if ( v27 < v31 && v27 > v32 )
          {
            v25 = v26;
            v31 = *v29;
          }
          ++v26;
          ++v29;
        }
        while ( v26 < v22 );
        v2 = v34;
        v21 = v33;
      }
      v21[63] = v23;
      *v21++ = v25;
      ++v22;
      ++v30;
      v33 = v21;
    }
    while ( v22 - 2 < v35 );
  }
  return v2;
}
// 4831E5: conditional instruction was optimized away because esi.4>=1

//----- (00483330) --------------------------------------------------------
int *__cdecl sub_483330(_DWORD *a1, int *a2, int a3, int a4)
{
  signed int v4; // esi
  float *v5; // ebx
  int *v6; // ebp
  bool v7; // zf
  int v8; // eax
  int v9; // eax
  int *v10; // esi
  int *v11; // edi
  int v12; // edx
  int v13; // eax
  int v14; // esi
  int v15; // edx
  int v16; // edi
  int v17; // ebp
  int v18; // eax
  int v19; // edi
  int v20; // eax
  int v21; // edx
  int v22; // ecx
  int v23; // ebp
  int v24; // edi
  int v25; // eax
  int v26; // edx
  int v27; // eax
  int *v28; // ecx
  int v29; // eax
  int *v30; // ecx
  bool v31; // cc
  _DWORD *v32; // esi
  int v33; // eax
  int v34; // ebp
  int v35; // edi
  int v36; // eax
  int v38; // [esp+10h] [ebp-134Ch]
  int v39; // [esp+10h] [ebp-134Ch]
  int *v40; // [esp+10h] [ebp-134Ch]
  int v41; // [esp+14h] [ebp-1348h]
  int *v42; // [esp+14h] [ebp-1348h]
  int *v43; // [esp+14h] [ebp-1348h]
  int v44; // [esp+18h] [ebp-1344h] BYREF
  int v45; // [esp+1Ch] [ebp-1340h]
  int v46; // [esp+20h] [ebp-133Ch]
  int v47; // [esp+24h] [ebp-1338h]
  int v48; // [esp+28h] [ebp-1334h] BYREF
  int v49; // [esp+2Ch] [ebp-1330h] BYREF
  int v50; // [esp+30h] [ebp-132Ch]
  int v51; // [esp+34h] [ebp-1328h] BYREF
  int v52; // [esp+38h] [ebp-1324h] BYREF
  int v53; // [esp+3Ch] [ebp-1320h] BYREF
  int v54; // [esp+40h] [ebp-131Ch]
  int v55; // [esp+44h] [ebp-1318h]
  int v56; // [esp+48h] [ebp-1314h] BYREF
  int v57; // [esp+4Ch] [ebp-1310h]
  int v58[63]; // [esp+50h] [ebp-130Ch]
  int v59[65]; // [esp+14Ch] [ebp-1210h] BYREF
  int v60[65]; // [esp+250h] [ebp-110Ch] BYREF
  int v61[65]; // [esp+354h] [ebp-1008h] BYREF
  int v62[65]; // [esp+458h] [ebp-F04h] BYREF
  int v63[896]; // [esp+55Ch] [ebp-E00h] BYREF

  v4 = a2[321];
  v5 = (float *)a2[324];
  v6 = 0;
  v41 = a2[322];
  v47 = v4;
  v38 = 0;
  if ( v4 > 0 )
    memset32(v59, -200, v4);
  v7 = v4 == 0;
  if ( v4 > 0 )
  {
    memset32(&v56, -200, v4);
    memset(v61, 0, 4 * v4);
    memset32(v60, 1, v4);
    memset(v62, 0xFFu, 4 * v4);
    v7 = v4 == 0;
  }
  if ( v7 )
  {
    v8 = sub_483880(a4, a3, 0, v41, v63, v41, (int)v5);
  }
  else
  {
    v9 = v4 - 1;
    if ( v4 - 1 <= 0 )
      return v6;
    v10 = a2;
    v11 = v63;
    v46 = v9;
    do
    {
      v12 = sub_483880(a4, a3, *v10, v10[1], v11, v41, (int)v5) + v38;
      v11 += 14;
      ++v10;
      v7 = v46 == 1;
      v38 = v12;
      --v46;
    }
    while ( !v7 );
    v4 = v47;
    v8 = v12;
  }
  if ( v8 )
  {
    v52 = -200;
    v53 = -200;
    sub_483A50(v63, v4 - 1, &v52, &v53, (int)v5);
    v59[0] = v52;
    v56 = v52;
    v57 = v53;
    v59[1] = v53;
    v45 = 2;
    if ( v4 > 2 )
    {
      v39 = 0;
      v42 = a2 + 132;
      do
      {
        v46 = *v42;
        v13 = v61[v46];
        v14 = v60[v46];
        v55 = v13;
        if ( v62[v13] != v14 )
        {
          v15 = LODWORD(v5[v14 + 209]);
          v62[v13] = v14;
          v16 = a2[v13 + 130];
          v17 = a2[v14 + 130];
          v48 = LODWORD(v5[v13 + 209]);
          v44 = v15;
          v50 = sub_483F00((int)v59, (int)&v56, v13);
          v18 = sub_483F00((int)v59, (int)&v56, v14);
          v54 = v18;
          if ( v50 == -1 || v18 == -1 )
            exit(1);
          if ( !sub_483CD0(v48, v44, v50, v18, a4, a3, v5) )
            goto LABEL_41;
          v49 = -200;
          v48 = -200;
          v51 = -200;
          v44 = -200;
          v19 = sub_483A50(&v63[14 * v16], v46 - v16, &v49, &v48, (int)v5);
          v20 = sub_483A50(&v63[14 * v46], v17 - v46, &v51, &v44, (int)v5);
          v21 = v51;
          if ( v19 )
          {
            v49 = v50;
            v22 = v51;
          }
          else
          {
            v22 = v48;
          }
          if ( v20 )
          {
            v23 = v54;
            v21 = v22;
          }
          else
          {
            v23 = v44;
          }
          if ( v19 && v20 )
          {
LABEL_41:
            v59[v39 + 2] = -200;
            v58[v39] = -200;
          }
          else
          {
            v24 = v55;
            v25 = v49;
            v7 = v55 == 0;
            *(&v56 + v55) = v49;
            if ( v7 )
              v59[0] = v25;
            v59[v39 + 2] = v22;
            v58[v39] = v21;
            v59[v14] = v23;
            if ( v14 == 1 )
              v57 = v23;
            if ( v22 >= 0 || v21 >= 0 )
            {
              v26 = v46;
              v27 = v46 - 1;
              if ( v46 - 1 >= 0 )
              {
                v28 = &v60[v27];
                do
                {
                  if ( *v28 != v14 )
                    break;
                  --v27;
                  *v28-- = v45;
                }
                while ( v27 >= 0 );
              }
              v29 = v26 + 1;
              if ( v26 + 1 < v47 )
              {
                v30 = &v61[v29];
                do
                {
                  if ( *v30 != v24 )
                    break;
                  ++v29;
                  *v30++ = v45;
                }
                while ( v29 < v47 );
              }
            }
          }
        }
        v31 = ++v45 < v47;
        ++v42;
        ++v39;
      }
      while ( v31 );
      v4 = v47;
    }
    v6 = (int *)sub_478D60(a1, 4 * v4);
    v44 = (int)v6;
    *v6 = sub_483F00((int)v59, (int)&v56, 0);
    v6[1] = sub_483F00((int)v59, (int)&v56, 1);
    v45 = 2;
    if ( v4 > 2 )
    {
      v40 = v6 + 2;
      v43 = (int *)(v5 + 211);
      v32 = a2 + 195;
      do
      {
        v33 = sub_483830(LODWORD(v5[v32[63] + 209]), LODWORD(v5[*v32 + 209]), v6[v32[63]], v6[*v32], *v43);
        v34 = v45;
        v35 = v33;
        v36 = sub_483F00((int)v59, (int)&v56, v45);
        if ( v36 < 0 || v35 == v36 )
          *v40 = v35 | 0x8000;
        else
          *v40 = v36;
        ++v32;
        v45 = v34 + 1;
        v31 = v34 + 1 < v47;
        v6 = (int *)v44;
        ++v43;
        ++v40;
      }
      while ( v31 );
    }
  }
  return v6;
}
// 48338A: conditional instruction was optimized away because esi.4>=1
// 48339B: conditional instruction was optimized away because esi.4>=1
// 4833AD: conditional instruction was optimized away because esi.4>=1
// 483330:  int var_1008[65]
// 483330:  int var_110C[65]
// 483330:  int var_F04[65]
// 483330:  int var_E00[896]

//----- (00483830) --------------------------------------------------------
int __cdecl sub_483830(int a1, int a2, __int16 a3, __int16 a4, int a5)
{
  int v5; // esi
  int v6; // eax

  v5 = a3 & 0x7FFF;
  v6 = (int)((a5 - a1) * abs32((a4 & 0x7FFF) - v5)) / (a2 - a1);
  if ( (a4 & 0x7FFF) - v5 >= 0 )
    return v6 + v5;
  else
    return v5 - v6;
}

//----- (00483880) --------------------------------------------------------
int __cdecl sub_483880(int a1, int a2, int a3, int a4, _DWORD *a5, int a6, int a7)
{
  int v8; // eax
  int v9; // edi
  int v10; // ebx
  int v11; // ebp
  int v12; // ecx
  int v14; // [esp+10h] [ebp-28h]
  int v15; // [esp+14h] [ebp-24h]
  int v16; // [esp+18h] [ebp-20h]
  int v17; // [esp+1Ch] [ebp-1Ch]
  int v18; // [esp+20h] [ebp-18h]
  int v19; // [esp+24h] [ebp-14h]
  int v20; // [esp+28h] [ebp-10h]
  int v21; // [esp+2Ch] [ebp-Ch]
  int v22; // [esp+30h] [ebp-8h]
  int v23; // [esp+34h] [ebp-4h]
  float *v24; // [esp+4Ch] [ebp+14h]

  memset(a5, 0, 0x38u);
  v8 = a4;
  v9 = a3;
  v10 = 0;
  v11 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  v22 = 0;
  v23 = 0;
  *a5 = a3;
  a5[1] = a4;
  if ( a4 >= a6 )
  {
    a4 = a6 - 1;
    v8 = a6 - 1;
  }
  if ( a3 <= v8 )
  {
    v24 = (float *)(a1 + 4 * a3);
    do
    {
      v12 = sub_483A20(v24);
      if ( v12 )
      {
        if ( *(float *)((char *)v24 + a2 - a1) + *(float *)(a7 + 1112) < *v24 )
        {
          v11 += v9;
          v19 += v12;
          v20 += v9 * v9;
          v21 += v12 * v12;
          v22 += v9 * v12;
          ++v23;
        }
        else
        {
          v15 += v12;
          v14 += v9;
          v16 += v9 * v9;
          v17 += v12 * v12;
          v18 += v9 * v12;
          ++v10;
        }
      }
      ++v9;
      ++v24;
    }
    while ( v9 <= a4 );
  }
  a5[2] = v14;
  a5[3] = v15;
  a5[4] = v16;
  a5[5] = v17;
  a5[6] = v18;
  a5[9] = v19;
  a5[10] = v20;
  a5[7] = v10;
  a5[8] = v11;
  a5[11] = v21;
  a5[12] = v22;
  a5[13] = v23;
  return v10;
}

//----- (00483A20) --------------------------------------------------------
int __cdecl sub_483A20(float *a1)
{
  __int64 v1; // rax

  v1 = (__int64)(*a1 * 7.3142858 + 1023.5);
  if ( (int)v1 <= 1023 )
    return (int)v1 < 0 ? 0 : v1;
  else
    return 1023;
}

//----- (00483A50) --------------------------------------------------------
int __cdecl sub_483A50(int *a1, int a2, int *a3, int *a4, int a5)
{
  double v5; // st7
  double v6; // st6
  double v7; // st5
  double v8; // st4
  double v9; // st3
  int v10; // ebx
  int v11; // edx
  _DWORD *v12; // eax
  int v13; // esi
  double v14; // st2
  int v16; // [esp+18h] [ebp-28h]
  int v17; // [esp+1Ch] [ebp-24h]
  double v18; // [esp+20h] [ebp-20h]
  double v19; // [esp+28h] [ebp-18h]
  int v20; // [esp+28h] [ebp-18h]
  int v21; // [esp+30h] [ebp-10h]
  double v22; // [esp+30h] [ebp-10h]
  double v23; // [esp+38h] [ebp-8h]
  double v24; // [esp+38h] [ebp-8h]

  v5 = 0.0;
  v6 = 0.0;
  v7 = 0.0;
  v8 = 0.0;
  v9 = 0.0;
  v10 = *a1;
  v19 = 0.0;
  v11 = a1[14 * a2 - 13];
  v23 = 0.0;
  v17 = *a1;
  v16 = v11;
  if ( a2 > 0 )
  {
    v12 = a1 + 8;
    v13 = a2;
    do
    {
      v21 = v12[5];
      v20 = *(v12 - 1);
      v12 += 14;
      --v13;
      v14 = (double)(v20 + v21) * *(float *)(a5 + 1108) / (double)(v20 + 1) + 1.0;
      v5 = v5 + (double)(int)*(v12 - 20) * v14 + (double)(int)*(v12 - 14);
      v6 = v6 + (double)(int)*(v12 - 19) * v14 + (double)(int)*(v12 - 13);
      v7 = v7 + (double)(int)*(v12 - 18) * v14 + (double)(int)*(v12 - 12);
      v8 = v8 + (double)(int)*(v12 - 17) * v14 + (double)(int)*(v12 - 11);
      v9 = v9 + (double)(int)*(v12 - 16) * v14 + (double)(int)*(v12 - 10);
      v23 = (double)v20 * v14 + (double)v21 + v23;
    }
    while ( v13 );
    v19 = v9;
    v11 = a1[14 * a2 - 13];
  }
  if ( *a3 >= 0 )
  {
    v5 = v5 + (double)v17;
    v6 = v6 + (double)*a3;
    v7 = v7 + (double)(v10 * v10);
    v19 = (double)(v10 * *a3) + v19;
    v23 = v23 + 1.0;
  }
  if ( *a4 >= 0 )
  {
    v5 = v5 + (double)v16;
    v6 = v6 + (double)*a4;
    v7 = v7 + (double)(v11 * v11);
    v19 = (double)(v11 * *a4) + v19;
    v23 = v23 + 1.0;
  }
  v22 = v23 * v7 - v5 * v5;
  if ( v22 <= 0.0 )
  {
    *a3 = 0;
    *a4 = 0;
    return 1;
  }
  else
  {
    v18 = (v7 * v6 - v19 * v5) / v22;
    v24 = (v23 * v19 - v6 * v5) / v22;
    *a3 = (__int64)floor((double)v17 * v24 + v18 + 0.5);
    *a4 = (__int64)floor((double)v16 * v24 + v18 + 0.5);
    if ( *a3 > 1023 )
      *a3 = 1023;
    if ( *a4 > 1023 )
      *a4 = 1023;
    if ( *a3 < 0 )
      *a3 = 0;
    if ( *a4 < 0 )
      *a4 = 0;
    return 0;
  }
}

//----- (00483CD0) --------------------------------------------------------
BOOL __cdecl sub_483CD0(int a1, int a2, int a3, int a4, int a5, int a6, float *a7)
{
  unsigned int v8; // ebx
  int v9; // eax
  int v10; // eax
  float *v11; // edi
  float *v12; // ecx
  int v13; // ebx
  double v14; // st7
  double v15; // st6
  int v17; // ebp
  float *v18; // esi
  int v19; // eax
  int v20; // eax
  int v21; // ecx
  double v22; // st7
  double v23; // st6
  int v24; // [esp+10h] [ebp-18h]
  int v25; // [esp+14h] [ebp-14h]
  int v26; // [esp+18h] [ebp-10h]
  int v27; // [esp+1Ch] [ebp-Ch]
  int v28; // [esp+20h] [ebp-8h]
  unsigned int v29; // [esp+24h] [ebp-4h]
  int v30; // [esp+2Ch] [ebp+4h]
  float v31; // [esp+30h] [ebp+8h]
  int v32; // [esp+38h] [ebp+10h]

  v8 = abs32(a4 - a3);
  v26 = a2 - a1;
  v9 = (a4 - a3) / (a2 - a1);
  v28 = v9;
  if ( a4 - a3 >= 0 )
    v10 = v9 + 1;
  else
    v10 = v9 - 1;
  v27 = v10;
  v32 = a3;
  v24 = 0;
  v11 = (float *)(a5 + 4 * a1);
  v25 = sub_483A20(v11);
  v12 = a7;
  v29 = v8 - abs32(v26 * v28);
  v13 = (a3 - v25) * (a3 - v25);
  v30 = 1;
  if ( *(float *)(a6 + 4 * a1) + a7[278] >= *v11 )
  {
    v14 = (double)a3;
    v15 = (double)v25;
    if ( v14 + a7[274] < v15 )
      return 1;
    if ( v14 - a7[275] > v15 )
      return 1;
  }
  v17 = a1 + 1;
  if ( v17 < a2 )
  {
    v18 = (float *)(a5 + 4 * v17);
    while ( 1 )
    {
      v19 = v29 + v24;
      v24 += v29;
      if ( v24 < v26 )
      {
        v20 = v28 + v32;
      }
      else
      {
        v24 = v19 - v26;
        v20 = v27 + v32;
      }
      v32 = v20;
      v21 = sub_483A20(v18);
      v13 += (v32 - v21) * (v32 - v21);
      ++v30;
      if ( *(float *)((char *)v18 + a6 - a5) + a7[278] >= *v18 )
      {
        if ( v21 )
        {
          v22 = (double)v32;
          v23 = (double)v21;
          if ( v22 + a7[274] < v23 )
            return 1;
          if ( v22 - a7[275] > v23 )
            return 1;
        }
      }
      ++v17;
      ++v18;
      if ( v17 >= a2 )
      {
        v12 = a7;
        break;
      }
    }
  }
  v31 = (float)v30;
  return v12[274] * v12[274] / v31 <= v12[276]
      && v12[275] * v12[275] / v31 <= v12[276]
      && (double)(v13 / v30) > v12[276];
}

//----- (00483F00) --------------------------------------------------------
int __cdecl sub_483F00(int a1, int a2, int a3)
{
  int result; // eax
  int v4; // ecx

  result = *(_DWORD *)(a1 + 4 * a3);
  if ( result < 0 )
    return *(_DWORD *)(a2 + 4 * a3);
  v4 = *(_DWORD *)(a2 + 4 * a3);
  if ( v4 >= 0 )
    return (v4 + result) >> 1;
  return result;
}

//----- (00483F30) --------------------------------------------------------
int __cdecl sub_483F30(_DWORD *a1, int a2, int a3, _DWORD *a4, int a5)
{
  int v5; // ebp
  int result; // eax
  int v7; // esi
  _DWORD *v8; // ecx
  int v9; // edi
  int v10; // edx

  v5 = *(_DWORD *)(a2 + 1284);
  result = 0;
  if ( a3 )
  {
    if ( a4 )
    {
      result = sub_478D60(a1, 4 * v5);
      if ( v5 > 0 )
      {
        v7 = a3 - (_DWORD)a4;
        v8 = a4;
        v9 = result - (_DWORD)a4;
        do
        {
          v10 = ((0x10000 - a5) * (*(_DWORD *)((char *)v8 + v7) & 0x7FFF) + a5 * (*v8 & 0x7FFF) + 0x8000) >> 16;
          *(_DWORD *)((char *)v8 + v9) = v10;
          if ( (BYTE1(*(_DWORD *)((char *)v8 + v7)) & 0x80u) != 0 && (BYTE1(*v8) & 0x80u) != 0 )
          {
            BYTE1(v10) |= 0x80u;
            *(_DWORD *)((char *)v8 + v9) = v10;
          }
          ++v8;
          --v5;
        }
        while ( v5 );
      }
    }
  }
  return result;
}

//----- (00483FE0) --------------------------------------------------------
int __cdecl sub_483FE0(int a1, _DWORD *a2, _DWORD *a3, int *a4, char *a5)
{
  _DWORD *v5; // ecx
  int *v6; // ebp
  int v7; // edx
  int *v8; // ebx
  int v9; // ecx
  int *v10; // ebx
  int *v11; // eax
  int v12; // esi
  int v13; // edi
  int v14; // eax
  int v15; // ecx
  int v16; // edx
  int v17; // ecx
  int v18; // ecx
  bool v19; // zf
  _DWORD *v20; // edi
  int v21; // edx
  unsigned int v22; // eax
  int v23; // eax
  int v24; // eax
  int v25; // ebx
  int v26; // ecx
  int v27; // esi
  char *v28; // edx
  int *v29; // eax
  int *v30; // ebx
  int *v31; // edi
  int v32; // eax
  char *v33; // edx
  int v34; // edx
  int v35; // eax
  int *v36; // esi
  int *v37; // ebx
  int v38; // eax
  int v39; // eax
  bool v40; // cc
  int v41; // edi
  int v42; // ecx
  int v43; // kr0C_4
  _DWORD *v44; // eax
  int v45; // esi
  int v46; // esi
  int *v47; // esi
  unsigned int v49; // [esp-14h] [ebp-190h]
  int *v50; // [esp+Ch] [ebp-170h]
  int v51; // [esp+Ch] [ebp-170h]
  int v52; // [esp+Ch] [ebp-170h]
  int v53; // [esp+10h] [ebp-16Ch]
  char *v54; // [esp+10h] [ebp-16Ch]
  int *v55; // [esp+10h] [ebp-16Ch]
  int v56; // [esp+14h] [ebp-168h]
  int v57; // [esp+14h] [ebp-168h]
  int v58; // [esp+14h] [ebp-168h]
  int *v59; // [esp+18h] [ebp-164h]
  int v60; // [esp+18h] [ebp-164h]
  int v61; // [esp+1Ch] [ebp-160h]
  int v62; // [esp+1Ch] [ebp-160h]
  int v63; // [esp+1Ch] [ebp-160h]
  int v64; // [esp+20h] [ebp-15Ch]
  int v65; // [esp+20h] [ebp-15Ch]
  _DWORD *v66; // [esp+24h] [ebp-158h]
  int v67; // [esp+24h] [ebp-158h]
  int v68; // [esp+28h] [ebp-154h]
  _DWORD *v69; // [esp+28h] [ebp-154h]
  int v70; // [esp+2Ch] [ebp-150h]
  int v71; // [esp+2Ch] [ebp-150h]
  int v72; // [esp+30h] [ebp-14Ch]
  int v73[8]; // [esp+38h] [ebp-144h] BYREF
  char v74[32]; // [esp+58h] [ebp-124h] BYREF
  int v75; // [esp+78h] [ebp-104h] BYREF
  int v76; // [esp+7Ch] [ebp-100h]

  v5 = a3;
  v6 = (int *)a3[324];
  v7 = a3[321];
  v50 = v6;
  v61 = v7;
  v68 = *(_DWORD *)(*(_DWORD *)(a2[16] + 4) + 28);
  v72 = *(_DWORD *)(v68 + 2848);
  if ( a4 )
  {
    if ( v7 > 0 )
    {
      v8 = a4;
      v53 = a3[321];
      do
      {
        v9 = *v8 & 0x7FFF;
        switch ( v6[208] )
        {
          case 1:
            v9 >>= 2;
            break;
          case 2:
            v9 >>= 3;
            break;
          case 3:
            v9 /= 12;
            v7 = v61;
            break;
          case 4:
            v9 >>= 4;
            break;
          default:
            break;
        }
        *v8 = v9 | *v8 & 0x8000;
        ++v8;
        --v53;
      }
      while ( v53 );
      v5 = a3;
    }
    v75 = *a4;
    v76 = a4[1];
    if ( v7 > 2 )
    {
      v10 = a4 + 2;
      v59 = v6 + 211;
      v11 = v5 + 195;
      v66 = v5 + 195;
      v54 = (char *)((char *)&v75 - (char *)a4);
      v64 = v7 - 2;
      do
      {
        v12 = v11[63];
        v13 = *v11;
        v14 = sub_483830(v6[v12 + 209], v6[v13 + 209], a4[v12], a4[v13], *v59);
        v15 = *v10;
        if ( (BYTE1(*v10) & 0x80u) != 0 || v14 == v15 )
        {
          BYTE1(v14) |= 0x80u;
          *v10 = v14;
          *(int *)((char *)v10 + (_DWORD)v54) = 0;
        }
        else
        {
          v16 = a3[323] - v14;
          if ( v16 >= v14 )
            v16 = v14;
          v17 = v15 - v14;
          if ( v17 >= 0 )
          {
            if ( v17 < v16 )
              v18 = 2 * v17;
            else
              v18 = v16 + v17;
          }
          else if ( v17 >= -v16 )
          {
            v18 = -1 - 2 * v17;
          }
          else
          {
            v18 = v16 - v17 - 1;
          }
          *(int *)((char *)v10 + (_DWORD)v54) = v18;
          a4[v12] &= 0x7FFFu;
          a4[v13] &= 0x7FFFu;
        }
        v6 = v50;
        v11 = v66 + 1;
        ++v10;
        v19 = v64 == 1;
        ++v66;
        ++v59;
        --v64;
      }
      while ( !v19 );
    }
    sub_488E00(a1, 1, 1u);
    v20 = a3;
    v49 = a3[323] - 1;
    ++a3[327];
    v21 = 2 * sub_47C5B0(v49) + a3[326];
    v22 = a3[323] - 1;
    a3[326] = v21;
    v23 = sub_47C5B0(v22);
    sub_488E00(a1, v75, v23);
    v24 = sub_47C5B0(a3[323] - 1);
    sub_488E00(a1, v76, v24);
    v62 = 0;
    v51 = 2;
    if ( *v6 > 0 )
    {
      v55 = v6 + 1;
      do
      {
        v25 = *v55;
        v70 = v25;
        memset(v73, 0, sizeof(v73));
        v26 = v6[v25 + 48];
        v27 = 1 << v26;
        v60 = v6[v25 + 32];
        v67 = 0;
        v65 = 0;
        if ( v26 )
        {
          if ( v27 > 0 )
          {
            v28 = v74;
            v29 = &v6[8 * v25 + 80];
            v56 = 1 << v26;
            do
            {
              if ( *v29 >= 0 )
              {
                v20 = a3;
                *(_DWORD *)v28 = *(_DWORD *)(*(_DWORD *)(v68 + 4 * *v29 + 1824) + 4);
              }
              else
              {
                *(_DWORD *)v28 = 1;
              }
              ++v29;
              v28 += 4;
              --v56;
            }
            while ( v56 );
          }
          if ( v60 > 0 )
          {
            v30 = v73;
            v57 = v60;
            v31 = &v75 + v51;
            do
            {
              v32 = 0;
              if ( v27 > 0 )
              {
                v33 = v74;
                while ( *v31 >= *(_DWORD *)v33 )
                {
                  ++v32;
                  v33 += 4;
                  if ( v32 >= v27 )
                    goto LABEL_44;
                }
                *v30 = v32;
              }
LABEL_44:
              ++v31;
              v34 = *v30++ << v65;
              v67 |= v34;
              v19 = v57 == 1;
              v65 += v26;
              --v57;
            }
            while ( !v19 );
            v20 = a3;
            v25 = v70;
          }
          v20[325] += sub_47D2C0(v72 + 56 * v6[v25 + 64], v67, a1);
        }
        v35 = v60;
        if ( v60 > 0 )
        {
          v36 = v73;
          v71 = 8 * v25 + 80;
          v58 = v60;
          v37 = &v75 + v51;
          do
          {
            v38 = v6[v71 + *v36];
            if ( v38 >= 0 )
            {
              v39 = v72 + 56 * v38;
              if ( *v37 < *(_DWORD *)(v39 + 4) )
                v20[326] += sub_47D2C0(v39, *v37, a1);
            }
            ++v36;
            ++v37;
            --v58;
          }
          while ( v58 );
          v35 = v60;
        }
        v51 += v35;
        v40 = ++v62 < *v6;
        ++v55;
      }
      while ( v40 );
    }
    v41 = 0;
    v42 = *a4 * v6[208];
    v63 = 0;
    v43 = *(_DWORD *)(v68 + 4 * a2[7]);
    v52 = 1;
    if ( (int)a3[321] > 1 )
    {
      v44 = a3 + 66;
      v69 = a3 + 66;
      do
      {
        v45 = a4[*v44];
        if ( (v45 & 0x7FFF) == v45 )
        {
          v41 = v6[*v44 + 209];
          v46 = (v45 & 0x7FFF) * v6[208];
          sub_4845C0(v43 / 2, v63, v41, v42, v46, (int)a5);
          v63 = v41;
          v42 = v46;
        }
        v44 = v69 + 1;
        ++v52;
        ++v69;
      }
      while ( v52 < a3[321] );
    }
    if ( v41 < a2[9] / 2 )
    {
      v47 = (int *)&a5[4 * v41];
      do
      {
        *v47 = v42;
        ++v41;
        ++v47;
      }
      while ( v41 < a2[9] / 2 );
    }
    return 1;
  }
  else
  {
    sub_488E00(a1, 0, 1u);
    memset(a5, 0, 4 * (a2[9] / 2));
    return 0;
  }
}

//----- (004845C0) --------------------------------------------------------
int __cdecl sub_4845C0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi
  unsigned int v7; // edi
  int v8; // eax
  int v9; // ecx
  int v10; // ebx
  unsigned int v11; // edi
  int result; // eax
  int v13; // edx
  _DWORD *v14; // ebp
  int v15; // edx
  int v16; // [esp+10h] [ebp-4h]
  int v17; // [esp+28h] [ebp+14h]

  v6 = a3 - a2;
  v7 = abs32(a5 - a4);
  v8 = (a5 - a4) / (a3 - a2);
  v16 = v8;
  if ( a5 - a4 >= 0 )
    v17 = v8 + 1;
  else
    v17 = v8 - 1;
  v9 = a4;
  v10 = 0;
  v11 = v7 - abs32(v6 * v8);
  result = a1;
  if ( a1 > a3 )
    result = a3;
  if ( a2 < result )
  {
    *(_DWORD *)(a6 + 4 * a2) = a4;
    v10 = 0;
  }
  v13 = a2 + 1;
  if ( a2 + 1 < result )
  {
    v14 = (_DWORD *)(a6 + 4 * v13);
    result -= v13;
    do
    {
      v10 += v11;
      if ( v10 < v6 )
      {
        v15 = v16;
      }
      else
      {
        v15 = v17;
        v10 -= v6;
      }
      v9 += v15;
      *v14++ = v9;
      --result;
    }
    while ( result );
  }
  return result;
}

//----- (00484670) --------------------------------------------------------
int *__cdecl sub_484670(_DWORD *a1, _DWORD *a2)
{
  _DWORD *v2; // ebx
  int *v3; // edi
  _DWORD *v4; // esi
  int *v5; // ebp
  int v6; // eax
  int v7; // eax
  int v8; // ebx
  int v9; // esi
  int v10; // ecx
  int v11; // edx
  int v12; // ebp
  int v13; // ebp
  int *v14; // esi
  int v15; // eax
  int v16; // eax
  int v17; // eax
  bool v18; // cc
  _DWORD *v19; // esi
  int v20; // eax
  int v21; // ecx
  int v23; // [esp+10h] [ebp-24h]
  int v24; // [esp+10h] [ebp-24h]
  int *v25; // [esp+14h] [ebp-20h]
  int *v26; // [esp+14h] [ebp-20h]
  int *v27; // [esp+18h] [ebp-1Ch]
  int v28; // [esp+1Ch] [ebp-18h]
  int v29; // [esp+20h] [ebp-14h]
  char v30; // [esp+24h] [ebp-10h]
  int v31; // [esp+28h] [ebp-Ch]
  int *v32; // [esp+2Ch] [ebp-8h]
  int v33; // [esp+2Ch] [ebp-8h]
  int v34; // [esp+30h] [ebp-4h]
  int v35; // [esp+38h] [ebp+4h]
  int v36; // [esp+38h] [ebp+4h]
  int *v37; // [esp+3Ch] [ebp+8h]

  v2 = a2;
  v3 = (int *)a2[324];
  v4 = a1 + 1;
  v27 = a1 + 1;
  v28 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1[16] + 4) + 28) + 2848);
  if ( sub_4890C0(a1 + 1, 1u) != 1 )
    return 0;
  v5 = (int *)sub_478D60(a1, 4 * a2[321]);
  v32 = v5;
  v6 = sub_47C5B0(a2[323] - 1);
  *v5 = sub_4890C0(v4, v6);
  v7 = sub_47C5B0(a2[323] - 1);
  v5[1] = sub_4890C0(v4, v7);
  v35 = 0;
  v23 = 2;
  if ( *v3 > 0 )
  {
    v25 = v3 + 1;
    do
    {
      v8 = 0;
      v9 = *v25;
      v10 = v3[*v25 + 48];
      v11 = v3[*v25 + 32];
      v12 = 1 << v10;
      v29 = v11;
      v30 = v10;
      if ( v10 )
      {
        v8 = sub_47D310((_DWORD *)(v28 + 56 * v3[v9 + 64]), v27);
        if ( v8 == -1 )
          return 0;
        v11 = v29;
        LOBYTE(v10) = v30;
      }
      v31 = 0;
      if ( v11 > 0 )
      {
        v34 = v12 - 1;
        v13 = 8 * v9 + 80;
        v14 = &v32[v23];
        do
        {
          v15 = v13 + (v8 & v34);
          v8 >>= v10;
          v16 = v3[v15];
          if ( v16 < 0 )
          {
            *v14 = 0;
          }
          else
          {
            v17 = sub_47D310((_DWORD *)(v28 + 56 * v16), v27);
            *v14 = v17;
            if ( v17 == -1 )
              return 0;
            v11 = v29;
            LOBYTE(v10) = v30;
          }
          ++v14;
          ++v31;
        }
        while ( v31 < v11 );
      }
      v18 = v35 + 1 < *v3;
      v23 += v11;
      ++v35;
      ++v25;
    }
    while ( v18 );
    v2 = a2;
    v5 = v32;
  }
  v36 = 2;
  if ( (int)v2[321] > 2 )
  {
    v37 = v5 + 2;
    v19 = v2 + 195;
    v26 = v3 + 211;
    do
    {
      v20 = sub_483830(v3[v19[63] + 209], v3[*v19 + 209], v5[v19[63]], v5[*v19], *v26);
      v21 = v2[323] - v20;
      v33 = v21;
      if ( v21 >= v20 )
        v33 = v20;
      v24 = *v37;
      if ( *v37 )
      {
        if ( v24 < 2 * v33 )
        {
          if ( (v24 & 1) != 0 )
            v21 = -((v24 + 1) >> 1);
          else
            v21 = v24 >> 1;
        }
        else if ( v21 <= v20 )
        {
          LOWORD(v21) = v21 - v24 - 1;
        }
        else
        {
          LOWORD(v21) = v24 - v20;
        }
        *v37 = ((_WORD)v20 + (_WORD)v21) & 0x7FFF;
        v5[v19[63]] &= 0x7FFFu;
        v5[*v19] &= 0x7FFFu;
      }
      else
      {
        BYTE1(v20) |= 0x80u;
        *v37 = v20;
      }
      ++v19;
      ++v26;
      v18 = ++v36 < v2[321];
      ++v37;
    }
    while ( v18 );
  }
  return v5;
}

//----- (00484970) --------------------------------------------------------
int __cdecl sub_484970(int a1, _DWORD *a2, _DWORD *a3, char *a4)
{
  int v4; // edi
  int v5; // ebp
  __int64 v6; // rax
  int v7; // ebx
  _DWORD *v8; // eax
  int v9; // ebx
  int v10; // ecx
  int v11; // esi
  int v12; // esi
  int v13; // ebx
  float *v14; // eax
  double v15; // st7
  int result; // eax
  int v17; // [esp+10h] [ebp-8h]
  int v18; // [esp+14h] [ebp-4h]
  _DWORD *v19; // [esp+1Ch] [ebp+4h]

  v4 = 0;
  v5 = a2[324];
  v6 = *(int *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 64) + 4) + 28) + 4 * *(_DWORD *)(a1 + 28));
  v7 = v6 - HIDWORD(v6);
  v8 = a3;
  v9 = v7 >> 1;
  if ( a3 )
  {
    v17 = 0;
    v10 = *a3 * *(_DWORD *)(v5 + 832);
    if ( v10 >= 0 )
    {
      if ( v10 > 255 )
        v10 = 255;
    }
    else
    {
      v10 = 0;
    }
    v18 = 1;
    if ( (int)a2[321] > 1 )
    {
      v19 = a2 + 66;
      while ( 1 )
      {
        v11 = v8[*v19];
        if ( (v11 & 0x7FFF) == v11 )
        {
          v4 = *(_DWORD *)(v5 + 4 * *v19 + 836);
          v12 = (v11 & 0x7FFF) * *(_DWORD *)(v5 + 832);
          if ( v12 >= 0 )
          {
            if ( v12 > 255 )
              v12 = 255;
          }
          else
          {
            v12 = 0;
          }
          sub_484AB0(v9, v17, v4, v10, v12, (int)a4);
          v17 = v4;
          v10 = v12;
        }
        ++v19;
        if ( ++v18 >= a2[321] )
          break;
        v8 = a3;
      }
    }
    if ( v4 < v9 )
    {
      v13 = v9 - v4;
      v14 = (float *)&a4[4 * v4];
      do
      {
        v15 = flt_4A41A8[v10] * *v14++;
        --v13;
        *(v14 - 1) = v15;
      }
      while ( v13 );
    }
    return 1;
  }
  else
  {
    result = 0;
    memset(a4, 0, 4 * v9);
  }
  return result;
}
// 4A41A8:  float flt_4A41A8[256]

//----- (00484AB0) --------------------------------------------------------
int __cdecl sub_484AB0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v7; // esi
  unsigned int v8; // ebx
  int v9; // edi
  unsigned int v10; // ebx
  int result; // eax
  int v12; // ecx
  float *v13; // edi
  float *v14; // edx
  int v15; // ecx
  double v16; // st7
  int v17; // [esp+18h] [ebp+8h]
  int v18; // [esp+1Ch] [ebp+Ch]
  int v19; // [esp+24h] [ebp+14h]

  v7 = a3 - a2;
  v8 = abs32(a5 - a4);
  v9 = (a5 - a4) / (a3 - a2);
  if ( a5 - a4 >= 0 )
    v18 = v9 + 1;
  else
    v18 = v9 - 1;
  v19 = 0;
  v10 = v8 - abs32(v7 * v9);
  result = a1;
  if ( a1 > a3 )
    result = a3;
  if ( a2 < result )
    *(float *)(a6 + 4 * a2) = flt_4A41A8[a4] * *(float *)(a6 + 4 * a2);
  v12 = a2 + 1;
  if ( a2 + 1 < result )
  {
    v17 = 4 * v9;
    result -= v12;
    v13 = (float *)(a6 + 4 * v12);
    v14 = (float *)(4 * a4 + 4866472);
    do
    {
      v15 = v10 + v19;
      v19 += v10;
      if ( v19 < v7 )
      {
        v14 = (float *)((char *)v14 + v17);
      }
      else
      {
        v14 += v18;
        v19 = v15 - v7;
      }
      v16 = *v14 * *v13++;
      --result;
      *(v13 - 1) = v16;
    }
    while ( result );
  }
  return result;
}
// 4A41A8:  float flt_4A41A8[256]

//----- (00484B80) --------------------------------------------------------
void __cdecl sub_484B80(void *Block)
{
  if ( Block )
  {
    memset(Block, 0, 0x60u);
    free(Block);
  }
}

//----- (00484C00) --------------------------------------------------------
int *__cdecl sub_484C00(int a1, _DWORD *a2)
{
  int *v2; // esi
  int v3; // eax
  bool v4; // cc
  int v5; // ebp
  int *i; // ebx
  int v7; // eax
  int *v8; // eax
  int v10; // [esp+14h] [ebp+4h]

  v10 = *(_DWORD *)(a1 + 28);
  v2 = (int *)malloc(0x60u);
  *v2 = sub_4890C0(a2, 8u);
  v2[1] = sub_4890C0(a2, 0x10u);
  v2[2] = sub_4890C0(a2, 0x10u);
  v2[3] = sub_4890C0(a2, 6u);
  v2[4] = sub_4890C0(a2, 8u);
  v3 = sub_4890C0(a2, 4u) + 1;
  v4 = *v2 < 1;
  v2[5] = v3;
  if ( !v4 && v2[1] >= 1 && v2[2] >= 1 && v3 >= 1 )
  {
    v5 = 0;
    for ( i = v2 + 6; ; ++i )
    {
      v7 = sub_4890C0(a2, 8u);
      *i = v7;
      if ( v7 < 0 )
        break;
      if ( v7 >= *(_DWORD *)(v10 + 24) )
        break;
      v8 = *(int **)(v10 + 4 * v7 + 1824);
      if ( !v8[3] || *v8 < 1 )
        break;
      if ( ++v5 >= v2[5] )
        return v2;
    }
  }
  sub_484B80(v2);
  return 0;
}
// 484C7E: conditional instruction was optimized away because eax.4>=1

//----- (00484D10) --------------------------------------------------------
char *__cdecl sub_484D10(_DWORD *a1, int a2)
{
  int *v4; // ebx
  int v5; // edi
  int v6; // eax
  int v7; // eax
  _DWORD *v8; // edi
  char *v9; // ebp
  int v10; // ecx
  int i; // eax
  int v12; // edx
  float *v13; // ecx
  double v14; // st7
  char *result; // eax
  float v16; // [esp+14h] [ebp+4h]
  int v17; // [esp+18h] [ebp+8h]
  float v18; // [esp+18h] [ebp+8h]

  v4 = a1 + 1;
  v5 = *(_DWORD *)(a2 + 20);
  v17 = sub_4890C0(a1 + 1, *(_DWORD *)(v5 + 12));
  if ( v17 <= 0 )
    return 0;
  v16 = (double)v17 / (double)((1 << *(_DWORD *)(v5 + 12)) - 1) * (double)*(int *)(v5 + 16);
  v6 = sub_47C5B0(*(_DWORD *)(v5 + 20));
  v7 = sub_4890C0(v4, v6);
  if ( v7 == -1 )
    return 0;
  if ( v7 >= *(_DWORD *)(v5 + 20) )
    return 0;
  v18 = 0.0;
  v8 = (_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1[16] + 4) + 28) + 2848) + 56 * *(_DWORD *)(v5 + 4 * v7 + 24));
  v9 = (char *)sub_478D60(a1, 4 * (*(_DWORD *)(a2 + 4) + *v8) + 4);
  if ( sub_47D9F0(v8, v9, v4, *(_DWORD *)(a2 + 4)) == -1 )
    return 0;
  v10 = *(_DWORD *)(a2 + 4);
  for ( i = 0; i < v10; v18 = *(float *)&v9[4 * i - 4] )
  {
    v12 = 0;
    if ( i < v10 )
    {
      v13 = (float *)&v9[4 * i];
      do
      {
        if ( v12 >= *v8 )
          break;
        v14 = v18 + *v13;
        ++v12;
        ++i;
        *v13++ = v14;
      }
      while ( i < *(_DWORD *)(a2 + 4) );
    }
    v10 = *(_DWORD *)(a2 + 4);
  }
  result = v9;
  *(float *)&v9[4 * *(_DWORD *)(a2 + 4)] = v16;
  return result;
}

//----- (00484E30) --------------------------------------------------------
int __cdecl sub_484E30(int a1, int *a2, float *a3, void *a4)
{
  int v4; // edi
  float v6; // [esp+4h] [ebp-10h]

  v4 = a2[5];
  sub_484EB0(a1, v4, a2);
  if ( a3 )
  {
    v6 = (float)*(int *)(v4 + 16);
    sub_485010(
      (int)a4,
      *(_DWORD *)(a2[2] + 4 * *(_DWORD *)(a1 + 28)),
      (float *)a2[*(_DWORD *)(a1 + 28) + 3],
      *a2,
      a3,
      a2[1],
      a3[a2[1]],
      v6);
    return 1;
  }
  else
  {
    memset(a4, 0, 4 * a2[*(_DWORD *)(a1 + 28) + 3]);
    return 0;
  }
}

//----- (00484EB0) --------------------------------------------------------
int __cdecl sub_484EB0(int a1, int a2, int *a3)
{
  int result; // eax
  int v4; // ebx
  int v5; // esi
  double v6; // st7
  int v7; // ebx
  double v8; // st6
  __int64 v9; // rax
  int i; // [esp+18h] [ebp-10h]
  int v11; // [esp+1Ch] [ebp-Ch]
  float v12; // [esp+20h] [ebp-8h]
  float v13; // [esp+24h] [ebp-4h]

  result = a1;
  v4 = *(_DWORD *)(a1 + 28);
  v11 = v4;
  if ( !*(_DWORD *)(a3[2] + 4 * v4) )
  {
    v5 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 64) + 4) + 28) + 4 * v4) / 2;
    v6 = (double)*(int *)(a2 + 4) * 0.5;
    v13 = (double)*a3
        / (atan2(v6 * v6 * 0.0000000185, 1.0) * 2.240000009536743
         + atan2(v6 * 0.00073999999, 1.0) * 13.10000038146973
         + v6 * 0.000099999997);
    *(_DWORD *)(a3[2] + 4 * v4) = malloc(4 * v5 + 4);
    v7 = 0;
    for ( i = 0; v7 < v5; *(_DWORD *)(*(_DWORD *)(a3[2] + 4 * v11) + 4 * v7 - 4) = v9 )
    {
      v12 = (float)v5;
      v8 = (double)*(int *)(a2 + 4) * 0.5 / v12 * (double)i;
      v9 = (__int64)floor(
                      (atan2(v8 * v8 * 0.0000000185, 1.0) * 2.240000009536743
                     + atan2(v8 * 0.00073999999, 1.0) * 13.10000038146973
                     + v8 * 0.000099999997)
                    * v13);
      if ( (int)v9 >= *a3 )
        LODWORD(v9) = *a3 - 1;
      i = ++v7;
    }
    result = v11;
    *(_DWORD *)(*(_DWORD *)(a3[2] + 4 * v11) + 4 * v7) = -1;
    a3[v11 + 3] = v5;
  }
  return result;
}

//----- (00485010) --------------------------------------------------------
float *__cdecl sub_485010(int a1, int a2, float *a3, int a4, float *a5, unsigned int a6, float a7, float a8)
{
  int v8; // edx
  float *v9; // eax
  unsigned int v10; // ecx
  long double v11; // st7
  float *result; // eax
  int v13; // ecx
  int v15; // edi
  unsigned int v16; // esi
  double v17; // st7
  long double v18; // st6
  double v19; // st6
  float *v20; // edx
  double v21; // st5
  double v22; // st6
  long double v23; // st6
  double v26; // st7
  float v27; // [esp+0h] [ebp-4h]
  int v28; // [esp+Ch] [ebp+8h]
  int v29; // [esp+Ch] [ebp+8h]
  float v30; // [esp+14h] [ebp+10h]
  int v31; // [esp+14h] [ebp+10h]

  v8 = a6;
  v27 = 3.1415927 / (double)a4;
  if ( (int)a6 > 0 )
  {
    v9 = a5;
    v10 = a6;
    do
    {
      v11 = cos(*v9++);
      --v10;
      *(v9 - 1) = v11 + v11;
    }
    while ( v10 );
  }
  result = a3;
  v13 = 0;
  while ( v13 < (int)a3 )
  {
    v15 = *(_DWORD *)(a2 + 4 * v13);
    v16 = 1;
    v17 = 0.5;
    v30 = 0.5;
    v18 = cos((double)v15 * v27);
    *(float *)&v28 = v18 + v18;
    if ( v8 <= 1 )
    {
      v19 = 0.5;
    }
    else
    {
      v19 = 0.5;
      v20 = a5 + 1;
      result = (float *)(a6 >> 1);
      v16 = 2 * (a6 >> 1) + 1;
      do
      {
        v21 = *(float *)&v28 - *(v20 - 1);
        v20 += 2;
        result = (float *)((char *)result - 1);
        v17 = v17 * v21;
        v19 = v19 * (*(float *)&v28 - *(v20 - 2));
      }
      while ( result );
      v30 = v19;
      v8 = a6;
    }
    if ( v16 == v8 )
    {
      result = a5;
      v17 = v17 * (*(float *)&v28 - a5[v16 - 1]);
      *(float *)&v31 = (4.0 - *(float *)&v28 * *(float *)&v28) * v30 * v30;
      v22 = v17;
    }
    else
    {
      *(float *)&v31 = (2.0 - *(float *)&v28) * v19 * v19;
      v22 = (*(float *)&v28 + 2.0) * v17;
    }
    ++v13;
    v23 = (a7 / sqrt(v17 * v22 + *(float *)&v31) - a8) * 0.1151292473077774 * 1.442695040888963387;
    _ST5 = v23;
    __asm { frndint }
    *(float *)&v29 = __FSCALE__(__F2XM1__(v23 - _ST5) + 1.0, _ST5);
    *(float *)(a1 + 4 * v13 - 4) = *(float *)&v29 * *(float *)(a1 + 4 * v13 - 4);
    if ( *(_DWORD *)(a2 + 4 * v13) == v15 )
    {
      result = (float *)(a1 + 4 * v13);
      do
      {
        v26 = *(float *)&v29 * *result++;
        ++v13;
        *(result - 1) = v26;
      }
      while ( *(_DWORD *)((char *)result + a2 - a1) == v15 );
      v8 = a6;
    }
  }
  return result;
}

//----- (004881C0) --------------------------------------------------------
int __cdecl sub_4881C0(int a1)
{
  return *(unsigned __int8 *)(*(_DWORD *)a1 + 4);
}

//----- (004881D0) --------------------------------------------------------
int __cdecl sub_4881D0(int a1)
{
  return *(_BYTE *)(*(_DWORD *)a1 + 5) & 1;
}

//----- (004881E0) --------------------------------------------------------
int __cdecl sub_4881E0(int a1)
{
  return *(_BYTE *)(*(_DWORD *)a1 + 5) & 2;
}

//----- (004881F0) --------------------------------------------------------
int __cdecl sub_4881F0(int a1)
{
  return *(_BYTE *)(*(_DWORD *)a1 + 5) & 4;
}

//----- (00488200) --------------------------------------------------------
int __cdecl sub_488200(int a1)
{
  return *(unsigned __int8 *)(*(_DWORD *)a1 + 6) | (((((((((((((*(unsigned __int8 *)(*(_DWORD *)a1 + 13) << 8) | *(unsigned __int8 *)(*(_DWORD *)a1 + 12)) << 8) | *(unsigned __int8 *)(*(_DWORD *)a1 + 11)) << 8) | *(unsigned __int8 *)(*(_DWORD *)a1 + 10)) << 8) | *(unsigned __int8 *)(*(_DWORD *)a1 + 9)) << 8) | *(unsigned __int8 *)(*(_DWORD *)a1 + 8)) << 8) | *(unsigned __int8 *)(*(_DWORD *)a1 + 7)) << 8);
}

//----- (004882E0) --------------------------------------------------------
int __cdecl sub_4882E0(int a1)
{
  return *(unsigned __int8 *)(*(_DWORD *)a1 + 14) | ((*(unsigned __int8 *)(*(_DWORD *)a1 + 15) | (*(unsigned __int16 *)(*(_DWORD *)a1 + 16) << 8)) << 8);
}

//----- (00488310) --------------------------------------------------------
int __cdecl sub_488310(int a1)
{
  return *(unsigned __int8 *)(*(_DWORD *)a1 + 18) | ((*(unsigned __int8 *)(*(_DWORD *)a1 + 19) | (*(unsigned __int16 *)(*(_DWORD *)a1 + 20) << 8)) << 8);
}

//----- (00488340) --------------------------------------------------------
int __cdecl sub_488340(void **a1, void *a2)
{
  void *v2; // eax
  void *v3; // ecx
  void *v4; // eax
  bool v5; // zf
  int result; // eax

  if ( a1 )
  {
    memset(a1, 0, 0x168u);
    a1[1] = (void *)0x4000;
    a1[6] = (void *)1024;
    *a1 = malloc(0x4000u);
    v2 = malloc(4 * (_DWORD)a1[6]);
    v3 = a1[6];
    a1[4] = v2;
    v4 = malloc(8 * (_DWORD)v3);
    v5 = *a1 == 0;
    a1[5] = v4;
    if ( !v5 && a1[4] && v4 )
    {
      result = 0;
      a1[84] = a2;
      return result;
    }
    sub_4883E0(a1);
  }
  return -1;
}

//----- (004883C0) --------------------------------------------------------
int __cdecl sub_4883C0(_DWORD *a1)
{
  if ( a1 && *a1 )
    return 0;
  else
    return -1;
}

//----- (004883E0) --------------------------------------------------------
int __cdecl sub_4883E0(void **a1)
{
  if ( a1 )
  {
    if ( *a1 )
      free(*a1);
    if ( a1[4] )
      free(a1[4]);
    if ( a1[5] )
      free(a1[5]);
    memset(a1, 0, 0x168u);
  }
  return 0;
}

//----- (00488430) --------------------------------------------------------
unsigned int __usercall sub_488430@<eax>(unsigned int result@<eax>, _DWORD *a2)
{
  unsigned int v2; // eax
  int v3; // edi
  int i; // esi
  int v5; // edi
  int j; // esi

  if ( a2 )
  {
    v2 = 0;
    *(_BYTE *)(*a2 + 22) = 0;
    *(_BYTE *)(*a2 + 23) = 0;
    *(_BYTE *)(*a2 + 24) = 0;
    *(_BYTE *)(*a2 + 25) = 0;
    v3 = a2[1];
    for ( i = 0; i < v3; ++i )
      v2 = dword_4A98F0[HIBYTE(v2) ^ *(unsigned __int8 *)(i + *a2)] ^ (v2 << 8);
    v5 = a2[3];
    for ( j = 0; j < v5; ++j )
      v2 = dword_4A98F0[HIBYTE(v2) ^ *(unsigned __int8 *)(j + a2[2])] ^ (v2 << 8);
    *(_WORD *)(*a2 + 22) = v2;
    *(_BYTE *)(*a2 + 24) = BYTE2(v2);
    result = HIBYTE(v2);
    *(_BYTE *)(*a2 + 25) = result;
  }
  return result;
}
// 4A98F0:  int dword_4A98F0[256]

//----- (004884E0) --------------------------------------------------------
int __cdecl sub_4884E0(int a1, int a2)
{
  int v2; // eax
  void *v3; // eax
  int v5; // ecx

  v2 = *(_DWORD *)(a1 + 4);
  if ( v2 <= a2 + *(_DWORD *)(a1 + 8) )
  {
    v3 = realloc(*(void **)a1, v2 + a2 + 1024);
    if ( !v3 )
    {
      sub_4883E0((void **)a1);
      return -1;
    }
    v5 = *(_DWORD *)(a1 + 4);
    *(_DWORD *)a1 = v3;
    *(_DWORD *)(a1 + 4) = a2 + 1024 + v5;
  }
  return 0;
}

//----- (00488540) --------------------------------------------------------
int __cdecl sub_488540(int a1, int a2)
{
  int v2; // eax
  void *v3; // eax
  int v5; // edx
  void *v6; // eax

  v2 = *(_DWORD *)(a1 + 24);
  if ( v2 <= a2 + *(_DWORD *)(a1 + 28) )
  {
    v3 = realloc(*(void **)(a1 + 16), 4 * (a2 + v2) + 128);
    if ( !v3
      || (v5 = *(_DWORD *)(a1 + 24),
          *(_DWORD *)(a1 + 16) = v3,
          (v6 = realloc(*(void **)(a1 + 20), 8 * (v5 + a2) + 256)) == 0) )
    {
      sub_4883E0((void **)a1);
      return -1;
    }
    *(_DWORD *)(a1 + 20) = v6;
    *(_DWORD *)(a1 + 24) += a2 + 32;
  }
  return 0;
}

//----- (004885D0) --------------------------------------------------------
int __cdecl sub_4885D0(_DWORD *a1)
{
  if ( a1 )
  {
    a1[1] = -1;
    memset(a1, 0, 0x1Cu);
  }
  return 0;
}

//----- (004885F0) --------------------------------------------------------
int __cdecl sub_4885F0(void **a1)
{
  if ( a1 )
  {
    if ( *a1 )
      free(*a1);
    memset(a1, 0, 0x1Cu);
  }
  return 0;
}

//----- (00488620) --------------------------------------------------------
int __cdecl sub_488620(int a1)
{
  return (*(_DWORD *)(a1 + 4) >= 0) - 1;
}

//----- (00488630) --------------------------------------------------------
int __cdecl sub_488630(int a1, int a2)
{
  int v3; // eax
  signed int v4; // edx
  bool v5; // zf
  int v6; // eax
  size_t v7; // edi
  void *v8; // eax

  if ( sub_488620(a1) )
    return 0;
  v3 = *(_DWORD *)(a1 + 12);
  if ( v3 )
  {
    v4 = *(_DWORD *)(a1 + 8) - v3;
    v5 = *(_DWORD *)(a1 + 8) == v3;
    *(_DWORD *)(a1 + 8) = v4;
    if ( v4 >= 0 && !v5 )
      memcpy_0(*(void **)a1, (const void *)(*(_DWORD *)a1 + v3), v4);
    *(_DWORD *)(a1 + 12) = 0;
  }
  v6 = *(_DWORD *)(a1 + 8);
  if ( a2 > *(_DWORD *)(a1 + 4) - v6 )
  {
    v7 = v6 + a2 + 4096;
    if ( *(_DWORD *)a1 )
      v8 = realloc(*(void **)a1, v7);
    else
      v8 = malloc(v6 + a2 + 4096);
    if ( !v8 )
    {
      sub_4885F0((void **)a1);
      return 0;
    }
    *(_DWORD *)a1 = v8;
    *(_DWORD *)(a1 + 4) = v7;
  }
  return *(_DWORD *)a1 + *(_DWORD *)(a1 + 8);
}

//----- (004886D0) --------------------------------------------------------
int __cdecl sub_4886D0(int a1, int a2)
{
  int v3; // eax

  if ( sub_488620(a1) )
    return -1;
  v3 = a2 + *(_DWORD *)(a1 + 8);
  if ( v3 > *(_DWORD *)(a1 + 4) )
    return -1;
  *(_DWORD *)(a1 + 8) = v3;
  return 0;
}

//----- (00488710) --------------------------------------------------------
int __cdecl sub_488710(_DWORD *a1, int *a2)
{
  int v2; // eax
  int v3; // edi
  int v4; // ebx
  int result; // eax
  int v6; // ebp
  int v7; // eax
  int v8; // ebp
  int v9; // ecx
  char *v10; // ecx
  int v11; // eax
  int v12; // ecx
  int v13; // [esp+10h] [ebp-10h] BYREF
  int v14; // [esp+14h] [ebp-Ch]
  int v15; // [esp+18h] [ebp-8h]
  int v16; // [esp+1Ch] [ebp-4h]

  v2 = a1[3];
  v3 = v2 + *a1;
  v4 = a1[2] - v2;
  if ( sub_488620((int)a1) )
    return 0;
  if ( !a1[5] )
  {
    if ( v4 < 27 )
      return 0;
    if ( *(_DWORD *)v3 != *(_DWORD *)aOggs )
      goto LABEL_16;
    v6 = *(unsigned __int8 *)(v3 + 26) + 27;
    if ( v4 < v6 )
      return 0;
    v7 = 0;
    if ( *(_BYTE *)(v3 + 26) )
    {
      do
        a1[6] += *(unsigned __int8 *)(v3 + v7++ + 27);
      while ( v7 < *(unsigned __int8 *)(v3 + 26) );
    }
    a1[5] = v6;
  }
  if ( a1[6] + a1[5] > v4 )
    return 0;
  v8 = *(_DWORD *)(v3 + 22);
  *(_DWORD *)(v3 + 22) = 0;
  v9 = a1[6];
  v14 = a1[5];
  v13 = v3;
  v15 = v3 + v14;
  v16 = v9;
  sub_488430(v3 + v14, &v13);
  if ( v8 != *(_DWORD *)(v3 + 22) )
  {
    *(_DWORD *)(v3 + 22) = v8;
LABEL_16:
    a1[5] = 0;
    a1[6] = 0;
    v10 = (char *)memchr((const void *)(v3 + 1), 79, v4 - 1);
    if ( !v10 )
      v10 = (char *)(*a1 + a1[2]);
    a1[3] = &v10[-*a1];
    return v3 - (_DWORD)v10;
  }
  v11 = a1[3] + *a1;
  if ( a2 )
  {
    *a2 = v11;
    a2[1] = a1[5];
    a2[2] = v11 + a1[5];
    a2[3] = a1[6];
  }
  v12 = a1[3];
  result = a1[6] + a1[5];
  a1[4] = 0;
  a1[3] = result + v12;
  a1[5] = 0;
  a1[6] = 0;
  return result;
}

//----- (00488870) --------------------------------------------------------
int __cdecl sub_488870(int a1, int *a2)
{
  int v2; // ebp
  int v3; // ebx
  unsigned int v4; // esi
  int v5; // edx
  int v7; // eax
  int v8; // edi
  size_t v9; // ecx
  int v10; // eax
  int v11; // edi
  int v12; // edx
  int v13; // ecx
  int v14; // ecx
  int *v15; // eax
  int v16; // esi
  int v17; // eax
  int v18; // eax
  int v19; // edi
  int v20; // eax
  int v21; // edx
  int v22; // eax
  int v23; // ecx
  int v24; // esi
  _DWORD *v25; // ecx
  int v26; // ecx
  int v27; // eax
  int v28; // eax
  int v29; // edx
  int v30; // ecx
  unsigned int v31; // [esp+10h] [ebp-2Ch]
  char *v32; // [esp+14h] [ebp-28h]
  int v33; // [esp+18h] [ebp-24h]
  int v34; // [esp+1Ch] [ebp-20h]
  int v35; // [esp+20h] [ebp-1Ch]
  int v36; // [esp+24h] [ebp-18h]
  int v37; // [esp+28h] [ebp-14h]
  int v38; // [esp+2Ch] [ebp-10h]
  int v39; // [esp+30h] [ebp-Ch]
  int v40; // [esp+34h] [ebp-8h]
  int v41; // [esp+38h] [ebp-4h]
  int v42; // [esp+44h] [ebp+8h]

  v2 = 0;
  v3 = *a2;
  v4 = a2[3];
  v34 = *a2;
  v32 = (char *)a2[2];
  v31 = v4;
  v37 = sub_4881C0((int)a2);
  v38 = sub_4881D0((int)a2);
  v33 = sub_4881E0((int)a2);
  v39 = sub_4881F0((int)a2);
  v40 = sub_488200((int)a2);
  v41 = v5;
  v36 = sub_4882E0((int)a2);
  v35 = sub_488310((int)a2);
  v42 = *(unsigned __int8 *)(v3 + 26);
  if ( sub_4883C0((_DWORD *)a1) )
    return -1;
  v7 = *(_DWORD *)(a1 + 12);
  v8 = *(_DWORD *)(a1 + 36);
  if ( v7 )
  {
    v9 = *(_DWORD *)(a1 + 8) - v7;
    *(_DWORD *)(a1 + 8) = v9;
    if ( v9 )
      memcpy_0(*(void **)a1, (const void *)(*(_DWORD *)a1 + v7), v9);
    *(_DWORD *)(a1 + 12) = 0;
  }
  if ( v8 )
  {
    if ( *(_DWORD *)(a1 + 28) != v8 )
    {
      memcpy_0(
        *(void **)(a1 + 16),
        (const void *)(*(_DWORD *)(a1 + 16) + 4 * v8),
        4 * (*(_DWORD *)(a1 + 28) + 0x3FFFFFFF * v8));
      memcpy_0(
        *(void **)(a1 + 20),
        (const void *)(*(_DWORD *)(a1 + 20) + 8 * v8),
        8 * (*(_DWORD *)(a1 + 28) + 0x1FFFFFFF * v8));
    }
    v10 = *(_DWORD *)(a1 + 32) - v8;
    *(_DWORD *)(a1 + 28) -= v8;
    *(_DWORD *)(a1 + 32) = v10;
    *(_DWORD *)(a1 + 36) = 0;
  }
  if ( v36 != *(_DWORD *)(a1 + 336) )
    return -1;
  if ( v37 > 0 )
    return -1;
  if ( sub_488540(a1, v42 + 1) )
    return -1;
  v11 = *(_DWORD *)(a1 + 340);
  if ( v35 != v11 )
  {
    v12 = *(_DWORD *)(a1 + 32);
    v13 = *(_DWORD *)(a1 + 28);
    if ( v12 < v13 )
    {
      v14 = v13 - v12;
      v15 = (int *)(*(_DWORD *)(a1 + 16) + 4 * v12);
      do
      {
        v16 = *v15++;
        *(_DWORD *)(a1 + 8) -= (unsigned __int8)v16;
        --v14;
      }
      while ( v14 );
      v4 = v31;
    }
    *(_DWORD *)(a1 + 28) = v12;
    if ( v11 != -1 )
    {
      *(_DWORD *)(*(_DWORD *)(a1 + 16) + 4 * v12) = 1024;
      v17 = *(_DWORD *)(a1 + 32) + 1;
      ++*(_DWORD *)(a1 + 28);
      *(_DWORD *)(a1 + 32) = v17;
    }
  }
  if ( v38 && ((v18 = *(_DWORD *)(a1 + 28), v18 < 1) || *(_DWORD *)(*(_DWORD *)(a1 + 16) + 4 * v18 - 4) == 1024) )
  {
    v19 = v42;
    v33 = 0;
    if ( v42 > 0 )
    {
      while ( 1 )
      {
        v20 = *(unsigned __int8 *)(v34 + v2 + 27);
        v4 -= v20;
        v32 += v20;
        if ( v20 != 255 )
          break;
        if ( ++v2 >= v42 )
        {
          v31 = v4;
          goto LABEL_33;
        }
      }
      v31 = v4;
      ++v2;
    }
  }
  else
  {
    v19 = v42;
  }
LABEL_33:
  if ( v4 )
  {
    if ( sub_4884E0(a1, v4) )
      return -1;
    qmemcpy((void *)(*(_DWORD *)(a1 + 8) + *(_DWORD *)a1), v32, v4);
    v19 = v42;
    *(_DWORD *)(a1 + 8) += v31;
  }
  v21 = -1;
  if ( v2 < v19 )
  {
    do
    {
      v22 = *(unsigned __int8 *)(v34 + v2 + 27);
      *(_DWORD *)(*(_DWORD *)(a1 + 16) + 4 * *(_DWORD *)(a1 + 28)) = v22;
      v23 = *(_DWORD *)(a1 + 28);
      v24 = *(_DWORD *)(a1 + 20);
      *(_DWORD *)(v24 + 8 * v23) = -1;
      *(_DWORD *)(v24 + 8 * v23 + 4) = -1;
      if ( v33 )
      {
        v33 = 0;
        v25 = (_DWORD *)(*(_DWORD *)(a1 + 16) + 4 * *(_DWORD *)(a1 + 28));
        *v25 |= 0x100u;
      }
      if ( v22 < 255 )
        v21 = *(_DWORD *)(a1 + 28);
      v26 = *(_DWORD *)(a1 + 28) + 1;
      ++v2;
      *(_DWORD *)(a1 + 28) = v26;
      if ( v22 < 255 )
        *(_DWORD *)(a1 + 32) = v26;
    }
    while ( v2 < v19 );
    if ( v21 != -1 )
    {
      v27 = *(_DWORD *)(a1 + 20);
      *(_DWORD *)(v27 + 8 * v21) = v40;
      *(_DWORD *)(v27 + 8 * v21 + 4) = v41;
    }
  }
  if ( v39 )
  {
    v28 = *(_DWORD *)(a1 + 28);
    *(_DWORD *)(a1 + 328) = 1;
    if ( v28 > 0 )
    {
      v29 = *(_DWORD *)(a1 + 16);
      v30 = *(_DWORD *)(v29 + 4 * v28 - 4);
      BYTE1(v30) |= 2u;
      *(_DWORD *)(v29 + 4 * v28 - 4) = v30;
    }
  }
  *(_DWORD *)(a1 + 340) = v35 + 1;
  return 0;
}
// 4888C4: variable 'v5' is possibly undefined

//----- (00488BA0) --------------------------------------------------------
int __cdecl sub_488BA0(_DWORD *a1)
{
  int result; // eax

  if ( sub_488620((int)a1) )
    return -1;
  result = 0;
  a1[2] = 0;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
  a1[6] = 0;
  return result;
}

//----- (00488BD0) --------------------------------------------------------
int __cdecl sub_488BD0(_DWORD *a1)
{
  int result; // eax

  if ( sub_4883C0(a1) )
    return -1;
  result = 0;
  a1[85] = -1;
  a1[86] = 0;
  a1[88] = 0;
  a1[2] = 0;
  a1[3] = 0;
  a1[7] = 0;
  a1[8] = 0;
  a1[9] = 0;
  a1[81] = 0;
  a1[82] = 0;
  a1[83] = 0;
  a1[87] = 0;
  a1[89] = 0;
  return result;
}

//----- (00488C30) --------------------------------------------------------
int __cdecl sub_488C30(_DWORD *a1, int a2)
{
  if ( sub_4883C0(a1) )
    return -1;
  sub_488BD0(a1);
  a1[84] = a2;
  return 0;
}

//----- (00488C60) --------------------------------------------------------
int __cdecl sub_488C60(_DWORD *a1, _DWORD *a2)
{
  if ( sub_4883C0(a1) )
    return 0;
  else
    return sub_488C90(a1, a2, 1);
}

//----- (00488C90) --------------------------------------------------------
int __cdecl sub_488C90(_DWORD *a1, _DWORD *a2, int a3)
{
  int v4; // ebx
  int *v6; // ebp
  int v7; // ecx
  unsigned int v8; // kr00_4
  unsigned __int64 v9; // kr08_8
  int v10; // edi
  int v11; // edx
  int v12; // edx
  int v13; // edx
  int v14; // edx
  unsigned int v15; // kr04_4
  unsigned __int64 v16; // kr10_8
  int v17; // [esp+10h] [ebp+4h]

  v4 = a1[9];
  if ( a1[8] <= v4 )
    return 0;
  v6 = (int *)(a1[4] + 4 * v4);
  v7 = *v6;
  if ( (*v6 & 0x400) != 0 )
  {
    v8 = a1[86];
    a1[86] = v8 + 1;
    v9 = __PAIR64__(a1[87], v8) + 1;
    a1[9] = v4 + 1;
    a1[87] = HIDWORD(v9);
    return -1;
  }
  else if ( a2 || a3 )
  {
    v10 = (unsigned __int8)v7;
    v11 = *v6 & 0x200;
    v17 = v11;
    if ( (unsigned __int8)v7 == 255 )
    {
      do
      {
        v12 = v6[1];
        ++v6;
        ++v4;
        if ( (v12 & 0x200) != 0 )
          v17 = 512;
        v10 += (unsigned __int8)v12;
      }
      while ( (unsigned __int8)v12 == 255 );
      v11 = v17;
    }
    if ( a2 )
    {
      a2[3] = v11;
      a2[2] = v7 & 0x100;
      *a2 = *a1 + a1[3];
      a2[6] = a1[86];
      a2[7] = a1[87];
      v13 = a1[5];
      a2[4] = *(_DWORD *)(v13 + 8 * v4);
      v14 = *(_DWORD *)(v13 + 8 * v4 + 4);
      a2[1] = v10;
      a2[5] = v14;
    }
    if ( a3 )
    {
      v15 = a1[86];
      a1[3] += v10;
      a1[86] = v15 + 1;
      v16 = __PAIR64__(a1[87], v15) + 1;
      a1[9] = v4 + 1;
      a1[87] = HIDWORD(v16);
    }
    return 1;
  }
  else
  {
    return 1;
  }
}

//----- (00488DC0) --------------------------------------------------------
_BYTE *__cdecl sub_488DC0(_DWORD *a1)
{
  _BYTE *result; // eax

  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  a1[4] = 0;
  result = malloc(0x100u);
  a1[2] = result;
  a1[3] = result;
  *result = 0;
  a1[4] = 256;
  return result;
}

//----- (00488E00) --------------------------------------------------------
int __cdecl sub_488E00(int a1, int a2, unsigned int a3)
{
  int result; // eax
  char *v4; // eax
  int v5; // ebx
  char *v6; // ecx
  unsigned int v7; // eax
  int v8; // edi
  int v9; // edx
  int v10; // ecx

  if ( a3 > 0x20 )
    return sub_488F30(a1);
  result = *(_DWORD *)(a1 + 16);
  if ( *(_DWORD *)a1 < result - 4 )
    goto LABEL_7;
  if ( !*(_DWORD *)(a1 + 12) )
    return result;
  if ( result > 2147483391 )
    return sub_488F30(a1);
  v4 = (char *)realloc(*(void **)(a1 + 8), result + 256);
  if ( !v4 )
    return sub_488F30(a1);
  v5 = *(_DWORD *)(a1 + 16) + 256;
  v6 = &v4[*(_DWORD *)a1];
  *(_DWORD *)(a1 + 8) = v4;
  *(_DWORD *)(a1 + 16) = v5;
  *(_DWORD *)(a1 + 12) = v6;
LABEL_7:
  v7 = dword_4A9CF0[a3] & a2;
  v8 = *(_DWORD *)(a1 + 4) + a3;
  **(_BYTE **)(a1 + 12) |= (_BYTE)v7 << *(_DWORD *)(a1 + 4);
  if ( v8 >= 8 )
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 12) + 1) = v7 >> (8 - *(_DWORD *)(a1 + 4));
    if ( v8 >= 16 )
    {
      *(_BYTE *)(*(_DWORD *)(a1 + 12) + 2) = v7 >> (16 - *(_DWORD *)(a1 + 4));
      if ( v8 >= 24 )
      {
        *(_BYTE *)(*(_DWORD *)(a1 + 12) + 3) = v7 >> (24 - *(_DWORD *)(a1 + 4));
        if ( v8 >= 32 )
        {
          v9 = *(_DWORD *)(a1 + 4);
          if ( v9 )
            *(_BYTE *)(*(_DWORD *)(a1 + 12) + 4) = v7 >> (32 - v9);
          else
            *(_BYTE *)(*(_DWORD *)(a1 + 12) + 4) = 0;
        }
      }
    }
  }
  result = v8 / 8;
  v10 = v8 / 8 + *(_DWORD *)(a1 + 12);
  *(_DWORD *)a1 += v8 / 8;
  *(_DWORD *)(a1 + 4) = v8 & 7;
  *(_DWORD *)(a1 + 12) = v10;
  return result;
}
// 4A9CF0:  int dword_4A9CF0[42]

//----- (00488F30) --------------------------------------------------------
int __cdecl sub_488F30(int a1)
{
  int result; // eax

  if ( *(_DWORD *)(a1 + 8) )
    free(*(void **)(a1 + 8));
  result = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 12) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  return result;
}

//----- (00488F60) --------------------------------------------------------
_DWORD *__cdecl sub_488F60(_DWORD *a1, int a2, int a3)
{
  _DWORD *result; // eax

  result = a1;
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  a1[4] = 0;
  a1[3] = a2;
  a1[2] = a2;
  a1[4] = a3;
  return result;
}

//----- (00488F90) --------------------------------------------------------
int __cdecl sub_488F90(_DWORD *a1, unsigned int a2)
{
  int v2; // eax
  int v3; // edi
  int v4; // edx
  unsigned __int8 *v6; // esi
  int v7; // eax

  if ( a2 > 0x20 )
    return -1;
  v2 = a1[4];
  v3 = a1[1];
  v4 = v3 + a2;
  if ( *a1 >= v2 - 4 )
  {
    if ( *a1 <= v2 - ((v4 + 7) >> 3) )
    {
      if ( !v4 )
        return 0;
      goto LABEL_6;
    }
    return -1;
  }
LABEL_6:
  v6 = (unsigned __int8 *)a1[3];
  v7 = *v6 >> *((_BYTE *)a1 + 4);
  if ( v4 > 8 )
  {
    v7 |= v6[1] << (8 - v3);
    if ( v4 > 16 )
    {
      v7 |= v6[2] << (16 - v3);
      if ( v4 > 24 )
      {
        v7 |= v6[3] << (24 - v3);
        if ( v4 > 32 )
        {
          if ( v3 )
            v7 |= v6[4] << (32 - v3);
        }
      }
    }
  }
  return dword_4A9CF0[a2] & v7;
}
// 4A9CF0:  int dword_4A9CF0[42]

//----- (00489060) --------------------------------------------------------
int __cdecl sub_489060(int *a1, int a2)
{
  int v2; // edi
  int v3; // esi
  int result; // eax
  int v5; // eax
  int v6; // edx

  v2 = *a1;
  v3 = a1[1] + a2;
  result = a1[4];
  if ( *a1 <= result - ((v3 + 7) >> 3) )
  {
    v5 = a1[1] + a2;
    a1[1] = v3 & 7;
    v5 /= 8;
    v6 = v5 + a1[3];
    result = v2 + v5;
    a1[3] = v6;
    *a1 = result;
  }
  else
  {
    a1[3] = 0;
    *a1 = result;
    a1[1] = 1;
  }
  return result;
}

//----- (004890C0) --------------------------------------------------------
int __cdecl sub_4890C0(_DWORD *a1, unsigned int a2)
{
  int v3; // ecx
  int v4; // eax
  int v5; // esi
  unsigned __int8 *v7; // ebp
  int v8; // ebx
  int v9; // edx
  int v10; // [esp+14h] [ebp+8h]

  if ( a2 > 0x20 )
    goto LABEL_13;
  v3 = a1[4];
  v10 = dword_4A9CF0[a2];
  v4 = a1[1];
  v5 = v4 + a2;
  if ( *a1 >= v3 - 4 )
  {
    if ( *a1 <= v3 - ((v5 + 7) >> 3) )
    {
      if ( !v5 )
        return 0;
      goto LABEL_6;
    }
LABEL_13:
    v9 = a1[4];
    a1[3] = 0;
    *a1 = v9;
    a1[1] = 1;
    return -1;
  }
LABEL_6:
  v7 = (unsigned __int8 *)a1[3];
  v8 = *v7 >> *((_BYTE *)a1 + 4);
  if ( v5 > 8 )
  {
    v8 |= v7[1] << (8 - v4);
    if ( v5 > 16 )
    {
      v8 |= v7[2] << (16 - v4);
      if ( v5 > 24 )
      {
        v8 |= v7[3] << (24 - v4);
        if ( v5 > 32 )
        {
          if ( v4 )
            v8 |= v7[4] << (32 - v4);
        }
      }
    }
  }
  a1[1] = v5 & 7;
  a1[3] = &v7[v5 / 8];
  *a1 += v5 / 8;
  return v10 & v8;
}
// 4A9CF0:  int dword_4A9CF0[42]

//----- (004891D0) --------------------------------------------------------
int __cdecl sub_4891D0(_DWORD *a1)
{
  return *a1 + (a1[1] + 7) / 8;
}

//----- (0048A8A2) --------------------------------------------------------
void sub_48A8A2()
{
  _Init_atexit::~_Init_atexit((_Init_atexit *)&unk_500DB9);
}

//----- (0048A8AC) --------------------------------------------------------
void __cdecl sub_48A8AC()
{
  dword_500DC8[0] = &std::bad_alloc::`vftable';
  sub_45A57E(dword_500DC8);
}
// 48B474:  void *std::bad_alloc::`vftable'
// 500DC8:  _DWORD dword_500DC8[3]

// nfuncs=1898 queued=1289 decompiled=1289 lumina nreq=0 worse=0 better=0
#error "There were 3 decompilation failure(s) on 1289 function(s)"